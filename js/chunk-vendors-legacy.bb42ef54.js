(self["webpackChunktinymce6_vue"]=self["webpackChunktinymce6_vue"]||[]).push([[998],{396:function(t,e,n){"use strict";n.d(e,{Z:function(){return _}});var r=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],o=function(t){return-1!==r.map((function(t){return t.toLowerCase()})).indexOf(t.toLowerCase())},i=function(t,e,n){Object.keys(e).filter(o).forEach((function(r){var o=e[r];"function"===typeof o&&("onInit"===r?o(t,n):n.on(r.substring(2),(function(t){return o(t,n)})))}))},u=function(t,e){var n=t.$props.modelEvents?t.$props.modelEvents:null,r=Array.isArray(n)?n.join(" "):n;e.on(r||"change input undo redo",(function(){t.$emit("input",e.getContent({format:t.$props.outputFormat}))}))},a=function(t,e,n){var r=e.$props.value?e.$props.value:"",o=e.$props.initialValue?e.$props.initialValue:"";n.setContent(r||(e.initialized?e.cache:o)),e.$watch("value",(function(t,r){n&&"string"===typeof t&&t!==r&&t!==n.getContent({format:e.$props.outputFormat})&&n.setContent(t)})),e.$listeners.input&&u(e,n),i(t,e.$listeners,n),e.initialized=!0},c=0,s=function(t){var e=Date.now(),n=Math.floor(1e9*Math.random());return c++,t+"_"+n+c+String(e)},f=function(t){return null!==t&&"textarea"===t.tagName.toLowerCase()},l=function(t){return"undefined"===typeof t||""===t?[]:Array.isArray(t)?t:t.split(" ")},d=function(t,e){return l(t).concat(l(e))},m=function(t){return null===t||void 0===t},p=function(){return{listeners:[],scriptId:s("tiny-script"),scriptLoaded:!1}},g=function(){var t=p(),e=function(t,e,n,r){var o=e.createElement("script");o.referrerPolicy="origin",o.type="application/javascript",o.id=t,o.src=n;var i=function(){o.removeEventListener("load",i),r()};o.addEventListener("load",i),e.head&&e.head.appendChild(o)},n=function(n,r,o){t.scriptLoaded?o():(t.listeners.push(o),n.getElementById(t.scriptId)||e(t.scriptId,n,r,(function(){t.listeners.forEach((function(t){return t()})),t.scriptLoaded=!0})))},r=function(){t=p()};return{load:n,reinitialize:r}},v=g(),h=function(){return"undefined"!==typeof window?window:n.g},b=function(){var t=h();return t&&t.tinymce?t.tinymce:null},y={apiKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],value:String,disabled:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(t){return"html"===t||"text"===t}}},x=function(){return x=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},x.apply(this,arguments)},w=function(t,e,n){return t(n||"div",{attrs:{id:e}})},C=function(t,e){return t("textarea",{attrs:{id:e},style:{visibility:"hidden"}})},S=function(t){return function(){var e=x(x({},t.$props.init),{readonly:t.$props.disabled,selector:"#"+t.elementId,plugins:d(t.$props.init&&t.$props.init.plugins,t.$props.plugins),toolbar:t.$props.toolbar||t.$props.init&&t.$props.init.toolbar,inline:t.inlineEditor,setup:function(e){t.editor=e,e.on("init",(function(n){return a(n,t,e)})),t.$props.init&&"function"===typeof t.$props.init.setup&&t.$props.init.setup(e)}});f(t.element)&&(t.element.style.visibility="",t.element.style.display=""),b().init(e)}},k={props:y,created:function(){this.elementId=this.$props.id||s("tiny-vue"),this.inlineEditor=this.$props.init&&this.$props.init.inline||this.$props.inline,this.initialized=!1},watch:{disabled:function(){this.editor.setMode(this.disabled?"readonly":"design")}},mounted:function(){if(this.element=this.$el,null!==b())S(this)();else if(this.element&&this.element.ownerDocument){var t=this.$props.cloudChannel?this.$props.cloudChannel:"5",e=this.$props.apiKey?this.$props.apiKey:"no-api-key",n=m(this.$props.tinymceScriptSrc)?"https://cdn.tiny.cloud/1/"+e+"/tinymce/"+t+"/tinymce.min.js":this.$props.tinymceScriptSrc;v.load(this.element.ownerDocument,n,S(this))}},beforeDestroy:function(){null!==b()&&b().remove(this.editor)},deactivated:function(){var t;this.inlineEditor||(this.cache=this.editor.getContent(),null===(t=b())||void 0===t||t.remove(this.editor))},activated:function(){!this.inlineEditor&&this.initialized&&S(this)()},render:function(t){return this.inlineEditor?w(t,this.elementId,this.$props.tagName):C(t,this.elementId)}},_=k},1001:function(t,e,n){"use strict";function r(t,e,n,r,o,i,u,a){var c,s="function"===typeof t?t.options:t;if(e&&(s.render=e,s.staticRenderFns=n,s._compiled=!0),r&&(s.functional=!0),i&&(s._scopeId="data-v-"+i),u?(c=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(u)},s._ssrRegister=c):o&&(c=a?function(){o.call(this,(s.functional?this.parent:this).$root.$options.shadowRoot)}:o),c)if(s.functional){s._injectStyles=c;var f=s.render;s.render=function(t,e){return c.call(e),f(t,e)}}else{var l=s.beforeCreate;s.beforeCreate=l?[].concat(l,c):[c]}return{exports:t,options:s}}n.d(e,{Z:function(){return r}})},604:function(t,e,n){n(8407)},8407:function(t,e,n){var r=n(8853)["default"],o=n(2214)["default"],i=n(4982)["default"],u=n(6728)["default"],a=n(2046)["default"],c=n(1692)["default"];n(8309),n(2222),n(1703),n(6647),n(5212),n(1539),n(7042),n(2772),n(7658),n(5069),n(2707),n(7941),n(489),n(4916),n(7601),n(1249),n(5306),n(4678),n(7327),n(1058),n(9600),n(9653),n(4765),n(4723),n(9714),n(4603),n(8450),n(8386),n(3210),n(86),n(2564),function(){"use strict";var t=tinymce.util.Tools.resolve("tinymce.ModelManager"),e=function(t,e,n){var r;return!!n(t,e.prototype)||(null===(r=t.constructor)||void 0===r?void 0:r.name)===e.name},n=function(t){var n=c(t);return null===t?"null":"object"===n&&Array.isArray(t)?"array":"object"===n&&e(t,String,(function(t,e){return e.isPrototypeOf(t)}))?"string":n},s=function(t){return function(e){return n(e)===t}},f=function(t){return function(e){return c(e)===t}},l=function(t){return function(e){return t===e}},d=s("string"),m=s("object"),p=s("array"),g=l(null),v=f("boolean"),h=l(void 0),b=function(t){return null===t||void 0===t},y=function(t){return!b(t)},x=f("function"),w=f("number"),C=function(){},S=function(t,e){return function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t(e.apply(null,r))}},k=function(t,e){return function(n){return t(e(n))}},_=function(t){return function(){return t}},E=function(t){return t},O=function(t,e){return t===e};function T(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];var i=n.concat(r);return t.apply(null,i)}}var A=function(t){return function(e){return!t(e)}},R=function(t){return function(){throw new Error(t)}},N=function(t){return t()},D=_(!1),B=_(!0),M=function(){function t(e,n){u(this,t),this.tag=e,this.value=n}return a(t,[{key:"fold",value:function(t,e){return this.tag?e(this.value):t()}},{key:"isSome",value:function(){return this.tag}},{key:"isNone",value:function(){return!this.tag}},{key:"map",value:function(e){return this.tag?t.some(e(this.value)):t.none()}},{key:"bind",value:function(e){return this.tag?e(this.value):t.none()}},{key:"exists",value:function(t){return this.tag&&t(this.value)}},{key:"forall",value:function(t){return!this.tag||t(this.value)}},{key:"filter",value:function(e){return!this.tag||e(this.value)?this:t.none()}},{key:"getOr",value:function(t){return this.tag?this.value:t}},{key:"or",value:function(t){return this.tag?this:t}},{key:"getOrThunk",value:function(t){return this.tag?this.value:t()}},{key:"orThunk",value:function(t){return this.tag?this:t()}},{key:"getOrDie",value:function(t){if(this.tag)return this.value;throw new Error(null!==t&&void 0!==t?t:"Called getOrDie on None")}},{key:"getOrNull",value:function(){return this.tag?this.value:null}},{key:"getOrUndefined",value:function(){return this.value}},{key:"each",value:function(t){this.tag&&t(this.value)}},{key:"toArray",value:function(){return this.tag?[this.value]:[]}},{key:"toString",value:function(){return this.tag?"some(".concat(this.value,")"):"none()"}}],[{key:"some",value:function(e){return new t(!0,e)}},{key:"none",value:function(){return t.singletonNone}},{key:"from",value:function(e){return y(e)?t.some(e):t.none()}}]),t}();M.singletonNone=new M(!1);var I=Array.prototype.slice,P=Array.prototype.indexOf,L=Array.prototype.push,F=function(t,e){return P.call(t,e)},j=function(t,e){return F(t,e)>-1},z=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n];if(e(o,n))return!0}return!1},U=function(t,e){for(var n=[],r=0;r<t;r++)n.push(e(r));return n},H=function(t,e){for(var n=t.length,r=new Array(n),o=0;o<n;o++){var i=t[o];r[o]=e(i,o)}return r},V=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n];e(o,n)}},W=function(t,e){for(var n=t.length-1;n>=0;n--){var r=t[n];e(r,n)}},$=function(t,e){for(var n=[],r=[],o=0,i=t.length;o<i;o++){var u=t[o],a=e(u,o)?n:r;a.push(u)}return{pass:n,fail:r}},q=function(t,e){for(var n=[],r=0,o=t.length;r<o;r++){var i=t[r];e(i,r)&&n.push(i)}return n},G=function(t,e,n){return W(t,(function(t,r){n=e(n,t,r)})),n},K=function(t,e,n){return V(t,(function(t,r){n=e(n,t,r)})),n},Y=function(t,e,n){for(var r=0,o=t.length;r<o;r++){var i=t[r];if(e(i,r))return M.some(i);if(n(i,r))break}return M.none()},X=function(t,e){return Y(t,e,D)},J=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n];if(e(o,n))return M.some(n)}return M.none()},Q=function(t){for(var e=[],n=0,r=t.length;n<r;++n){if(!p(t[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+t);L.apply(e,t[n])}return e},Z=function(t,e){return Q(H(t,e))},tt=function(t,e){for(var n=0,r=t.length;n<r;++n){var o=t[n];if(!0!==e(o,n))return!1}return!0},et=function(t){var e=I.call(t,0);return e.reverse(),e},nt=function(t,e){for(var n={},r=0,o=t.length;r<o;r++){var i=t[r];n[String(i)]=e(i,r)}return n},rt=function(t,e){var n=I.call(t,0);return n.sort(e),n},ot=function(t,e){return e>=0&&e<t.length?M.some(t[e]):M.none()},it=function(t){return ot(t,0)},ut=function(t){return ot(t,t.length-1)},at=function(t,e){for(var n=0;n<t.length;n++){var r=e(t[n],n);if(r.isSome())return r}return M.none()},ct=Object.keys,st=Object.hasOwnProperty,ft=function(t,e){for(var n=ct(t),r=0,o=n.length;r<o;r++){var i=n[r],u=t[i];e(u,i)}},lt=function(t,e){return dt(t,(function(t,n){return{k:n,v:e(t,n)}}))},dt=function(t,e){var n={};return ft(t,(function(t,r){var o=e(t,r);n[o.k]=o.v})),n},mt=function(t){return function(e,n){t[n]=e}},pt=function(t,e,n,r){ft(t,(function(t,o){(e(t,o)?n:r)(t,o)}))},gt=function(t,e){var n={};return pt(t,e,mt(n),C),n},vt=function(t,e){var n=[];return ft(t,(function(t,r){n.push(e(t,r))})),n},ht=function(t){return vt(t,E)},bt=function(t,e){return yt(t,e)?M.from(t[e]):M.none()},yt=function(t,e){return st.call(t,e)},xt=function(t,e){return yt(t,e)&&void 0!==t[e]&&null!==t[e]},wt=function(t){for(var e in t)if(st.call(t,e))return!1;return!0},Ct="undefined"!==typeof window?window:Function("return this;")(),St=function(t,e){for(var n=void 0!==e&&null!==e?e:Ct,r=0;r<t.length&&void 0!==n&&null!==n;++r)n=n[t[r]];return n},kt=function(t,e){var n=t.split(".");return St(n,e)},_t=function(t,e){return kt(t,e)},Et=function(t,e){var n=_t(t,e);if(void 0===n||null===n)throw new Error(t+" not available on this browser");return n},Ot=Object.getPrototypeOf,Tt=function(t){return Et("HTMLElement",t)},At=function(t){var e=kt("ownerDocument.defaultView",t);return m(t)&&(Tt(e).prototype.isPrototypeOf(t)||/^HTML\w*Element$/.test(Ot(t).constructor.name))},Rt=8,Nt=9,Dt=11,Bt=1,Mt=3,It=function(t){var e=t.dom.nodeName;return e.toLowerCase()},Pt=function(t){return t.dom.nodeType},Lt=function(t){return function(e){return Pt(e)===t}},Ft=function(t){return Pt(t)===Rt||"#comment"===It(t)},jt=function(t){return zt(t)&&At(t.dom)},zt=Lt(Bt),Ut=Lt(Mt),Ht=Lt(Nt),Vt=Lt(Dt),Wt=function(t){return function(e){return zt(e)&&It(e)===t}},$t=function(t,e,n){if(!(d(n)||v(n)||w(n)))throw console.error("Invalid call to Attribute.set. Key ",e,":: Value ",n,":: Element ",t),new Error("Attribute value was not simple");t.setAttribute(e,n+"")},qt=function(t,e,n){$t(t.dom,e,n)},Gt=function(t,e){var n=t.dom;ft(e,(function(t,e){$t(n,e,t)}))},Kt=function(t,e){ft(e,(function(e,n){e.fold((function(){Jt(t,n)}),(function(e){$t(t.dom,n,e)}))}))},Yt=function(t,e){var n=t.dom.getAttribute(e);return null===n?void 0:n},Xt=function(t,e){return M.from(Yt(t,e))},Jt=function(t,e){t.dom.removeAttribute(e)},Qt=function(t){return K(t.dom.attributes,(function(t,e){return t[e.name]=e.value,t}),{})},Zt=function(t,e){var n=e||document,r=n.createElement("div");if(r.innerHTML=t,!r.hasChildNodes()||r.childNodes.length>1){var o="HTML does not have a single root node";throw console.error(o,t),new Error(o)}return ne(r.childNodes[0])},te=function(t,e){var n=e||document,r=n.createElement(t);return ne(r)},ee=function(t,e){var n=e||document,r=n.createTextNode(t);return ne(r)},ne=function(t){if(null===t||void 0===t)throw new Error("Node cannot be null or undefined");return{dom:t}},re=function(t,e,n){return M.from(t.dom.elementFromPoint(e,n)).map(ne)},oe={fromHtml:Zt,fromTag:te,fromText:ee,fromDom:ne,fromPoint:re},ie=function(t,e){var n=t.dom;if(n.nodeType!==Bt)return!1;var r=n;if(void 0!==r.matches)return r.matches(e);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(e);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(e);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(e);throw new Error("Browser lacks native selectors")},ue=function(t){return t.nodeType!==Bt&&t.nodeType!==Nt&&t.nodeType!==Dt||0===t.childElementCount},ae=function(t,e){var n=void 0===e?document:e.dom;return ue(n)?[]:H(n.querySelectorAll(t),oe.fromDom)},ce=function(t,e){var n=void 0===e?document:e.dom;return ue(n)?M.none():M.from(n.querySelector(t)).map(oe.fromDom)},se=function(t,e){return t.dom===e.dom},fe=function(t,e){var n=t.dom,r=e.dom;return n!==r&&n.contains(r)},le=ie,de=function(t){return oe.fromDom(t.dom.ownerDocument)},me=function(t){return Ht(t)?t:de(t)},pe=function(t){return oe.fromDom(me(t).dom.documentElement)},ge=function(t){return oe.fromDom(me(t).dom.defaultView)},ve=function(t){return M.from(t.dom.parentNode).map(oe.fromDom)},he=function(t){return M.from(t.dom.parentElement).map(oe.fromDom)},be=function(t,e){var n=x(e)?e:D,r=t.dom,o=[];while(null!==r.parentNode&&void 0!==r.parentNode){var i=r.parentNode,u=oe.fromDom(i);if(o.push(u),!0===n(u))break;r=i}return o},ye=function(t){return M.from(t.dom.previousSibling).map(oe.fromDom)},xe=function(t){return M.from(t.dom.nextSibling).map(oe.fromDom)},we=function(t){return H(t.dom.childNodes,oe.fromDom)},Ce=function(t,e){var n=t.dom.childNodes;return M.from(n[e]).map(oe.fromDom)},Se=function(t){return Ce(t,0)},ke=function(t,e){var n=ve(t);n.each((function(n){n.dom.insertBefore(e.dom,t.dom)}))},_e=function(t,e){var n=xe(t);n.fold((function(){var n=ve(t);n.each((function(t){Oe(t,e)}))}),(function(t){ke(t,e)}))},Ee=function(t,e){var n=Se(t);n.fold((function(){Oe(t,e)}),(function(n){t.dom.insertBefore(e.dom,n.dom)}))},Oe=function(t,e){t.dom.appendChild(e.dom)},Te=function(t,e,n){Ce(t,n).fold((function(){Oe(t,e)}),(function(t){ke(t,e)}))},Ae=function(t,e){ke(t,e),Oe(e,t)},Re=function(t,e){V(e,(function(n,r){var o=0===r?t:e[r-1];_e(o,n)}))},Ne=function(t,e){V(e,(function(e){Oe(t,e)}))},De=function(t){t.dom.textContent="",V(we(t),(function(t){Be(t)}))},Be=function(t){var e=t.dom;null!==e.parentNode&&e.parentNode.removeChild(e)},Me=function(t){var e=we(t);e.length>0&&Re(t,e),Be(t)},Ie=function(t,e){return oe.fromDom(t.dom.cloneNode(e))},Pe=function(t){return Ie(t,!1)},Le=function(t){return Ie(t,!0)},Fe=function(t,e){var n=oe.fromTag(e),r=Qt(t);return Gt(n,r),n},je=function(t,e){var n=Fe(t,e),r=we(Le(t));return Ne(n,r),n},ze=function(t,e){var n=Fe(t,e);_e(t,n);var r=we(t);return Ne(n,r),Be(t),n},Ue=["tfoot","thead","tbody","colgroup"],He=function(t){return j(Ue,t)},Ve=function(t,e){return{rows:t,columns:e}},We=function(t,e){return{row:t,column:e}},$e=function(t,e,n){return{element:t,rowspan:e,colspan:n}},qe=function(t,e,n,r){return{element:t,rowspan:e,colspan:n,isNew:r}},Ge=function(t,e,n,r,o,i){return{element:t,rowspan:e,colspan:n,row:r,column:o,isLocked:i}},Ke=function(t,e,n){return{element:t,cells:e,section:n}},Ye=function(t,e,n,r){return{element:t,cells:e,section:n,isNew:r}},Xe=function(t,e,n){return{element:t,isNew:e,isLocked:n}},Je=function(t,e,n,r){return{element:t,cells:e,section:n,isNew:r}},Qe=function(t,e,n,r){return{startRow:t,startCol:e,finishRow:n,finishCol:r}},Ze=function(t,e,n){return{element:t,colspan:e,column:n}},tn=function(t,e){return{element:t,columns:e}},en=function(t){return Vt(t)&&y(t.dom.host)},nn=x(Element.prototype.attachShadow)&&x(Node.prototype.getRootNode),rn=_(nn),on=nn?function(t){return oe.fromDom(t.dom.getRootNode())}:me,un=function(t){var e=on(t);return en(e)?M.some(e):M.none()},an=function(t){return oe.fromDom(t.dom.host)},cn=function(t){if(rn()&&y(t.target)){var e=oe.fromDom(t.target);if(zt(e)&&sn(e)&&t.composed&&t.composedPath){var n=t.composedPath();if(n)return it(n)}}return M.from(t.target)},sn=function(t){return y(t.dom.shadowRoot)},fn=function t(e){var n=Ut(e)?e.dom.parentNode:e.dom;if(void 0===n||null===n||null===n.ownerDocument)return!1;var r=n.ownerDocument;return un(oe.fromDom(n)).fold((function(){return r.body.contains(n)}),k(t,an))},ln=function(){return dn(oe.fromDom(document))},dn=function(t){var e=t.dom.body;if(null===e||void 0===e)throw new Error("Body is not available yet");return oe.fromDom(e)},mn=function(t,e,n){return q(be(t,n),e)},pn=function(t,e){return q(we(t),e)},gn=function t(e,n){var r=[];return V(we(e),(function(e){n(e)&&(r=r.concat([e])),r=r.concat(t(e,n))})),r},vn=function(t,e,n){return mn(t,(function(t){return ie(t,e)}),n)},hn=function(t,e){return pn(t,(function(t){return ie(t,e)}))},bn=function(t,e){return ae(e,t)},yn=function(t,e,n,r,o){return t(n,r)?M.some(n):x(o)&&o(n)?M.none():e(n,r,o)},xn=function(t,e,n){var r=t.dom,o=x(n)?n:D;while(r.parentNode){r=r.parentNode;var i=oe.fromDom(r);if(e(i))return M.some(i);if(o(i))break}return M.none()},wn=function(t,e,n){var r=function(t,e){return e(t)};return yn(r,xn,t,e,n)},Cn=function(t,e){var n=function(t){return e(oe.fromDom(t))},r=X(t.dom.childNodes,n);return r.map(oe.fromDom)},Sn=function(t,e){var n=function t(n){for(var r=0;r<n.childNodes.length;r++){var o=oe.fromDom(n.childNodes[r]);if(e(o))return M.some(o);var i=t(n.childNodes[r]);if(i.isSome())return i}return M.none()};return n(t.dom)},kn=function(t,e,n){return xn(t,(function(t){return ie(t,e)}),n)},_n=function(t,e){return Cn(t,(function(t){return ie(t,e)}))},En=function(t,e){return ce(e,t)},On=function(t,e,n){var r=function(t,e){return ie(t,e)};return yn(r,kn,t,e,n)},Tn=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:O;return t.exists((function(t){return n(t,e)}))},An=function(t){for(var e=[],n=function(t){e.push(t)},r=0;r<t.length;r++)t[r].each(n);return e},Rn=function(t,e){return void 0!==t&&null!==t?e(t):M.none()},Nn=function(t,e){return t?M.some(e):M.none()},Dn=function(t,e,n){return""===e||t.length>=e.length&&t.substr(n,n+e.length)===e},Bn=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3?arguments[3]:void 0,o=t.indexOf(e,n);return-1!==o&&(!!h(r)||o+e.length<=r)},Mn=function(t,e){return Dn(t,e,0)},In=function(t,e){return Dn(t,e,t.length-e.length)},Pn=function(t){return function(e){return e.replace(t,"")}},Ln=Pn(/^\s+|\s+$/g),Fn=function(t){return t.length>0},jn=function(t){var e=parseFloat(t);return isNaN(e)?M.none():M.some(e)},zn=function(t){return void 0!==t.style&&x(t.style.getPropertyValue)},Un=function(t,e,n){if(!d(n))throw console.error("Invalid call to CSS.set. Property ",e,":: Value ",n,":: Element ",t),new Error("CSS value must be a string: "+n);zn(t)&&t.style.setProperty(e,n)},Hn=function(t,e){zn(t)&&t.style.removeProperty(e)},Vn=function(t,e,n){var r=t.dom;Un(r,e,n)},Wn=function(t,e){var n=t.dom;ft(e,(function(t,e){Un(n,e,t)}))},$n=function(t,e){var n=t.dom,r=window.getComputedStyle(n),o=r.getPropertyValue(e);return""!==o||fn(t)?o:qn(n,e)},qn=function(t,e){return zn(t)?t.style.getPropertyValue(e):""},Gn=function(t,e){var n=t.dom,r=qn(n,e);return M.from(r).filter((function(t){return t.length>0}))},Kn=function(t,e){var n=t.dom;Hn(n,e),Tn(Xt(t,"style").map(Ln),"")&&Jt(t,"style")},Yn=function(t,e){var n=t.dom,r=e.dom;zn(n)&&zn(r)&&(r.style.cssText=n.style.cssText)},Xn=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Xt(t,e).map((function(t){return parseInt(t,10)})).getOr(n)},Jn=function(t,e){return Xn(t,e,1)},Qn=function(t){return Wt("col")(t)?Xn(t,"span",1)>1:Jn(t,"colspan")>1},Zn=function(t){return Jn(t,"rowspan")>1},tr=function(t,e){return parseInt($n(t,e),10)},er=_(10),nr=_(10),rr=function(t,e){return or(t,e,B)},or=function t(e,n,r){return Z(we(e),(function(e){return ie(e,n)?r(e)?[e]:[]:t(e,n,r)}))},ir=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:D;if(n(e))return M.none();if(j(t,It(e)))return M.some(e);var r=function(t){return ie(t,"table")||n(t)};return kn(e,t.join(","),r)},ur=function(t,e){return ir(["td","th"],t,e)},ar=function(t){return rr(t,"th,td")},cr=function(t){return ie(t,"colgroup")?hn(t,"col"):Z(lr(t),(function(t){return hn(t,"col")}))},sr=function(t,e){return On(t,"table",e)},fr=function(t){return rr(t,"tr")},lr=function(t){return sr(t).fold(_([]),(function(t){return hn(t,"colgroup")}))},dr=function(t,e){return H(t,(function(t){if("colgroup"===It(t)){var n=H(cr(t),(function(t){var e=Xn(t,"span",1);return $e(t,1,e)}));return Ke(t,n,"colgroup")}var r=H(ar(t),(function(t){var e=Xn(t,"rowspan",1),n=Xn(t,"colspan",1);return $e(t,e,n)}));return Ke(t,r,e(t))}))},mr=function(t){return ve(t).map((function(t){var e=It(t);return He(e)?e:"tbody"})).getOr("tbody")},pr=function(t){var e=fr(t),n=lr(t),r=[].concat(i(n),i(e));return dr(r,mr)},gr=function(t,e){return dr(t,(function(){return e}))},vr=function(t){var e,n=!1;return function(){if(!n){n=!0;for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];e=t.apply(null,o)}return e}},hr=function(t,e,n,r){var o=t.isiOS()&&!0===/ipad/i.test(n),i=t.isiOS()&&!o,u=t.isiOS()||t.isAndroid(),a=u||r("(pointer:coarse)"),c=o||!i&&u&&r("(min-device-width:768px)"),s=i||u&&!c,f=e.isSafari()&&t.isiOS()&&!1===/safari/i.test(n),l=!s&&!c&&!f;return{isiPad:_(o),isiPhone:_(i),isTablet:_(c),isPhone:_(s),isTouch:_(a),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:_(f),isDesktop:_(l)}},br=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r.test(e))return r}},yr=function(t,e){var n=br(t,e);if(!n)return{major:0,minor:0};var r=function(t){return Number(e.replace(n,"$"+t))};return Cr(r(1),r(2))},xr=function(t,e){var n=String(e).toLowerCase();return 0===t.length?wr():yr(t,n)},wr=function(){return Cr(0,0)},Cr=function(t,e){return{major:t,minor:e}},Sr={nu:Cr,detect:xr,unknown:wr},kr=function(t,e){return at(e.brands,(function(e){var n=e.brand.toLowerCase();return X(t,(function(t){var e;return n===(null===(e=t.brand)||void 0===e?void 0:e.toLowerCase())})).map((function(t){return{current:t.name,version:Sr.nu(parseInt(e.version,10),0)}}))}))},_r=function(t,e){var n=String(e).toLowerCase();return X(t,(function(t){return t.search(n)}))},Er=function(t,e){return _r(t,e).map((function(t){var n=Sr.detect(t.versionRegexes,e);return{current:t.name,version:n}}))},Or=function(t,e){return _r(t,e).map((function(t){var n=Sr.detect(t.versionRegexes,e);return{current:t.name,version:n}}))},Tr=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Ar=function(t){return function(e){return Bn(e,t)}},Rr=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(t){return Bn(t,"edge/")&&Bn(t,"chrome")&&Bn(t,"safari")&&Bn(t,"applewebkit")}},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Tr],search:function(t){return Bn(t,"chrome")&&!Bn(t,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(t){return Bn(t,"msie")||Bn(t,"trident")}},{name:"Opera",versionRegexes:[Tr,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Ar("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Ar("firefox")},{name:"Safari",versionRegexes:[Tr,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(t){return(Bn(t,"safari")||Bn(t,"mobile/"))&&Bn(t,"applewebkit")}}],Nr=[{name:"Windows",search:Ar("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(t){return Bn(t,"iphone")||Bn(t,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Ar("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Ar("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Ar("linux"),versionRegexes:[]},{name:"Solaris",search:Ar("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Ar("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Ar("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Dr={browsers:_(Rr),oses:_(Nr)},Br="Edge",Mr="Chromium",Ir="IE",Pr="Opera",Lr="Firefox",Fr="Safari",jr=function(){return zr({current:void 0,version:Sr.unknown()})},zr=function(t){var e=t.current,n=t.version,r=function(t){return function(){return e===t}};return{current:e,version:n,isEdge:r(Br),isChromium:r(Mr),isIE:r(Ir),isOpera:r(Pr),isFirefox:r(Lr),isSafari:r(Fr)}},Ur={unknown:jr,nu:zr,edge:_(Br),chromium:_(Mr),ie:_(Ir),opera:_(Pr),firefox:_(Lr),safari:_(Fr)},Hr="Windows",Vr="iOS",Wr="Android",$r="Linux",qr="macOS",Gr="Solaris",Kr="FreeBSD",Yr="ChromeOS",Xr=function(){return Jr({current:void 0,version:Sr.unknown()})},Jr=function(t){var e=t.current,n=t.version,r=function(t){return function(){return e===t}};return{current:e,version:n,isWindows:r(Hr),isiOS:r(Vr),isAndroid:r(Wr),isMacOS:r(qr),isLinux:r($r),isSolaris:r(Gr),isFreeBSD:r(Kr),isChromeOS:r(Yr)}},Qr={unknown:Xr,nu:Jr,windows:_(Hr),ios:_(Vr),android:_(Wr),linux:_($r),macos:_(qr),solaris:_(Gr),freebsd:_(Kr),chromeos:_(Yr)},Zr=function(t,e,n){var r=Dr.browsers(),o=Dr.oses(),i=e.bind((function(t){return kr(r,t)})).orThunk((function(){return Er(r,t)})).fold(Ur.unknown,Ur.nu),u=Or(o,t).fold(Qr.unknown,Qr.nu),a=hr(u,i,t,n);return{browser:i,os:u,deviceType:a}},to={detect:Zr},eo=function(t){return window.matchMedia(t).matches},no=vr((function(){return to.detect(navigator.userAgent,M.from(navigator.userAgentData),eo)})),ro=function(){return no()},oo=function(t,e){var n=function(e,n){if(!w(n)&&!n.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+n);var r=e.dom;zn(r)&&(r.style[t]=n+"px")},r=function(n){var r=e(n);if(r<=0||null===r){var o=$n(n,t);return parseFloat(o)||0}return r},o=r,i=function(t,e){return K(e,(function(e,n){var r=$n(t,n),o=void 0===r?0:parseInt(r,10);return isNaN(o)?e:e+o}),0)},u=function(t,e,n){var r=i(t,n),o=e>r?e-r:0;return o};return{set:n,get:r,getOuter:o,aggregate:i,max:u}},io=function(t,e){return jn(t).getOr(e)},uo=function(t,e,n){return io($n(t,e),n)},ao=function(t,e,n,r){var o=uo(t,"padding-".concat(n),0),i=uo(t,"padding-".concat(r),0),u=uo(t,"border-".concat(n,"-width"),0),a=uo(t,"border-".concat(r,"-width"),0);return e-o-i-u-a},co=function(t,e){var n=t.dom,r=n.getBoundingClientRect().width||n.offsetWidth;return"border-box"===e?r:ao(t,r,"left","right")},so=function(t){return uo(t,"height",t.dom.offsetHeight)},fo=function(t){return uo(t,"width",t.dom.offsetWidth)},lo=function(t){return co(t,"content-box")},mo=oo("width",(function(t){return t.dom.offsetWidth})),po=function(t){return mo.get(t)},go=function(t){return mo.getOuter(t)},vo=lo,ho=fo,bo=function(t,e,n){var r=t.cells,o=r.slice(0,e),i=r.slice(e),u=o.concat(n).concat(i);return wo(t,u)},yo=function(t,e,n){return bo(t,e,[n])},xo=function(t,e,n){var r=t.cells;r[e]=n},wo=function(t,e){return Je(t.element,e,t.section,t.isNew)},Co=function(t,e){var n=t.cells,r=H(n,e);return Je(t.element,r,t.section,t.isNew)},So=function(t,e){return t.cells[e]},ko=function(t,e){return So(t,e).element},_o=function(t){return t.cells.length},Eo=function(t){var e=$(t,(function(t){return"colgroup"===t.section}));return{rows:e.fail,cols:e.pass}},Oo=function(t,e,n){var r=H(t.cells,n);return Je(e(t.element),r,t.section,!0)},To="data-snooker-locked-cols",Ao=function(t){return Xt(t,To).bind((function(t){return M.from(t.match(/\d+/g))})).map((function(t){return nt(t,B)}))},Ro=function(t){var e=K(Eo(t).rows,(function(t,e){return V(e.cells,(function(e,n){e.isLocked&&(t[n]=!0)})),t}),{}),n=vt(e,(function(t,e){return parseInt(e,10)}));return rt(n)},No=function(t,e){return t+","+e},Do=function(t,e,n){return M.from(t.access[No(e,n)])},Bo=function(t,e,n){var r=Mo(t,(function(t){return n(e,t.element)}));return r.length>0?M.some(r[0]):M.none()},Mo=function(t,e){var n=Z(t.all,(function(t){return t.cells}));return q(n,e)},Io=function(t){var e={},n=0;return V(t.cells,(function(t){var r=t.colspan;U(r,(function(o){var i=n+o;e[i]=Ze(t.element,r,i)})),n+=r})),e},Po=function(t){var e={},n=[],r=it(t).map((function(t){return t.element})).bind(sr),o=r.bind(Ao).getOr({}),i=0,u=0,a=0,c=$(t,(function(t){return"colgroup"===t.section})),s=c.pass,f=c.fail;V(f,(function(t){var r=[];V(t.cells,(function(t){var n=0;while(void 0!==e[No(a,n)])n++;for(var i=xt(o,n.toString()),c=Ge(t.element,t.rowspan,t.colspan,a,n,i),s=0;s<t.colspan;s++)for(var f=0;f<t.rowspan;f++){var l=a+f,d=n+s,m=No(l,d);e[m]=c,u=Math.max(u,d+1)}r.push(c)})),i++,n.push(Ke(t.element,r,t.section)),a++}));var l=ut(s).map((function(t){var e=Io(t),n=tn(t.element,ht(e));return{colgroups:[n],columns:e}})).getOrThunk((function(){return{colgroups:[],columns:{}}})),d=l.columns,m=l.colgroups,p=Ve(i,u);return{grid:p,access:e,all:n,columns:d,colgroups:m}},Lo=function(t){var e=pr(t);return Po(e)},Fo=function(t){return Z(t.all,(function(t){return t.cells}))},jo=function(t){return ht(t.columns)},zo=function(t){return ct(t.columns).length>0},Uo=function(t,e){return M.from(t.columns[e])},Ho={fromTable:Lo,generate:Po,getAt:Do,findItem:Bo,filterItems:Mo,justCells:Fo,justColumns:jo,hasColumns:zo,getColumnAt:Uo},Vo=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:B,n=t.grid,r=U(n.columns,E),o=U(n.rows,E);return H(r,(function(n){var r=function(){return Z(o,(function(e){return Ho.getAt(t,e,n).filter((function(t){return t.column===n})).toArray()}))},i=function(t){return 1===t.colspan&&e(t.element)},u=function(){return Ho.getAt(t,0,n)};return Wo(r,i,u)}))},Wo=function(t,e,n){var r=t(),o=X(r,e),i=o.orThunk((function(){return M.from(r[0]).orThunk(n)}));return i.map((function(t){return t.element}))},$o=function(t){var e=t.grid,n=U(e.rows,E),r=U(e.columns,E);return H(n,(function(e){var n=function(){return Z(r,(function(n){return Ho.getAt(t,e,n).filter((function(t){return t.row===e})).fold(_([]),(function(t){return[t]}))}))},o=function(t){return 1===t.rowspan},i=function(){return Ho.getAt(t,e,0)};return Wo(n,o,i)}))},qo=function(t,e){if(e<0||e>=t.length-1)return M.none();var n=t[e].fold((function(){var n=et(t.slice(0,e));return at(n,(function(t,e){return t.map((function(t){return{value:t,delta:e+1}}))}))}),(function(t){return M.some({value:t,delta:0})})),r=t[e+1].fold((function(){var n=t.slice(e+1);return at(n,(function(t,e){return t.map((function(t){return{value:t,delta:e+1}}))}))}),(function(t){return M.some({value:t,delta:1})}));return n.bind((function(t){return r.map((function(e){var n=e.delta+t.delta;return Math.abs(e.value-t.value)/n}))}))},Go=function(t,e){return function(n){return"rtl"===Ko(n)?e:t}},Ko=function(t){return"rtl"===$n(t,"direction")?"rtl":"ltr"},Yo=oo("height",(function(t){var e=t.dom;return fn(t)?e.getBoundingClientRect().height:e.offsetHeight})),Xo=function(t){return Yo.get(t)},Jo=function(t){return Yo.getOuter(t)},Qo=so,Zo=function t(e,n){var r=function(r,o){return t(e+r,n+o)};return{left:e,top:n,translate:r}},ti=Zo,ei=function(t){var e=t.getBoundingClientRect();return ti(e.left,e.top)},ni=function(t,e){return void 0!==t?t:void 0!==e?e:0},ri=function(t){var e=t.dom.ownerDocument,n=e.body,r=e.defaultView,o=e.documentElement;if(n===t.dom)return ti(n.offsetLeft,n.offsetTop);var i=ni(null===r||void 0===r?void 0:r.pageYOffset,o.scrollTop),u=ni(null===r||void 0===r?void 0:r.pageXOffset,o.scrollLeft),a=ni(o.clientTop,n.clientTop),c=ni(o.clientLeft,n.clientLeft);return oi(t).translate(u-c,i-a)},oi=function(t){var e=t.dom,n=e.ownerDocument,r=n.body;return r===e?ti(r.offsetLeft,r.offsetTop):fn(t)?ei(e):ti(0,0)},ii=function(t,e){return{row:t,y:e}},ui=function(t,e){return{col:t,x:e}},ai=function(t){var e=ri(t);return e.left+go(t)},ci=function(t){return ri(t).left},si=function(t,e){return ui(t,ci(e))},fi=function(t,e){return ui(t,ai(e))},li=function(t){return ri(t).top},di=function(t,e){return ii(t,li(e))},mi=function(t,e){return ii(t,li(e)+Jo(e))},pi=function(t,e,n){if(0===n.length)return[];var r=H(n.slice(1),(function(e,n){return e.map((function(e){return t(n,e)}))})),o=n[n.length-1].map((function(t){return e(n.length-1,t)}));return r.concat([o])},gi=function(t){return-t},vi={delta:E,positions:function(t){return pi(di,mi,t)},edge:li},hi={delta:E,edge:ci,positions:function(t){return pi(si,fi,t)}},bi={delta:gi,edge:ai,positions:function(t){return pi(fi,si,t)}},yi=Go(hi,bi),xi={delta:function(t,e){return yi(e).delta(t,e)},positions:function(t,e){return yi(e).positions(t,e)},edge:function(t){return yi(t).edge(t)}},wi={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},Ci=function(){var t="[0-9]+",e="[+-]?"+t,n="[eE]"+e,r="\\.",o=function(t){return"(?:".concat(t,")?")},i=["Infinity",t+r+o(t)+o(n),r+t+o(n),t+o(n)].join("|"),u="[+-]?(?:".concat(i,")");return new RegExp("^(".concat(u,")(.*)$"))}(),Si=function(t,e){return z(e,(function(e){return z(wi[e],(function(e){return t===e}))}))},ki=function(t,e){var n=M.from(Ci.exec(t));return n.bind((function(t){var n=Number(t[1]),r=t[2];return Si(r,e)?M.some({value:n,unit:r}):M.none()}))},_i=/(\d+(\.\d+)?)%/,Ei=/(\d+(\.\d+)?)px|em/,Oi=Wt("col"),Ti=function(t,e,n){var r=he(t).getOrThunk((function(){return dn(de(t))}));return e(t)/n(r)*100},Ai=function(t,e){Vn(t,"width",e+"px")},Ri=function(t,e){Vn(t,"width",e+"%")},Ni=function(t,e){Vn(t,"height",e+"px")},Di=function(t){return Qo(t)+"px"},Bi=function(t,e,n,r){var o=sr(t).map((function(t){var r=n(t);return Math.floor(e/100*r)})).getOr(e);return r(t,o),o},Mi=function(t,e,n,r){var o=parseFloat(t);return In(t,"%")&&"table"!==It(e)?Bi(e,o,n,r):o},Ii=function(t){var e=Di(t);return e?Mi(e,t,Xo,Ni):Xo(t)},Pi=function(t,e,n){var r=n(t),o=Jn(t,e);return r/o},Li=function(t,e){return Gn(t,e).orThunk((function(){return Xt(t,e).map((function(t){return t+"px"}))}))},Fi=function(t){return Li(t,"width")},ji=function(t){return Li(t,"height")},zi=function(t){return Ti(t,po,vo)},Ui=function(t){return Oi(t)?po(t):ho(t)},Hi=function(t){return Pi(t,"rowspan",Ii)},Vi=function(t){var e=Fi(t);return e.bind((function(t){return ki(t,["fixed","relative","empty"])}))},Wi=function(t,e,n){Vn(t,"width",e+n)},$i=function(t){return po(t)+"px"},qi=function(t){return Ti(t,po,vo)+"%"},Gi=function(t){return Fi(t).exists((function(t){return _i.test(t)}))},Ki=function(t){return Fi(t).exists((function(t){return Ei.test(t)}))},Yi=function(t){return Fi(t).isNone()},Xi=_(_i),Ji=Wt("col"),Qi=function(t){return Fi(t).getOrThunk((function(){return Ui(t)+"px"}))},Zi=function(t){return ji(t).getOrThunk((function(){return Hi(t)+"px"}))},tu=function(t){return H(Ho.justColumns(t),(function(t){return M.from(t.element)}))},eu=function(t){var e=ro().browser,n=e.isChromium()||e.isFirefox();return!Ji(t)||n},nu=function(t,e,n,r,o,i){return t.filter(r).fold((function(){return i(qo(n,e))}),(function(t){return o(t)}))},ru=function(t,e,n,r){var o=Vo(t),i=Ho.hasColumns(t)?tu(t):o,u=[M.some(xi.edge(e))].concat(H(xi.positions(o,e),(function(t){return t.map((function(t){return t.x}))}))),a=A(Qn);return H(i,(function(t,e){return nu(t,e,u,a,(function(t){if(eu(t))return n(t);var i=Rn(o[e],E);return nu(i,e,u,a,(function(t){return r(M.some(po(t)))}),r)}),r)}))},ou=function(t){return t.map((function(t){return t+"px"})).getOr("")},iu=function(t,e){return ru(t,e,Qi,ou)},uu=function(t,e,n){return ru(t,e,zi,(function(t){return t.fold((function(){return n.minCellWidth()}),(function(t){return t/n.pixelWidth()*100}))}))},au=function(t,e,n){return ru(t,e,Ui,(function(t){return t.getOrThunk(n.minCellWidth)}))},cu=function(t,e,n,r,o){var i=$o(t),u=[M.some(n.edge(e))].concat(H(n.positions(i,e),(function(t){return t.map((function(t){return t.y}))})));return H(i,(function(t,e){return nu(t,e,u,A(Zn),r,o)}))},su=function(t,e,n){return cu(t,e,n,Hi,(function(t){return t.getOrThunk(nr)}))},fu=function(t,e,n){return cu(t,e,n,Zi,ou)},lu=function(t,e){return function(){return fn(t)?e(t):parseFloat(Gn(t,"width").getOr("0"))}},du=function(t){var e=lu(t,po),n=_(0),r=function(e,n){return au(e,t,n)};return{width:e,pixelWidth:e,getWidths:r,getCellDelta:n,singleColumnWidth:_([0]),minCellWidth:n,setElementWidth:C,adjustTableWidth:C,isRelative:!0,label:"none"}},mu=function(t){var e=lu(t,(function(t){return parseFloat(qi(t))})),n=lu(t,po),r=function(t){return t/n()*100},o=function(t,e){return[100-t]},i=function(){return er()/n()*100},u=function(n){var r=e(),o=n/100*r,i=r+o;Ri(t,i)},a=function(e,n){return uu(e,t,n)};return{width:e,pixelWidth:n,getWidths:a,getCellDelta:r,singleColumnWidth:o,minCellWidth:i,setElementWidth:Ri,adjustTableWidth:u,isRelative:!0,label:"percent"}},pu=function(t){var e=lu(t,po),n=E,r=function(t,e){var n=Math.max(er(),t+e);return[n-t]},o=function(n){var r=e()+n;Ai(t,r)},i=function(e,n){return au(e,t,n)};return{width:e,pixelWidth:e,getWidths:i,getCellDelta:n,singleColumnWidth:r,minCellWidth:er,setElementWidth:Ai,adjustTableWidth:o,isRelative:!1,label:"pixel"}},gu=function(t,e){var n=Xi().exec(e);return null!==n?mu(t):pu(t)},vu=function(t){var e=Fi(t);return e.fold((function(){return du(t)}),(function(e){return gu(t,e)}))},hu={getTableSize:vu,pixelSize:pu,percentageSize:mu,noneSize:du},bu=function(t,e,n,r,o,i){return{minRow:t,minCol:e,maxRow:n,maxCol:r,allCells:o,selectedCells:i}},yu=function(t,e){var n=t.grid.columns,r=t.grid.rows,o=r,i=n,u=0,a=0,c=[],s=[];return ft(t.access,(function(t){if(c.push(t),e(t)){s.push(t);var n=t.row,r=n+t.rowspan-1,f=t.column,l=f+t.colspan-1;n<o?o=n:r>u&&(u=r),f<i?i=f:l>a&&(a=l)}})),bu(o,i,u,a,c,s)},xu=function(t,e,n){var r=t[n].element,o=oe.fromTag("td");Oe(o,oe.fromTag("br"));var i=e?Oe:Ee;i(r,o)},wu=function(t,e,n,r){for(var o=q(t,(function(t){return"colgroup"!==t.section})),i=e.grid.columns,u=e.grid.rows,a=0;a<u;a++)for(var c=!1,s=0;s<i;s++)if(!(a<n.minRow||a>n.maxRow||s<n.minCol||s>n.maxCol)){var f=Ho.getAt(e,a,s).filter(r).isNone();f?xu(o,c,a):c=!0}},Cu=function(t,e,n,r){ft(n.columns,(function(t){(t.column<e.minCol||t.column>e.maxCol)&&Be(t.element)}));var o=q(rr(t,"tr"),(function(t){return 0===t.dom.childElementCount}));V(o,Be),e.minCol!==e.maxCol&&e.minRow!==e.maxRow||V(rr(t,"th,td"),(function(t){Jt(t,"rowspan"),Jt(t,"colspan")})),Jt(t,To),Jt(t,"data-snooker-col-series");var i=hu.getTableSize(t);i.adjustTableWidth(r)},Su=function(t,e,n,r){if(0===r.minCol&&e.grid.columns===r.maxCol+1)return 0;var o=au(e,t,n),i=K(o,(function(t,e){return t+e}),0),u=K(o.slice(r.minCol,r.maxCol+1),(function(t,e){return t+e}),0),a=u/i*n.pixelWidth(),c=a-n.pixelWidth();return n.getCellDelta(c)},ku=function(t,e){var n=function(t){return ie(t.element,e)},r=Le(t),o=pr(r),i=hu.getTableSize(t),u=Ho.generate(o),a=yu(u,n),c="th:not("+e+"),td:not("+e+")",s=or(r,"th,td",(function(t){return ie(t,c)}));V(s,Be),wu(o,u,a,n);var f=Ho.fromTable(t),l=Su(t,f,i,a);return Cu(r,a,u,l),r},_u="Â ",Eu=function(t,e){var n=function(n){if(!t(n))throw new Error("Can only get "+e+" value of a "+e+" node");return r(n).getOr("")},r=function(e){return t(e)?M.from(e.dom.nodeValue):M.none()},o=function(n,r){if(!t(n))throw new Error("Can only set raw "+e+" value of a "+e+" node");n.dom.nodeValue=r};return{get:n,getOption:r,set:o}},Ou=Eu(Ut,"text"),Tu=function(t){return Ou.get(t)},Au=function(t){return Ou.getOption(t)},Ru=function(t,e){return Ou.set(t,e)},Nu=function(t){return"img"===It(t)?1:Au(t).fold((function(){return we(t).length}),(function(t){return t.length}))},Du=function(t){return Au(t).filter((function(t){return 0!==t.trim().length||t.indexOf(_u)>-1})).isSome()},Bu=function(t){return jt(t)&&"false"===Yt(t,"contenteditable")},Mu=["img","br"],Iu=function(t){var e=Du(t);return e||j(Mu,It(t))||Bu(t)},Pu=function(t){return Sn(t,Iu)},Lu=function(t){return Fu(t,Iu)},Fu=function(t,e){var n=function t(n){for(var r=we(n),o=r.length-1;o>=0;o--){var i=r[o];if(e(i))return M.some(i);var u=t(i);if(u.isSome())return u}return M.none()};return n(t)},ju={scope:["row","col"]},zu=function(t){return function(){var e=oe.fromTag("td",t.dom);return Oe(e,oe.fromTag("br",t.dom)),e}},Uu=function(t){return function(){return oe.fromTag("col",t.dom)}},Hu=function(t){return function(){return oe.fromTag("colgroup",t.dom)}},Vu=function(t){return function(){return oe.fromTag("tr",t.dom)}},Wu=function(t,e,n){var r=je(t,e);return ft(n,(function(t,e){null===t?Jt(r,e):qt(r,e,t)})),r},$u=function(t){return t},qu=function(t,e,n){var r=Pu(t);return r.map((function(r){var o=n.join(","),i=vn(r,o,(function(e){return se(e,t)}));return G(i,(function(t,e){var n=Pe(e);return Oe(t,n),n}),e)})).getOr(e)},Gu=function(t,e){ft(ju,(function(n,r){return Xt(t,r).filter((function(t){return j(n,t)})).each((function(t){return qt(e,r,t)}))}))},Ku=function(t,e,n){var r=function(t,e){Yn(t.element,e),Kn(e,"height"),1!==t.colspan&&Kn(e,"width")},o=function(o){var i=oe.fromTag(It(o.element),e.dom),u=n.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),a=u.length>0?qu(o.element,i,u):i;return Oe(a,oe.fromTag("br")),r(o,i),Gu(o.element,i),t(o.element,i),i},i=function(n){var o=oe.fromTag(It(n.element),e.dom);return r(n,o),t(n.element,o),o};return{col:i,colgroup:Hu(e),row:Vu(e),cell:o,replace:Wu,colGap:Uu(e),gap:zu(e)}},Yu=function(t){return{col:Uu(t),colgroup:Hu(t),row:Vu(t),cell:zu(t),replace:$u,colGap:Uu(t),gap:zu(t)}},Xu=function(t,e){var n=e||document,r=n.createElement("div");return r.innerHTML=t,we(oe.fromDom(r))},Ju=function(t){return H(t,oe.fromDom)},Qu=function(t){return On(t,"[contenteditable]")},Zu=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return fn(t)?t.dom.isContentEditable:Qu(t).fold(_(e),(function(t){return"true"===ta(t)}))},ta=function(t){return t.dom.contentEditable},ea=function(t){return oe.fromDom(t.getBody())},na=function(t){return function(e){return se(e,ea(t))}},ra=function(t){Jt(t,"data-mce-style");var e=function(t){return Jt(t,"data-mce-style")};V(ar(t),e),V(cr(t),e),V(fr(t),e)},oa=function(t){return oe.fromDom(t.selection.getStart())},ia=function(t){return t.getBoundingClientRect().width},ua=function(t){return t.getBoundingClientRect().height},aa=function(t,e){var n=t.dom.getStyle(e,"width")||t.dom.getAttrib(e,"width");return M.from(n).filter(Fn)},ca=function(t){return/^(\d+(\.\d+)?)%$/.test(t)},sa=function(t){return/^(\d+(\.\d+)?)px$/.test(t)},fa=function(t){return wn(t,Wt("table")).exists(Zu)},la=function(t,e){var n=e.column,r=e.column+e.colspan-1,o=e.row,i=e.row+e.rowspan-1;return n<=t.finishCol&&r>=t.startCol&&o<=t.finishRow&&i>=t.startRow},da=function(t,e){return e.column>=t.startCol&&e.column+e.colspan-1<=t.finishCol&&e.row>=t.startRow&&e.row+e.rowspan-1<=t.finishRow},ma=function(t,e){for(var n=!0,r=T(da,e),o=e.startRow;o<=e.finishRow;o++)for(var i=e.startCol;i<=e.finishCol;i++)n=n&&Ho.getAt(t,o,i).exists(r);return n?M.some(e):M.none()},pa=function(t,e){return Qe(Math.min(t.row,e.row),Math.min(t.column,e.column),Math.max(t.row+t.rowspan-1,e.row+e.rowspan-1),Math.max(t.column+t.colspan-1,e.column+e.colspan-1))},ga=function(t,e,n){var r=Ho.findItem(t,e,se),o=Ho.findItem(t,n,se);return r.bind((function(t){return o.map((function(e){return pa(t,e)}))}))},va=function(t,e,n){return ga(t,e,n).bind((function(e){return ma(t,e)}))},ha=function(t,e,n,r){return Ho.findItem(t,e,se).bind((function(e){var o=n>0?e.row+e.rowspan-1:e.row,i=r>0?e.column+e.colspan-1:e.column,u=Ho.getAt(t,o+n,i+r);return u.map((function(t){return t.element}))}))},ba=function(t,e,n){return ga(t,e,n).map((function(e){var n=Ho.filterItems(t,T(la,e));return H(n,(function(t){return t.element}))}))},ya=function(t,e){var n=function(t,e){return fe(e,t)};return Ho.findItem(t,e,n).map((function(t){return t.element}))},xa=function(t,e,n){return sr(t).bind((function(r){var o=ka(r);return ha(o,t,e,n)}))},wa=function(t,e,n){var r=ka(t);return ba(r,e,n)},Ca=function(t,e,n,r,o){var i=ka(t),u=se(t,n)?M.some(e):ya(i,e),a=se(t,o)?M.some(r):ya(i,r);return u.bind((function(t){return a.bind((function(e){return ba(i,t,e)}))}))},Sa=function(t,e,n){var r=ka(t);return va(r,e,n)},ka=Ho.fromTable,_a=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Ea=function(){var t=function(t){return oe.fromDom(t.dom.cloneNode(!1))},e=function(t){return me(t).dom},n=function(t){return!!zt(t)&&("body"===It(t)||j(_a,It(t)))},r=function(t){return!!zt(t)&&j(["br","img","hr","input"],It(t))},o=function(t){return zt(t)&&"false"===Yt(t,"contenteditable")},i=function(t,e){return t.dom.compareDocumentPosition(e.dom)},u=function(t,e){var n=Qt(t);Gt(e,n)},a=function(t){var e=It(t);return j(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],e)},c=function(t){return zt(t)?Xt(t,"lang"):M.none()};return{up:_({selector:kn,closest:On,predicate:xn,all:be}),down:_({selector:bn,predicate:gn}),styles:_({get:$n,getRaw:Gn,set:Vn,remove:Kn}),attrs:_({get:Yt,set:qt,remove:Jt,copyTo:u}),insert:_({before:ke,after:_e,afterAll:Re,append:Oe,appendAll:Ne,prepend:Ee,wrap:Ae}),remove:_({unwrap:Me,remove:Be}),create:_({nu:oe.fromTag,clone:t,text:oe.fromText}),query:_({comparePosition:i,prevSibling:ye,nextSibling:xe}),property:_({children:we,name:It,parent:ve,document:e,isText:Ut,isComment:Ft,isElement:zt,isSpecial:a,getLanguage:c,getText:Tu,setText:Ru,isBoundary:n,isEmptyTag:r,isNonEditable:o}),eq:se,is:le}},Oa=function(t,e,n,r){var o=n[0],i=n.slice(1);return r(t,e,o,i)},Ta=function(t,e,n){return n.length>0?Oa(t,e,n,Aa):M.none()},Aa=function(t,e,n,r){var o=e(t,n);return G(r,(function(n,r){var o=e(t,r);return Ra(t,n,o)}),o)},Ra=function(t,e,n){return e.bind((function(e){return n.filter(T(t.eq,e))}))},Na=function(t,e){return T(t.eq,e)},Da=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:D,o=[e].concat(t.up().all(e)),i=[n].concat(t.up().all(n)),u=function(t){var e=J(t,r);return e.fold((function(){return t}),(function(e){return t.slice(0,e+1)}))},a=u(o),c=u(i),s=X(a,(function(e){return z(c,Na(t,e))}));return{firstpath:a,secondpath:c,shared:s}},Ba=Ta,Ma=Da,Ia=Ea(),Pa=function(t,e){return Ba(Ia,(function(e,n){return t(n)}),e)},La=function(t,e,n){return Ma(Ia,t,e,n)},Fa=function(t){return kn(t,"table")},ja=function(t,e,n){var r=function(t){return function(e){return void 0!==n&&n(e)||se(e,t)}};return se(t,e)?M.some({boxes:M.some([t]),start:t,finish:e}):Fa(t).bind((function(o){return Fa(e).bind((function(i){if(se(o,i))return M.some({boxes:wa(o,t,e),start:t,finish:e});if(fe(o,i)){var u=vn(e,"td,th",r(o)),a=u.length>0?u[u.length-1]:e;return M.some({boxes:Ca(o,t,o,e,i),start:t,finish:a})}if(fe(i,o)){var c=vn(t,"td,th",r(i)),s=c.length>0?c[c.length-1]:t;return M.some({boxes:Ca(i,t,o,e,i),start:t,finish:s})}return La(t,e).shared.bind((function(u){return On(u,"table",n).bind((function(n){var u=vn(e,"td,th",r(n)),a=u.length>0?u[u.length-1]:e,c=vn(t,"td,th",r(n)),s=c.length>0?c[c.length-1]:t;return M.some({boxes:Ca(n,t,o,e,i),start:s,finish:a})}))}))}))}))},za=function(t,e){var n=bn(t,e);return n.length>0?M.some(n):M.none()},Ua=function(t,e){return X(t,(function(t){return ie(t,e)}))},Ha=function(t,e,n){return En(t,e).bind((function(e){return En(t,n).bind((function(t){return Pa(Fa,[e,t]).map((function(n){return{first:e,last:t,table:n}}))}))}))},Va=function(t,e){return kn(t,"table").bind((function(n){return En(n,e).bind((function(e){return ja(e,t).bind((function(t){return t.boxes.map((function(e){return{boxes:e,start:t.start,finish:t.finish}}))}))}))}))},Wa=function(t,e,n,r,o){return Ua(t,o).bind((function(t){return xa(t,e,n).bind((function(t){return Va(t,r)}))}))},$a=function(t,e){return za(t,e)},qa=function(t,e,n){return Ha(t,e,n).bind((function(e){var n=function(e){return se(t,e)},r="thead,tfoot,tbody,table",o=kn(e.first,r,n),i=kn(e.last,r,n);return o.bind((function(t){return i.bind((function(n){return se(t,n)?Sa(e.table,e.first,e.last):M.none()}))}))}))},Ga=E,Ka=function(t){var e=function(t,e){return Xt(t,e).exists((function(t){return parseInt(t,10)>1}))},n=function(t){return e(t,"rowspan")||e(t,"colspan")};return t.length>0&&tt(t,n)?M.some(t):M.none()},Ya=function(t,e,n){return e.length<=1?M.none():qa(t,n.firstSelectedSelector,n.lastSelectedSelector).map((function(t){return{bounds:t,cells:e}}))},Xa="data-mce-selected",Ja="td["+Xa+"],th["+Xa+"]",Qa="["+Xa+"]",Za="data-mce-first-selected",tc="td["+Za+"],th["+Za+"]",ec="data-mce-last-selected",nc="td["+ec+"],th["+ec+"]",rc=Qa,oc={selected:Xa,selectedSelector:Ja,firstSelected:Za,firstSelectedSelector:tc,lastSelected:ec,lastSelectedSelector:nc},ic=function(t,e,n){return{element:n,mergable:Ya(e,t,oc),unmergable:Ka(t),selection:Ga(t)}},uc=function(t,e,n){return{element:t,clipboard:e,generators:n}},ac=function(t,e,n,r){return{selection:Ga(t),clipboard:n,generators:r}},cc=function(t){return sr(t).bind((function(t){return $a(t,oc.firstSelectedSelector)})).fold(_(t),(function(t){return t[0]}))},sc=function(t){return function(e,n){var r=It(e),o="col"===r||"colgroup"===r?cc(e):e;return On(o,t,n)}},fc=sc("th,td,caption"),lc=sc("th,td"),dc=function(t){return Ju(t.model.table.getSelectedCells())},mc=function(t){return q(dc(t),(function(t){return ie(t,oc.selectedSelector)}))},pc=function(t){return sr(t[0]).map((function(t){var e=ku(t,rc);return ra(e),[e]}))},gc=function(t,e){return H(e,(function(e){return t.selection.serializer.serialize(e.dom,{})})).join("")},vc=function(t){return H(t,(function(t){return t.dom.innerText})).join("")},hc=function(t,e){t.on("BeforeGetContent",(function(e){var n=function(n){e.preventDefault(),pc(n).each((function(n){e.content="text"===e.format?vc(n):gc(t,n)}))};if(!0===e.selection){var r=mc(t);r.length>=1&&n(r)}})),t.on("BeforeSetContent",(function(n){if(!0===n.selection&&!0===n.paste){var r=dc(t);it(r).each((function(r){sr(r).each((function(o){var i=q(Xu(n.content),(function(t){return"meta"!==It(t)})),u=Wt("table");if(1===i.length&&u(i[0])){n.preventDefault();var a=oe.fromDom(t.getDoc()),c=Yu(a),s=uc(r,i[0],c);e.pasteCells(o,s).each((function(){t.focus()}))}}))}))}}))},bc=function(t,e){return{element:t,offset:e}},yc=function t(e,n,r){return e.property().isText(n)&&0===e.property().getText(n).trim().length||e.property().isComment(n)?r(n).bind((function(n){return t(e,n,r).orThunk((function(){return M.some(n)}))})):M.none()},xc=function(t,e){if(t.property().isText(e))return t.property().getText(e).length;var n=t.property().children(e);return n.length},wc=function t(e,n){var r=yc(e,n,e.query().prevSibling).getOr(n);if(e.property().isText(r))return bc(r,xc(e,r));var o=e.property().children(r);return o.length>0?t(e,o[o.length-1]):bc(r,xc(e,r))},Cc=wc,Sc=Ea(),kc=function(t){return Cc(Sc,t)},_c=function(t,e){if(!Qn(t)){var n=Vi(t);n.each((function(n){var r=n.value/2;Wi(t,r,n.unit),Wi(e,r,n.unit)}))}},Ec=function(t){return H(t,_(0))},Oc=function(t,e,n,r,o){return o(t.slice(0,e)).concat(r).concat(o(t.slice(n)))},Tc=function(t){return function(e,n,r,o){if(t(r)){var i=Math.max(o,e[n]-Math.abs(r)),u=Math.abs(i-e[n]);return r>=0?u:-u}return r}},Ac=Tc((function(t){return t<0})),Rc=Tc(B),Nc=function(){var t=function(t,e,n,r,o){var i=Ac(t,e,r,o);return Oc(t,e,n+1,[i,0],Ec)},e=function(t,e,n,r){var o=(100+n)/100,i=Math.max(r,(t[e]+n)/o);return H(t,(function(t,n){var r=n===e?i:t/o;return r-t}))},n=function(n,r,o,i,u,a){return a?e(n,r,i,u):t(n,r,o,i,u)},r=function(t,e,r,o,i,u,a){return n(t,r,o,i,u,a)},o=function(t,e){return t(e)},i=function(t,n,r,o,i,u){if(u)return e(t,r,o,i);var a=Ac(t,r,o,i);return Ec(t.slice(0,r)).concat([a])},u=function(t,e,n,r){if(r){var o=e+n,i=o/e,u=H(t,(function(t){return t/i}));return{delta:100*i-100,newSizes:u}}return{delta:n,newSizes:t}};return{resizeTable:o,clampTableDelta:Ac,calcLeftEdgeDeltas:n,calcMiddleDeltas:r,calcRightEdgeDeltas:i,calcRedestributedWidths:u}},Dc=function(){var t=function(t,e,n,r,o){var i=r>=0?n:e,u=Rc(t,i,r,o);return Oc(t,e,n+1,[u,-u],Ec)},e=function(e,n,r,o,i,u){return t(e,r,o,i,u)},n=function(t,e,n){n&&t(e)},r=function(t,e,n,r,o,i){if(i)return Ec(t);var u=r/t.length;return H(t,_(u))},o=function(t,e,n,r,o){if(o){if(n>=0)return n;var i=K(t,(function(t,e){return t+e-r}),0);return Math.max(-i,n)}return Ac(t,e,n,r)},i=function(t,e,n,r){return{delta:0,newSizes:t}};return{resizeTable:n,clampTableDelta:o,calcLeftEdgeDeltas:t,calcMiddleDeltas:e,calcRightEdgeDeltas:r,calcRedestributedWidths:i}},Bc=function(t){var e=Ho.fromTable(t);return e.grid},Mc=Wt("th"),Ic=function(t){return tt(t,(function(t){return Mc(t.element)}))},Pc=function(t,e){return t&&e?"sectionCells":t?"section":"cells"},Lc=function(t){var e="thead"===t.section,n=Tn(Fc(t.cells),"th");return"tfoot"===t.section?{type:"footer"}:e||n?{type:"header",subType:Pc(e,n)}:{type:"body"}},Fc=function(t){var e=q(t,(function(t){return Mc(t.element)}));return 0===e.length?M.some("td"):e.length===t.length?M.some("th"):M.none()},jc=function(t){var e=H(t,(function(t){return Lc(t).type})),n=j(e,"header"),r=j(e,"footer");if(n||r){var o=j(e,"body");return!n||o||r?n||o||!r?M.none():M.some("footer"):M.some("header")}return M.some("body")},zc=function(t){return at(t.all,(function(t){var e=Lc(t);return"header"===e.type?M.from(e.subType):M.none()}))},Uc=function(t,e,n){return Xe(n(t.element,e),!0,t.isLocked)},Hc=function(t,e){return t.section!==e?Je(t.element,t.cells,e,t.isNew):t},Vc=function(){return{transformRow:Hc,transformCell:function(t,e,n){var r=n(t.element,e),o="td"!==It(r)?ze(r,"td"):r;return Xe(o,t.isNew,t.isLocked)}}},Wc=function(){return{transformRow:Hc,transformCell:Uc}},$c=function(){return{transformRow:function(t,e){var n="thead"===e?"tbody":e;return Hc(t,n)},transformCell:Uc}},qc=function(){return{transformRow:E,transformCell:Uc}},Gc=function(t,e){var n=Ho.fromTable(t),r=zc(n).getOr(e);switch(r){case"section":return Vc();case"sectionCells":return Wc();case"cells":return $c()}},Kc={getTableSectionType:Gc,section:Vc,sectionCells:Wc,cells:$c,fallback:qc},Yc=function(t,e,n,r){n===r?Jt(t,e):qt(t,e,n)},Xc=function(t,e,n){ut(hn(t,e)).fold((function(){return Ee(t,n)}),(function(t){return _e(t,n)}))},Jc=function(t,e){var n=_n(t,e).getOrThunk((function(){var n=oe.fromTag(e,de(t).dom);return"thead"===e?Xc(t,"caption,colgroup",n):"colgroup"===e?Xc(t,"caption",n):Oe(t,n),n}));return De(n),n},Qc=function(t,e){var n=[],r=[],o=function(t){return H(t,(function(t){t.isNew&&n.push(t.element);var e=t.element;return De(e),V(t.cells,(function(t){t.isNew&&r.push(t.element),Yc(t.element,"colspan",t.colspan,1),Yc(t.element,"rowspan",t.rowspan,1),Oe(e,t.element)})),e}))},i=function(t){return Z(t,(function(t){return H(t.cells,(function(t){return Yc(t.element,"span",t.colspan,1),t.element}))}))},u=function(e,n){var r=Jc(t,n),u="colgroup"===n?i:o,a=u(e);Ne(r,a)},a=function(e){_n(t,e).each(Be)},c=function(t,e){t.length>0?u(t,e):a(e)},s=[],f=[],l=[],d=[];return V(e,(function(t){switch(t.section){case"thead":s.push(t);break;case"tbody":f.push(t);break;case"tfoot":l.push(t);break;case"colgroup":d.push(t);break}})),c(d,"colgroup"),c(s,"thead"),c(f,"tbody"),c(l,"tfoot"),{newRows:n,newCells:r}},Zc=function(t){return H(t,(function(t){var e=Pe(t.element);return V(t.cells,(function(t){var n=Le(t.element);Yc(n,"colspan",t.colspan,1),Yc(n,"rowspan",t.rowspan,1),Oe(e,n)})),e}))},ts=function(t,e){return H(t,(function(t){return So(t,e)}))},es=function(t,e){return t[e]},ns=function(t,e){if(0===t.length)return 0;var n=t[0],r=J(t,(function(t){return!e(n.element,t.element)}));return r.getOr(t.length)},rs=function(t,e,n,r){var o=es(t,e),i="colgroup"===o.section,u=ns(o.cells.slice(n),r),a=i?1:ns(ts(t.slice(e),n),r);return{colspan:u,rowspan:a}},os=function(t,e){var n=H(t,(function(t){return H(t.cells,D)})),r=function(t,e,r,o){for(var i=t;i<t+r;i++)for(var u=e;u<e+o;u++)n[i][u]=!0};return H(t,(function(o,i){var u=Z(o.cells,(function(o,u){if(!1===n[i][u]){var a=rs(t,i,u,e);return r(i,u,a.rowspan,a.colspan),[qe(o.element,a.rowspan,a.colspan,o.isNew)]}return[]}));return Ye(o.element,u,o.section,o.isNew)}))},is=function(t,e,n){var r=[];V(t.colgroups,(function(o){for(var i=[],u=0;u<t.grid.columns;u++){var a=Ho.getColumnAt(t,u).map((function(t){return Xe(t.element,n,!1)})).getOrThunk((function(){return Xe(e.colGap(),!0,!1)}));i.push(a)}r.push(Je(o.element,i,"colgroup",n))}));for(var o=0;o<t.grid.rows;o++){for(var i=[],u=0;u<t.grid.columns;u++){var a=Ho.getAt(t,o,u).map((function(t){return Xe(t.element,n,t.isLocked)})).getOrThunk((function(){return Xe(e.gap(),!0,!1)}));i.push(a)}var c=t.all[o],s=Je(c.element,i,c.section,n);r.push(s)}return r},us=function(t,e){return is(t,e,!1)},as=function(t){return os(t,se)},cs=function(t,e){return at(t.all,(function(t){return X(t.cells,(function(t){return se(e,t.element)}))}))},ss=function(t,e,n){var r=H(e.selection,(function(e){return ur(e).bind((function(e){return cs(t,e)})).filter(n)})),o=An(r);return Nn(o.length>0,o)},fs=function(t,e,n,r,o){return function(i,u,a,c){var s=Ho.fromTable(i),f=M.from(null===c||void 0===c?void 0:c.section).getOrThunk(Kc.fallback),l=e(s,u).map((function(e){var n=us(s,a),r=t(n,e,se,o(a),f),i=Ro(r.grid),u=as(r.grid);return{info:e,grid:u,cursor:r.cursor,lockedColumns:i}}));return l.bind((function(t){var e=Qc(i,t.grid),o=M.from(null===c||void 0===c?void 0:c.sizing).getOrThunk((function(){return hu.getTableSize(i)})),u=M.from(null===c||void 0===c?void 0:c.resize).getOrThunk(Dc);return n(i,t.grid,t.info,{sizing:o,resize:u,section:f}),r(i),Jt(i,To),t.lockedColumns.length>0&&qt(i,To,t.lockedColumns.join(",")),M.some({cursor:t.cursor,newRows:e.newRows,newCells:e.newCells})}))}},ls=function(t,e){return ur(e.element).bind((function(n){return cs(t,n).map((function(t){var n=o(o({},t),{},{generators:e.generators,clipboard:e.clipboard});return n}))}))},ds=function(t,e){return ss(t,e,B).map((function(t){return{cells:t,generators:e.generators,clipboard:e.clipboard}}))},ms=function(t,e){return e.mergable},ps=function(t,e){return e.unmergable},gs=function(t,e){return ss(t,e,B)},vs=function(t,e){return ss(t,e,(function(t){return!t.isLocked}))},hs=function(t,e){return cs(t,e).exists((function(t){return!t.isLocked}))},bs=function(t,e){return tt(e,(function(e){return hs(t,e)}))},ys=function(t,e){return ms(t,e).filter((function(e){return bs(t,e.cells)}))},xs=function(t,e){return ps(t,e).filter((function(e){return bs(t,e)}))},ws=function(t,e,n,r){var o=Eo(t).rows;if(0===o.length)return t;for(var i=e.startRow;i<=e.finishRow;i++)for(var u=e.startCol;u<=e.finishCol;u++){var a=o[i],c=So(a,u).isLocked;xo(a,u,Xe(r(),!1,c))}return t},Cs=function(t,e,n,r){for(var o=Eo(t).rows,i=!0,u=0;u<o.length;u++)for(var a=0;a<_o(o[0]);a++){var c=o[u],s=So(c,a),f=s.element,l=n(f,e);l&&!i?xo(c,a,Xe(r(),!0,s.isLocked)):l&&(i=!1)}return t},Ss=function(t,e){return K(t,(function(t,n){return z(t,(function(t){return e(t.element,n.element)}))?t:t.concat([n])}),[])},ks=function(t,e,n,r){return e>0&&e<t[0].cells.length&&V(t,(function(t){var o=t.cells[e-1],i=0,u=r();while(t.cells.length>e+i&&n(o.element,t.cells[e+i].element))xo(t,e+i,Xe(u,!0,t.cells[e+i].isLocked)),i++})),t},_s=function(t,e,n,r){var o=Eo(t).rows;if(e>0&&e<o.length){var i=o[e-1].cells,u=Ss(i,n);V(u,(function(t){for(var i=M.none(),u=e;u<o.length;u++)for(var a=function(e){var a=o[u],c=So(a,e),s=n(c.element,t.element);s&&(i.isNone()&&(i=M.some(r())),i.each((function(t){xo(a,e,Xe(t,!0,c.isLocked))})))},c=0;c<_o(o[0]);c++)a(c)}))}return t},Es=function(t){var e=function(e){return e(t)},n=_(t),r=function(){return o},o={tag:!0,inner:t,fold:function(e,n){return n(t)},isValue:B,isError:D,map:function(e){return As.value(e(t))},mapError:r,bind:e,exists:e,forall:e,getOr:n,or:r,getOrThunk:n,orThunk:r,getOrDie:n,each:function(e){e(t)},toOptional:function(){return M.some(t)}};return o},Os=function(t){var e=function(){return n},n={tag:!1,inner:t,fold:function(e,n){return e(t)},isValue:D,isError:B,map:e,mapError:function(e){return As.error(e(t))},bind:e,exists:D,forall:B,getOr:E,or:E,getOrThunk:N,orThunk:N,getOrDie:R(String(t)),each:C,toOptional:M.none};return n},Ts=function(t,e){return t.fold((function(){return Os(e)}),Es)},As={value:Es,error:Os,fromOption:Ts},Rs=function(t,e,n){if(t.row>=e.length||t.column>_o(e[0]))return As.error("invalid start address out of table bounds, row: "+t.row+", column: "+t.column);var r=e.slice(t.row),o=r[0].cells.slice(t.column),i=_o(n[0]),u=n.length;return As.value({rowDelta:r.length-u,colDelta:o.length-i})},Ns=function(t,e){var n=_o(t[0]),r=_o(e[0]);return{rowDelta:0,colDelta:n-r}},Ds=function(t,e){var n=t.length,r=e.length;return{rowDelta:n-r,colDelta:0}},Bs=function(t,e,n,r){var o="colgroup"===e.section?n.col:n.cell;return U(t,(function(t){return Xe(o(),!0,r(t))}))},Ms=function(t,e,n,r){var o=t[t.length-1];return t.concat(U(e,(function(){var t="colgroup"===o.section?n.colgroup:n.row,e=Oo(o,t,E),i=Bs(e.cells.length,e,n,(function(t){return yt(r,t.toString())}));return wo(e,i)})))},Is=function(t,e,n,r){return H(t,(function(t){var o=Bs(e,t,n,D);return bo(t,r,o)}))},Ps=function(t,e,n){return H(t,(function(t){return K(n,(function(n,r){var o=Bs(1,t,e,B)[0];return yo(n,r,o)}),t)}))},Ls=function(t,e,n){var r=e.colDelta<0?Is:E,o=e.rowDelta<0?Ms:E,i=Ro(t),u=_o(t[0]),a=z(i,(function(t){return t===u-1})),c=r(t,Math.abs(e.colDelta),n,a?u-1:u),s=Ro(c);return o(c,Math.abs(e.rowDelta),n,nt(s,B))},Fs=function(t,e,n,r){var o=So(t[e],n),i=T(r,o.element),u=t[e];return t.length>1&&_o(u)>1&&(n>0&&i(ko(u,n-1))||n<u.cells.length-1&&i(ko(u,n+1))||e>0&&i(ko(t[e-1],n))||e<t.length-1&&i(ko(t[e+1],n)))},js=function(t,e,n,r,o,i){for(var u=t.row,a=t.column,c=n.length,s=_o(n[0]),f=u+c,l=a+s+i.length,d=nt(i,B),m=u;m<f;m++)for(var p=0,g=a;g<l;g++)if(d[g])p++;else{Fs(e,m,g,o)&&Cs(e,ko(e[m],g),o,r.cell);var v=g-a-p,h=So(n[m-u],v),b=h.element,y=r.replace(b);xo(e[m],g,Xe(y,!0,h.isLocked))}return e},zs=function(t,e,n){var r=_o(e[0]),o=Eo(e).cols.length+t.row,i=U(r-t.column,(function(e){return e+t.column})),u=X(i,(function(t){return tt(n,(function(e){return e!==t}))})).getOr(r-1);return{row:o,column:u}},Us=function(t,e,n){return q(n,(function(n){return n>=t.column&&n<=_o(e[0])+t.column}))},Hs=function(t,e,n,r,i){var u=Ro(e),a=zs(t,e,u),c=Eo(n).rows,s=Us(a,c,u),f=Rs(a,e,c);return f.map((function(t){var n=o(o({},t),{},{colDelta:t.colDelta-s.length}),u=Ls(e,n,r),f=Ro(u),l=Us(a,c,f);return js(a,u,c,r,i,l)}))},Vs=function(t,e,n,r,o){ks(e,t,o,r.cell);var i=Ds(n,e),u=Ls(n,i,r),a=Ds(e,u),c=Ls(e,a,r);return H(c,(function(e,n){return bo(e,t,u[n].cells)}))},Ws=function(t,e,n,r,u){_s(e,t,u,r.cell);var a=Ro(e),c=Ns(e,n),s=o(o({},c),{},{colDelta:c.colDelta-a.length}),f=Ls(e,s,r),l=Eo(f),d=l.cols,m=l.rows,p=Ro(f),g=Ns(n,e),v=o(o({},g),{},{colDelta:g.colDelta+p.length}),h=Ps(n,r,p),b=Ls(h,v,r);return[].concat(i(d),i(m.slice(0,t)),i(b),i(m.slice(t,m.length)))},$s=function(t,e,n,r){return Oo(t,(function(t){return r(t,n)}),e)},qs=function(t,e,n,r,o){var u=Eo(t),a=u.rows,c=u.cols,s=a.slice(0,e),f=a.slice(e),l=$s(a[n],(function(t,n){var i=e>0&&e<a.length&&r(ko(a[e-1],n),ko(a[e],n)),u=i?So(a[e],n):Xe(o(t.element,r),!0,t.isLocked);return u}),r,o);return[].concat(i(c),i(s),[l],i(f))},Gs=function(t,e,n,r,o,i,u){if("colgroup"!==n&&r)return So(t,e);var a=So(t,o);return Xe(u(a.element,i),!0,!1)},Ks=function(t,e,n,r,o){return H(t,(function(t){var i=e>0&&e<_o(t)&&r(ko(t,e-1),ko(t,e)),u=Gs(t,e,t.section,i,n,r,o);return yo(t,e,u)}))},Ys=function(t,e){return Z(t,(function(t){var n=t.cells,r=G(e,(function(t,e){return e>=0&&e<t.length?t.slice(0,e).concat(t.slice(e+1)):t}),n);return r.length>0?[Je(t.element,r,t.section,t.isNew)]:[]}))},Xs=function(t,e,n){var r=Eo(t),o=r.rows,u=r.cols;return[].concat(i(u),i(o.slice(0,e)),i(o.slice(n+1)))},Js=function(t,e,n,r){return void 0!==ko(t[e],n)&&e>0&&r(ko(t[e-1],n),ko(t[e],n))},Qs=function(t,e,n){return e>0&&n(ko(t,e-1),ko(t,e))},Zs=function(t,e,n,r){return Js(t,e,n,r)||Qs(t[e],n,r)},tf=function(t,e){var n=tt(e,E)&&Ic(t.cells);return n?B:function(t,n,r){var o=It(t.element);return!("th"===o&&e[r])}},ef=function(t,e){var n=tt(e,E)&&Ic(t);return n?B:function(t,n,r){var o=It(t.element);return!("th"===o&&e[n])}},nf=function(t,e,n,r){var o=function(t){return"row"===t?Zn(e):Qn(e)},i=function(t){return o(t)?"".concat(t,"group"):t};if(t)return Mc(e)?i(n):null;if(r&&Mc(e)){var u="row"===n?"col":"row";return i(u)}return null},rf=function(t,e){return function(n,r,o){return M.some(nf(t,n.element,"col",e[o]))}},of=function(t,e){return function(n,r){return M.some(nf(t,n.element,"row",e[r]))}},uf=function(t,e,n){return Xe(n(t.element,e),!0,t.isLocked)},af=function(t,e,n,r,o,i,u){var a=function(t){return z(e,(function(e){return n(t.element,e.element)}))};return H(t,(function(t,e){return Co(t,(function(t,c){if(a(t)){var s=u(t,e,c)?o(t,n,r):t;return i(s,e,c).each((function(t){Kt(s.element,{scope:M.from(t)})})),s}return t}))}))},cf=function(t,e,n){return Z(t,(function(r,o){return Zs(t,o,e,n)?[]:[So(r,e)]}))},sf=function(t,e,n){var r=t[e];return Z(r.cells,(function(r,o){return Zs(t,e,o,n)?[]:[r]}))},ff=function(t,e,n,r,o){var i=Eo(t).rows,u=Z(e,(function(t){return cf(i,t,r)})),a=H(i,(function(t){return Ic(t.cells)})),c=ef(u,a),s=of(n,a);return af(t,u,r,o,uf,s,c)},lf=function(t,e,n,r,o,u,a){var c=Eo(t),s=c.cols,f=c.rows,l=f[e[0]],d=Z(e,(function(t){return sf(f,t,o)})),m=H(l.cells,(function(t,e){return Ic(cf(f,e,o))})),p=i(f);V(e,(function(t){p[t]=a.transformRow(f[t],n)}));var g=[].concat(i(s),i(p)),v=tf(l,m),h=rf(r,m);return af(g,d,o,u,a.transformCell,h,v)},df=function(t,e,n,r){var o=Eo(t).rows,i=H(e,(function(t){return So(o[t.row],t.column)}));return af(t,i,n,r,uf,M.none,B)},mf=function(t){if(!p(t))throw new Error("cases must be an array");if(0===t.length)throw new Error("there must be at least one case");var e=[],n={};return V(t,(function(r,o){var i=ct(r);if(1!==i.length)throw new Error("one and only one name per case");var u=i[0],a=r[u];if(void 0!==n[u])throw new Error("duplicate key detected:"+u);if("cata"===u)throw new Error("cannot have a case named cata (sorry)");if(!p(a))throw new Error("case arguments must be an array");e.push(u),n[u]=function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var c=r.length;if(c!==a.length)throw new Error("Wrong number of arguments to case "+u+". Expected "+a.length+" ("+a+"), got "+c);var s=function(t){var n=ct(t);if(e.length!==n.length)throw new Error("Wrong number of arguments to match. Expected: "+e.join(",")+"\nActual: "+n.join(","));var o=tt(e,(function(t){return j(n,t)}));if(!o)throw new Error("Not all branches were specified when using match. Specified: "+n.join(", ")+"\nRequired: "+e.join(", "));return t[u].apply(null,r)};return{fold:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];if(n.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+n.length);var u=n[o];return u.apply(null,r)},match:s,log:function(t){console.log(t,{constructors:e,constructor:u,params:r})}}}})),n},pf={generate:mf},gf=pf.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}]),vf=o({},gf),hf=function(t,e){return 0===t.length?vf.none():1===t.length?vf.only(0):0===e?vf.left(0,1):e===t.length-1?vf.right(e-1,e):e>0&&e<t.length-1?vf.middle(e-1,e,e+1):vf.none()},bf=function(t,e,n,r,o){var i=t.slice(0),u=hf(t,e),a=_(H(i,_(0))),c=function(t){return r.singleColumnWidth(i[t],n)},s=function(t,e){return o.calcLeftEdgeDeltas(i,t,e,n,r.minCellWidth(),r.isRelative)},f=function(t,e,u){return o.calcMiddleDeltas(i,t,e,u,n,r.minCellWidth(),r.isRelative)},l=function(t,e){return o.calcRightEdgeDeltas(i,t,e,n,r.minCellWidth(),r.isRelative)};return u.fold(a,c,s,f,l)},yf=function(t,e,n){for(var r=0,o=t;o<e;o++)r+=void 0!==n[o]?n[o]:0;return r},xf=function(t,e){var n=Ho.justCells(t);return H(n,(function(t){var n=yf(t.column,t.column+t.colspan,e);return{element:t.element,width:n,colspan:t.colspan}}))},wf=function(t,e){var n=Ho.justColumns(t);return H(n,(function(t,n){return{element:t.element,width:e[n],colspan:t.colspan}}))},Cf=function(t,e){var n=Ho.justCells(t);return H(n,(function(t){var n=yf(t.row,t.row+t.rowspan,e);return{element:t.element,height:n,rowspan:t.rowspan}}))},Sf=function(t,e){return H(t.all,(function(t,n){return{element:t.element,height:e[n]}}))},kf=function(t){return G(t,(function(t,e){return t+e}),0)},_f=function(t,e){return Ho.hasColumns(t)?wf(t,e):xf(t,e)},Ef=function(t,e,n){var r=_f(t,e);V(r,(function(t){n.setElementWidth(t.element,t.width)}))},Of=function(t,e,n,r,o){var i=Ho.fromTable(t),u=o.getCellDelta(e),a=o.getWidths(i,o),c=n===i.grid.columns-1,s=r.clampTableDelta(a,n,u,o.minCellWidth(),c),f=bf(a,n,s,o,r),l=H(f,(function(t,e){return t+a[e]}));Ef(i,l,o),r.resizeTable(o.adjustTableWidth,s,c)},Tf=function(t,e,n,r){var o=Ho.fromTable(t),i=su(o,t,r),u=H(i,(function(t,r){return n===r?Math.max(e+t,nr()):t})),a=Cf(o,u),c=Sf(o,u);V(c,(function(t){Ni(t.element,t.height)})),V(a,(function(t){Ni(t.element,t.height)}));var s=kf(u);Ni(t,s)},Af=function(t,e,n,r,o){var i=Ho.generate(e),u=r.getWidths(i,r),a=r.pixelWidth(),c=o.calcRedestributedWidths(u,a,n.pixelDelta,r.isRelative),s=c.newSizes,f=c.delta;Ef(i,s,r),r.adjustTableWidth(f)},Rf=function(t,e,n,r){var o=Ho.generate(e),i=r.getWidths(o,r);Ef(o,i,r)},Nf=function(t){var e=function(t,e){var n=z(t,(function(t){return t.column===e.column}));return n?t:t.concat([e])};return K(t,e,[]).sort((function(t,e){return t.column-e.column}))},Df=Wt("col"),Bf=Wt("colgroup"),Mf=function(t){return"tr"===It(t)||Bf(t)},If=function(t){var e=Xn(t,"colspan",1),n=Xn(t,"rowspan",1);return{element:t,colspan:e,rowspan:n}},Pf=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:If,n=function(e){return Df(e.element)?t.col(e):t.cell(e)},r=function(e){return Bf(e.element)?t.colgroup(e):t.row(e)},o=function(t){if(Mf(t))return r({element:t});var o=t,u=n(e(o));return i=M.some({item:o,replacement:u}),u},i=M.none(),u=function(t,e){return i.fold((function(){return o(t)}),(function(n){return e(t,n.item)?n.replacement:o(t)}))};return{getOrInit:u}},Lf=function(t){return function(e){var n=[],r=function(t,e){return X(n,(function(n){return e(n.item,t)}))},o=function(r){var o="td"===t?{scope:null}:{},i=e.replace(r,t,o);return n.push({item:r,sub:i}),i},i=function(t,e){if(Mf(t)||Df(t))return t;var n=t;return r(n,e).fold((function(){return o(n)}),(function(r){return e(t,r.item)?r.sub:o(n)}))};return{replaceOrInit:i}}},Ff=function(t){return Xt(t,"scope").map((function(t){return t.substr(0,3)}))},jf=function(t){var e=function(e){var n=Ff(e);return n.each((function(t){return qt(e,"scope",t)})),function(){var r=t.cell({element:e,colspan:1,rowspan:1});return Kn(r,"width"),Kn(e,"width"),n.each((function(t){return qt(r,"scope",t)})),r}},n=function(t){var e=function(){var e=An(H(t,Ff));if(0===e.length)return M.none();var n=e[0],r=["row","col"],o=z(e,(function(t){return t!==n&&j(r,t)}));return o?M.none():M.from(n)};return Kn(t[0],"width"),e().fold((function(){return Jt(t[0],"scope")}),(function(e){return qt(t[0],"scope",e+"group")})),_(t[0])};return{unmerge:e,merge:n}},zf={modification:Pf,transform:Lf,merging:jf},Uf=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Hf=function(t,e){var n=t.property().name(e);return j(["ol","ul"],n)},Vf=function(t,e){var n=t.property().name(e);return j(Uf,n)},Wf=function(t,e){return j(["br","img","hr","input"],t.property().name(e))},$f=Ea(),qf=function(t){return Vf($f,t)},Gf=function(t){return Hf($f,t)},Kf=function(t){return Wf($f,t)},Yf=function(t){var e=Wt("br"),n=function(t){return tt(t,(function(t){return e(t)||Ut(t)&&0===Tu(t).trim().length}))},r=function(t){return"li"===It(t)||xn(t,Gf).isSome()},o=function(t){return xe(t).map((function(t){return!!qf(t)||!!Kf(t)&&"img"!==It(t)})).getOr(!1)},i=function(t){return Lu(t).bind((function(n){var i=o(n);return ve(n).map((function(o){return!0===i||r(o)||e(n)||qf(o)&&!se(t,o)?[]:[oe.fromTag("br")]}))})).getOr([])},u=function(){var e=Z(t,(function(t){var e=we(t);return n(e)?[]:e.concat(i(t))}));return 0===e.length?[oe.fromTag("br")]:e},a=u();De(t[0]),Ne(t[0],a)},Xf=function(t){return Zu(t,!0)},Jf=function(t){var e=ar(t);0===e.length&&Be(t)},Qf=function(t,e){return{grid:t,cursor:e}},Zf=function(t){return at(t,(function(t){return at(t.cells,(function(t){var e=t.element;return Nn(Xf(e),e)}))}))},tl=function(t,e,n){var r,o,i=Eo(t).rows;return M.from(null===(o=null===(r=i[e])||void 0===r?void 0:r.cells[n])||void 0===o?void 0:o.element).filter(Xf).orThunk((function(){return Zf(i)}))},el=function(t,e,n){var r=tl(t,e,n);return Qf(t,r)},nl=function(t){var e=function(t,e){var n=z(t,(function(t){return t.row===e.row}));return n?t:t.concat([e])};return K(t,e,[]).sort((function(t,e){return t.row-e.row}))},rl=function(t,e,n,r){var o=e[0].row,i=nl(e),u=G(i,(function(t,e){var i=qs(t.grid,o,e.row+t.delta,n,r.getOrInit);return{grid:i,delta:t.delta+1}}),{grid:t,delta:0}).grid;return el(u,o,e[0].column)},ol=function(t,e,n,r){var o=nl(e),i=o[o.length-1],u=i.row+i.rowspan,a=G(o,(function(t,e){return qs(t,u,e.row,n,r.getOrInit)}),t);return el(a,u,e[0].column)},il=function(t,e,n,r){var o=e.details,i=Nf(o),u=i[0].column,a=G(i,(function(t,e){var o=Ks(t.grid,u,e.column+t.delta,n,r.getOrInit);return{grid:o,delta:t.delta+1}}),{grid:t,delta:0}).grid;return el(a,o[0].row,u)},ul=function(t,e,n,r){var o=e.details,i=o[o.length-1],u=i.column+i.colspan,a=Nf(o),c=G(a,(function(t,e){return Ks(t,u,e.column,n,r.getOrInit)}),t);return el(c,o[0].row,u)},al=function(t,e,n,r){var o=Nf(e),i=H(o,(function(t){return t.column})),u=ff(t,i,!0,n,r.replaceOrInit);return el(u,e[0].row,e[0].column)},cl=function(t,e,n,r){var o=df(t,e,n,r.replaceOrInit);return el(o,e[0].row,e[0].column)},sl=function(t,e,n,r){var o=Nf(e),i=H(o,(function(t){return t.column})),u=ff(t,i,!1,n,r.replaceOrInit);return el(u,e[0].row,e[0].column)},fl=function(t,e,n,r){var o=df(t,e,n,r.replaceOrInit);return el(o,e[0].row,e[0].column)},ll=function(t,e){return function(n,r,o,i,u){var a=nl(r),c=H(a,(function(t){return t.row})),s=lf(n,c,t,e,o,i.replaceOrInit,u);return el(s,r[0].row,r[0].column)}},dl=ll("thead",!0),ml=ll("tbody",!1),pl=ll("tfoot",!1),gl=function(t,e,n,r){var o=Nf(e.details),i=Ys(t,H(o,(function(t){return t.column}))),u=i.length>0?i[0].cells.length-1:0;return el(i,o[0].row,Math.min(o[0].column,u))},vl=function(t,e,n,r){var o=nl(e),i=Xs(t,o[0].row,o[o.length-1].row),u=i.length>0?i.length-1:0;return el(i,Math.min(e[0].row,u),e[0].column)},hl=function(t,e,n,r){var o=e.cells;Yf(o);var i=ws(t,e.bounds,n,r.merge(o));return Qf(i,M.from(o[0]))},bl=function(t,e,n,r){var o=function(t,e){return Cs(t,e,n,r.unmerge(e))},i=G(e,o,t);return Qf(i,M.from(e[0]))},yl=function(t,e,n,r){var o=function(t,e){var n=Ho.fromTable(t);return is(n,e,!0)},i=o(e.clipboard,e.generators),u=We(e.row,e.column),a=Hs(u,t,i,e.generators,n);return a.fold((function(){return Qf(t,M.some(e.element))}),(function(t){return el(t,e.row,e.column)}))},xl=function(t,e,n){var r=gr(t,n.section),o=Ho.generate(r);return is(o,e,!0)},wl=function(t,e,n,r){var o=Eo(t).rows,i=e.cells[0].column,u=o[e.cells[0].row],a=xl(e.clipboard,e.generators,u),c=Vs(i,t,a,e.generators,n);return el(c,e.cells[0].row,e.cells[0].column)},Cl=function(t,e,n,r){var o=Eo(t).rows,i=e.cells[e.cells.length-1].column+e.cells[e.cells.length-1].colspan,u=o[e.cells[0].row],a=xl(e.clipboard,e.generators,u),c=Vs(i,t,a,e.generators,n);return el(c,e.cells[0].row,e.cells[0].column)},Sl=function(t,e,n,r){var o=Eo(t).rows,i=e.cells[0].row,u=o[i],a=xl(e.clipboard,e.generators,u),c=Ws(i,t,a,e.generators,n);return el(c,e.cells[0].row,e.cells[0].column)},kl=function(t,e,n,r){var o=Eo(t).rows,i=e.cells[e.cells.length-1].row+e.cells[e.cells.length-1].rowspan,u=o[e.cells[0].row],a=xl(e.clipboard,e.generators,u),c=Ws(i,t,a,e.generators,n);return el(c,e.cells[0].row,e.cells[0].column)},_l=function(t,e){var n=Ho.fromTable(t),r=gs(n,e);return r.bind((function(t){var e=t[t.length-1],r=t[0].column,o=e.column+e.colspan,i=Q(H(n.all,(function(t){return q(t.cells,(function(t){return t.column>=r&&t.column<o}))})));return Fc(i)})).getOr("")},El=function(t,e){var n=Ho.fromTable(t),r=gs(n,e);return r.bind(Fc).getOr("")},Ol=function(t,e){var n=Ho.fromTable(t),r=gs(n,e);return r.bind((function(t){var e=t[t.length-1],r=t[0].row,o=e.row+e.rowspan,i=n.all.slice(r,o);return jc(i)})).getOr("")},Tl=function(t,e,n,r){return Rf(t,e,n,r.sizing)},Al=function(t,e,n,r){return Af(t,e,n,r.sizing,r.resize)},Rl=function(t,e){return z(e,(function(t){return 0===t.column&&t.isLocked}))},Nl=function(t,e){return z(e,(function(e){return e.column+e.colspan>=t.grid.columns&&e.isLocked}))},Dl=function(t,e){var n=Vo(t),r=Nf(e);return K(r,(function(t,e){var r=n[e.column],o=r.map(go).getOr(0);return t+o}),0)},Bl=function(t){return function(e,n){return gs(e,n).filter((function(n){var r=t?Rl:Nl;return!r(e,n)})).map((function(t){return{details:t,pixelDelta:Dl(e,t)}}))}},Ml=function(t,e){return vs(t,e).map((function(e){return{details:e,pixelDelta:-Dl(t,e)}}))},Il=function(t){return function(e,n){return ds(e,n).filter((function(n){var r=t?Rl:Nl;return!r(e,n.cells)}))}},Pl=zf.transform("th"),Ll=zf.transform("td"),Fl=fs(rl,gs,C,C,zf.modification),jl=fs(ol,gs,C,C,zf.modification),zl=fs(il,Bl(!0),Al,C,zf.modification),Ul=fs(ul,Bl(!1),Al,C,zf.modification),Hl=fs(gl,Ml,Al,Jf,zf.modification),Vl=fs(vl,gs,C,Jf,zf.modification),Wl=fs(al,vs,C,C,Pl),$l=fs(sl,vs,C,C,Ll),ql=fs(dl,vs,C,C,Pl),Gl=fs(ml,vs,C,C,Ll),Kl=fs(pl,vs,C,C,Ll),Yl=fs(cl,vs,C,C,Pl),Xl=fs(fl,vs,C,C,Ll),Jl=fs(hl,ys,Tl,C,zf.merging),Ql=fs(bl,xs,Tl,C,zf.merging),Zl=fs(yl,ls,Tl,C,zf.modification),td=fs(wl,Il(!0),C,C,zf.modification),ed=fs(Cl,Il(!1),C,C,zf.modification),nd=fs(Sl,ds,C,C,zf.modification),rd=fs(kl,ds,C,C,zf.modification),od=_l,id=El,ud=Ol,ad=function(t,e){return t.dispatch("NewRow",{node:e})},cd=function(t,e){return t.dispatch("NewCell",{node:e})},sd=function(t,e,n){t.dispatch("TableModified",o(o({},n),{},{table:e}))},fd=function(t,e,n,r,o){t.dispatch("TableSelectionChange",{cells:e,start:n,finish:r,otherCells:o})},ld=function(t){t.dispatch("TableSelectionClear")},dd=function(t,e,n,r,o){t.dispatch("ObjectResizeStart",{target:e,width:n,height:r,origin:o})},md=function(t,e,n,r,o){t.dispatch("ObjectResized",{target:e,width:n,height:r,origin:o})},pd={structure:!1,style:!0},gd={structure:!0,style:!1},vd={structure:!0,style:!0},hd=function(t){return function(e){return e.options.get(t)}},bd="100%",yd=function(t){var e,n=t.dom,r=null!==(e=n.getParent(t.selection.getStart(),n.isBlock))&&void 0!==e?e:t.getBody();return vo(oe.fromDom(r))+"px"},xd=function(t,e){return Dd(t)||!Md(t)?e:Nd(t)?o(o({},e),{},{width:yd(t)}):o(o({},e),{},{width:bd})},wd=function(t,e){return Dd(t)||Md(t)?e:Nd(t)?o(o({},e),{},{width:yd(t)}):o(o({},e),{},{width:bd})},Cd=function(t){var e=t.options.register;e("table_clone_elements",{processor:"string[]"}),e("table_use_colgroups",{processor:"boolean",default:!0}),e("table_header_type",{processor:function(t){var e=j(["section","cells","sectionCells","auto"],t);return e?{value:t,valid:e}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),e("table_sizing_mode",{processor:"string",default:"auto"}),e("table_default_attributes",{processor:"object",default:{border:"1"}}),e("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),e("table_column_resizing",{processor:function(t){var e=j(["preservetable","resizetable"],t);return e?{value:t,valid:e}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),e("table_resize_bars",{processor:"boolean",default:!0}),e("table_style_by_css",{processor:"boolean",default:!0})},Sd=function(t){return M.from(t.options.get("table_clone_elements"))},kd=function(t){var e=t.options.get("object_resizing");return j(e.split(","),"table")},_d=hd("table_header_type"),Ed=hd("table_column_resizing"),Od=function(t){return"preservetable"===Ed(t)},Td=function(t){return"resizetable"===Ed(t)},Ad=hd("table_sizing_mode"),Rd=function(t){return"relative"===Ad(t)},Nd=function(t){return"fixed"===Ad(t)},Dd=function(t){return"responsive"===Ad(t)},Bd=hd("table_resize_bars"),Md=hd("table_style_by_css"),Id=function(t){var e=t.options,n=e.get("table_default_attributes");return e.isSet("table_default_attributes")?n:wd(t,n)},Pd=function(t){var e=t.options,n=e.get("table_default_styles");return e.isSet("table_default_styles")?n:xd(t,n)},Ld=hd("table_use_colgroups"),Fd=function(t,e){return Rd(t)?hu.percentageSize(e):Nd(t)?hu.pixelSize(e):hu.getTableSize(e)},jd=function(t,e,n){var r=function(t){return"table"===It(ea(t))},o=function(e){return!r(t)||Bc(e).rows>1},i=function(e){return!r(t)||Bc(e).columns>1},u=Sd(t),a=Td(t)?C:_c,c=function(e){switch(_d(t)){case"section":return Kc.section();case"sectionCells":return Kc.sectionCells();case"cells":return Kc.cells();default:return Kc.getTableSectionType(e,"section")}},s=function(e,r){return r.cursor.fold((function(){var r=ar(e);return it(r).filter(fn).map((function(r){n.clearSelectedCells(e.dom);var o=t.dom.createRng();return o.selectNode(r.dom),t.selection.setRng(o),qt(r,"data-mce-selected","1"),o}))}),(function(r){var o=kc(r),i=t.dom.createRng();return i.setStart(o.element.dom,o.offset),i.setEnd(o.element.dom,o.offset),t.selection.setRng(i),n.clearSelectedCells(e.dom),M.some(i)}))},f=function(n,r,o,i){return function(a,f){var l=arguments.length>2&&void 0!==arguments[2]&&arguments[2];ra(a);var d=oe.fromDom(t.getDoc()),m=Ku(o,d,u),p={sizing:Fd(t,a),resize:Td(t)?Nc():Dc(),section:c(a)};return r(a)?n(a,f,m,p).bind((function(n){e.refresh(a.dom),V(n.newRows,(function(e){ad(t,e.dom)})),V(n.newCells,(function(e){cd(t,e.dom)}));var r=s(a,n);return fn(a)&&(ra(a),l||sd(t,a.dom,i)),r.map((function(t){return{rng:t,effect:i}}))})):M.none()}},l=f(Vl,o,C,gd),d=f(Hl,i,C,gd),m=f(Fl,B,C,gd),p=f(jl,B,C,gd),g=f(zl,B,a,gd),v=f(Ul,B,a,gd),h=f(Jl,B,C,gd),b=f(Ql,B,C,gd),y=f(td,B,C,gd),x=f(ed,B,C,gd),w=f(nd,B,C,gd),S=f(rd,B,C,gd),k=f(Zl,B,C,vd),_=f(Yl,B,C,gd),E=f(Xl,B,C,gd),O=f(Wl,B,C,gd),T=f($l,B,C,gd),A=f(ql,B,C,gd),R=f(Gl,B,C,gd),N=f(Kl,B,C,gd),D=id,I=od,P=ud;return{deleteRow:l,deleteColumn:d,insertRowsBefore:m,insertRowsAfter:p,insertColumnsBefore:g,insertColumnsAfter:v,mergeCells:h,unmergeCells:b,pasteColsBefore:y,pasteColsAfter:x,pasteRowsBefore:w,pasteRowsAfter:S,pasteCells:k,makeCellsHeader:_,unmakeCellsHeader:E,makeColumnsHeader:O,unmakeColumnsHeader:T,makeRowsHeader:A,makeRowsBody:R,makeRowsFooter:N,getTableRowType:P,getTableCellType:D,getTableColType:I}},zd=function(t,e,n){var r=Xn(t,e,1);1===n||r<=1?Jt(t,e):qt(t,e,Math.min(n,r))},Ud=function(t,e){return function(n){var r=n.column+n.colspan-1,o=n.column;return r>=t&&o<e}},Hd=function(t,e,n){if(Ho.hasColumns(t)){var r=q(Ho.justColumns(t),Ud(e,n)),o=H(r,(function(t){var r=Le(t.element);return zd(r,"span",n-e),r})),i=oe.fromTag("colgroup");return Ne(i,o),[i]}return[]},Vd=function(t,e,n){return H(t.all,(function(t){var r=q(t.cells,Ud(e,n)),o=H(r,(function(t){var r=Le(t.element);return zd(r,"colspan",n-e),r})),i=oe.fromTag("tr");return Ne(i,o),i}))},Wd=function(t,e){var n=Ho.fromTable(t),r=vs(n,e);return r.map((function(t){var e=t[t.length-1],r=t[0].column,o=e.column+e.colspan,u=Hd(n,r,o),a=Vd(n,r,o);return[].concat(i(u),i(a))}))},$d=function(t,e,n){var r=Ho.fromTable(t),i=gs(r,e);return i.bind((function(t){var e=is(r,n,!1),i=Eo(e).rows,u=i.slice(t[0].row,t[t.length-1].row+t[t.length-1].rowspan),a=Z(u,(function(t){var e=q(t.cells,(function(t){return!t.isLocked}));return e.length>0?[o(o({},t),{},{cells:e})]:[]})),c=as(a);return Nn(c.length>0,c)})).map((function(t){return Zc(t)}))},qd=pf.generate([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),Gd=function(t,e,n){var r=n.substring(0,n.length-t.length),o=parseFloat(r);return r===o.toString()?e(o):qd.invalid(n)},Kd=function(t){return In(t,"%")?Gd("%",qd.percent,t):In(t,"px")?Gd("px",qd.pixels,t):qd.invalid(t)},Yd=o(o({},qd),{},{from:Kd}),Xd=function(t,e){return H(t,(function(t){var n=Yd.from(t);return n.fold((function(){return t}),(function(t){var n=t/e*100;return n+"%"}),(function(t){return t+"%"}))}))},Jd=function(t,e,n){var r=n/e;return H(t,(function(t){var e=Yd.from(t);return e.fold((function(){return t}),(function(t){return t*r+"px"}),(function(t){return t/100*n+"px"}))}))},Qd=function(t,e){var n=t.fold((function(){return _("")}),(function(t){var n=t/e;return _(n+"px")}),(function(){var t=100/e;return _(t+"%")}));return U(e,n)},Zd=function(t,e,n){return t.fold((function(){return e}),(function(t){return Jd(e,n,t)}),(function(t){return Xd(e,n)}))},tm=function(t,e,n){var r=Yd.from(n),o=tt(t,(function(t){return"0px"===t}))?Qd(r,t.length):Zd(r,t,e);return om(o)},em=function(t,e){return 0===t.length?e:G(t,(function(t,e){return Yd.from(e).fold(_(0),E,E)+t}),0)},nm=function(t,e){var n=Math.floor(t);return{value:n+e,remainder:t-n}},rm=function(t,e){return Yd.from(t).fold(_(t),(function(t){return t+e+"px"}),(function(t){return t+e+"%"}))},om=function(t){if(0===t.length)return t;var e=G(t,(function(t,e){var n=Yd.from(e).fold((function(){return{value:e,remainder:0}}),(function(t){return nm(t,"px")}),(function(t){return{value:t+"%",remainder:0}}));return{output:[n.value].concat(t.output),remainder:t.remainder+n.remainder}}),{output:[],remainder:0}),n=e.output;return n.slice(0,n.length-1).concat([rm(n[n.length-1],Math.round(e.remainder))])},im=Yd.from,um=function(t,e,n){V(e,(function(e){var r=t.slice(e.column,e.colspan+e.column),o=em(r,er());Vn(e.element,"width",o+n)}))},am=function(t,e,n){V(e,(function(e,r){var o=em([t[r]],er());Vn(e.element,"width",o+n)}))},cm=function(t,e,n,r){V(n,(function(e){var n=t.slice(e.row,e.rowspan+e.row),o=em(n,nr());Vn(e.element,"height",o+r)})),V(e,(function(e,n){Vn(e.element,"height",t[n])}))},sm=function(t){return im(t).fold(_("px"),_("px"),_("%"))},fm=function(t,e,n){var r=Ho.fromTable(t),o=r.all,i=Ho.justCells(r),u=Ho.justColumns(r);e.each((function(e){var n=sm(e),o=po(t),a=iu(r,t),c=tm(a,o,e);Ho.hasColumns(r)?am(c,u,n):um(c,i,n),Vn(t,"width",e)})),n.each((function(e){var n=sm(e),u=Xo(t),a=fu(r,t,vi),c=tm(a,u,e);cm(c,o,i,n),Vn(t,"height",e)}))},lm=Gi,dm=Ki,mm=Yi,pm=function(t){Jt(t,"width")},gm=function(t){var e=qi(t);fm(t,M.some(e),M.none()),pm(t)},vm=function(t){var e=$i(t);fm(t,M.some(e),M.none()),pm(t)},hm=function(t){Kn(t,"width");var e=cr(t),n=e.length>0?e:ar(t);V(n,(function(t){Kn(t,"width"),pm(t)})),pm(t)},bm={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},ym=function(){return oe.fromTag("th")},xm=function(){return oe.fromTag("td")},wm=function(){return oe.fromTag("col")},Cm=function(t,e,n,r){for(var o=oe.fromTag("tr"),i=0;i<t;i++){var u=r<e||i<n?ym():xm();i<n&&qt(u,"scope","row"),r<e&&qt(u,"scope","col"),Oe(u,oe.fromTag("br")),Oe(o,u)}return o},Sm=function(t){var e=oe.fromTag("colgroup");return U(t,(function(){return Oe(e,wm())})),e},km=function(t,e,n,r){return U(t,(function(t){return Cm(e,n,r,t)}))},_m=function(t,e,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:bm,u=oe.fromTag("table"),a="cells"!==o;Wn(u,i.styles),Gt(u,i.attributes),i.colGroups&&Oe(u,Sm(e));var c=Math.min(t,n);if(a&&n>0){var s=oe.fromTag("thead");Oe(u,s);var f="sectionCells"===o?c:0,l=km(n,e,f,r);Ne(s,l)}var d=oe.fromTag("tbody");Oe(u,d);var m=a?t-c:t,p=a?0:n,g=km(m,e,p,r);return Ne(d,g),u},Em=function(t){return t.dom.innerHTML},Om=function(t){var e=oe.fromTag("div"),n=oe.fromDom(t.dom.cloneNode(!0));return Oe(e,n),Em(e)},Tm=function(t,e){t.selection.select(e.dom,!0),t.selection.collapse(!0)},Am=function(t,e){En(e,"td,th").each(T(Tm,t))},Rm=function(t,e){V(bn(e,"tr"),(function(e){ad(t,e.dom),V(bn(e,"th,td"),(function(e){cd(t,e.dom)}))}))},Nm=function(t){return d(t)&&-1!==t.indexOf("%")},Dm=function(t,e,n,r,o){var i=Pd(t),u={styles:i,attributes:Id(t),colGroups:Ld(t)};return t.undoManager.ignore((function(){var i=_m(n,e,o,r,_d(t),u);qt(i,"data-mce-id","__mce");var a=Om(i);t.insertContent(a),t.addVisual()})),En(ea(t),'table[data-mce-id="__mce"]').map((function(e){return Nd(t)?vm(e):Dd(t)?hm(e):(Rd(t)||Nm(i.width))&&gm(e),ra(e),Jt(e,"data-mce-id"),Rm(t,e),Am(t,e),e.dom})).getOrNull()},Bm=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=function(t){return w(t)&&t>0};if(o(e)&&o(n)){var i=r.headerRows||0,u=r.headerColumns||0;return Dm(t,n,e,u,i)}return console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table."),null},Mm=tinymce.util.Tools.resolve("tinymce.FakeClipboard"),Im="x-tinymce/dom-table-",Pm=Im+"rows",Lm=Im+"columns",Fm=function(t){var e=Mm.FakeClipboardItem(t);Mm.write([e])},jm=function(t){var e,n=null!==(e=Mm.read())&&void 0!==e?e:[];return at(n,(function(e){return M.from(e.getType(t))}))},zm=function(t){jm(t).isSome()&&Mm.clear()},Um=function(t){t.fold(Vm,(function(t){return Fm(r({},Pm,t))}))},Hm=function(){return jm(Pm)},Vm=function(){return zm(Pm)},Wm=function(t){t.fold(qm,(function(t){return Fm(r({},Lm,t))}))},$m=function(){return jm(Lm)},qm=function(){return zm(Lm)},Gm=function(t){return fc(oa(t),na(t)).filter(fa)},Km=function(t){return lc(oa(t),na(t)).filter(fa)},Ym=function(t,e){var n=na(t),r=function(){return Gm(t).each((function(e){sr(e,n).filter(A(n)).each((function(e){var n=oe.fromText("");if(_e(e,n),Be(e),t.dom.isEmpty(t.getBody()))t.setContent(""),t.selection.setCursorLocation();else{var r=t.dom.createRng();r.setStart(n.dom,0),r.setEnd(n.dom,0),t.selection.setRng(r),t.nodeChanged()}}))}))},o=function(e){return Gm(t).each((function(r){var o=Dd(t)||Nd(t)||Rd(t);o||sr(r,n).each((function(n){"relative"!==e||lm(n)?"fixed"!==e||dm(n)?"responsive"!==e||mm(n)||hm(n):vm(n):gm(n),ra(n),sd(t,n.dom,gd)}))}))},i=function(t){return sr(t,n)},u=function(e){return Km(t).bind((function(t){return i(t).map((function(n){return e(n,t)}))}))},a=function(e,n){u((function(e){t.formatter.toggle("tableclass",{value:n},e.dom),sd(t,e.dom,pd)}))},c=function(e,n){u((function(e){var r=dc(t),o=tt(r,(function(e){return t.formatter.match("tablecellclass",{value:n},e.dom)})),i=o?t.formatter.remove:t.formatter.apply;V(r,(function(t){return i("tablecellclass",{value:n},t.dom)})),sd(t,e.dom,pd)}))},s=function(){Gm(t).each((function(e){sr(e,n).each((function(n){_n(n,"caption").fold((function(){var e=oe.fromTag("caption");Oe(e,oe.fromText("Caption")),Te(n,e,0),t.selection.setCursorLocation(e.dom,0)}),(function(r){Wt("caption")(e)&&ce("td",n).each((function(e){return t.selection.setCursorLocation(e.dom,0)})),Be(r)})),sd(t,n.dom,gd)}))}))},f=function(e){t.focus()},l=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return u((function(r,o){var i=ic(dc(t),r,o);e(r,i,n).each(f)}))},p=function(){return u((function(e,n){var r=ic(dc(t),e,n),o=Ku(C,oe.fromDom(t.getDoc()),M.none());return $d(e,r,o)}))},g=function(){return u((function(e,n){var r=ic(dc(t),e,n);return Wd(e,r)}))},v=function(e,n){return n().each((function(n){var r=H(n,(function(t){return Le(t)}));u((function(n,o){var i=Yu(oe.fromDom(t.getDoc())),u=ac(dc(t),o,r,i);e(n,u).each(f)}))}))},h=function(t){return function(e,n){return bt(n,"type").each((function(e){l(t(e),n.no_events)}))}};ft({mceTableSplitCells:function(){return l(e.unmergeCells)},mceTableMergeCells:function(){return l(e.mergeCells)},mceTableInsertRowBefore:function(){return l(e.insertRowsBefore)},mceTableInsertRowAfter:function(){return l(e.insertRowsAfter)},mceTableInsertColBefore:function(){return l(e.insertColumnsBefore)},mceTableInsertColAfter:function(){return l(e.insertColumnsAfter)},mceTableDeleteCol:function(){return l(e.deleteColumn)},mceTableDeleteRow:function(){return l(e.deleteRow)},mceTableCutCol:function(){return g().each((function(t){Wm(t),l(e.deleteColumn)}))},mceTableCutRow:function(){return p().each((function(t){Um(t),l(e.deleteRow)}))},mceTableCopyCol:function(){return g().each((function(t){return Wm(t)}))},mceTableCopyRow:function(){return p().each((function(t){return Um(t)}))},mceTablePasteColBefore:function(){return v(e.pasteColsBefore,$m)},mceTablePasteColAfter:function(){return v(e.pasteColsAfter,$m)},mceTablePasteRowBefore:function(){return v(e.pasteRowsBefore,Hm)},mceTablePasteRowAfter:function(){return v(e.pasteRowsAfter,Hm)},mceTableDelete:r,mceTableCellToggleClass:c,mceTableToggleClass:a,mceTableToggleCaption:s,mceTableSizingMode:function(t,e){return o(e)},mceTableCellType:h((function(t){return"th"===t?e.makeCellsHeader:e.unmakeCellsHeader})),mceTableColType:h((function(t){return"th"===t?e.makeColumnsHeader:e.unmakeColumnsHeader})),mceTableRowType:h((function(t){switch(t){case"header":return e.makeRowsHeader;case"footer":return e.makeRowsFooter;default:return e.makeRowsBody}}))},(function(e,n){return t.addCommand(n,e)})),t.addCommand("mceInsertTable",(function(e,n){Bm(t,n.rows,n.columns,n.options)})),t.addCommand("mceTableApplyCellStyle",(function(e,n){var r=function(t){return"tablecell"+t.toLowerCase().replace("-","")};if(m(n)){var o=q(dc(t),fa);if(0!==o.length){var u=gt(n,(function(e,n){return t.formatter.has(r(n))&&d(e)}));wt(u)||(ft(u,(function(e,n){var i=r(n);V(o,(function(n){""===e?t.formatter.remove(i,{value:null},n.dom,!0):t.formatter.apply(i,{value:e},n.dom)}))})),i(o[0]).each((function(e){return sd(t,e.dom,pd)})))}}}))},Xm=function(t,e){var n=na(t),r=function(e){return lc(oa(t)).bind((function(r){return sr(r,n).map((function(n){var o=ic(dc(t),n,r);return e(n,o)}))})).getOr("")};ft({mceTableRowType:function(){return r(e.getTableRowType)},mceTableCellType:function(){return r(e.getTableCellType)},mceTableColType:function(){return r(e.getTableColType)}},(function(e,n){return t.addQueryValueHandler(n,e)}))},Jm=pf.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Qm=function(t,e,n,r){return t.fold(e,n,r)},Zm=function(t){return t.fold(E,E,E)},tp=Jm.before,ep=Jm.on,np=Jm.after,rp={before:tp,on:ep,after:np,cata:Qm,getStart:Zm},op=function(t,e){return{selection:t,kill:e}},ip={create:op},up=function(t,e){var n=t.document.createRange();return n.selectNode(e.dom),n},ap=function(t,e){var n=t.document.createRange();return cp(n,e),n},cp=function(t,e){return t.selectNodeContents(e.dom)},sp=function(t,e){e.fold((function(e){t.setStartBefore(e.dom)}),(function(e,n){t.setStart(e.dom,n)}),(function(e){t.setStartAfter(e.dom)}))},fp=function(t,e){e.fold((function(e){t.setEndBefore(e.dom)}),(function(e,n){t.setEnd(e.dom,n)}),(function(e){t.setEndAfter(e.dom)}))},lp=function(t,e,n){var r=t.document.createRange();return sp(r,e),fp(r,n),r},dp=function(t,e,n,r,o){var i=t.document.createRange();return i.setStart(e.dom,n),i.setEnd(r.dom,o),i},mp=function(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom,width:t.width,height:t.height}},pp=function(t){var e=t.getClientRects(),n=e.length>0?e[0]:t.getBoundingClientRect();return n.width>0||n.height>0?M.some(n).map(mp):M.none()},gp=pf.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),vp=function(t,e,n){return e(oe.fromDom(n.startContainer),n.startOffset,oe.fromDom(n.endContainer),n.endOffset)},hp=function(t,e){return e.match({domRange:function(t){return{ltr:_(t),rtl:M.none}},relative:function(e,n){return{ltr:vr((function(){return lp(t,e,n)})),rtl:vr((function(){return M.some(lp(t,n,e))}))}},exact:function(e,n,r,o){return{ltr:vr((function(){return dp(t,e,n,r,o)})),rtl:vr((function(){return M.some(dp(t,r,o,e,n))}))}}})},bp=function(t,e){var n=e.ltr();if(n.collapsed){var r=e.rtl().filter((function(t){return!1===t.collapsed}));return r.map((function(t){return gp.rtl(oe.fromDom(t.endContainer),t.endOffset,oe.fromDom(t.startContainer),t.startOffset)})).getOrThunk((function(){return vp(t,gp.ltr,n)}))}return vp(t,gp.ltr,n)},yp=function(t,e){var n=hp(t,e);return bp(t,n)},xp=function(t,e){var n=yp(t,e);return n.match({ltr:function(e,n,r,o){var i=t.document.createRange();return i.setStart(e.dom,n),i.setEnd(r.dom,o),i},rtl:function(e,n,r,o){var i=t.document.createRange();return i.setStart(r.dom,o),i.setEnd(e.dom,n),i}})};gp.ltr,gp.rtl;var wp=function(t,e,n,r){return{start:t,soffset:e,finish:n,foffset:r}},Cp={create:wp},Sp=function(t,e,n,r){return{start:rp.on(t,e),finish:rp.on(n,r)}},kp={create:Sp},_p=function(t,e){var n=xp(t,e);return Cp.create(oe.fromDom(n.startContainer),n.startOffset,oe.fromDom(n.endContainer),n.endOffset)},Ep=kp.create,Op=function(t,e,n,r,o,i,u){return se(n,o)&&r===i?M.none():On(n,"td,th",e).bind((function(n){return On(o,"td,th",e).bind((function(r){return Tp(t,e,n,r,u)}))}))},Tp=function(t,e,n,r,o){return se(n,r)?M.none():ja(n,r,e).bind((function(e){var r=e.boxes.getOr([]);return r.length>1?(o(t,r,e.start,e.finish),M.some(ip.create(M.some(Ep(n,0,n,Nu(n))),!0))):M.none()}))},Ap=function(t,e,n,r,o){var i=function(t){return o.clearBeforeUpdate(n),o.selectRange(n,t.boxes,t.start,t.finish),t.boxes};return Wa(r,t,e,o.firstSelectedSelector,o.lastSelectedSelector).map(i)},Rp=function(t,e){return{item:t,mode:e}},Np=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Dp;return t.property().parent(e).map((function(t){return Rp(t,r)}))},Dp=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Bp;return n.sibling(t,e).map((function(t){return Rp(t,r)}))},Bp=function t(e,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t,i=e.property().children(n),u=r.first(i);return u.map((function(t){return Rp(t,o)}))},Mp=[{current:Np,next:Dp,fallback:M.none()},{current:Dp,next:Bp,fallback:M.some(Np)},{current:Bp,next:Bp,fallback:M.some(Dp)}],Ip=function t(e,n,r,o){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Mp,u=X(i,(function(t){return t.current===r}));return u.bind((function(r){return r.current(e,n,o,r.next).orThunk((function(){return r.fallback.bind((function(r){return t(e,n,r,o)}))}))}))},Pp=function(){var t=function(t,e){return t.query().prevSibling(e)},e=function(t){return t.length>0?M.some(t[t.length-1]):M.none()};return{sibling:t,first:e}},Lp=function(){var t=function(t,e){return t.query().nextSibling(e)},e=function(t){return t.length>0?M.some(t[0]):M.none()};return{sibling:t,first:e}},Fp={left:Pp,right:Lp},jp=function t(e,n,r,o,i,u){var a=Ip(e,n,o,i);return a.bind((function(n){return u(n.item)?M.none():r(n.item)?M.some(n.item):t(e,n.item,r,n.mode,i,u)}))},zp=function(t,e,n,r){return jp(t,e,n,Dp,Fp.left(),r)},Up=function(t,e,n,r){return jp(t,e,n,Dp,Fp.right(),r)},Hp=function(t){return function(e){return 0===t.property().children(e).length}},Vp=function(t,e,n){return $p(t,e,Hp(t),n)},Wp=function(t,e,n){return qp(t,e,Hp(t),n)},$p=zp,qp=Up,Gp=Ea(),Kp=function(t,e){return Vp(Gp,t,e)},Yp=function(t,e){return Wp(Gp,t,e)},Xp=function(t,e,n){return $p(Gp,t,e,n)},Jp=function(t,e,n){return qp(Gp,t,e,n)},Qp=function(t,e,n){return xn(t,e,n).isSome()},Zp=pf.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),tg=function(t,e,n){var r=t.getRect(e),o=t.getRect(n);return o.right>r.left&&o.left<r.right},eg=function(t){return On(t,"tr")},ng=function(t,e,n,r,o,i,u){return On(r,"td,th",u).bind((function(n){return On(e,"td,th",u).map((function(e){return se(n,e)?se(r,n)&&Nu(n)===o?i(e):Zp.none("in same cell"):Pa(eg,[n,e]).fold((function(){return tg(t,e,n)?Zp.success():i(e)}),(function(t){return i(e)}))}))})).getOr(Zp.none("default"))},rg=function(t,e,n,r,o){return t.fold(e,n,r,o)},og=o(o({},Zp),{},{verify:ng,cata:rg}),ig=function(t,e,n,r){return{parent:t,children:e,element:n,index:r}},ug=function(t){return ve(t).bind((function(e){var n=we(e);return ag(n,t).map((function(r){return ig(e,n,t,r)}))}))},ag=function(t,e){return J(t,T(se,e))},cg=Wt("br"),sg=function t(e,n,r){return n(e,r).bind((function(e){return Ut(e)&&0===Tu(e).trim().length?t(e,n,r):M.some(e)}))},fg=function(t,e,n){return n.traverse(e).orThunk((function(){return sg(e,n.gather,t)})).map(n.relative)},lg=function(t,e){return Ce(t,e).filter(cg).orThunk((function(){return Ce(t,e-1).filter(cg)}))},dg=function(t,e,n,r){return lg(e,n).bind((function(e){return r.traverse(e).fold((function(){return sg(e,r.gather,t).map(r.relative)}),(function(t){return ug(t).map((function(t){return rp.on(t.parent,t.index)}))}))}))},mg=function(t,e,n,r){var o=cg(e)?fg(t,e,r):dg(t,e,n,r);return o.map((function(t){return{start:t,finish:t}}))},pg=function(t){return og.cata(t,(function(t){return M.none()}),(function(){return M.none()}),(function(t){return M.some(bc(t,0))}),(function(t){return M.some(bc(t,Nu(t)))}))},gg=function(t,e){return{left:t.left,top:t.top+e,right:t.right,bottom:t.bottom+e}},vg=function(t,e){return{left:t.left,top:t.top-e,right:t.right,bottom:t.bottom-e}},hg=function(t,e,n){return{left:t.left+e,top:t.top+n,right:t.right+e,bottom:t.bottom+n}},bg=function(t){return t.top},yg=function(t){return t.bottom},xg=function(t,e,n){return n>=0&&n<Nu(e)?t.getRangedRect(e,n,e,n+1):n>0?t.getRangedRect(e,n-1,e,n):M.none()},wg=function(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom}},Cg=function(t,e){return M.some(t.getRect(e))},Sg=function(t,e,n){return zt(e)?Cg(t,e).map(wg):Ut(e)?xg(t,e,n).map(wg):M.none()},kg=function(t,e){return zt(e)?Cg(t,e).map(wg):Ut(e)?t.getRangedRect(e,0,e,Nu(e)).map(wg):M.none()},_g=5,Eg=100,Og=pf.generate([{none:[]},{retry:["caret"]}]),Tg=function(t,e){return t.left<e.left||Math.abs(e.right-t.left)<1||t.left>e.right},Ag=function(t,e,n){return wn(e,qf).fold(D,(function(e){return kg(t,e).exists((function(t){return Tg(n,t)}))}))},Rg=function(t,e,n,r,o){var i=gg(o,_g);return Math.abs(n.bottom-r.bottom)<1||n.top>o.bottom?Og.retry(i):n.top===o.bottom?Og.retry(gg(o,1)):Ag(t,e,o)?Og.retry(hg(i,_g,0)):Og.none()},Ng=function(t,e,n,r,o){var i=vg(o,_g);return Math.abs(n.top-r.top)<1||n.bottom<o.top?Og.retry(i):n.bottom===o.top?Og.retry(vg(o,1)):Ag(t,e,o)?Og.retry(hg(i,_g,0)):Og.none()},Dg={point:bg,adjuster:Ng,move:vg,gather:Kp},Bg={point:yg,adjuster:Rg,move:gg,gather:Yp},Mg=function(t,e,n){return t.elementFromPoint(e,n).filter((function(t){return"table"===It(t)})).isSome()},Ig=function(t,e,n,r,o){return Pg(t,e,n,e.move(r,_g),o)},Pg=function t(e,n,r,o,i){return 0===i?M.some(o):Mg(e,o.left,n.point(o))?Ig(e,n,r,o,i-1):e.situsFromPoint(o.left,n.point(o)).bind((function(u){return u.start.fold(M.none,(function(u){return kg(e,u).bind((function(a){return n.adjuster(e,u,a,r,o).fold(M.none,(function(o){return t(e,n,r,o,i-1)}))})).orThunk((function(){return M.some(o)}))}),M.none)}))},Lg=function(t,e,n){return t.point(e)>n.getInnerHeight()?M.some(t.point(e)-n.getInnerHeight()):t.point(e)<0?M.some(-t.point(e)):M.none()},Fg=function(t,e,n){var r=t.move(n,_g),o=Pg(e,t,n,r,Eg).getOr(r);return Lg(t,o,e).fold((function(){return e.situsFromPoint(o.left,t.point(o))}),(function(n){return e.scrollBy(0,n),e.situsFromPoint(o.left,t.point(o)-n)}))},jg={tryUp:T(Fg,Dg),tryDown:T(Fg,Bg),getJumpSize:_(_g)},zg=20,Ug=function(t,e,n){return t.getSelection().bind((function(r){return mg(e,r.finish,r.foffset,n).fold((function(){return M.some(bc(r.finish,r.foffset))}),(function(o){var i=t.fromSitus(o),u=og.verify(t,r.finish,r.foffset,i.finish,i.foffset,n.failure,e);return pg(u)}))}))},Hg=function t(e,n,r,o,i,u){return 0===u?M.none():$g(e,n,r,o,i).bind((function(a){var c=e.fromSitus(a),s=og.verify(e,r,o,c.finish,c.foffset,i.failure,n);return og.cata(s,(function(){return M.none()}),(function(){return M.some(a)}),(function(a){return se(r,a)&&0===o?Vg(e,r,o,vg,i):t(e,n,a,0,i,u-1)}),(function(a){return se(r,a)&&o===Nu(a)?Vg(e,r,o,gg,i):t(e,n,a,Nu(a),i,u-1)}))}))},Vg=function(t,e,n,r,o){return Sg(t,e,n).bind((function(e){return Wg(t,o,r(e,jg.getJumpSize()))}))},Wg=function(t,e,n){var r=ro().browser;return r.isChromium()||r.isSafari()||r.isFirefox()?e.retry(t,n):M.none()},$g=function(t,e,n,r,o){return Sg(t,n,r).bind((function(e){return Wg(t,o,e)}))},qg=function(t,e,n){return Ug(t,e,n).bind((function(r){return Hg(t,e,r.element,r.offset,n,zg).map(t.fromSitus)}))},Gg=function(t,e){return Qp(t,(function(t){return ve(t).exists((function(t){return se(t,e)}))}))},Kg=function(t,e,n,r,o){return On(r,"td,th",e).bind((function(r){return On(r,"table",e).bind((function(i){return Gg(o,i)?qg(t,e,n).bind((function(t){return On(t.finish,"td,th",e).map((function(e){return{start:r,finish:e,range:t}}))})):M.none()}))}))},Yg=function(t,e,n,r,o,i){return i(r,e).orThunk((function(){return Kg(t,e,n,r,o).map((function(t){var e=t.range;return ip.create(M.some(Ep(e.start,e.soffset,e.finish,e.foffset)),!0)}))}))},Xg=function(t,e){return On(t,"tr",e).bind((function(t){return On(t,"table",e).bind((function(n){var r=bn(n,"tr");return se(t,r[0])?Xp(n,(function(t){return Lu(t).isSome()}),e).map((function(t){var e=Nu(t);return ip.create(M.some(Ep(t,e,t,e)),!0)})):M.none()}))}))},Jg=function(t,e){return On(t,"tr",e).bind((function(t){return On(t,"table",e).bind((function(n){var r=bn(n,"tr");return se(t,r[r.length-1])?Jp(n,(function(t){return Pu(t).isSome()}),e).map((function(t){return ip.create(M.some(Ep(t,0,t,0)),!0)})):M.none()}))}))},Qg=function(t,e,n,r,o,i,u){return Kg(t,n,r,o,i).bind((function(t){return Tp(e,n,t.start,t.finish,u)}))},Zg=function(t){var e=t,n=function(){return e},r=function(t){e=t};return{get:n,set:r}},tv=function(t){var e=Zg(M.none()),n=function(){return e.get().each(t)},r=function(){n(),e.set(M.none())},o=function(){return e.get().isSome()},i=function(){return e.get()},u=function(t){n(),e.set(M.some(t))};return{clear:r,isSet:o,get:i,set:u}},ev=function(){var t=tv(C),e=function(e){return t.get().each(e)};return o(o({},t),{},{on:e})},nv=function(t,e){return On(t,"td,th",e)},rv=function(t){return he(t).exists(Zu)},ov=function(t,e,n,r){var o=ev(),i=o.clear,u=function(i){o.on((function(o){r.clearBeforeUpdate(e),nv(i.target,n).each((function(u){ja(o,u,n).each((function(n){var o=n.boxes.getOr([]);if(1===o.length){var a=o[0],c="false"===ta(a),s=Tn(Qu(i.target),a,se);c&&s&&(r.selectRange(e,o,a,a),t.selectContents(a))}else o.length>1&&(r.selectRange(e,o,n.start,n.finish),t.selectContents(u))}))}))}))},a=function(t){r.clear(e),nv(t.target,n).filter(rv).each(o.set)},c=function(t){u(t)},s=function(t){u(t),i()};return{clearstate:i,mousedown:a,mouseover:c,mouseup:s}},iv={traverse:xe,gather:Yp,relative:rp.before,retry:jg.tryDown,failure:og.failedDown},uv={traverse:ye,gather:Kp,relative:rp.before,retry:jg.tryUp,failure:og.failedUp},av=function(t){return function(e){return e===t}},cv=av(38),sv=av(40),fv=function(t){return t>=37&&t<=40},lv={isBackward:av(37),isForward:av(39)},dv={isBackward:av(39),isForward:av(37)},mv=function(t){var e=void 0!==t?t.dom:document,n=e.body.scrollLeft||e.documentElement.scrollLeft,r=e.body.scrollTop||e.documentElement.scrollTop;return ti(n,r)},pv=function(t,e,n){var r=void 0!==n?n.dom:document,o=r.defaultView;o&&o.scrollBy(t,e)},gv=pf.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),vv=function(t){return gv.exact(t.start,t.soffset,t.finish,t.foffset)},hv=function(t){return t.match({domRange:function(t){return oe.fromDom(t.startContainer)},relative:function(t,e){return rp.getStart(t)},exact:function(t,e,n,r){return t}})},bv=gv.domRange,yv=gv.relative,xv=gv.exact,wv=function(t){var e=hv(t);return ge(e)},Cv=Cp.create,Sv={domRange:bv,relative:yv,exact:xv,exactFromRange:vv,getWin:wv,range:Cv},kv=function(t,e,n){var r,o;return M.from(null===(o=(r=t.dom).caretPositionFromPoint)||void 0===o?void 0:o.call(r,e,n)).bind((function(e){if(null===e.offsetNode)return M.none();var n=t.dom.createRange();return n.setStart(e.offsetNode,e.offset),n.collapse(),M.some(n)}))},_v=function(t,e,n){var r,o;return M.from(null===(o=(r=t.dom).caretRangeFromPoint)||void 0===o?void 0:o.call(r,e,n))},Ev=function(){return document.caretPositionFromPoint?kv:document.caretRangeFromPoint?_v:M.none}(),Ov=function(t,e,n){var r=oe.fromDom(t.document);return Ev(r,e,n).map((function(t){return Cp.create(oe.fromDom(t.startContainer),t.startOffset,oe.fromDom(t.endContainer),t.endOffset)}))},Tv=function(t,e){var n=It(t);return"input"===n?rp.after(t):j(["br","img"],n)?0===e?rp.before(t):rp.after(t):rp.on(t,e)},Av=function(t,e){var n=t.fold(rp.before,Tv,rp.after),r=e.fold(rp.before,Tv,rp.after);return Sv.relative(n,r)},Rv=function(t,e,n,r){var o=Tv(t,e),i=Tv(n,r);return Sv.relative(o,i)},Nv=function(t,e,n,r){var o=de(t),i=o.dom.createRange();return i.setStart(t.dom,e),i.setEnd(n.dom,r),i},Dv=function(t,e,n,r){var o=Nv(t,e,n,r),i=se(t,n)&&e===r;return o.collapsed&&!i},Bv=function(t){return M.from(t.getSelection())},Mv=function(t,e){Bv(t).each((function(t){t.removeAllRanges(),t.addRange(e)}))},Iv=function(t,e,n,r,o){var i=dp(t,e,n,r,o);Mv(t,i)},Pv=function(t,e,n,r,o,i){e.collapse(n.dom,r),e.extend(o.dom,i)},Lv=function(t,e){return yp(t,e).match({ltr:function(e,n,r,o){Iv(t,e,n,r,o)},rtl:function(e,n,r,o){Bv(t).each((function(i){if(i.setBaseAndExtent)i.setBaseAndExtent(e.dom,n,r.dom,o);else if(i.extend)try{Pv(t,i,e,n,r,o)}catch(u){Iv(t,r,o,e,n)}else Iv(t,r,o,e,n)}))}})},Fv=function(t,e,n,r,o){var i=Rv(e,n,r,o);Lv(t,i)},jv=function(t,e,n){var r=Av(e,n);Lv(t,r)},zv=function(t){if(t.rangeCount>0){var e=t.getRangeAt(0),n=t.getRangeAt(t.rangeCount-1);return M.some(Cp.create(oe.fromDom(e.startContainer),e.startOffset,oe.fromDom(n.endContainer),n.endOffset))}return M.none()},Uv=function(t){if(null===t.anchorNode||null===t.focusNode)return zv(t);var e=oe.fromDom(t.anchorNode),n=oe.fromDom(t.focusNode);return Dv(e,t.anchorOffset,n,t.focusOffset)?M.some(Cp.create(e,t.anchorOffset,n,t.focusOffset)):zv(t)},Hv=function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=n?ap:up,o=r(t,e);Mv(t,o)},Vv=function(t){return Bv(t).filter((function(t){return t.rangeCount>0})).bind(Uv)},Wv=function(t){return Vv(t).map((function(t){return Sv.exact(t.start,t.soffset,t.finish,t.foffset)}))},$v=function(t,e){var n=xp(t,e);return pp(n)},qv=function(t,e,n){return Ov(t,e,n)},Gv=function(t){Bv(t).each((function(t){return t.removeAllRanges()}))},Kv=function(t){var e=function(e,n){return oe.fromPoint(oe.fromDom(t.document),e,n)},n=function(t){return t.dom.getBoundingClientRect()},r=function(e,n,r,o){var i=Sv.exact(e,n,r,o);return $v(t,i)},o=function(){return Wv(t).map((function(e){return _p(t,e)}))},i=function(e){var n=Sv.relative(e.start,e.finish);return _p(t,n)},u=function(e,n){return qv(t,e,n).map((function(t){return kp.create(t.start,t.soffset,t.finish,t.foffset)}))},a=function(){Gv(t)},c=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Wv(t).each((function(n){return n.fold((function(t){return t.collapse(e)}),(function(n,r){var o=e?n:r;jv(t,o,o)}),(function(n,r,o,i){var u=e?n:o,a=e?r:i;Fv(t,u,a,u,a)}))}))},s=function(e){Hv(t,e,!1)},f=function(e){Hv(t,e)},l=function(e){Fv(t,e.start,e.soffset,e.finish,e.foffset)},d=function(e,n){jv(t,e,n)},m=function(){return t.innerHeight},p=function(){var e=mv(oe.fromDom(t.document));return e.top},g=function(e,n){pv(e,n,oe.fromDom(t.document))};return{elementFromPoint:e,getRect:n,getRangedRect:r,getSelection:o,fromSitus:i,situsFromPoint:u,clearSelection:a,collapseSelection:c,setSelection:l,setRelativeSelection:d,selectNode:s,selectContents:f,getInnerHeight:m,getScrollY:p,scrollBy:g}},Yv=function(t,e){return{rows:t,cols:e}},Xv=function(t,e,n,r){var o=Kv(t),i=ov(o,e,n,r);return{clearstate:i.clearstate,mousedown:i.mousedown,mouseover:i.mouseover,mouseup:i.mouseup}},Jv=function(t){return wn(t,jt).exists(Zu)},Qv=function(t,e){return Jv(t)||Jv(e)},Zv=function(t,e,n,r){var o=Kv(t),i=function(){return r.clear(e),M.none()},u=function(t,u,a,c,s,f){var l=t.raw,d=l.which,m=!0===l.shiftKey,p=za(e,r.selectedSelector).fold((function(){return fv(d)&&!m&&r.clearBeforeUpdate(e),fv(d)&&m&&!Qv(u,c)?M.none:sv(d)&&m?T(Qg,o,e,n,iv,c,u,r.selectRange):cv(d)&&m?T(Qg,o,e,n,uv,c,u,r.selectRange):sv(d)?T(Yg,o,n,iv,c,u,Jg):cv(d)?T(Yg,o,n,uv,c,u,Xg):M.none}),(function(t){var n=function(n){return function(){var i=at(n,(function(n){return Ap(n.rows,n.cols,e,t,r)}));return i.fold((function(){return Ha(e,r.firstSelectedSelector,r.lastSelectedSelector).map((function(t){var n=sv(d)||f.isForward(d)?rp.after:rp.before;return o.setRelativeSelection(rp.on(t.first,0),n(t.table)),r.clear(e),ip.create(M.none(),!0)}))}),(function(t){return M.some(ip.create(M.none(),!0))}))}};return fv(d)&&m&&!Qv(u,c)?M.none:sv(d)&&m?n([Yv(1,0)]):cv(d)&&m?n([Yv(-1,0)]):f.isBackward(d)&&m?n([Yv(0,-1),Yv(-1,0)]):f.isForward(d)&&m?n([Yv(0,1),Yv(1,0)]):fv(d)&&!m?i:M.none}));return p()},a=function(t,o,i,u,a){return za(e,r.selectedSelector).fold((function(){var c=t.raw,s=c.which,f=!0===c.shiftKey;return f&&fv(s)&&Qv(o,u)?Op(e,n,o,i,u,a,r.selectRange):M.none()}),M.none)};return{keydown:u,keyup:a}},th=function(t,e,n,r){var o=Kv(t);return function(t,i){r.clearBeforeUpdate(e),ja(t,i,n).each((function(t){var n=t.boxes.getOr([]);r.selectRange(e,n,t.start,t.finish),o.selectContents(i),o.collapseSelection()}))}},eh=function(t,e){var n=Yt(t,e);return void 0===n||""===n?[]:n.split(" ")},nh=function(t,e,n){var r=eh(t,e),o=r.concat([n]);return qt(t,e,o.join(" ")),!0},rh=function(t,e,n){var r=q(eh(t,e),(function(t){return t!==n}));return r.length>0?qt(t,e,r.join(" ")):Jt(t,e),!1},oh=function(t){return void 0!==t.dom.classList},ih=function(t){return eh(t,"class")},uh=function(t,e){return nh(t,"class",e)},ah=function(t,e){return rh(t,"class",e)},ch=function(t,e){oh(t)?t.dom.classList.add(e):uh(t,e)},sh=function(t){var e=oh(t)?t.dom.classList:ih(t);0===e.length&&Jt(t,"class")},fh=function(t,e){if(oh(t)){var n=t.dom.classList;n.remove(e)}else ah(t,e);sh(t)},lh=function(t,e){return oh(t)&&t.dom.classList.contains(e)},dh=function(t,e){V(e,(function(e){fh(t,e)}))},mh=function(t){return function(e){ch(e,t)}},ph=function(t){return function(e){dh(e,t)}},gh=function(t){var e=mh(t.selected),n=ph([t.selected,t.lastSelected,t.firstSelected]),r=function(e){var r=bn(e,t.selectedSelector);V(r,n)},o=function(n,o,i,u){r(n),V(o,e),ch(i,t.firstSelected),ch(u,t.lastSelected)};return{clearBeforeUpdate:r,clear:r,selectRange:o,selectedSelector:t.selectedSelector,firstSelectedSelector:t.firstSelectedSelector,lastSelectedSelector:t.lastSelectedSelector}},vh=function(t,e,n){var r=function(e){Jt(e,t.selected),Jt(e,t.firstSelected),Jt(e,t.lastSelected)},o=function(e){qt(e,t.selected,"1")},i=function(t){u(t),n()},u=function(e){var n=bn(e,"".concat(t.selectedSelector,",").concat(t.firstSelectedSelector,",").concat(t.lastSelectedSelector));V(n,r)},a=function(n,r,u,a){i(n),V(r,o),qt(u,t.firstSelected,"1"),qt(a,t.lastSelected,"1"),e(r,u,a)};return{clearBeforeUpdate:u,clear:i,selectRange:a,selectedSelector:t.selectedSelector,firstSelectedSelector:t.firstSelectedSelector,lastSelectedSelector:t.lastSelectedSelector}},hh={byClass:gh,byAttr:vh},bh=function(t,e,n,r){switch(t.tag){case"none":return e();case"single":return r(t.element);case"multiple":return n(t.elements)}},yh=function(){return{tag:"none"}},xh=function(t){return{tag:"multiple",elements:t}},wh=function(t){return{tag:"single",element:t}},Ch=function(t,e,n){var r=function(){return $a(t(),n).fold((function(){return e().fold(yh,wh)}),xh)};return{get:r}},Sh=function(t,e){var n=t.slice(0,e[e.length-1].row+1),r=as(n);return Z(r,(function(t){var n=t.cells.slice(0,e[e.length-1].column+1);return H(n,(function(t){return t.element}))}))},kh=function(t,e){var n=t.slice(e[0].row+e[0].rowspan-1,t.length),r=as(n);return Z(r,(function(t){var n=t.cells.slice(e[0].column+e[0].colspan-1,t.cells.length);return H(n,(function(t){return t.element}))}))},_h=function(t,e,n){var r=Ho.fromTable(t),o=gs(r,e);return o.map((function(t){var e=is(r,n,!1),o=Eo(e),i=o.rows,u=Sh(i,t),a=kh(i,t);return{upOrLeftCells:u,downOrRightCells:a}}))},Eh=function(t,e,n,r,o,i,u){return{target:t,x:e,y:n,stop:r,prevent:o,kill:i,raw:u}},Oh=function(t){var e=oe.fromDom(cn(t).getOr(t.target)),n=function(){return t.stopPropagation()},r=function(){return t.preventDefault()},o=S(r,n);return Eh(e,t.clientX,t.clientY,n,r,o,t)},Th=function(t,e){return function(n){t(n)&&e(Oh(n))}},Ah=function(t,e,n,r,o){var i=Th(n,r);return t.dom.addEventListener(e,i,o),{unbind:T(Nh,t,e,i,o)}},Rh=function(t,e,n,r){return Ah(t,e,n,r,!1)},Nh=function(t,e,n,r){t.dom.removeEventListener(e,n,r)},Dh=B,Bh=function(t,e,n){return Rh(t,e,Dh,n)},Mh=Oh,Ih=function(t){return!lh(oe.fromDom(t.target),"ephox-snooker-resizer-bar")},Ph=function(t,e){var n=Ch((function(){return oe.fromDom(t.getBody())}),(function(){return lc(oa(t),na(t))}),oc.selectedSelector),r=function(e,n,r){var o=sr(n);o.each((function(o){var i=Sd(t),u=Ku(C,oe.fromDom(t.getDoc()),i),a=dc(t),c=_h(o,{selection:a},u);fd(t,e,n,r,c)}))},o=function(){return ld(t)},i=hh.byAttr(oc,r,o);t.on("init",(function(n){var r=t.getWin(),o=ea(t),u=na(t),a=function(){var e=t.selection,n=oe.fromDom(e.getStart()),r=oe.fromDom(e.getEnd()),u=Pa(sr,[n,r]);u.fold((function(){return i.clear(o)}),C)},c=Xv(r,o,u,i),s=Zv(r,o,u,i),f=th(r,o,u,i),l=function(t){return!0===t.raw.shiftKey};t.on("TableSelectorChange",(function(t){return f(t.start,t.finish)}));var d=function(e,n){l(e)&&(n.kill&&e.kill(),n.selection.each((function(e){var n=Sv.relative(e.start,e.finish),o=xp(r,n);t.selection.setRng(o)})))},m=function(e){var n=Mh(e);if(n.raw.shiftKey&&fv(n.raw.which)){var r=t.selection.getRng(),o=oe.fromDom(r.startContainer),i=oe.fromDom(r.endContainer);s.keyup(n,o,r.startOffset,i,r.endOffset).each((function(t){d(n,t)}))}},p=function(n){var r=Mh(n);e.hide();var o=t.selection.getRng(),i=oe.fromDom(o.startContainer),u=oe.fromDom(o.endContainer),a=Go(lv,dv)(oe.fromDom(t.selection.getStart()));s.keydown(r,i,o.startOffset,u,o.endOffset,a).each((function(t){d(r,t)})),e.show()},g=function(t){return 0===t.button},v=function(t){return void 0===t.buttons||0!==(1&t.buttons)},h=function(t){c.clearstate()},b=function(t){g(t)&&Ih(t)&&c.mousedown(Mh(t))},y=function(t){v(t)&&Ih(t)&&c.mouseover(Mh(t))},x=function(t){g(t)&&Ih(t)&&c.mouseup(Mh(t))},w=function(){var t=Zg(oe.fromDom(o)),e=Zg(0),n=function(n){var r=oe.fromDom(n.target);if(Wt("td")(r)||Wt("th")(r)){var o=t.get(),i=e.get();se(o,r)&&n.timeStamp-i<300&&(n.preventDefault(),f(r,r))}t.set(r),e.set(n.timeStamp)};return{touchEnd:n}},S=w();t.on("dragstart",h),t.on("mousedown",b),t.on("mouseover",y),t.on("mouseup",x),t.on("touchend",S.touchEnd),t.on("keyup",m),t.on("keydown",p),t.on("NodeChange",a)})),t.on("PreInit",(function(){t.serializer.addTempAttr(oc.firstSelected),t.serializer.addTempAttr(oc.lastSelected)}));var u=function(t){return i.clear(oe.fromDom(t))},a=function(){return bh(n.get(),_([]),(function(t){return H(t,(function(t){return t.dom}))}),(function(t){return[t.dom]}))};return{getSelectedCells:a,clearSelectedCells:u}},Lh=function(t){var e=[],n=function(t){if(void 0===t)throw new Error("Event bind error: undefined handler");e.push(t)},r=function(t){e=q(e,(function(e){return e!==t}))},o=function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];var i={};V(t,(function(t,e){i[t]=r[e]})),V(e,(function(t){t(i)}))};return{bind:n,unbind:r,trigger:o}},Fh=function(t){var e=lt(t,(function(t){return{bind:t.bind,unbind:t.unbind}})),n=lt(t,(function(t){return t.trigger}));return{registry:e,trigger:n}},jh=function(t,e){var n=null,r=function(){g(n)||(clearTimeout(n),n=null)},o=function(){for(var o=arguments.length,i=new Array(o),u=0;u<o;u++)i[u]=arguments[u];r(),n=setTimeout((function(){n=null,t.apply(null,i)}),e)};return{cancel:r,throttle:o}},zh=function(t){return t.slice(0).sort()},Uh=function(t,e){throw new Error("All required keys ("+zh(t).join(", ")+") were not specified. Specified keys were: "+zh(e).join(", ")+".")},Hh=function(t){throw new Error("Unsupported keys for object: "+zh(t).join(", "))},Vh=function(t,e){if(!p(e))throw new Error("The "+t+" fields must be an array. Was: "+e+".");V(e,(function(e){if(!d(e))throw new Error("The value "+e+" in the "+t+" fields was not a string.")}))},Wh=function(t,e){throw new Error("All values need to be of type: "+e+". Keys ("+zh(t).join(", ")+") were not.")},$h=function(t){var e=zh(t),n=X(e,(function(t,n){return n<e.length-1&&t===e[n+1]}));n.each((function(t){throw new Error("The field: "+t+" occurs more than once in the combined fields: ["+e.join(", ")+"].")}))},qh=function(t,e){return Gh(t,e,{validate:x,label:"function"})},Gh=function(t,e,n){if(0===e.length)throw new Error("You must specify at least one required field.");return Vh("required",e),$h(e),function(r){var o=ct(r),i=tt(e,(function(t){return j(o,t)}));i||Uh(e,o),t(e,o);var u=q(e,(function(t){return!n.validate(r[t],t)}));return u.length>0&&Wh(u,n.label),r}},Kh=function(t,e){var n=q(e,(function(e){return!j(t,e)}));n.length>0&&Hh(n)},Yh=function(t){return qh(Kh,t)},Xh=Yh(["compare","extract","mutate","sink"]),Jh=Yh(["element","start","stop","destroy"]),Qh=Yh(["forceDrop","drop","move","delayDrop"]),Zh=function(){var t=M.none(),e=function(){t=M.none()},n=function(e,n){var r=t.map((function(t){return e.compare(t,n)}));return t=M.some(n),r},r=function(t,e){var r=e.extract(t);r.each((function(t){var r=n(e,t);r.each((function(t){o.trigger.move(t)}))}))},o=Fh({move:Lh(["info"])});return{onEvent:r,reset:e,events:o.registry}},tb=function(){var t=Fh({move:Lh(["info"])});return{onEvent:C,reset:C,events:t.registry}},eb=function(){var t=tb(),e=Zh(),n=t,r=function(){n.reset(),n=e},o=function(){n.reset(),n=t},i=function(t,e){n.onEvent(t,e)},u=function(){return n===e};return{on:r,off:o,isOn:u,onEvent:i,events:e.events}},nb=function(t,e,n){var r=!1,o=Fh({start:Lh([]),stop:Lh([])}),i=eb(),u=function(){p.stop(),i.isOn()&&(i.off(),o.trigger.stop())},a=jh(u,200),c=function(t){p.start(t),i.on(),o.trigger.start()},s=function(t){a.cancel(),i.onEvent(t,e)};i.events.move.bind((function(n){e.mutate(t,n.info)}));var f=function(){r=!0},l=function(){r=!1},d=function(){return r},m=function(t){return function(){if(r){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];t.apply(null,n)}}},p=e.sink(Qh({forceDrop:u,drop:m(u),move:m(s),delayDrop:m(a.throttle)}),n),g=function(){p.destroy()};return{element:p.element,go:c,on:f,off:l,isActive:d,destroy:g,events:o.registry}},rb=function(t){var e=t.replace(/\./g,"-"),n=function(t){return e+"-"+t};return{resolve:n}},ob=rb("ephox-dragster"),ib=ob.resolve,ub=function(t){var e=o({layerClass:ib("blocker")},t),n=oe.fromTag("div");qt(n,"role","presentation"),Wn(n,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),ch(n,ib("blocker")),ch(n,e.layerClass);var r=_(n),i=function(){Be(n)};return{element:r,destroy:i}},ab=function(t,e){return ti(e.left-t.left,e.top-t.top)},cb=function(t){return M.some(ti(t.x,t.y))},sb=function(t,e){t.mutate(e.left,e.top)},fb=function(t,e){var n=ub(e),r=Bh(n.element(),"mousedown",t.forceDrop),o=Bh(n.element(),"mouseup",t.drop),i=Bh(n.element(),"mousemove",t.move),u=Bh(n.element(),"mouseout",t.delayDrop),a=function(){n.destroy(),o.unbind(),i.unbind(),u.unbind(),r.unbind()},c=function(t){Oe(t,n.element())},s=function(){Be(n.element())};return Jh({element:n.element,start:c,stop:s,destroy:a})},lb=Xh({compare:ab,extract:cb,sink:fb,mutate:sb}),db=function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null!==(e=n.mode)&&void 0!==e?e:lb;return nb(t,r,n)},mb=rb("ephox-snooker"),pb=mb.resolve,gb=function(){var t=Fh({drag:Lh(["xDelta","yDelta"])}),e=function(e,n){t.trigger.drag(e,n)};return{mutate:e,events:t.registry}},vb=function(){var t=Fh({drag:Lh(["xDelta","yDelta","target"])}),e=M.none(),n=gb();n.events.drag.bind((function(n){e.each((function(e){t.trigger.drag(n.xDelta,n.yDelta,e)}))}));var r=function(t){e=M.some(t)},o=function(){return e};return{assign:r,get:o,mutate:n.mutate,events:t.registry}},hb=function(t,e,n,r,o){var i=oe.fromTag("div");return Wn(i,{position:"absolute",left:e-r/2+"px",top:n+"px",height:o+"px",width:r+"px"}),Gt(i,{"data-column":t,role:"presentation"}),i},bb=function(t,e,n,r,o){var i=oe.fromTag("div");return Wn(i,{position:"absolute",left:e+"px",top:n-o/2+"px",height:o+"px",width:r+"px"}),Gt(i,{"data-row":t,role:"presentation"}),i},yb=pb("resizer-bar"),xb=pb("resizer-rows"),wb=pb("resizer-cols"),Cb=7,Sb=function(t,e){return Z(t.all,(function(t,n){return e(t.element)?[n]:[]}))},kb=function(t,e){var n=[];return U(t.grid.columns,(function(r){var o=Ho.getColumnAt(t,r).map((function(t){return t.element}));o.forall(e)&&n.push(r)})),q(n,(function(n){var r=Ho.filterItems(t,(function(t){return t.column===n}));return tt(r,(function(t){return e(t.element)}))}))},_b=function(t){var e=bn(t.parent(),"."+yb);V(e,Be)},Eb=function(t,e,n){var r=t.origin();V(e,(function(e){e.each((function(e){var o=n(r,e);ch(o,yb),Oe(t.parent(),o)}))}))},Ob=function(t,e,n,r){Eb(t,e,(function(t,e){var o=hb(e.col,e.x-t.left,n.top-t.top,Cb,r);return ch(o,wb),o}))},Tb=function(t,e,n,r){Eb(t,e,(function(t,e){var o=bb(e.row,n.left-t.left,e.y-t.top,r,Cb);return ch(o,xb),o}))},Ab=function(t,e,n,r,o){var i=ri(n),u=e.isResizable,a=r.length>0?vi.positions(r,n):[],c=a.length>0?Sb(t,u):[],s=q(a,(function(t,e){return z(c,(function(t){return e===t}))}));Tb(e,s,i,go(n));var f=o.length>0?xi.positions(o,n):[],l=f.length>0?kb(t,u):[],d=q(f,(function(t,e){return z(l,(function(t){return e===t}))}));Ob(e,d,i,Jo(n))},Rb=function(t,e){if(_b(t),t.isResizable(e)){var n=Ho.fromTable(e),r=$o(n),o=Vo(n);Ab(n,t,e,r,o)}},Nb=function(t,e){var n=bn(t.parent(),"."+yb);V(n,e)},Db=function(t){Nb(t,(function(t){Vn(t,"display","none")}))},Bb=function(t){Nb(t,(function(t){Vn(t,"display","block")}))},Mb=function(t){return lh(t,xb)},Ib=function(t){return lh(t,wb)},Pb=pb("resizer-bar-dragging"),Lb=function(t){var e=vb(),n=db(e,{}),r=M.none(),o=function(t,e){return M.from(Yt(t,e))};e.events.drag.bind((function(t){o(t.target,"data-row").each((function(e){var n=tr(t.target,"top");Vn(t.target,"top",n+t.yDelta+"px")})),o(t.target,"data-column").each((function(e){var n=tr(t.target,"left");Vn(t.target,"left",n+t.xDelta+"px")}))}));var i=function(t,e){var n=tr(t,e),r=Xn(t,"data-initial-"+e,0);return n-r};n.events.stop.bind((function(){e.get().each((function(e){r.each((function(n){o(e,"data-row").each((function(t){var r=i(e,"top");Jt(e,"data-initial-top"),m.trigger.adjustHeight(n,r,parseInt(t,10))})),o(e,"data-column").each((function(t){var r=i(e,"left");Jt(e,"data-initial-left"),m.trigger.adjustWidth(n,r,parseInt(t,10))})),Rb(t,n)}))}))}));var u=function(r,o){m.trigger.startAdjust(),e.assign(r),qt(r,"data-initial-"+o,tr(r,o)),ch(r,Pb),Vn(r,"opacity","0.2"),n.go(t.parent())},a=Bh(t.parent(),"mousedown",(function(t){Mb(t.target)&&u(t.target,"top"),Ib(t.target)&&u(t.target,"left")})),c=function(e){return se(e,t.view())},s=function(t){return On(t,"table",c).filter(Zu)},f=Bh(t.view(),"mouseover",(function(e){s(e.target).fold((function(){fn(e.target)&&_b(t)}),(function(e){n.isActive()&&(r=M.some(e),Rb(t,e))}))})),l=function(){a.unbind(),f.unbind(),n.destroy(),_b(t)},d=function(e){Rb(t,e)},m=Fh({adjustHeight:Lh(["table","delta","row"]),adjustWidth:Lh(["table","delta","column"]),startAdjust:Lh([])});return{destroy:l,refresh:d,on:n.on,off:n.off,hideBars:T(Db,t),showBars:T(Bb,t),events:m.registry}},Fb=function(t,e,n){var r=vi,o=xi,i=Lb(t),u=Fh({beforeResize:Lh(["table","type"]),afterResize:Lh(["table","type"]),startDrag:Lh([])});return i.events.adjustHeight.bind((function(t){var e=t.table;u.trigger.beforeResize(e,"row");var n=r.delta(t.delta,e);Tf(e,n,t.row,r),u.trigger.afterResize(e,"row")})),i.events.startAdjust.bind((function(t){u.trigger.startDrag()})),i.events.adjustWidth.bind((function(t){var r=t.table;u.trigger.beforeResize(r,"col");var i=o.delta(t.delta,r),a=n(r);Of(r,i,t.column,e,a),u.trigger.afterResize(r,"col")})),{on:i.on,off:i.off,refreshBars:i.refresh,hideBars:i.hideBars,showBars:i.showBars,destroy:i.destroy,events:u.registry}},jb={create:Fb},zb=function(t,e){var n=Ht(t)?pe(t):t;return{parent:_(n),view:_(t),origin:_(ti(0,0)),isResizable:e}},Ub=function(t,e,n){var r=function(){return ri(e)};return{parent:_(e),view:_(t),origin:r,isResizable:n}},Hb=function(t,e,n){return{parent:_(e),view:_(t),origin:_(ti(0,0)),isResizable:n}},Vb={only:zb,detached:Ub,body:Hb},Wb=function(){var t=oe.fromTag("div");return Wn(t,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),Oe(ln(),t),t},$b=function(t,e){return t.inline?Vb.body(oe.fromDom(t.getBody()),Wb(),e):Vb.only(oe.fromDom(t.getDoc()),e)},qb=function(t,e){t.inline&&Be(e.parent())},Gb=function(t){return y(t)&&"TABLE"===t.nodeName},Kb="bar-",Yb=function(t){return"false"!==Yt(t,"data-mce-resize")},Xb=function(t){var e=Ho.fromTable(t);Ho.hasColumns(e)||V(ar(t),(function(t){var e=$n(t,"width");Vn(t,"width",e),Jt(t,"width")}))},Jb=function(t){var e,n,r=ev(),o=ev(),i=ev(),u=function(e){return Fd(t,e)},a=function(){return Od(t)?Dc():Nc()},c=function(t){return Bc(t).columns},s=function(r,o,i){var s=In(o,"e");if(""===n&&gm(r),i!==e&&""!==n){Vn(r,"width",n);var f=a(),l=u(r),d=Od(t)||s?c(r)-1:0;Of(r,i-e,d,f,l)}else if(ca(n)){var m=parseFloat(n.replace("%","")),p=i*m/e;Vn(r,"width",p+"%")}sa(n)&&Xb(r)},f=function(){o.on((function(t){t.destroy()})),i.on((function(e){qb(t,e)}))};t.on("init",(function(){var e=$b(t,Yb);if(i.set(e),kd(t)&&Bd(t)){var n=a(),c=jb.create(e,n,u);c.on(),c.events.startDrag.bind((function(e){r.set(t.selection.getRng())})),c.events.beforeResize.bind((function(e){var n=e.table.dom;dd(t,n,ia(n),ua(n),Kb+e.type)})),c.events.afterResize.bind((function(e){var n=e.table,o=n.dom;ra(n),r.on((function(e){t.selection.setRng(e),t.focus()})),md(t,o,ia(o),ua(o),Kb+e.type),t.undoManager.add()})),o.set(c)}})),t.on("ObjectResizeStart",(function(r){var o=r.target;if(Gb(o)){var i=oe.fromDom(o);V(t.dom.select(".mce-clonedresizable"),(function(e){t.dom.addClass(e,"mce-"+Ed(t)+"-columns")})),!dm(i)&&Nd(t)?vm(i):!lm(i)&&Rd(t)&&gm(i),mm(i)&&Mn(r.origin,Kb)&&gm(i),e=r.width,n=Dd(t)?"":aa(t,o).getOr("")}})),t.on("ObjectResized",(function(e){var n=e.target;if(Gb(n)){var r=oe.fromDom(n),o=e.origin;Mn(o,"corner-")&&s(r,o,e.width),ra(r),sd(t,r.dom,pd)}})),t.on("SwitchMode",(function(){o.on((function(e){t.mode.isReadOnly()?e.hideBars():e.showBars()}))})),t.on("dragstart dragend",(function(t){o.on((function(e){"dragstart"===t.type?(e.hideBars(),e.off()):(e.on(),e.showBars())}))})),t.on("remove",(function(){f()}));var l=function(t){o.on((function(e){return e.refreshBars(oe.fromDom(t))}))},d=function(){o.on((function(t){return t.hideBars()}))},m=function(){o.on((function(t){return t.showBars()}))};return{refresh:l,hide:d,show:m}},Qb=function(t){Cd(t);var e=Jb(t),n=Ph(t,e),r=jd(t,e,n);return Ym(t,r),Xm(t,r),hc(t,r),{getSelectedCells:n.getSelectedCells,clearSelectedCells:n.clearSelectedCells}},Zb=function(t){var e=Qb(t);return{table:e}},ty=function(){t.add("dom",Zb)};ty()}()},345:function(t,e,n){n(9097)},9097:function(t,e,n){var r=n(5409)["default"],o=n(2468)["default"],i=n(22)["default"],u=n(2214)["default"],a=n(8853)["default"],c=n(4982)["default"],s=n(598)["default"],f=n(6728)["default"],l=n(2046)["default"],d=n(1692)["default"],m=["class","style"],p=["events"],g=["attributes"],v=["primary"],h=["primary"];n(489),n(8309),n(2222),n(1703),n(6647),n(5212),n(1539),n(7042),n(2772),n(7658),n(5069),n(2707),n(1038),n(8783),n(7941),n(4916),n(5306),n(1249),n(7601),n(7327),n(4723),n(4678),n(1058),n(9653),n(4765),n(3371),n(3948),n(8862),n(9600),n(9714),n(6541),n(9070),n(3123),n(9253),n(6977),n(2564),n(5218),n(9826),n(3210),n(4603),n(8450),n(8386),n(541),n(561),n(9254),n(2526),n(1817),n(2165),n(8304),n(7987),n(1299),n(5706),n(8410),n(5003),n(514),n(6535),n(9554),function(){"use strict";var t,e,n=Object.getPrototypeOf,b=function(t,e,n){var r;return!!n(t,e.prototype)||(null===(r=t.constructor)||void 0===r?void 0:r.name)===e.name},y=function(t){var e=d(t);return null===t?"null":"object"===e&&Array.isArray(t)?"array":"object"===e&&b(t,String,(function(t,e){return e.isPrototypeOf(t)}))?"string":e},x=function(t){return function(e){return y(e)===t}},w=function(t){return function(e){return d(e)===t}},C=function(t){return function(e){return t===e}},S=function(t,e){return _(t)&&b(t,e,(function(t,e){return n(t)===e}))},k=x("string"),_=x("object"),E=function(t){return S(t,Object)},O=x("array"),T=C(null),A=w("boolean"),R=C(void 0),N=function(t){return null===t||void 0===t},D=function(t){return!N(t)},B=w("function"),M=w("number"),I=function(t,e){if(O(t)){for(var n=0,r=t.length;n<r;++n)if(!e(t[n]))return!1;return!0}return!1},P=function(){},L=function(t){return function(){return t()}},F=function(t,e){return function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t(e.apply(null,r))}},j=function(t,e){return function(n){return t(e(n))}},z=function(t){return function(){return t}},U=function(t){return t},H=function(t,e){return t===e};function V(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];var i=n.concat(r);return t.apply(null,i)}}var W=function(t){return function(e){return!t(e)}},$=function(t){return function(){throw new Error(t)}},q=function(t){return t()},G=z(!1),K=z(!0),Y=function(){function t(e,n){f(this,t),this.tag=e,this.value=n}return l(t,[{key:"fold",value:function(t,e){return this.tag?e(this.value):t()}},{key:"isSome",value:function(){return this.tag}},{key:"isNone",value:function(){return!this.tag}},{key:"map",value:function(e){return this.tag?t.some(e(this.value)):t.none()}},{key:"bind",value:function(e){return this.tag?e(this.value):t.none()}},{key:"exists",value:function(t){return this.tag&&t(this.value)}},{key:"forall",value:function(t){return!this.tag||t(this.value)}},{key:"filter",value:function(e){return!this.tag||e(this.value)?this:t.none()}},{key:"getOr",value:function(t){return this.tag?this.value:t}},{key:"or",value:function(t){return this.tag?this:t}},{key:"getOrThunk",value:function(t){return this.tag?this.value:t()}},{key:"orThunk",value:function(t){return this.tag?this:t()}},{key:"getOrDie",value:function(t){if(this.tag)return this.value;throw new Error(null!==t&&void 0!==t?t:"Called getOrDie on None")}},{key:"getOrNull",value:function(){return this.tag?this.value:null}},{key:"getOrUndefined",value:function(){return this.value}},{key:"each",value:function(t){this.tag&&t(this.value)}},{key:"toArray",value:function(){return this.tag?[this.value]:[]}},{key:"toString",value:function(){return this.tag?"some(".concat(this.value,")"):"none()"}}],[{key:"some",value:function(e){return new t(!0,e)}},{key:"none",value:function(){return t.singletonNone}},{key:"from",value:function(e){return D(e)?t.some(e):t.none()}}]),t}();Y.singletonNone=new Y(!1);var X,J=Array.prototype.slice,Q=Array.prototype.indexOf,Z=Array.prototype.push,tt=function(t,e){return Q.call(t,e)},et=function(t,e){var n=tt(t,e);return-1===n?Y.none():Y.some(n)},nt=function(t,e){return tt(t,e)>-1},rt=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n];if(e(o,n))return!0}return!1},ot=function(t,e){for(var n=[],r=0;r<t;r++)n.push(e(r));return n},it=function(t,e){for(var n=[],r=0;r<t.length;r+=e){var o=J.call(t,r,r+e);n.push(o)}return n},ut=function(t,e){for(var n=t.length,r=new Array(n),o=0;o<n;o++){var i=t[o];r[o]=e(i,o)}return r},at=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n];e(o,n)}},ct=function(t,e){for(var n=t.length-1;n>=0;n--){var r=t[n];e(r,n)}},st=function(t,e){for(var n=[],r=[],o=0,i=t.length;o<i;o++){var u=t[o],a=e(u,o)?n:r;a.push(u)}return{pass:n,fail:r}},ft=function(t,e){for(var n=[],r=0,o=t.length;r<o;r++){var i=t[r];e(i,r)&&n.push(i)}return n},lt=function(t,e,n){return ct(t,(function(t,r){n=e(n,t,r)})),n},dt=function(t,e,n){return at(t,(function(t,r){n=e(n,t,r)})),n},mt=function(t,e,n){for(var r=0,o=t.length;r<o;r++){var i=t[r];if(e(i,r))return Y.some(i);if(n(i,r))break}return Y.none()},pt=function(t,e){return mt(t,e,G)},gt=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n];if(e(o,n))return Y.some(n)}return Y.none()},vt=function(t){for(var e=[],n=0,r=t.length;n<r;++n){if(!O(t[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+t);Z.apply(e,t[n])}return e},ht=function(t,e){return vt(ut(t,e))},bt=function(t,e){for(var n=0,r=t.length;n<r;++n){var o=t[n];if(!0!==e(o,n))return!1}return!0},yt=function(t){var e=J.call(t,0);return e.reverse(),e},xt=function(t,e){return ft(t,(function(t){return!nt(e,t)}))},wt=function(t,e){for(var n={},r=0,o=t.length;r<o;r++){var i=t[r];n[String(i)]=e(i,r)}return n},Ct=function(t){return[t]},St=function(t,e){var n=J.call(t,0);return n.sort(e),n},kt=function(t,e){return e>=0&&e<t.length?Y.some(t[e]):Y.none()},_t=function(t){return kt(t,0)},Et=function(t){return kt(t,t.length-1)},Ot=B(Array.from)?Array.from:function(t){return J.call(t)},Tt=function(t,e){for(var n=0;n<t.length;n++){var r=e(t[n],n);if(r.isSome())return r}return Y.none()},At=Object.keys,Rt=Object.hasOwnProperty,Nt=function(t,e){for(var n=At(t),r=0,o=n.length;r<o;r++){var i=n[r],u=t[i];e(u,i)}},Dt=function(t,e){return Bt(t,(function(t,n){return{k:n,v:e(t,n)}}))},Bt=function(t,e){var n={};return Nt(t,(function(t,r){var o=e(t,r);n[o.k]=o.v})),n},Mt=function(t){return function(e,n){t[n]=e}},It=function(t,e,n,r){Nt(t,(function(t,o){(e(t,o)?n:r)(t,o)}))},Pt=function(t,e){var n={},r={};return It(t,e,Mt(n),Mt(r)),{t:n,f:r}},Lt=function(t,e){var n={};return It(t,e,Mt(n),P),n},Ft=function(t,e){var n=[];return Nt(t,(function(t,r){n.push(e(t,r))})),n},jt=function(t,e){for(var n=At(t),r=0,o=n.length;r<o;r++){var i=n[r],u=t[i];if(e(u,i,t))return Y.some(u)}return Y.none()},zt=function(t){return Ft(t,U)},Ut=function(t,e){return Ht(t,e)?Y.from(t[e]):Y.none()},Ht=function(t,e){return Rt.call(t,e)},Vt=function(t,e){return Ht(t,e)&&void 0!==t[e]&&null!==t[e]},Wt=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:H;return t.exists((function(t){return n(t,e)}))},$t=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:H;return Kt(t,e,n).getOr(t.isNone()&&e.isNone())},qt=function(t){for(var e=[],n=function(t){e.push(t)},r=0;r<t.length;r++)t[r].each(n);return e},Gt=function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];if(!r.isSome())return Y.none();e.push(r.getOrDie())}return Y.some(e)},Kt=function(t,e,n){return t.isSome()&&e.isSome()?Y.some(n(t.getOrDie(),e.getOrDie())):Y.none()},Yt=function(t,e,n,r){return t.isSome()&&e.isSome()&&n.isSome()?Y.some(r(t.getOrDie(),e.getOrDie(),n.getOrDie())):Y.none()},Xt=function(t,e){return void 0!==t&&null!==t?Y.some(e(t)):Y.none()},Jt=function(t,e){return t?Y.some(e):Y.none()},Qt=function(t,e){return t+e},Zt=function(t,e){return t.substring(e)},te=function(t,e,n){return""===e||t.length>=e.length&&t.substr(n,n+e.length)===e},ee=function(t,e){return oe(t,e)?Zt(t,e.length):t},ne=function(t,e){return ie(t,e)?t:Qt(t,e)},re=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3?arguments[3]:void 0,o=t.indexOf(e,n);return-1!==o&&(!!R(r)||o+e.length<=r)},oe=function(t,e){return te(t,e,0)},ie=function(t,e){return te(t,e,t.length-e.length)},ue=function(t){return function(e){return e.replace(t,"")}},ae=ue(/^\s+|\s+$/g),ce=function(t){return t.length>0},se=function(t){return!ce(t)},fe=function(t){return void 0!==t.style&&B(t.style.getPropertyValue)},le=function(t,e){var n=e||document,r=n.createElement("div");if(r.innerHTML=t,!r.hasChildNodes()||r.childNodes.length>1){var o="HTML does not have a single root node";throw console.error(o,t),new Error(o)}return pe(r.childNodes[0])},de=function(t,e){var n=e||document,r=n.createElement(t);return pe(r)},me=function(t,e){var n=e||document,r=n.createTextNode(t);return pe(r)},pe=function(t){if(null===t||void 0===t)throw new Error("Node cannot be null or undefined");return{dom:t}},ge=function(t,e,n){return Y.from(t.dom.elementFromPoint(e,n)).map(pe)},ve={fromHtml:le,fromTag:de,fromText:me,fromDom:pe,fromPoint:ge},he="undefined"!==typeof window?window:Function("return this;")(),be=function(t,e){for(var n=void 0!==e&&null!==e?e:he,r=0;r<t.length&&void 0!==n&&null!==n;++r)n=n[t[r]];return n},ye=function(t,e){var n=t.split(".");return be(n,e)},xe=function(t,e){return ye(t,e)},we=function(t,e){var n=xe(t,e);if(void 0===n||null===n)throw new Error(t+" not available on this browser");return n},Ce=Object.getPrototypeOf,Se=function(t){return we("HTMLElement",t)},ke=function(t){var e=ye("ownerDocument.defaultView",t);return _(t)&&(Se(e).prototype.isPrototypeOf(t)||/^HTML\w*Element$/.test(Ce(t).constructor.name))},_e=9,Ee=11,Oe=1,Te=3,Ae=function(t){var e=t.dom.nodeName;return e.toLowerCase()},Re=function(t){return t.dom.nodeType},Ne=function(t){return function(e){return Re(e)===t}},De=function(t){return Be(t)&&ke(t.dom)},Be=Ne(Oe),Me=Ne(Te),Ie=Ne(_e),Pe=Ne(Ee),Le=function(t){return function(e){return Be(e)&&Ae(e)===t}},Fe=function(t,e){var n=t.dom;if(n.nodeType!==Oe)return!1;var r=n;if(void 0!==r.matches)return r.matches(e);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(e);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(e);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(e);throw new Error("Browser lacks native selectors")},je=function(t){return t.nodeType!==Oe&&t.nodeType!==_e&&t.nodeType!==Ee||0===t.childElementCount},ze=function(t,e){var n=void 0===e?document:e.dom;return je(n)?[]:ut(n.querySelectorAll(t),ve.fromDom)},Ue=function(t,e){var n=void 0===e?document:e.dom;return je(n)?Y.none():Y.from(n.querySelector(t)).map(ve.fromDom)},He=function(t,e){return t.dom===e.dom},Ve=function(t,e){var n=t.dom,r=e.dom;return n!==r&&n.contains(r)},We=function(t){return ve.fromDom(t.dom.ownerDocument)},$e=function(t){return Ie(t)?t:We(t)},qe=function(t){return ve.fromDom($e(t).dom.documentElement)},Ge=function(t){return ve.fromDom($e(t).dom.defaultView)},Ke=function(t){return Y.from(t.dom.parentNode).map(ve.fromDom)},Ye=function(t){return Y.from(t.dom.parentElement).map(ve.fromDom)},Xe=function(t,e){var n=B(e)?e:G,r=t.dom,o=[];while(null!==r.parentNode&&void 0!==r.parentNode){var i=r.parentNode,u=ve.fromDom(i);if(o.push(u),!0===n(u))break;r=i}return o},Je=function(t){return Y.from(t.dom.offsetParent).map(ve.fromDom)},Qe=function(t){return Y.from(t.dom.nextSibling).map(ve.fromDom)},Ze=function(t){return ut(t.dom.childNodes,ve.fromDom)},tn=function(t,e){var n=t.dom.childNodes;return Y.from(n[e]).map(ve.fromDom)},en=function(t){return tn(t,0)},nn=function(t,e){return{element:t,offset:e}},rn=function(t,e){var n=Ze(t);return n.length>0&&e<n.length?nn(n[e],0):nn(t,e)},on=function(t){return Pe(t)&&D(t.dom.host)},un=B(Element.prototype.attachShadow)&&B(Node.prototype.getRootNode),an=z(un),cn=un?function(t){return ve.fromDom(t.dom.getRootNode())}:$e,sn=function(t){return on(t)?t:ve.fromDom($e(t).dom.body)},fn=function(t){return ln(t).isSome()},ln=function(t){var e=cn(t);return on(e)?Y.some(e):Y.none()},dn=function(t){return ve.fromDom(t.dom.host)},mn=function(t){if(an()&&D(t.target)){var e=ve.fromDom(t.target);if(Be(e)&&pn(e)&&t.composed&&t.composedPath){var n=t.composedPath();if(n)return _t(n)}}return Y.from(t.target)},pn=function(t){return D(t.dom.shadowRoot)},gn=function t(e){var n=Me(e)?e.dom.parentNode:e.dom;if(void 0===n||null===n||null===n.ownerDocument)return!1;var r=n.ownerDocument;return ln(ve.fromDom(n)).fold((function(){return r.body.contains(n)}),j(t,dn))},vn=function(){return hn(ve.fromDom(document))},hn=function(t){var e=t.dom.body;if(null===e||void 0===e)throw new Error("Body is not available yet");return ve.fromDom(e)},bn=function(t,e,n){if(!(k(n)||A(n)||M(n)))throw console.error("Invalid call to Attribute.set. Key ",e,":: Value ",n,":: Element ",t),new Error("Attribute value was not simple");t.setAttribute(e,n+"")},yn=function(t,e,n){bn(t.dom,e,n)},xn=function(t,e){var n=t.dom;Nt(e,(function(t,e){bn(n,e,t)}))},wn=function(t,e){var n=t.dom.getAttribute(e);return null===n?void 0:n},Cn=function(t,e){return Y.from(wn(t,e))},Sn=function(t,e){var n=t.dom;return!(!n||!n.hasAttribute)&&n.hasAttribute(e)},kn=function(t,e){t.dom.removeAttribute(e)},_n=function(t){return dt(t.dom.attributes,(function(t,e){return t[e.name]=e.value,t}),{})},En=function(t,e,n){if(!k(n))throw console.error("Invalid call to CSS.set. Property ",e,":: Value ",n,":: Element ",t),new Error("CSS value must be a string: "+n);fe(t)&&t.style.setProperty(e,n)},On=function(t,e){fe(t)&&t.style.removeProperty(e)},Tn=function(t,e,n){var r=t.dom;En(r,e,n)},An=function(t,e){var n=t.dom;Nt(e,(function(t,e){En(n,e,t)}))},Rn=function(t,e){var n=t.dom;Nt(e,(function(t,e){t.fold((function(){On(n,e)}),(function(t){En(n,e,t)}))}))},Nn=function(t,e){var n=t.dom,r=window.getComputedStyle(n),o=r.getPropertyValue(e);return""!==o||gn(t)?o:Dn(n,e)},Dn=function(t,e){return fe(t)?t.style.getPropertyValue(e):""},Bn=function(t,e){var n=t.dom,r=Dn(n,e);return Y.from(r).filter((function(t){return t.length>0}))},Mn=function(t){var e={},n=t.dom;if(fe(n))for(var r=0;r<n.style.length;r++){var o=n.style.item(r);e[o]=n.style[o]}return e},In=function(t,e,n){var r=ve.fromTag(t);Tn(r,e,n);var o=Bn(r,e);return o.isSome()},Pn=function(t,e){var n=t.dom;On(n,e),Wt(Cn(t,"style").map(ae),"")&&kn(t,"style")},Ln=function(t){return t.dom.offsetWidth},Fn=function(t,e){var n=function(e,n){if(!M(n)&&!n.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+n);var r=e.dom;fe(r)&&(r.style[t]=n+"px")},r=function(n){var r=e(n);if(r<=0||null===r){var o=Nn(n,t);return parseFloat(o)||0}return r},o=r,i=function(t,e){return dt(e,(function(e,n){var r=Nn(t,n),o=void 0===r?0:parseInt(r,10);return isNaN(o)?e:e+o}),0)},u=function(t,e,n){var r=i(t,n),o=e>r?e-r:0;return o};return{set:n,get:r,getOuter:o,aggregate:i,max:u}},jn=Fn("height",(function(t){var e=t.dom;return gn(t)?e.getBoundingClientRect().height:e.offsetHeight})),zn=function(t){return jn.get(t)},Un=function(t){return jn.getOuter(t)},Hn=function(t,e){var n=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"],r=jn.max(t,e,n);Tn(t,"max-height",r+"px")},Vn=function t(e,n){var r=function(r,o){return t(e+r,n+o)};return{left:e,top:n,translate:r}},Wn=Vn,$n=function(t){var e=t.getBoundingClientRect();return Wn(e.left,e.top)},qn=function(t,e){return void 0!==t?t:void 0!==e?e:0},Gn=function(t){var e=t.dom.ownerDocument,n=e.body,r=e.defaultView,o=e.documentElement;if(n===t.dom)return Wn(n.offsetLeft,n.offsetTop);var i=qn(null===r||void 0===r?void 0:r.pageYOffset,o.scrollTop),u=qn(null===r||void 0===r?void 0:r.pageXOffset,o.scrollLeft),a=qn(o.clientTop,n.clientTop),c=qn(o.clientLeft,n.clientLeft);return Kn(t).translate(u-c,i-a)},Kn=function(t){var e=t.dom,n=e.ownerDocument,r=n.body;return r===e?Wn(r.offsetLeft,r.offsetTop):gn(t)?$n(e):Wn(0,0)},Yn=Fn("width",(function(t){return t.dom.offsetWidth})),Xn=function(t,e){return Yn.set(t,e)},Jn=function(t){return Yn.get(t)},Qn=function(t){return Yn.getOuter(t)},Zn=function(t,e){var n=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"],r=Yn.max(t,e,n);Tn(t,"max-width",r+"px")},tr=function(t){var e,n=!1;return function(){if(!n){n=!0;for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];e=t.apply(null,o)}return e}},er=function(t,e,n,r){var o=t.isiOS()&&!0===/ipad/i.test(n),i=t.isiOS()&&!o,u=t.isiOS()||t.isAndroid(),a=u||r("(pointer:coarse)"),c=o||!i&&u&&r("(min-device-width:768px)"),s=i||u&&!c,f=e.isSafari()&&t.isiOS()&&!1===/safari/i.test(n),l=!s&&!c&&!f;return{isiPad:z(o),isiPhone:z(i),isTablet:z(c),isPhone:z(s),isTouch:z(a),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:z(f),isDesktop:z(l)}},nr=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r.test(e))return r}},rr=function(t,e){var n=nr(t,e);if(!n)return{major:0,minor:0};var r=function(t){return Number(e.replace(n,"$"+t))};return ur(r(1),r(2))},or=function(t,e){var n=String(e).toLowerCase();return 0===t.length?ir():rr(t,n)},ir=function(){return ur(0,0)},ur=function(t,e){return{major:t,minor:e}},ar={nu:ur,detect:or,unknown:ir},cr=function(t,e){return Tt(e.brands,(function(e){var n=e.brand.toLowerCase();return pt(t,(function(t){var e;return n===(null===(e=t.brand)||void 0===e?void 0:e.toLowerCase())})).map((function(t){return{current:t.name,version:ar.nu(parseInt(e.version,10),0)}}))}))},sr=function(t,e){var n=String(e).toLowerCase();return pt(t,(function(t){return t.search(n)}))},fr=function(t,e){return sr(t,e).map((function(t){var n=ar.detect(t.versionRegexes,e);return{current:t.name,version:n}}))},lr=function(t,e){return sr(t,e).map((function(t){var n=ar.detect(t.versionRegexes,e);return{current:t.name,version:n}}))},dr=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,mr=function(t){return function(e){return re(e,t)}},pr=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(t){return re(t,"edge/")&&re(t,"chrome")&&re(t,"safari")&&re(t,"applewebkit")}},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,dr],search:function(t){return re(t,"chrome")&&!re(t,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(t){return re(t,"msie")||re(t,"trident")}},{name:"Opera",versionRegexes:[dr,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:mr("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:mr("firefox")},{name:"Safari",versionRegexes:[dr,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(t){return(re(t,"safari")||re(t,"mobile/"))&&re(t,"applewebkit")}}],gr=[{name:"Windows",search:mr("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(t){return re(t,"iphone")||re(t,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:mr("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:mr("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:mr("linux"),versionRegexes:[]},{name:"Solaris",search:mr("sunos"),versionRegexes:[]},{name:"FreeBSD",search:mr("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:mr("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],vr={browsers:z(pr),oses:z(gr)},hr="Edge",br="Chromium",yr="IE",xr="Opera",wr="Firefox",Cr="Safari",Sr=function(){return kr({current:void 0,version:ar.unknown()})},kr=function(t){var e=t.current,n=t.version,r=function(t){return function(){return e===t}};return{current:e,version:n,isEdge:r(hr),isChromium:r(br),isIE:r(yr),isOpera:r(xr),isFirefox:r(wr),isSafari:r(Cr)}},_r={unknown:Sr,nu:kr,edge:z(hr),chromium:z(br),ie:z(yr),opera:z(xr),firefox:z(wr),safari:z(Cr)},Er="Windows",Or="iOS",Tr="Android",Ar="Linux",Rr="macOS",Nr="Solaris",Dr="FreeBSD",Br="ChromeOS",Mr=function(){return Ir({current:void 0,version:ar.unknown()})},Ir=function(t){var e=t.current,n=t.version,r=function(t){return function(){return e===t}};return{current:e,version:n,isWindows:r(Er),isiOS:r(Or),isAndroid:r(Tr),isMacOS:r(Rr),isLinux:r(Ar),isSolaris:r(Nr),isFreeBSD:r(Dr),isChromeOS:r(Br)}},Pr={unknown:Mr,nu:Ir,windows:z(Er),ios:z(Or),android:z(Tr),linux:z(Ar),macos:z(Rr),solaris:z(Nr),freebsd:z(Dr),chromeos:z(Br)},Lr=function(t,e,n){var r=vr.browsers(),o=vr.oses(),i=e.bind((function(t){return cr(r,t)})).orThunk((function(){return fr(r,t)})).fold(_r.unknown,_r.nu),u=lr(o,t).fold(Pr.unknown,Pr.nu),a=er(u,i,t,n);return{browser:i,os:u,deviceType:a}},Fr={detect:Lr},jr=function(t){return window.matchMedia(t).matches},zr=tr((function(){return Fr.detect(navigator.userAgent,Y.from(navigator.userAgentData),jr)})),Ur=function(){return zr()},Hr=function(t,e,n,r,o,i,u){return{target:t,x:e,y:n,stop:r,prevent:o,kill:i,raw:u}},Vr=function(t){var e=ve.fromDom(mn(t).getOr(t.target)),n=function(){return t.stopPropagation()},r=function(){return t.preventDefault()},o=F(r,n);return Hr(e,t.clientX,t.clientY,n,r,o,t)},Wr=function(t,e){return function(n){t(n)&&e(Vr(n))}},$r=function(t,e,n,r,o){var i=Wr(n,r);return t.dom.addEventListener(e,i,o),{unbind:V(Kr,t,e,i,o)}},qr=function(t,e,n,r){return $r(t,e,n,r,!1)},Gr=function(t,e,n,r){return $r(t,e,n,r,!0)},Kr=function(t,e,n,r){t.dom.removeEventListener(e,n,r)},Yr=function(t,e){var n=Ke(t);n.each((function(n){n.dom.insertBefore(e.dom,t.dom)}))},Xr=function(t,e){var n=Qe(t);n.fold((function(){var n=Ke(t);n.each((function(t){Qr(t,e)}))}),(function(t){Yr(t,e)}))},Jr=function(t,e){var n=en(t);n.fold((function(){Qr(t,e)}),(function(n){t.dom.insertBefore(e.dom,n.dom)}))},Qr=function(t,e){t.dom.appendChild(e.dom)},Zr=function(t,e,n){tn(t,n).fold((function(){Qr(t,e)}),(function(t){Yr(t,e)}))},to=function(t,e){at(e,(function(e){Qr(t,e)}))},eo=function(t){t.dom.textContent="",at(Ze(t),(function(t){no(t)}))},no=function(t){var e=t.dom;null!==e.parentNode&&e.parentNode.removeChild(e)},ro=function(t){var e=void 0!==t?t.dom:document,n=e.body.scrollLeft||e.documentElement.scrollLeft,r=e.body.scrollTop||e.documentElement.scrollTop;return Wn(n,r)},oo=function(t,e,n){var r=void 0!==n?n.dom:document,o=r.defaultView;o&&o.scrollTo(t,e)},io=function(t){var e=void 0===t?window:t;return Ur().browser.isFirefox()?Y.none():Y.from(e.visualViewport)},uo=function(t,e,n,r){return{x:t,y:e,width:n,height:r,right:t+n,bottom:e+r}},ao=function(t){var e=void 0===t?window:t,n=e.document,r=ro(ve.fromDom(n));return io(e).fold((function(){var t=e.document.documentElement,n=t.clientWidth,o=t.clientHeight;return uo(r.left,r.top,n,o)}),(function(t){return uo(Math.max(t.pageLeft,r.left),Math.max(t.pageTop,r.top),t.width,t.height)}))},co=function(){return ve.fromDom(document)},so=function t(e,n){var r=e.view(n);return r.fold(z([]),(function(n){var r=e.owner(n),o=t(e,r);return[n].concat(o)}))},fo=function(t,e){var n=e.owner(t),r=so(e,n);return Y.some(r)},lo=function(t){var e,n=t.dom===document?Y.none():Y.from(null===(e=t.dom.defaultView)||void 0===e?void 0:e.frameElement);return n.map(ve.fromDom)},mo=function(t){return We(t)},po=Object.freeze({__proto__:null,view:lo,owner:mo}),go=function(t){var e=co(),n=ro(e),r=fo(t,po);return r.fold(V(Gn,t),(function(e){var r=Kn(t),o=lt(e,(function(t,e){var n=Kn(e);return{left:t.left+n.left,top:t.top+n.top}}),{left:0,top:0});return Wn(o.left+r.left+n.left,o.top+r.top+n.top)}))},vo=function(t,e,n){return{point:t,width:e,height:n}},ho=function(t,e,n,r){return{x:t,y:e,width:n,height:r}},bo=function(t,e,n,r){return{x:t,y:e,width:n,height:r,right:t+n,bottom:e+r}},yo=function(t){var e=Gn(t),n=Qn(t),r=Un(t);return bo(e.left,e.top,n,r)},xo=function(t){var e=go(t),n=Qn(t),r=Un(t);return bo(e.left,e.top,n,r)},wo=function(t,e){var n=Math.max(t.x,e.x),r=Math.max(t.y,e.y),o=Math.min(t.right,e.right),i=Math.min(t.bottom,e.bottom),u=o-n,a=i-r;return bo(n,r,u,a)},Co=function(t,e){return dt(e,(function(t,e){return wo(t,e)}),t)},So=function(){return ao(window)},ko=tinymce.util.Tools.resolve("tinymce.ThemeManager"),_o=function(t){var e=function(e){return e(t)},n=z(t),r=function(){return o},o={tag:!0,inner:t,fold:function(e,n){return n(t)},isValue:K,isError:G,map:function(e){return To.value(e(t))},mapError:r,bind:e,exists:e,forall:e,getOr:n,or:r,getOrThunk:n,orThunk:r,getOrDie:n,each:function(e){e(t)},toOptional:function(){return Y.some(t)}};return o},Eo=function(t){var e=function(){return n},n={tag:!1,inner:t,fold:function(e,n){return e(t)},isValue:G,isError:K,map:e,mapError:function(e){return To.error(e(t))},bind:e,exists:G,forall:K,getOr:U,or:U,getOrThunk:q,orThunk:q,getOrDie:$(String(t)),each:P,toOptional:Y.none};return n},Oo=function(t,e){return t.fold((function(){return Eo(e)}),_o)},To={value:_o,error:Eo,fromOption:Oo};(function(t){t[t["Error"]=0]="Error",t[t["Value"]=1]="Value"})(X||(X={}));var Ao=function(t,e,n){return t.stype===X.Error?e(t.serror):n(t.svalue)},Ro=function(t){var e=[],n=[];return at(t,(function(t){Ao(t,(function(t){return n.push(t)}),(function(t){return e.push(t)}))})),{values:e,errors:n}},No=function(t,e){return t.stype===X.Error?{stype:X.Error,serror:e(t.serror)}:t},Do=function(t,e){return t.stype===X.Value?{stype:X.Value,svalue:e(t.svalue)}:t},Bo=function(t,e){return t.stype===X.Value?e(t.svalue):t},Mo=function(t,e){return t.stype===X.Error?e(t.serror):t},Io=function(t){return{stype:X.Value,svalue:t}},Po=function(t){return{stype:X.Error,serror:t}},Lo=function(t){return Ao(t,To.error,To.value)},Fo=function(t){return t.fold(Po,Io)},jo={fromResult:Fo,toResult:Lo,svalue:Io,partition:Ro,serror:Po,bind:Bo,bindError:Mo,map:Do,mapError:No,fold:Ao},zo=function(t,e,n,r){return{tag:"field",key:t,newKey:e,presence:n,prop:r}},Uo=function(t,e){return{tag:"custom",newKey:t,instantiator:e}},Ho=function(t,e,n){switch(t.tag){case"field":return e(t.key,t.newKey,t.presence,t.prop);case"custom":return n(t.newKey,t.instantiator)}},Vo=function(t,e){return e},Wo=function(t,e){var n=E(t)&&E(e);return n?qo(t,e):e},$o=function(t){return function(){if(0===arguments.length)throw new Error("Can't merge zero objects");for(var e={},n=0;n<arguments.length;n++){var r=n<0||arguments.length<=n?void 0:arguments[n];for(var o in r)Ht(r,o)&&(e[o]=t(e[o],r[o]))}return e}},qo=$o(Wo),Go=$o(Vo),Ko=function(){return{tag:"required",process:{}}},Yo=function(t){return{tag:"defaultedThunk",process:t}},Xo=function(t){return Yo(z(t))},Jo=function(){return{tag:"option",process:{}}},Qo=function(t){return{tag:"mergeWithThunk",process:t}},Zo=function(t){return Qo(z(t))},ti=function(t,e){return t.length>0?jo.svalue(qo(e,Go.apply(void 0,t))):jo.svalue(e)},ei=function(t){return F(jo.serror,vt)(t)},ni=function(t,e){var n=jo.partition(t);return n.errors.length>0?ei(n.errors):ti(n.values,e)},ri=function(t){var e=jo.partition(t);return e.errors.length>0?ei(e.errors):jo.svalue(e.values)},oi={consolidateObj:ni,consolidateArr:ri},ii=function(t){return _(t)&&At(t).length>100?" removed due to size":JSON.stringify(t,null,2)},ui=function(t){var e=t.length>10?t.slice(0,10).concat([{path:[],getErrorInfo:z("... (only showing first ten failures)")}]):t;return ut(e,(function(t){return"Failed path: ("+t.path.join(" > ")+")\n"+t.getErrorInfo()}))},ai=function(t,e){return jo.serror([{path:t,getErrorInfo:e}])},ci=function(t,e,n){return ai(t,(function(){return'Could not find valid *required* value for "'+e+'" in '+ii(n)}))},si=function(t,e){return ai(t,(function(){return'Choice schema did not contain choice key: "'+e+'"'}))},fi=function(t,e,n){return ai(t,(function(){return'The chosen schema: "'+n+'" did not exist in branches: '+ii(e)}))},li=function(t,e){return ai(t,(function(){return"There are unsupported fields: ["+e.join(", ")+"] specified"}))},di=function(t,e){return ai(t,z(e))},mi=function(t){var e=function(e,n){return jo.bindError(t(n),(function(t){return di(e,t)}))},n=z("val");return{extract:e,toString:n}},pi=mi(jo.svalue),gi=function(t,e,n,r){return Ut(e,n).fold((function(){return ci(t,n,e)}),r)},vi=function(t,e,n,r){var o=Ut(t,e).getOrThunk((function(){return n(t)}));return r(o)},hi=function(t,e,n){return n(Ut(t,e))},bi=function(t,e,n,r){var o=Ut(t,e).map((function(e){return!0===e?n(t):e}));return r(o)},yi=function(t,e,n,r,o){var i=function(t){return o.extract(e.concat([r]),t)},u=function(t){return t.fold((function(){return jo.svalue(Y.none())}),(function(t){var n=o.extract(e.concat([r]),t);return jo.map(n,Y.some)}))};switch(t.tag){case"required":return gi(e,n,r,i);case"defaultedThunk":return vi(n,r,t.process,i);case"option":return hi(n,r,u);case"defaultedOptionThunk":return bi(n,r,t.process,u);case"mergeWithThunk":return vi(n,r,z({}),(function(e){var r=qo(t.process(n),e);return i(r)}))}},xi=function(t,e,n){var r,o={},i=[],u=s(n);try{for(u.s();!(r=u.n()).done;){var a=r.value;Ho(a,(function(n,r,u,a){var s=yi(u,t,e,n,a);jo.fold(s,(function(t){i.push.apply(i,c(t))}),(function(t){o[r]=t}))}),(function(t,n){o[t]=n(e)}))}}catch(f){u.e(f)}finally{u.f()}return i.length>0?jo.serror(i):jo.svalue(o)},wi=function(t){var e=function(e,n){return t().extract(e,n)},n=function(){return t().toString()};return{extract:e,toString:n}},Ci=function(t){return At(Lt(t,D))},Si=function(t){var e=ki(t),n=lt(t,(function(t,e){return Ho(e,(function(e){return qo(t,a({},e,!0))}),z(t))}),{}),r=function(t,r){var o=A(r)?[]:Ci(r),i=ft(o,(function(t){return!Vt(n,t)}));return 0===i.length?e.extract(t,r):li(t,i)};return{extract:r,toString:e.toString}},ki=function(t){var e=function(e,n){return xi(e,n,t)},n=function(){var e=ut(t,(function(t){return Ho(t,(function(t,e,n,r){return t+" -> "+r.toString()}),(function(t,e){return"state("+t+")"}))}));return"obj{\n"+e.join("\n")+"}"};return{extract:e,toString:n}},_i=function(t){var e=function(e,n){var r=ut(n,(function(n,r){return t.extract(e.concat(["["+r+"]"]),n)}));return oi.consolidateArr(r)},n=function(){return"array("+t.toString()+")"};return{extract:e,toString:n}},Ei=function(t,e){var n=void 0!==e?e:U,r=function(e,r){var o,i=[],u=s(t);try{for(u.s();!(o=u.n()).done;){var a=o.value,c=a.extract(e,r);if(c.stype===X.Value)return{stype:X.Value,svalue:n(c.svalue)};i.push(c)}}catch(f){u.e(f)}finally{u.f()}return oi.consolidateArr(i)},o=function(){return"oneOf("+ut(t,(function(t){return t.toString()})).join(", ")+")"};return{extract:r,toString:o}},Oi=function(t,e){var n=function(e,n){return _i(mi(t)).extract(e,n)},r=function(t,r){var o=At(r),i=n(t,o);return jo.bind(i,(function(n){var o=ut(n,(function(t){return zo(t,t,Ko(),e)}));return ki(o).extract(t,r)}))},o=function(){return"setOf("+e.toString()+")"};return{extract:r,toString:o}},Ti=function(t,e){var n=tr(e),r=function(t,e){return n().extract(t,e)},o=function(){return n().toString()};return{extract:r,toString:o}},Ai=F(_i,ki),Ri=z(pi),Ni=function(t,e){return mi((function(n){var r=d(n);return t(n)?jo.svalue(n):jo.serror("Expected type: ".concat(e," but got: ").concat(r))}))},Di=Ni(M,"number"),Bi=Ni(k,"string"),Mi=Ni(A,"boolean"),Ii=Ni(B,"function"),Pi=function t(e){if(Object(e)!==e)return!0;switch({}.toString.call(e).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(e).every((function(n){return t(e[n])}));default:return!1}},Li=mi((function(t){return Pi(t)?jo.svalue(t):jo.serror("Expected value to be acceptable for sending via postMessage")})),Fi=function(t,e,n,r){var o=Ut(n,r);return o.fold((function(){return fi(t,n,r)}),(function(n){return n.extract(t.concat(["branch: "+r]),e)}))},ji=function(t,e){var n=function(n,r){var o=Ut(r,t);return o.fold((function(){return si(n,t)}),(function(t){return Fi(n,r,e,t)}))},r=function(){return"chooseOn("+t+"). Possible values: "+At(e)};return{extract:n,toString:r}},zi=function(){return _i(pi)},Ui=function(t){return mi((function(e){return t(e).fold(jo.serror,jo.svalue)}))},Hi=function(t,e){return Oi((function(e){return jo.fromResult(t(e))}),e)},Vi=function(t,e,n){var r=e.extract([t],n);return jo.mapError(r,(function(t){return{input:n,errors:t}}))},Wi=function(t,e,n){return jo.toResult(Vi(t,e,n))},$i=function(t){return t.fold((function(t){throw new Error(Gi(t))}),U)},qi=function(t,e,n){return $i(Wi(t,e,n))},Gi=function(t){return"Errors: \n"+ui(t.errors).join("\n")+"\n\nInput object: "+ii(t.input)},Ki=function(t,e){return ji(t,Dt(e,ki))},Yi=function(t,e){return Ti(t,e)},Xi=zo,Ji=Uo,Qi=function(t){return Ui((function(e){return nt(t,e)?To.value(e):To.error('Unsupported value: "'.concat(e,'", choose one of "').concat(t.join(", "),'".'))}))},Zi=function(t){return Xi(t,t,Ko(),Ri())},tu=function(t,e){return Xi(t,t,Ko(),e)},eu=function(t){return tu(t,Di)},nu=function(t){return tu(t,Bi)},ru=function(t,e){return Xi(t,t,Ko(),Qi(e))},ou=function(t){return tu(t,Mi)},iu=function(t){return tu(t,Ii)},uu=function(t,e){return Xi(t,t,Jo(),mi((function(n){return jo.serror("The field: "+t+" is forbidden. "+e)})))},au=function(t,e){return Xi(t,t,Ko(),ki(e))},cu=function(t,e){return Xi(t,t,Ko(),Ai(e))},su=function(t,e){return Xi(t,t,Ko(),_i(e))},fu=function(t){return Xi(t,t,Jo(),Ri())},lu=function(t,e){return Xi(t,t,Jo(),e)},du=function(t){return lu(t,Di)},mu=function(t){return lu(t,Bi)},pu=function(t,e){return lu(t,Qi(e))},gu=function(t){return lu(t,Ii)},vu=function(t,e){return lu(t,_i(e))},hu=function(t,e){return lu(t,ki(e))},bu=function(t,e){return lu(t,Si(e))},yu=function(t,e){return Xi(t,t,Xo(e),Ri())},xu=function(t,e,n){return Xi(t,t,Xo(e),n)},wu=function(t,e){return xu(t,e,Di)},Cu=function(t,e){return xu(t,e,Bi)},Su=function(t,e,n){return xu(t,e,Qi(n))},ku=function(t,e){return xu(t,e,Mi)},_u=function(t,e){return xu(t,e,Ii)},Eu=function(t,e){return xu(t,e,Li)},Ou=function(t,e,n){return xu(t,e,_i(n))},Tu=function(t,e,n){return xu(t,e,ki(n))},Au=function(t){var e=t,n=function(){return e},r=function(t){e=t};return{get:n,set:r}},Ru=function(t){if(!O(t))throw new Error("cases must be an array");if(0===t.length)throw new Error("there must be at least one case");var e=[],n={};return at(t,(function(r,o){var i=At(r);if(1!==i.length)throw new Error("one and only one name per case");var u=i[0],a=r[u];if(void 0!==n[u])throw new Error("duplicate key detected:"+u);if("cata"===u)throw new Error("cannot have a case named cata (sorry)");if(!O(a))throw new Error("case arguments must be an array");e.push(u),n[u]=function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var c=r.length;if(c!==a.length)throw new Error("Wrong number of arguments to case "+u+". Expected "+a.length+" ("+a+"), got "+c);var s=function(t){var n=At(t);if(e.length!==n.length)throw new Error("Wrong number of arguments to match. Expected: "+e.join(",")+"\nActual: "+n.join(","));var o=bt(e,(function(t){return nt(n,t)}));if(!o)throw new Error("Not all branches were specified when using match. Specified: "+n.join(", ")+"\nRequired: "+e.join(", "));return t[u].apply(null,r)};return{fold:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];if(n.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+n.length);var u=n[o];return u.apply(null,r)},match:s,log:function(t){console.log(t,{constructors:e,constructor:u,params:r})}}}})),n},Nu={generate:Ru};Nu.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var Du,Bu=function(t){var e=[],n=[];return at(t,(function(t){t.fold((function(t){e.push(t)}),(function(t){n.push(t)}))})),{errors:e,values:n}},Mu=function(t,e){var n={};return Nt(t,(function(t,r){nt(e,r)||(n[r]=t)})),n},Iu=function(t,e){return a({},t,e)},Pu=function(t){var e={};return at(t,(function(t){e[t.key]=t.value})),e},Lu=function(t,e){return Mu(t,e)},Fu=function(t,e){return Iu(t,e)},ju=function(t){return Pu(t)},zu=function(t,e){return 0===t.length?To.value(e):To.value(qo(e,Go.apply(void 0,t)))},Uu=function(t){return To.error(vt(t))},Hu=function(t,e){var n=Bu(t);return n.errors.length>0?Uu(n.errors):zu(n.values,e)},Vu=function(t){return B(t)?t:G},Wu=function(t,e,n){var r=t.dom,o=Vu(n);while(r.parentNode){r=r.parentNode;var i=ve.fromDom(r),u=e(i);if(u.isSome())return u;if(o(i))break}return Y.none()},$u=function(t,e,n){var r=e(t),o=Vu(n);return r.orThunk((function(){return o(t)?Y.none():Wu(t,e,o)}))},qu=function(t,e){return He(t.element,e.event.target)},Gu={can:K,abort:G,run:P},Ku=function(t){if(!Vt(t,"can")&&!Vt(t,"abort")&&!Vt(t,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(t,null,2)+" does not have can, abort, or run!");return u(u({},Gu),t)},Yu=function(t,e){return function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return dt(t,(function(t,n){return t&&e(n).apply(void 0,r)}),!0)}},Xu=function(t,e){return function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return dt(t,(function(t,n){return t||e(n).apply(void 0,r)}),!1)}},Ju=function(t){return B(t)?{can:K,abort:G,run:t}:t},Qu=function(t){var e=Yu(t,(function(t){return t.can})),n=Xu(t,(function(t){return t.abort})),r=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];at(t,(function(t){t.run.apply(void 0,n)}))};return{can:e,abort:n,run:r}},Zu=z,ta=Zu("touchstart"),ea=Zu("touchmove"),na=Zu("touchend"),ra=Zu("touchcancel"),oa=Zu("mousedown"),ia=Zu("mousemove"),ua=Zu("mouseout"),aa=Zu("mouseup"),ca=Zu("mouseover"),sa=Zu("focusin"),fa=Zu("focusout"),la=Zu("keydown"),da=Zu("keyup"),ma=Zu("input"),pa=Zu("change"),ga=Zu("click"),va=Zu("transitioncancel"),ha=Zu("transitionend"),ba=Zu("transitionstart"),ya=Zu("selectstart"),xa=function(t){return z("alloy."+t)},wa={tap:xa("tap")},Ca=xa("focus"),Sa=xa("blur.post"),ka=xa("paste.post"),_a=xa("receive"),Ea=xa("execute"),Oa=xa("focus.item"),Ta=wa.tap,Aa=xa("longpress"),Ra=xa("sandbox.close"),Na=xa("typeahead.cancel"),Da=xa("system.init"),Ba=xa("system.touchmove"),Ma=xa("system.touchend"),Ia=xa("system.scroll"),Pa=xa("system.resize"),La=xa("system.attached"),Fa=xa("system.detached"),ja=xa("system.dismissRequested"),za=xa("system.repositionRequested"),Ua=xa("focusmanager.shifted"),Ha=xa("slotcontainer.visibility"),Va=xa("system.external.element.scroll"),Wa=xa("change.tab"),$a=xa("dismiss.tab"),qa=xa("highlight"),Ga=xa("dehighlight"),Ka=function(t,e){Qa(t,t.element,e,{})},Ya=function(t,e,n){Qa(t,t.element,e,n)},Xa=function(t){Ka(t,Ea())},Ja=function(t,e,n){Qa(t,e,n,{})},Qa=function(t,e,n,r){var o=u({target:e},r);t.getSystem().triggerEvent(n,e,o)},Za=function(t,e,n,r){var o=u(u({},r),{},{target:e});t.getSystem().triggerEvent(n,e,o)},tc=function(t,e,n,r){t.getSystem().triggerEvent(n,e,r.event)},ec=function(t){return ju(t)},nc=function(t,e){return{key:t,value:Ku({abort:e})}},rc=function(t,e){return{key:t,value:Ku({can:e})}},oc=function(t){return{key:t,value:Ku({run:function(t,e){e.event.prevent()}})}},ic=function(t,e){return{key:t,value:Ku({run:e})}},uc=function(t,e,n){return{key:t,value:Ku({run:function(t,r){e.apply(void 0,[t,r].concat(n))}})}},ac=function(t){return function(e){return ic(t,e)}},cc=function(t){return function(e){return{key:t,value:Ku({run:function(t,n){qu(t,n)&&e(t,n)}})}}},sc=function(t,e){return ic(t,(function(n,r){n.getSystem().getByUid(e).each((function(e){tc(e,e.element,t,r)}))}))},fc=function(t,e,n){var r=e.partUids[n];return sc(t,r)},lc=function(t,e){return ic(t,(function(t,n){var r=n.event,o=t.getSystem().getByDom(r.target).getOrThunk((function(){var e=$u(r.target,(function(e){return t.getSystem().getByDom(e).toOptional()}),G);return e.getOr(t)}));e(t,o,n)}))},dc=function(t){return ic(t,(function(t,e){e.cut()}))},mc=function(t){return ic(t,(function(t,e){e.stop()}))},pc=function(t,e){return cc(t)(e)},gc=cc(La()),vc=cc(Fa()),hc=cc(Da()),bc=ac(Ea()),yc=function(t,e){var n=e||document,r=n.createElement("div");return r.innerHTML=t,Ze(ve.fromDom(r))},xc=function(t){return t.dom.innerHTML},wc=function(t,e){var n=We(t),r=n.dom,o=ve.fromDom(r.createDocumentFragment()),i=yc(e,r);to(o,i),eo(t),Qr(t,o)},Cc=function(t){var e=ve.fromTag("div"),n=ve.fromDom(t.dom.cloneNode(!0));return Qr(e,n),xc(e)},Sc=function(t,e){return ve.fromDom(t.dom.cloneNode(e))},kc=function(t){return Sc(t,!1)},_c=function(t){if(on(t))return"#shadow-root";var e=kc(t);return Cc(e)},Ec=function(t){return _c(t)},Oc=function(t,e,n){return He(e,t.element)&&!He(e,n)},Tc=ec([rc(Ca(),(function(t,e){var n=e.event,r=n.originator,o=n.target;return!Oc(t,r,o)||(console.warn(Ca()+" did not get interpreted by the desired target. \nOriginator: "+Ec(r)+"\nTarget: "+Ec(o)+"\nCheck the "+Ca()+" event handlers"),!1)}))]),Ac=Object.freeze({__proto__:null,events:Tc}),Rc=0,Nc=function(t){var e=new Date,n=e.getTime(),r=Math.floor(1e9*Math.random());return Rc++,t+"_"+r+Rc+String(n)},Dc=z("alloy-id-"),Bc=z("data-alloy-id"),Mc=Dc(),Ic=Bc(),Pc=function(t,e){var n=Nc(Mc+t);return Lc(e,n),n},Lc=function(t,e){Object.defineProperty(t.dom,Ic,{value:e,writable:!0})},Fc=function(t){var e=Be(t)?t.dom[Ic]:null;return Y.from(e)},jc=function(t){return Nc(t)},zc=U,Uc=function(t){var e=function(e){return"The component must be in a context to execute: ".concat(e)+(t?"\n"+Ec(t().element)+" is not in context.":"")},n=function(t){return function(){throw new Error(e(t))}},r=function(t){return function(){console.warn(e(t))}};return{debugInfo:z("fake"),triggerEvent:r("triggerEvent"),triggerFocus:r("triggerFocus"),triggerEscape:r("triggerEscape"),broadcast:r("broadcast"),broadcastOn:r("broadcastOn"),broadcastEvent:r("broadcastEvent"),build:n("build"),buildOrPatch:n("buildOrPatch"),addToWorld:n("addToWorld"),removeFromWorld:n("removeFromWorld"),addToGui:n("addToGui"),removeFromGui:n("removeFromGui"),getByUid:n("getByUid"),getByDom:n("getByDom"),isConnected:G}},Hc=Uc(),Vc=function(t,e,n){var r=n.toString(),o=r.indexOf(")")+1,i=r.indexOf("("),u=r.substring(i+1,o-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:e,parameters:Wc(u.slice(0,1).concat(u.slice(3)))}},t},Wc=function(t){return ut(t,(function(t){return ie(t,"/*")?t.substring(0,t.length-2):t}))},$c=function(t,e){var n=t.toString(),r=n.indexOf(")")+1,o=n.indexOf("("),i=n.substring(o+1,r-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:e,parameters:Wc(i)}},t},qc=function(t,e){var n=e.toString(),r=n.indexOf(")")+1,o=n.indexOf("("),i=n.substring(o+1,r-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:"OVERRIDE",parameters:Wc(i.slice(1))}},t},Gc=Nc("alloy-premade"),Kc=function(t){return Object.defineProperty(t.element.dom,Gc,{value:t.uid,writable:!0}),Fu(Gc,t)},Yc=function(t){return Ht(t.dom,Gc)},Xc=function(t){return Ut(t,Gc)},Jc=function(t){return qc((function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return t.apply(void 0,[e.getApis(),e].concat(r))}),t)},Qc={init:function(){return Zc({readState:z("No State required")})}},Zc=function(t){return t},ts=function(t,e){var n=ut(e,(function(t){return hu(t.name(),[Zi("config"),yu("state",Qc)])})),r=Wi("component.behaviours",ki(n),t.behaviours).fold((function(e){throw new Error(Gi(e)+"\nComplete spec:\n"+JSON.stringify(t,null,2))}),U);return{list:e,data:Dt(r,(function(t){var e=t.map((function(t){return{config:t.config,state:t.state.init(t.config)}}));return z(e)}))}},es=function(t){return t.list},ns=function(t){return t.data},rs=function(t,e){var n={};return Nt(t,(function(t,r){Nt(t,(function(t,o){var i=Ut(n,o).getOr([]);n[o]=i.concat([e(r,t)])}))})),n},os=function(t){return{classes:R(t.classes)?[]:t.classes,attributes:R(t.attributes)?{}:t.attributes,styles:R(t.styles)?{}:t.styles}},is=function(t,e){return u(u({},t),{},{attributes:u(u({},t.attributes),e.attributes),styles:u(u({},t.styles),e.styles),classes:t.classes.concat(e.classes)})},us=function(t,e,n,r){var o=u({},e);at(n,(function(e){o[e.name()]=e.exhibit(t,r)}));var i=rs(o,(function(t,e){return{name:t,modification:e}})),a=function(t){return lt(t,(function(t,e){return u(u({},e.modification),t)}),{})},c=lt(i.classes,(function(t,e){return e.modification.concat(t)}),[]),s=a(i.attributes),f=a(i.styles);return os({classes:c,attributes:s,styles:f})},as=function(t,e,n,r){try{var o=St(n,(function(n,o){var i=n[e],u=o[e],a=r.indexOf(i),c=r.indexOf(u);if(-1===a)throw new Error("The ordering for "+t+" does not have an entry for "+i+".\nOrder specified: "+JSON.stringify(r,null,2));if(-1===c)throw new Error("The ordering for "+t+" does not have an entry for "+u+".\nOrder specified: "+JSON.stringify(r,null,2));return a<c?-1:c<a?1:0}));return To.value(o)}catch(i){return To.error([i])}},cs=function(t,e){return{handler:t,purpose:e}},ss=function(t,e){return{cHandler:t,purpose:e}},fs=function(t,e){return ss(V.apply(void 0,[t.handler].concat(e)),t.purpose)},ls=function(t){return t.cHandler},ds=function(t,e){return{name:t,handler:e}},ms=function(t,e){var n={};return at(t,(function(t){n[t.name()]=t.handlers(e)})),n},ps=function(t,e,n){var r=u(u({},n),ms(e,t));return rs(r,ds)},gs=function(t,e,n,r){var o=ps(t,n,r);return ys(o,e)},vs=function(t){var e=Ju(t);return function(t,n){for(var r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];var u=[t,n].concat(o);e.abort.apply(void 0,u)?n.stop():e.can.apply(void 0,u)&&e.run.apply(void 0,u)}},hs=function(t,e){return To.error(["The event ("+t+') has more than one behaviour that listens to it.\nWhen this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).\nThe behaviours that can trigger it are: '+JSON.stringify(ut(e,(function(t){return t.name})),null,2)])},bs=function(t,e,n){var r=e[n];return r?as("Event: "+n,"name",t,r).map((function(t){var e=ut(t,(function(t){return t.handler}));return Qu(e)})):hs(n,t)},ys=function(t,e){var n=Ft(t,(function(t,n){var r=1===t.length?To.value(t[0].handler):bs(t,e,n);return r.map((function(r){var o=vs(r),i=t.length>1?ft(e[n],(function(e){return rt(t,(function(t){return t.name===e}))})).join(" > "):t[0].name;return Fu(n,cs(o,i))}))}));return Hu(n,{})},xs="alloy.base.behaviour",ws=ki([Xi("dom","dom",Ko(),ki([Zi("tag"),yu("styles",{}),yu("classes",[]),yu("attributes",{}),fu("value"),fu("innerHtml")])),Zi("components"),Zi("uid"),yu("events",{}),yu("apis",{}),Xi("eventOrder","eventOrder",Zo((t={},a(t,Ea(),["disabling",xs,"toggling","typeaheadevents"]),a(t,Ca(),[xs,"focusing","keying"]),a(t,Da(),[xs,"disabling","toggling","representing"]),a(t,ma(),[xs,"representing","streaming","invalidating"]),a(t,Fa(),[xs,"representing","item-events","tooltipping"]),a(t,oa(),["focusing",xs,"item-type-events"]),a(t,ta(),["focusing",xs,"item-type-events"]),a(t,ca(),["item-type-events","tooltipping"]),a(t,_a(),["receiving","reflecting","tooltipping"]),t)),Ri()),fu("domModification")]),Cs=function(t){return Wi("custom.definition",ws,t)},Ss=function(t){return u(u({},t.dom),{},{uid:t.uid,domChildren:ut(t.components,(function(t){return t.element}))})},ks=function(t){return t.domModification.fold((function(){return os({})}),os)},_s=function(t){return t.events},Es=function(t,e){var n=wn(t,e);return void 0===n||""===n?[]:n.split(" ")},Os=function(t,e,n){var r=Es(t,e),o=r.concat([n]);return yn(t,e,o.join(" ")),!0},Ts=function(t,e,n){var r=ft(Es(t,e),(function(t){return t!==n}));return r.length>0?yn(t,e,r.join(" ")):kn(t,e),!1},As=function(t){return void 0!==t.dom.classList},Rs=function(t){return Es(t,"class")},Ns=function(t,e){return Os(t,"class",e)},Ds=function(t,e){return Ts(t,"class",e)},Bs=function(t,e){As(t)?t.dom.classList.add(e):Ns(t,e)},Ms=function(t){var e=As(t)?t.dom.classList:Rs(t);0===e.length&&kn(t,"class")},Is=function(t,e){if(As(t)){var n=t.dom.classList;n.remove(e)}else Ds(t,e);Ms(t)},Ps=function(t,e){return As(t)&&t.dom.classList.contains(e)},Ls=function(t,e){at(e,(function(e){Bs(t,e)}))},Fs=function(t,e){at(e,(function(e){Is(t,e)}))},js=function(t,e){return bt(e,(function(e){return Ps(t,e)}))},zs=function(t){for(var e=t.dom.classList,n=new Array(e.length),r=0;r<e.length;r++){var o=e.item(r);null!==o&&(n[r]=o)}return n},Us=function(t){return As(t)?zs(t):Rs(t)},Hs=function(t){return t.dom.value},Vs=function(t,e){if(void 0===e)throw new Error("Value.set was undefined");t.dom.value=e},Ws=function(t,e,n){var r=tn(t,e);return r.map((function(t){var e=n.exists((function(e){return!He(e,t)}));if(e){var r=n.map(Ae).getOr("span"),o=ve.fromTag(r);return Yr(t,o),o}return t}))},$s=function(t,e,n){n.fold((function(){return Qr(t,e)}),(function(t){He(t,e)||(Yr(t,e),no(t))}))},qs=function(t,e,n){var r=ut(e,n),o=Ze(t);return at(o.slice(r.length),no),r},Gs=function(t,e,n,r){var o=tn(t,e),i=r(n,o),u=Ws(t,e,o);return $s(t,i.element,u),i},Ks=function(t,e,n){return qs(t,e,(function(e,r){return Gs(t,r,e,n)}))},Ys=function(t,e){return qs(t,e,(function(e,n){var r=tn(t,n);return $s(t,e,r),e}))},Xs=function(t,e){var n=At(t),r=At(e),o=xt(r,n),i=Pt(t,(function(t,n){return!Ht(e,n)||t!==e[n]})).t;return{toRemove:o,toSet:i}},Js=function(t,e){var n=_n(e),r=(n.class,n.style,i(n,m)),o=Xs(t.attributes,r),u=o.toSet,a=o.toRemove,c=function(){at(a,(function(t){return kn(e,t)})),xn(e,u)},s=Mn(e),f=Xs(t.styles,s),l=f.toSet,d=f.toRemove,p=function(){at(d,(function(t){return Pn(e,t)})),An(e,l)},g=Us(e),v=xt(g,t.classes),h=xt(t.classes,g),b=function(){Ls(e,h),Fs(e,v)},y=function(t){wc(e,t)},x=function(){var n=t.domChildren;Ys(e,n)},w=function(){var n=e,r=t.value.getOrUndefined();r!==Hs(n)&&Vs(n,null!==r&&void 0!==r?r:"")};return c(),b(),p(),t.innerHtml.fold(x,y),w(),e},Qs=function(t){var e=ve.fromTag(t.tag);xn(e,t.attributes),Ls(e,t.classes),An(e,t.styles),t.innerHtml.each((function(t){return wc(e,t)}));var n=t.domChildren;return to(e,n),t.value.each((function(t){Vs(e,t)})),e},Zs=function(t,e){try{var n=Js(t,e);return Y.some(n)}catch(r){return Y.none()}},tf=function(t){return t.innerHtml.isSome()&&t.domChildren.length>0},ef=function(t,e){var n=function(e){return Ae(e)===t.tag&&!tf(t)&&!Yc(e)},r=e.filter(n).bind((function(e){return Zs(t,e)})).getOrThunk((function(){return Qs(t)}));return Lc(r,t.uid),r},nf=function(t){var e=Ut(t,"behaviours").getOr({});return ht(At(e),(function(t){var n=e[t];return D(n)?[n.me]:[]}))},rf=function(t,e){return ts(t,e)},of=function(t){var e=nf(t);return rf(t,e)},uf=function(t,e,n){var r=Ss(t),o=ks(t),i={"alloy.base.modification":o},u=e.length>0?us(n,i,e,r):o;return is(r,u)},af=function(t,e,n){var r={"alloy.base.behaviour":_s(t)};return gs(n,t.eventOrder,e,r).getOrDie()},cf=function(t,e){var n=function(){return y},r=Au(Hc),o=$i(Cs(t)),i=of(t),u=es(i),a=ns(i),c=uf(o,u,a),s=ef(c,e),f=af(o,u,a),l=Au(o.components),d=function(t){r.set(t)},m=function(){r.set(Uc(n))},p=function(){var t=Ze(s),e=ht(t,(function(t){return r.get().getByDom(t).fold((function(){return[]}),Ct)}));l.set(e)},g=function(e){var n=a,r=B(n[e.name()])?n[e.name()]:function(){throw new Error("Could not find "+e.name()+" in "+JSON.stringify(t,null,2))};return r()},v=function(t){return B(a[t.name()])},h=function(){return o.apis},b=function(t){return a[t]().map((function(t){return t.state.readState()})).getOr("not enabled")},y={uid:t.uid,getSystem:r.get,config:g,hasConfigured:v,spec:t,readState:b,getApis:h,connect:d,disconnect:m,element:s,syncComponents:p,components:l.get,events:f};return y},sf=function(t,e){var n=Ut(t,"components").getOr([]);return e.fold((function(){return ut(n,vf)}),(function(t){return ut(n,(function(e,n){return gf(e,tn(t,n))}))}))},ff=function(t,e){var n=zc(t),r=n.events,o=i(n,p),a=sf(o,e),c=u(u({},o),{},{events:u(u({},Ac),r),components:a});return To.value(cf(c,e))},lf=function(t){var e=ve.fromText(t);return df({element:e})},df=function(t){var e=qi("external.component",Si([Zi("element"),fu("uid")]),t),n=Au(Uc()),r=function(t){n.set(t)},o=function(){n.set(Uc((function(){return u})))},i=e.uid.getOrThunk((function(){return jc("external")}));Lc(e.element,i);var u={uid:i,getSystem:n.get,config:Y.none,hasConfigured:G,connect:r,disconnect:o,getApis:function(){return{}},element:e.element,spec:t,readState:z("No state"),syncComponents:P,components:z([]),events:{}};return Kc(u)},mf=jc,pf=function(t){return Ht(t,"uid")},gf=function(t,e){return Xc(t).getOrThunk((function(){var n=pf(t)?t:u({uid:mf("")},t);return ff(n,e).getOrDie()}))},vf=function(t){return gf(t,Y.none())},hf=Kc,bf=function(t,e,n,r,o){return t(n,r)?Y.some(n):B(o)&&o(n)?Y.none():e(n,r,o)},yf=function(t,e,n){var r=t.dom,o=B(n)?n:G;while(r.parentNode){r=r.parentNode;var i=ve.fromDom(r);if(e(i))return Y.some(i);if(o(i))break}return Y.none()},xf=function(t,e,n){var r=function(t,e){return e(t)};return bf(r,yf,t,e,n)},wf=function(t,e){var n=function(t){return e(ve.fromDom(t))},r=pt(t.dom.childNodes,n);return r.map(ve.fromDom)},Cf=function(t,e){var n=function t(n){for(var r=0;r<n.childNodes.length;r++){var o=ve.fromDom(n.childNodes[r]);if(e(o))return Y.some(o);var i=t(n.childNodes[r]);if(i.isSome())return i}return Y.none()};return n(t.dom)},Sf=function(t,e,n){return xf(t,e,n).isSome()},kf=function(t,e,n){return yf(t,(function(t){return Fe(t,e)}),n)},_f=function(t,e){return wf(t,(function(t){return Fe(t,e)}))},Ef=function(t,e){return Ue(e,t)},Of=function(t,e,n){var r=function(t,e){return Fe(t,e)};return bf(r,kf,t,e,n)},Tf="aria-controls",Af=function(t){var e=xf(t,(function(t){if(!Be(t))return!1;var e=wn(t,"id");return void 0!==e&&e.indexOf(Tf)>-1}));return e.bind((function(t){var e=wn(t,"id"),n=cn(t);return Ef(n,"[".concat(Tf,'="').concat(e,'"]'))}))},Rf=function(){var t=Nc(Tf),e=function(e){yn(e,Tf,t)},n=function(t){kn(t,Tf)};return{id:t,link:e,unlink:n}},Nf=function(t,e){return Af(e).exists((function(e){return Df(t,e)}))},Df=function(t,e){return Sf(e,(function(e){return He(e,t.element)}),G)||Nf(t,e)},Bf="unknown";(function(t){t[t["STOP"]=0]="STOP",t[t["NORMAL"]=1]="NORMAL",t[t["LOGGING"]=2]="LOGGING"})(Du||(Du={}));var Mf=Au({}),If=function(t,e){var n=[],r=(new Date).getTime();return{logEventCut:function(t,e,r){n.push({outcome:"cut",target:e,purpose:r})},logEventStopped:function(t,e,r){n.push({outcome:"stopped",target:e,purpose:r})},logNoParent:function(t,e,r){n.push({outcome:"no-parent",target:e,purpose:r})},logEventNoHandlers:function(t,e){n.push({outcome:"no-handlers-left",target:e})},logEventResponse:function(t,e,r){n.push({outcome:"response",purpose:r,target:e})},write:function(){var o=(new Date).getTime();nt(["mousemove","mouseover","mouseout",Da()],t)||console.log(t,{event:t,time:o-r,target:e.dom,sequence:ut(n,(function(t){return nt(["cut","stopped","response"],t.outcome)?"{"+t.purpose+"} "+t.outcome+" at ("+Ec(t.target)+")":t.outcome}))})}}},Pf=function(t,e,n){var r=Ut(Mf.get(),t).orThunk((function(){var e=At(Mf.get());return Tt(e,(function(e){return t.indexOf(e)>-1?Y.some(Mf.get()[e]):Y.none()}))})).getOr(Du.NORMAL);switch(r){case Du.NORMAL:return n(Uf());case Du.LOGGING:var o=If(t,e),i=n(o);return o.write(),i;case Du.STOP:return!0}},Lf=["alloy/data/Fields","alloy/debugging/Debugging"],Ff=function(){var t=new Error;if(void 0!==t.stack){var e=t.stack.split("\n");return pt(e,(function(t){return t.indexOf("alloy")>0&&!rt(Lf,(function(e){return t.indexOf(e)>-1}))})).getOr(Bf)}return Bf},jf={logEventCut:P,logEventStopped:P,logNoParent:P,logEventNoHandlers:P,logEventResponse:P,write:P},zf=function(t,e,n){return Pf(t,e,n)},Uf=z(jf),Hf=z([Zi("menu"),Zi("selectedMenu")]),Vf=z([Zi("item"),Zi("selectedItem")]);z(ki(Vf().concat(Hf())));var Wf=z(ki(Vf())),$f=au("initSize",[Zi("numColumns"),Zi("numRows")]),qf=function(){return tu("markers",Wf())},Gf=function(){return au("markers",[Zi("backgroundMenu")].concat(Hf()).concat(Vf()))},Kf=function(t){return au("markers",ut(t,Zi))},Yf=function(t,e,n){return Ff(),Xi(e,e,n,Ui((function(t){return To.value((function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.apply(void 0,n)}))})))},Xf=function(t){return Yf("onHandler",t,Xo(P))},Jf=function(t){return Yf("onKeyboardHandler",t,Xo(Y.none))},Qf=function(t){return Yf("onHandler",t,Ko())},Zf=function(t){return Yf("onKeyboardHandler",t,Ko())},tl=function(t,e){return Ji(t,z(e))},el=function(t){return Ji(t,U)},nl=z($f),rl=function(t,e,n,r,o,i,u){var a=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return{x:t,y:e,bubble:n,direction:r,placement:o,restriction:i,label:"".concat(u,"-").concat(o),alwaysFit:a}},ol=Nu.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),il=function(t,e,n,r,o,i,u,a,c){return t.fold(e,n,r,o,i,u,a,c)},ul=function(t,e,n,r){return t.fold(e,e,r,r,e,r,n,n)},al=function(t,e,n,r){return t.fold(e,r,e,r,n,n,e,r)},cl=ol.southeast,sl=ol.southwest,fl=ol.northeast,ll=ol.northwest,dl=ol.south,ml=ol.north,pl=ol.east,gl=ol.west,vl=function(t,e,n,r){var o=t+e;return o>r?n:o<n?r:o},hl=function(t,e,n){return Math.min(Math.max(t,e),n)},bl=function(t,e){switch(e){case 1:return t.x;case 0:return t.x+t.width;case 2:return t.y;case 3:return t.y+t.height}},yl=function(t,e){return wt(["left","right","top","bottom"],(function(n){return Ut(e,n).map((function(e){return bl(t,e)}))}))},xl=function(t,e,n){var r=function(r,o){return e[r].map((function(e){var i="top"===r||"bottom"===r,u=i?n.top:n.left,a="left"===r||"top"===r?Math.max:Math.min,c=a(e,o)+u;return i?hl(c,t.y,t.bottom):hl(c,t.x,t.right)})).getOr(o)},o=r("left",t.x),i=r("top",t.y),u=r("right",t.right),a=r("bottom",t.bottom);return bo(o,i,u-o,a-i)},wl="layout",Cl=function(t){return t.x},Sl=function(t,e){return t.x+t.width/2-e.width/2},kl=function(t,e){return t.x+t.width-e.width},_l=function(t,e){return t.y-e.height},El=function(t){return t.y+t.height},Ol=function(t,e){return t.y+t.height/2-e.height/2},Tl=function(t){return t.x+t.width},Al=function(t,e){return t.x-e.width},Rl=function(t,e,n){return rl(Cl(t),El(t),n.southeast(),cl(),"southeast",yl(t,{left:1,top:3}),wl)},Nl=function(t,e,n){return rl(kl(t,e),El(t),n.southwest(),sl(),"southwest",yl(t,{right:0,top:3}),wl)},Dl=function(t,e,n){return rl(Cl(t),_l(t,e),n.northeast(),fl(),"northeast",yl(t,{left:1,bottom:2}),wl)},Bl=function(t,e,n){return rl(kl(t,e),_l(t,e),n.northwest(),ll(),"northwest",yl(t,{right:0,bottom:2}),wl)},Ml=function(t,e,n){return rl(Sl(t,e),_l(t,e),n.north(),ml(),"north",yl(t,{bottom:2}),wl)},Il=function(t,e,n){return rl(Sl(t,e),El(t),n.south(),dl(),"south",yl(t,{top:3}),wl)},Pl=function(t,e,n){return rl(Tl(t),Ol(t,e),n.east(),pl(),"east",yl(t,{left:0}),wl)},Ll=function(t,e,n){return rl(Al(t,e),Ol(t,e),n.west(),gl(),"west",yl(t,{right:1}),wl)},Fl=function(){return[Rl,Nl,Dl,Bl,Il,Ml,Pl,Ll]},jl=function(){return[Nl,Rl,Bl,Dl,Il,Ml,Pl,Ll]},zl=function(){return[Dl,Bl,Rl,Nl,Ml,Il]},Ul=function(){return[Bl,Dl,Nl,Rl,Ml,Il]},Hl=function(){return[Rl,Nl,Dl,Bl,Il,Ml]},Vl=function(){return[Nl,Rl,Bl,Dl,Il,Ml]},Wl=function(t,e){return e.universal?t:ft(t,(function(t){return nt(e.channels,t)}))},$l=function(t){return ec([ic(_a(),(function(e,n){var r=t.channels,o=At(r),i=n,u=Wl(o,i);at(u,(function(t){var n=r[t],o=n.schema,u=qi("channel["+t+"] data\nReceiver: "+Ec(e.element),o,i.data);n.onReceive(e,u)}))}))])},ql=Object.freeze({__proto__:null,events:$l}),Gl=[tu("channels",Hi(To.value,Si([Qf("onReceive"),yu("schema",Ri())])))],Kl=function(t,e,n){return bc((function(r){n(r,t,e)}))},Yl=function(t,e,n){return hc((function(r,o){n(r,t,e)}))},Xl=function(t,e,n,r,o,i){var u=Si(t),a=hu(e,[bu("config",t)]);return td(u,a,e,n,r,o,i)},Jl=function(t,e,n,r,o,i){var u=t,a=hu(e,[lu("config",t)]);return td(u,a,e,n,r,o,i)},Ql=function(t,e,n){var r=function(r){for(var o=arguments.length,i=new Array(o>1?o-1:0),u=1;u<o;u++)i[u-1]=arguments[u];var a=[r].concat(i);return r.config({name:z(t)}).fold((function(){throw new Error("We could not find any behaviour configuration for: "+t+". Using API: "+n)}),(function(t){var n=Array.prototype.slice.call(a,1);return e.apply(void 0,[r,t.config,t.state].concat(n))}))};return Vc(r,n,e)},Zl=function(t){return{key:t,value:void 0}},td=function(t,e,n,r,o,i,a){var c=function(t){return Vt(t,n)?t[n]():Y.none()},s=Dt(o,(function(t,e){return Ql(n,t,e)})),f=Dt(i,(function(t,e){return $c(t,e)})),l=u(u(u({},f),s),{},{revoke:V(Zl,n),config:function(e){var r=qi(n+"-config",t,e);return{key:n,value:{config:r,me:l,configAsRaw:tr((function(){return qi(n+"-config",t,e)})),initialConfig:e,state:a}}},schema:z(e),exhibit:function(t,e){return Kt(c(t),Ut(r,"exhibit"),(function(t,n){return n(e,t.config,t.state)})).getOrThunk((function(){return os({})}))},name:z(n),handlers:function(t){return c(t).map((function(t){var e=Ut(r,"events").getOr((function(){return{}}));return e(t.config,t.state)})).getOr({})}});return l},ed=function(t){return ju(t)},nd=Si([Zi("fields"),Zi("name"),yu("active",{}),yu("apis",{}),yu("state",Qc),yu("extra",{})]),rd=function(t){var e=qi("Creating behaviour: "+t.name,nd,t);return Xl(e.fields,e.name,e.active,e.apis,e.extra,e.state)},od=Si([Zi("branchKey"),Zi("branches"),Zi("name"),yu("active",{}),yu("apis",{}),yu("state",Qc),yu("extra",{})]),id=function(t){var e=qi("Creating behaviour: "+t.name,od,t);return Jl(Ki(e.branchKey,e.branches),e.name,e.active,e.apis,e.extra,e.state)},ud=z(void 0),ad=rd({fields:Gl,name:"receiving",active:ql}),cd=function(t,e){return os({classes:[],styles:e.useFixed()?{}:{position:"relative"}})},sd=Object.freeze({__proto__:null,exhibit:cd}),fd=function(t){return t.dom.focus()},ld=function(t){return t.dom.blur()},dd=function(t){var e=cn(t).dom;return t.dom===e.activeElement},md=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:co();return Y.from(t.dom.activeElement).map(ve.fromDom)},pd=function(t){return md(cn(t)).filter((function(e){return t.dom.contains(e.dom)}))},gd=function(t,e){var n=cn(e),r=md(n).bind((function(t){var n=function(e){return He(t,e)};return n(e)?Y.some(e):Cf(e,n)})),o=t(e);return r.each((function(t){md(n).filter((function(e){return He(e,t)})).fold((function(){fd(t)}),P)})),o},vd=function(t,e,n,r,o){var i=function(t){return t+"px"};return{position:t,left:e.map(i),top:n.map(i),right:r.map(i),bottom:o.map(i)}},hd=function(t){return u(u({},t),{},{position:Y.some(t.position)})},bd=function(t,e){Rn(t,hd(e))},yd=Nu.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),xd=function(t,e,n,r,o,i){var u=e.rect,a=u.x-n,c=u.y-r,s=u.width,f=u.height,l=o-(a+s),d=i-(c+f),m=Y.some(a),p=Y.some(c),g=Y.some(l),v=Y.some(d),h=Y.none();return il(e.direction,(function(){return vd(t,m,p,h,h)}),(function(){return vd(t,h,p,g,h)}),(function(){return vd(t,m,h,h,v)}),(function(){return vd(t,h,h,g,v)}),(function(){return vd(t,m,p,h,h)}),(function(){return vd(t,m,h,h,v)}),(function(){return vd(t,m,p,h,h)}),(function(){return vd(t,h,p,g,h)}))},wd=function(t,e){return t.fold((function(){var t=e.rect;return vd("absolute",Y.some(t.x),Y.some(t.y),Y.none(),Y.none())}),(function(t,n,r,o){return xd("absolute",e,t,n,r,o)}),(function(t,n,r,o){return xd("fixed",e,t,n,r,o)}))},Cd=function(t,e){var n=V(go,e),r=t.fold(n,n,(function(){var t=ro();return go(e).translate(-t.left,-t.top)})),o=Qn(e),i=Un(e);return bo(r.left,r.top,o,i)},Sd=function(t,e){return e.fold((function(){return t.fold(So,So,bo)}),(function(e){return t.fold(z(e),z(e),(function(){var n=kd(t,e.x,e.y);return bo(n.left,n.top,e.width,e.height)}))}))},kd=function(t,e,n){var r=Wn(e,n),o=function(){var t=ro();return r.translate(-t.left,-t.top)};return t.fold(z(r),z(r),o)},_d=function(t,e,n,r){return t.fold(e,n,r)};yd.none;var Ed,Od=yd.relative,Td=yd.fixed,Ad=function(t,e){return{anchorBox:t,origin:e}},Rd=function(t,e){return Ad(t,e)},Nd="data-alloy-placement",Dd=function(t,e){yn(t,Nd,e)},Bd=function(t){return Cn(t,Nd)},Md=function(t){return kn(t,Nd)},Id=Nu.generate([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),Pd=function(t,e){var n=e.x,r=e.y,o=e.right,i=e.bottom,u=t.x,a=t.y,c=t.right,s=t.bottom,f=t.width,l=t.height,d=u>=n&&u<=o,m=a>=r&&a<=i,p=d&&m,g=c<=o&&c>=n,v=s<=i&&s>=r,h=g&&v,b=Math.min(f,u>=n?o-u:c-n),y=Math.min(l,a>=r?i-a:s-r);return{originInBounds:p,sizeInBounds:h,visibleW:b,visibleH:y}},Ld=function(t,e){var n=e.x,r=e.y,o=e.right,i=e.bottom,u=t.x,a=t.y,c=t.width,s=t.height,f=Math.max(n,o-c),l=Math.max(r,i-s),d=hl(u,n,f),m=hl(a,r,l),p=Math.min(d+c,o)-d,g=Math.min(m+s,i)-m;return bo(d,m,p,g)},Fd=function(t,e,n){var r=z(e.bottom-n.y),o=z(n.bottom-e.y),i=ul(t,o,o,r),u=z(e.right-n.x),a=z(n.right-e.x),c=al(t,a,a,u);return{maxWidth:c,maxHeight:i}},jd=function(t,e,n,r){var o=t.bubble,i=o.offset,u=xl(r,t.restriction,i),a=t.x+i.left,c=t.y+i.top,s=bo(a,c,e,n),f=Pd(s,u),l=f.originInBounds,d=f.sizeInBounds,m=f.visibleW,p=f.visibleH,g=l&&d,v=g?s:Ld(s,u),h=v.width>0&&v.height>0,b=Fd(t.direction,v,r),y=b.maxWidth,x=b.maxHeight,w={rect:v,maxHeight:x,maxWidth:y,direction:t.direction,placement:t.placement,classes:{on:o.classesOn,off:o.classesOff},layout:t.label,testY:c};return g||t.alwaysFit?Id.fit(w):Id.nofit(w,m,p,h)},zd=function(t,e,n,r,o,i){var u=r.width,a=r.height,c=function(e,c,s,f,l){var d=e(n,r,o,t,i),m=jd(d,u,a,i);return m.fold(z(m),(function(t,e,n,r){var o=l===r?n>f||e>s:!l&&r;return o?m:Id.nofit(c,s,f,l)}))},s=dt(e,(function(t,e){var n=V(c,e);return t.fold(z(t),n)}),Id.nofit({rect:n,maxHeight:r.height,maxWidth:r.width,direction:cl(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:n.y},-1,-1,!1));return s.fold(U,U)},Ud=function(t){var e=Au(Y.none()),n=function(){return e.get().each(t)},r=function(){n(),e.set(Y.none())},o=function(){return e.get().isSome()},i=function(){return e.get()},u=function(t){n(),e.set(Y.some(t))};return{clear:r,isSet:o,get:i,set:u}},Hd=function(){return Ud((function(t){return t.destroy()}))},Vd=function(){return Ud((function(t){return t.unbind()}))},Wd=function(){var t=Ud(P),e=function(e){return t.get().each(e)};return u(u({},t),{},{on:e})},$d=K,qd=function(t,e,n){return qr(t,e,$d,n)},Gd=function(t,e,n){return Gr(t,e,$d,n)},Kd=Vr,Yd=["top","bottom","right","left"],Xd="data-alloy-transition-timer",Jd=function(t,e){return js(t,e.classes)},Qd=function(t,e,n){return n.exists((function(n){var r=t.mode;return"all"===r||n[r]!==e[r]}))},Zd=function(t,e){var n=function(t){return parseFloat(t).toFixed(3)};return jt(e,(function(e,r){var o=t[r].map(n),i=e.map(n);return!$t(o,i)})).isSome()},tm=function(t){var e=function(e){var n=Nn(t,e),r=n.split(/\s*,\s*/);return ft(r,ce)},n=function(t){if(k(t)&&/^[\d.]+/.test(t)){var e=parseFloat(t);return ie(t,"ms")?e:1e3*e}return 0},r=e("transition-delay"),o=e("transition-duration");return dt(o,(function(t,e,o){var i=n(r[o])+n(e);return Math.max(t,i)}),0)},em=function(t,e){var n,r=Vd(),o=Vd(),i=function(e){var n,r=null!==(n=e.raw.pseudoElement)&&void 0!==n?n:"";return He(e.target,t)&&se(r)&&nt(Yd,e.raw.propertyName)},u=function(u){if(N(u)||i(u)){r.clear(),o.clear();var a=null===u||void 0===u?void 0:u.raw.type;(N(a)||a===ha())&&(clearTimeout(n),kn(t,Xd),Fs(t,e.classes))}},a=qd(t,ba(),(function(e){i(e)&&(a.unbind(),r.set(qd(t,ha(),u)),o.set(qd(t,va(),u)))})),c=tm(t);requestAnimationFrame((function(){n=setTimeout(u,c+17),yn(t,Xd,n)}))},nm=function(t,e){Ls(t,e.classes),Cn(t,Xd).each((function(e){clearTimeout(parseInt(e,10)),kn(t,Xd)})),em(t,e)},rm=function(t,e,n,r,o,i){var a=Qd(r,o,i);if(a||Jd(t,r)){Tn(t,"position",n.position);var c=Cd(e,t),s=wd(e,u(u({},o),{},{rect:c})),f=wt(Yd,(function(t){return s[t]}));Zd(n,f)&&(Rn(t,f),a&&nm(t,r),Ln(t))}else Fs(t,r.classes)},om=function(t){return{width:Qn(t),height:Un(t)}},im=function(t,e,n,r){Pn(e,"max-height"),Pn(e,"max-width");var o=om(e);return zd(e,r.preference,t,o,n,r.bounds)},um=function(t,e){var n=e.classes;Fs(t,n.off),Ls(t,n.on)},am=function(t,e,n){var r=n.maxHeightFunction;r(t,e.maxHeight)},cm=function(t,e,n){var r=n.maxWidthFunction;r(t,e.maxWidth)},sm=function(t,e,n){var r=wd(n.origin,e);n.transition.each((function(o){rm(t,n.origin,r,o,e,n.lastPlacement)})),bd(t,r)},fm=function(t,e){Dd(t,e.placement)},lm=function(t,e){Hn(t,Math.floor(e))},dm=z((function(t,e){lm(t,e),An(t,{"overflow-x":"hidden","overflow-y":"auto"})})),mm=z((function(t,e){lm(t,e)})),pm=function(t,e,n){return void 0===t[e]?n:t[e]},gm=function(t,e,n,r,o,i,u,a){var c=pm(u,"maxHeightFunction",dm()),s=pm(u,"maxWidthFunction",P),f=t.anchorBox,l=t.origin,d={bounds:Sd(l,i),origin:l,preference:r,maxHeightFunction:c,maxWidthFunction:s,lastPlacement:o,transition:a};return vm(f,e,n,d)},vm=function(t,e,n,r){var o=im(t,e,n,r);return sm(e,o,r),fm(e,o),um(e,o),am(e,o,r),cm(e,o,r),{layout:o.layout,placement:o.placement}},hm=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],bm=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=t*r,i=e*r,u=function(t){return Ut(n,t).getOr([])},a=function(t,e,n){var r=xt(hm,n);return{offset:Wn(t,e),classesOn:ht(n,u),classesOff:ht(r,u)}};return{southeast:function(){return a(-t,e,["top","alignLeft"])},southwest:function(){return a(t,e,["top","alignRight"])},south:function(){return a(-t/2,e,["top","alignCentre"])},northeast:function(){return a(-t,-e,["bottom","alignLeft"])},northwest:function(){return a(t,-e,["bottom","alignRight"])},north:function(){return a(-t/2,-e,["bottom","alignCentre"])},east:function(){return a(t,-e/2,["valignCentre","left"])},west:function(){return a(-t,-e/2,["valignCentre","right"])},insetNortheast:function(){return a(o,i,["top","alignLeft","inset"])},insetNorthwest:function(){return a(-o,i,["top","alignRight","inset"])},insetNorth:function(){return a(-o/2,i,["top","alignCentre","inset"])},insetSoutheast:function(){return a(o,-i,["bottom","alignLeft","inset"])},insetSouthwest:function(){return a(-o,-i,["bottom","alignRight","inset"])},insetSouth:function(){return a(-o/2,-i,["bottom","alignCentre","inset"])},insetEast:function(){return a(-o,-i/2,["valignCentre","right","inset"])},insetWest:function(){return a(o,-i/2,["valignCentre","left","inset"])}}},ym=function(){return bm(0,0,{})},xm=U,wm=function(t,e){return function(n){return"rtl"===Cm(n)?e:t}},Cm=function(t){return"rtl"===Nn(t,"direction")?"rtl":"ltr"};(function(t){t["TopToBottom"]="toptobottom",t["BottomToTop"]="bottomtotop"})(Ed||(Ed={}));var Sm="data-alloy-vertical-dir",km=function(t){return Sf(t,(function(t){return Be(t)&&wn(t,"data-alloy-vertical-dir")===Ed.BottomToTop}))},_m=function(){return hu("layouts",[Zi("onLtr"),Zi("onRtl"),fu("onBottomLtr"),fu("onBottomRtl")])},Em=function(t,e,n,r,o,i,u){var a=u.map(km).getOr(!1),c=e.layouts.map((function(e){return e.onLtr(t)})),s=e.layouts.map((function(e){return e.onRtl(t)})),f=a?e.layouts.bind((function(e){return e.onBottomLtr.map((function(e){return e(t)}))})).or(c).getOr(o):c.getOr(n),l=a?e.layouts.bind((function(e){return e.onBottomRtl.map((function(e){return e(t)}))})).or(s).getOr(i):s.getOr(r),d=wm(f,l);return d(t)},Om=function(t,e,n){var r=e.hotspot,o=Cd(n,r.element),i=Em(t.element,e,Hl(),Vl(),zl(),Ul(),Y.some(e.hotspot.element));return Y.some(xm({anchorBox:o,bubble:e.bubble.getOr(ym()),overrides:e.overrides,layouts:i}))},Tm=[Zi("hotspot"),fu("bubble"),yu("overrides",{}),_m(),tl("placement",Om)],Am=function(t,e,n){var r=kd(n,e.x,e.y),o=bo(r.left,r.top,e.width,e.height),i=Em(t.element,e,Fl(),jl(),Fl(),jl(),Y.none());return Y.some(xm({anchorBox:o,bubble:e.bubble,overrides:e.overrides,layouts:i}))},Rm=[Zi("x"),Zi("y"),yu("height",0),yu("width",0),yu("bubble",ym()),yu("overrides",{}),_m(),tl("placement",Am)],Nm=Nu.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),Dm=function(t){return t.fold(U,(function(t,e,n){return t.translate(-e,-n)}))},Bm=function(t){return t.fold(U,U)},Mm=function(t){return dt(t,(function(t,e){return t.translate(e.left,e.top)}),Wn(0,0))},Im=function(t){var e=ut(t,Dm);return Mm(e)},Pm=function(t){var e=ut(t,Bm);return Mm(e)},Lm=Nm.screen,Fm=Nm.absolute,jm=function(t,e,n){var r=Ge(n.root).dom,o=function(e){var n=We(e),r=We(t.element);return He(n,r)};return Y.from(r.frameElement).map(ve.fromDom).filter(o).map(Gn)},zm=function(t,e,n){var r=We(t.element),o=ro(r),i=jm(t,e,n).getOr(o);return Fm(i,o.left,o.top)},Um=function(t,e,n,r){var o=Lm(Wn(t,e));return Y.some(vo(o,n,r))},Hm=function(t,e,n,r,o){return t.map((function(t){var i=[e,t.point],u=_d(r,(function(){return Pm(i)}),(function(){return Pm(i)}),(function(){return Im(i)})),a=ho(u.left,u.top,t.width,t.height),c=n.showAbove?zl():Hl(),s=n.showAbove?Ul():Vl(),f=Em(o,n,c,s,c,s,Y.none());return xm({anchorBox:a,bubble:n.bubble.getOr(ym()),overrides:n.overrides,layouts:f})}))},Vm=function(t,e,n){var r=zm(t,n,e);return e.node.filter(gn).bind((function(o){var i=o.dom.getBoundingClientRect(),u=Um(i.left,i.top,i.width,i.height),a=e.node.getOr(t.element);return Hm(u,r,e,n,a)}))},Wm=[Zi("node"),Zi("root"),fu("bubble"),_m(),yu("overrides",{}),yu("showAbove",!1),tl("placement",Vm)],$m="\ufeff",qm="Â ",Gm=function(t,e,n,r){return{start:t,soffset:e,finish:n,foffset:r}},Km={create:Gm},Ym=Nu.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Xm=function(t,e,n,r){return t.fold(e,n,r)},Jm=function(t){return t.fold(U,U,U)},Qm=Ym.before,Zm=Ym.on,tp=Ym.after,ep={before:Qm,on:Zm,after:tp,cata:Xm,getStart:Jm},np=Nu.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),rp=function(t){return np.exact(t.start,t.soffset,t.finish,t.foffset)},op=function(t){return t.match({domRange:function(t){return ve.fromDom(t.startContainer)},relative:function(t,e){return ep.getStart(t)},exact:function(t,e,n,r){return t}})},ip=np.domRange,up=np.relative,ap=np.exact,cp=function(t){var e=op(t);return Ge(e)},sp=Km.create,fp={domRange:ip,relative:up,exact:ap,exactFromRange:rp,getWin:cp,range:sp},lp=function(t,e){e.fold((function(e){t.setStartBefore(e.dom)}),(function(e,n){t.setStart(e.dom,n)}),(function(e){t.setStartAfter(e.dom)}))},dp=function(t,e){e.fold((function(e){t.setEndBefore(e.dom)}),(function(e,n){t.setEnd(e.dom,n)}),(function(e){t.setEndAfter(e.dom)}))},mp=function(t,e,n){var r=t.document.createRange();return lp(r,e),dp(r,n),r},pp=function(t,e,n,r,o){var i=t.document.createRange();return i.setStart(e.dom,n),i.setEnd(r.dom,o),i},gp=function(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom,width:t.width,height:t.height}},vp=function(t){var e=t.getClientRects(),n=e.length>0?e[0]:t.getBoundingClientRect();return n.width>0||n.height>0?Y.some(n).map(gp):Y.none()},hp=function(t){var e=t.getBoundingClientRect();return e.width>0||e.height>0?Y.some(e).map(gp):Y.none()},bp=Nu.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),yp=function(t,e,n){return e(ve.fromDom(n.startContainer),n.startOffset,ve.fromDom(n.endContainer),n.endOffset)},xp=function(t,e){return e.match({domRange:function(t){return{ltr:z(t),rtl:Y.none}},relative:function(e,n){return{ltr:tr((function(){return mp(t,e,n)})),rtl:tr((function(){return Y.some(mp(t,n,e))}))}},exact:function(e,n,r,o){return{ltr:tr((function(){return pp(t,e,n,r,o)})),rtl:tr((function(){return Y.some(pp(t,r,o,e,n))}))}}})},wp=function(t,e){var n=e.ltr();if(n.collapsed){var r=e.rtl().filter((function(t){return!1===t.collapsed}));return r.map((function(t){return bp.rtl(ve.fromDom(t.endContainer),t.endOffset,ve.fromDom(t.startContainer),t.startOffset)})).getOrThunk((function(){return yp(t,bp.ltr,n)}))}return yp(t,bp.ltr,n)},Cp=function(t,e){var n=xp(t,e);return wp(t,n)},Sp=function(t,e){var n=Cp(t,e);return n.match({ltr:function(e,n,r,o){var i=t.document.createRange();return i.setStart(e.dom,n),i.setEnd(r.dom,o),i},rtl:function(e,n,r,o){var i=t.document.createRange();return i.setStart(r.dom,o),i.setEnd(e.dom,n),i}})};bp.ltr,bp.rtl;var kp,_p=function(t,e,n){return ft(Xe(t,n),e)},Ep=function(t,e){return ze(e,t)},Op=function(t,e,n,r){var o=We(t),i=o.dom.createRange();return i.setStart(t.dom,e),i.setEnd(n.dom,r),i},Tp=function(t,e,n,r){var o=Op(t,e,n,r),i=He(t,n)&&e===r;return o.collapsed&&!i},Ap=function(t){return Y.from(t.getSelection())},Rp=function(t){if(t.rangeCount>0){var e=t.getRangeAt(0),n=t.getRangeAt(t.rangeCount-1);return Y.some(Km.create(ve.fromDom(e.startContainer),e.startOffset,ve.fromDom(n.endContainer),n.endOffset))}return Y.none()},Np=function(t){if(null===t.anchorNode||null===t.focusNode)return Rp(t);var e=ve.fromDom(t.anchorNode),n=ve.fromDom(t.focusNode);return Tp(e,t.anchorOffset,n,t.focusOffset)?Y.some(Km.create(e,t.anchorOffset,n,t.focusOffset)):Rp(t)},Dp=function(t){return Ap(t).filter((function(t){return t.rangeCount>0})).bind(Np)},Bp=function(t,e){var n=Sp(t,e);return vp(n)},Mp=function(t,e){var n=Sp(t,e);return hp(n)},Ip=function(t,e){var n=function(n){if(!t(n))throw new Error("Can only get "+e+" value of a "+e+" node");return r(n).getOr("")},r=function(e){return t(e)?Y.from(e.dom.nodeValue):Y.none()},o=function(n,r){if(!t(n))throw new Error("Can only set raw "+e+" value of a "+e+" node");n.dom.nodeValue=r};return{get:n,getOption:r,set:o}},Pp=Ip(Me,"text"),Lp=function(t){return Pp.get(t)},Fp=function(t,e){return{element:t,offset:e}},jp=function(t,e){var n=Ze(t);if(0===n.length)return Fp(t,e);if(e<n.length)return Fp(n[e],0);var r=n[n.length-1],o=Me(r)?Lp(r).length:Ze(r).length;return Fp(r,o)},zp=function(t,e){return Me(t)?Fp(t,e):jp(t,e)},Up=function(t,e){var n=e.getSelection.getOrThunk((function(){return function(){return Dp(t)}}));return n().map((function(t){var e=zp(t.start,t.soffset),n=zp(t.finish,t.foffset);return fp.range(e.element,e.offset,n.element,n.offset)}))},Hp=function(t,e,n){var r=Ge(e.root).dom,o=zm(t,n,e),i=Up(r,e).bind((function(t){var e=Mp(r,fp.exactFromRange(t)).orThunk((function(){var e=ve.fromText($m);Yr(t.start,e);var n=Bp(r,fp.exact(e,0,e,1));return no(e),n}));return e.bind((function(t){return Um(t.left,t.top,t.width,t.height)}))})),u=Up(r,e).bind((function(t){return Be(t.start)?Y.some(t.start):Ye(t.start)})),a=u.getOr(t.element);return Hm(i,o,e,n,a)},Vp=[fu("getSelection"),Zi("root"),fu("bubble"),_m(),yu("overrides",{}),yu("showAbove",!1),tl("placement",Hp)],Wp="link-layout",$p=function(t){return t.x+t.width},qp=function(t,e){return t.x-e.width},Gp=function(t,e){return t.y-e.height+t.height},Kp=function(t){return t.y},Yp=function(t,e,n){return rl($p(t),Kp(t),n.southeast(),cl(),"southeast",yl(t,{left:0,top:2}),Wp)},Xp=function(t,e,n){return rl(qp(t,e),Kp(t),n.southwest(),sl(),"southwest",yl(t,{right:1,top:2}),Wp)},Jp=function(t,e,n){return rl($p(t),Gp(t,e),n.northeast(),fl(),"northeast",yl(t,{left:0,bottom:3}),Wp)},Qp=function(t,e,n){return rl(qp(t,e),Gp(t,e),n.northwest(),ll(),"northwest",yl(t,{right:1,bottom:3}),Wp)},Zp=function(){return[Yp,Xp,Jp,Qp]},tg=function(){return[Xp,Yp,Qp,Jp]},eg=function(t,e,n){var r=Cd(n,e.item.element),o=Em(t.element,e,Zp(),tg(),Zp(),tg(),Y.none());return Y.some(xm({anchorBox:r,bubble:ym(),overrides:e.overrides,layouts:o}))},ng=[Zi("item"),_m(),yu("overrides",{}),tl("placement",eg)],rg=Ki("type",{selection:Vp,node:Wm,hotspot:Tm,submenu:ng,makeshift:Rm}),og=[su("classes",Bi),Su("mode","all",["all","layout","placement"])],ig=[yu("useFixed",G),fu("getBounds")],ug=[tu("anchor",rg),hu("transition",og)],ag=function(){var t=document.documentElement;return Td(0,0,t.clientWidth,t.clientHeight)},cg=function(t){var e=Gn(t.element),n=t.element.dom.getBoundingClientRect();return Od(e.left,e.top,n.width,n.height)},sg=function(t,e,n,r,o,i){var u=Rd(e.anchorBox,t);return gm(u,r.element,e.bubble,e.layouts,o,n,e.overrides,i)},fg=function(t,e,n,r,o){var i=Y.none();lg(t,e,n,r,o,i)},lg=function(t,e,n,r,o,i){var u=qi("placement.info",ki(ug),o),a=u.anchor,c=r.element,s=n.get(r.uid);gd((function(){Tn(c,"position","fixed");var o=Bn(c,"visibility");Tn(c,"visibility","hidden");var f=e.useFixed()?ag():cg(t);a.placement(t,a,f).each((function(t){var o=i.orThunk((function(){return e.getBounds.map(q)})),a=sg(f,t,o,r,s,u.transition);n.set(r.uid,a)})),o.fold((function(){Pn(c,"visibility")}),(function(t){Tn(c,"visibility",t)})),Bn(c,"left").isNone()&&Bn(c,"top").isNone()&&Bn(c,"right").isNone()&&Bn(c,"bottom").isNone()&&Wt(Bn(c,"position"),"fixed")&&Pn(c,"position")}),c)},dg=function(t,e,n){return e.useFixed()?"fixed":"absolute"},mg=function(t,e,n,r){var o=r.element;at(["position","left","right","top","bottom"],(function(t){return Pn(o,t)})),Md(o),n.clear(r.uid)},pg=Object.freeze({__proto__:null,position:fg,positionWithinBounds:lg,getMode:dg,reset:mg}),gg=function(){var t={},e=function(e,n){t[e]=n},n=function(e){return Ut(t,e)},r=function(e){D(e)?delete t[e]:t={}};return Zc({readState:function(){return t},clear:r,set:e,get:n})},vg=Object.freeze({__proto__:null,init:gg}),hg=rd({fields:ig,name:"positioning",active:sd,apis:pg,state:vg}),bg=function(t){return t.getSystem().isConnected()},yg=function t(e){Ka(e,Fa());var n=e.components();at(n,t)},xg=function t(e){var n=e.components();at(n,t),Ka(e,La())},wg=function(t,e){t.getSystem().addToWorld(e),gn(t.element)&&xg(e)},Cg=function(t){yg(t),t.getSystem().removeFromWorld(t)},Sg=function(t,e){Qr(t.element,e.element)},kg=function(t){at(t.components(),(function(t){return no(t.element)})),eo(t.element),t.syncComponents()},_g=function(t,e,n){var r=t.components();kg(t);var o=n(e),i=xt(r,o);at(i,(function(e){yg(e),t.getSystem().removeFromWorld(e)})),at(o,(function(e){bg(e)?Sg(t,e):(t.getSystem().addToWorld(e),Sg(t,e),gn(t.element)&&xg(e))})),t.syncComponents()},Eg=function(t,e,n){var r=t.components(),o=ht(e,(function(t){return Xc(t).toArray()}));at(r,(function(t){nt(o,t)||Cg(t)}));var i=n(e),u=xt(r,i);at(u,(function(t){bg(t)&&Cg(t)})),at(i,(function(e){bg(e)||wg(t,e)})),t.syncComponents()},Og=function(t,e){Tg(t,e,Qr)},Tg=function(t,e,n){t.getSystem().addToWorld(e),n(t.element,e.element),gn(t.element)&&xg(e),t.syncComponents()},Ag=function(t){yg(t),no(t.element),t.getSystem().removeFromWorld(t)},Rg=function(t){var e=Ke(t.element).bind((function(e){return t.getSystem().getByDom(e).toOptional()}));Ag(t),e.each((function(t){t.syncComponents()}))},Ng=function(t){var e=t.components();at(e,Ag),eo(t.element),t.syncComponents()},Dg=function(t,e){Mg(t,e,Qr)},Bg=function(t,e){Mg(t,e,Xr)},Mg=function(t,e,n){n(t,e.element);var r=Ze(e.element);at(r,(function(t){e.getByDom(t).each(xg)}))},Ig=function(t){var e=Ze(t.element);at(e,(function(e){t.getByDom(e).each(yg)})),no(t.element)},Pg=function(t,e,n,r){n.get().each((function(e){Ng(t)}));var o=e.getAttachPoint(t);Og(o,t);var i=t.getSystem().build(r);return Og(t,i),n.set(i),i},Lg=function(t,e,n,r){var o=Pg(t,e,n,r);return e.onOpen(t,o),o},Fg=function(t,e,n,r){return n.get().map((function(){return Pg(t,e,n,r)}))},jg=function(t,e,n,r,o){qg(t,e),Lg(t,e,n,r),o(),Kg(t,e)},zg=function(t,e,n){n.get().each((function(r){Ng(t),Rg(t),e.onClose(t,r),n.clear()}))},Ug=function(t,e,n){return n.isOpen()},Hg=function(t,e,n,r){return Ug(t,e,n)&&n.get().exists((function(n){return e.isPartOf(t,n,r)}))},Vg=function(t,e,n){return n.get()},Wg=function(t,e,n,r){Bn(t.element,e).fold((function(){kn(t.element,n)}),(function(e){yn(t.element,n,e)})),Tn(t.element,e,r)},$g=function(t,e,n){Cn(t.element,n).fold((function(){return Pn(t.element,e)}),(function(n){return Tn(t.element,e,n)}))},qg=function(t,e,n){var r=e.getAttachPoint(t);Tn(t.element,"position",hg.getMode(r)),Wg(t,"visibility",e.cloakVisibilityAttr,"hidden")},Gg=function(t){return rt(["top","left","right","bottom"],(function(e){return Bn(t,e).isSome()}))},Kg=function(t,e,n){Gg(t.element)||Pn(t.element,"position"),$g(t,"visibility",e.cloakVisibilityAttr)},Yg=Object.freeze({__proto__:null,cloak:qg,decloak:Kg,open:Lg,openWhileCloaked:jg,close:zg,isOpen:Ug,isPartOf:Hg,getState:Vg,setContent:Fg}),Xg=function(t,e){return ec([ic(Ra(),(function(n,r){zg(n,t,e)}))])},Jg=Object.freeze({__proto__:null,events:Xg}),Qg=[Xf("onOpen"),Xf("onClose"),Zi("isPartOf"),Zi("getAttachPoint"),yu("cloakVisibilityAttr","data-precloak-visibility")],Zg=function(){var t=Wd(),e=z("not-implemented");return Zc({readState:e,isOpen:t.isSet,clear:t.clear,set:t.set,get:t.get})},tv=Object.freeze({__proto__:null,init:Zg}),ev=rd({fields:Qg,name:"sandboxing",active:Jg,apis:Yg,state:tv}),nv=z("dismiss.popups"),rv=z("reposition.popups"),ov=z("mouse.released"),iv=Si([yu("isExtraPart",G),hu("fireEventInstead",[yu("event",ja())])]),uv=function(t){var e=qi("Dismissal",iv,t);return a({},nv(),{schema:Si([Zi("target")]),onReceive:function(t,n){if(ev.isOpen(t)){var r=ev.isPartOf(t,n.target)||e.isExtraPart(t,n.target);r||e.fireEventInstead.fold((function(){return ev.close(t)}),(function(e){return Ka(t,e.event)}))}}})},av=Si([hu("fireEventInstead",[yu("event",za())]),iu("doReposition")]),cv=function(t){var e=qi("Reposition",av,t);return a({},rv(),{onReceive:function(t){ev.isOpen(t)&&e.fireEventInstead.fold((function(){return e.doReposition(t)}),(function(e){return Ka(t,e.event)}))}})},sv=function(t,e,n){e.store.manager.onLoad(t,e,n)},fv=function(t,e,n){e.store.manager.onUnload(t,e,n)},lv=function(t,e,n,r){e.store.manager.setValue(t,e,n,r)},dv=function(t,e,n){return e.store.manager.getValue(t,e,n)},mv=function(t,e,n){return n},pv=Object.freeze({__proto__:null,onLoad:sv,onUnload:fv,setValue:lv,getValue:dv,getState:mv}),gv=function(t,e){var n=t.resetOnDom?[gc((function(n,r){sv(n,t,e)})),vc((function(n,r){fv(n,t,e)}))]:[Yl(t,e,sv)];return ec(n)},vv=Object.freeze({__proto__:null,events:gv}),hv=function(){var t=Au(null),e=function(){return{mode:"memory",value:t.get()}},n=function(){return null===t.get()},r=function(){t.set(null)};return Zc({set:t.set,get:t.get,isNotSet:n,clear:r,readState:e})},bv=function(){var t=P;return Zc({readState:t})},yv=function(){var t=Au({}),e=Au({}),n=function(){return{mode:"dataset",dataByValue:t.get(),dataByText:e.get()}},r=function(){t.set({}),e.set({})},o=function(n){return Ut(t.get(),n).orThunk((function(){return Ut(e.get(),n)}))},i=function(n){var r=t.get(),o=e.get(),i={},a={};at(n,(function(t){i[t.value]=t,Ut(t,"meta").each((function(e){Ut(e,"text").each((function(e){a[e]=t}))}))})),t.set(u(u({},r),i)),e.set(u(u({},o),a))};return Zc({readState:n,lookup:o,update:i,clear:r})},xv=function(t){return t.store.manager.state(t)},wv=Object.freeze({__proto__:null,memory:hv,dataset:yv,manual:bv,init:xv}),Cv=function(t,e,n,r){var o=e.store;n.update([r]),o.setValue(t,r),e.onSetValue(t,r)},Sv=function(t,e,n){var r=e.store,o=r.getDataKey(t);return n.lookup(o).getOrThunk((function(){return r.getFallbackEntry(o)}))},kv=function(t,e,n){var r=e.store;r.initialValue.each((function(r){Cv(t,e,n,r)}))},_v=function(t,e,n){n.clear()},Ev=[fu("initialValue"),Zi("getFallbackEntry"),Zi("getDataKey"),Zi("setValue"),tl("manager",{setValue:Cv,getValue:Sv,onLoad:kv,onUnload:_v,state:yv})],Ov=function(t,e,n){return e.store.getValue(t)},Tv=function(t,e,n,r){e.store.setValue(t,r),e.onSetValue(t,r)},Av=function(t,e,n){e.store.initialValue.each((function(n){e.store.setValue(t,n)}))},Rv=[Zi("getValue"),yu("setValue",P),fu("initialValue"),tl("manager",{setValue:Tv,getValue:Ov,onLoad:Av,onUnload:P,state:Qc.init})],Nv=function(t,e,n,r){n.set(r),e.onSetValue(t,r)},Dv=function(t,e,n){return n.get()},Bv=function(t,e,n){e.store.initialValue.each((function(t){n.isNotSet()&&n.set(t)}))},Mv=function(t,e,n){n.clear()},Iv=[fu("initialValue"),tl("manager",{setValue:Nv,getValue:Dv,onLoad:Bv,onUnload:Mv,state:hv})],Pv=[xu("store",{mode:"memory"},Ki("mode",{memory:Iv,manual:Rv,dataset:Ev})),Xf("onSetValue"),yu("resetOnDom",!1)],Lv=rd({fields:Pv,name:"representing",active:vv,apis:pv,extra:{setValueFrom:function(t,e){var n=Lv.getValue(e);Lv.setValue(t,n)}},state:wv}),Fv=function(t,e){return Tu(t,{},ut(e,(function(e){return uu(e.name(),"Cannot configure "+e.name()+" for "+t)})).concat([Ji("dump",U)]))},jv=function(t){return t.dump},zv=function(t,e){return u(u({},ed(e)),t.dump)},Uv={field:Fv,augment:zv,get:jv},Hv="placeholder",Vv=Nu.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),Wv=function(t){return Ht(t,"uiType")},$v=function(t,e,n,r){return t.exists((function(t){return t!==n.owner}))?Vv.single(!0,z(n)):Ut(r,n.name).fold((function(){throw new Error("Unknown placeholder component: "+n.name+"\nKnown: ["+At(r)+"]\nNamespace: "+t.getOr("none")+"\nSpec: "+JSON.stringify(n,null,2))}),(function(t){return t.replace()}))},qv=function(t,e,n,r){return Wv(n)&&n.uiType===Hv?$v(t,e,n,r):Vv.single(!1,z(n))},Gv=function t(e,n,r,o){var i=qv(e,n,r,o);return i.fold((function(i,a){var c=Wv(r)?a(n,r.config,r.validated):a(n),s=Ut(c,"components").getOr([]),f=ht(s,(function(r){return t(e,n,r,o)}));return[u(u({},c),{},{components:f})]}),(function(t,e){if(Wv(r)){var o=e(n,r.config,r.validated),i=r.validated.preprocess.getOr(U);return i(o)}return e(n)}))},Kv=function(t,e,n,r){return ht(n,(function(n){return Gv(t,e,n,r)}))},Yv=function(t,e){var n=!1,r=function(){return n},o=function(){if(n)throw new Error("Trying to use the same placeholder more than once: "+t);return n=!0,e},i=function(){return e.fold((function(t,e){return t}),(function(t,e){return t}))};return{name:z(t),required:i,used:r,replace:o}},Xv=function(t,e,n,r){var o=Dt(r,(function(t,e){return Yv(e,t)})),i=Kv(t,e,n,o);return Nt(o,(function(n){if(!1===n.used()&&n.required())throw new Error("Placeholder: "+n.name()+" was not found in components list\nNamespace: "+t.getOr("none")+"\nComponents: "+JSON.stringify(e.components,null,2))})),i},Jv=Vv.single,Qv=Vv.multiple,Zv=z(Hv),th=Nu.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),eh=yu("factory",{sketch:U}),nh=yu("schema",[]),rh=Zi("name"),oh=Xi("pname","pname",Yo((function(t){return"<alloy."+Nc(t.name)+">"})),Ri()),ih=Ji("schema",(function(){return[fu("preprocess")]})),uh=yu("defaults",z({})),ah=yu("overrides",z({})),ch=ki([eh,nh,rh,oh,uh,ah]),sh=ki([eh,nh,rh,uh,ah]),fh=ki([eh,nh,rh,oh,uh,ah]),lh=ki([eh,ih,rh,Zi("unit"),oh,uh,ah]),dh=function(t){return t.fold(Y.some,Y.none,Y.some,Y.some)},mh=function(t){var e=function(t){return t.name};return t.fold(e,e,e,e)},ph=function(t){return t.fold(U,U,U,U)},gh=function(t,e){return function(n){var r=qi("Converting part type",e,n);return t(r)}},vh=gh(th.required,ch),hh=gh(th.external,sh),bh=gh(th.optional,fh),yh=gh(th.group,lh),xh=z("entirety"),wh=Object.freeze({__proto__:null,required:vh,external:hh,optional:bh,group:yh,asNamedPart:dh,name:mh,asCommon:ph,original:xh}),Ch=function(t,e,n,r){return qo(e.defaults(t,n,r),n,{uid:t.partUids[e.name]},e.overrides(t,n,r))},Sh=function(t,e,n){var r={},o={};return at(n,(function(t){t.fold((function(t){r[t.pname]=Jv(!0,(function(e,n,r){return t.factory.sketch(Ch(e,t,n,r))}))}),(function(t){var n=e.parts[t.name];o[t.name]=z(t.factory.sketch(Ch(e,t,n[xh()]),n))}),(function(t){r[t.pname]=Jv(!1,(function(e,n,r){return t.factory.sketch(Ch(e,t,n,r))}))}),(function(t){r[t.pname]=Qv(!0,(function(e,n,r){var o=e[t.name];return ut(o,(function(n){return t.factory.sketch(qo(t.defaults(e,n,r),n,t.overrides(e,n)))}))}))}))})),{internals:z(r),externals:z(o)}},kh=function(t,e){var n={};return at(e,(function(e){dh(e).each((function(e){var r=_h(t,e.pname);n[e.name]=function(n){var o=qi("Part: "+e.name+" in "+t,ki(e.schema),n);return u(u({},r),{},{config:n,validated:o})}}))})),n},_h=function(t,e){return{uiType:Zv(),owner:t,name:e}},Eh=function(t,e,n){return{uiType:Zv(),owner:t,name:e,config:n,validated:{}}},Oh=function(t){return ht(t,(function(t){return t.fold(Y.none,Y.some,Y.none,Y.none).map((function(t){return au(t.name,t.schema.concat([el(xh())]))})).toArray()}))},Th=function(t){return ut(t,mh)},Ah=function(t,e,n){return Sh(t,e,n)},Rh=function(t,e,n){return Xv(Y.some(t),e,e.components,n)},Nh=function(t,e,n){var r=e.partUids[n];return t.getSystem().getByUid(r).toOptional()},Dh=function(t,e,n){return Nh(t,e,n).getOrDie("Could not find part: "+n)},Bh=function(t,e,n){var r={},o=e.partUids,i=t.getSystem();return at(n,(function(t){r[t]=z(i.getByUid(o[t]))})),r},Mh=function(t,e){var n=t.getSystem();return Dt(e.partUids,(function(t,e){return z(n.getByUid(t))}))},Ih=function(t){return At(t.partUids)},Ph=function(t,e,n){var r={},o=e.partUids,i=t.getSystem();return at(n,(function(t){r[t]=z(i.getByUid(o[t]).getOrDie())})),r},Lh=function(t,e){var n=Th(e);return ju(ut(n,(function(e){return{key:e,value:t+"-"+e}})))},Fh=function(t){return Xi("partUids","partUids",Qo((function(e){return Lh(e.uid,t)})),Ri())},jh=Object.freeze({__proto__:null,generate:kh,generateOne:Eh,schemas:Oh,names:Th,substitutes:Ah,components:Rh,defaultUids:Lh,defaultUidsSchema:Fh,getAllParts:Mh,getAllPartNames:Ih,getPart:Nh,getPartOrDie:Dh,getParts:Bh,getPartsOrDie:Ph}),zh=function(t,e){var n=t.length>0?[au("parts",t)]:[];return n.concat([Zi("uid"),yu("dom",{}),yu("components",[]),el("originalSpec"),yu("debug.sketcher",{})]).concat(e)},Uh=function(t,e,n,r,o){var i=zh(r,o);return qi(t+" [SpecSchema]",Si(i.concat(e)),n)},Hh=function(t,e,n,r){var o=$h(r),i=Uh(t,e,o,[],[]);return n(i,o)},Vh=function(t,e,n,r,o){var i=$h(o),u=Oh(n),a=Fh(n),c=Uh(t,e,i,u,[a]),s=Ah(t,c,n),f=Rh(t,c,s.internals());return r(c,f,i,s.externals())},Wh=function(t){return Ht(t,"uid")},$h=function(t){return Wh(t)?t:u(u({},t),{},{uid:jc("uid")})},qh=function(t){return void 0!==t.uid},Gh=Si([Zi("name"),Zi("factory"),Zi("configFields"),yu("apis",{}),yu("extraApis",{})]),Kh=Si([Zi("name"),Zi("factory"),Zi("configFields"),Zi("partFields"),yu("apis",{}),yu("extraApis",{})]),Yh=function(t){var e=qi("Sketcher for "+t.name,Gh,t),n=function(t){return Hh(e.name,e.configFields,e.factory,t)},r=Dt(e.apis,Jc),o=Dt(e.extraApis,(function(t,e){return $c(t,e)}));return u(u({name:e.name,configFields:e.configFields,sketch:n},r),o)},Xh=function(t){var e=qi("Sketcher for "+t.name,Kh,t),n=function(t){return Vh(e.name,e.configFields,e.partFields,e.factory,t)},r=kh(e.name,e.partFields),o=Dt(e.apis,Jc),i=Dt(e.extraApis,(function(t,e){return $c(t,e)}));return u(u({name:e.name,partFields:e.partFields,configFields:e.configFields,sketch:n,parts:r},o),i)},Jh=function(t){return Le("input")(t)&&"radio"!==wn(t,"type")||Le("textarea")(t)},Qh=function(t,e,n){return e.find(t)},Zh=Object.freeze({__proto__:null,getCurrent:Qh}),tb=[Zi("find")],eb=rd({fields:tb,name:"composing",apis:Zh}),nb=["input","button","textarea","select"],rb=function(t,e,n){var r=e.disabled()?lb:db;r(t,e)},ob=function(t,e){return!0===e.useNative&&nt(nb,Ae(t.element))},ib=function(t){return Sn(t.element,"disabled")},ub=function(t){yn(t.element,"disabled","disabled")},ab=function(t){kn(t.element,"disabled")},cb=function(t){return"true"===wn(t.element,"aria-disabled")},sb=function(t){yn(t.element,"aria-disabled","true")},fb=function(t){yn(t.element,"aria-disabled","false")},lb=function(t,e,n){e.disableClass.each((function(e){Bs(t.element,e)}));var r=ob(t,e)?ub:sb;r(t),e.onDisabled(t)},db=function(t,e,n){e.disableClass.each((function(e){Is(t.element,e)}));var r=ob(t,e)?ab:fb;r(t),e.onEnabled(t)},mb=function(t,e){return ob(t,e)?ib(t):cb(t)},pb=function(t,e,n,r){var o=r?lb:db;o(t,e)},gb=Object.freeze({__proto__:null,enable:db,disable:lb,isDisabled:mb,onLoad:rb,set:pb}),vb=function(t,e){return os({classes:e.disabled()?e.disableClass.toArray():[]})},hb=function(t,e){return ec([nc(Ea(),(function(e,n){return mb(e,t)})),Yl(t,e,rb)])},bb=Object.freeze({__proto__:null,exhibit:vb,events:hb}),yb=[_u("disabled",G),yu("useNative",!0),fu("disableClass"),Xf("onDisabled"),Xf("onEnabled")],xb=rd({fields:yb,name:"disabling",active:bb,apis:gb}),wb=function(t,e,n,r){var o=Ep(t.element,"."+e.highlightClass);at(o,(function(n){var o=rt(r,(function(t){return He(t.element,n)}));o||(Is(n,e.highlightClass),t.getSystem().getByDom(n).each((function(n){e.onDehighlight(t,n),Ka(n,Ga())})))}))},Cb=function(t,e,n){return wb(t,e,n,[])},Sb=function(t,e,n,r){Ab(t,e,n,r)&&(Is(r.element,e.highlightClass),e.onDehighlight(t,r),Ka(r,Ga()))},kb=function(t,e,n,r){wb(t,e,n,[r]),Ab(t,e,n,r)||(Bs(r.element,e.highlightClass),e.onHighlight(t,r),Ka(r,qa()))},_b=function(t,e,n){Db(t,e).each((function(r){kb(t,e,n,r)}))},Eb=function(t,e,n){Bb(t,e).each((function(r){kb(t,e,n,r)}))},Ob=function(t,e,n,r){Nb(t,e,n,r).fold((function(t){throw t}),(function(r){kb(t,e,n,r)}))},Tb=function(t,e,n,r){var o=Lb(t,e),i=pt(o,r);i.each((function(r){kb(t,e,n,r)}))},Ab=function(t,e,n,r){return Ps(r.element,e.highlightClass)},Rb=function(t,e,n){return Ef(t.element,"."+e.highlightClass).bind((function(e){return t.getSystem().getByDom(e).toOptional()}))},Nb=function(t,e,n,r){var o=Ep(t.element,"."+e.itemClass);return Y.from(o[r]).fold((function(){return To.error(new Error("No element found with index "+r))}),t.getSystem().getByDom)},Db=function(t,e,n){return Ef(t.element,"."+e.itemClass).bind((function(e){return t.getSystem().getByDom(e).toOptional()}))},Bb=function(t,e,n){var r=Ep(t.element,"."+e.itemClass),o=r.length>0?Y.some(r[r.length-1]):Y.none();return o.bind((function(e){return t.getSystem().getByDom(e).toOptional()}))},Mb=function(t,e,n,r){var o=Ep(t.element,"."+e.itemClass),i=gt(o,(function(t){return Ps(t,e.highlightClass)}));return i.bind((function(e){var n=vl(e,r,0,o.length-1);return t.getSystem().getByDom(o[n]).toOptional()}))},Ib=function(t,e,n){return Mb(t,e,n,-1)},Pb=function(t,e,n){return Mb(t,e,n,1)},Lb=function(t,e,n){var r=Ep(t.element,"."+e.itemClass);return qt(ut(r,(function(e){return t.getSystem().getByDom(e).toOptional()})))},Fb=Object.freeze({__proto__:null,dehighlightAll:Cb,dehighlight:Sb,highlight:kb,highlightFirst:_b,highlightLast:Eb,highlightAt:Ob,highlightBy:Tb,isHighlighted:Ab,getHighlighted:Rb,getFirst:Db,getLast:Bb,getPrevious:Ib,getNext:Pb,getCandidates:Lb}),jb=[Zi("highlightClass"),Zi("itemClass"),Xf("onHighlight"),Xf("onDehighlight")],zb=rd({fields:jb,name:"highlighting",apis:Fb}),Ub=[8],Hb=[9],Vb=[13],Wb=[27],$b=[32],qb=[37],Gb=[38],Kb=[39],Yb=[40],Xb=function(t,e,n){var r=yt(t.slice(0,e)),o=yt(t.slice(e+1));return pt(r.concat(o),n)},Jb=function(t,e,n){var r=yt(t.slice(0,e));return pt(r,n)},Qb=function(t,e,n){var r=t.slice(0,e),o=t.slice(e+1);return pt(o.concat(r),n)},Zb=function(t,e,n){var r=t.slice(e+1);return pt(r,n)},ty=function(t){return function(e){var n=e.raw;return nt(t,n.which)}},ey=function(t){return function(e){return bt(t,(function(t){return t(e)}))}},ny=function(t){var e=t.raw;return!0===e.shiftKey},ry=function(t){var e=t.raw;return!0===e.ctrlKey},oy=W(ny),iy=function(t,e){return{matches:t,classification:e}},uy=function(t,e){var n=pt(t,(function(t){return t.matches(e)}));return n.map((function(t){return t.classification}))},ay=function(t,e,n){var r=e.exists((function(t){return n.exists((function(e){return He(e,t)}))}));r||Ya(t,Ua(),{prevFocus:e,newFocus:n})},cy=function(){var t=function(t){return pd(t.element)},e=function(e,n){var r=t(e);e.getSystem().triggerFocus(n,e.element);var o=t(e);ay(e,r,o)};return{get:t,set:e}},sy=function(){var t=function(t){return zb.getHighlighted(t).map((function(t){return t.element}))},e=function(e,n){var r=t(e);e.getSystem().getByDom(n).fold(P,(function(t){zb.highlight(e,t)}));var o=t(e);ay(e,r,o)};return{get:t,set:e}};(function(t){t["OnFocusMode"]="onFocus",t["OnEnterOrSpaceMode"]="onEnterOrSpace",t["OnApiMode"]="onApi"})(kp||(kp={}));var fy,ly=function(t,e,n,r,o){var i=function(){return t.concat([yu("focusManager",cy()),xu("focusInside","onFocus",Ui((function(t){return nt(["onFocus","onEnterOrSpace","onApi"],t)?To.value(t):To.error("Invalid value for focusInside")}))),tl("handler",c),tl("state",e),tl("sendFocusIn",o)])},u=function(t,e,n,r,o){var i=n(t,e,r,o);return uy(i,e.event).bind((function(n){return n(t,e,r,o)}))},a=function(t,e){var i=t.focusInside!==kp.OnFocusMode?Y.none():o(t).map((function(n){return ic(Ca(),(function(r,o){n(r,t,e),o.stop()}))})),a=function(n,r){var i=ty($b.concat(Vb))(r.event);t.focusInside===kp.OnEnterOrSpaceMode&&i&&qu(n,r)&&o(t).each((function(o){o(n,t,e),r.stop()}))},c=[ic(la(),(function(r,o){u(r,o,n,t,e).fold((function(){a(r,o)}),(function(t){o.stop()}))})),ic(da(),(function(n,o){u(n,o,r,t,e).each((function(t){o.stop()}))}))];return ec(i.toArray().concat(c))},c={schema:i,processKey:u,toEvents:a};return c},dy=function(t){var e=[fu("onEscape"),fu("onEnter"),yu("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),yu("firstTabstop",0),yu("useTabstopAt",K),fu("visibilitySelector")].concat([t]),n=function(t,e){var n=t.visibilitySelector.bind((function(t){return Of(e,t)})).getOr(e);return zn(n)>0},r=function(t,e){var r=Ep(t.element,e.selector),o=ft(r,(function(t){return n(e,t)}));return Y.from(o[e.firstTabstop])},o=function(t,e){return e.focusManager.get(t).bind((function(t){return Of(t,e.selector)}))},i=function(t,e){return n(t,e)&&t.useTabstopAt(e)},u=function(t,e,n){r(t,e).each((function(n){e.focusManager.set(t,n)}))},a=function(t,e,n,r,o){return o(e,n,(function(t){return i(r,t)})).fold((function(){return r.cyclic?Y.some(!0):Y.none()}),(function(e){return r.focusManager.set(t,e),Y.some(!0)}))},c=function(t,e,n,r){var i=Ep(t.element,n.selector);return o(t,n).bind((function(e){var o=gt(i,V(He,e));return o.bind((function(e){return a(t,i,e,n,r)}))}))},s=function(t,e,n){var r=n.cyclic?Xb:Jb;return c(t,e,n,r)},f=function(t,e,n){var r=n.cyclic?Qb:Zb;return c(t,e,n,r)},l=function(t,e,n){return n.onEnter.bind((function(n){return n(t,e)}))},d=function(t,e,n){return n.onEscape.bind((function(n){return n(t,e)}))},m=z([iy(ey([ny,ty(Hb)]),s),iy(ty(Hb),f),iy(ey([oy,ty(Vb)]),l)]),p=z([iy(ty(Wb),d)]);return ly(e,Qc.init,m,p,(function(){return Y.some(u)}))},my=dy(Ji("cyclic",G)),py=dy(Ji("cyclic",K)),gy=function(t,e,n){return Ja(t,n,Ea()),Y.some(!0)},vy=function(t,e,n){var r=Jh(n)&&ty($b)(e.event);return r?Y.none():gy(t,e,n)},hy=function(t,e){return Y.some(!0)},by=[yu("execute",vy),yu("useSpace",!1),yu("useEnter",!0),yu("useControlEnter",!1),yu("useDown",!1)],yy=function(t,e,n){return n.execute(t,e,t.element)},xy=function(t,e,n,r){var o=n.useSpace&&!Jh(t.element)?$b:[],i=n.useEnter?Vb:[],u=n.useDown?Yb:[],a=o.concat(i).concat(u);return[iy(ty(a),yy)].concat(n.useControlEnter?[iy(ey([ry,ty(Vb)]),yy)]:[])},wy=function(t,e,n,r){return n.useSpace&&!Jh(t.element)?[iy(ty($b),hy)]:[]},Cy=ly(by,Qc.init,xy,wy,(function(){return Y.none()})),Sy=function(){var t=Wd(),e=function(e,n){t.set({numRows:e,numColumns:n})},n=function(){return t.get().map((function(t){return t.numRows}))},r=function(){return t.get().map((function(t){return t.numColumns}))};return Zc({readState:function(){return t.get().map((function(t){return{numRows:String(t.numRows),numColumns:String(t.numColumns)}})).getOr({numRows:"?",numColumns:"?"})},setGridSize:e,getNumRows:n,getNumColumns:r})},ky=function(t){return t.state(t)},_y=Object.freeze({__proto__:null,flatgrid:Sy,init:ky}),Ey=function(t){return function(e,n,r,o){var i=t(e.element);return Ry(i,e,n,r,o)}},Oy=function(t,e){var n=wm(t,e);return Ey(n)},Ty=function(t,e){var n=wm(e,t);return Ey(n)},Ay=function(t){return function(e,n,r,o){return Ry(t,e,n,r,o)}},Ry=function(t,e,n,r,o){var i=r.focusManager.get(e).bind((function(n){return t(e.element,n,r,o)}));return i.map((function(t){return r.focusManager.set(e,t),!0}))},Ny=Ay,Dy=Ay,By=Ay,My=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0},Iy=function(t){return!My(t.dom)},Py=function(t,e){return gt(t,e).map((function(e){return{index:e,candidates:t}}))},Ly=function(t,e,n){var r=function(t){return He(t,e)},o=Ep(t,n),i=ft(o,Iy);return Py(i,r)},Fy=function(t,e){return gt(t,(function(t){return He(e,t)}))},jy=function(t,e,n,r){var o=Math.floor(e/n),i=e%n;return r(o,i).bind((function(e){var r=e.row*n+e.column;return r>=0&&r<t.length?Y.some(t[r]):Y.none()}))},zy=function(t,e,n,r,o){return jy(t,e,r,(function(e,i){var u=e===n-1,a=u?t.length-e*r:r,c=vl(i,o,0,a-1);return Y.some({row:e,column:c})}))},Uy=function(t,e,n,r,o){return jy(t,e,r,(function(e,i){var u=vl(e,o,0,n-1),a=u===n-1,c=a?t.length-u*r:r,s=hl(i,0,c-1);return Y.some({row:u,column:s})}))},Hy=function(t,e,n,r){return zy(t,e,n,r,1)},Vy=function(t,e,n,r){return zy(t,e,n,r,-1)},Wy=function(t,e,n,r){return Uy(t,e,n,r,-1)},$y=function(t,e,n,r){return Uy(t,e,n,r,1)},qy=[Zi("selector"),yu("execute",vy),Jf("onEscape"),yu("captureTab",!1),nl()],Gy=function(t,e,n){Ef(t.element,e.selector).each((function(n){e.focusManager.set(t,n)}))},Ky=function(t,e){return e.focusManager.get(t).bind((function(t){return Of(t,e.selector)}))},Yy=function(t,e,n,r){return Ky(t,n).bind((function(r){return n.execute(t,e,r)}))},Xy=function(t){return function(e,n,r,o){return Ly(e,n,r.selector).bind((function(e){return t(e.candidates,e.index,o.getNumRows().getOr(r.initSize.numRows),o.getNumColumns().getOr(r.initSize.numColumns))}))}},Jy=function(t,e,n){return n.captureTab?Y.some(!0):Y.none()},Qy=function(t,e,n){return n.onEscape(t,e)},Zy=Xy(Vy),tx=Xy(Hy),ex=Xy(Wy),nx=Xy($y),rx=z([iy(ty(qb),Oy(Zy,tx)),iy(ty(Kb),Ty(Zy,tx)),iy(ty(Gb),Ny(ex)),iy(ty(Yb),Dy(nx)),iy(ey([ny,ty(Hb)]),Jy),iy(ey([oy,ty(Hb)]),Jy),iy(ty($b.concat(Vb)),Yy)]),ox=z([iy(ty(Wb),Qy),iy(ty($b),hy)]),ix=ly(qy,Sy,rx,ox,(function(){return Y.some(Gy)})),ux=function(t,e,n,r,o){var i=function(t){return"button"===Ae(t)&&"disabled"===wn(t,"disabled")},u=function t(e,n,u){return o(e,n,r,0,u.length-1,u[n],(function(n){return i(u[n])?t(e,n,u):Y.from(u[n])}))};return Ly(t,n,e).bind((function(t){var e=t.index,n=t.candidates;return u(e,e,n)}))},ax=function(t,e,n,r){return ux(t,e,n,r,(function(t,e,n,r,o,i,u){var a=hl(e+n,r,o);return a===t?Y.from(i):u(a)}))},cx=function(t,e,n,r){return ux(t,e,n,r,(function(t,e,n,r,o,i,u){var a=vl(e,n,r,o);return a===t?Y.none():u(a)}))},sx=[Zi("selector"),yu("getInitial",Y.none),yu("execute",vy),Jf("onEscape"),yu("executeOnMove",!1),yu("allowVertical",!0),yu("allowHorizontal",!0),yu("cycles",!0)],fx=function(t,e){return e.focusManager.get(t).bind((function(t){return Of(t,e.selector)}))},lx=function(t,e,n){return fx(t,n).bind((function(r){return n.execute(t,e,r)}))},dx=function(t,e,n){e.getInitial(t).orThunk((function(){return Ef(t.element,e.selector)})).each((function(n){e.focusManager.set(t,n)}))},mx=function(t,e,n){return(n.cycles?cx:ax)(t,n.selector,e,-1)},px=function(t,e,n){return(n.cycles?cx:ax)(t,n.selector,e,1)},gx=function(t){return function(e,n,r,o){return t(e,n,r,o).bind((function(){return r.executeOnMove?lx(e,n,r):Y.some(!0)}))}},vx=function(t,e,n){return n.onEscape(t,e)},hx=function(t,e,n,r){var o=c(n.allowHorizontal?qb:[]).concat(n.allowVertical?Gb:[]),i=c(n.allowHorizontal?Kb:[]).concat(n.allowVertical?Yb:[]);return[iy(ty(o),gx(Oy(mx,px))),iy(ty(i),gx(Ty(mx,px))),iy(ty(Vb),lx),iy(ty($b),lx)]},bx=z([iy(ty($b),hy),iy(ty(Wb),vx)]),yx=ly(sx,Qc.init,hx,bx,(function(){return Y.some(dx)})),xx=function(t,e,n){return Y.from(t[e]).bind((function(t){return Y.from(t[n]).map((function(t){return{rowIndex:e,columnIndex:n,cell:t}}))}))},wx=function(t,e,n,r){var o=t[e],i=o.length,u=vl(n,r,0,i-1);return xx(t,e,u)},Cx=function(t,e,n,r){var o=vl(n,r,0,t.length-1),i=t[o].length,u=hl(e,0,i-1);return xx(t,o,u)},Sx=function(t,e,n,r){var o=t[e],i=o.length,u=hl(n+r,0,i-1);return xx(t,e,u)},kx=function(t,e,n,r){var o=hl(n+r,0,t.length-1),i=t[o].length,u=hl(e,0,i-1);return xx(t,o,u)},_x=function(t,e,n){return wx(t,e,n,1)},Ex=function(t,e,n){return wx(t,e,n,-1)},Ox=function(t,e,n){return Cx(t,n,e,-1)},Tx=function(t,e,n){return Cx(t,n,e,1)},Ax=function(t,e,n){return Sx(t,e,n,-1)},Rx=function(t,e,n){return Sx(t,e,n,1)},Nx=function(t,e,n){return kx(t,n,e,-1)},Dx=function(t,e,n){return kx(t,n,e,1)},Bx=[au("selectors",[Zi("row"),Zi("cell")]),yu("cycles",!0),yu("previousSelector",Y.none),yu("execute",vy)],Mx=function(t,e,n){var r=e.previousSelector(t).orThunk((function(){var n=e.selectors;return Ef(t.element,n.cell)}));r.each((function(n){e.focusManager.set(t,n)}))},Ix=function(t,e,n){return pd(t.element).bind((function(r){return n.execute(t,e,r)}))},Px=function(t,e){return ut(t,(function(t){return Ep(t,e.selectors.cell)}))},Lx=function(t,e){return function(n,r,o){var i=o.cycles?t:e;return Of(r,o.selectors.row).bind((function(t){var e=Ep(t,o.selectors.cell);return Fy(e,r).bind((function(e){var r=Ep(n,o.selectors.row);return Fy(r,t).bind((function(t){var n=Px(r,o);return i(n,t,e).map((function(t){return t.cell}))}))}))}))}},Fx=Lx(Ex,Ax),jx=Lx(_x,Rx),zx=Lx(Ox,Nx),Ux=Lx(Tx,Dx),Hx=z([iy(ty(qb),Oy(Fx,jx)),iy(ty(Kb),Ty(Fx,jx)),iy(ty(Gb),Ny(zx)),iy(ty(Yb),Dy(Ux)),iy(ty($b.concat(Vb)),Ix)]),Vx=z([iy(ty($b),hy)]),Wx=ly(Bx,Qc.init,Hx,Vx,(function(){return Y.some(Mx)})),$x=[Zi("selector"),yu("execute",vy),yu("moveOnTab",!1)],qx=function(t,e,n){return n.focusManager.get(t).bind((function(r){return n.execute(t,e,r)}))},Gx=function(t,e,n){Ef(t.element,e.selector).each((function(n){e.focusManager.set(t,n)}))},Kx=function(t,e,n){return cx(t,n.selector,e,-1)},Yx=function(t,e,n){return cx(t,n.selector,e,1)},Xx=function(t,e,n,r){return n.moveOnTab?By(Kx)(t,e,n,r):Y.none()},Jx=function(t,e,n,r){return n.moveOnTab?By(Yx)(t,e,n,r):Y.none()},Qx=z([iy(ty(Gb),By(Kx)),iy(ty(Yb),By(Yx)),iy(ey([ny,ty(Hb)]),Xx),iy(ey([oy,ty(Hb)]),Jx),iy(ty(Vb),qx),iy(ty($b),qx)]),Zx=z([iy(ty($b),hy)]),tw=ly($x,Qc.init,Qx,Zx,(function(){return Y.some(Gx)})),ew=[Jf("onSpace"),Jf("onEnter"),Jf("onShiftEnter"),Jf("onLeft"),Jf("onRight"),Jf("onTab"),Jf("onShiftTab"),Jf("onUp"),Jf("onDown"),Jf("onEscape"),yu("stopSpaceKeyup",!1),fu("focusIn")],nw=function(t,e,n){return[iy(ty($b),n.onSpace),iy(ey([oy,ty(Vb)]),n.onEnter),iy(ey([ny,ty(Vb)]),n.onShiftEnter),iy(ey([ny,ty(Hb)]),n.onShiftTab),iy(ey([oy,ty(Hb)]),n.onTab),iy(ty(Gb),n.onUp),iy(ty(Yb),n.onDown),iy(ty(qb),n.onLeft),iy(ty(Kb),n.onRight),iy(ty($b),n.onSpace)]},rw=function(t,e,n){return[].concat(c(n.stopSpaceKeyup?[iy(ty($b),hy)]:[]),[iy(ty(Wb),n.onEscape)])},ow=ly(ew,Qc.init,nw,rw,(function(t){return t.focusIn})),iw=my.schema(),uw=py.schema(),aw=yx.schema(),cw=ix.schema(),sw=Wx.schema(),fw=Cy.schema(),lw=tw.schema(),dw=ow.schema(),mw=Object.freeze({__proto__:null,acyclic:iw,cyclic:uw,flow:aw,flatgrid:cw,matrix:sw,execution:fw,menu:lw,special:dw}),pw=function(t){return Vt(t,"setGridSize")},gw=id({branchKey:"mode",branches:mw,name:"keying",active:{events:function(t,e){var n=t.handler;return n.toEvents(t,e)}},apis:{focusIn:function(t,e,n){e.sendFocusIn(e).fold((function(){t.getSystem().triggerFocus(t.element,t.element)}),(function(r){r(t,e,n)}))},setGridSize:function(t,e,n,r,o){pw(n)?n.setGridSize(r,o):console.error("Layout does not support setGridSize")}},state:_y}),vw=function(t,e){gd((function(){_g(t,e,(function(){return ut(e,t.getSystem().build)}))}),t.element)},hw=function(t,e){gd((function(){Eg(t,e,(function(){return Ks(t.element,e,t.getSystem().buildOrPatch)}))}),t.element)},bw=function(t,e,n,r){Cg(e);var o=Gs(t.element,n,r,t.getSystem().buildOrPatch);wg(t,o),t.syncComponents()},yw=function(t,e,n){var r=t.getSystem().build(n);Tg(t,r,e)},xw=function(t,e,n,r){Rg(e),yw(t,(function(t,e){return Zr(t,e,n)}),r)},ww=function(t,e,n,r){var o=e.reuseDom?hw:vw;return o(t,r)},Cw=function(t,e,n,r){yw(t,Qr,r)},Sw=function(t,e,n,r){yw(t,Jr,r)},kw=function(t,e,n,r){var o=_w(t),i=pt(o,(function(t){return He(r.element,t.element)}));i.each(Rg)},_w=function(t,e){return t.components()},Ew=function(t,e,n,r,o){var i=_w(t);return Y.from(i[r]).map((function(n){return o.fold((function(){return Rg(n)}),(function(o){var i=e.reuseDom?bw:xw;i(t,n,r,o)})),n}))},Ow=function(t,e,n,r,o){var i=_w(t);return gt(i,r).bind((function(r){return Ew(t,e,n,r,o)}))},Tw=Object.freeze({__proto__:null,append:Cw,prepend:Sw,remove:kw,replaceAt:Ew,replaceBy:Ow,set:ww,contents:_w}),Aw=rd({fields:[ku("reuseDom",!0)],name:"replacing",apis:Tw}),Rw=function(t,e){var n=ec(e);return rd({fields:[Zi("enabled")],name:t,active:{events:z(n)}})},Nw=function(t,e){var n=Rw(t,e);return{key:t,value:{config:{},me:n,configAsRaw:z({}),initialConfig:{},state:Qc}}},Dw=function(t,e){e.ignore||(fd(t.element),e.onFocus(t))},Bw=function(t,e){e.ignore||ld(t.element)},Mw=function(t){return dd(t.element)},Iw=Object.freeze({__proto__:null,focus:Dw,blur:Bw,isFocused:Mw}),Pw=function(t,e){var n=e.ignore?{}:{attributes:{tabindex:"-1"}};return os(n)},Lw=function(t){return ec([ic(Ca(),(function(e,n){Dw(e,t),n.stop()}))].concat(t.stopMousedown?[ic(oa(),(function(t,e){e.event.prevent()}))]:[]))},Fw=Object.freeze({__proto__:null,exhibit:Pw,events:Lw}),jw=[Xf("onFocus"),yu("stopMousedown",!1),yu("ignore",!1)],zw=rd({fields:jw,name:"focusing",active:Fw,apis:Iw}),Uw=function(t){var e=function(){var e=Au(t),n=function(){return e.get()},r=function(t){return e.set(t)},o=function(){return e.set(t)},i=function(){return e.get()};return{get:n,set:r,clear:o,readState:i}};return{init:e}},Hw=function(t,e,n){var r=e.aria;r.update(t,r,n.get())},Vw=function(t,e,n){e.toggleClass.each((function(e){n.get()?Bs(t.element,e):Is(t.element,e)}))},Ww=function(t,e,n,r){var o=n.get();n.set(r),Vw(t,e,n),Hw(t,e,n),o!==r&&e.onToggled(t,r)},$w=function(t,e,n){Ww(t,e,n,!n.get())},qw=function(t,e,n){Ww(t,e,n,!0)},Gw=function(t,e,n){Ww(t,e,n,!1)},Kw=function(t,e,n){return n.get()},Yw=function(t,e,n){Ww(t,e,n,e.selected)},Xw=Object.freeze({__proto__:null,onLoad:Yw,toggle:$w,isOn:Kw,on:qw,off:Gw,set:Ww}),Jw=function(){return os({})},Qw=function(t,e){var n=Kl(t,e,$w),r=Yl(t,e,Yw);return ec(vt([t.toggleOnExecute?[n]:[],[r]]))},Zw=Object.freeze({__proto__:null,exhibit:Jw,events:Qw}),tC=function(t,e,n){yn(t.element,"aria-pressed",n),e.syncWithExpanded&&rC(t,e,n)},eC=function(t,e,n){yn(t.element,"aria-selected",n)},nC=function(t,e,n){yn(t.element,"aria-checked",n)},rC=function(t,e,n){yn(t.element,"aria-expanded",n)},oC=[yu("selected",!1),fu("toggleClass"),yu("toggleOnExecute",!0),Xf("onToggled"),xu("aria",{mode:"none"},Ki("mode",{pressed:[yu("syncWithExpanded",!1),tl("update",tC)],checked:[tl("update",nC)],expanded:[tl("update",rC)],selected:[tl("update",eC)],none:[tl("update",P)]}))],iC=rd({fields:oC,name:"toggling",active:Zw,apis:Xw,state:Uw(!1)}),uC=function(){var t=function(t,e){e.stop(),Xa(t)};return[ic(ga(),t),ic(Ta(),t),dc(ta()),dc(oa())]},aC=function(t){var e=function(t){return bc((function(e,n){t(e),n.stop()}))};return ec(vt([t.map(e).toArray(),uC()]))},cC="alloy.item-hover",sC="alloy.item-focus",fC="alloy.item-toggled",lC=function(t){(pd(t.element).isNone()||zw.isFocused(t))&&(zw.isFocused(t)||zw.focus(t),Ya(t,cC,{item:t}))},dC=function(t){Ya(t,sC,{item:t})},mC=function(t,e){Ya(t,fC,{item:t,state:e})},pC=z(cC),gC=z(sC),vC=z(fC),hC=function(t){return t.toggling.map((function(t){return t.exclusive?"menuitemradio":"menuitemcheckbox"})).getOr("menuitem")},bC=function(t){return u(u({aria:{mode:"checked"}},Lt(t,(function(t,e){return"exclusive"!==e}))),{},{onToggled:function(e,n){B(t.onToggled)&&t.onToggled(e,n),mC(e,n)}})},yC=function(t){return{dom:t.dom,domModification:u(u({},t.domModification),{},{attributes:u(u({role:hC(t)},t.domModification.attributes),{},{"aria-haspopup":t.hasSubmenu},t.hasSubmenu?{"aria-expanded":!1}:{})}),behaviours:Uv.augment(t.itemBehaviours,[t.toggling.fold(iC.revoke,(function(t){return iC.config(bC(t))})),zw.config({ignore:t.ignoreFocus,stopMousedown:t.ignoreFocus,onFocus:function(t){dC(t)}}),gw.config({mode:"execution"}),Lv.config({store:{mode:"memory",initialValue:t.data}}),Nw("item-type-events",[].concat(c(uC()),[ic(ca(),lC),ic(Oa(),zw.focus)]))]),components:t.components,eventOrder:t.eventOrder}},xC=[Zi("data"),Zi("components"),Zi("dom"),yu("hasSubmenu",!1),fu("toggling"),Uv.field("itemBehaviours",[iC,zw,gw,Lv]),yu("ignoreFocus",!1),yu("domModification",{}),tl("builder",yC),yu("eventOrder",{})],wC=function(t){return{dom:t.dom,components:t.components,events:ec([mc(Oa())])}},CC=[Zi("dom"),Zi("components"),tl("builder",wC)],SC=z("item-widget"),kC=z([vh({name:"widget",overrides:function(t){return{behaviours:ed([Lv.config({store:{mode:"manual",getValue:function(e){return t.data},setValue:P}})])}}})]),_C=function(t){var e=Ah(SC(),t,kC()),n=Rh(SC(),t,e.internals()),r=function(e){return Nh(e,t,"widget").map((function(t){return gw.focusIn(t),t}))},o=function(e,n){return Jh(n.event.target)?Y.none():function(){return t.autofocus?(n.setSource(e.element),Y.none()):Y.none()}()};return{dom:t.dom,components:n,domModification:t.domModification,events:ec([bc((function(t,e){r(t).each((function(t){e.stop()}))})),ic(ca(),lC),ic(Oa(),(function(e,n){t.autofocus?r(e):zw.focus(e)}))]),behaviours:Uv.augment(t.widgetBehaviours,[Lv.config({store:{mode:"memory",initialValue:t.data}}),zw.config({ignore:t.ignoreFocus,onFocus:function(t){dC(t)}}),gw.config({mode:"special",focusIn:t.autofocus?function(t){r(t)}:ud(),onLeft:o,onRight:o,onEscape:function(e,n){return zw.isFocused(e)||t.autofocus?t.autofocus?(n.setSource(e.element),Y.none()):Y.none():(zw.focus(e),Y.some(!0))}})])}},EC=[Zi("uid"),Zi("data"),Zi("components"),Zi("dom"),yu("autofocus",!1),yu("ignoreFocus",!1),Uv.field("widgetBehaviours",[Lv,zw,gw]),yu("domModification",{}),Fh(kC()),tl("builder",_C)],OC=Ki("type",{widget:EC,item:xC,separator:CC}),TC=function(t,e){return{mode:"flatgrid",selector:"."+t.markers.item,initSize:{numColumns:e.initSize.numColumns,numRows:e.initSize.numRows},focusManager:t.focusManager}},AC=function(t,e){return{mode:"matrix",selectors:{row:e.rowSelector,cell:"."+t.markers.item},previousSelector:e.previousSelector,focusManager:t.focusManager}},RC=function(t,e){return{mode:"menu",selector:"."+t.markers.item,moveOnTab:e.moveOnTab,focusManager:t.focusManager}},NC=z([yh({factory:{sketch:function(t){var e=qi("menu.spec item",OC,t);return e.builder(e)}},name:"items",unit:"item",defaults:function(t,e){return Ht(e,"uid")?e:u(u({},e),{},{uid:jc("item")})},overrides:function(t,e){return{type:e.type,ignoreFocus:t.fakeFocus,domModification:{classes:[t.markers.item]}}}})]),DC=z([Zi("value"),Zi("items"),Zi("dom"),Zi("components"),yu("eventOrder",{}),Fv("menuBehaviours",[zb,Lv,eb,gw]),xu("movement",{mode:"menu",moveOnTab:!0},Ki("mode",{grid:[nl(),tl("config",TC)],matrix:[tl("config",AC),Zi("rowSelector"),yu("previousSelector",Y.none)],menu:[yu("moveOnTab",!0),tl("config",RC)]})),qf(),yu("fakeFocus",!1),yu("focusManager",cy()),Xf("onHighlight"),Xf("onDehighlight")]),BC=z("alloy.menu-focus"),MC=function(t,e){var n=Ep(t.element,'[role="menuitemradio"][aria-checked="true"]');at(n,(function(n){He(n,e.element)||t.getSystem().getByDom(n).each((function(t){iC.off(t)}))}))},IC=function(t,e,n,r){return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:zv(t.menuBehaviours,[zb.config({highlightClass:t.markers.selectedItem,itemClass:t.markers.item,onHighlight:t.onHighlight,onDehighlight:t.onDehighlight}),Lv.config({store:{mode:"memory",initialValue:t.value}}),eb.config({find:Y.some}),gw.config(t.movement.config(t,t.movement))]),events:ec([ic(gC(),(function(t,e){var n=e.event;t.getSystem().getByDom(n.target).each((function(n){zb.highlight(t,n),e.stop(),Ya(t,BC(),{menu:t,item:n})}))})),ic(pC(),(function(t,e){var n=e.event.item;zb.highlight(t,n)})),ic(vC(),(function(t,e){var n=e.event,r=n.item,o=n.state;o&&"menuitemradio"===wn(r.element,"role")&&MC(t,r)}))]),components:e,eventOrder:t.eventOrder,domModification:{attributes:{role:"menu"}}}},PC=Xh({name:"Menu",configFields:DC(),partFields:NC(),factory:IC}),LC=function(t){return Bt(t,(function(t,e){return{k:t,v:e}}))},FC=function t(e,n,r,o){return Ut(r,o).bind((function(o){return Ut(e,o).bind((function(o){var i=t(e,n,r,o);return Y.some([o].concat(i))}))})).getOr([])},jC=function(t,e){var n={};Nt(t,(function(t,e){at(t,(function(t){n[t]=e}))}));var r=e,o=LC(e),i=Dt(o,(function(t,e){return[e].concat(FC(n,r,o,e))}));return Dt(n,(function(t){return Ut(i,t).getOr([t])}))},zC=function(){var t=Au({}),e=Au({}),n=Au({}),r=Wd(),o=Au({}),i=function(){t.set({}),e.set({}),n.set({}),r.clear()},c=function(){return r.get().isNone()},s=function(t,n){e.set(u(u({},e.get()),{},a({},t,{type:"prepared",menu:n})))},f=function(i,u,a,c){r.set(i),t.set(a),e.set(u),o.set(c);var s=jC(c,a);n.set(s)},l=function(e){return jt(t.get(),(function(t,n){return t===e}))},d=function(t,e,n){return h(t).bind((function(r){return l(t).bind((function(t){return e(t).map((function(t){return{triggeredMenu:r,triggeringItem:t,triggeringPath:n}}))}))}))},m=function(t,e){var o=ft(y(t).toArray(),(function(t){return h(t).isSome()}));return Ut(n.get(),t).bind((function(t){var n=yt(o.concat(t)),i=ht(n,(function(t,o){return d(t,e,n.slice(0,o+1)).fold((function(){return Wt(r.get(),t)?[]:[Y.none()]}),(function(t){return[Y.some(t)]}))}));return Gt(i)}))},p=function(e){return Ut(t.get(),e).map((function(t){var r=Ut(n.get(),e).getOr([]);return[t].concat(r)}))},g=function(t){return Ut(n.get(),t).bind((function(t){return t.length>1?Y.some(t.slice(1)):Y.none()}))},v=function(t){return Ut(n.get(),t)},h=function(t){return b(t).bind(UC)},b=function(t){return Ut(e.get(),t)},y=function(e){return Ut(t.get(),e)},x=function(t){var e=o.get();return xt(At(e),t)},w=function(){return r.get().bind(h)},C=function(){return e.get()};return{setMenuBuilt:s,setContents:f,expand:p,refresh:v,collapse:g,lookupMenu:b,lookupItem:y,otherMenus:x,getPrimary:w,getMenus:C,clear:i,isClear:c,getTriggeringPath:m}},UC=function(t){return"prepared"===t.type?Y.some(t.menu):Y.none()},HC={init:zC,extractPreparedMenu:UC},VC=Nc("tiered-menu-item-highlight"),WC=Nc("tiered-menu-item-dehighlight");(function(t){t[t["HighlightMenuAndItem"]=0]="HighlightMenuAndItem",t[t["HighlightJustMenu"]=1]="HighlightJustMenu",t[t["HighlightNone"]=2]="HighlightNone"})(fy||(fy={}));var $C,qC,GC=function(t,e){var n,r=Wd(),o=function(e,n,r){return Dt(r,(function(r,o){var i=function(){return PC.sketch(u(u({},r),{},{value:o,markers:t.markers,fakeFocus:t.fakeFocus,onHighlight:function(t,e){var n={menuComp:t,itemComp:e};Ya(t,VC,n)},onDehighlight:function(t,e){var n={menuComp:t,itemComp:e};Ya(t,WC,n)},focusManager:t.fakeFocus?sy():cy()}))};return o===n?{type:"prepared",menu:e.getSystem().build(i())}:{type:"notbuilt",nbMenu:i}}))},i=HC.init(),a=function(e){var n=o(e,t.data.primary,t.data.menus),r=l();return i.setContents(t.data.primary,n,t.data.expansions,r),i.getPrimary()},s=function(t){return Lv.getValue(t).value},f=function(t,e,n){return Tt(e,(function(t){if(!t.getSystem().isConnected())return Y.none();var e=zb.getCandidates(t);return pt(e,(function(t){return s(t)===n}))}))},l=function(e){return Dt(t.data.menus,(function(t,e){return ht(t.items,(function(t){return"separator"===t.type?[]:[t.data.value]}))}))},d=zb.highlight,m=function(e,n){d(e,n),zb.getHighlighted(n).orThunk((function(){return zb.getFirst(n)})).each((function(r){t.fakeFocus?zb.highlight(n,r):Ja(e,r.element,Oa())}))},p=function(t,e){return qt(ut(e,(function(e){return t.lookupMenu(e).bind((function(t){return"prepared"===t.type?Y.some(t.menu):Y.none()}))})))},g=function(e,n,r){var o=p(n,n.otherMenus(r));at(o,(function(n){Fs(n.element,[t.markers.backgroundMenu]),t.stayInDom||Aw.remove(e,n)}))},v=function(e){return r.get().getOrThunk((function(){var n={},o=Ep(e.element,".".concat(t.markers.item)),i=ft(o,(function(t){return"true"===wn(t,"aria-haspopup")}));return at(i,(function(t){e.getSystem().getByDom(t).each((function(t){var e=s(t);n[e]=t}))})),r.set(n),n}))},h=function(t,e){var n=v(t);Nt(n,(function(t,n){var r=nt(e,n);yn(t.element,"aria-expanded",r)}))},b=function(e,n,r){return Y.from(r[0]).bind((function(o){return n.lookupMenu(o).bind((function(o){if("notbuilt"===o.type)return Y.none();var i=o.menu,u=p(n,r.slice(1));return at(u,(function(e){Bs(e.element,t.markers.backgroundMenu)})),gn(i.element)||Aw.append(e,hf(i)),Fs(i.element,[t.markers.backgroundMenu]),m(e,i),g(e,n,r),Y.some(i)}))}))};(function(t){t[t["HighlightSubmenu"]=0]="HighlightSubmenu",t[t["HighlightParent"]=1]="HighlightParent"})(n||(n={}));var y=function(t,e,n){if("notbuilt"===n.type){var r=t.getSystem().build(n.nbMenu());return i.setMenuBuilt(e,r),r}return n.menu},x=function(e,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n.HighlightSubmenu;if(r.hasConfigured(xb)&&xb.isDisabled(r))return Y.some(r);var u=s(r);return i.expand(u).bind((function(u){return h(e,u),Y.from(u[0]).bind((function(a){return i.lookupMenu(a).bind((function(c){var s=y(e,a,c);return gn(s.element)||Aw.append(e,hf(s)),t.onOpenSubmenu(e,r,s,yt(u)),o===n.HighlightSubmenu?(zb.highlightFirst(s),b(e,i,u)):(zb.dehighlightAll(s),Y.some(r))}))}))}))},w=function(e,n){var r=s(n);return i.collapse(r).bind((function(r){return h(e,r),b(e,i,r).map((function(r){return t.onCollapseMenu(e,n,r),r}))}))},C=function(t,e){var n=s(e);return i.refresh(n).bind((function(e){return h(t,e),b(t,i,e)}))},S=function(t,e){return Jh(e.element)?Y.none():x(t,e,n.HighlightSubmenu)},k=function(t,e){return Jh(e.element)?Y.none():w(t,e)},_=function(e,n){return w(e,n).orThunk((function(){return t.onEscape(e,n).map((function(){return e}))}))},E=function(e){return function(n,r){return Of(r.getSource(),".".concat(t.markers.item)).bind((function(t){return n.getSystem().getByDom(t).toOptional().bind((function(t){return e(n,t).map(K)}))}))}},O=ec([ic(BC(),(function(t,e){var n=e.event.item;i.lookupItem(s(n)).each((function(){var n=e.event.menu;zb.highlight(t,n);var r=s(e.event.item);i.refresh(r).each((function(e){return g(t,i,e)}))}))})),bc((function(e,r){var o=r.event.target;e.getSystem().getByDom(o).each((function(r){var o=s(r);0===o.indexOf("collapse-item")&&w(e,r),x(e,r,n.HighlightSubmenu).fold((function(){t.onExecute(e,r)}),P)}))})),gc((function(e,n){a(e).each((function(n){Aw.append(e,hf(n)),t.onOpenMenu(e,n),t.highlightOnOpen===fy.HighlightMenuAndItem?m(e,n):t.highlightOnOpen===fy.HighlightJustMenu&&d(e,n)}))})),ic(VC,(function(e,n){t.onHighlightItem(e,n.event.menuComp,n.event.itemComp)})),ic(WC,(function(e,n){t.onDehighlightItem(e,n.event.menuComp,n.event.itemComp)}))].concat(c(t.navigateOnHover?[ic(pC(),(function(e,r){var o=r.event.item;C(e,o),x(e,o,n.HighlightParent),t.onHover(e,o)}))]:[]))),T=function(t){return zb.getHighlighted(t).bind(zb.getHighlighted)},A=function(t){T(t).each((function(e){w(t,e)}))},R=function(t){i.getPrimary().each((function(e){m(t,e)}))},N=function(t){return Y.from(t.components()[0]).filter((function(t){return"menu"===wn(t.element,"role")}))},D=function(e){var n=i.getPrimary().bind((function(t){return T(e).bind((function(t){var n=s(t),r=zt(i.getMenus()),o=qt(ut(r,HC.extractPreparedMenu));return i.getTriggeringPath(n,(function(t){return f(e,o,t)}))})).map((function(e){return{primary:t,triggeringPath:e}}))}));n.fold((function(){N(e).each((function(n){t.onRepositionMenu(e,n,[])}))}),(function(n){var r=n.primary,o=n.triggeringPath;t.onRepositionMenu(e,r,o)}))},B={collapseMenu:A,highlightPrimary:R,repositionMenus:D};return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:zv(t.tmenuBehaviours,[gw.config({mode:"special",onRight:E(S),onLeft:E(k),onEscape:E(_),focusIn:function(t,e){i.getPrimary().each((function(e){Ja(t,e.element,Oa())}))}}),zb.config({highlightClass:t.markers.selectedMenu,itemClass:t.markers.menu}),eb.config({find:function(t){return zb.getHighlighted(t)}}),Aw.config({})]),eventOrder:t.eventOrder,apis:B,events:O}},KC=z("collapse-item"),YC=function(t,e,n){return{primary:t,menus:e,expansions:n}},XC=function(t,e){return{primary:t,menus:Fu(t,e),expansions:{}}},JC=function(t){return{value:Nc(KC()),meta:{text:t}}},QC=Yh({name:"TieredMenu",configFields:[Zf("onExecute"),Zf("onEscape"),Qf("onOpenMenu"),Qf("onOpenSubmenu"),Xf("onRepositionMenu"),Xf("onCollapseMenu"),yu("highlightOnOpen",fy.HighlightMenuAndItem),au("data",[Zi("primary"),Zi("menus"),Zi("expansions")]),yu("fakeFocus",!1),Xf("onHighlightItem"),Xf("onDehighlightItem"),Xf("onHover"),Gf(),Zi("dom"),yu("navigateOnHover",!0),yu("stayInDom",!1),Fv("tmenuBehaviours",[gw,zb,eb,Aw]),yu("eventOrder",{})],apis:{collapseMenu:function(t,e){t.collapseMenu(e)},highlightPrimary:function(t,e){t.highlightPrimary(e)},repositionMenus:function(t,e){t.repositionMenus(e)}},factory:GC,extraApis:{tieredData:YC,singleData:XC,collapseItem:JC}}),ZC=function(t,e,n,r,o){var i=function(){return t.lazySink(e)},a="horizontal"===r.type?{layouts:{onLtr:function(){return Hl()},onRtl:function(){return Vl()}}}:{},c=function(t){return 2===t.length},s=function(t){return c(t)?a:{}};return QC.sketch({dom:{tag:"div"},data:r.data,markers:r.menu.markers,highlightOnOpen:r.menu.highlightOnOpen,fakeFocus:r.menu.fakeFocus,onEscape:function(){return ev.close(e),t.onEscape.map((function(t){return t(e)})),Y.some(!0)},onExecute:function(){return Y.some(!0)},onOpenMenu:function(t,e){hg.positionWithinBounds(i().getOrDie(),e,n,o())},onOpenSubmenu:function(t,e,n,r){var o=i().getOrDie();hg.position(o,n,{anchor:u({type:"submenu",item:e},s(r))})},onRepositionMenu:function(t,e,r){var a=i().getOrDie();hg.positionWithinBounds(a,e,n,o()),at(r,(function(t){var e=s(t.triggeringPath);hg.position(a,t.triggeredMenu,{anchor:u({type:"submenu",item:t.triggeringItem},e)})}))}})},tS=function(t,e){var n=function(e,n){var r=t.getRelated(e);return r.exists((function(t){return Df(t,n)}))},r=function(t,e){ev.setContent(t,e)},o=function(t,e,n){var r=Y.none;i(t,e,n,r)},i=function(e,n,r,o){var i=t.lazySink(e).getOrDie();ev.openWhileCloaked(e,n,(function(){return hg.positionWithinBounds(i,e,r,o())})),Lv.setValue(e,Y.some({mode:"position",config:r,getBounds:o}))},a=function(t,e,n){c(t,e,n,Y.none)},c=function(e,n,r,o){var i=ZC(t,e,n,r,o);ev.open(e,i),Lv.setValue(e,Y.some({mode:"menu",menu:i}))},s=function(t){ev.isOpen(t)&&(Lv.setValue(t,Y.none()),ev.close(t))},f=function(t){return ev.getState(t)},l=function(e){ev.isOpen(e)&&Lv.getValue(e).each((function(n){switch(n.mode){case"menu":ev.getState(e).each(QC.repositionMenus);break;case"position":var r=t.lazySink(e).getOrDie();hg.positionWithinBounds(r,e,n.config,n.getBounds());break}}))},d={setContent:r,showAt:o,showWithinBounds:i,showMenuAt:a,showMenuWithinBounds:c,hide:s,getContent:f,reposition:l,isOpen:ev.isOpen};return{uid:t.uid,dom:t.dom,behaviours:zv(t.inlineBehaviours,[ev.config({isPartOf:function(t,e,r){return Df(e,r)||n(t,r)},getAttachPoint:function(e){return t.lazySink(e).getOrDie()},onOpen:function(e){t.onShow(e)},onClose:function(e){t.onHide(e)}}),Lv.config({store:{mode:"memory",initialValue:Y.none()}}),ad.config({channels:u(u({},uv(u({isExtraPart:e.isExtraPart},t.fireDismissalEventInstead.map((function(t){return{fireEventInstead:{event:t.event}}})).getOr({})))),cv(u(u({},t.fireRepositionEventInstead.map((function(t){return{fireEventInstead:{event:t.event}}})).getOr({})),{},{doReposition:l})))})]),eventOrder:t.eventOrder,apis:d}},eS=Yh({name:"InlineView",configFields:[Zi("lazySink"),Xf("onShow"),Xf("onHide"),gu("onEscape"),Fv("inlineBehaviours",[ev,Lv,ad]),hu("fireDismissalEventInstead",[yu("event",ja())]),hu("fireRepositionEventInstead",[yu("event",za())]),yu("getRelated",Y.none),yu("isExtraPart",G),yu("eventOrder",Y.none)],factory:tS,apis:{showAt:function(t,e,n,r){t.showAt(e,n,r)},showWithinBounds:function(t,e,n,r,o){t.showWithinBounds(e,n,r,o)},showMenuAt:function(t,e,n,r){t.showMenuAt(e,n,r)},showMenuWithinBounds:function(t,e,n,r,o){t.showMenuWithinBounds(e,n,r,o)},hide:function(t,e){t.hide(e)},isOpen:function(t,e){return t.isOpen(e)},getContent:function(t,e){return t.getContent(e)},setContent:function(t,e,n){t.setContent(e,n)},reposition:function(t,e){t.reposition(e)}}}),nS=tinymce.util.Tools.resolve("tinymce.util.Delay"),rS=function(t){var e=aC(t.action),n=t.dom.tag,r=function(e){return Ut(t.dom,"attributes").bind((function(t){return Ut(t,e)}))},o=function(){if("button"===n){var e=r("type").getOr("button"),o=r("role").map((function(t){return{role:t}})).getOr({});return u({type:e},o)}var i=t.role.getOr(r("role").getOr("button"));return{role:i}};return{uid:t.uid,dom:t.dom,components:t.components,events:e,behaviours:Uv.augment(t.buttonBehaviours,[zw.config({}),gw.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:o()},eventOrder:t.eventOrder}},oS=Yh({name:"Button",factory:rS,configFields:[yu("uid",void 0),Zi("dom"),yu("components",[]),Uv.field("buttonBehaviours",[zw,gw]),fu("action"),fu("role"),yu("eventOrder",{})]}),iS=function(t){var e=qh(t)&&Vt(t,"uid")?t.uid:jc("memento"),n=function(t){return t.getSystem().getByUid(e).getOrDie()},r=function(t){return t.getSystem().getByUid(e).toOptional()},o=function(){return u(u({},t),{},{uid:e})};return{get:n,getOpt:r,asSpec:o}},uS=tinymce.util.Tools.resolve("tinymce.util.I18n"),aS={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},cS="temporary-placeholder",sS=function(t){return function(){return Ut(t,cS).getOr("!not found!")}},fS=function(t,e){var n=t.toLowerCase();if(uS.isRtl()){var r=ne(n,"-rtl");return Ht(e,r)?r:n}return n},lS=function(t,e){return Ut(e,fS(t,e))},dS=function(t,e){var n=e();return lS(t,n).getOrThunk(sS(n))},mS=function(t,e,n){var r=e();return lS(t,r).or(n).getOrThunk(sS(r))},pS=function(t){return!!uS.isRtl()&&Ht(aS,t)},gS=function(){return Nw("add-focusable",[gc((function(t){_f(t.element,"svg").each((function(t){return yn(t,"focusable","false")}))}))])},vS=function(t,e,n,r){var o,i,u=pS(e)?["tox-icon--flip"]:[],a=Ut(n,fS(e,n)).or(r).getOrThunk(sS(n));return{dom:{tag:t.tag,attributes:null!==(o=t.attributes)&&void 0!==o?o:{},classes:t.classes.concat(u),innerHtml:a},behaviours:ed([].concat(c(null!==(i=t.behaviours)&&void 0!==i?i:[]),[gS()]))}},hS=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Y.none();return vS(e,t,n(),r)},bS=function(t,e,n){var r=n(),o=pt(t,(function(t){return Ht(r,fS(t,r))}));return vS(e,o.getOr(cS),r,Y.none())},yS={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},xS=function(t){var e=iS({dom:{tag:"p",innerHtml:t.translationProvider(t.text)},behaviours:ed([Aw.config({})])}),n=function(t){return{dom:{tag:"div",classes:["tox-bar"],styles:{width:"".concat(t,"%")}}}},r=function(t){return{dom:{tag:"div",classes:["tox-text"],innerHtml:"".concat(t,"%")}}},o=iS({dom:{tag:"div",classes:t.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[n(0)]},r(0)],behaviours:ed([Aw.config({})])}),i=function(t,e){t.getSystem().isConnected()&&o.getOpt(t).each((function(t){Aw.set(t,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[n(e)]},r(e)])}))},u=function(t,n){if(t.getSystem().isConnected()){var r=e.get(t);Aw.set(r,[lf(n)])}},a={updateProgress:i,updateText:u},c=vt([t.icon.toArray(),t.level.toArray(),t.level.bind((function(t){return Y.from(yS[t])})).toArray()]),s=iS(oS.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[hS("close",{tag:"div",classes:["tox-icon"],attributes:{"aria-label":t.translationProvider("Close")}},t.iconProvider)],action:function(e){t.onAction(e)}})),f=bS(c,{tag:"div",classes:["tox-notification__icon"]},t.iconProvider),l={dom:{tag:"div",classes:["tox-notification__body"]},components:[e.asSpec()],behaviours:ed([Aw.config({})])},d=[f,l];return{uid:t.uid,dom:{tag:"div",attributes:{role:"alert"},classes:t.level.map((function(t){return["tox-notification","tox-notification--in","tox-notification--".concat(t)]})).getOr(["tox-notification","tox-notification--in"])},behaviours:ed([zw.config({}),Nw("notification-events",[ic(sa(),(function(t){s.getOpt(t).each(zw.focus)}))])]),components:d.concat(t.progress?[o.asSpec()]:[]).concat(t.closeButton?[s.asSpec()]:[]),apis:a}},wS=Yh({name:"Notification",factory:xS,configFields:[fu("level"),Zi("progress"),fu("icon"),Zi("onAction"),Zi("text"),Zi("iconProvider"),Zi("translationProvider"),ku("closeButton",!0)],apis:{updateProgress:function(t,e,n){t.updateProgress(e,n)},updateText:function(t,e,n){t.updateText(e,n)}}}),CS=function(t,e,n){var r=e.backstage.shared,o=function(){var e=yo(ve.fromDom(t.getContentAreaContainer())),n=So(),r=hl(n.x,e.x,e.right),o=hl(n.y,e.y,e.bottom),i=Math.max(e.right,n.right),u=Math.max(e.bottom,n.bottom);return Y.some(bo(r,o,i-r,u-o))},i=function(e,i){var a=function(){i(),eS.hide(s)},c=vf(wS.sketch({text:e.text,level:nt(["success","error","warning","warn","info"],e.type)?e.type:void 0,progress:!0===e.progressBar,icon:e.icon,closeButton:e.closeButton,onAction:a,iconProvider:r.providers.icons,translationProvider:r.providers.translate})),s=vf(eS.sketch(u({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:r.getSink,fireDismissalEventInstead:{}},r.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}})));n.add(s),M(e.timeout)&&e.timeout>0&&nS.setEditorTimeout(t,(function(){a()}),e.timeout);var f=function(){var e=hf(c),n={maxHeightFunction:mm()},i=t.notificationManager.getNotifications();if(i[0]===l){var a=u(u({},r.anchors.banner()),{},{overrides:n});eS.showWithinBounds(s,e,{anchor:a},o)}else et(i,l).each((function(t){var r=i[t-1].getEl(),u={type:"node",root:vn(),node:Y.some(ve.fromDom(r)),overrides:n,layouts:{onRtl:function(){return[Il]},onLtr:function(){return[Il]}}};eS.showWithinBounds(s,e,{anchor:u},o)}))},l={close:a,reposition:f,text:function(t){wS.updateText(c,t)},settings:e,getEl:function(){return c.element.dom},progressBar:{value:function(t){wS.updateProgress(c,t)}}};return l},a=function(t){t.close()},c=function(t){return t.settings};return{open:i,close:a,getArgs:c}},SS=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),kS=tinymce.util.Tools.resolve("tinymce.EditorManager"),_S=tinymce.util.Tools.resolve("tinymce.Env");(function(t){t["default"]="wrap",t["floating"]="floating",t["sliding"]="sliding",t["scrolling"]="scrolling"})($C||($C={})),function(t){t["auto"]="auto",t["top"]="top",t["bottom"]="bottom"}(qC||(qC={}));var ES,OS=function(t){return function(e){return e.options.get(t)}},TS=function(t){return function(e){return Y.from(t(e))}},AS=function(t){var e=_S.deviceType.isPhone(),n=_S.deviceType.isTablet()||e,r=t.options.register,o=function(t){return k(t)||!1===t},i=function(t){return k(t)||M(t)};r("skin",{processor:function(t){return k(t)||!1===t},default:"oxide"}),r("skin_url",{processor:"string"}),r("height",{processor:i,default:Math.max(t.getElement().offsetHeight,400)}),r("width",{processor:i,default:SS.DOM.getStyle(t.getElement(),"width")}),r("min_height",{processor:"number",default:100}),r("min_width",{processor:"number"}),r("max_height",{processor:"number"}),r("max_width",{processor:"number"}),r("style_formats",{processor:"object[]"}),r("style_formats_merge",{processor:"boolean",default:!1}),r("style_formats_autohide",{processor:"boolean",default:!1}),r("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),r("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),r("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),r("font_size_input_default_unit",{processor:"string",default:"pt"}),r("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),r("content_langs",{processor:"object[]"}),r("removed_menuitems",{processor:"string",default:""}),r("menubar",{processor:function(t){return k(t)||A(t)},default:!e}),r("menu",{processor:"object",default:{}}),r("toolbar",{processor:function(t){return A(t)||k(t)||O(t)?{value:t,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."}},default:!0}),ot(9,(function(t){r("toolbar"+(t+1),{processor:"string"})})),r("toolbar_mode",{processor:"string",default:n?"scrolling":"floating"}),r("toolbar_groups",{processor:"object",default:{}}),r("toolbar_location",{processor:"string",default:qC.auto}),r("toolbar_persist",{processor:"boolean",default:!1}),r("toolbar_sticky",{processor:"boolean",default:t.inline}),r("toolbar_sticky_offset",{processor:"number",default:0}),r("fixed_toolbar_container",{processor:"string",default:""}),r("fixed_toolbar_container_target",{processor:"object"}),r("ui_mode",{processor:"string",default:"combined"}),r("file_picker_callback",{processor:"function"}),r("file_picker_validator_handler",{processor:"function"}),r("file_picker_types",{processor:"string"}),r("typeahead_urls",{processor:"boolean",default:!0}),r("anchor_top",{processor:o,default:"#top"}),r("anchor_bottom",{processor:o,default:"#bottom"}),r("draggable_modal",{processor:"boolean",default:!1}),r("statusbar",{processor:"boolean",default:!0}),r("elementpath",{processor:"boolean",default:!0}),r("branding",{processor:"boolean",default:!0}),r("promotion",{processor:"boolean",default:!0}),r("resize",{processor:function(t){return"both"===t||A(t)},default:!_S.deviceType.isTouch()}),r("sidebar_show",{processor:"string"})},RS=OS("readonly"),NS=OS("height"),DS=OS("width"),BS=TS(OS("min_width")),MS=TS(OS("min_height")),IS=TS(OS("max_width")),PS=TS(OS("max_height")),LS=TS(OS("style_formats")),FS=OS("style_formats_merge"),jS=OS("style_formats_autohide"),zS=OS("content_langs"),US=OS("removed_menuitems"),HS=OS("toolbar_mode"),VS=OS("toolbar_groups"),WS=OS("toolbar_location"),$S=OS("fixed_toolbar_container"),qS=OS("fixed_toolbar_container_target"),GS=OS("toolbar_persist"),KS=OS("toolbar_sticky_offset"),YS=OS("menubar"),XS=OS("toolbar"),JS=OS("file_picker_callback"),QS=OS("file_picker_validator_handler"),ZS=OS("font_size_input_default_unit"),tk=OS("file_picker_types"),ek=OS("typeahead_urls"),nk=OS("anchor_top"),rk=OS("anchor_bottom"),ok=OS("draggable_modal"),ik=OS("statusbar"),uk=OS("elementpath"),ak=OS("branding"),ck=OS("resize"),sk=OS("paste_as_text"),fk=OS("sidebar_show"),lk=OS("promotion"),dk=function(t){return!1===t.options.get("skin")},mk=function(t){return!1!==t.options.get("menubar")},pk=function(t){var e=t.options.get("skin_url");if(dk(t))return e;if(e)return t.documentBaseURI.toAbsolute(e);var n=t.options.get("skin");return kS.baseURL+"/skins/ui/"+n},gk=function(t){return t.options.get("line_height_formats").split(" ")},vk=function(t){var e=XS(t),n=k(e),r=O(e)&&e.length>0;return!bk(t)&&(r||n||!0===e)},hk=function(t){var e=ot(9,(function(e){return t.options.get("toolbar"+(e+1))})),n=ft(e,k);return Jt(n.length>0,n)},bk=function(t){return hk(t).fold((function(){var e=XS(t);return I(e,k)&&e.length>0}),K)},yk=function(t){return WS(t)===qC.bottom},xk=function(t){var e;if(!t.inline)return Y.none();var n=null!==(e=$S(t))&&void 0!==e?e:"";if(n.length>0)return Ef(vn(),n);var r=qS(t);return D(r)?Y.some(ve.fromDom(r)):Y.none()},wk=function(t){return t.inline&&xk(t).isSome()},Ck=function(t){var e=xk(t);return e.getOrThunk((function(){return sn(cn(ve.fromDom(t.getElement())))}))},Sk=function(t){return t.inline&&!mk(t)&&!vk(t)&&!bk(t)},kk=function(t){var e=t.options.get("toolbar_sticky");return(e||t.inline)&&!wk(t)&&!Sk(t)},_k=function(t){return!wk(t)&&"split"===t.options.get("ui_mode")},Ek=function(t){var e=t.options.get("menu");return Dt(e,(function(t){return u(u({},t),{},{items:t.items})}))},Ok=Object.freeze({__proto__:null,get ToolbarMode(){return $C},get ToolbarLocation(){return qC},register:AS,getSkinUrl:pk,isReadOnly:RS,isSkinDisabled:dk,getHeightOption:NS,getWidthOption:DS,getMinWidthOption:BS,getMinHeightOption:MS,getMaxWidthOption:IS,getMaxHeightOption:PS,getUserStyleFormats:LS,shouldMergeStyleFormats:FS,shouldAutoHideStyleFormats:jS,getLineHeightFormats:gk,getContentLanguages:zS,getRemovedMenuItems:US,isMenubarEnabled:mk,isMultipleToolbars:bk,isToolbarEnabled:vk,isToolbarPersist:GS,getMultipleToolbarsOption:hk,getUiContainer:Ck,useFixedContainer:wk,isSplitUiMode:_k,getToolbarMode:HS,isDraggableModal:ok,isDistractionFree:Sk,isStickyToolbar:kk,getStickyToolbarOffset:KS,getToolbarLocation:WS,isToolbarLocationBottom:yk,getToolbarGroups:VS,getMenus:Ek,getMenubar:YS,getToolbar:XS,getFilePickerCallback:JS,getFilePickerTypes:tk,useTypeaheadUrls:ek,getAnchorTop:nk,getAnchorBottom:rk,getFilePickerValidatorHandler:QS,getFontSizeInputDefaultUnit:ZS,useStatusBar:ik,useElementPath:uk,promotionEnabled:lk,useBranding:ak,getResize:ck,getPasteAsText:sk,getSidebarShow:fk}),Tk="[data-mce-autocompleter]",Ak=function(t){return Of(t,Tk)},Rk=function(t){return Ef(t,Tk)},Nk=function(t,e){var n=function(t,e){Ya(t,la(),{raw:e})},r=function(){return t.getMenu().bind(zb.getHighlighted)};e.on("keydown",(function(e){var o=e.which;t.isActive()&&(t.isMenuOpen()?13===o?(r().each(Xa),e.preventDefault()):40===o?(r().fold((function(){t.getMenu().each(zb.highlightFirst)}),(function(t){n(t,e)})),e.preventDefault(),e.stopImmediatePropagation()):37!==o&&38!==o&&39!==o||r().each((function(t){n(t,e),e.preventDefault(),e.stopImmediatePropagation()})):13!==o&&38!==o&&40!==o||t.cancelIfNecessary())})),e.on("NodeChange",(function(e){t.isActive()&&!t.isProcessingAction()&&Ak(ve.fromDom(e.element)).isNone()&&t.cancelIfNecessary()}))},Dk={setup:Nk};(function(t){t[t["CLOSE_ON_EXECUTE"]=0]="CLOSE_ON_EXECUTE",t[t["BUBBLE_TO_SANDBOX"]=1]="BUBBLE_TO_SANDBOX"})(ES||(ES={}));var Bk,Mk=ES,Ik="tox-menu-nav__js",Pk="tox-collection__item",Lk="tox-swatch",Fk={normal:Ik,color:Lk},jk="tox-collection__item--enabled",zk="tox-collection__group-heading",Uk="tox-collection__item-icon",Hk="tox-collection__item-label",Vk="tox-collection__item-accessory",Wk="tox-collection__item-caret",$k="tox-collection__item-checkmark",qk="tox-collection__item--active",Gk="tox-collection__item-container",Kk="tox-collection__item-container--column",Yk="tox-collection__item-container--row",Xk="tox-collection__item-container--align-right",Jk="tox-collection__item-container--align-left",Qk="tox-collection__item-container--valign-top",Zk="tox-collection__item-container--valign-middle",t_="tox-collection__item-container--valign-bottom",e_=function(t){return Ut(Fk,t).getOr(Ik)},n_=function(t){return"color"===t?"tox-swatches":"tox-menu"},r_=function(t){return{backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:n_(t),tieredMenu:"tox-tiered-menu"}},o_=function(t){var e=r_(t);return{backgroundMenu:e.backgroundMenu,selectedMenu:e.selectedMenu,menu:e.menu,selectedItem:e.selectedItem,item:e_(t)}},i_=function(t,e,n){var r=r_(n);return{tag:"div",classes:vt([[r.menu,"tox-menu-".concat(e,"-column")],t?[r.hasIcons]:[]])}},u_=[PC.parts.items({})],a_=function(t,e,n){var r=r_(n),o={tag:"div",classes:vt([[r.tieredMenu]])};return{dom:o,markers:o_(n)}},c_=z([fu("data"),yu("inputAttributes",{}),yu("inputStyles",{}),yu("tag","input"),yu("inputClasses",[]),Xf("onSetValue"),yu("styles",{}),yu("eventOrder",{}),Fv("inputBehaviours",[Lv,zw]),yu("selectOnFocus",!0)]),s_=function(t){return ed([zw.config({onFocus:t.selectOnFocus?function(t){var e=t.element,n=Hs(e);e.dom.setSelectionRange(0,n.length)}:P})])},f_=function(t){return u(u({},s_(t)),zv(t.inputBehaviours,[Lv.config({store:u(u({mode:"manual"},t.data.map((function(t){return{initialValue:t}})).getOr({})),{},{getValue:function(t){return Hs(t.element)},setValue:function(t,e){var n=Hs(t.element);n!==e&&Vs(t.element,e)}}),onSetValue:t.onSetValue})]))},l_=function(t){return{tag:t.tag,attributes:u({type:"text"},t.inputAttributes),styles:t.inputStyles,classes:t.inputClasses}},d_=function(t,e){return{uid:t.uid,dom:l_(t),components:[],behaviours:f_(t),eventOrder:t.eventOrder}},m_=Yh({name:"Input",configFields:c_(),factory:d_}),p_=Nc("refetch-trigger-event"),g_=Nc("redirect-menu-item-interaction"),v_="tox-menu__searcher",h_=function(t){return Ef(t.element,".".concat(v_)).bind((function(e){return t.getSystem().getByDom(e).toOptional()}))},b_=h_,y_=function(t,e){Lv.setValue(t,e.fetchPattern),t.element.dom.selectionStart=e.selectionStart,t.element.dom.selectionEnd=e.selectionEnd},x_=function(t){var e=Lv.getValue(t),n=t.element.dom.selectionStart,r=t.element.dom.selectionEnd;return{fetchPattern:e,selectionStart:n,selectionEnd:r}},w_=function(t,e){Cn(e.element,"id").each((function(e){return yn(t.element,"aria-activedescendant",e)}))},C_=function(t){var e=function(t,e){return e.cut(),Y.none()},n=function(t,e){var n={interactionEvent:e.event,eventType:e.event.raw.type};return Ya(t,g_,n),Y.some(!0)},r="searcher-events";return{dom:{tag:"div",classes:[Pk]},components:[m_.sketch({inputClasses:[v_,"tox-textfield"],inputAttributes:u(u({},t.placeholder.map((function(e){return{placeholder:t.i18n(e)}})).getOr({})),{},{type:"search","aria-autocomplete":"list"}),inputBehaviours:ed([Nw(r,[ic(ma(),(function(t){Ka(t,p_)})),ic(la(),(function(t,e){"Escape"===e.event.raw.key&&e.stop()}))]),gw.config({mode:"special",onLeft:e,onRight:e,onSpace:e,onEnter:n,onEscape:n,onUp:n,onDown:n})]),eventOrder:{keydown:[r,gw.name()]}})]}},S_="tox-collection--results__js",k_=function(t){var e;return t.dom?u(u({},t),{},{dom:u(u({},t.dom),{},{attributes:u(u({},null!==(e=t.dom.attributes)&&void 0!==e?e:{}),{},{id:Nc("aria-item-search-result-id"),"aria-selected":"false"})})}):t},__=function(t,e){return function(n){var r=it(n,e);return ut(r,(function(e){return{dom:t,components:e}}))}},E_=function(t){return{dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[PC.parts.items({preprocess:"auto"!==t?__({tag:"div",classes:["tox-swatches__row"]},t):U})]}]}},O_=function(t){return{dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[PC.parts.items({preprocess:__({tag:"div",classes:["tox-collection__group"]},t)})]}},T_=function(t,e){var n=[],r=[];return at(t,(function(t,o){e(t,o)?(r.length>0&&n.push(r),r=[],(Ht(t.dom,"innerHtml")||t.components&&t.components.length>0)&&r.push(t)):r.push(t)})),r.length>0&&n.push(r),ut(n,(function(t){return{dom:{tag:"div",classes:["tox-collection__group"]},components:t}}))},A_=function(t,e,n){return PC.parts.items({preprocess:function(r){var o=ut(r,n);return"auto"!==t&&t>1?__({tag:"div",classes:["tox-collection__group"]},t)(o):T_(o,(function(t,n){return"separator"===e[n].type}))}})},R_=function(t,e){return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(1===t?["tox-collection--list"]:["tox-collection--grid"])},components:[A_(t,e,U)]}},N_=function(t,e){var n=Nc("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",S_].concat(1===t?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:n}},components:[A_(t,e,k_)]}},D_=function(t,e,n){var r=Nc("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(1===t?["tox-collection--list"]:["tox-collection--grid"])},components:[C_({i18n:uS.translate,placeholder:n.placeholder}),{dom:{tag:"div",classes:[].concat(c(1===t?["tox-collection--list"]:["tox-collection--grid"]),[S_]),attributes:{id:r}},components:[A_(t,e,k_)]}]}},B_=function(t){return{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[PC.parts.items({preprocess:function(e){return T_(e,(function(e,n){return"separator"===t[n].type}))}})]}},M_=function(t){return rt(t,(function(t){return"icon"in t&&void 0!==t.icon}))},I_=function(t){return console.error(Gi(t)),console.log(t),Y.none()},P_=function(t,e,n,r,o){var i=B_(n);return{value:t,dom:i.dom,components:i.components,items:n}},L_=function(t,e,n,r,o){var i=function(){return"searchable"!==o.menuType?R_(r,n):"search-with-field"===o.searchMode.searchMode?D_(r,n,o.searchMode):N_(r,n)};if("color"===o.menuType){var u=E_(r);return{value:t,dom:u.dom,components:u.components,items:n}}if("normal"===o.menuType&&"auto"===r){var a=R_(r,n);return{value:t,dom:a.dom,components:a.components,items:n}}if("normal"===o.menuType||"searchable"===o.menuType){var c=i();return{value:t,dom:c.dom,components:c.components,items:n}}if("listpreview"===o.menuType&&"auto"!==r){var s=O_(r);return{value:t,dom:s.dom,components:s.components,items:n}}return{value:t,dom:i_(e,r,o.menuType),components:u_,items:n}},F_=nu("type"),j_=nu("name"),z_=nu("label"),U_=nu("text"),H_=nu("title"),V_=nu("icon"),W_=nu("value"),$_=iu("fetch"),q_=iu("getSubmenuItems"),G_=iu("onAction"),K_=iu("onItemAction"),Y_=_u("onSetup",(function(){return P})),X_=mu("name"),J_=mu("text"),Q_=mu("icon"),Z_=mu("tooltip"),tE=mu("label"),eE=mu("shortcut"),nE=gu("select"),rE=ku("active",!1),oE=ku("borderless",!1),iE=ku("enabled",!0),uE=ku("primary",!1),aE=function(t){return yu("columns",t)},cE=yu("meta",{}),sE=_u("onAction",P),fE=function(t){return Cu("type",t)},lE=function(t){return Xi("name","name",Yo((function(){return Nc("".concat(t,"-name"))})),Bi)},dE=function(t){return Xi("value","value",Yo((function(){return Nc("".concat(t,"-value"))})),Ri())},mE=ki([F_,J_]),pE=function(t){return Wi("separatormenuitem",mE,t)},gE=ki([fE("autocompleteitem"),rE,iE,cE,W_,J_,Q_]),vE=function(t){return Wi("Autocompleter.Separator",mE,t)},hE=function(t){return Wi("Autocompleter.Item",gE,t)},bE=[iE,Z_,Q_,J_,Y_],yE=ki([F_,G_].concat(bE)),xE=function(t){return Wi("toolbarbutton",yE,t)},wE=[rE].concat(bE),CE=ki(wE.concat([F_,G_])),SE=function(t){return Wi("ToggleButton",CE,t)},kE=[_u("predicate",G),Su("scope","node",["node","editor"]),Su("position","selection",["node","selection","line"])],_E=bE.concat([fE("contextformbutton"),uE,G_,Ji("original",U)]),EE=wE.concat([fE("contextformbutton"),uE,G_,Ji("original",U)]),OE=bE.concat([fE("contextformbutton")]),TE=wE.concat([fE("contextformtogglebutton")]),AE=Ki("type",{contextformbutton:_E,contextformtogglebutton:EE}),RE=ki([fE("contextform"),_u("initValue",z("")),tE,su("commands",AE),lu("launch",Ki("type",{contextformbutton:OE,contextformtogglebutton:TE}))].concat(kE)),NE=function(t){return Wi("ContextForm",RE,t)},DE=ki([fE("contexttoolbar"),nu("items")].concat(kE)),BE=function(t){return Wi("ContextToolbar",DE,t)},ME=[F_,nu("src"),mu("alt"),Ou("classes",[],Bi)],IE=ki(ME),PE=[F_,U_,X_,Ou("classes",["tox-collection__item-label"],Bi)],LE=ki(PE),FE=wi((function(){return ji("type",{cardimage:IE,cardtext:LE,cardcontainer:jE})})),jE=ki([F_,Cu("direction","horizontal"),Cu("align","left"),Cu("valign","middle"),su("items",FE)]),zE=[iE,J_,eE,dE("menuitem"),cE],UE=ki([F_,tE,su("items",FE),Y_,sE].concat(zE)),HE=function(t){return Wi("cardmenuitem",UE,t)},VE=ki([F_,rE,Q_].concat(zE)),WE=function(t){return Wi("choicemenuitem",VE,t)},$E=[F_,nu("fancytype"),sE],qE=[yu("initData",{})].concat($E),GE=[gu("select"),Tu("initData",{},[ku("allowCustomColors",!0),Cu("storageKey","default"),vu("colors",Ri())])].concat($E),KE=Ki("fancytype",{inserttable:qE,colorswatch:GE}),YE=function(t){return Wi("fancymenuitem",KE,t)},XE=ki([F_,Y_,sE,Q_].concat(zE)),JE=function(t){return Wi("menuitem",XE,t)},QE=ki([F_,q_,Y_,Q_].concat(zE)),ZE=function(t){return Wi("nestedmenuitem",QE,t)},tO=ki([F_,Q_,rE,Y_,G_].concat(zE)),eO=function(t){return Wi("togglemenuitem",tO,t)},nO=function(t,e,n){var r=Ep(t.element,"."+n);if(r.length>0){var o=gt(r,(function(t){var n=t.dom.getBoundingClientRect().top,o=r[0].dom.getBoundingClientRect().top;return Math.abs(n-o)>e})).getOr(r.length);return Y.some({numColumns:o,numRows:Math.ceil(r.length/o)})}return Y.none()},rO=function(t,e){return ed([Nw(t,e)])},oO=function(t){return rO(Nc("unnamed-events"),t)},iO={namedEvents:rO,unnamedEvents:oO},uO=Nc("tooltip.exclusive"),aO=Nc("tooltip.show"),cO=Nc("tooltip.hide"),sO=function(t,e,n){t.getSystem().broadcastOn([uO],{})},fO=function(t,e,n,r){n.getTooltip().each((function(t){t.getSystem().isConnected()&&Aw.set(t,r)}))},lO=Object.freeze({__proto__:null,hideAllExclusive:sO,setComponents:fO}),dO=function(t,e){var n=function(n){e.getTooltip().each((function(r){Rg(r),t.onHide(n,r),e.clearTooltip()})),e.clearTimer()},r=function(n){if(!e.isShowing()){sO(n);var r=t.lazySink(n).getOrDie(),o=n.getSystem().build({dom:t.tooltipDom,components:t.tooltipComponents,events:ec("normal"===t.mode?[ic(ca(),(function(t){Ka(n,aO)})),ic(ua(),(function(t){Ka(n,cO)}))]:[]),behaviours:ed([Aw.config({})])});e.setTooltip(o),Og(r,o),t.onShow(n,o),hg.position(r,o,{anchor:t.anchor(n)})}};return ec(vt([[ic(aO,(function(n){e.resetTimer((function(){r(n)}),t.delay)})),ic(cO,(function(r){e.resetTimer((function(){n(r)}),t.delay)})),ic(_a(),(function(t,e){var r=e;r.universal||nt(r.channels,uO)&&n(t)})),vc((function(t){n(t)}))],"normal"===t.mode?[ic(sa(),(function(t){Ka(t,aO)})),ic(Sa(),(function(t){Ka(t,cO)})),ic(ca(),(function(t){Ka(t,aO)})),ic(ua(),(function(t){Ka(t,cO)}))]:[ic(qa(),(function(t,e){Ka(t,aO)})),ic(Ga(),(function(t){Ka(t,cO)}))]]))},mO=Object.freeze({__proto__:null,events:dO}),pO=[Zi("lazySink"),Zi("tooltipDom"),yu("exclusive",!0),yu("tooltipComponents",[]),yu("delay",300),Su("mode","normal",["normal","follow-highlight"]),yu("anchor",(function(t){return{type:"hotspot",hotspot:t,layouts:{onLtr:z([Il,Ml,Rl,Dl,Nl,Bl]),onRtl:z([Il,Ml,Rl,Dl,Nl,Bl])}}})),Xf("onHide"),Xf("onShow")],gO=function(){var t=Wd(),e=Wd(),n=function(){t.on(clearTimeout)},r=function(e,r){n(),t.set(setTimeout(e,r))},o=z("not-implemented");return Zc({getTooltip:e.get,isShowing:e.isSet,setTooltip:e.set,clearTooltip:e.clear,clearTimer:n,resetTimer:r,readState:o})},vO=Object.freeze({__proto__:null,init:gO}),hO=rd({fields:pO,name:"tooltipping",active:mO,state:vO,apis:lO}),bO=function(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},yO="silver.readonly",xO=ki([ou("readonly")]),wO=function(t,e){var n=t.mainUi.outerContainer,r=n.element,o=[t.mainUi.mothership].concat(c(t.uiMotherships));e&&at(o,(function(t){t.broadcastOn([nv()],{target:r})})),at(o,(function(t){t.broadcastOn([yO],{readonly:e})}))},CO=function(t,e){t.on("init",(function(){t.mode.isReadOnly()&&wO(e,!0)})),t.on("SwitchMode",(function(){return wO(e,t.mode.isReadOnly())})),RS(t)&&t.mode.set("readonly")},SO=function(){return ad.config({channels:a({},yO,{schema:xO,onReceive:function(t,e){xb.set(t,e.readonly)}})})},kO=function(t){return xb.config({disabled:t,disableClass:"tox-collection__item--state-disabled"})},_O=function(t){return xb.config({disabled:t})},EO=function(t){return xb.config({disabled:t,disableClass:"tox-tbtn--disabled"})},OO=function(t){return xb.config({disabled:t,disableClass:"tox-tbtn--disabled",useNative:!1})},TO={item:kO,button:_O,splitButton:EO,toolbarButton:OO},AO=function(t,e){var n=t.getApi(e);return function(t){t(n)}},RO=function(t,e){return gc((function(n){var r=AO(t,n);r((function(n){var r=t.onSetup(n);B(r)&&e.set(r)}))}))},NO=function(t,e){return vc((function(n){return AO(t,n)(e.get())}))},DO=function(t,e){return bc((function(n,r){AO(t,n)(t.onAction),t.triggersSubmenu||e!==Mk.CLOSE_ON_EXECUTE||(n.getSystem().isConnected()&&Ka(n,Ra()),r.stop())}))},BO=a({},Ea(),["disabling","alloy.base.behaviour","toggling","item-events"]),MO=qt,IO=function(t,e,n,r){var o=Au(P);return{type:"item",dom:e.dom,components:MO(e.optComponents),data:t.data,eventOrder:BO,hasSubmenu:t.triggersSubmenu,itemBehaviours:ed([Nw("item-events",[DO(t,n),RO(t,o),NO(t,o)]),TO.item((function(){return!t.enabled||r.isDisabled()})),SO(),Aw.config({})].concat(t.itemBehaviours))}},PO=function(t){return{value:t.value,meta:u({text:t.text.getOr("")},t.meta)}},LO=function(t){var e=_S.os.isMacOS()||_S.os.isiOS(),n={alt:"â¥",ctrl:"â",shift:"â§",meta:"â",access:"ââ¥"},r={meta:"Ctrl",access:"Shift+Alt"},o=e?n:r,i=t.split("+"),u=ut(i,(function(t){var e=t.toLowerCase().trim();return Ht(o,e)?o[e]:t}));return e?u.join(""):u.join("+")},FO=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[Uk];return hS(t,{tag:"div",classes:n},e)},jO=function(t){return{dom:{tag:"div",classes:[Hk]},components:[lf(uS.translate(t))]}},zO=function(t,e){return{dom:{tag:"div",classes:e,innerHtml:t}}},UO=function(t,e){return{dom:{tag:"div",classes:[Hk]},components:[{dom:{tag:t.tag,styles:t.styles},components:[lf(uS.translate(e))]}]}},HO=function(t){return{dom:{tag:"div",classes:[Vk]},components:[lf(LO(t))]}},VO=function(t){return FO("checkmark",t,[$k])},WO=function(t){return FO("chevron-right",t,[Wk])},$O=function(t){return FO("chevron-down",t,[Wk])},qO=function(t,e){var n="vertical"===t.direction?Kk:Yk,r="left"===t.align?Jk:Xk,o=function(){switch(t.valign){case"top":return Qk;case"middle":return Zk;case"bottom":return t_}};return{dom:{tag:"div",classes:[Gk,n,r,o()]},components:e}},GO=function(t,e,n){return{dom:{tag:"img",classes:e,attributes:{src:t,alt:n.getOr("")}}}},KO=function(t,e,n){var r="custom",o="remove",i=t.ariaLabel,a=t.value,s=t.iconContent.map((function(t){return mS(t,e.icons,n)})),f=function(){var t=Lk,n=s.getOr(""),f=i.map((function(t){return{title:e.translate(t)}})).getOr({}),l={tag:"div",attributes:f,classes:[t]};return a===r?u(u({},l),{},{tag:"button",classes:[].concat(c(l.classes),["tox-swatches__picker-btn"]),innerHtml:n}):a===o?u(u({},l),{},{classes:[].concat(c(l.classes),["tox-swatch--remove"]),innerHtml:n}):D(a)?u(u({},l),{},{attributes:u(u({},l.attributes),{},{"data-mce-color":a}),styles:{"background-color":a},innerHtml:n}):l};return{dom:f(),optComponents:[]}},YO=function(t){var e=t.map((function(t){return{attributes:{title:uS.translate(t)}}})).getOr({});return u({tag:"div",classes:[Ik,Pk]},e)},XO=function(t,e,n,r){var o={tag:"div",classes:[Uk]},i=function(t){return hS(t,o,e.icons,r)},u=function(){return Y.some({dom:o})},a=n?t.iconContent.map(i).orThunk(u):Y.none(),c=t.checkMark,s=Y.from(t.meta).fold((function(){return jO}),(function(t){return Ht(t,"style")?V(UO,t.style):jO})),f=t.htmlContent.fold((function(){return t.textContent.map(s)}),(function(t){return Y.some(zO(t,[Hk]))})),l={dom:YO(t.ariaLabel),optComponents:[a,f,t.shortcutContent.map(HO),c,t.caret]};return l},JO=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Y.none();return"color"===t.presets?KO(t,e,r):XO(t,e,n,r)},QO=function(t,e){return Ut(t,"tooltipWorker").map((function(t){return[hO.config({lazySink:e.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:function(t){return{type:"submenu",item:t,overrides:{maxHeightFunction:mm}}},mode:"follow-highlight",onShow:function(e,n){t((function(t){hO.setComponents(e,[df({element:ve.fromDom(t)})])}))}})]})).getOr([])},ZO=function(t){return SS.DOM.encode(t)},tT=function(t,e){var n=uS.translate(t),r=ZO(n);if(e.length>0){var o=new RegExp(bO(e),"gi");return r.replace(o,(function(t){return'<span class="tox-autocompleter-highlight">'.concat(t,"</span>")}))}return r},eT=function(t,e,n,r,o,i,u){var a=!(arguments.length>7&&void 0!==arguments[7])||arguments[7],c=JO({presets:r,textContent:Y.none(),htmlContent:n?t.text.map((function(t){return tT(t,e)})):Y.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:Y.none(),checkMark:Y.none(),caret:Y.none(),value:t.value},u.providers,a,t.icon);return IO({data:PO(t),enabled:t.enabled,getApi:z({}),onAction:function(e){return o(t.value,t.meta)},onSetup:z(P),triggersSubmenu:!1,itemBehaviours:QO(t.meta,u)},c,i,u.providers)},nT=function t(e,n){return ut(e,(function(e){switch(e.type){case"cardcontainer":return qO(e,t(e.items,n));case"cardimage":return GO(e.src,e.classes,e.alt);case"cardtext":var r=e.name.exists((function(t){return nt(n.cardText.highlightOn,t)})),o=r?Y.from(n.cardText.matchText).getOr(""):"";return zO(tT(e.text,o),e.classes)}}))},rT=function(t,e,n,r){var o=function(t){return{isEnabled:function(){return!xb.isDisabled(t)},setEnabled:function(e){xb.set(t,!e),at(Ep(t.element,"*"),(function(n){t.getSystem().getByDom(n).each((function(t){t.hasConfigured(xb)&&xb.set(t,!e)}))}))}}},i={dom:YO(t.label),optComponents:[Y.some({dom:{tag:"div",classes:[Gk,Yk]},components:nT(t.items,r)})]};return IO({data:PO(u({text:Y.none()},t)),enabled:t.enabled,getApi:o,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:Y.from(r.itemBehaviours).getOr([])},i,e,n.providers)},oT=function(t,e,n,r,o,i,u){var a=!(arguments.length>7&&void 0!==arguments[7])||arguments[7],c=function(t){return{setActive:function(e){iC.set(t,e)},isActive:function(){return iC.isOn(t)},isEnabled:function(){return!xb.isDisabled(t)},setEnabled:function(e){return xb.set(t,!e)}}},s=JO({presets:n,textContent:e?t.text:Y.none(),htmlContent:Y.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:e?t.shortcut:Y.none(),checkMark:e?Y.some(VO(u.icons)):Y.none(),caret:Y.none(),value:t.value},u,a);return qo(IO({data:PO(t),enabled:t.enabled,getApi:c,onAction:function(e){return r(t.value)},onSetup:function(t){return t.setActive(o),P},triggersSubmenu:!1,itemBehaviours:[]},s,i,u),{toggling:{toggleClass:jk,toggleOnExecute:!1,selected:t.active,exclusive:!0}})},iT=kh(SC(),kC()),uT=function(t){return{value:fT(t)}},aT=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,cT=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,sT=function(t){return aT.test(t)||cT.test(t)},fT=function(t){return ee(t,"#").toUpperCase()},lT=function(t){return sT(t)?Y.some({value:fT(t)}):Y.none()},dT=function(t){var e=t.value.replace(aT,(function(t,e,n,r){return e+e+n+n+r+r}));return{value:e}},mT=function(t){var e=dT(t),n=cT.exec(e.value);return null===n?["FFFFFF","FF","FF","FF"]:n},pT=function(t){var e=t.toString(16);return(1===e.length?"0"+e:e).toUpperCase()},gT=function(t){var e=pT(t.red)+pT(t.green)+pT(t.blue);return uT(e)},vT=Math.min,hT=Math.max,bT=Math.round,yT=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,xT=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,wT=function(t,e,n,r){return{red:t,green:e,blue:n,alpha:r}},CT=function(t){var e=parseInt(t,10);return e.toString()===t&&e>=0&&e<=255},ST=function(t){var e,n,r,o=(t.hue||0)%360,i=t.saturation/100,u=t.value/100;if(i=hT(0,vT(i,1)),u=hT(0,vT(u,1)),0===i)return e=n=r=bT(255*u),wT(e,n,r,1);var a=o/60,c=u*i,s=c*(1-Math.abs(a%2-1)),f=u-c;switch(Math.floor(a)){case 0:e=c,n=s,r=0;break;case 1:e=s,n=c,r=0;break;case 2:e=0,n=c,r=s;break;case 3:e=0,n=s,r=c;break;case 4:e=s,n=0,r=c;break;case 5:e=c,n=0,r=s;break;default:e=n=r=0}return e=bT(255*(e+f)),n=bT(255*(n+f)),r=bT(255*(r+f)),wT(e,n,r,1)},kT=function(t){var e=mT(t),n=parseInt(e[1],16),r=parseInt(e[2],16),o=parseInt(e[3],16);return wT(n,r,o,1)},_T=function(t,e,n,r){var o=parseInt(t,10),i=parseInt(e,10),u=parseInt(n,10),a=parseFloat(r);return wT(o,i,u,a)},ET=function(t){if("transparent"===t)return Y.some(wT(0,0,0,0));var e=yT.exec(t);if(null!==e)return Y.some(_T(e[1],e[2],e[3],"1"));var n=xT.exec(t);return null!==n?Y.some(_T(n[1],n[2],n[3],n[4])):Y.none()},OT=function(t){return"rgba(".concat(t.red,",").concat(t.green,",").concat(t.blue,",").concat(t.alpha,")")},TT=wT(255,0,0,1),AT=function(t){t.dispatch("SkinLoaded")},RT=function(t,e){t.dispatch("SkinLoadError",e)},NT=function(t){t.dispatch("ResizeEditor")},DT=function(t,e){t.dispatch("ResizeContent",e)},BT=function(t,e){t.dispatch("ScrollContent",e)},MT=function(t,e){t.dispatch("TextColorChange",e)},IT=function(t,e){t.dispatch("AfterProgressState",{state:e})},PT=function(t,e){return t.dispatch("ResolveName",{name:e.nodeName.toLowerCase(),target:e})},LT=function(t,e){t.dispatch("ToggleToolbarDrawer",{state:e})},FT=tinymce.util.Tools.resolve("tinymce.util.LocalStorage"),jT={},zT=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=FT.getItem(t),r=k(n)?JSON.parse(n):[],o=function(t){var n=e-t.length;return n<0?t.slice(0,e):t},i=o(r),u=function(n){et(i,n).each(a),i.unshift(n),i.length>e&&i.pop(),FT.setItem(t,JSON.stringify(i))},a=function(t){i.splice(t,1)},c=function(){return i.slice(0)};return{add:u,state:c}},UT=function(t){return Ut(jT,t).getOrThunk((function(){var e="tinymce-custom-colors-".concat(t),n=FT.getItem(e);if(N(n)){var r=FT.getItem("tinymce-custom-colors");FT.setItem(e,D(r)?r:"[]")}var o=zT(e,10);return jT[t]=o,o}))},HT=function(t){return ut(UT(t).state(),(function(t){return{type:"choiceitem",text:t,icon:"checkmark",value:t}}))},VT=function(t,e){UT(t).add(e)},WT=function(t,e,n){return{hue:t,saturation:e,value:n}},$T=function(t){var e=0,n=0,r=0,o=t.red/255,i=t.green/255,u=t.blue/255,a=Math.min(o,Math.min(i,u)),c=Math.max(o,Math.max(i,u));if(a===c)return r=a,WT(0,0,100*r);var s=o===a?i-u:u===a?o-i:u-o;return e=o===a?3:u===a?1:5,e=60*(e-s/(c-a)),n=(c-a)/c,r=c,WT(Math.round(e),Math.round(100*n),Math.round(100*r))},qT=function(t){return $T(kT(t))},GT=function(t){return gT(ST(t))},KT=function(t){return lT(t).orThunk((function(){return ET(t).map(gT)})).getOrThunk((function(){var e=document.createElement("canvas");e.height=1,e.width=1;var n=e.getContext("2d");n.clearRect(0,0,e.width,e.height),n.fillStyle="#FFFFFF",n.fillStyle=t,n.fillRect(0,0,1,1);var r=n.getImageData(0,0,1,1).data,o=r[0],i=r[1],u=r[2],a=r[3];return gT(wT(o,i,u,a))}))},YT="forecolor",XT="hilitecolor",JT=5,QT=function(t){return Math.max(JT,Math.ceil(Math.sqrt(t)))},ZT=function(t,e){var n=QT(e),r=eA("color_cols")(t);return JT===n?r:n},tA=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push({text:t[n+1],value:"#"+KT(t[n]).value,icon:"checkmark",type:"choiceitem"});return e},eA=function(t){return function(e){return e.options.get(t)}},nA="#000000",rA=function(t){var e=t.options.register,n=function(t){return I(t,k)?{value:tA(t),valid:!0}:{valid:!1,message:"Must be an array of strings."}};e("color_map",{processor:n,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),e("color_map_background",{processor:n}),e("color_map_foreground",{processor:n}),e("color_cols",{processor:"number",default:QT(aA(t,"default").length)}),e("color_cols_foreground",{processor:"number",default:ZT(t,aA(t,YT).length)}),e("color_cols_background",{processor:"number",default:ZT(t,aA(t,XT).length)}),e("custom_colors",{processor:"boolean",default:!0}),e("color_default_foreground",{processor:"string",default:nA}),e("color_default_background",{processor:"string",default:nA})},oA=function(t,e){return e===YT?eA("color_cols_foreground")(t):e===XT?eA("color_cols_background")(t):eA("color_cols")(t)},iA=function(t,e){var n=oA(t,e);return n>0?n:JT},uA=eA("custom_colors"),aA=function(t,e){return e===YT&&t.options.isSet("color_map_foreground")?eA("color_map_foreground")(t):e===XT&&t.options.isSet("color_map_background")?eA("color_map_background")(t):eA("color_map")(t)},cA=eA("color_default_foreground"),sA=eA("color_default_background"),fA="rgba(0, 0, 0, 0)",lA=function(t){return ET(t).exists((function(t){return 0!==t.alpha}))},dA=function(t){return $u(t,(function(t){if(Be(t)){var e=Nn(t,"background-color");return Jt(lA(e),e)}return Y.none()})).getOr(fA)},mA=function(t,e){var n=ve.fromDom(t.selection.getStart()),r="hilitecolor"===e?dA(n):Nn(n,"color");return ET(r).map((function(t){return"#"+gT(t).value}))},pA=function(t,e,n){t.undoManager.transact((function(){t.focus(),t.formatter.apply(e,{value:n}),t.nodeChanged()}))},gA=function(t,e){t.undoManager.transact((function(){t.focus(),t.formatter.remove(e,{value:null},void 0,!0),t.nodeChanged()}))},vA=function(t){t.addCommand("mceApplyTextcolor",(function(e,n){pA(t,e,n)})),t.addCommand("mceRemoveTextcolor",(function(e){gA(t,e)}))},hA=function(t){var e="choiceitem",n={type:e,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"},r={type:e,text:"Custom color",icon:"color-picker",value:"custom"};return t?[n,r]:[n]},bA=function(t,e,n,r){if("custom"===n){var o=_A(t);o((function(n){n.each((function(n){VT(e,n),t.execCommand("mceApplyTextcolor",e,n),r(n)}))}),mA(t,e).getOr(nA))}else"remove"===n?(r(""),t.execCommand("mceRemoveTextcolor",e)):(r(n),t.execCommand("mceApplyTextcolor",e,n))},yA=function(t,e,n){return t.concat(HT(e).concat(hA(n)))},xA=function(t,e,n){return function(r){r(yA(t,e,n))}},wA=function(t,e,n){var r="forecolor"===e?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";t.setIconFill(r,n)},CA=function(t,e){return function(n){var r=mA(t,e);return Wt(r,n.toUpperCase())}},SA=function(t,e,n,r,o){t.ui.registry.addSplitButton(e,{tooltip:r,presets:"color",icon:"forecolor"===e?"text-color":"highlight-bg-color",select:CA(t,n),columns:iA(t,n),fetch:xA(aA(t,n),n,uA(t)),onAction:function(e){bA(t,n,o.get(),P)},onItemAction:function(r,i){bA(t,n,i,(function(n){o.set(n),MT(t,{name:e,color:n})}))},onSetup:function(n){wA(n,e,o.get());var r=function(t){t.name===e&&wA(n,t.name,t.color)};return t.on("TextColorChange",r),function(){t.off("TextColorChange",r)}}})},kA=function(t,e,n,r,o){t.ui.registry.addNestedMenuItem(e,{text:r,icon:"forecolor"===e?"text-color":"highlight-bg-color",onSetup:function(t){return wA(t,e,o.get()),P},getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"colorswatch",select:CA(t,n),initData:{storageKey:n},onAction:function(r){bA(t,n,r.value,(function(n){o.set(n),MT(t,{name:e,color:n})}))}}]}})},_A=function(t){return function(e,n){var r=!1,o=function(n){var o=n.getData(),i=o.colorpicker;r?(e(Y.from(i)),n.close()):t.windowManager.alert(t.translate(["Invalid hex color code: {0}",i]))},i=function(t,e){"hex-valid"===e.name&&(r=e.value)},u={colorpicker:n};t.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:u,onAction:i,onSubmit:o,onClose:P,onCancel:function(){e(Y.none())}})}},EA=function(t){vA(t);var e=cA(t),n=sA(t),r=Au(e),o=Au(n);SA(t,"forecolor","forecolor","Text color",r),SA(t,"backcolor","hilitecolor","Background color",o),kA(t,"forecolor","forecolor","Text color",r),kA(t,"backcolor","hilitecolor","Background color",o)},OA=function(t,e,n,r,o,i,u,a){var c=M_(e),s="color"!==o?"normal":"color",f=TA(e,n,r,s,i,u,a),l={menuType:o};return L_(t,c,f,r,l)},TA=function(t,e,n,r,o,i,u){return qt(ut(t,(function(a){return"choiceitem"===a.type?WE(a).fold(I_,(function(a){return Y.some(oT(a,1===n,r,e,i(a.value),o,u,M_(t)))})):Y.none()})))},AA=function(t,e){var n=o_(e);if(1===t)return{mode:"menu",moveOnTab:!0};if("auto"===t)return{mode:"grid",selector:"."+n.item,initSize:{numColumns:1,numRows:1}};var r="color"===e?"tox-swatches__row":"tox-collection__group";return{mode:"matrix",rowSelector:"."+r,previousSelector:function(t){return"color"===e?Ef(t.element,"[aria-checked=true]"):Y.none()}}},RA=function(t,e){return 1===t?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:"auto"===t?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:"color"===e?".tox-swatches__row":".tox-collection__group",cell:".".concat("color"===e?Lk:Pk)}}},NA=function(t,e){var n=DA(t,e),r=e.colorinput.getColorCols(t.initData.storageKey),o="color",i=OA(Nc("menu-value"),n,(function(e){t.onAction({value:e})}),r,o,Mk.CLOSE_ON_EXECUTE,t.select.getOr(G),e.shared.providers),a=u(u({},i),{},{markers:o_(o),movement:AA(r,o)});return{type:"widget",data:{value:Nc("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[iT.widget(PC.sketch(a))]}},DA=function(t,e){var n=t.initData.allowCustomColors&&e.colorinput.hasCustomColors();return t.initData.colors.fold((function(){return yA(e.colorinput.getColors(t.initData.storageKey),t.initData.storageKey,n)}),(function(t){return t.concat(hA(n))}))},BA=Nc("cell-over"),MA=Nc("cell-execute"),IA=function(t,e,n){var r=function(n){return Ya(n,BA,{row:t,col:e})},o=function(n){return Ya(n,MA,{row:t,col:e})},i=function(t,e){e.stop(),o(t)};return vf({dom:{tag:"div",attributes:a({role:"button"},"aria-labelledby",n)},behaviours:ed([Nw("insert-table-picker-cell",[ic(ca(),zw.focus),ic(Ea(),o),ic(ga(),i),ic(Ta(),i)]),iC.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),zw.config({onFocus:r})])})},PA=function(t,e,n){for(var r=[],o=0;o<e;o++){for(var i=[],u=0;u<n;u++)i.push(IA(o,u,t));r.push(i)}return r},LA=function(t,e,n,r,o){for(var i=0;i<r;i++)for(var u=0;u<o;u++)iC.set(t[i][u],i<=e&&u<=n)},FA=function(t){return ht(t,(function(t){return ut(t,hf)}))},jA=function(t,e){return lf("".concat(e,"x").concat(t))},zA=function(t){var e=10,n=10,r=Nc("size-label"),o=PA(r,e,n),i=jA(0,0),u=iS({dom:{tag:"span",classes:["tox-insert-table-picker__label"],attributes:{id:r}},components:[i],behaviours:ed([Aw.config({})])});return{type:"widget",data:{value:Nc("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[iT.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:FA(o).concat(u.asSpec()),behaviours:ed([Nw("insert-table-picker",[gc((function(t){Aw.set(u.get(t),[i])})),lc(BA,(function(t,r,i){var a=i.event,c=a.row,s=a.col;LA(o,c,s,e,n),Aw.set(u.get(t),[jA(c+1,s+1)])})),lc(MA,(function(e,n,r){var o=r.event,i=o.row,u=o.col;t.onAction({numRows:i+1,numColumns:u+1}),Ka(e,Ra())}))]),gw.config({initSize:{numRows:e,numColumns:n},mode:"flatgrid",selector:'[role="button"]'})])})]}},UA={inserttable:zA,colorswatch:NA},HA=function(t,e){return Ut(UA,t.fancytype).map((function(n){return n(t,e)}))},VA=function(t,e,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=o?$O(n.icons):WO(n.icons),u=function(t){return{isEnabled:function(){return!xb.isDisabled(t)},setEnabled:function(e){return xb.set(t,!e)},setIconFill:function(e,n){Ef(t.element,'svg path[id="'.concat(e,'"], rect[id="').concat(e,'"]')).each((function(t){yn(t,"fill",n)}))}}},a=JO({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:Y.none(),ariaLabel:t.text,caret:Y.some(i),checkMark:Y.none(),shortcutContent:t.shortcut},n,r);return IO({data:PO(t),getApi:u,enabled:t.enabled,onAction:P,onSetup:t.onSetup,triggersSubmenu:!0,itemBehaviours:[]},a,e,n)},WA=function(t,e,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=function(t){return{isEnabled:function(){return!xb.isDisabled(t)},setEnabled:function(e){return xb.set(t,!e)}}},i=JO({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:Y.none(),ariaLabel:t.text,caret:Y.none(),checkMark:Y.none(),shortcutContent:t.shortcut},n,r);return IO({data:PO(t),getApi:o,enabled:t.enabled,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},i,e,n)},$A=function(t){return{type:"separator",dom:{tag:"div",classes:[Pk,zk]},components:t.text.map(lf).toArray()}},qA=function(t,e,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=function(t){return{setActive:function(e){iC.set(t,e)},isActive:function(){return iC.isOn(t)},isEnabled:function(){return!xb.isDisabled(t)},setEnabled:function(e){return xb.set(t,!e)}}},i=JO({iconContent:t.icon,textContent:t.text,htmlContent:Y.none(),ariaLabel:t.text,checkMark:Y.some(VO(n.icons)),caret:Y.none(),shortcutContent:t.shortcut,presets:"normal",meta:t.meta},n,r);return qo(IO({data:PO(t),enabled:t.enabled,getApi:o,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},i,e,n),{toggling:{toggleClass:jk,toggleOnExecute:!1,selected:t.active}})},GA=eT,KA=$A,YA=WA,XA=VA,JA=qA,QA=HA,ZA=rT,tR=function(t,e,n,r){return n.getOrCreate(t,e,r)},eR=function(t,e,n,r){return n.getExisting(t,e,r)},nR=Object.freeze({__proto__:null,getCoupled:tR,getExistingCoupled:eR}),rR=[tu("others",Hi(To.value,Ri()))],oR=function(){var t={},e=function(e,n){var r=At(e.others);if(0===r.length)throw new Error("Cannot find any known coupled components");return Ut(t,n)},n=function(n,r,o){return e(r,o).getOrThunk((function(){var e=Ut(r.others,o).getOrDie("No information found for coupled component: "+o),i=e(n),u=n.getSystem().build(i);return t[o]=u,u}))},r=function(t,n,r){return e(n,r).orThunk((function(){return Ut(n.others,r).getOrDie("No information found for coupled component: "+r),Y.none()}))},o=z({});return Zc({readState:o,getExisting:r,getOrCreate:n})},iR=Object.freeze({__proto__:null,init:oR}),uR=rd({fields:rR,name:"coupling",apis:nR,state:iR}),aR=function t(e){var n=Y.none(),r=[],o=function(e){return t((function(t){i((function(n){t(e(n))}))}))},i=function(t){a()?s(t):r.push(t)},u=function(t){a()||(n=Y.some(t),c(r),r=[])},a=function(){return n.isSome()},c=function(t){at(t,s)},s=function(t){n.each((function(e){setTimeout((function(){t(e)}),0)}))};return e(u),{get:i,map:o,isReady:a}},cR=function(t){return aR((function(e){e(t)}))},sR={nu:aR,pure:cR},fR=function(t){setTimeout((function(){throw t}),0)},lR=function t(e){var n=function(t){e().then(t,fR)},r=function(n){return t((function(){return e().then(n)}))},o=function(n){return t((function(){return e().then((function(t){return n(t).toPromise()}))}))},i=function(n){return t((function(){return e().then((function(){return n.toPromise()}))}))},u=function(){return sR.nu(n)},a=function(){var n=null;return t((function(){return null===n&&(n=e()),n}))},c=e;return{map:r,bind:o,anonBind:i,toLazy:u,toCached:a,toPromise:c,get:n}},dR=function(t){return lR((function(){return new Promise(t)}))},mR=function(t){return lR((function(){return Promise.resolve(t)}))},pR={nu:dR,pure:mR},gR=z("sink"),vR=z(bh({name:gR(),overrides:z({dom:{tag:"div"},behaviours:ed([hg.config({useFixed:K})]),events:ec([dc(la()),dc(oa()),dc(ga())])})})),hR=function(t,e){var n=t.getHotspot(e).getOr(e),r="hotspot",o=t.getAnchorOverrides();return t.layouts.fold((function(){return{type:r,hotspot:n,overrides:o}}),(function(t){return{type:r,hotspot:n,overrides:o,layouts:t}}))},bR=function(t,e,n){var r=t.fetch;return r(n).map(e)},yR=function(t,e,n,r,o,i,a){var c=bR(t,e,r),s=kR(r,t);return c.map((function(t){return t.bind((function(t){return Y.from(QC.sketch(u(u({},i.menu()),{},{uid:jc(""),data:t,highlightOnOpen:a,onOpenMenu:function(t,e){var r=s().getOrDie();hg.position(r,e,{anchor:n}),ev.decloak(o)},onOpenSubmenu:function(t,e,n){var r=s().getOrDie();hg.position(r,n,{anchor:{type:"submenu",item:e}}),ev.decloak(o)},onRepositionMenu:function(t,e,r){var o=s().getOrDie();hg.position(o,e,{anchor:n}),at(r,(function(t){hg.position(o,t.triggeredMenu,{anchor:{type:"submenu",item:t.triggeringItem}})}))},onEscape:function(){return zw.focus(r),ev.close(o),Y.some(!0)}})))}))}))},xR=function(t,e,n,r,o,i,u){var a=hR(t,n),c=yR(t,e,a,n,r,o,u);return c.map((function(t){return t.fold((function(){ev.isOpen(r)&&ev.close(r)}),(function(t){ev.cloak(r),ev.open(r,t),i(r)})),r}))},wR=function(t,e,n,r,o,i,u){return ev.close(r),pR.pure(r)},CR=function(t,e,n,r,o,i){var u=uR.getCoupled(n,"sandbox"),a=ev.isOpen(u),c=a?wR:xR;return c(t,e,n,u,r,o,i)},SR=function(t,e,n){var r=eb.getCurrent(e).getOr(e),o=Jn(t.element);n?Tn(r.element,"min-width",o+"px"):Xn(r.element,o)},kR=function(t,e){return t.getSystem().getByUid(e.uid+"-"+gR()).map((function(t){return function(){return To.value(t)}})).getOrThunk((function(){return e.lazySink.fold((function(){return function(){return To.error(new Error("No internal sink is specified, nor could an external sink be found"))}}),(function(e){return function(){return e(t)}}))}))},_R=function(t){ev.getState(t).each((function(t){QC.repositionMenus(t)}))},ER=function(t,e,n){var r=Rf(),o=function(o,i){var u=hR(t,e);r.link(e.element),t.matchWidth&&SR(u.hotspot,i,t.useMinWidth),t.onOpen(u,o,i),void 0!==n&&void 0!==n.onOpen&&n.onOpen(o,i)},i=function(t,o){r.unlink(e.element),void 0!==n&&void 0!==n.onClose&&n.onClose(t,o)},a=kR(e,t);return{dom:{tag:"div",classes:t.sandboxClasses,attributes:{id:r.id,role:"listbox"}},behaviours:Uv.augment(t.sandboxBehaviours,[Lv.config({store:{mode:"memory",initialValue:e}}),ev.config({onOpen:o,onClose:i,isPartOf:function(t,n,r){return Df(n,r)||Df(e,r)},getAttachPoint:function(){return a().getOrDie()}}),eb.config({find:function(t){return ev.getState(t).bind((function(t){return eb.getCurrent(t)}))}}),ad.config({channels:u(u({},uv({isExtraPart:G})),cv({doReposition:_R}))})])}},OR=function(t){var e=uR.getCoupled(t,"sandbox");_R(e)},TR=function(){return[yu("sandboxClasses",[]),Uv.field("sandboxBehaviours",[eb,ad,ev,Lv])]},AR=z([Zi("dom"),Zi("fetch"),Xf("onOpen"),Jf("onExecute"),yu("getHotspot",Y.some),yu("getAnchorOverrides",z({})),_m(),Fv("dropdownBehaviours",[iC,uR,gw,zw]),Zi("toggleClass"),yu("eventOrder",{}),fu("lazySink"),yu("matchWidth",!1),yu("useMinWidth",!1),fu("role")].concat(TR())),RR=z([hh({schema:[Gf(),yu("fakeFocus",!1)],name:"menu",defaults:function(t){return{onExecute:t.onExecute}}}),vR()]),NR=function(t,e,n,r){var o=function(e){return Ut(t.dom,"attributes").bind((function(t){return Ut(t,e)}))},i=function(t){ev.getState(t).each((function(t){QC.highlightPrimary(t)}))},c=function(e,n,o){return CR(t,U,e,r,n,o)},s=function(t){var e=i;c(t,e,fy.HighlightMenuAndItem).get(P)},f={expand:function(t){iC.isOn(t)||c(t,P,fy.HighlightNone).get(P)},open:function(t){iC.isOn(t)||c(t,P,fy.HighlightMenuAndItem).get(P)},refetch:function(e){var n=uR.getExistingCoupled(e,"sandbox");return n.fold((function(){return c(e,P,fy.HighlightMenuAndItem).map(P)}),(function(n){return xR(t,U,e,n,r,P,fy.HighlightMenuAndItem).map(P)}))},isOpen:iC.isOn,close:function(t){iC.isOn(t)&&c(t,P,fy.HighlightMenuAndItem).get(P)},repositionMenus:function(t){iC.isOn(t)&&OR(t)}},l=function(t,e){return Xa(t),Y.some(!0)};return{uid:t.uid,dom:t.dom,components:e,behaviours:zv(t.dropdownBehaviours,[iC.config({toggleClass:t.toggleClass,aria:{mode:"expanded"}}),uR.config({others:{sandbox:function(e){return ER(t,e,{onOpen:function(){return iC.on(e)},onClose:function(){return iC.off(e)}})}}}),gw.config({mode:"special",onSpace:l,onEnter:l,onDown:function(t,e){if(DR.isOpen(t)){var n=uR.getCoupled(t,"sandbox");i(n)}else DR.open(t);return Y.some(!0)},onEscape:function(t,e){return DR.isOpen(t)?(DR.close(t),Y.some(!0)):Y.none()}}),zw.config({})]),events:aC(Y.some(s)),eventOrder:u(u({},t.eventOrder),{},a({},Ea(),["disabling","toggling","alloy.base.behaviour"])),apis:f,domModification:{attributes:u(u({"aria-haspopup":"true"},t.role.fold((function(){return{}}),(function(t){return{role:t}}))),"button"===t.dom.tag?{type:o("type").getOr("button")}:{})}}},DR=Xh({name:"Dropdown",configFields:AR(),partFields:RR(),factory:NR,apis:{open:function(t,e){return t.open(e)},refetch:function(t,e){return t.refetch(e)},expand:function(t,e){return t.expand(e)},close:function(t,e){return t.close(e)},isOpen:function(t,e){return t.isOpen(e)},repositionMenus:function(t,e){return t.repositionMenus(e)}}}),BR=function(t){switch(t.searchMode){case"no-search":return{menuType:"normal"};default:return{menuType:"searchable",searchMode:t}}},MR=function(t){var e=Lv.getValue(t),n=h_(t).map(x_);DR.refetch(e).get((function(){var t=uR.getCoupled(e,"sandbox");n.each((function(e){return h_(t).each((function(t){return y_(t,e)}))}))}))},IR=function(t,e){PR(t).each((function(n){Za(t,n.element,e.event.eventType,e.event.interactionEvent)}))},PR=function(t){return ev.getState(t).bind(zb.getHighlighted).bind(zb.getHighlighted)},LR=function(t){return Ps(t.element,S_)?Y.some(t.element):Ef(t.element,"."+S_)},FR=function(t,e,n){b_(t).each((function(t){w_(t,n);var r=LR(e);r.each((function(e){Cn(e,"id").each((function(e){return yn(t.element,"aria-controls",e)}))}))})),yn(n.element,"aria-selected","true")},jR=function(t,e,n){yn(n.element,"aria-selected","false")},zR=function(t){b_(t).each((function(t){return zw.focus(t)}))},UR=function(t){var e=uR.getExistingCoupled(t,"sandbox");return e.bind(h_).map(x_).map((function(t){return t.fetchPattern})).getOr("")};(function(t){t[t["ContentFocus"]=0]="ContentFocus",t[t["UiFocus"]=1]="UiFocus"})(Bk||(Bk={}));var HR,VR=function(t,e,n,r,o){var i=n.shared.providers,a=function(t){return o?u(u({},t),{},{shortcut:Y.none(),icon:t.text.isSome()?Y.none():t.icon}):t};switch(t.type){case"menuitem":return JE(t).fold(I_,(function(t){return Y.some(YA(a(t),e,i,r))}));case"nestedmenuitem":return ZE(t).fold(I_,(function(t){return Y.some(XA(a(t),e,i,r,o))}));case"togglemenuitem":return eO(t).fold(I_,(function(t){return Y.some(JA(a(t),e,i,r))}));case"separator":return pE(t).fold(I_,(function(t){return Y.some(KA(t))}));case"fancymenuitem":return YE(t).fold(I_,(function(t){return QA(t,n)}));default:return console.error("Unknown item in general menu",t),Y.none()}},WR=function(t,e,n,r,o,i,a){var c=1===r,s=!c||M_(t);return qt(ut(t,(function(t){switch(t.type){case"separator":return vE(t).fold(I_,(function(t){return Y.some(KA(t))}));case"cardmenuitem":return HE(t).fold(I_,(function(t){return Y.some(ZA(u(u({},t),{},{onAction:function(e){t.onAction(e),n(t.value,t.meta)}}),o,i,{itemBehaviours:QO(t.meta,i),cardText:{matchText:e,highlightOn:a}}))}));case"autocompleteitem":default:return hE(t).fold(I_,(function(t){return Y.some(GA(t,e,c,"normal",n,o,i,s))}))}})))},$R=function(t,e,n,r,o,i){var a=M_(e),c=qt(ut(e,(function(t){var e=function(t){return o?!Ht(t,"text"):a},i=function(t){return VR(t,n,r,e(t),o)};return"nestedmenuitem"===t.type&&t.getSubmenuItems().length<=0?i(u(u({},t),{},{enabled:!1})):i(t)}))),s=BR(i),f=o?P_:L_;return f(t,a,c,1,s)},qR=function(t){return QC.singleData(t.value,t)},GR=function(t,e,n,r){var o=AA(e,r),i=o_(r);return{data:qR(u(u({},t),{},{movement:o,menuBehaviours:iO.unnamedEvents("auto"!==e?[]:[gc((function(t,e){nO(t,4,i.item).each((function(e){var n=e.numColumns,r=e.numRows;gw.setGridSize(t,r,n)}))}))])})),menu:{markers:o_(r),fakeFocus:n===Bk.ContentFocus}}},KR=function(t,e){return Ak(ve.fromDom(e.startContainer)).map((function(e){var n=t.createRng();return n.selectNode(e.dom),n}))},YR=function(t,e){var n=Au(!1),r=Au(!1),o=vf(eS.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:ed([Nw("dismissAutocompleter",[ic(ja(),(function(){return s()}))])]),lazySink:e.getSink})),i=function(){return eS.isOpen(o)},u=r.get,a=function(){i()&&eS.hide(o)},c=function(){return eS.getContent(o).bind((function(t){return kt(t.components(),0)}))},s=function(){return t.execCommand("mceAutocompleterClose")},f=function(r){var o=Tt(r,(function(t){return Y.from(t.columns)})).getOr(1);return ht(r,(function(r){var i=r.items;return WR(i,r.matchText,(function(e,o){var i=t.selection.getRng();KR(t.dom,i).each((function(i){var u={hide:function(){return s()},reload:function(e){a(),t.execCommand("mceAutocompleterReload",!1,{fetchOptions:e})}};n.set(!0),r.onAction(u,i,e,o),n.set(!1)}))}),o,Mk.BUBBLE_TO_SANDBOX,e,r.highlightOn)}))},l=function(e,n){Rk(ve.fromDom(t.getBody())).each((function(r){var i=Tt(e,(function(t){return Y.from(t.columns)})).getOr(1);eS.showMenuAt(o,{anchor:{type:"node",root:ve.fromDom(t.getBody()),node:Y.from(r)}},GR(L_("autocompleter-value",!0,n,i,{menuType:"normal"}),i,Bk.ContentFocus,"normal"))})),c().each(zb.highlightFirst)},d=function(t){var e=f(t);e.length>0?l(t,e):a()};t.on("AutocompleterStart",(function(t){var e=t.lookupData;r.set(!0),n.set(!1),d(e)})),t.on("AutocompleterUpdate",(function(t){var e=t.lookupData;return d(e)})),t.on("AutocompleterEnd",(function(){a(),r.set(!1),n.set(!1)}));var m={cancelIfNecessary:s,isMenuOpen:i,isActive:u,isProcessingAction:n.get,getMenu:c};Dk.setup(m,t)},XR={register:YR},JR=["visible","hidden"],QR=function(t){if(De(t)){var e=Nn(t,"overflow");return ae(e).length>0&&!nt(JR,e)}return!1},ZR=function(t){var e=_p(t,QR);return _t(e).map((function(t){return{element:t,others:e.slice(1)}}))},tN=function(t,e){return _k(t)?ZR(e):Y.none()},eN=function(t){var e=[].concat(c(ut(t.others,yo)),[So()]);return Co(yo(t.element),e)},nN=function(t,e,n){return Of(t,e,n).isSome()},rN=function(t,e){var n=null,r=function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];n=setTimeout((function(){t.apply(null,o),n=null}),e)},o=function(){null!==n&&(clearTimeout(n),n=null)};return{cancel:o,schedule:r}},oN=5,iN=400,uN=function(t){var e=t.raw;return void 0===e.touches||1!==e.touches.length?Y.none():Y.some(e.touches[0])},aN=function(t,e){var n=Math.abs(t.clientX-e.x),r=Math.abs(t.clientY-e.y);return n>oN||r>oN},cN=function(t){var e=Wd(),n=Au(!1),r=rN((function(e){t.triggerEvent(Aa(),e),n.set(!0)}),iN),o=function(t){return uN(t).each((function(o){r.cancel();var i={x:o.clientX,y:o.clientY,target:t.target};r.schedule(t),n.set(!1),e.set(i)})),Y.none()},i=function(t){return r.cancel(),uN(t).each((function(t){e.on((function(n){aN(t,n)&&e.clear()}))})),Y.none()},u=function(o){r.cancel();var i=function(t){return He(t.target,o.target)};return e.get().filter(i).map((function(e){return n.get()?(o.prevent(),!1):t.triggerEvent(Ta(),o)}))},a=ju([{key:ta(),value:o},{key:ea(),value:i},{key:na(),value:u}]),c=function(t,e){return Ut(a,e).bind((function(e){return e(t)}))};return{fireIfReady:c}},sN=function(t){var e=t.raw;return e.which===Ub[0]&&!nt(["input","textarea"],Ae(t.target))&&!nN(t.target,'[contenteditable="true"]')},fN=function(t,e){var n=u({stopBackspace:!0},e),r=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"],o=cN(n),i=ut(r.concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),(function(e){return qd(t,e,(function(t){o.fireIfReady(t,e).each((function(e){e&&t.kill()}));var r=n.triggerEvent(e,t);r&&t.kill()}))})),a=Wd(),c=qd(t,"paste",(function(t){o.fireIfReady(t,"paste").each((function(e){e&&t.kill()}));var e=n.triggerEvent("paste",t);e&&t.kill(),a.set(setTimeout((function(){n.triggerEvent(ka(),t)}),0))})),s=qd(t,"keydown",(function(t){var e=n.triggerEvent("keydown",t);e?t.kill():n.stopBackspace&&sN(t)&&t.prevent()})),f=qd(t,"focusin",(function(t){var e=n.triggerEvent("focusin",t);e&&t.kill()})),l=Wd(),d=qd(t,"focusout",(function(t){var e=n.triggerEvent("focusout",t);e&&t.kill(),l.set(setTimeout((function(){n.triggerEvent(Sa(),t)}),0))})),m=function(){at(i,(function(t){t.unbind()})),s.unbind(),f.unbind(),d.unbind(),c.unbind(),a.on(clearTimeout),l.on(clearTimeout)};return{unbind:m}},lN=function(t,e){var n=Ut(t,"target").getOr(e);return Au(n)},dN=function(t,e){var n=Au(!1),r=Au(!1),o=function(){n.set(!0)},i=function(){r.set(!0)};return{stop:o,cut:i,isStopped:n.get,isCut:r.get,event:t,setSource:e.set,getSource:e.get}},mN=function(t){var e=Au(!1),n=function(){e.set(!0)};return{stop:n,cut:P,isStopped:e.get,isCut:G,event:t,setSource:$("Cannot set source of a broadcasted event"),getSource:$("Cannot get source of a broadcasted event")}},pN=Nu.generate([{stopped:[]},{resume:["element"]},{complete:[]}]),gN=function(t,e,n,r,o,i){var u=t(e,r),a=dN(n,o);return u.fold((function(){return i.logEventNoHandlers(e,r),pN.complete()}),(function(t){var n=t.descHandler,r=ls(n);return r(a),a.isStopped()?(i.logEventStopped(e,t.element,n.purpose),pN.stopped()):a.isCut()?(i.logEventCut(e,t.element,n.purpose),pN.complete()):Ke(t.element).fold((function(){return i.logNoParent(e,t.element,n.purpose),pN.complete()}),(function(r){return i.logEventResponse(e,t.element,n.purpose),pN.resume(r)}))}))},vN=function t(e,n,r,o,i,u){return gN(e,n,r,o,i,u).fold(K,(function(o){return t(e,n,r,o,i,u)}),G)},hN=function(t,e,n,r,o){var i=lN(n,r);return gN(t,e,n,r,i,o)},bN=function(t,e,n){var r=mN(e);return at(t,(function(t){var e=t.descHandler,n=ls(e);n(r)})),r.isStopped()},yN=function(t,e,n,r){return xN(t,e,n,n.target,r)},xN=function(t,e,n,r,o){var i=lN(n,r);return vN(t,e,n,r,i,o)},wN=function(t,e){return{element:t,descHandler:e}},CN=function(t,e){return{id:t,descHandler:e}},SN=function(){var t={},e=function(e,n,r){Nt(r,(function(r,o){var i=void 0!==t[o]?t[o]:{};i[n]=fs(r,e),t[o]=i}))},n=function(t,e){return Fc(e).bind((function(e){return Ut(t,e)})).map((function(t){return wN(e,t)}))},r=function(e){return Ut(t,e).map((function(t){return Ft(t,(function(t,e){return CN(e,t)}))})).getOr([])},o=function(e,r,o){return Ut(t,r).bind((function(t){return $u(o,(function(e){return n(t,e)}),e)}))},i=function(e){Nt(t,(function(t,n){Ht(t,e)&&delete t[e]}))};return{registerId:e,unregisterId:i,filterByType:r,find:o}},kN=function(){var t=SN(),e={},n=function(t){var e=t.element;return Fc(e).getOrThunk((function(){return Pc("uid-",t.element)}))},r=function(t,n){var r=e[n];if(r!==t)throw new Error('The tagId "'+n+'" is already used by: '+Ec(r.element)+"\nCannot use it for: "+Ec(t.element)+"\nThe conflicting element is"+(gn(r.element)?" ":" not ")+"already in the DOM");i(t)},o=function(o){var i=n(o);Vt(e,i)&&r(o,i);var u=[o];t.registerId(u,i,o.events),e[i]=o},i=function(n){Fc(n.element).each((function(n){delete e[n],t.unregisterId(n)}))},u=function(e){return t.filterByType(e)},a=function(e,n,r){return t.find(e,n,r)},c=function(t){return Ut(e,t)};return{find:a,filter:u,register:o,unregister:i,getById:c}},_N=function(t){var e=t.dom,n=e.attributes,r=i(e,g);return{uid:t.uid,dom:u({tag:"div",attributes:u({role:"presentation"},n)},r),components:t.components,behaviours:jv(t.containerBehaviours),events:t.events,domModification:t.domModification,eventOrder:t.eventOrder}},EN=Yh({name:"Container",factory:_N,configFields:[yu("components",[]),Fv("containerBehaviours",[]),yu("events",{}),yu("domModification",{}),yu("eventOrder",{})]}),ON=function(t){var e=function(e){return Ke(t.element).fold(K,(function(t){return He(e,t)}))},n=kN(),r=function(t,r){return n.find(e,t,r)},o=fN(t.element,{triggerEvent:function(t,e){return zf(t,e.target,(function(n){return yN(r,t,e,n)}))}}),i={debugInfo:z("real"),triggerEvent:function(t,e,n){zf(t,e,(function(o){return xN(r,t,n,e,o)}))},triggerFocus:function(t,e){Fc(t).fold((function(){fd(t)}),(function(n){zf(Ca(),t,(function(n){return hN(r,Ca(),{originator:e,kill:P,prevent:P,target:t},t,n),!1}))}))},triggerEscape:function(t,e){i.triggerEvent("keydown",t.element,e.event)},getByUid:function(t){return g(t)},getByDom:function(t){return v(t)},build:vf,buildOrPatch:gf,addToGui:function(t){c(t)},removeFromGui:function(t){s(t)},addToWorld:function(t){u(t)},removeFromWorld:function(t){a(t)},broadcast:function(t){d(t)},broadcastOn:function(t,e){m(t,e)},broadcastEvent:function(t,e){p(t,e)},isConnected:K},u=function t(e){e.connect(i),Me(e.element)||(n.register(e),at(e.components(),t),i.triggerEvent(Da(),e.element,{target:e.element}))},a=function t(e){Me(e.element)||(at(e.components(),t),n.unregister(e)),e.disconnect()},c=function(e){Og(t,e)},s=function(t){Rg(t)},f=function(){o.unbind(),no(t.element)},l=function(t){var e=n.filter(_a());at(e,(function(e){var n=e.descHandler,r=ls(n);r(t)}))},d=function(t){l({universal:!0,data:t})},m=function(t,e){l({universal:!1,channels:t,data:e})},p=function(t,e){var r=n.filter(t);return bN(r,e)},g=function(t){return n.getById(t).fold((function(){return To.error(new Error('Could not find component with uid: "'+t+'" in system.'))}),To.value)},v=function(t){var e=Fc(t).getOr("not found");return g(e)};return u(t),{root:t,element:t.element,destroy:f,add:c,remove:s,getByUid:g,getByDom:v,addToWorld:u,removeFromWorld:a,broadcast:d,broadcastOn:m,broadcastEvent:p}},TN=function(t,e){return{dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:ut(t.items,e.interpreter)}},AN=z([yu("prefix","form-field"),Fv("fieldBehaviours",[eb,Lv])]),RN=z([bh({schema:[Zi("dom")],name:"label"}),bh({factory:{sketch:function(t){return{uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}}}},schema:[Zi("text")],name:"aria-descriptor"}),vh({factory:{sketch:function(t){var e=Lu(t,["factory"]);return t.factory.sketch(e)}},schema:[Zi("factory")],name:"field"})]),NN=function(t,e,n,r){var o=zv(t.fieldBehaviours,[eb.config({find:function(e){return Nh(e,t,"field")}}),Lv.config({store:{mode:"manual",getValue:function(t){return eb.getCurrent(t).bind(Lv.getValue)},setValue:function(t,e){eb.getCurrent(t).each((function(t){Lv.setValue(t,e)}))}}})]),i=ec([gc((function(e,n){var r=Bh(e,t,["label","field","aria-descriptor"]);r.field().each((function(e){var n=Nc(t.prefix);r.label().each((function(t){yn(t.element,"for",n),yn(e.element,"id",n)})),r["aria-descriptor"]().each((function(n){var r=Nc(t.prefix);yn(n.element,"id",r),yn(e.element,"aria-describedby",r)}))}))}))]),u={getField:function(e){return Nh(e,t,"field")},getLabel:function(e){return Nh(e,t,"label")}};return{uid:t.uid,dom:t.dom,components:e,behaviours:o,events:i,apis:u}},DN=Xh({name:"FormField",configFields:AN(),partFields:RN(),factory:NN,apis:{getField:function(t,e){return t.getField(e)},getLabel:function(t,e){return t.getLabel(e)}}}),BN=function(t,e){return os({attributes:ju([{key:e.tabAttr,value:"true"}])})},MN=Object.freeze({__proto__:null,exhibit:BN}),IN=[yu("tabAttr","data-alloy-tabstop")],PN=rd({fields:IN,name:"tabstopping",active:MN}),LN=tinymce.util.Tools.resolve("tinymce.html.Entities"),FN=function(t,e,n,r){var o=zN(t,e,n,r);return DN.sketch(o)},jN=function(t,e){return FN(t,e,[],[])},zN=function(t,e,n,r){return{dom:HN(n),components:t.toArray().concat([e]),fieldBehaviours:ed(r)}},UN=function(){return HN([])},HN=function(t){return{tag:"div",classes:["tox-form__group"].concat(t)}},VN=function(t,e){return DN.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[lf(e.translate(t))]})},WN=Nc("form-component-change"),$N=Nc("form-close"),qN=Nc("form-cancel"),GN=Nc("form-action"),KN=Nc("form-submit"),YN=Nc("form-block"),XN=Nc("form-unblock"),JN=Nc("form-tabchange"),QN=Nc("form-resize"),ZN=function(t,e,n){var r=t.label.map((function(t){return VN(t,e)})),o=function(t){return function(e,n){Of(n.event.target,"[data-collection-item-value]").each((function(r){t(e,n,r,wn(r,"data-collection-item-value"))}))}},i=function(n,r){var o=ut(r,(function(n){var r=uS.translate(n.text),o=1===t.columns?'<div class="tox-collection__item-label">'.concat(r,"</div>"):"",i='<div class="tox-collection__item-icon">'.concat(n.icon,"</div>"),u={_:" "," - ":" ","-":" "},a=r.replace(/\_| \- |\-/g,(function(t){return u[t]})),c=e.isDisabled()?" tox-collection__item--state-disabled":"";return'<div class="tox-collection__item'.concat(c,'" tabindex="-1" data-collection-item-value="').concat(LN.encodeAllRaw(n.value),'" title="').concat(a,'" aria-label="').concat(a,'">').concat(i).concat(o,"</div>")})),i="auto"!==t.columns&&t.columns>1?it(o,t.columns):[o],u=ut(i,(function(t){return'<div class="tox-collection__group">'.concat(t.join(""),"</div>")}));wc(n.element,u.join(""))},u=o((function(n,r,o,i){r.stop(),e.isDisabled()||Ya(n,GN,{name:t.name,value:i})})),c=[ic(ca(),o((function(t,e,n){fd(n)}))),ic(ga(),u),ic(Ta(),u),ic(sa(),o((function(t,e,n){Ef(t.element,"."+qk).each((function(t){Is(t,qk)})),Bs(n,qk)}))),ic(fa(),o((function(t){Ef(t.element,"."+qk).each((function(t){Is(t,qk)}))}))),bc(o((function(e,n,r,o){Ya(e,GN,{name:t.name,value:o})})))],s=function(t,e){return ut(Ep(t.element,".tox-collection__item"),e)},f=DN.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(1!==t.columns?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:U},behaviours:ed([xb.config({disabled:e.isDisabled,onDisabled:function(t){s(t,(function(t){Bs(t,"tox-collection__item--state-disabled"),yn(t,"aria-disabled",!0)}))},onEnabled:function(t){s(t,(function(t){Is(t,"tox-collection__item--state-disabled"),kn(t,"aria-disabled")}))}}),SO(),Aw.config({}),Lv.config({store:{mode:"memory",initialValue:n.getOr([])},onSetValue:function(e,n){i(e,n),"auto"===t.columns&&nO(e,5,"tox-collection__item").each((function(t){var n=t.numRows,r=t.numColumns;gw.setGridSize(e,n,r)})),Ka(e,QN)}}),PN.config({}),gw.config(RA(t.columns,"normal")),Nw("collection-events",c)]),eventOrder:a({},Ea(),["disabling","alloy.base.behaviour","collection-events"])}),l=["tox-form__group--collection"];return FN(r,f,l,[])},tD=["input","textarea"],eD=function(t){var e=Ae(t);return nt(tD,e)},nD=function(t,e){var n=e.getRoot(t).getOr(t.element);Is(n,e.invalidClass),e.notify.each((function(e){eD(t.element)&&yn(t.element,"aria-invalid",!1),e.getContainer(t).each((function(t){wc(t,e.validHtml)})),e.onValid(t)}))},rD=function(t,e,n,r){var o=e.getRoot(t).getOr(t.element);Bs(o,e.invalidClass),e.notify.each((function(e){eD(t.element)&&yn(t.element,"aria-invalid",!0),e.getContainer(t).each((function(t){wc(t,r)})),e.onInvalid(t,r)}))},oD=function(t,e,n){return e.validator.fold((function(){return pR.pure(To.value(!0))}),(function(e){return e.validate(t)}))},iD=function(t,e,n){return e.notify.each((function(e){e.onValidate(t)})),oD(t,e).map((function(r){return t.getSystem().isConnected()?r.fold((function(r){return rD(t,e,n,r),To.error(r)}),(function(n){return nD(t,e),To.value(n)})):To.error("No longer in system")}))},uD=function(t,e){var n=e.getRoot(t).getOr(t.element);return Ps(n,e.invalidClass)},aD=Object.freeze({__proto__:null,markValid:nD,markInvalid:rD,query:oD,run:iD,isInvalid:uD}),cD=function(t,e){return t.validator.map((function(n){return ec([ic(n.onEvent,(function(n){iD(n,t,e).get(U)}))].concat(n.validateOnLoad?[gc((function(n){iD(n,t,e).get(P)}))]:[]))})).getOr({})},sD=Object.freeze({__proto__:null,events:cD}),fD=[Zi("invalidClass"),yu("getRoot",Y.none),hu("notify",[yu("aria","alert"),yu("getContainer",Y.none),yu("validHtml",""),Xf("onValid"),Xf("onInvalid"),Xf("onValidate")]),hu("validator",[Zi("validate"),yu("onEvent","input"),yu("validateOnLoad",!0)])],lD=rd({fields:fD,name:"invalidating",active:sD,apis:aD,extra:{validation:function(t){return function(e){var n=Lv.getValue(e);return pR.pure(t(n))}}}}),dD=function(){return os({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})},mD=function(){return ec([nc(ya(),K)])},pD=Object.freeze({__proto__:null,events:mD,exhibit:dD}),gD=rd({fields:[],name:"unselecting",active:pD}),vD=function(t,e){return DR.sketch({dom:t.dom,components:t.components,toggleClass:"mce-active",dropdownBehaviours:ed([TO.button(e.providers.isDisabled),SO(),gD.config({}),PN.config({})]),layouts:t.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:e.getSink,fetch:function(n){return pR.nu((function(e){return t.fetch(e)})).map((function(r){return Y.from(qR(qo(OA(Nc("menu-value"),r,(function(e){t.onItemAction(n,e)}),t.columns,t.presets,Mk.CLOSE_ON_EXECUTE,G,e.providers),{movement:AA(t.columns,t.presets)})))}))},parts:{menu:a_(!1,1,t.presets)}})},hD=Nc("color-input-change"),bD=Nc("color-swatch-change"),yD=Nc("color-picker-cancel"),xD=function(t,e,n,r){var o=DN.parts.field({factory:m_,inputClasses:["tox-textfield"],data:r,onSetValue:function(t){return lD.run(t).get(P)},inputBehaviours:ed([xb.config({disabled:e.providers.isDisabled}),SO(),PN.config({}),lD.config({invalidClass:"tox-textbox-field-invalid",getRoot:function(t){return Ye(t.element)},notify:{onValid:function(t){var e=Lv.getValue(t);Ya(t,hD,{color:e})}},validator:{validateOnLoad:!1,validate:function(t){var e=Lv.getValue(t);if(0===e.length)return pR.pure(To.value(!0));var n=ve.fromTag("span");Tn(n,"background-color",e);var r=Bn(n,"background-color").fold((function(){return To.error("blah")}),(function(t){return To.value(e)}));return pR.pure(r)}}})]),selectOnFocus:!1}),i=t.label.map((function(t){return VN(t,e.providers)})),u=function(t,e){Ya(t,bD,{value:e})},a=function(e,r){c.getOpt(e).each((function(e){"custom"===r?n.colorPicker((function(n){n.fold((function(){return Ka(e,yD)}),(function(n){u(e,n),VT(t.storageKey,n)}))}),"#ffffff"):u(e,"remove"===r?"":r)}))},c=iS(vD({dom:{tag:"span",attributes:{"aria-label":e.providers.translate("Color swatch")}},layouts:{onRtl:function(){return[Nl,Rl,Il]},onLtr:function(){return[Rl,Nl,Il]}},components:[],fetch:xA(n.getColors(t.storageKey),t.storageKey,n.hasCustomColors()),columns:n.getColorCols(t.storageKey),presets:"color",onItemAction:a},e));return DN.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:i.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[o,c.asSpec()]}]),fieldBehaviours:ed([Nw("form-field-events",[ic(hD,(function(e,n){c.getOpt(e).each((function(t){Tn(t.element,"background-color",n.event.color)})),Ya(e,WN,{name:t.name})})),ic(bD,(function(t,e){DN.getField(t).each((function(n){Lv.setValue(n,e.event.value),eb.getCurrent(t).each(zw.focus)}))})),ic(yD,(function(t,e){DN.getField(t).each((function(e){eb.getCurrent(t).each(zw.focus)}))}))])])})},wD=bh({schema:[Zi("dom")],name:"label"}),CD=function(t){return bh({name:t+"-edge",overrides:function(e){var n=e.model.manager.edgeActions[t];return n.fold((function(){return{}}),(function(t){return{events:ec([uc(ta(),(function(e,n,r){return t(e,r)}),[e]),uc(oa(),(function(e,n,r){return t(e,r)}),[e]),uc(ia(),(function(e,n,r){r.mouseIsDown.get()&&t(e,r)}),[e])])}}))}})},SD=CD("top-left"),kD=CD("top"),_D=CD("top-right"),ED=CD("right"),OD=CD("bottom-right"),TD=CD("bottom"),AD=CD("bottom-left"),RD=CD("left"),ND=vh({name:"thumb",defaults:z({dom:{styles:{position:"absolute"}}}),overrides:function(t){return{events:ec([fc(ta(),t,"spectrum"),fc(ea(),t,"spectrum"),fc(na(),t,"spectrum"),fc(oa(),t,"spectrum"),fc(ia(),t,"spectrum"),fc(aa(),t,"spectrum")])}}}),DD=vh({schema:[Ji("mouseIsDown",(function(){return Au(!1)}))],name:"spectrum",overrides:function(t){var e=t.model,n=e.manager,r=function(e,r){return n.getValueFromEvent(r).map((function(r){return n.setValueFrom(e,t,r)}))};return{behaviours:ed([gw.config({mode:"special",onLeft:function(e){return n.onLeft(e,t)},onRight:function(e){return n.onRight(e,t)},onUp:function(e){return n.onUp(e,t)},onDown:function(e){return n.onDown(e,t)}}),zw.config({})]),events:ec([ic(ta(),r),ic(ea(),r),ic(oa(),r),ic(ia(),(function(e,n){t.mouseIsDown.get()&&r(e,n)}))])}}}),BD=[wD,RD,ED,kD,TD,SD,_D,AD,OD,ND,DD],MD="slider.change.value",ID=z(MD),PD=function(t){return-1!==t.type.indexOf("touch")},LD=function(t){var e=t.event.raw;if(PD(e)){var n=e;return void 0!==n.touches&&1===n.touches.length?Y.some(n.touches[0]).map((function(t){return Wn(t.clientX,t.clientY)})):Y.none()}var r=e;return void 0!==r.clientX?Y.some(r).map((function(t){return Wn(t.clientX,t.clientY)})):Y.none()},FD="top",jD="right",zD="bottom",UD="left",HD=function(t){return t.model.minX},VD=function(t){return t.model.minY},WD=function(t){return t.model.minX-1},$D=function(t){return t.model.minY-1},qD=function(t){return t.model.maxX},GD=function(t){return t.model.maxY},KD=function(t){return t.model.maxX+1},YD=function(t){return t.model.maxY+1},XD=function(t,e,n){return e(t)-n(t)},JD=function(t){return XD(t,qD,HD)},QD=function(t){return XD(t,GD,VD)},ZD=function(t){return JD(t)/2},tB=function(t){return QD(t)/2},eB=function(t){return t.stepSize},nB=function(t){return t.snapToGrid},rB=function(t){return t.snapStart},oB=function(t){return t.rounded},iB=function(t,e){return void 0!==t[e+"-edge"]},uB=function(t){return iB(t,UD)},aB=function(t){return iB(t,jD)},cB=function(t){return iB(t,FD)},sB=function(t){return iB(t,zD)},fB=function(t){return t.model.value.get()},lB=function(t,e){return{x:t,y:e}},dB=function(t,e){Ya(t,ID(),{value:e})},mB=function(t,e){dB(t,lB(WD(e),$D(e)))},pB=function(t,e){dB(t,$D(e))},gB=function(t,e){dB(t,lB(ZD(e),$D(e)))},vB=function(t,e){dB(t,lB(KD(e),$D(e)))},hB=function(t,e){dB(t,KD(e))},bB=function(t,e){dB(t,lB(KD(e),tB(e)))},yB=function(t,e){dB(t,lB(KD(e),YD(e)))},xB=function(t,e){dB(t,YD(e))},wB=function(t,e){dB(t,lB(ZD(e),YD(e)))},CB=function(t,e){dB(t,lB(WD(e),YD(e)))},SB=function(t,e){dB(t,WD(e))},kB=function(t,e){dB(t,lB(WD(e),tB(e)))},_B=function(t,e,n,r){return t<e?t:t>n?n:t===e?e-1:Math.max(e,t-r)},EB=function(t,e,n,r){return t>n?t:t<e?e:t===n?n+1:Math.min(n,t+r)},OB=function(t,e,n){return Math.max(e,Math.min(n,t))},TB=function(t,e,n,r,o){return o.fold((function(){var o=t-e,i=Math.round(o/r)*r;return OB(e+i,e-1,n+1)}),(function(e){var o=(t-e)%r,i=Math.round(o/r),u=Math.floor((t-e)/r),a=Math.floor((n-e)/r),c=Math.min(a,u+i),s=e+c*r;return Math.max(e,s)}))},AB=function(t,e,n){return Math.min(n,Math.max(t,e))-e},RB=function(t){var e=t.min,n=t.max,r=t.range,o=t.value,i=t.step,u=t.snap,a=t.snapStart,c=t.rounded,s=t.hasMinEdge,f=t.hasMaxEdge,l=t.minBound,d=t.maxBound,m=t.screenRange,p=s?e-1:e,g=f?n+1:n;if(o<l)return p;if(o>d)return g;var v=AB(o,l,d),h=OB(v/m*r+e,p,g);return u&&h>=e&&h<=n?TB(h,e,n,i,a):c?Math.round(h):h},NB=function(t){var e=t.min,n=t.max,r=t.range,o=t.value,i=t.hasMinEdge,u=t.hasMaxEdge,a=t.maxBound,c=t.maxOffset,s=t.centerMinEdge,f=t.centerMaxEdge;return o<e?i?0:s:o>n?u?a:f:(o-e)/r*c},DB="top",BB="right",MB="bottom",IB="left",PB="width",LB="height",FB=function(t){return t.element.dom.getBoundingClientRect()},jB=function(t,e){return t[e]},zB=function(t){var e=FB(t);return jB(e,IB)},UB=function(t){var e=FB(t);return jB(e,BB)},HB=function(t){var e=FB(t);return jB(e,DB)},VB=function(t){var e=FB(t);return jB(e,MB)},WB=function(t){var e=FB(t);return jB(e,PB)},$B=function(t){var e=FB(t);return jB(e,LB)},qB=function(t,e,n){return(t+e)/2-n},GB=function(t,e){var n=FB(t),r=FB(e),o=jB(n,IB),i=jB(n,BB),u=jB(r,IB);return qB(o,i,u)},KB=function(t,e){var n=FB(t),r=FB(e),o=jB(n,DB),i=jB(n,MB),u=jB(r,DB);return qB(o,i,u)},YB=function(t,e){Ya(t,ID(),{value:e})},XB=function(t,e,n){var r={min:HD(e),max:qD(e),range:JD(e),value:n,step:eB(e),snap:nB(e),snapStart:rB(e),rounded:oB(e),hasMinEdge:uB(e),hasMaxEdge:aB(e),minBound:zB(t),maxBound:UB(t),screenRange:WB(t)};return RB(r)},JB=function(t,e,n){var r=XB(t,e,n),o=r;return YB(t,o),r},QB=function(t,e){var n=HD(e);YB(t,n)},ZB=function(t,e){var n=qD(e);YB(t,n)},tM=function(t,e,n){var r=t>0?EB:_B,o=r(fB(n),HD(n),qD(n),eB(n));return YB(e,o),Y.some(o)},eM=function(t){return function(e,n){return tM(t,e,n).map(K)}},nM=function(t){var e=LD(t);return e.map((function(t){return t.left}))},rM=function(t,e,n,r,o){var i=0,u=WB(t),a=r.bind((function(e){return Y.some(GB(e,t))})).getOr(i),c=o.bind((function(e){return Y.some(GB(e,t))})).getOr(u),s={min:HD(e),max:qD(e),range:JD(e),value:n,hasMinEdge:uB(e),hasMaxEdge:aB(e),minBound:zB(t),minOffset:i,maxBound:UB(t),maxOffset:u,centerMinEdge:a,centerMaxEdge:c};return NB(s)},oM=function(t,e,n,r,o,i){var u=rM(e,i,n,r,o);return zB(e)-zB(t)+u},iM=function(t,e,n,r){var o=fB(n),i=oM(t,r.getSpectrum(t),o,r.getLeftEdge(t),r.getRightEdge(t),n),u=Jn(e.element)/2;Tn(e.element,"left",i-u+"px")},uM=eM(-1),aM=eM(1),cM=Y.none,sM=Y.none,fM={"top-left":Y.none(),top:Y.none(),"top-right":Y.none(),right:Y.some(hB),"bottom-right":Y.none(),bottom:Y.none(),"bottom-left":Y.none(),left:Y.some(SB)},lM=Object.freeze({__proto__:null,setValueFrom:JB,setToMin:QB,setToMax:ZB,findValueOfOffset:XB,getValueFromEvent:nM,findPositionOfValue:oM,setPositionFromValue:iM,onLeft:uM,onRight:aM,onUp:cM,onDown:sM,edgeActions:fM}),dM=function(t,e){Ya(t,ID(),{value:e})},mM=function(t,e,n){var r={min:VD(e),max:GD(e),range:QD(e),value:n,step:eB(e),snap:nB(e),snapStart:rB(e),rounded:oB(e),hasMinEdge:cB(e),hasMaxEdge:sB(e),minBound:HB(t),maxBound:VB(t),screenRange:$B(t)};return RB(r)},pM=function(t,e,n){var r=mM(t,e,n),o=r;return dM(t,o),r},gM=function(t,e){var n=VD(e);dM(t,n)},vM=function(t,e){var n=GD(e);dM(t,n)},hM=function(t,e,n){var r=t>0?EB:_B,o=r(fB(n),VD(n),GD(n),eB(n));return dM(e,o),Y.some(o)},bM=function(t){return function(e,n){return hM(t,e,n).map(K)}},yM=function(t){var e=LD(t);return e.map((function(t){return t.top}))},xM=function(t,e,n,r,o){var i=0,u=$B(t),a=r.bind((function(e){return Y.some(KB(e,t))})).getOr(i),c=o.bind((function(e){return Y.some(KB(e,t))})).getOr(u),s={min:VD(e),max:GD(e),range:QD(e),value:n,hasMinEdge:cB(e),hasMaxEdge:sB(e),minBound:HB(t),minOffset:i,maxBound:VB(t),maxOffset:u,centerMinEdge:a,centerMaxEdge:c};return NB(s)},wM=function(t,e,n,r,o,i){var u=xM(e,i,n,r,o);return HB(e)-HB(t)+u},CM=function(t,e,n,r){var o=fB(n),i=wM(t,r.getSpectrum(t),o,r.getTopEdge(t),r.getBottomEdge(t),n),u=zn(e.element)/2;Tn(e.element,"top",i-u+"px")},SM=Y.none,kM=Y.none,_M=bM(-1),EM=bM(1),OM={"top-left":Y.none(),top:Y.some(pB),"top-right":Y.none(),right:Y.none(),"bottom-right":Y.none(),bottom:Y.some(xB),"bottom-left":Y.none(),left:Y.none()},TM=Object.freeze({__proto__:null,setValueFrom:pM,setToMin:gM,setToMax:vM,findValueOfOffset:mM,getValueFromEvent:yM,findPositionOfValue:wM,setPositionFromValue:CM,onLeft:SM,onRight:kM,onUp:_M,onDown:EM,edgeActions:OM}),AM=function(t,e){Ya(t,ID(),{value:e})},RM=function(t,e){return{x:t,y:e}},NM=function(t,e,n){var r=XB(t,e,n.left),o=mM(t,e,n.top),i=RM(r,o);return AM(t,i),i},DM=function(t,e,n,r){var o=t>0?EB:_B,i=e?fB(r).x:o(fB(r).x,HD(r),qD(r),eB(r)),u=e?o(fB(r).y,VD(r),GD(r),eB(r)):fB(r).y;return AM(n,RM(i,u)),Y.some(i)},BM=function(t,e){return function(n,r){return DM(t,e,n,r).map(K)}},MM=function(t,e){var n=HD(e),r=VD(e);AM(t,RM(n,r))},IM=function(t,e){var n=qD(e),r=GD(e);AM(t,RM(n,r))},PM=function(t){return LD(t)},LM=function(t,e,n,r){var o=fB(n),i=oM(t,r.getSpectrum(t),o.x,r.getLeftEdge(t),r.getRightEdge(t),n),u=wM(t,r.getSpectrum(t),o.y,r.getTopEdge(t),r.getBottomEdge(t),n),a=Jn(e.element)/2,c=zn(e.element)/2;Tn(e.element,"left",i-a+"px"),Tn(e.element,"top",u-c+"px")},FM=BM(-1,!1),jM=BM(1,!1),zM=BM(-1,!0),UM=BM(1,!0),HM={"top-left":Y.some(mB),top:Y.some(gB),"top-right":Y.some(vB),right:Y.some(bB),"bottom-right":Y.some(yB),bottom:Y.some(wB),"bottom-left":Y.some(CB),left:Y.some(kB)},VM=Object.freeze({__proto__:null,setValueFrom:NM,setToMin:MM,setToMax:IM,getValueFromEvent:PM,setPositionFromValue:LM,onLeft:FM,onRight:jM,onUp:zM,onDown:UM,edgeActions:HM}),WM=[yu("stepSize",1),yu("onChange",P),yu("onChoose",P),yu("onInit",P),yu("onDragStart",P),yu("onDragEnd",P),yu("snapToGrid",!1),yu("rounded",!0),fu("snapStart"),tu("model",Ki("mode",{x:[yu("minX",0),yu("maxX",100),Ji("value",(function(t){return Au(t.mode.minX)})),Zi("getInitialValue"),tl("manager",lM)],y:[yu("minY",0),yu("maxY",100),Ji("value",(function(t){return Au(t.mode.minY)})),Zi("getInitialValue"),tl("manager",TM)],xy:[yu("minX",0),yu("maxX",100),yu("minY",0),yu("maxY",100),Ji("value",(function(t){return Au({x:t.mode.minX,y:t.mode.minY})})),Zi("getInitialValue"),tl("manager",VM)]})),Fv("sliderBehaviours",[gw,Lv]),Ji("mouseIsDown",(function(){return Au(!1)}))],$M=function(t,e,n,r){var o=function(e){return Dh(e,t,"thumb")},i=function(e){return Dh(e,t,"spectrum")},u=function(e){return Nh(e,t,"left-edge")},c=function(e){return Nh(e,t,"right-edge")},s=function(e){return Nh(e,t,"top-edge")},f=function(e){return Nh(e,t,"bottom-edge")},l=t.model,d=l.manager,m=function(e,n){d.setPositionFromValue(e,n,t,{getLeftEdge:u,getRightEdge:c,getTopEdge:s,getBottomEdge:f,getSpectrum:i})},p=function(t,e){l.value.set(e);var n=o(t);m(t,n)},g=function(e,n){p(e,n);var r=o(e);return t.onChange(e,r,n),Y.some(!0)},v=function(e){d.setToMin(e,t)},h=function(e){d.setToMax(e,t)},b=function(e){var n=function(){Nh(e,t,"thumb").each((function(n){var r=l.value.get();t.onChoose(e,n,r)}))},r=t.mouseIsDown.get();t.mouseIsDown.set(!1),r&&n()},y=function(e,n){n.stop(),t.mouseIsDown.set(!0),t.onDragStart(e,o(e))},x=function(e,n){n.stop(),t.onDragEnd(e,o(e)),b(e)};return{uid:t.uid,dom:t.dom,components:e,behaviours:zv(t.sliderBehaviours,[gw.config({mode:"special",focusIn:function(e){return Nh(e,t,"spectrum").map(gw.focusIn).map(K)}}),Lv.config({store:{mode:"manual",getValue:function(t){return l.value.get()},setValue:p}}),ad.config({channels:a({},ov(),{onReceive:b})})]),events:ec([ic(ID(),(function(t,e){g(t,e.event.value)})),gc((function(e,n){var r=l.getInitialValue();l.value.set(r);var u=o(e);m(e,u);var a=i(e);t.onInit(e,u,a,l.value.get())})),ic(ta(),y),ic(na(),x),ic(oa(),y),ic(aa(),x)]),apis:{resetToMin:v,resetToMax:h,setValue:p,refresh:m},domModification:{styles:{position:"relative"}}}},qM=Xh({name:"Slider",configFields:WM,partFields:BD,factory:$M,apis:{setValue:function(t,e,n){t.setValue(e,n)},resetToMin:function(t,e){t.resetToMin(e)},resetToMax:function(t,e){t.resetToMax(e)},refresh:function(t,e){t.refresh(e)}}}),GM=Nc("rgb-hex-update"),KM=Nc("slider-update"),YM=Nc("palette-update"),XM=function(t,e){var n=qM.parts.spectrum({dom:{tag:"div",classes:[e("hue-slider-spectrum")],attributes:{role:"presentation"}}}),r=qM.parts.thumb({dom:{tag:"div",classes:[e("hue-slider-thumb")],attributes:{role:"presentation"}}});return qM.sketch({dom:{tag:"div",classes:[e("hue-slider")],attributes:{role:"presentation"}},rounded:!1,model:{mode:"y",getInitialValue:z(0)},components:[n,r],sliderBehaviours:ed([zw.config({})]),onChange:function(t,e,n){Ya(t,KM,{value:n})}})},JM="form",QM=[Fv("formBehaviours",[Lv])],ZM=function(t){return"<alloy.field."+t+">"},tI=function(t){var e=function(){var t=[],e=function(e,n){return t.push(e),Eh(JM,ZM(e),n)};return{field:e,record:z(t)}}(),n=t(e),r=e.record(),o=ut(r,(function(t){return vh({name:t,pname:ZM(t)})}));return Vh(JM,QM,o,nI,n)},eI=function(t,e){return t.fold((function(){return To.error(e)}),To.value)},nI=function(t,e){return{uid:t.uid,dom:t.dom,components:e,behaviours:zv(t.formBehaviours,[Lv.config({store:{mode:"manual",getValue:function(e){var n=Mh(e,t);return Dt(n,(function(t,e){return t().bind((function(t){var n=eb.getCurrent(t);return eI(n,new Error("Cannot find a current component to extract the value from for form part '".concat(e,"': ")+Ec(t.element)))})).map(Lv.getValue)}))},setValue:function(e,n){Nt(n,(function(n,r){Nh(e,t,r).each((function(t){eb.getCurrent(t).each((function(t){Lv.setValue(t,n)}))}))}))}}})]),apis:{getField:function(e,n){return Nh(e,t,n).bind(eb.getCurrent)}}}},rI={getField:Jc((function(t,e,n){return t.getField(e,n)})),sketch:tI},oI=Nc("valid-input"),iI=Nc("invalid-input"),uI=Nc("validating-input"),aI="colorcustom.rgb.",cI=function(t,e,n,r){var o=function(n,r){return lD.config({invalidClass:e("invalid"),notify:{onValidate:function(t){Ya(t,uI,{type:n})},onValid:function(t){Ya(t,oI,{type:n,value:Lv.getValue(t)})},onInvalid:function(t){Ya(t,iI,{type:n,value:Lv.getValue(t)})}},validator:{validate:function(e){var n=Lv.getValue(e),o=r(n)?To.value(!0):To.error(t("aria.input.invalid"));return pR.pure(o)},validateOnLoad:!1}})},i=function(n,r,i,a,c){var s=t(aI+"range"),f=DN.parts.label({dom:{tag:"label",attributes:{"aria-label":a}},components:[lf(i)]}),l=DN.parts.field({data:c,factory:m_,inputAttributes:u({type:"text"},"hex"===r?{"aria-live":"polite"}:{}),inputClasses:[e("textfield")],inputBehaviours:ed([o(r,n),PN.config({})]),onSetValue:function(t){if(lD.isInvalid(t)){var e=lD.run(t);e.get(P)}}}),d=[f,l],m="hex"!==r?[DN.parts["aria-descriptor"]({text:s})]:[],p=d.concat(m);return{dom:{tag:"div",attributes:{role:"presentation"}},components:p}},a=function(t,e){var n=gT(e);return rI.getField(t,"hex").each((function(e){zw.isFocused(e)||Lv.setValue(t,{hex:n.value})})),n},c=function(t,e){var n=e.red,r=e.green,o=e.blue;Lv.setValue(t,{red:n,green:r,blue:o})},s=iS({dom:{tag:"div",classes:[e("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),f=function(t,e){s.getOpt(t).each((function(t){Tn(t.element,"background-color","#"+e.value)}))},l=function(){var o={red:Au(Y.some(255)),green:Au(Y.some(255)),blue:Au(Y.some(255)),hex:Au(Y.some("ffffff"))},u=function(t,e){var n=kT(e);c(t,n),p(n)},l=function(t){return o[t].get()},d=function(t,e){o[t].set(e)},m=function(){return l("red").bind((function(t){return l("green").bind((function(e){return l("blue").map((function(n){return wT(t,e,n,1)}))}))}))},p=function(t){var e=t.red,n=t.green,r=t.blue;d("red",Y.some(e)),d("green",Y.some(n)),d("blue",Y.some(r))},g=function(t,e){var n=e.event;"hex"!==n.type?d(n.type,Y.none()):r(t)},v=function(t,e){n(t);var r=uT(e);d("hex",Y.some(r.value));var o=kT(r);c(t,o),p(o),Ya(t,GM,{hex:r}),f(t,r)},h=function(t,e,n){var r=parseInt(n,10);d(e,Y.some(r)),m().each((function(e){var n=a(t,e);Ya(t,GM,{hex:n}),f(t,n)}))},b=function(t){return"hex"===t.type},y=function(t,e){var n=e.event;b(n)?v(t,n.value):h(t,n.type,n.value)},x=function(e){return{label:t(aI+e+".label"),description:t(aI+e+".description")}},w=x("red"),C=x("green"),S=x("blue"),k=x("hex");return qo(rI.sketch((function(n){return{dom:{tag:"form",classes:[e("rgb-form")],attributes:{"aria-label":t("aria.color.picker")}},components:[n.field("red",DN.sketch(i(CT,"red",w.label,w.description,255))),n.field("green",DN.sketch(i(CT,"green",C.label,C.description,255))),n.field("blue",DN.sketch(i(CT,"blue",S.label,S.description,255))),n.field("hex",DN.sketch(i(sT,"hex",k.label,k.description,"ffffff"))),s.asSpec()],formBehaviours:ed([lD.config({invalidClass:e("form-invalid")}),Nw("rgb-form-events",[ic(oI,y),ic(iI,g),ic(uI,g)])])}})),{apis:{updateHex:function(t,e){Lv.setValue(t,{hex:e.value}),u(t,e),f(t,e)}}})},d=Yh({factory:l,name:"RgbForm",configFields:[],apis:{updateHex:function(t,e,n){t.updateHex(e,n)}},extraApis:{}});return d},sI=function(t,e){var n=qM.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[e("sv-palette-spectrum")]}}),r=qM.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[e("sv-palette-thumb")],innerHtml:"<div class=".concat(e("sv-palette-inner-thumb"),' role="presentation"></div>')}}),o=function(t,e){var n=t.width,r=t.height,o=t.getContext("2d");if(null!==o){o.fillStyle=e,o.fillRect(0,0,n,r);var i=o.createLinearGradient(0,0,n,0);i.addColorStop(0,"rgba(255,255,255,1)"),i.addColorStop(1,"rgba(255,255,255,0)"),o.fillStyle=i,o.fillRect(0,0,n,r);var u=o.createLinearGradient(0,0,0,r);u.addColorStop(0,"rgba(0,0,0,0)"),u.addColorStop(1,"rgba(0,0,0,1)"),o.fillStyle=u,o.fillRect(0,0,n,r)}},i=function(t,e){var n=t.components()[0].element.dom,r=WT(e,100,100),i=ST(r);o(n,OT(i))},u=function(t,e){var n=$T(kT(e));qM.setValue(t,{x:n.saturation,y:100-n.value})},a=function(t){var i=z({x:0,y:0}),u=function(t,e,n){Ya(t,YM,{value:n})},a=function(t,e,n,r){o(n.element.dom,OT(TT))},c=ed([eb.config({find:Y.some}),zw.config({})]);return qM.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[e("sv-palette")]},model:{mode:"xy",getInitialValue:i},rounded:!1,components:[n,r],onChange:u,onInit:a,sliderBehaviours:c})},c=Yh({factory:a,name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:function(t,e,n){i(e,n)},setThumb:function(t,e,n){u(e,n)}},extraApis:{}});return c},fI=function(t,e){var n=function(n){var r=cI(t,e,n.onValidHex,n.onInvalidHex),o=sI(t,e),i=function(t){return(100-t)/100*360},u=function(t){return 100-t/360*100},a={paletteRgba:Au(TT),paletteHue:Au(0)},c=iS(XM(t,e)),s=iS(o.sketch({})),f=iS(r.sketch({})),l=function(t,e,n){s.getOpt(t).each((function(t){o.setHue(t,n)}))},d=function(t,e){f.getOpt(t).each((function(t){r.updateHex(t,e)}))},m=function(t,e,n){c.getOpt(t).each((function(t){qM.setValue(t,u(n))}))},p=function(t,e){s.getOpt(t).each((function(t){o.setThumb(t,e)}))},g=function(t,e){var n=kT(t);a.paletteRgba.set(n),a.paletteHue.set(e)},v=function(t,e,n,r){g(e,n),at(r,(function(r){r(t,e,n)}))},h=function(){var t=[d];return function(e,n){var r=n.event.value,o=a.paletteHue.get(),i=WT(o,r.x,100-r.y),u=GT(i);v(e,u,o,t)}},b=function(){var t=[l,d];return function(e,n){var r=i(n.event.value),o=a.paletteRgba.get(),u=$T(o),c=WT(r,u.saturation,u.value),s=GT(c);v(e,s,r,t)}},y=function(){var t=[l,m,p];return function(e,n){var r=n.event.hex,o=qT(r);v(e,r,o.hue,t)}};return{uid:n.uid,dom:n.dom,components:[s.asSpec(),c.asSpec(),f.asSpec()],behaviours:ed([Nw("colour-picker-events",[ic(GM,y()),ic(YM,h()),ic(KM,b())]),eb.config({find:function(t){return f.getOpt(t)}}),gw.config({mode:"acyclic"})])}},r=Yh({name:"ColourPicker",configFields:[Zi("dom"),yu("onValidHex",P),yu("onInvalidHex",P)],factory:n});return r},lI=function(){return eb.config({find:Y.some})},dI=function(t){return eb.config({find:t.getOpt})},mI=function(t){return eb.config({find:function(e){return tn(e.element,t).bind((function(t){return e.getSystem().getByDom(t).toOptional()}))}})},pI={self:lI,memento:dI,childAt:mI},gI=ki([yu("preprocess",U),yu("postprocess",U)]),vI=function(t,e){var n=qi("RepresentingConfigs.memento processors",gI,e);return Lv.config({store:{mode:"manual",getValue:function(e){var r=t.get(e),o=Lv.getValue(r);return n.postprocess(o)},setValue:function(e,r){var o=n.preprocess(r),i=t.get(e);Lv.setValue(i,o)}}})},hI=function(t,e,n){return Lv.config({store:u(u({mode:"manual"},t.map((function(t){return{initialValue:t}})).getOr({})),{},{getValue:e,setValue:n})})},bI=function(t,e,n){return hI(t,(function(t){return e(t.element)}),(function(t,e){return n(t.element,e)}))},yI=function(t){return bI(t,Hs,Vs)},xI=function(t){return bI(t,xc,wc)},wI=function(t){return Lv.config({store:{mode:"memory",initialValue:t}})},CI={memento:vI,withElement:bI,withComp:hI,domValue:yI,domHtml:xI,memory:wI},SI={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},kI=function(t){return function(e){return t.translate(SI[e])}},_I=function(t,e,n){var r=function(t){return"tox-"+t},o=fI(kI(e),r),i=function(t){Ya(t,GN,{name:"hex-valid",value:!0})},u=function(t){Ya(t,GN,{name:"hex-valid",value:!1})},a=iS(o.sketch({dom:{tag:"div",classes:[r("color-picker-container")],attributes:{role:"presentation"}},onValidHex:i,onInvalidHex:u}));return{dom:{tag:"div"},components:[a.asSpec()],behaviours:ed([CI.withComp(n,(function(t){var e=a.get(t),n=eb.getCurrent(e),r=n.bind((function(t){var e=Lv.getValue(t);return e.hex}));return r.map((function(t){return"#"+ee(t,"#")})).getOr("")}),(function(t,e){var n=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/,r=Y.from(n.exec(e)).bind((function(t){return kt(t,1)})),o=a.get(t),i=eb.getCurrent(o);i.fold((function(){console.log("Can not find form")}),(function(t){Lv.setValue(t,{hex:r.getOr("")}),rI.getField(t,"hex").each((function(t){Ka(t,ma())}))}))})),pI.self()])}},EI=tinymce.util.Tools.resolve("tinymce.Resource"),OI=function(t){return Ht(t,"init")},TI=function(t){var e=Wd(),n=iS({dom:{tag:t.tag}}),r=Wd();return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:ed([Nw("custom-editor-events",[gc((function(o){n.getOpt(o).each((function(n){(OI(t)?t.init(n.element.dom):EI.load(t.scriptId,t.scriptUrl).then((function(e){return e(n.element.dom,t.settings)}))).then((function(t){r.on((function(e){t.setValue(e)})),r.clear(),e.set(t)}))}))}))]),CI.withComp(Y.none(),(function(){return e.get().fold((function(){return r.get().getOr("")}),(function(t){return t.getValue()}))}),(function(t,n){e.get().fold((function(){return r.set(n)}),(function(t){return t.setValue(n)}))})),pI.self()]),components:[n.asSpec()]}},AI=tinymce.util.Tools.resolve("tinymce.util.Tools"),RI=function(t,e){var n=AI.explode(e.getOption("images_file_types")),r=function(t){return rt(n,(function(e){return ie(t.name.toLowerCase(),".".concat(e.toLowerCase()))}))};return ft(Ot(t),r)},NI=function(t,e,n){var r=function(t,e){e.stop()},o=function(t){return function(e,n){at(t,(function(t){t(e,n)}))}},i=function(t,e){var n;if(!xb.isDisabled(t)){var r=e.event.raw;a(t,null===(n=r.dataTransfer)||void 0===n?void 0:n.files)}},u=function(t,e){var n=e.event.raw.target;a(t,n.files)},a=function(n,r){r&&(Lv.setValue(n,RI(r,e)),Ya(n,WN,{name:t.name}))},c=iS({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:ed([Nw("input-file-events",[dc(ga()),dc(Ta())])])}),s=function(t){return{uid:t.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:ed([CI.memory(n.getOr([])),pI.self(),xb.config({}),iC.config({toggleClass:"dragenter",toggleOnExecute:!1}),Nw("dropzone-events",[ic("dragenter",o([r,iC.toggle])),ic("dragleave",o([r,iC.toggle])),ic("dragover",r),ic("drop",o([r,i])),ic(pa(),u)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[lf(e.translate("Drop an image here"))]},oS.sketch({dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[lf(e.translate("Browse for an image")),c.asSpec()],action:function(t){var e=c.get(t);e.element.dom.click()},buttonBehaviours:ed([PN.config({}),TO.button(e.isDisabled),SO()])})]}]}},f=t.label.map((function(t){return VN(t,e)})),l=DN.parts.field({factory:{sketch:s}});return FN(f,l,["tox-form__group--stretched"],[])},DI=function(t,e){return{dom:{tag:"div",classes:["tox-form__grid","tox-form__grid--".concat(t.columns,"col")]},components:ut(t.items,e.interpreter)}},BI=Nc("alloy-fake-before-tabstop"),MI=Nc("alloy-fake-after-tabstop"),II=function(t){return{dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:t},behaviours:ed([zw.config({ignore:!0}),PN.config({})])}},PI=function(t){return{dom:{tag:"div",classes:["tox-navobj"]},components:[II([BI]),t,II([MI])],behaviours:ed([pI.childAt(1)])}},LI=function(t,e){Ya(t,la(),{raw:{which:9,shiftKey:e}})},FI=function(t,e){var n=e.element;Ps(n,BI)?LI(t,!0):Ps(n,MI)&&LI(t,!1)},jI=function(t){return nN(t,["."+BI,"."+MI].join(","),G)},zI=function(t){var e=Au(t.getOr(""));return{getValue:function(t){return e.get()},setValue:function(t,n){e.get()!==n&&yn(t.element,"srcdoc",n),e.set(n)}}},UI=function(t,e,n){var r=t.sandboxed,o=t.transparent,i="tox-dialog__iframe",a=u(u(u({},t.label.map((function(t){return{title:t}})).getOr({})),n.map((function(t){return{srcdoc:t}})).getOr({})),r?{sandbox:"allow-scripts allow-same-origin"}:{}),c=zI(n),s=t.label.map((function(t){return VN(t,e)})),f=function(t){return PI({uid:t.uid,dom:{tag:"iframe",attributes:a,classes:o?[i]:[i,"".concat(i,"--opaque")]},behaviours:ed([PN.config({}),zw.config({}),CI.withComp(n,c.getValue,c.setValue)])})},l=DN.parts.field({factory:{sketch:f}});return FN(s,l,["tox-form__group--stretched"],[])},HI=function(t){return new Promise((function(e,n){var r=function(){i(),e(t)},o=[qd(t,"load",r),qd(t,"error",(function(){i(),n("Unable to load data from image: "+t.dom.src)}))],i=function(){return at(o,(function(t){return t.unbind()}))};t.dom.complete&&r()}))},VI=function(t,e,n,r,o){var i=n*o,u=r*o,a=Math.max(0,t/2-i/2),c=Math.max(0,e/2-u/2);return{left:a.toString()+"px",top:c.toString()+"px",width:i.toString()+"px",height:u.toString()+"px"}},WI=function(t,e,n){var r=Jn(t),o=zn(t);return Math.min(r/e,o/n,1)},$I=function(t,e){var n=Au(e.getOr({url:""})),r=iS({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:e.map((function(t){return{src:t.url}})).getOr({})}}),o=iS({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[r.asSpec()]}),i=function(t,e){var i={url:e.url};e.zoom.each((function(t){return i.zoom=t})),e.cachedWidth.each((function(t){return i.cachedWidth=t})),e.cachedHeight.each((function(t){return i.cachedHeight=t})),n.set(i);var u=function(){var e=i.cachedWidth,n=i.cachedHeight,r=i.zoom;if(!R(e)&&!R(n)){if(R(r)){var u=WI(t.element,e,n);i.zoom=u}var a=VI(Jn(t.element),zn(t.element),e,n,i.zoom);o.getOpt(t).each((function(t){An(t.element,a)}))}};r.getOpt(t).each((function(n){var r=n.element;e.url!==wn(r,"src")&&(yn(r,"src",e.url),Is(t.element,"tox-imagepreview__loaded")),u(),HI(r).then((function(e){t.getSystem().isConnected()&&(Bs(t.element,"tox-imagepreview__loaded"),i.cachedWidth=e.dom.naturalWidth,i.cachedHeight=e.dom.naturalHeight,u())}))}))},u={};t.height.each((function(t){return u.height=t}));var a=e.map((function(t){return{url:t.url,zoom:Y.from(t.zoom),cachedWidth:Y.from(t.cachedWidth),cachedHeight:Y.from(t.cachedHeight)}}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:u,attributes:{role:"presentation"}},components:[o.asSpec()],behaviours:ed([pI.self(),CI.withComp(a,(function(){return n.get()}),i)])}},qI=function(t,e){var n={dom:{tag:"label",classes:["tox-label"]},components:[lf(e.providers.translate(t.label))]},r=ut(t.items,e.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[n].concat(c(r)),behaviours:ed([pI.self(),Aw.config({}),CI.domHtml(Y.none()),gw.config({mode:"acyclic"})])}},GI=Nc("toolbar.button.execute"),KI=function(t){return bc((function(e,n){AO(t,e)((function(n){Ya(e,GI,{buttonApi:n}),t.onAction(n)}))}))},YI=Nc("common-button-display-events"),XI=(e={},a(e,Ea(),["disabling","alloy.base.behaviour","toggling","toolbar-button-events"]),a(e,La(),["toolbar-button-events",YI]),a(e,oa(),["focusing","alloy.base.behaviour",YI]),e),JI=function(t){return Tn(t.element,"width",Nn(t.element,"width"))},QI=function(t,e,n){return hS(t,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:n},e)},ZI=function(t,e){return QI(t,e,[])},tP=function(t,e){return QI(t,e,[Aw.config({})])},eP=function(t,e,n){return{dom:{tag:"span",classes:["".concat(e,"__select-label")]},components:[lf(n.translate(t))],behaviours:ed([Aw.config({})])}},nP=Nc("update-menu-text"),rP=Nc("update-menu-icon"),oP=function(t,e,n){var r=Au(P),o=t.text.map((function(t){return iS(eP(t,e,n.providers))})),i=t.icon.map((function(t){return iS(tP(t,n.providers.icons))})),s=function(t,e){var n=Lv.getValue(t);return zw.focus(n),Ya(n,"keydown",{raw:e.event.raw}),DR.close(n),Y.some(!0)},f=t.role.fold((function(){return{}}),(function(t){return{role:t}})),l=t.tooltip.fold((function(){return{}}),(function(t){var e=n.providers.translate(t);return{title:e,"aria-label":e}})),d=hS("chevron-down",{tag:"div",classes:["".concat(e,"__select-chevron")]},n.providers.icons),m=Nc("common-button-display-events"),p=iS(DR.sketch(u(u(u({},t.uid?{uid:t.uid}:{}),f),{},{dom:{tag:"button",classes:[e,"".concat(e,"--select")].concat(ut(t.classes,(function(t){return"".concat(e,"--").concat(t)}))),attributes:u({},l)},components:MO([i.map((function(t){return t.asSpec()})),o.map((function(t){return t.asSpec()})),Y.some(d)]),matchWidth:!0,useMinWidth:!0,onOpen:function(e,n,r){t.searchable&&zR(r)},dropdownBehaviours:ed([].concat(c(t.dropdownBehaviours),[TO.button((function(){return t.disabled||n.providers.isDisabled()})),SO(),gD.config({}),Aw.config({}),Nw("dropdown-events",[RO(t,r),NO(t,r)]),Nw(m,[gc((function(t,e){return JI(t)}))]),Nw("menubutton-update-display-text",[ic(nP,(function(t,e){o.bind((function(e){return e.getOpt(t)})).each((function(t){Aw.set(t,[lf(n.providers.translate(e.event.text))])}))})),ic(rP,(function(t,e){i.bind((function(e){return e.getOpt(t)})).each((function(t){Aw.set(t,[tP(e.event.icon,n.providers.icons)])}))}))])])),eventOrder:qo(XI,a({mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"]},La(),["toolbar-button-events","dropdown-events",m])),sandboxBehaviours:ed([gw.config({mode:"special",onLeft:s,onRight:s}),Nw("dropdown-sandbox-events",[ic(p_,(function(t,e){MR(t),e.stop()})),ic(g_,(function(t,e){IR(t,e),e.stop()}))])]),lazySink:n.getSink,toggleClass:"".concat(e,"--active"),parts:{menu:u(u({},a_(!1,t.columns,t.presets)),{},{fakeFocus:t.searchable,onHighlightItem:FR,onCollapseMenu:function(t,e,n){zb.getHighlighted(n).each((function(e){FR(t,n,e)}))},onDehighlightItem:jR})},fetch:function(e){return pR.nu(V(t.fetch,e))}})));return p.asSpec()},iP=function(t){return k(t)},uP=function(t){return"separator"===t.type},aP=function(t){return Ht(t,"getSubmenuItems")},cP={type:"separator"},sP=function(t,e){var n=dt(t,(function(t,n){return iP(n)?""===n?t:"|"===n?t.length>0&&!uP(t[t.length-1])?t.concat([cP]):t:Ht(e,n.toLowerCase())?t.concat([e[n.toLowerCase()]]):t:t.concat([n])}),[]);return n.length>0&&uP(n[n.length-1])&&n.pop(),n},fP=function(t,e){var n=t.getSubmenuItems(),r=dP(n,e),o=qo(r.menus,a({},t.value,r.items)),i=qo(r.expansions,a({},t.value,t.value));return{item:t,menus:o,expansions:i}},lP=function(t){var e=Ut(t,"value").getOrThunk((function(){return Nc("generated-menu-item")}));return qo({value:e},t)},dP=function(t,e){var n=sP(k(t)?t.split(" "):t,e);return lt(n,(function(t,n){if(aP(n)){var r=lP(n),o=fP(r,e);return{menus:qo(t.menus,o.menus),items:[o.item].concat(c(t.items)),expansions:qo(t.expansions,o.expansions)}}return u(u({},t),{},{items:[n].concat(c(t.items))})}),{menus:{},expansions:{},items:[]})},mP=function(t){return t.search.fold((function(){return{searchMode:"no-search"}}),(function(t){return{searchMode:"search-with-field",placeholder:t.placeholder}}))},pP=function(t){return t.search.fold((function(){return{searchMode:"no-search"}}),(function(t){return{searchMode:"search-with-results"}}))},gP=function(t,e,n,r){var o=Nc("primary-menu"),i=dP(t,n.shared.providers.menuItems());if(0===i.items.length)return Y.none();var u=mP(r),a=$R(o,i.items,e,n,r.isHorizontalMenu,u),c=pP(r),s=Dt(i.menus,(function(t,r){return $R(r,t,e,n,!1,c)})),f=qo(s,Fu(o,a));return Y.from(QC.tieredData(o,f,i.expansions))},vP=function(t){return!Ht(t,"items")},hP="data-value",bP=function t(e,n,r,o){return ut(r,(function(r){return vP(r)?{type:"togglemenuitem",text:r.text,value:r.value,active:r.value===o,onAction:function(){Lv.setValue(e,r.value),Ya(e,WN,{name:n}),zw.focus(e)}}:{type:"nestedmenuitem",text:r.text,getSubmenuItems:function(){return t(e,n,r.items,o)}}}))},yP=function t(e,n){return Tt(e,(function(e){return vP(e)?Jt(e.value===n,e):t(e.items,n)}))},xP=function(t,e,n){var r=e.shared.providers,o=n.bind((function(e){return yP(t.items,e)})).orThunk((function(){return _t(t.items).filter(vP)})),i=t.label.map((function(t){return VN(t,r)})),u=DN.parts.field({dom:{},factory:{sketch:function(n){return oP({uid:n.uid,text:o.map((function(t){return t.text})),icon:Y.none(),tooltip:t.label,role:Y.none(),fetch:function(n,r){var o=bP(n,t.name,t.items,Lv.getValue(n));r(gP(o,Mk.CLOSE_ON_EXECUTE,e,{isHorizontalMenu:!1,search:Y.none()}))},onSetup:z(P),getApi:z({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[PN.config({}),CI.withComp(o.map((function(t){return t.value})),(function(t){return wn(t.element,hP)}),(function(e,n){yP(t.items,n).each((function(t){yn(e.element,hP,t.value),Ya(e,nP,{text:t.text})}))}))]},"tox-listbox",e.shared)}}}),a={dom:{tag:"div",classes:["tox-listboxfield"]},components:[u]};return DN.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:vt([i.toArray(),[a]]),fieldBehaviours:ed([xb.config({disabled:z(!t.enabled),onDisabled:function(t){DN.getField(t).each(xb.disable)},onEnabled:function(t){DN.getField(t).each(xb.enable)}})])})},wP=function(t,e){return{dom:{tag:"div",classes:t.classes},components:ut(t.items,e.shared.interpreter)}},CP=function(t,e){var n=ut(t.options,(function(t){return{dom:{tag:"option",value:t.value,innerHtml:t.text}}})),r=t.data.map((function(t){return Fu("initialValue",t)})).getOr({});return{uid:t.uid,dom:{tag:"select",classes:t.selectClasses,attributes:t.selectAttributes},components:n,behaviours:zv(t.selectBehaviours,[zw.config({}),Lv.config({store:u({mode:"manual",getValue:function(t){return Hs(t.element)},setValue:function(e,n){var r=_t(t.options),o=pt(t.options,(function(t){return t.value===n}));o.isSome()?Vs(e.element,n):-1===e.element.dom.selectedIndex&&""===n&&r.each((function(t){return Vs(e.element,t.value)}))}},r)})])}},SP=Yh({name:"HtmlSelect",configFields:[Zi("options"),Fv("selectBehaviours",[zw,Lv]),yu("selectClasses",[]),yu("selectAttributes",{}),fu("data")],factory:CP}),kP=function(t,e,n){var r=ut(t.items,(function(t){return{text:e.translate(t.text),value:t.value}})),o=t.label.map((function(t){return VN(t,e)})),i=DN.parts.field(u(u({dom:{}},n.map((function(t){return{data:t}})).getOr({})),{},{selectAttributes:{size:t.size},options:r,factory:SP,selectBehaviours:ed([xb.config({disabled:function(){return!t.enabled||e.isDisabled()}}),PN.config({}),Nw("selectbox-change",[ic(pa(),(function(e,n){Ya(e,WN,{name:t.name})}))])])})),a=t.size>1?Y.none():Y.some(hS("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},e.icons)),c={dom:{tag:"div",classes:["tox-selectfield"]},components:vt([[i],a.toArray()])};return DN.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:vt([o.toArray(),[c]]),fieldBehaviours:ed([xb.config({disabled:function(){return!t.enabled||e.isDisabled()},onDisabled:function(t){DN.getField(t).each(xb.disable)},onEnabled:function(t){DN.getField(t).each(xb.enable)}}),SO()])})},_P=z([yu("field1Name","field1"),yu("field2Name","field2"),Qf("onLockedChange"),Kf(["lockClass"]),yu("locked",!1),Uv.field("coupledFieldBehaviours",[eb,Lv])]),EP=function(t,e,n){return Nh(t,e,n).bind(eb.getCurrent)},OP=function(t,e){return vh({factory:DN,name:t,overrides:function(t){return{fieldBehaviours:ed([Nw("coupled-input-behaviour",[ic(ma(),(function(n){EP(n,t,e).each((function(e){Nh(n,t,"lock").each((function(r){iC.isOn(r)&&t.onLockedChange(n,e,r)}))}))}))])])}}})},TP=z([OP("field1","field2"),OP("field2","field1"),vh({factory:oS,schema:[Zi("dom")],name:"lock",overrides:function(t){return{buttonBehaviours:ed([iC.config({selected:t.locked,toggleClass:t.markers.lockClass,aria:{mode:"pressed"}})])}}})]),AP=function(t,e,n,r){return{uid:t.uid,dom:t.dom,components:e,behaviours:Uv.augment(t.coupledFieldBehaviours,[eb.config({find:Y.some}),Lv.config({store:{mode:"manual",getValue:function(e){var n,r=Ph(e,t,["field1","field2"]);return n={},a(n,t.field1Name,Lv.getValue(r.field1())),a(n,t.field2Name,Lv.getValue(r.field2())),n},setValue:function(e,n){var r=Ph(e,t,["field1","field2"]);Vt(n,t.field1Name)&&Lv.setValue(r.field1(),n[t.field1Name]),Vt(n,t.field2Name)&&Lv.setValue(r.field2(),n[t.field2Name])}}})]),apis:{getField1:function(e){return Nh(e,t,"field1")},getField2:function(e){return Nh(e,t,"field2")},getLock:function(e){return Nh(e,t,"lock")}}}},RP=Xh({name:"FormCoupledInputs",configFields:_P(),partFields:TP(),factory:AP,apis:{getField1:function(t,e){return t.getField1(e)},getField2:function(t,e){return t.getField2(e)},getLock:function(t,e){return t.getLock(e)}}}),NP=function(t){var e={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},n=function(t){return t in e?e[t]:1},r=t.value.toFixed(n(t.unit));return-1!==r.indexOf(".")&&(r=r.replace(/\.?0*$/,"")),r+t.unit},DP=function(t){var e=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/,n=e.exec(t);if(null!==n){var r=parseFloat(n[1]),o=n[2];return To.value({value:r,unit:o})}return To.error(t)},BP=function(t,e){var n={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},r=function(t){return Ht(n,t)};return t.unit===e?Y.some(t.value):r(t.unit)&&r(e)?n[t.unit]===n[e]?Y.some(t.value):Y.some(t.value/n[t.unit]*n[e]):Y.none()},MP=function(t){return Y.none()},IP=function(t,e){return function(n){return BP(n,e).map((function(n){return{value:n*t,unit:e}}))}},PP=function(t,e){var n=DP(t).toOptional(),r=DP(e).toOptional();return Kt(n,r,(function(t,e){return BP(t,e.unit).map((function(t){return e.value/t})).map((function(t){return IP(t,e.unit)})).getOr(MP)})).getOr(MP)},LP=function(t,e){var n=MP,r=Nc("ratio-event"),o=function(t){return hS(t,{tag:"span",classes:["tox-icon","tox-lock-icon__"+t]},e.icons)},i=RP.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:e.translate(t.label.getOr("Constrain proportions"))}},components:[o("lock"),o("unlock")],buttonBehaviours:ed([xb.config({disabled:function(){return!t.enabled||e.isDisabled()}}),SO(),PN.config({})])}),u=function(t){return{dom:{tag:"div",classes:["tox-form__group"]},components:t}},a=function(n){return DN.parts.field({factory:m_,inputClasses:["tox-textfield"],inputBehaviours:ed([xb.config({disabled:function(){return!t.enabled||e.isDisabled()}}),SO(),PN.config({}),Nw("size-input-events",[ic(sa(),(function(t,e){Ya(t,r,{isField1:n})})),ic(pa(),(function(e,n){Ya(e,WN,{name:t.name})}))])]),selectOnFocus:!1})},c=function(t){return{dom:{tag:"label",classes:["tox-label"]},components:[lf(e.translate(t))]}},s=RP.parts.field1(u([DN.parts.label(c("Width")),a(!0)])),f=RP.parts.field2(u([DN.parts.label(c("Height")),a(!1)]));return RP.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[s,f,u([c(qm),i])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:function(t,e,r){DP(Lv.getValue(t)).each((function(t){n(t).each((function(t){Lv.setValue(e,NP(t))}))}))},coupledFieldBehaviours:ed([xb.config({disabled:function(){return!t.enabled||e.isDisabled()},onDisabled:function(t){RP.getField1(t).bind(DN.getField).each(xb.disable),RP.getField2(t).bind(DN.getField).each(xb.disable),RP.getLock(t).each(xb.disable)},onEnabled:function(t){RP.getField1(t).bind(DN.getField).each(xb.enable),RP.getField2(t).bind(DN.getField).each(xb.enable),RP.getLock(t).each(xb.enable)}}),SO(),Nw("size-input-events2",[ic(r,(function(t,e){var r=e.event.isField1,o=r?RP.getField1(t):RP.getField2(t),i=r?RP.getField2(t):RP.getField1(t),u=o.map(Lv.getValue).getOr(""),a=i.map(Lv.getValue).getOr("");n=PP(u,a)}))])])})},FP=function(t,e,n){var r=qM.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[lf(e.translate(t.label))]}),o=qM.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),i=qM.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return qM.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:t.min,maxX:t.max,getInitialValue:z(n.getOrThunk((function(){return(Math.abs(t.max)-Math.abs(t.min))/2})))},components:[r,o,i],sliderBehaviours:ed([pI.self(),zw.config({})]),onChoose:function(e,n,r){Ya(e,WN,{name:t.name,value:r})}})},jP=function(t,e){var n=function(t){return{dom:{tag:"th",innerHtml:e.translate(t)}}},r=function(t){return{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:ut(t,n)}]}},o=function(t){return{dom:{tag:"td",innerHtml:e.translate(t)}}},i=function(t){return{dom:{tag:"tr"},components:ut(t,o)}},u=function(t){return{dom:{tag:"tbody"},components:ut(t,i)}};return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[r(t.header),u(t.cells)],behaviours:ed([PN.config({}),zw.config({})])}},zP=function(t,e){var n=t.label.map((function(t){return VN(t,e)})),r=[xb.config({disabled:function(){return t.disabled||e.isDisabled()}}),SO(),gw.config({mode:"execution",useEnter:!0!==t.multiline,useControlEnter:!0===t.multiline,execute:function(t){return Ka(t,KN),Y.some(!0)}}),Nw("textfield-change",[ic(ma(),(function(e,n){Ya(e,WN,{name:t.name})})),ic(ka(),(function(e,n){Ya(e,WN,{name:t.name})}))]),PN.config({})],o=t.validation.map((function(t){return lD.config({getRoot:function(t){return Ye(t.element)},invalidClass:"tox-invalid",validator:{validate:function(e){var n=Lv.getValue(e),r=t.validator(n);return pR.pure(!0===r?To.value(n):To.error(r))},validateOnLoad:t.validateOnLoad}})})).toArray(),i=t.placeholder.fold(z({}),(function(t){return{placeholder:e.translate(t)}})),a=t.inputMode.fold(z({}),(function(t){return{inputmode:t}})),c=u(u({},i),a),s=DN.parts.field(u(u({tag:!0===t.multiline?"textarea":"input"},t.data.map((function(t){return{data:t}})).getOr({})),{},{inputAttributes:c,inputClasses:[t.classname],inputBehaviours:ed(vt([r,o])),selectOnFocus:!1,factory:m_})),f=t.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[s]}:s,l=t.flex?["tox-form__group--stretched"]:[],d=l.concat(t.maximized?["tox-form-group--maximize"]:[]),m=[xb.config({disabled:function(){return t.disabled||e.isDisabled()},onDisabled:function(t){DN.getField(t).each(xb.disable)},onEnabled:function(t){DN.getField(t).each(xb.enable)}}),SO()];return FN(n,f,d,m)},UP=function(t,e,n){return zP({name:t.name,multiline:!1,label:t.label,inputMode:t.inputMode,placeholder:t.placeholder,flex:!1,disabled:!t.enabled,classname:"tox-textfield",validation:Y.none(),maximized:t.maximized,data:n},e)},HP=function(t,e,n){return zP({name:t.name,multiline:!0,label:t.label,inputMode:Y.none(),placeholder:t.placeholder,flex:!0,disabled:!t.enabled,classname:"tox-textarea",validation:Y.none(),maximized:t.maximized,data:n},e)},VP=function(t,e){return e.getAnimationRoot.fold((function(){return t.element}),(function(e){return e(t)}))},WP=function(t){return t.dimension.property},$P=function(t,e){return t.dimension.getDimension(e)},qP=function(t,e){var n=VP(t,e);Fs(n,[e.shrinkingClass,e.growingClass])},GP=function(t,e){Is(t.element,e.openClass),Bs(t.element,e.closedClass),Tn(t.element,WP(e),"0px"),Ln(t.element)},KP=function(t,e){Is(t.element,e.closedClass),Bs(t.element,e.openClass),Pn(t.element,WP(e))},YP=function(t,e,n,r){n.setCollapsed(),Tn(t.element,WP(e),$P(e,t.element)),qP(t,e),GP(t,e),e.onStartShrink(t),e.onShrunk(t)},XP=function(t,e,n,r){var o=r.getOrThunk((function(){return $P(e,t.element)}));n.setCollapsed(),Tn(t.element,WP(e),o),Ln(t.element);var i=VP(t,e);Is(i,e.growingClass),Bs(i,e.shrinkingClass),GP(t,e),e.onStartShrink(t)},JP=function(t,e,n){var r=$P(e,t.element),o="0px"===r?YP:XP;o(t,e,n,Y.some(r))},QP=function(t,e,n){var r=VP(t,e),o=Ps(r,e.shrinkingClass),i=$P(e,t.element);KP(t,e);var u=$P(e,t.element),a=function(){Tn(t.element,WP(e),i),Ln(t.element)},c=function(){GP(t,e)},s=o?a:c;s(),Is(r,e.shrinkingClass),Bs(r,e.growingClass),KP(t,e),Tn(t.element,WP(e),u),n.setExpanded(),e.onStartGrow(t)},ZP=function(t,e,n){if(n.isExpanded()){Pn(t.element,WP(e));var r=$P(e,t.element);Tn(t.element,WP(e),r)}},tL=function(t,e,n){n.isExpanded()||QP(t,e,n)},eL=function(t,e,n){n.isExpanded()&&JP(t,e,n)},nL=function(t,e,n){n.isExpanded()&&YP(t,e,n)},rL=function(t,e,n){return n.isExpanded()},oL=function(t,e,n){return n.isCollapsed()},iL=function(t,e,n){var r=VP(t,e);return!0===Ps(r,e.growingClass)},uL=function(t,e,n){var r=VP(t,e);return!0===Ps(r,e.shrinkingClass)},aL=function(t,e,n){return iL(t,e)||uL(t,e)},cL=function(t,e,n){var r=n.isExpanded()?JP:QP;r(t,e,n)},sL=function(t,e,n){n.isExpanded()||(KP(t,e),Tn(t.element,WP(e),$P(e,t.element)),qP(t,e),n.setExpanded(),e.onStartGrow(t),e.onGrown(t))},fL=Object.freeze({__proto__:null,refresh:ZP,grow:tL,shrink:eL,immediateShrink:nL,hasGrown:rL,hasShrunk:oL,isGrowing:iL,isShrinking:uL,isTransitioning:aL,toggleGrow:cL,disableTransitions:qP,immediateGrow:sL}),lL=function(t,e,n){var r=e.expanded;return os(r?{classes:[e.openClass],styles:{}}:{classes:[e.closedClass],styles:Fu(e.dimension.property,"0px")})},dL=function(t,e){return ec([pc(ha(),(function(n,r){var o=r.event.raw;if(o.propertyName===t.dimension.property){qP(n,t),e.isExpanded()&&Pn(n.element,t.dimension.property);var i=e.isExpanded()?t.onGrown:t.onShrunk;i(n)}}))])},mL=Object.freeze({__proto__:null,exhibit:lL,events:dL}),pL=[Zi("closedClass"),Zi("openClass"),Zi("shrinkingClass"),Zi("growingClass"),fu("getAnimationRoot"),Xf("onShrunk"),Xf("onStartShrink"),Xf("onGrown"),Xf("onStartGrow"),yu("expanded",!1),tu("dimension",Ki("property",{width:[tl("property","width"),tl("getDimension",(function(t){return Jn(t)+"px"}))],height:[tl("property","height"),tl("getDimension",(function(t){return zn(t)+"px"}))]}))],gL=function(t){var e=Au(t.expanded),n=function(){return"expanded: "+e.get()};return Zc({isExpanded:function(){return!0===e.get()},isCollapsed:function(){return!1===e.get()},setCollapsed:V(e.set,!1),setExpanded:V(e.set,!0),readState:n})},vL=Object.freeze({__proto__:null,init:gL}),hL=rd({fields:pL,name:"sliding",active:mL,apis:fL,state:vL}),bL=function(t){return{isEnabled:function(){return!xb.isDisabled(t)},setEnabled:function(e){return xb.set(t,!e)},setActive:function(e){var n=t.element;e?(Bs(n,"tox-tbtn--enabled"),yn(n,"aria-pressed",!0)):(Is(n,"tox-tbtn--enabled"),kn(n,"aria-pressed"))},isActive:function(){return Ps(t.element,"tox-tbtn--enabled")},setText:function(e){Ya(t,nP,{text:e})},setIcon:function(e){return Ya(t,rP,{icon:e})}}},yL=function(t,e,n,r){var o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];return oP({text:t.text,icon:t.icon,tooltip:t.tooltip,searchable:t.search.isSome(),role:r,fetch:function(e,r){var o={pattern:t.search.isSome()?UR(e):""};t.fetch((function(e){r(gP(e,Mk.CLOSE_ON_EXECUTE,n,{isHorizontalMenu:!1,search:t.search}))}),o,bL(e))},onSetup:t.onSetup,getApi:bL,columns:1,presets:"normal",classes:[],dropdownBehaviours:c(o?[PN.config({})]:[])},e,n.shared)},xL=function(t,e,n){var r=function(t){return function(r){var o=!r.isActive();r.setActive(o),t.storage.set(o),n.shared.getSink().each((function(n){e().getOpt(n).each((function(e){fd(e.element),Ya(e,GN,{name:t.name,value:t.storage.get()})}))}))}},o=function(t){return function(e){e.setActive(t.storage.get())}};return function(e){e(ut(t,(function(t){var e=t.text.fold((function(){return{}}),(function(t){return{text:t}}));return u(u({type:t.type,active:!1},e),{},{onAction:r(t),onSetup:o(t)})})))}},wL=function(t){return{dom:{tag:"span",classes:["tox-tree__label"],attributes:{title:t,"aria-label":t}},components:[lf(t)]}},CL=Nc("leaf-label-event-id"),SL=function(t){var e=t.leaf,n=t.onLeafAction,r=t.visible,o=t.treeId,i=t.backstage,u=e.menu.map((function(t){return yL(t,"tox-mbtn",i,Y.none(),r)})),s=[wL(e.title)];return u.each((function(t){return s.push(t)})),oS.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(r?["tox-tree--leaf__label--visible"]:[])},components:s,role:"treeitem",action:function(t){n(e.id),t.getSystem().broadcastOn(["update-active-item-".concat(o)],{value:e.id})},eventOrder:a({},la(),[CL,"keying"]),buttonBehaviours:ed([].concat(c(r?[PN.config({})]:[]),[iC.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),ad.config({channels:a({},"update-active-item-".concat(o),{onReceive:function(t,n){(n.value===e.id?iC.on:iC.off)(t)}})}),Nw(CL,[ic(la(),(function(t,e){var n="ArrowLeft"===e.event.raw.code,r="ArrowRight"===e.event.raw.code;n?(kf(t.element,".tox-tree--directory").each((function(e){t.getSystem().getByDom(e).each((function(t){_f(e,".tox-tree--directory__label").each((function(e){t.getSystem().getByDom(e).each(zw.focus)}))}))})),e.stop()):r&&e.stop()}))])]))})},kL=function(t,e,n){return hS(t,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"],behaviours:n},e)},_L=function(t,e){return kL(t,e,[])},EL=Nc("directory-label-event-id"),OL=function(t){var e=t.directory,n=t.visible,r=t.noChildren,o=t.backstage,i=e.menu.map((function(t){return yL(t,"tox-mbtn",o,Y.none())})),u=[{dom:{tag:"div",classes:["tox-chevron"]},components:[_L("chevron-right",o.shared.providers.icons)]},wL(e.title)];i.each((function(t){u.push(t)}));var s=function(t){kf(t.element,".tox-tree--directory").each((function(e){t.getSystem().getByDom(e).each((function(t){return iC.toggle(t)}))}))};return oS.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(n?["tox-tree--directory__label--visible"]:[])},components:u,action:s,eventOrder:a({},la(),[EL,"keying"]),buttonBehaviours:ed([].concat(c(n?[PN.config({})]:[]),[Nw(EL,[ic(la(),(function(t,e){var n="ArrowRight"===e.event.raw.code,o="ArrowLeft"===e.event.raw.code;n&&r&&e.stop(),(n||o)&&kf(t.element,".tox-tree--directory").each((function(r){t.getSystem().getByDom(r).each((function(r){!iC.isOn(r)&&n||iC.isOn(r)&&o?(s(t),e.stop()):o&&!iC.isOn(r)&&(kf(r.element,".tox-tree--directory").each((function(t){_f(t,".tox-tree--directory__label").each((function(t){r.getSystem().getByDom(t).each(zw.focus)}))})),e.stop())}))}))}))])]))})},TL=function(t){var e=t.children,n=t.onLeafAction,r=t.visible,o=t.treeId,i=t.backstage;return{dom:{tag:"div",classes:["tox-tree--directory__children"]},components:e.map((function(t){return"leaf"===t.type?SL({leaf:t,onLeafAction:n,visible:r,treeId:o,backstage:i}):AL({directory:t,onLeafAction:n,labelTabstopping:r,treeId:o,backstage:i})})),behaviours:ed([hL.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking"}),Aw.config({})])}},AL=function t(e){var n=e.directory,r=e.onLeafAction,o=e.labelTabstopping,i=e.treeId,a=e.backstage,c=n.children,s=function(e){return c.map((function(n){return"leaf"===n.type?SL({leaf:n,onLeafAction:r,visible:e,treeId:i,backstage:a}):t({directory:n,onLeafAction:r,labelTabstopping:e,treeId:i,backstage:a})}))};return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[OL({directory:n,visible:o,noChildren:0===n.children.length,backstage:a}),TL({children:c,onLeafAction:r,visible:!1,treeId:i,backstage:a})],behaviours:ed([iC.config(u(u({},n.children.length>0?{aria:{mode:"expanded"}}:{}),{},{toggleClass:"tox-tree--directory--expanded",onToggled:function(t,e){var n=t.components()[1],r=s(e);e?hL.grow(n):hL.shrink(n),Aw.set(n,r)}}))])}},RL=function(t,e){var n=t.onLeafAction.getOr(P),r=Nc("tree-id"),o=t.items.map((function(t){return"leaf"===t.type?SL({leaf:t,onLeafAction:n,visible:!0,treeId:r,backstage:e}):AL({directory:t,onLeafAction:n,labelTabstopping:!0,treeId:r,backstage:e})}));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:o,behaviours:ed([gw.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1})])}},NL=function(t,e){var n=t.stream.streams,r=n.setup(t,e);return ec([ic(t.event,r),vc((function(){return e.cancel()}))].concat(t.cancelEvent.map((function(t){return[ic(t,(function(){return e.cancel()}))]})).getOr([])))},DL=Object.freeze({__proto__:null,events:NL}),BL=function(t,e){var n=null,r=function(){T(n)||(clearTimeout(n),n=null)},o=function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];T(n)&&(n=setTimeout((function(){n=null,t.apply(null,o)}),e))};return{cancel:r,throttle:o}},ML=function(t,e){var n=null,r=function(){T(n)||(clearTimeout(n),n=null)},o=function(){for(var o=arguments.length,i=new Array(o),u=0;u<o;u++)i[u]=arguments[u];r(),n=setTimeout((function(){n=null,t.apply(null,i)}),e)};return{cancel:r,throttle:o}},IL=function(t){var e=Au(null),n=function(){return{timer:null!==e.get()?"set":"unset"}},r=function(t){e.set(t)},o=function(){var t=e.get();null!==t&&t.cancel()};return Zc({readState:n,setTimer:r,cancel:o})},PL=function(t){return t.stream.streams.state(t)},LL=Object.freeze({__proto__:null,throttle:IL,init:PL}),FL=function(t,e){var n=t.stream,r=ML(t.onStream,n.delay);return e.setTimer(r),function(t,e){r.throttle(t,e),n.stopEvent&&e.stop()}},jL=[tu("stream",Ki("mode",{throttle:[Zi("delay"),yu("stopEvent",!0),tl("streams",{setup:FL,state:IL})]})),yu("event","input"),fu("cancelEvent"),Qf("onStream")],zL=rd({fields:jL,name:"streaming",active:DL,state:LL}),UL=function(t,e,n){var r=Lv.getValue(n);Lv.setValue(e,r),VL(e)},HL=function(t,e){var n=t.element,r=Hs(n),o=n.dom;"number"!==wn(n,"type")&&e(o,r)},VL=function(t){HL(t,(function(t,e){return t.setSelectionRange(e.length,e.length)}))},WL=function(t,e){HL(t,(function(t,n){return t.setSelectionRange(e,n.length)}))},$L=function(t,e,n){if(t.selectsOver){var r=Lv.getValue(e),o=t.getDisplayText(r),i=Lv.getValue(n),u=t.getDisplayText(i);return 0===u.indexOf(o)?Y.some((function(){UL(t,e,n),WL(e,o.length)})):Y.none()}return Y.none()},qL=z("alloy.typeahead.itemexecute"),GL=function(t,e,n,r){var o=function(e,n,o){t.previewing.set(!1);var i=uR.getCoupled(e,"sandbox");if(ev.isOpen(i))eb.getCurrent(i).each((function(t){zb.getHighlighted(t).fold((function(){o(t)}),(function(){tc(i,t.element,"keydown",n)}))}));else{var u=function(t){eb.getCurrent(t).each(o)};xR(t,c(e),e,i,r,u,fy.HighlightMenuAndItem).get(P)}},i=s_(t),c=function(t){return function(e){return e.map((function(e){var n=zt(e.menus),r=ht(n,(function(t){return ft(t.items,(function(t){return"item"===t.type}))})),o=Lv.getState(t);return o.update(ut(r,(function(t){return t.data}))),e}))}},s=function(t){return eb.getCurrent(t)},f="typeaheadevents",l=[zw.config({}),Lv.config({onSetValue:t.onSetValue,store:u({mode:"dataset",getDataKey:function(t){return Hs(t.element)},getFallbackEntry:function(t){return{value:t,meta:{}}},setValue:function(e,n){Vs(e.element,t.model.getDisplayText(n))}},t.initialData.map((function(t){return Fu("initialValue",t)})).getOr({}))}),zL.config({stream:{mode:"throttle",delay:t.responseTime,stopEvent:!1},onStream:function(e,n){var o=uR.getCoupled(e,"sandbox"),i=zw.isFocused(e);if(i&&Hs(e.element).length>=t.minChars){var u=s(o).bind((function(t){return zb.getHighlighted(t).map(Lv.getValue)}));t.previewing.set(!0);var a=function(e){s(o).each((function(e){u.fold((function(){t.model.selectsOver&&zb.highlightFirst(e)}),(function(t){zb.highlightBy(e,(function(e){var n=Lv.getValue(e);return n.value===t.value})),zb.getHighlighted(e).orThunk((function(){return zb.highlightFirst(e),Y.none()}))}))}))};xR(t,c(e),e,o,r,a,fy.HighlightJustMenu).get(P)}},cancelEvent:Na()}),gw.config({mode:"special",onDown:function(t,e){return o(t,e,zb.highlightFirst),Y.some(!0)},onEscape:function(t){var e=uR.getCoupled(t,"sandbox");return ev.isOpen(e)?(ev.close(e),Y.some(!0)):Y.none()},onUp:function(t,e){return o(t,e,zb.highlightLast),Y.some(!0)},onEnter:function(e){var n=uR.getCoupled(e,"sandbox"),r=ev.isOpen(n);if(r&&!t.previewing.get())return s(n).bind((function(t){return zb.getHighlighted(t)})).map((function(t){return Ya(e,qL(),{item:t}),!0}));var o=Lv.getValue(e);return Ka(e,Na()),t.onExecute(n,e,o),r&&ev.close(n),Y.some(!0)}}),iC.config({toggleClass:t.markers.openClass,aria:{mode:"expanded"}}),uR.config({others:{sandbox:function(e){return ER(t,e,{onOpen:function(){return iC.on(e)},onClose:function(){return iC.off(e)}})}}}),Nw(f,[gc((function(e){t.lazyTypeaheadComp.set(Y.some(e))})),vc((function(e){t.lazyTypeaheadComp.set(Y.none())})),bc((function(e){var n=P;CR(t,c(e),e,r,n,fy.HighlightMenuAndItem).get(P)})),ic(qL(),(function(e,n){var r=uR.getCoupled(e,"sandbox");UL(t.model,e,n.event.item),Ka(e,Na()),t.onItemExecute(e,r,n.event.item,Lv.getValue(e)),ev.close(r),VL(e)}))].concat(t.dismissOnBlur?[ic(Sa(),(function(t){var e=uR.getCoupled(t,"sandbox");pd(e.element).isNone()&&ev.close(e)}))]:[]))],d=u(a({},Fa(),[Lv.name(),zL.name(),f]),t.eventOrder);return{uid:t.uid,dom:l_(qo(t,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:u(u({},i),zv(t.typeaheadBehaviours,l)),eventOrder:d}},KL=z([fu("lazySink"),Zi("fetch"),yu("minChars",5),yu("responseTime",1e3),Xf("onOpen"),yu("getHotspot",Y.some),yu("getAnchorOverrides",z({})),yu("layouts",Y.none()),yu("eventOrder",{}),Tu("model",{},[yu("getDisplayText",(function(t){return void 0!==t.meta&&void 0!==t.meta.text?t.meta.text:t.value})),yu("selectsOver",!0),yu("populateFromBrowse",!0)]),Xf("onSetValue"),Jf("onExecute"),Xf("onItemExecute"),yu("inputClasses",[]),yu("inputAttributes",{}),yu("inputStyles",{}),yu("matchWidth",!0),yu("useMinWidth",!1),yu("dismissOnBlur",!0),Kf(["openClass"]),fu("initialData"),Fv("typeaheadBehaviours",[zw,Lv,zL,gw,iC,uR]),Ji("lazyTypeaheadComp",(function(){return Au(Y.none)})),Ji("previewing",(function(){return Au(!0)}))].concat(c_()).concat(TR())),YL=z([hh({schema:[Gf()],name:"menu",overrides:function(t){return{fakeFocus:!0,onHighlightItem:function(e,n,r){t.previewing.get()?t.lazyTypeaheadComp.get().each((function(e){$L(t.model,e,r).fold((function(){t.model.selectsOver?(zb.dehighlight(n,r),t.previewing.set(!0)):t.previewing.set(!1)}),(function(e){e(),t.previewing.set(!1)}))})):t.lazyTypeaheadComp.get().each((function(e){t.model.populateFromBrowse&&UL(t.model,e,r)}))},onExecute:function(e,n){return t.lazyTypeaheadComp.get().map((function(t){return Ya(t,qL(),{item:n}),!0}))},onHover:function(e,n){t.previewing.set(!1),t.lazyTypeaheadComp.get().each((function(e){t.model.populateFromBrowse&&UL(t.model,e,n)}))}}}})]),XL=Xh({name:"Typeahead",configFields:KL(),partFields:YL(),factory:GL}),JL=function t(e){var n=function(){return t(e.toCached())},r=function(n){return t(e.bind((function(t){return t.fold((function(t){return pR.pure(To.error(t))}),(function(t){return n(t)}))})))},o=function(n){return t(e.map((function(t){return t.bind(n)})))},i=function(n){return t(e.map((function(t){return t.map(n)})))},a=function(n){return t(e.map((function(t){return t.mapError(n)})))},c=function(t,n){return e.map((function(e){return e.fold(t,n)}))},s=function(n,r){return t(pR.nu((function(t){var o=!1,i=setTimeout((function(){o=!0,t(To.error(r()))}),n);e.get((function(e){o||(clearTimeout(i),t(e))}))})))};return u(u({},e),{},{toCached:n,bindFuture:r,bindResult:o,mapResult:i,mapError:a,foldResult:c,withTimeout:s})},QL=function(t){return JL(pR.nu(t))},ZL=function(t){return JL(pR.pure(To.value(t)))},tF=function(t){return JL(pR.pure(To.error(t)))},eF=function(t){return JL(pR.pure(t))},nF=function(t){return JL(t.map(To.value))},rF=function(t){return QL((function(e){t.then((function(t){e(To.value(t))}),(function(t){e(To.error(t))}))}))},oF={nu:QL,wrap:JL,pure:ZL,value:ZL,error:tF,fromResult:eF,fromFuture:nF,fromPromise:rF},iF=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0,a=e.fold((function(){return{}}),(function(t){return{action:t}})),c=u({buttonBehaviours:ed([TO.button((function(){return!t.enabled||i.isDisabled()})),SO(),PN.config({}),Nw("button press",[oc("click"),oc("mousedown")])].concat(n)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]}},a),s=qo(c,{dom:r});return qo(s,{components:o})},uF=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=t.tooltip.map((function(t){return{"aria-label":n.translate(t),title:n.translate(t)}})).getOr({}),i={tag:"button",classes:["tox-tbtn"],attributes:o},u=t.icon.map((function(t){return ZI(t,n.icons)})),a=MO([u]);return iF(t,e,r,i,a,n)},aF=function(t){switch(t){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];case"secondary":default:return["tox-button","tox-button--secondary"]}},cF=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],i=n.translate(t.text),u=t.icon.map((function(t){return ZI(t,n.icons)})),a=[u.getOrThunk((function(){return lf(i)}))],s=t.buttonType.getOr(t.primary||t.borderless?"primary":"secondary"),f=aF(s),l=[].concat(c(f),c(u.isSome()?["tox-button--icon"]:[]),c(t.borderless?["tox-button--naked"]:[]),c(o)),d={tag:"button",classes:l,attributes:{title:i}};return iF(t,e,r,d,a,n)},sF=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],i=cF(t,Y.some(e),n,r,o);return oS.sketch(i)},fF=function(t,e){return function(n){"custom"===e?Ya(n,GN,{name:t,value:{}}):"submit"===e?Ka(n,KN):"cancel"===e?Ka(n,qN):console.error("Unknown button type: ",e)}},lF=function(t,e){return"menu"===e},dF=function(t,e){return"custom"===e||"cancel"===e||"submit"===e},mF=function(t,e){return"togglebutton"===e},pF=function(t,e){var n,r,o,i=Y.from(t.icon).map((function(t){return tP(t,e.icons)})).map(iS),a=function(n){Ya(n,GN,{name:t.name,value:{setIcon:function(t){i.map((function(r){return r.getOpt(n).each((function(n){Aw.set(n,[tP(t,e.icons)])}))}))}}})},s=u(u({},t),{},{name:null!==(n=t.name)&&void 0!==n?n:"",primary:"primary"===t.buttonType,buttonType:Y.from(t.buttonType),tooltip:Y.from(t.tooltip),icon:Y.from(t.name),enabled:null!==(r=t.enabled)&&void 0!==r&&r,borderless:!1}),f=s.tooltip.map((function(t){return{"aria-label":e.translate(t),title:e.translate(t)}})).getOr({}),l=aF(null!==(o=t.buttonType)&&void 0!==o?o:"secondary"),d=!!t.icon&&!!t.text,m={tag:"button",classes:[].concat(c(l.concat(["tox-button--icon"])),c(t.active?["tox-button--enabled"]:[]),c(d?["tox-button--icon-and-text"]:[])),attributes:f},p=[],g=e.translate(t.text),v=lf(g),h=MO([i.map((function(t){return t.asSpec()}))]),b=[].concat(c(h),c(d?[v]:[])),y=iF(s,Y.some(a),p,m,b,e);return oS.sketch(y)},gF=function(t,e,n){if(lF(t,e)){var r=function(){return a},o=t,i=u(u({},t),{},{type:"menubutton",search:Y.none(),onSetup:function(e){return e.setEnabled(t.enabled),P},fetch:xL(o.items,r,n)}),a=iS(yL(i,"tox-tbtn",n,Y.none()));return a.asSpec()}if(dF(t,e)){var c=fF(t.name,e),s=u(u({},t),{},{borderless:!1});return sF(s,c,n.shared.providers,[])}if(mF(t,e)){var f=u(u({},t),{},{tooltip:t.tooltip,text:t.text.getOrUndefined(),buttonType:t.buttonType.getOrUndefined()});return pF(f,n.shared.providers)}throw console.error("Unknown footer button type: ",e),new Error("Unknown footer button type")},vF=function(t,e){var n=fF(t.name,"custom");return jN(Y.none(),DN.parts.field(u({factory:oS},cF(t,Y.some(n),e,[CI.memory(""),pI.self()]))))},hF={type:"separator"},bF=function(t){return{type:"menuitem",value:t.url,text:t.title,meta:{attach:t.attach},onAction:P}},yF=function(t,e){return{type:"menuitem",value:e,text:t,meta:{attach:void 0},onAction:P}},xF=function(t){return ut(t,bF)},wF=function(t,e){return ft(e,(function(e){return e.type===t}))},CF=function(t,e){return xF(wF(t,e))},SF=function(t){return CF("header",t.targets)},kF=function(t){return CF("anchor",t.targets)},_F=function(t){return Y.from(t.anchorTop).map((function(t){return yF("<top>",t)})).toArray()},EF=function(t){return Y.from(t.anchorBottom).map((function(t){return yF("<bottom>",t)})).toArray()},OF=function(t){return ut(t,(function(t){return yF(t,t)}))},TF=function(t){return dt(t,(function(t,e){var n=0===t.length||0===e.length;return n?t.concat(e):t.concat(hF,e)}),[])},AF=function(t,e){var n=t.toLowerCase();return ft(e,(function(t){var e,r=void 0!==t.meta&&void 0!==t.meta.text?t.meta.text:t.text,o=null!==(e=t.value)&&void 0!==e?e:"";return re(r.toLowerCase(),n)||re(o.toLowerCase(),n)}))},RF=function(t,e,n){var r,o,i=Lv.getValue(e),u=null!==(o=null===(r=null===i||void 0===i?void 0:i.meta)||void 0===r?void 0:r.text)&&void 0!==o?o:i.value,a=n.getLinkInformation();return a.fold((function(){return[]}),(function(e){var r=AF(u,OF(n.getHistory(t)));return"file"===t?TF([r,AF(u,SF(e)),AF(u,vt([_F(e),kF(e),EF(e)]))]):r}))},NF=Nc("aria-invalid"),DF=function(t,e,n,r){var o=e.shared.providers,i=function(e){var r=Lv.getValue(e);n.addToHistory(r.value,t.filetype)},s=u(u({},r.map((function(t){return{initialData:t}})).getOr({})),{},{dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":NF,type:"url"},minChars:0,responseTime:0,fetch:function(r){var o=RF(t.filetype,r,n),i=gP(o,Mk.BUBBLE_TO_SANDBOX,e,{isHorizontalMenu:!1,search:Y.none()});return pR.pure(i)},getHotspot:function(t){return h.getOpt(t)},onSetValue:function(t,e){t.hasConfigured(lD)&&lD.run(t).get(P)},typeaheadBehaviours:ed([].concat(c(n.getValidationHandler().map((function(e){return lD.config({getRoot:function(t){return Ye(t.element)},invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:function(t,e){m.getOpt(t).each((function(t){yn(t.element,"title",o.translate(e))}))}},validator:{validate:function(n){var r=Lv.getValue(n);return oF.nu((function(n){e({type:t.filetype,url:r.value},(function(t){if("invalid"===t.status){var e=To.error(t.message);n(e)}else{var r=To.value(t.message);n(r)}}))}))},validateOnLoad:!1}})})).toArray()),[xb.config({disabled:function(){return!t.enabled||o.isDisabled()}}),PN.config({}),Nw("urlinput-events",[ic(ma(),(function(e){var n=Hs(e.element),r=n.trim();r!==n&&Vs(e.element,r),"file"===t.filetype&&Ya(e,WN,{name:t.name})})),ic(pa(),(function(e){Ya(e,WN,{name:t.name}),i(e)})),ic(ka(),(function(e){Ya(e,WN,{name:t.name}),i(e)}))])])),eventOrder:a({},ma(),["streaming","urlinput-events","invalidating"]),model:{getDisplayText:function(t){return t.value},selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:e.shared.getSink,parts:{menu:a_(!1,1,"normal")},onExecute:function(t,e,n){Ya(e,KN,{})},onItemExecute:function(e,n,r,o){i(e),Ya(e,WN,{name:t.name})}}),f=DN.parts.field(u(u({},s),{},{factory:XL})),l=t.label.map((function(t){return VN(t,o)})),d=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t;return hS(n,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+t],attributes:u({title:o.translate(r),"aria-live":"polite"},e.fold((function(){return{}}),(function(t){return{id:t}})))},o.icons)},m=iS(d("invalid",Y.some(NF),"warning")),p=iS({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[m.asSpec()]}),g=n.getUrlPicker(t.filetype),v=Nc("browser.url.event"),h=iS({dom:{tag:"div",classes:["tox-control-wrap"]},components:[f,p.asSpec()],behaviours:ed([xb.config({disabled:function(){return!t.enabled||o.isDisabled()}})])}),b=iS(sF({name:t.name,icon:Y.some("browse"),text:t.label.getOr(""),enabled:t.enabled,primary:!1,buttonType:Y.none(),borderless:!0},(function(t){return Ka(t,v)}),o,[],["tox-browse-url"])),y=function(){return{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:vt([[h.asSpec()],g.map((function(){return b.asSpec()})).toArray()])}},x=function(e){eb.getCurrent(e).each((function(n){var r=Lv.getValue(n),o=u({fieldname:t.name},r);g.each((function(r){r(o).get((function(r){Lv.setValue(n,r),Ya(e,WN,{name:t.name})}))}))}))};return DN.sketch({dom:UN(),components:l.toArray().concat([y()]),fieldBehaviours:ed([xb.config({disabled:function(){return!t.enabled||o.isDisabled()},onDisabled:function(t){DN.getField(t).each(xb.disable),b.getOpt(t).each(xb.disable)},onEnabled:function(t){DN.getField(t).each(xb.enable),b.getOpt(t).each(xb.enable)}}),SO(),Nw("url-input-events",[ic(v,x)])])})},BF=function(t,e){return EN.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in","tox-notification--".concat(t.level)]},components:[{dom:{tag:"div",classes:["tox-notification__icon"]},components:[oS.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:dS(t.icon,e.icons),attributes:{title:e.translate(t.iconTooltip)}},action:function(e){Ya(e,GN,{name:"alert-banner",value:t.url})},buttonBehaviours:ed([gS()])})]},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:e.translate(t.text)}}]})},MF=function(t,e){t.dom.checked=e},IF=function(t){return t.dom.checked},PF=function(t,e,n){var r=function(t){return t.element.dom.click(),Y.some(!0)},o=DN.parts.field({factory:{sketch:U},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:ed([pI.self(),xb.config({disabled:function(){return!t.enabled||e.isDisabled()}}),PN.config({}),zw.config({}),CI.withElement(n,IF,MF),gw.config({mode:"special",onEnter:r,onSpace:r,stopSpaceKeyup:!0}),Nw("checkbox-events",[ic(pa(),(function(e,n){Ya(e,WN,{name:t.name})}))])])}),i=DN.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[lf(e.translate(t.label))],behaviours:ed([gD.config({})])}),u=function(t){var n="checked"===t?"selected":"unselected";return hS(n,{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+t]},e.icons)},a=iS({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[u("checked"),u("unchecked")]});return DN.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[o,a.asSpec(),i],fieldBehaviours:ed([xb.config({disabled:function(){return!t.enabled||e.isDisabled()},disableClass:"tox-checkbox--disabled",onDisabled:function(t){DN.getField(t).each(xb.disable)},onEnabled:function(t){DN.getField(t).each(xb.enable)}}),SO()])})},LF=function(t){return"presentation"===t.presets?EN.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html}}):EN.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html,attributes:{role:"document"}},containerBehaviours:ed([PN.config({}),zw.config({})])})},FF=function(t){return function(e,n,r,o){return Ut(n,"name").fold((function(){return t(n,o,Y.none())}),(function(i){return e.field(i,t(n,o,Ut(r,i)))}))}},jF=function(t){return function(e,n,r,o){var i=qo(n,{source:"dynamic"});return FF(t)(e,i,r,o)}},zF={bar:FF((function(t,e){return TN(t,e.shared)})),collection:FF((function(t,e,n){return ZN(t,e.shared.providers,n)})),alertbanner:FF((function(t,e){return BF(t,e.shared.providers)})),input:FF((function(t,e,n){return UP(t,e.shared.providers,n)})),textarea:FF((function(t,e,n){return HP(t,e.shared.providers,n)})),label:FF((function(t,e){return qI(t,e.shared)})),iframe:jF((function(t,e,n){return UI(t,e.shared.providers,n)})),button:FF((function(t,e){return vF(t,e.shared.providers)})),checkbox:FF((function(t,e,n){return PF(t,e.shared.providers,n)})),colorinput:FF((function(t,e,n){return xD(t,e.shared,e.colorinput,n)})),colorpicker:FF((function(t,e,n){return _I(t,e.shared.providers,n)})),dropzone:FF((function(t,e,n){return NI(t,e.shared.providers,n)})),grid:FF((function(t,e){return DI(t,e.shared)})),listbox:FF((function(t,e,n){return xP(t,e,n)})),selectbox:FF((function(t,e,n){return kP(t,e.shared.providers,n)})),sizeinput:FF((function(t,e){return LP(t,e.shared.providers)})),slider:FF((function(t,e,n){return FP(t,e.shared.providers,n)})),urlinput:FF((function(t,e,n){return DF(t,e,e.urlinput,n)})),customeditor:FF(TI),htmlpanel:FF(LF),imagepreview:FF((function(t,e,n){return $I(t,n)})),table:FF((function(t,e){return jP(t,e.shared.providers)})),tree:FF((function(t,e){return RL(t,e)})),panel:FF((function(t,e){return wP(t,e)}))},UF={field:function(t,e){return e},record:z([])},HF=function(t,e,n,r){var o=qo(r,{shared:{interpreter:function(e){return VF(t,e,n,o)}}});return VF(t,e,n,o)},VF=function(t,e,n,r){return Ut(zF,e.type).fold((function(){return console.error('Unknown factory type "'.concat(e.type,'", defaulting to container: '),e),e}),(function(o){return o(t,e,n,r)}))},WF=function(t,e,n){return VF(UF,t,e,n)},$F="layout-inset",qF=function(t){return t.x},GF=function(t,e){return t.x+t.width/2-e.width/2},KF=function(t,e){return t.x+t.width-e.width},YF=function(t){return t.y},XF=function(t,e){return t.y+t.height-e.height},JF=function(t,e){return t.y+t.height/2-e.height/2},QF=function(t,e,n){return rl(KF(t,e),XF(t,e),n.insetSouthwest(),ll(),"southwest",yl(t,{right:0,bottom:3}),$F)},ZF=function(t,e,n){return rl(qF(t),XF(t,e),n.insetSoutheast(),fl(),"southeast",yl(t,{left:1,bottom:3}),$F)},tj=function(t,e,n){return rl(KF(t,e),YF(t),n.insetNorthwest(),sl(),"northwest",yl(t,{right:0,top:2}),$F)},ej=function(t,e,n){return rl(qF(t),YF(t),n.insetNortheast(),cl(),"northeast",yl(t,{left:1,top:2}),$F)},nj=function(t,e,n){return rl(GF(t,e),YF(t),n.insetNorth(),dl(),"north",yl(t,{top:2}),$F)},rj=function(t,e,n){return rl(GF(t,e),XF(t,e),n.insetSouth(),ml(),"south",yl(t,{bottom:3}),$F)},oj=function(t,e,n){return rl(KF(t,e),JF(t,e),n.insetEast(),gl(),"east",yl(t,{right:0}),$F)},ij=function(t,e,n){return rl(qF(t),JF(t,e),n.insetWest(),pl(),"west",yl(t,{left:1}),$F)},uj=function(t){switch(t){case"north":return nj;case"northeast":return ej;case"northwest":return tj;case"south":return rj;case"southeast":return ZF;case"southwest":return QF;case"east":return oj;case"west":return ij}},aj=function(t,e,n,r,o){var i=Bd(r).map(uj).getOr(nj);return i(t,e,n,r,o)},cj=function(t){switch(t){case"north":return rj;case"northeast":return ZF;case"northwest":return QF;case"south":return nj;case"southeast":return ej;case"southwest":return tj;case"east":return ij;case"west":return oj}},sj=function(t,e,n,r,o){var i=Bd(r).map(cj).getOr(nj);return i(t,e,n,r,o)},fj={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},lj=function(t,e,n){var r=12,o={maxHeightFunction:mm()},i=function(){return{type:"node",root:sn(cn(t())),node:Y.from(t()),bubble:bm(r,r,fj),layouts:{onRtl:function(){return[ej]},onLtr:function(){return[tj]}},overrides:o}},u=function(){return{type:"hotspot",hotspot:e(),bubble:bm(-r,r,fj),layouts:{onRtl:function(){return[Rl,Nl,Il]},onLtr:function(){return[Nl,Rl,Il]}},overrides:o}};return function(){return n()?i():u()}},dj=function(t,e,n){var r=function(){return{type:"node",root:sn(cn(t())),node:Y.from(t()),layouts:{onRtl:function(){return[nj]},onLtr:function(){return[nj]}}}},o=function(){return{type:"hotspot",hotspot:e(),layouts:{onRtl:function(){return[Il]},onLtr:function(){return[Il]}}}};return function(){return n()?r():o()}},mj=function(t,e){return function(){return{type:"selection",root:e(),getSelection:function(){var e=t.selection.getRng();return Y.some(fp.range(ve.fromDom(e.startContainer),e.startOffset,ve.fromDom(e.endContainer),e.endOffset))}}}},pj=function(t){return function(e){return{type:"node",root:t(),node:e}}},gj=function(t,e,n){var r=wk(t),o=function(){return ve.fromDom(t.getBody())},i=function(){return ve.fromDom(t.getContentAreaContainer())},u=function(){return r||!n()};return{inlineDialog:lj(i,e,u),banner:dj(i,e,u),cursor:mj(t,o),node:pj(o)}},vj=function(t){return function(e,n){var r=_A(t);r(e,n)}},hj=function(t){return function(){return uA(t)}},bj=function(t){return function(e){return aA(t,e)}},yj=function(t){return function(e){return iA(t,e)}},xj=function(t){return{colorPicker:vj(t),hasCustomColors:hj(t),getColors:bj(t),getColorCols:yj(t)}},wj=function(t){return function(){return ok(t)}},Cj=function(t){return{isDraggableModal:wj(t)}},Sj=function(t){var e=Au(yk(t)?"bottom":"top");return{isPositionedAtTop:function(){return"top"===e.get()},getDockingMode:e.get,setDockingMode:e.set}},kj=function(t){return Vt(t,"items")},_j=function(t){return Vt(t,"format")},Ej=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],Oj=function(t){return Ht(t,"items")},Tj=function(t){return Ht(t,"block")},Aj=function(t){return Ht(t,"inline")},Rj=function(t){return Ht(t,"selector")},Nj=function t(e){return dt(e,(function(e,n){if(Oj(n)){var r=t(n.items);return{customFormats:e.customFormats.concat(r.customFormats),formats:e.formats.concat([{title:n.title,items:r.formats}])}}if(Aj(n)||Tj(n)||Rj(n)){var o=k(n.name)?n.name:n.title.toLowerCase(),i="custom-".concat(o);return{customFormats:e.customFormats.concat([{name:i,format:n}]),formats:e.formats.concat([{title:n.title,format:i,icon:n.icon}])}}return u(u({},e),{},{formats:e.formats.concat(n)})}),{customFormats:[],formats:[]})},Dj=function(t,e){var n=Nj(e),r=function(e){at(e,(function(e){t.formatter.has(e.name)||t.formatter.register(e.name,e.format)}))};return t.formatter?r(n.customFormats):t.on("init",(function(){r(n.customFormats)})),n.formats},Bj=function(t){return LS(t).map((function(e){var n=Dj(t,e);return FS(t)?Ej.concat(n):n})).getOr(Ej)},Mj=function(t){var e=At(t);return 1===e.length&&nt(e,"title")},Ij=function(t,e,n){return u(u({},t),{},{type:"formatter",isSelected:e(t.format),getStylePreview:n(t.format)})},Pj=function(t,e,n,r){var o=function(t){return Ij(t,n,r)},i=function(t){var e=c(t.items);return u(u({},t),{},{type:"submenu",getStyleItems:z(e)})},a=function(e){var o=k(e.name)?e.name:Nc(e.title),i="custom-".concat(o),a=u(u({},e),{},{type:"formatter",format:i,isSelected:n(i),getStylePreview:r(i)});return t.formatter.register(o,a),a},c=function(t){return ut(t,(function(t){return kj(t)?i(t):_j(t)?o(t):Mj(t)?u(u({},t),{},{type:"separator"}):a(t)}))};return c(e)},Lj=function(t){var e=function(e){return function(){return t.formatter.match(e)}},n=function(e){return function(){var n=t.formatter.get(e);return void 0!==n?Y.some({tag:n.length>0&&(n[0].inline||n[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(e))}):Y.none()}},r=Au([]),o=Au([]),i=Au(!1);t.on("PreInit",(function(o){var i=Bj(t),u=Pj(t,i,e,n);r.set(u)})),t.on("addStyleModifications",(function(r){var u=Pj(t,r.items,e,n);o.set(u),i.set(r.replace)}));var u=function(){var t=i.get()?[]:r.get(),e=o.get();return t.concat(e)};return{getData:u}},Fj=function(t){return D(t)&&1===t.nodeType},jj=AI.trim,zj=function(t){return function(e){if(Fj(e)){if(e.contentEditable===t)return!0;if(e.getAttribute("data-mce-contenteditable")===t)return!0}return!1}},Uj=zj("true"),Hj=zj("false"),Vj=function(t,e,n,r,o){return{type:t,title:e,url:n,level:r,attach:o}},Wj=function(t){var e=t;while(e=e.parentNode){var n=e.contentEditable;if(n&&"inherit"!==n)return Uj(e)}return!1},$j=function(t,e){return ut(Ep(ve.fromDom(e),t),(function(t){return t.dom}))},qj=function(t){return t.innerText||t.textContent},Gj=function(t){return t.id?t.id:Nc("h")},Kj=function(t){return t&&"A"===t.nodeName&&void 0!==(t.id||t.name)},Yj=function(t){return Kj(t)&&Jj(t)},Xj=function(t){return t&&/^(H[1-6])$/.test(t.nodeName)},Jj=function(t){return Wj(t)&&!Hj(t)},Qj=function(t){return Xj(t)&&Jj(t)},Zj=function(t){return Xj(t)?parseInt(t.nodeName.substr(1),10):0},tz=function(t){var e,n=Gj(t),r=function(){t.id=n};return Vj("header",null!==(e=qj(t))&&void 0!==e?e:"","#"+n,Zj(t),r)},ez=function(t){var e=t.id||t.name,n=qj(t);return Vj("anchor",n||"#"+e,"#"+e,0,P)},nz=function(t){return ut(ft(t,Qj),tz)},rz=function(t){return ut(ft(t,Yj),ez)},oz=function(t){var e=$j("h1,h2,h3,h4,h5,h6,a:not([href])",t);return e},iz=function(t){return jj(t.title).length>0},uz=function(t){var e=oz(t);return ft(nz(e).concat(rz(e)),iz)},az={find:uz},cz="tinymce-url-history",sz=5,fz=function(t){return k(t)&&/^https?/.test(t)},lz=function(t){return O(t)&&t.length<=sz&&bt(t,fz)},dz=function(t){return _(t)&&jt(t,(function(t){return!lz(t)})).isNone()},mz=function(){var t,e=FT.getItem(cz);if(null===e)return{};try{t=JSON.parse(e)}catch(n){if(n instanceof SyntaxError)return console.log("Local storage "+cz+" was not valid JSON",n),{};throw n}return dz(t)?t:(console.log("Local storage "+cz+" was not valid format",t),{})},pz=function(t){if(!dz(t))throw new Error("Bad format for history:\n"+JSON.stringify(t));FT.setItem(cz,JSON.stringify(t))},gz=function(t){var e=mz();return Ut(e,t).getOr([])},vz=function(t,e){if(fz(t)){var n=mz(),r=Ut(n,e).getOr([]),o=ft(r,(function(e){return e!==t}));n[e]=[t].concat(o).slice(0,sz),pz(n)}},hz=function(t){return!!t},bz=function(t){return Dt(AI.makeMap(t,/[, ]/),hz)},yz=function(t){return Y.from(JS(t))},xz=function(t){var e=Y.from(tk(t)).filter(hz).map(bz);return yz(t).fold(G,(function(t){return e.fold(K,(function(t){return At(t).length>0&&t}))}))},wz=function(t,e){var n=xz(t);return A(n)?n?yz(t):Y.none():n[e]?yz(t):Y.none()},Cz=function(t,e){return wz(t,e).map((function(n){return function(r){return pR.nu((function(o){var i=function(t,e){if(!k(t))throw new Error("Expected value to be string");if(void 0!==e&&!_(e))throw new Error("Expected meta to be a object");var n={value:t,meta:e};o(n)},a=u({filetype:e,fieldname:r.fieldname},Y.from(r.meta).getOr({}));n.call(t,i,r.value,a)}))}}))},Sz=function(t){return Y.from(t).filter(k).getOrUndefined()},kz=function(t){return ek(t)?Y.some({targets:az.find(t.getBody()),anchorTop:Sz(nk(t)),anchorBottom:Sz(rk(t))}):Y.none()},_z=function(t){return Y.from(QS(t))},Ez=function(t){return{getHistory:gz,addToHistory:vz,getLinkInformation:function(){return kz(t)},getValidationHandler:function(){return _z(t)},getUrlPicker:function(e){return Cz(t,e)}}},Oz=function(t,e,n){var r=Au(!1),o=Sj(e),i={icons:function(){return e.ui.registry.getAll().icons},menuItems:function(){return e.ui.registry.getAll().menuItems},translate:uS.translate,isDisabled:function(){return e.mode.isReadOnly()||!e.ui.isEnabled()},getOption:e.options.get},a=Ez(e),c=Lj(e),s=xj(e),f=Cj(e),l=function(){return r.get()},d=function(t){return r.set(t)},m={shared:{providers:i,anchors:gj(e,n,o.isPositionedAtTop),header:o},urlinput:a,styles:c,colorinput:s,dialog:f,isContextMenuOpen:l,setContextMenuState:d},p=u(u({},m),{},{shared:u(u({},m.shared),{},{interpreter:function(t){return WF(t,{},p)},getSink:t.popup})}),g=u(u({},m),{},{shared:u(u({},m.shared),{},{interpreter:function(t){return WF(t,{},g)},getSink:t.dialog})});return{popup:p,dialog:g}},Tz=function(t,e,n){var r=function(t,r){at([e].concat(c(n)),(function(e){e.broadcastEvent(t,r)}))},o=function(t,r){at([e].concat(c(n)),(function(e){e.broadcastOn([t],r)}))},i=function(t){return o(nv(),{target:t.target})},u=co(),a=qd(u,"touchstart",i),s=qd(u,"touchmove",(function(t){return r(Ba(),t)})),f=qd(u,"touchend",(function(t){return r(Ma(),t)})),l=qd(u,"mousedown",i),d=qd(u,"mouseup",(function(t){0===t.raw.button&&o(ov(),{target:t.target})})),m=function(t){return o(nv(),{target:ve.fromDom(t.target)})},p=function(t){0===t.button&&o(ov(),{target:ve.fromDom(t.target)})},g=function(){at(t.editorManager.get(),(function(e){t!==e&&e.dispatch("DismissPopups",{relatedTarget:t})}))},v=function(t){return r(Ia(),Kd(t))},h=function(t){o(rv(),{}),r(Pa(),Kd(t))},b=cn(ve.fromDom(t.getElement())),y=Gd(b,"scroll",(function(n){requestAnimationFrame((function(){var o=t.getContainer();if(void 0!==o&&null!==o){var i=tN(t,e.element),u=i.map((function(t){return[t.element].concat(c(t.others))})).getOr([]);rt(u,(function(t){return He(t,n.target)}))&&(t.dispatch("ElementScroll",{target:n.target.dom}),r(Va(),n))}}))})),x=function(){return o(rv(),{})},w=function(e){e.state&&o(nv(),{target:ve.fromDom(t.getContainer())})},C=function(t){o(nv(),{target:ve.fromDom(t.relatedTarget.getContainer())})};t.on("PostRender",(function(){t.on("click",m),t.on("tap",m),t.on("mouseup",p),t.on("mousedown",g),t.on("ScrollWindow",v),t.on("ResizeWindow",h),t.on("ResizeEditor",x),t.on("AfterProgressState",w),t.on("DismissPopups",C)})),t.on("remove",(function(){t.off("click",m),t.off("tap",m),t.off("mouseup",p),t.off("mousedown",g),t.off("ScrollWindow",v),t.off("ResizeWindow",h),t.off("ResizeEditor",x),t.off("AfterProgressState",w),t.off("DismissPopups",C),l.unbind(),a.unbind(),s.unbind(),f.unbind(),d.unbind(),y.unbind()})),t.on("detach",(function(){at([e].concat(c(n)),Ig),at([e].concat(c(n)),(function(t){return t.destroy()}))}))},Az=jh,Rz=wh,Nz=z([yu("shell",!1),Zi("makeItem"),yu("setupItem",P),Uv.field("listBehaviours",[Aw])]),Dz=function(){return{behaviours:ed([Aw.config({})])}},Bz=bh({name:"items",overrides:Dz}),Mz=z([Bz]),Iz=z("CustomList"),Pz=function(t,e,n,r){var o=function(e,n){u(e).fold((function(){throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")}),(function(r){var o=Aw.contents(r),i=n.length,u=i-o.length,a=u>0?ot(u,(function(){return t.makeItem()})):[],c=o.slice(i);at(c,(function(t){return Aw.remove(r,t)})),at(a,(function(t){return Aw.append(r,t)}));var s=Aw.contents(r);at(s,(function(r,o){t.setupItem(e,r,n[o],o)}))}))},i=t.shell?{behaviours:[Aw.config({})],components:[]}:{behaviours:[],components:e},u=function(e){return t.shell?Y.some(e):Nh(e,t,"items")};return{uid:t.uid,dom:t.dom,components:i.components,behaviours:zv(t.listBehaviours,i.behaviours),apis:{setItems:o}}},Lz=Xh({name:Iz(),configFields:Nz(),partFields:Mz(),factory:Pz,apis:{setItems:function(t,e,n){t.setItems(e,n)}}}),Fz=z([Zi("dom"),yu("shell",!0),Fv("toolbarBehaviours",[Aw])]),jz=function(){return{behaviours:ed([Aw.config({})])}},zz=z([bh({name:"groups",overrides:jz})]),Uz=function(t,e,n,r){var o=function(t,e){i(t).fold((function(){throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")}),(function(t){Aw.set(t,e)}))},i=function(e){return t.shell?Y.some(e):Nh(e,t,"groups")},u=t.shell?{behaviours:[Aw.config({})],components:[]}:{behaviours:[],components:e};return{uid:t.uid,dom:t.dom,components:u.components,behaviours:zv(t.toolbarBehaviours,u.behaviours),apis:{setGroups:o},domModification:{attributes:{role:"group"}}}},Hz=Xh({name:"Toolbar",configFields:Fz(),partFields:zz(),factory:Uz,apis:{setGroups:function(t,e,n){t.setGroups(e,n)}}}),Vz=P,Wz=G,$z=z([]),qz=Object.freeze({__proto__:null,setup:Vz,isDocked:Wz,getBehaviours:$z}),Gz=function(t){var e=Wt(Bn(t,"position"),"fixed"),n=e?Y.none():Je(t);return n.orThunk((function(){var e=ve.fromTag("span");return Ke(t).bind((function(t){Qr(t,e);var n=Je(e);return no(e),n}))}))},Kz=function(t){return Gz(t).map(Gn).getOrThunk((function(){return Wn(0,0)}))},Yz=function(t,e){var n=t.element;Bs(n,e.transitionClass),Is(n,e.fadeOutClass),Bs(n,e.fadeInClass),e.onShow(t)},Xz=function(t,e){var n=t.element;Bs(n,e.transitionClass),Is(n,e.fadeInClass),Bs(n,e.fadeOutClass),e.onHide(t)},Jz=function(t,e){return t.y<e.bottom&&t.bottom>e.y},Qz=function(t,e){return t.y>=e.y},Zz=function(t,e){return t.bottom<=e.bottom},tU=function(t,e,n){return{location:"top",leftX:e,topY:n.bounds.y-t.y}},eU=function(t,e,n){return{location:"bottom",leftX:e,bottomY:t.bottom-n.bounds.bottom}},nU=function(t){return t.box.x-t.win.x},rU=function(t,e,n){var r=e.win,o=e.box,i=nU(e);return Tt(t,(function(t){switch(t){case"bottom":return Zz(o,n.bounds)?Y.none():Y.some(eU(r,i,n));case"top":return Qz(o,n.bounds)?Y.none():Y.some(tU(r,i,n));default:return Y.none()}})).getOr({location:"no-dock"})},oU=function(t,e,n){return bt(t,(function(t){switch(t){case"bottom":return Zz(e,n.bounds);case"top":return Qz(e,n.bounds)}}))},iU=function(t,e){var n=e.optScrollEnv.fold(z(t.bounds.y),(function(e){return e.scrollElmTop+(t.bounds.y-e.currentScrollTop)}));return Wn(t.bounds.x,n)},uU=function(t,e){var n=e.optScrollEnv.fold(z(t.y),(function(e){return t.y+e.currentScrollTop-e.scrollElmTop}));return Wn(t.x,n)},aU=function(t,e,n){return n.getInitialPos().map((function(n){var r=iU(n,e);return{box:bo(r.left,r.top,Jn(t),zn(t)),location:n.location}}))},cU=function(t,e,n,r,o){var i=uU(e,n),u=bo(i.left,i.top,e.width,e.height);r.setInitialPos({style:Mn(t),position:Nn(t,"position")||"static",bounds:u,location:o.location})},sU=function(t,e,n,r,o){r.getInitialPos().fold((function(){return cU(t,e,n,r,o)}),(function(){return P}))},fU=function(t,e,n){return n.getInitialPos().bind((function(r){var o;switch(n.clearInitialPos(),r.position){case"static":return Y.some({morph:"static"});case"absolute":var i=Gz(t).getOr(vn()),u=yo(i),a=null!==(o=i.dom.scrollTop)&&void 0!==o?o:0;return Y.some({morph:"absolute",positionCss:vd("absolute",Ut(r.style,"left").map((function(t){return e.x-u.x})),Ut(r.style,"top").map((function(t){return e.y-u.y+a})),Ut(r.style,"right").map((function(t){return u.right-e.right})),Ut(r.style,"bottom").map((function(t){return u.bottom-e.bottom})))});default:return Y.none()}}))},lU=function(t,e,n){return aU(t,e,n).filter((function(t){var r=t.box;return oU(n.getModes(),r,e)})).bind((function(e){var r=e.box;return fU(t,r,n)}))},dU=function(t){switch(t.location){case"top":return Y.some({morph:"fixed",positionCss:vd("fixed",Y.some(t.leftX),Y.some(t.topY),Y.none(),Y.none())});case"bottom":return Y.some({morph:"fixed",positionCss:vd("fixed",Y.some(t.leftX),Y.none(),Y.none(),Y.some(t.bottomY))});default:return Y.none()}},mU=function(t,e,n){var r=yo(t),o=So(),i=rU(n.getModes(),{win:o,box:r},e);return"top"===i.location||"bottom"===i.location?(cU(t,r,e,n,i),dU(i)):Y.none()},pU=function(t,e,n){return lU(t,e,n).orThunk((function(){return e.optScrollEnv.bind((function(r){return aU(t,e,n)})).bind((function(t){var n=t.box,r=t.location,o=So(),i=nU({win:o,box:n}),u="top"===r?tU(o,i,e):eU(o,i,e);return dU(u)}))}))},gU=function(t,e,n){var r=t.element,o=Wt(Bn(r,"position"),"fixed");return o?pU(r,e,n):mU(r,e,n)},vU=function(t,e,n){var r=t.element;return aU(r,e,n).bind((function(t){var e=t.box;return fU(r,e,n)}))},hU=function(t,e,n,r){var o=yo(t),i=So(),u=nU({win:i,box:o}),a=r(i,u,e);return"bottom"===a.location||"top"===a.location?(sU(t,o,e,n,a),dU(a)):Y.none()},bU=function(t,e,n){n.setDocked(!1),at(["left","right","top","bottom","position"],(function(e){return Pn(t.element,e)})),e.onUndocked(t)},yU=function(t,e,n,r){var o="fixed"===r.position;n.setDocked(o),bd(t.element,r);var i=o?e.onDocked:e.onUndocked;i(t)},xU=function(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];e.contextual.each((function(e){e.lazyContext(t).each((function(i){var u=Jz(i,r.bounds);if(u!==n.isVisible())if(n.setVisible(u),o&&!u)Ls(t.element,[e.fadeOutClass]),e.onHide(t);else{var a=u?Yz:Xz;a(t,e)}}))}))},wU=function(t,e,n,r,o){xU(t,e,n,r,!0),yU(t,e,n,o.positionCss)},CU=function(t,e,n,r,o){switch(o.morph){case"static":return bU(t,e,n);case"absolute":return yU(t,e,n,o.positionCss);case"fixed":return wU(t,e,n,r,o)}},SU=function(t,e,n){var r=e.lazyViewport(t);xU(t,e,n,r),gU(t,r,n).each((function(o){CU(t,e,n,r,o)}))},kU=function(t,e,n){var r=t.element;n.setDocked(!1);var o=e.lazyViewport(t);vU(t,o,n).each((function(r){switch(r.morph){case"static":bU(t,e,n);break;case"absolute":yU(t,e,n,r.positionCss);break}})),n.setVisible(!0),e.contextual.each((function(e){Fs(r,[e.fadeInClass,e.fadeOutClass,e.transitionClass]),e.onShow(t)})),_U(t,e,n)},_U=function(t,e,n){t.getSystem().isConnected()&&SU(t,e,n)},EU=function(t,e,n){n.isDocked()&&kU(t,e,n)},OU=function(t){return function(e,n,r){var o=n.lazyViewport(e),i=hU(e.element,o,r,t);i.each((function(t){wU(e,n,r,o,t)}))}},TU=OU(tU),AU=OU(eU),RU=function(t,e,n){return n.isDocked()},NU=function(t,e,n,r){return n.setModes(r)},DU=function(t,e,n){return n.getModes()},BU=Object.freeze({__proto__:null,refresh:_U,reset:EU,isDocked:RU,getModes:DU,setModes:NU,forceDockToTop:TU,forceDockToBottom:AU}),MU=function(t,e){return ec([pc(ha(),(function(n,r){t.contextual.each((function(t){if(Ps(n.element,t.transitionClass)){Fs(n.element,[t.transitionClass,t.fadeInClass]);var o=e.isVisible()?t.onShown:t.onHidden;o(n)}r.stop()}))})),ic(Ia(),(function(n,r){_U(n,t,e)})),ic(Va(),(function(n,r){_U(n,t,e)})),ic(Pa(),(function(n,r){EU(n,t,e)}))])},IU=Object.freeze({__proto__:null,events:MU}),PU=[hu("contextual",[nu("fadeInClass"),nu("fadeOutClass"),nu("transitionClass"),iu("lazyContext"),Xf("onShow"),Xf("onShown"),Xf("onHide"),Xf("onHidden")]),_u("lazyViewport",(function(){return{bounds:So(),optScrollEnv:Y.none()}})),Ou("modes",["top","bottom"],Bi),Xf("onDocked"),Xf("onUndocked")],LU=function(t){var e=Au(!1),n=Au(!0),r=Wd(),o=Au(t.modes),i=function(){return"docked:  ".concat(e.get(),", visible: ").concat(n.get(),", modes: ").concat(o.get().join(","))};return Zc({isDocked:e.get,setDocked:e.set,getInitialPos:r.get,setInitialPos:r.set,clearInitialPos:r.clear,isVisible:n.get,setVisible:n.set,getModes:o.get,setModes:o.set,readState:i})},FU=Object.freeze({__proto__:null,init:LU}),jU=rd({fields:PU,name:"docking",active:IU,apis:BU,state:FU}),zU=z(Nc("toolbar-height-change")),UU={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},HU="tox-tinymce--toolbar-sticky-on",VU="tox-tinymce--toolbar-sticky-off",WU=function(t,e){var n=We(e),r=Ge(e),o=r.dom.innerHeight,i=ro(n),u=ve.fromDom(t.elm),a=xo(u),c=zn(u),s=a.y,f=s+c,l=Gn(e),d=zn(e),m=l.top,p=m+d,g=Math.abs(m-i.top)<2,v=Math.abs(p-(i.top+o))<2;if(g&&s<p)oo(i.left,s-d,n);else if(v&&f>m){var h=s-o+c+d;oo(i.left,h,n)}},$U=function(t,e){return nt(jU.getModes(t),e)},qU=function(t){var e=function(t){return Un(t)+(parseInt(Nn(t,"margin-top"),10)||0)+(parseInt(Nn(t,"margin-bottom"),10)||0)},n=t.element;Ye(n).each((function(r){var o="padding-"+jU.getModes(t)[0];if(jU.isDocked(t)){var i=Jn(r);Tn(n,"width",i+"px"),Tn(r,o,e(n)+"px")}else Pn(n,"width"),Pn(r,o)}))},GU=function(t,e){e?(Is(t,UU.fadeOutClass),Ls(t,[UU.transitionClass,UU.fadeInClass])):(Is(t,UU.fadeInClass),Ls(t,[UU.fadeOutClass,UU.transitionClass]))},KU=function(t,e){var n=ve.fromDom(t.getContainer());e?(Bs(n,HU),Is(n,VU)):(Bs(n,VU),Is(n,HU))},YU=function(t,e){var n=We(e);md(n).filter((function(t){return!He(e,t)})).filter((function(e){return He(e,ve.fromDom(n.dom.body))||Ve(t,e)})).each((function(){return fd(e)}))},XU=function(t,e){return pd(t).orThunk((function(){return e().toOptional().bind((function(t){return pd(t.element)}))}))},JU=function(t,e,n){t.inline||(e.header.isPositionedAtTop()||t.on("ResizeEditor",(function(){n().each(jU.reset)})),t.on("ResizeWindow ResizeEditor",(function(){n().each(qU)})),t.on("SkinLoaded",(function(){n().each((function(t){jU.isDocked(t)?jU.reset(t):jU.refresh(t)}))})),t.on("FullscreenStateChanged",(function(){n().each(jU.reset)}))),t.on("AfterScrollIntoView",(function(t){n().each((function(e){jU.refresh(e);var n=e.element;Iy(n)&&WU(t,n)}))})),t.on("PostRender",(function(){KU(t,!1)}))},QU=function(t){return t().map(jU.isDocked).getOr(!1)},ZU=function(){return[ad.config({channels:a({},zU(),{onReceive:qU})})]},tH=function(t,e){var n=Wd(),r=e.getSink,o=function(t){r().each((function(e){return t(e.element)}))},i=function(e){t.inline||qU(e),KU(t,jU.isDocked(e)),e.getSystem().broadcastOn([rv()],{}),r().each((function(t){return t.getSystem().broadcastOn([rv()],{})}))},a=t.inline?[]:ZU();return[zw.config({}),jU.config({contextual:u({lazyContext:function(e){var n=Un(e.element),r=t.inline?t.getContentAreaContainer():t.getContainer();return Y.from(r).map((function(r){var o=yo(ve.fromDom(r)),i=tN(t,e.element);return i.fold((function(){var t=o.height-n,r=o.y+($U(e,"top")?0:n);return bo(o.x,r,o.width,t)}),(function(t){var e=wo(o,eN(t));return bo(e.x,e.y,e.width,e.height-n)}))}))},onShow:function(){o((function(t){return GU(t,!0)}))},onShown:function(t){o((function(t){return Fs(t,[UU.transitionClass,UU.fadeInClass])})),n.get().each((function(e){YU(t.element,e),n.clear()}))},onHide:function(t){XU(t.element,r).fold(n.clear,n.set),o((function(t){return GU(t,!1)}))},onHidden:function(){o((function(t){return Fs(t,[UU.transitionClass])}))}},UU),lazyViewport:function(e){var n=tN(t,e.element);return n.fold((function(){var n=So(),r=KS(t),o=n.y+($U(e,"top")?r:0),i=n.height-($U(e,"bottom")?r:0);return{bounds:bo(n.x,o,n.width,i),optScrollEnv:Y.none()}}),(function(t){var e=eN(t);return{bounds:e,optScrollEnv:Y.some({currentScrollTop:t.element.dom.scrollTop,scrollElmTop:Gn(t.element).top})}}))},modes:[e.header.getDockingMode()],onDocked:i,onUndocked:i})].concat(c(a))},eH=Object.freeze({__proto__:null,setup:JU,isDocked:QU,getBehaviours:tH}),nH=function(t){var e=t.editor,n=t.sticky?tH:$z;return{uid:t.uid,dom:t.dom,components:t.components,behaviours:ed(n(e,t.sharedBackstage))}},rH=ki([F_,tu("items",Ei([Ai([j_,su("items",Bi)]),Bi]))].concat(bE)),oH=function(t){return Wi("GroupToolbarButton",rH,t)},iH=[mu("text"),mu("tooltip"),mu("icon"),xu("search",!1,Ei([Mi,ki([mu("placeholder")])],(function(t){return A(t)?t?Y.some({placeholder:Y.none()}):Y.none():Y.some(t)}))),iu("fetch"),_u("onSetup",(function(){return P}))],uH=ki([F_].concat(iH)),aH=function(t){return Wi("menubutton",uH,t)},cH=ki([F_,Z_,Q_,J_,nE,$_,Y_,Su("presets","normal",["normal","color","listpreview"]),aE(1),G_,K_]),sH=function(t){return Wi("SplitButton",cH,t)},fH=function(t,e){var n=function(t,n){var r=ut(n,(function(t){var n={type:"menubutton",text:t.text,fetch:function(e){e(t.getItems())}},r=aH(n).mapError((function(t){return Gi(t)})).getOrDie();return yL(r,"tox-mbtn",e.backstage,Y.some("menuitem"))}));Aw.set(t,r)},r={focus:gw.focusIn,setMenus:n};return{uid:t.uid,dom:t.dom,components:[],behaviours:ed([Aw.config({}),Nw("menubar-events",[gc((function(e){t.onSetup(e)})),ic(ca(),(function(t,e){Ef(t.element,".tox-mbtn--active").each((function(n){Of(e.event.target,".tox-mbtn").each((function(e){He(n,e)||t.getSystem().getByDom(n).each((function(n){t.getSystem().getByDom(e).each((function(t){DR.expand(t),DR.close(n),zw.focus(t)}))}))}))}))})),ic(Ua(),(function(t,e){e.event.prevFocus.bind((function(e){return t.getSystem().getByDom(e).toOptional()})).each((function(n){e.event.newFocus.bind((function(e){return t.getSystem().getByDom(e).toOptional()})).each((function(t){DR.isOpen(n)&&(DR.expand(t),DR.close(n))}))}))}))]),gw.config({mode:"flow",selector:".tox-mbtn",onEscape:function(e){return t.onEscape(e),Y.some(!0)}}),PN.config({})]),apis:r,domModification:{attributes:{role:"menubar"}}}},lH=Yh({factory:fH,name:"silver.Menubar",configFields:[Zi("dom"),Zi("uid"),Zi("onEscape"),Zi("backstage"),yu("onSetup",P)],apis:{focus:function(t,e){t.focus(e)},setMenus:function(t,e,n){t.setMenus(e,n)}}}),dH="â¡ï¸Upgrade",mH="https://www.tiny.cloud/tinymce-self-hosted-premium-features/?utm_source=TinyMCE&utm_medium=SPAP&utm_campaign=SPAP&utm_id=editorreferral",pH=function(t){return{uid:t.uid,dom:t.dom,components:[{dom:{tag:"a",attributes:{href:mH,rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:dH}}]}},gH="container",vH=[Fv("slotBehaviours",[])],hH=function(t){return"<alloy.field."+t+">"},bH=function(t){var e=function(){var t=[],e=function(e,n){return t.push(e),Eh(gH,hH(e),n)};return{slot:e,record:z(t)}}(),n=t(e),r=e.record(),o=ut(r,(function(t){return vh({name:t,pname:hH(t)})}));return Vh(gH,vH,o,yH,n)},yH=function(t,e){var n=function(e){return Ih(t)},r=function(e,n){return Nh(e,t,n)},o=function(e,n){return function(r,o){return Nh(r,t,o).map((function(t){return e(t,o)})).getOr(n)}},i=function(t){return function(e,n){at(n,(function(n){return t(e,n)}))}},u=function(t,e){return"true"!==wn(t.element,"aria-hidden")},a=function(t,e){if(!u(t)){var n=t.element;Pn(n,"display"),kn(n,"aria-hidden"),Ya(t,Ha(),{name:e,visible:!0})}},c=function(t,e){if(u(t)){var n=t.element;Tn(n,"display","none"),yn(n,"aria-hidden","true"),Ya(t,Ha(),{name:e,visible:!1})}},s=o(u,!1),f=o(c),l=i(f),d=function(t){return l(t,n())},m=o(a),p={getSlotNames:n,getSlot:r,isShowing:s,hideSlot:f,hideAllSlots:d,showSlot:m};return{uid:t.uid,dom:t.dom,components:e,behaviours:jv(t.slotBehaviours),apis:p}},xH=Dt({getSlotNames:function(t,e){return t.getSlotNames(e)},getSlot:function(t,e,n){return t.getSlot(e,n)},isShowing:function(t,e,n){return t.isShowing(e,n)},hideSlot:function(t,e,n){return t.hideSlot(e,n)},hideAllSlots:function(t,e){return t.hideAllSlots(e)},showSlot:function(t,e,n){return t.showSlot(e,n)}},(function(t){return Jc(t)})),wH=u(u({},xH),{sketch:bH}),CH=ki([Q_,Z_,_u("onShow",P),_u("onHide",P),Y_]),SH=function(t){return Wi("sidebar",CH,t)},kH=function(t){var e=t.ui.registry.getAll(),n=e.sidebars;at(At(n),(function(e){var r=n[e],o=function(){return Wt(Y.from(t.queryCommandValue("ToggleSidebar")),e)};t.ui.registry.addToggleButton(e,{icon:r.icon,tooltip:r.tooltip,onAction:function(n){t.execCommand("ToggleSidebar",!1,e),n.setActive(o())},onSetup:function(e){e.setActive(o());var n=function(){return e.setActive(o())};return t.on("ToggleSidebar",n),function(){t.off("ToggleSidebar",n)}}})}))},_H=function(t){return{element:function(){return t.element.dom}}},EH=function(t,e){var n=ut(At(e),(function(t){var n=e[t],r=$i(SH(n));return{name:t,getApi:_H,onSetup:r.onSetup,onShow:r.onShow,onHide:r.onHide}}));return ut(n,(function(e){var r=Au(P);return t.slot(e.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:iO.unnamedEvents([RO(e,r),NO(e,r),ic(Ha(),(function(t,e){var r=e.event,o=pt(n,(function(t){return t.name===r.name}));o.each((function(e){var n=r.visible?e.onShow:e.onHide;n(e.getApi(t))}))}))])})}))},OH=function(t){return wH.sketch((function(e){return{dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:EH(e,t),slotBehaviours:iO.unnamedEvents([gc((function(t){return wH.hideAllSlots(t)}))])}}))},TH=function(t,e,n){var r=eb.getCurrent(t);r.each((function(r){Aw.set(r,[OH(e)]);var o=null===n||void 0===n?void 0:n.toLowerCase();k(o)&&Ht(e,o)&&eb.getCurrent(r).each((function(e){wH.showSlot(e,o),hL.immediateGrow(r),Pn(r.element,"width"),AH(t.element,"region")}))}))},AH=function(t,e){yn(t,"role",e)},RH=function(t,e){var n=eb.getCurrent(t);n.each((function(n){var r=eb.getCurrent(n);r.each((function(r){hL.hasGrown(n)?wH.isShowing(r,e)?(hL.shrink(n),AH(t.element,"presentation")):(wH.hideAllSlots(r),wH.showSlot(r,e),AH(t.element,"region")):(wH.hideAllSlots(r),wH.showSlot(r,e),hL.grow(n),AH(t.element,"region"))}))}))},NH=function(t){var e=eb.getCurrent(t);return e.bind((function(t){var e=hL.isGrowing(t)||hL.hasGrown(t);if(e){var n=eb.getCurrent(t);return n.bind((function(t){return pt(wH.getSlotNames(t),(function(e){return wH.isShowing(t,e)}))}))}return Y.none()}))},DH=Nc("FixSizeEvent"),BH=Nc("AutoSizeEvent"),MH=function(t){return{uid:t.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:ed([PN.config({}),zw.config({}),hL.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:function(t){var e=eb.getCurrent(t);e.each(wH.hideAllSlots),Ka(t,BH)},onGrown:function(t){Ka(t,BH)},onStartGrow:function(t){Ya(t,DH,{width:Bn(t.element,"width").getOr("")})},onStartShrink:function(t){Ya(t,DH,{width:Jn(t.element)+"px"})}}),Aw.config({}),eb.config({find:function(t){var e=Aw.contents(t);return _t(e)}})])}],behaviours:ed([pI.childAt(0),Nw("sidebar-sliding-events",[ic(DH,(function(t,e){Tn(t.element,"width",e.event.width)})),ic(BH,(function(t,e){Pn(t.element,"width")}))])])}},IH=function(t,e,n,r){yn(t.element,"aria-busy",!0);var o=e.getRoot(t).getOr(t),i=ed([gw.config({mode:"special",onTab:function(){return Y.some(!0)},onShiftTab:function(){return Y.some(!0)}}),zw.config({})]),u=r(o,i),a=o.getSystem().build(u);Aw.append(o,hf(a)),a.hasConfigured(gw)&&e.focus&&gw.focusIn(a),n.isBlocked()||e.onBlock(t),n.blockWith((function(){return Aw.remove(o,a)}))},PH=function(t,e,n){kn(t.element,"aria-busy"),n.isBlocked()&&e.onUnblock(t),n.clear()},LH=Object.freeze({__proto__:null,block:IH,unblock:PH}),FH=[_u("getRoot",Y.none),ku("focus",!0),Xf("onBlock"),Xf("onUnblock")],jH=function(){var t=Hd(),e=function(e){t.set({destroy:e})};return Zc({readState:t.isSet,blockWith:e,clear:t.clear,isBlocked:t.isSet})},zH=Object.freeze({__proto__:null,init:jH}),UH=rd({fields:FH,name:"blocking",apis:LH,state:zH}),HH=function(t){var e=void 0!==t.dom.attributes?t.dom.attributes:[];return dt(e,(function(t,e){return"class"===e.name?t:u(u({},t),{},a({},e.name,e.value))}),{})},VH=function(t){return Array.prototype.slice.call(t.dom.classList,0)},WH=function(t){var e=ve.fromHtml(t),n=Ze(e),r=HH(e),o=VH(e),i=0===n.length?{}:{innerHtml:xc(e)};return u({tag:Ae(e),classes:o,attributes:r},i)},$H=function(t){return function(e,n){return{dom:{tag:"div",attributes:{"aria-label":t.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:WH('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}}},qH=function(t){return eb.getCurrent(t).each((function(t){return fd(t.element)}))},GH=function(t,e){var n="tabindex",r="data-mce-".concat(n);Y.from(t.iframeElement).map(ve.fromDom).each((function(t){e?(Cn(t,n).each((function(e){return yn(t,r,e)})),yn(t,n,-1)):(kn(t,n),Cn(t,r).each((function(e){yn(t,n,e),kn(t,r)})))}))},KH=function(t,e,n,r){var o=e.element;if(GH(t,n),n)UH.block(e,$H(r)),Pn(o,"display"),kn(o,"aria-hidden"),t.hasFocus()&&qH(e);else{var i=eb.getCurrent(e).exists((function(t){return dd(t.element)}));UH.unblock(e),Tn(o,"display","none"),yn(o,"aria-hidden","true"),i&&t.focus()}},YH=function(t){return{uid:t.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:ed([Aw.config({}),UH.config({focus:!1}),eb.config({find:function(t){return _t(t.components())}})]),components:[]}},XH=function(t){return"focusin"===t.type},JH=function(t){if(XH(t)){var e=t.composed?_t(t.composedPath()):Y.from(t.target);return e.map(ve.fromDom).filter(Be).exists((function(t){return Ps(t,"mce-pastebin")}))}return!1},QH=function(t,e,n){var r=Au(!1),o=Wd(),i=function(n){r.get()&&!JH(n)&&(n.preventDefault(),qH(e()),t.editorManager.setActive(t))};t.inline||t.on("PreInit",(function(){t.dom.bind(t.getWin(),"focusin",i),t.on("BeforeExecCommand",(function(t){"mcefocus"===t.command.toLowerCase()&&!0!==t.value&&i(t)}))}));var u=function(o){o!==r.get()&&(r.set(o),KH(t,e(),o,n.providers),IT(t,o))};t.on("ProgressState",(function(e){if(o.on(clearTimeout),M(e.time)){var n=nS.setEditorTimeout(t,(function(){return u(e.state)}),e.time);o.set(n)}else u(e.state),o.clear()}))},ZH=function(t,e){var n={len:0,list:[]},r=dt(t,(function(t,n){var r=e(n,t.len);return r.fold(z(t),(function(e){return{len:e.finish,list:t.list.concat([e])}}))}),n);return r.list},tV=function(t,e,n){return{within:t,extra:e,withinWidth:n}},eV=function(t,e,n){var r=ZH(t,(function(t,e){var r=n(t);return Y.some({element:t,start:e,finish:e+r,width:r})})),o=ft(r,(function(t){return t.finish<=e})),i=lt(o,(function(t,e){return t+e.width}),0),u=r.slice(o.length);return{within:o,extra:u,withinWidth:i}},nV=function(t){return ut(t,(function(t){return t.element}))},rV=function(t,e,n){var r=nV(t.concat(e));return tV(r,[],n)},oV=function(t,e,n,r){var o=nV(t).concat([n]);return tV(o,nV(e),r)},iV=function(t,e,n){return tV(nV(t),[],n)},uV=function(t,e,n){var r=eV(e,t,n);return 0===r.extra.length?Y.some(r):Y.none()},aV=function(t,e,n,r){var o=uV(t,e,n).getOrThunk((function(){return eV(e,t-n(r),n)})),i=o.within,u=o.extra,a=o.withinWidth;return 1===u.length&&u[0].width<=n(r)?rV(i,u,a):u.length>=1?oV(i,u,r,a):iV(i,u,a)},cV=function(t,e){var n=ut(e,(function(t){return hf(t)}));Hz.setGroups(t,n)},sV=function(t){return Tt(t,(function(t){return pd(t.element).bind((function(e){return t.getSystem().getByDom(e).toOptional()}))}))},fV=function(t,e,n){var r=e.builtGroups.get();if(0!==r.length){var o=Dh(t,e,"primary"),i=uR.getCoupled(t,"overflowGroup");Tn(o.element,"visibility","hidden");var u=r.concat([i]),a=sV(u);n([]),cV(o,u);var c=Jn(o.element),s=aV(c,e.builtGroups.get(),(function(t){return Jn(t.element)}),i);0===s.extra.length?(Aw.remove(o,i),n([])):(cV(o,s.within),n(s.extra)),Pn(o.element,"visibility"),Ln(o.element),a.each(zw.focus)}},lV=z([Fv("splitToolbarBehaviours",[uR]),Ji("builtGroups",(function(){return Au([])}))]),dV=z([Kf(["overflowToggledClass"]),gu("getOverflowBounds"),Zi("lazySink"),Ji("overflowGroups",(function(){return Au([])})),Xf("onOpened"),Xf("onClosed")].concat(lV())),mV=z([vh({factory:Hz,schema:Fz(),name:"primary"}),hh({schema:Fz(),name:"overflow"}),hh({name:"overflow-button"}),hh({name:"overflow-group"})]),pV=z((function(t,e){Zn(t,Math.floor(e))})),gV=z([Kf(["toggledClass"]),Zi("lazySink"),iu("fetch"),gu("getBounds"),hu("fireDismissalEventInstead",[yu("event",ja())]),_m(),Xf("onToggled")]),vV=z([hh({name:"button",overrides:function(t){return{dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:ed([iC.config({toggleClass:t.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:t.onToggled})])}}}),hh({factory:Hz,schema:Fz(),name:"toolbar",overrides:function(t){return{toolbarBehaviours:ed([gw.config({mode:"cyclic",onEscape:function(e){return Nh(e,t,"button").each(zw.focus),Y.none()}})])}}})]),hV=Wd(),bV=function(t,e){hV.set(!0),yV(t,e),hV.clear()},yV=function(t,e){var n=uR.getCoupled(t,"toolbarSandbox");ev.isOpen(n)?ev.close(n):ev.open(n,e.toolbar())},xV=function(t,e,n,r){var o=n.getBounds.map((function(t){return t()})),i=n.lazySink(t).getOrDie();hg.positionWithinBounds(i,e,{anchor:{type:"hotspot",hotspot:t,layouts:r,overrides:{maxWidthFunction:pV()}}},o)},wV=function(t,e,n,r,o){Hz.setGroups(e,o),xV(t,e,n,r),iC.on(t)},CV=function(t,e,n){var r=Rf(),o=function(o,i){var u=hV.get().getOr(!1);n.fetch().get((function(o){wV(t,i,n,e.layouts,o),r.link(t.element),u||gw.focusIn(i)}))},i=function(){iC.off(t),hV.get().getOr(!1)||zw.focus(t),r.unlink(t.element)};return{dom:{tag:"div",attributes:{id:r.id}},behaviours:ed([gw.config({mode:"special",onEscape:function(t){return ev.close(t),Y.some(!0)}}),ev.config({onOpen:o,onClose:i,isPartOf:function(e,n,r){return Df(n,r)||Df(t,r)},getAttachPoint:function(){return n.lazySink(t).getOrDie()}}),ad.config({channels:u(u({},uv(u({isExtraPart:G},n.fireDismissalEventInstead.map((function(t){return{fireEventInstead:{event:t.event}}})).getOr({})))),cv({doReposition:function(){ev.getState(uR.getCoupled(t,"toolbarSandbox")).each((function(r){xV(t,r,n,e.layouts)}))}}))})])}},SV=function(t,e,n,r){return u(u({},oS.sketch(u(u({},r.button()),{},{action:function(t){yV(t,r)},buttonBehaviours:Uv.augment({dump:r.button().buttonBehaviours},[uR.config({others:{toolbarSandbox:function(e){return CV(e,n,t)}}})])}))),{},{apis:{setGroups:function(e,r){ev.getState(uR.getCoupled(e,"toolbarSandbox")).each((function(o){wV(e,o,t,n.layouts,r)}))},reposition:function(e){ev.getState(uR.getCoupled(e,"toolbarSandbox")).each((function(r){xV(e,r,t,n.layouts)}))},toggle:function(t){yV(t,r)},toggleWithoutFocusing:function(t){bV(t,r)},getToolbar:function(t){return ev.getState(uR.getCoupled(t,"toolbarSandbox"))},isOpen:function(t){return ev.isOpen(uR.getCoupled(t,"toolbarSandbox"))}}})},kV=Xh({name:"FloatingToolbarButton",factory:SV,configFields:gV(),partFields:vV(),apis:{setGroups:function(t,e,n){t.setGroups(e,n)},reposition:function(t,e){t.reposition(e)},toggle:function(t,e){t.toggle(e)},toggleWithoutFocusing:function(t,e){t.toggleWithoutFocusing(e)},getToolbar:function(t,e){return t.getToolbar(e)},isOpen:function(t,e){return t.isOpen(e)}}}),_V=z([Zi("items"),Kf(["itemSelector"]),Fv("tgroupBehaviours",[gw])]),EV=z([yh({name:"items",unit:"item"})]),OV=function(t,e,n,r){return{uid:t.uid,dom:t.dom,components:e,behaviours:zv(t.tgroupBehaviours,[gw.config({mode:"flow",selector:t.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}},TV=Xh({name:"ToolbarGroup",configFields:_V(),partFields:EV(),factory:OV}),AV=function(t){return ut(t,(function(t){return hf(t)}))},RV=function(t,e,n){fV(t,n,(function(r){n.overflowGroups.set(r),e.getOpt(t).each((function(t){kV.setGroups(t,AV(r))}))}))},NV=function(t,e,n,r){var o=iS(kV.sketch({fetch:function(){return pR.nu((function(e){e(AV(t.overflowGroups.get()))}))},layouts:{onLtr:function(){return[Nl,Rl]},onRtl:function(){return[Rl,Nl]},onBottomLtr:function(){return[Bl,Dl]},onBottomRtl:function(){return[Dl,Bl]}},getBounds:n.getOverflowBounds,lazySink:t.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:t.markers.overflowToggledClass},parts:{button:r["overflow-button"](),toolbar:r.overflow()},onToggled:function(e,n){return t[n?"onOpened":"onClosed"](e)}}));return{uid:t.uid,dom:t.dom,components:e,behaviours:zv(t.splitToolbarBehaviours,[uR.config({others:{overflowGroup:function(){return TV.sketch(u(u({},r["overflow-group"]()),{},{items:[o.asSpec()]}))}}})]),apis:{setGroups:function(e,n){t.builtGroups.set(ut(n,e.getSystem().build)),RV(e,o,t)},refresh:function(e){return RV(e,o,t)},toggle:function(t){o.getOpt(t).each((function(t){kV.toggle(t)}))},toggleWithoutFocusing:function(t){o.getOpt(t).each(kV.toggleWithoutFocusing)},isOpen:function(t){return o.getOpt(t).map(kV.isOpen).getOr(!1)},reposition:function(t){o.getOpt(t).each((function(t){kV.reposition(t)}))},getOverflow:function(t){return o.getOpt(t).bind(kV.getToolbar)}},domModification:{attributes:{role:"group"}}}},DV=Xh({name:"SplitFloatingToolbar",configFields:dV(),partFields:mV(),factory:NV,apis:{setGroups:function(t,e,n){t.setGroups(e,n)},refresh:function(t,e){t.refresh(e)},reposition:function(t,e){t.reposition(e)},toggle:function(t,e){t.toggle(e)},toggleWithoutFocusing:function(t,e){t.toggle(e)},isOpen:function(t,e){return t.isOpen(e)},getOverflow:function(t,e){return t.getOverflow(e)}}}),BV=z([Kf(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),Xf("onOpened"),Xf("onClosed")].concat(lV())),MV=z([vh({factory:Hz,schema:Fz(),name:"primary"}),vh({factory:Hz,schema:Fz(),name:"overflow",overrides:function(t){return{toolbarBehaviours:ed([hL.config({dimension:{property:"height"},closedClass:t.markers.closedClass,openClass:t.markers.openClass,shrinkingClass:t.markers.shrinkingClass,growingClass:t.markers.growingClass,onShrunk:function(e){Nh(e,t,"overflow-button").each((function(t){iC.off(t),zw.focus(t)})),t.onClosed(e)},onGrown:function(e){gw.focusIn(e),t.onOpened(e)},onStartGrow:function(e){Nh(e,t,"overflow-button").each(iC.on)}}),gw.config({mode:"acyclic",onEscape:function(e){return Nh(e,t,"overflow-button").each(zw.focus),Y.some(!0)}})])}}}),hh({name:"overflow-button",overrides:function(t){return{buttonBehaviours:ed([iC.config({toggleClass:t.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])}}}),hh({name:"overflow-group"})]),IV=function(t,e){return Nh(t,e,"overflow").map(hL.hasGrown).getOr(!1)},PV=function(t,e){Nh(t,e,"overflow-button").bind((function(){return Nh(t,e,"overflow")})).each((function(n){LV(t,e),hL.toggleGrow(n)}))},LV=function(t,e){Nh(t,e,"overflow").each((function(n){fV(t,e,(function(t){var e=ut(t,(function(t){return hf(t)}));Hz.setGroups(n,e)})),Nh(t,e,"overflow-button").each((function(t){hL.hasGrown(n)&&iC.on(t)})),hL.refresh(n)}))},FV=function(t,e,n,r){var o="alloy.toolbar.toggle",i=function(e,n){var r=ut(n,e.getSystem().build);t.builtGroups.set(r)};return{uid:t.uid,dom:t.dom,components:e,behaviours:zv(t.splitToolbarBehaviours,[uR.config({others:{overflowGroup:function(t){return TV.sketch(u(u({},r["overflow-group"]()),{},{items:[oS.sketch(u(u({},r["overflow-button"]()),{},{action:function(e){Ka(t,o)}}))]}))}}}),Nw("toolbar-toggle-events",[ic(o,(function(e){PV(e,t)}))])]),apis:{setGroups:function(e,n){i(e,n),LV(e,t)},refresh:function(e){return LV(e,t)},toggle:function(e){return PV(e,t)},isOpen:function(e){return IV(e,t)}},domModification:{attributes:{role:"group"}}}},jV=Xh({name:"SplitSlidingToolbar",configFields:BV(),partFields:MV(),factory:FV,apis:{setGroups:function(t,e,n){t.setGroups(e,n)},refresh:function(t,e){t.refresh(e)},toggle:function(t,e){t.toggle(e)},isOpen:function(t,e){return t.isOpen(e)}}}),zV=function(t){var e=t.title.fold((function(){return{}}),(function(t){return{attributes:{title:t}}}));return{dom:u({tag:"div",classes:["tox-toolbar__group"]},e),components:[TV.parts.items({})],items:t.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:ed([PN.config({}),zw.config({})])}},UV=function(t){return TV.sketch(zV(t))},HV=function(t,e){var n=gc((function(e){var n=ut(t.initGroups,UV);Hz.setGroups(e,n)}));return ed([TO.toolbarButton(t.providers.isDisabled),SO(),gw.config({mode:e,onEscape:t.onEscape,selector:".tox-toolbar__group"}),Nw("toolbar-events",[n])])},VV=function(t){var e=t.cyclicKeying?"cyclic":"acyclic";return{uid:t.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":zV({title:Y.none(),items:[]}),"overflow-button":uF({name:"more",icon:Y.some("more-drawer"),enabled:!0,tooltip:Y.some("More..."),primary:!1,buttonType:Y.none(),borderless:!1},Y.none(),t.providers)},splitToolbarBehaviours:HV(t,e)}},WV=function(t){var e=VV(t),n=4,r=DV.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return DV.sketch(u(u({},e),{},{lazySink:t.getSink,getOverflowBounds:function(){var e=t.moreDrawerData.lazyHeader().element,r=xo(e),o=qe(e),i=xo(o),u=Math.max(o.dom.scrollHeight,i.height);return bo(r.x+n,i.y,r.width-2*n,u)},parts:u(u({},e.parts),{},{overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:t.attributes}}}),components:[r],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:function(e){return t.onToggled(e,!0)},onClosed:function(e){return t.onToggled(e,!1)}}))},$V=function(t){var e=jV.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),n=jV.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),r=VV(t);return jV.sketch(u(u({},r),{},{components:[e,n],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:function(e){e.getSystem().broadcastOn([zU()],{type:"opened"}),t.onToggled(e,!0)},onClosed:function(e){e.getSystem().broadcastOn([zU()],{type:"closed"}),t.onToggled(e,!1)}}))},qV=function(t){var e=t.cyclicKeying?"cyclic":"acyclic";return Hz.sketch({uid:t.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(t.type===$C.scrolling?["tox-toolbar--scrolling"]:[])},components:[Hz.parts.groups({})],toolbarBehaviours:HV(t,e)})},GV=[J_,Q_,mu("tooltip"),Su("buttonType","secondary",["primary","secondary"]),ku("borderless",!1),iu("onAction")],KV=[].concat(GV,[U_,ru("type",["button"])]),YV=[].concat(GV,[ku("active",!1),ru("type",["togglebutton"])]),XV={button:KV,togglebutton:YV},JV=[ru("type",["group"]),Ou("buttons",[],Ki("type",XV))],QV=Ki("type",u(u({},XV),{},{group:JV})),ZV=ki([Ou("buttons",[],QV),iu("onShow"),iu("onHide")]),tW=function(t){return Wi("view",ZV,t)},eW=function(t,e){var n,r,o,i,a,s="togglebutton"===t.type,f=t.icon.map((function(t){return tP(t,e.icons)})).map(iS),l=function(){return function(n){var r=function(t){f.map((function(r){return r.getOpt(n).each((function(n){Aw.set(n,[tP(t,e.icons)])}))}))},o=function(t){var e=n.element;t?(Bs(e,"tox-button--enabled"),yn(e,"aria-pressed",!0)):(Is(e,"tox-button--enabled"),kn(e,"aria-pressed"))},i=function(){return Ps(n.element,"tox-button--enabled")};return s?t.onAction({setIcon:r,setActive:o,isActive:i}):"button"===t.type?t.onAction({setIcon:r}):void 0}},d=l(),m=u(u({},t),{},{name:s?t.text.getOr(t.icon.getOr("")):null!==(i=t.text)&&void 0!==i?i:t.icon.getOr(""),primary:"primary"===t.buttonType,buttonType:Y.from(t.buttonType),tooltip:t.tooltip,icon:t.icon,enabled:!0,borderless:t.borderless}),p=aF(null!==(a=t.buttonType)&&void 0!==a?a:"secondary"),g=s?t.text.map(e.translate):Y.some(e.translate(t.text)),v=g.map(lf),h=m.tooltip.or(g).map((function(t){return{"aria-label":e.translate(t),title:e.translate(t)}})).getOr({}),b=f.map((function(t){return t.asSpec()})),y=MO([b,v]),x=t.icon.isSome()&&v.isSome(),w={tag:"button",classes:(n=(r=(o=p.concat.apply(p,c(t.icon.isSome()&&!x?["tox-button--icon"]:[]))).concat.apply(o,c(x?["tox-button--icon-and-text"]:[]))).concat.apply(r,c(t.borderless?["tox-button--naked"]:[]))).concat.apply(n,c("togglebutton"===t.type&&t.active?["tox-button--enabled"]:[])),attributes:h},C=[],S=iF(m,Y.some(d),C,w,y,e);return oS.sketch(S)},nW=function(t,e){return eW(t,e)},rW=function(t,e){return{dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:ut(t.buttons,(function(t){return nW(t,e)}))}},oW=Ur().deviceType,iW=oW.isPhone(),uW=oW.isTablet(),aW=function(t){var e=!1,n=ut(t.buttons,(function(n){return"group"===n.type?(e=!0,rW(n,t.providers)):nW(n,t.providers)}));return{uid:t.uid,dom:{tag:"div",classes:[e?"tox-view__toolbar":"tox-view__header"].concat(c(iW||uW?["tox-view--mobile","tox-view--scrolling"]:[]))},behaviours:ed([zw.config({}),gw.config({mode:"flow",selector:"button, .tox-button",focusInside:kp.OnEnterOrSpaceMode})]),components:e?n:[EN.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),EN.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:n})]}},cW=function(t){return{uid:t.uid,dom:{tag:"div",classes:["tox-view__pane"]}}},sW=function(t,e,n,r){var o={getPane:function(e){return Az.getPart(e,t,"pane")},getOnShow:function(e){return t.viewConfig.onShow},getOnHide:function(e){return t.viewConfig.onHide}};return{uid:t.uid,dom:t.dom,components:e,apis:o}},fW=Xh({name:"silver.View",configFields:[Zi("viewConfig")],partFields:[bh({factory:{sketch:aW},schema:[Zi("buttons"),Zi("providers")],name:"header"}),bh({factory:{sketch:cW},schema:[],name:"pane"})],factory:sW,apis:{getPane:function(t,e){return t.getPane(e)},getOnShow:function(t,e){return t.getOnShow(e)},getOnHide:function(t,e){return t.getOnHide(e)}}}),lW=function(t,e,n){return Ft(e,(function(e,r){var o=$i(tW(e));return t.slot(r,fW.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:o,components:[].concat(c(o.buttons.length>0?[fW.parts.header({buttons:o.buttons,providers:n})]:[]),[fW.parts.pane({})])}))}))},dW=function(t,e){return wH.sketch((function(n){return{dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:lW(n,t,e),slotBehaviours:iO.unnamedEvents([gc((function(t){return wH.hideAllSlots(t)}))])}}))},mW=function(t){return pt(wH.getSlotNames(t),(function(e){return wH.isShowing(t,e)}))},pW=function(t){var e=t.element;Tn(e,"display","none"),yn(e,"aria-hidden","true")},gW=function(t){var e=t.element;Pn(e,"display"),kn(e,"aria-hidden")},vW=function(t){return{getContainer:z(t)}},hW=function(t,e,n){wH.getSlot(t,e).each((function(t){fW.getPane(t).each((function(e){var r=n(t);r(vW(e.element.dom))}))}))},bW=function(t,e){return hW(t,e,fW.getOnShow)},yW=function(t,e){return hW(t,e,fW.getOnHide)},xW=function(t,e){var n=function(t,n){Aw.set(t,[dW(n,e.backstage.shared.providers)])},r=function(t){return eb.getCurrent(t).bind(mW)},o=function(t,e,n,r){return eb.getCurrent(t).exists((function(o){var i=mW(o),u=i.exists((function(t){return r===t})),a=wH.getSlot(o,r).isSome();return a&&(wH.hideAllSlots(o),u?(pW(t),e()):(n(),gW(t),wH.showSlot(o,r),bW(o,r)),i.each((function(t){return yW(o,t)}))),a}))},i={setViews:n,whichView:r,toggleView:o};return{uid:t.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:ed([Aw.config({}),eb.config({find:function(t){var e=Aw.contents(t);return _t(e)}})]),apis:i}},wW=Yh({factory:xW,name:"silver.ViewWrapper",configFields:[Zi("backstage")],apis:{setViews:function(t,e,n){return t.setViews(e,n)},toggleView:function(t,e,n,r,o){return t.toggleView(e,n,r,o)},whichView:function(t,e){return t.whichView(e)}}}),CW=function(t,e,n){var r=!1,o={getSocket:function(e){return Az.getPart(e,t,"socket")},setSidebar:function(e,n,r){Az.getPart(e,t,"sidebar").each((function(t){return TH(t,n,r)}))},toggleSidebar:function(e,n){Az.getPart(e,t,"sidebar").each((function(t){return RH(t,n)}))},whichSidebar:function(e){return Az.getPart(e,t,"sidebar").bind(NH).getOrNull()},getHeader:function(e){return Az.getPart(e,t,"header")},getToolbar:function(e){return Az.getPart(e,t,"toolbar")},setToolbar:function(e,n){Az.getPart(e,t,"toolbar").each((function(t){var e=ut(n,UV);t.getApis().setGroups(t,e)}))},setToolbars:function(e,n){Az.getPart(e,t,"multiple-toolbar").each((function(t){var e=ut(n,(function(t){return ut(t,UV)}));Lz.setItems(t,e)}))},refreshToolbar:function(e){var n=Az.getPart(e,t,"toolbar");n.each((function(t){return t.getApis().refresh(t)}))},toggleToolbarDrawer:function(e){Az.getPart(e,t,"toolbar").each((function(t){Xt(t.getApis().toggle,(function(e){return e(t)}))}))},toggleToolbarDrawerWithoutFocusing:function(e){Az.getPart(e,t,"toolbar").each((function(t){Xt(t.getApis().toggleWithoutFocusing,(function(e){return e(t)}))}))},isToolbarDrawerToggled:function(e){return Az.getPart(e,t,"toolbar").bind((function(t){return Y.from(t.getApis().isOpen).map((function(e){return e(t)}))})).getOr(!1)},getThrobber:function(e){return Az.getPart(e,t,"throbber")},focusToolbar:function(e){var n=Az.getPart(e,t,"toolbar").orThunk((function(){return Az.getPart(e,t,"multiple-toolbar")}));n.each((function(t){gw.focusIn(t)}))},setMenubar:function(e,n){Az.getPart(e,t,"menubar").each((function(t){lH.setMenus(t,n)}))},focusMenubar:function(e){Az.getPart(e,t,"menubar").each((function(t){lH.focus(t)}))},setViews:function(e,n){Az.getPart(e,t,"viewWrapper").each((function(t){wW.setViews(t,n)}))},toggleView:function(e,n){return Az.getPart(e,t,"viewWrapper").exists((function(t){return wW.toggleView(t,(function(){return o.showMainView(e)}),(function(){return o.hideMainView(e)}),n)}))},whichView:function(e){return Az.getPart(e,t,"viewWrapper").bind(wW.whichView).getOrNull()},hideMainView:function(e){r=o.isToolbarDrawerToggled(e),r&&o.toggleToolbarDrawer(e),Az.getPart(e,t,"editorContainer").each((function(t){var e=t.element;Tn(e,"display","none"),yn(e,"aria-hidden","true")}))},showMainView:function(e){r&&o.toggleToolbarDrawer(e),Az.getPart(e,t,"editorContainer").each((function(t){var e=t.element;Pn(e,"display"),kn(e,"aria-hidden")})),o.refreshToolbar(e)}};return{uid:t.uid,dom:t.dom,components:e,apis:o,behaviours:t.behaviours}},SW=Rz.optional({factory:lH,name:"menubar",schema:[Zi("backstage")]}),kW=function(t){return t.type===$C.sliding?$V:t.type===$C.floating?WV:qV},_W=Rz.optional({factory:{sketch:function(t){return Lz.sketch({uid:t.uid,dom:t.dom,listBehaviours:ed([gw.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:function(){return qV({type:t.type,uid:Nc("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:t.providers,onEscape:function(){return t.onEscape(),Y.some(!0)}})},setupItem:function(t,e,n,r){Hz.setGroups(e,n)},shell:!0})}},name:"multiple-toolbar",schema:[Zi("dom"),Zi("onEscape")]}),EW=Rz.optional({factory:{sketch:function(t){var e=kW(t),n={type:t.type,uid:t.uid,onEscape:function(){return t.onEscape(),Y.some(!0)},onToggled:function(e,n){return t.onToolbarToggled(n)},cyclicKeying:!1,initGroups:[],getSink:t.getSink,providers:t.providers,moreDrawerData:{lazyToolbar:t.lazyToolbar,lazyMoreButton:t.lazyMoreButton,lazyHeader:t.lazyHeader},attributes:t.attributes};return e(n)}},name:"toolbar",schema:[Zi("dom"),Zi("onEscape"),Zi("getSink")]}),OW=Rz.optional({factory:{sketch:nH},name:"header",schema:[Zi("dom")]}),TW=Rz.optional({factory:{sketch:pH},name:"promotion",schema:[Zi("dom")]}),AW=Rz.optional({name:"socket",schema:[Zi("dom")]}),RW=Rz.optional({factory:{sketch:MH},name:"sidebar",schema:[Zi("dom")]}),NW=Rz.optional({factory:{sketch:YH},name:"throbber",schema:[Zi("dom")]}),DW=Rz.optional({factory:wW,name:"viewWrapper",schema:[Zi("backstage")]}),BW=function(t){return{uid:t.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:t.components}},MW=Rz.optional({factory:{sketch:BW},name:"editorContainer",schema:[]}),IW=Xh({name:"OuterContainer",factory:CW,configFields:[Zi("dom"),Zi("behaviours")],partFields:[OW,SW,EW,_W,AW,RW,TW,NW,DW,MW],apis:{getSocket:function(t,e){return t.getSocket(e)},setSidebar:function(t,e,n,r){t.setSidebar(e,n,r)},toggleSidebar:function(t,e,n){t.toggleSidebar(e,n)},whichSidebar:function(t,e){return t.whichSidebar(e)},getHeader:function(t,e){return t.getHeader(e)},getToolbar:function(t,e){return t.getToolbar(e)},setToolbar:function(t,e,n){t.setToolbar(e,n)},setToolbars:function(t,e,n){t.setToolbars(e,n)},refreshToolbar:function(t,e){return t.refreshToolbar(e)},toggleToolbarDrawer:function(t,e){t.toggleToolbarDrawer(e)},toggleToolbarDrawerWithoutFocusing:function(t,e){t.toggleToolbarDrawerWithoutFocusing(e)},isToolbarDrawerToggled:function(t,e){return t.isToolbarDrawerToggled(e)},getThrobber:function(t,e){return t.getThrobber(e)},setMenubar:function(t,e,n){t.setMenubar(e,n)},focusMenubar:function(t,e){t.focusMenubar(e)},focusToolbar:function(t,e){t.focusToolbar(e)},setViews:function(t,e,n){t.setViews(e,n)},toggleView:function(t,e,n){return t.toggleView(e,n)},whichView:function(t,e){return t.whichView(e)}}}),PW="file edit view insert format tools table help",LW={file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template inserttemplate codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},FW=function(t,e,n){var r=US(n).split(/[ ,]/);return{text:t.title,getItems:function(){return ht(t.items,(function(t){var n=t.toLowerCase();return 0===n.trim().length||rt(r,(function(t){return t===n}))?[]:"separator"===n||"|"===n?[{type:"separator"}]:e.menuItems[n]?[e.menuItems[n]]:[]}))}}},jW=function(t){return t.split(" ")},zW=function(t,e){var n=u(u({},LW),e.menus),r=At(e.menus).length>0,o=void 0===e.menubar||!0===e.menubar?jW(PW):jW(!1===e.menubar?"":e.menubar),i=ft(o,(function(t){var n=Ht(LW,t);return r?n||Ut(e.menus,t).exists((function(t){return Ht(t,"items")})):n})),a=ut(i,(function(r){var o=n[r];return FW({title:o.title,items:jW(o.items)},e,t)}));return ft(a,(function(t){var e=function(t){return k(t)||"separator"!==t.type};return t.getItems().length>0&&rt(t.getItems(),e)}))},UW=function(t){var e=function(){t._skinLoaded=!0,AT(t)};return function(){t.initialized?e():t.on("init",e)}},HW=function(t,e){return function(){return RT(t,{message:e})}},VW=function(t,e,n){return t.on("remove",(function(){return n.unload(e)})),n.load(e)},WW=function(t,e){var n=e+"/skin.min.css";return VW(t,n,t.ui.styleSheetLoader)},$W=function(t,e){var n=fn(ve.fromDom(t.getElement()));if(n){var r=e+"/skin.shadowdom.min.css";return VW(t,r,SS.DOM.styleSheetLoader)}return Promise.resolve()},qW=function(t,e){var n=pk(e);return n&&e.contentCSS.push(n+(t?"/content.inline":"/content")+".min.css"),!dk(e)&&k(n)?Promise.all([WW(e,n),$W(e,n)]).then(UW(e),HW(e,"Skin could not be loaded")):Promise.resolve(UW(e)())},GW=V(qW,!1),KW=V(qW,!0),YW=function(t,e){return function(n){var r=Vd(),o=function(){n.setActive(t.formatter.match(e));var o=t.formatter.formatChanged(e,n.setActive);r.set(o)};return t.initialized?o():t.once("init",o),function(){t.off("init",o),r.clear()}}},XW=function(t,e,n){return function(r){var o=function(){return n(r)},i=function(){n(r),t.on(e,o)};return t.initialized?i():t.once("init",i),function(){t.off("init",i),t.off(e,o)}}},JW=function(t){return function(e){return function(){t.undoManager.transact((function(){t.focus(),t.execCommand("mceToggleFormat",!1,e.format)}))}}},QW=function(t,e){return function(){return t.execCommand(e)}},ZW=function(t,e,n){var r=function(t,r,i,a){var c=e.shared.providers.translate(t.title);if("separator"===t.type)return Y.some({type:"separator",text:c});if("submenu"===t.type){var s=ht(t.getStyleItems(),(function(t){return o(t,r,a)}));return 0===r&&s.length<=0?Y.none():Y.some({type:"nestedmenuitem",text:c,enabled:s.length>0,getSubmenuItems:function(){return ht(t.getStyleItems(),(function(t){return o(t,r,a)}))}})}return Y.some(u({type:"togglemenuitem",text:c,icon:t.icon,active:t.isSelected(a),enabled:!i,onAction:n.onAction(t)},t.getStylePreview().fold((function(){return{}}),(function(t){return{meta:{style:t}}}))))},o=function(t,e,o){var i="formatter"===t.type&&n.isInvalid(t);return 0===e?i?[]:r(t,e,!1,o).toArray():r(t,e,i,o).toArray()},i=function(t){var e=n.getCurrentValue(),r=n.shouldHide?0:1;return ht(t,(function(t){return o(t,r,e)}))},a=function(t,e){return function(n,r){var o=e(),u=i(o),a=gP(u,Mk.CLOSE_ON_EXECUTE,t,{isHorizontalMenu:!1,search:Y.none()});r(a)}};return{validateItems:i,getFetch:a}},t$=function(t,e,n){var r=n.dataset,o="basic"===r.type?function(){return ut(r.data,(function(t){return Ij(t,n.isSelectedFor,n.getPreviewFor)}))}:r.getData;return{items:ZW(t,e,n),getStyleItems:o}},e$=function(t,e,n){var r=t$(t,e,n),o=r.items,i=r.getStyleItems,u=function(t){return{getComponent:z(t)}},a=XW(t,"NodeChange",(function(t){var e=t.getComponent();n.updateText(e)}));return oP({text:n.icon.isSome()?Y.none():n.text,icon:n.icon,tooltip:Y.from(n.tooltip),role:Y.none(),fetch:o.getFetch(e,i),onSetup:a,getApi:u,columns:1,presets:"normal",classes:n.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",e.shared)},n$=function(t){return ut(t,(function(t){var e=t,n=t,r=t.split("=");return r.length>1&&(e=r[0],n=r[1]),{title:e,format:n}}))},r$=function(t){return{type:"basic",data:t}};(function(t){t[t["SemiColon"]=0]="SemiColon",t[t["Space"]=1]="Space"})(HR||(HR={}));var o$,i$=function(t,e){return e===HR.SemiColon?t.replace(/;$/,"").split(";"):t.split(" ")},u$=function(t,e,n){var r=t.options.get(e),o=n$(i$(r,n));return{type:"basic",data:o}},a$=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],c$=function(t){var e=function(){return pt(a$,(function(e){return t.formatter.match(e.format)}))},n=function(e){return function(){return t.formatter.match(e)}},r=function(t){return Y.none},o=function(t){var n=e(),r=n.fold(z("left"),(function(t){return t.title.toLowerCase()}));Ya(t,rP,{icon:"align-".concat(r)})},i=r$(a$),u=function(e){return function(){return pt(a$,(function(t){return t.format===e.format})).each((function(e){return t.execCommand(e.command)}))}};return{tooltip:"Align",text:Y.none(),icon:Y.some("align-left"),isSelectedFor:n,getCurrentValue:Y.none,getPreviewFor:r,onAction:u,updateText:o,dataset:i,shouldHide:!1,isInvalid:function(e){return!t.formatter.canApply(e.format)}}},s$=function(t,e){return e$(t,e,c$(t))},f$=function(t,e){var n=t$(t,e,c$(t));t.ui.registry.addNestedMenuItem("align",{text:e.shared.providers.translate("Align"),getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})},l$=function(t,e){var n=e(),r=ut(n,(function(t){return t.format}));return Y.from(t.formatter.closest(r)).bind((function(t){return pt(n,(function(e){return e.format===t}))})).orThunk((function(){return Jt(t.formatter.match("p"),{title:"Paragraph",format:"p"})}))},d$=function(t){var e="Paragraph",n=function(e){return function(){return t.formatter.match(e)}},r=function(e){return function(){var n=t.formatter.get(e);return n?Y.some({tag:n.length>0&&(n[0].inline||n[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(e))}):Y.none()}},o=function(n){var r=l$(t,(function(){return i.data})),o=r.fold(z(e),(function(t){return t.title}));Ya(n,nP,{text:o})},i=u$(t,"block_formats",HR.SemiColon);return{tooltip:"Blocks",text:Y.some(e),icon:Y.none(),isSelectedFor:n,getCurrentValue:Y.none,getPreviewFor:r,onAction:JW(t),updateText:o,dataset:i,shouldHide:!1,isInvalid:function(e){return!t.formatter.canApply(e.format)}}},m$=function(t,e){return e$(t,e,d$(t))},p$=function(t,e){var n=t$(t,e,d$(t));t.ui.registry.addNestedMenuItem("blocks",{text:"Blocks",getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})},g$=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],v$=function(t){var e=t.split(/\s*,\s*/);return ut(e,(function(t){return t.replace(/^['"]+|['"]+$/g,"")}))},h$=function(t){var e=function(){var e=v$(t.toLowerCase());return bt(g$,(function(t){return e.indexOf(t.toLowerCase())>-1}))};return 0===t.indexOf("-apple-system")&&e()},b$=function(t){var e="System Font",n=function(){var n=function(t){return t?v$(t)[0]:""},r=t.queryCommandValue("FontName"),o=c.data,i=r?r.toLowerCase():"",u=pt(o,(function(t){var e=t.format;return e.toLowerCase()===i||n(e).toLowerCase()===n(i).toLowerCase()})).orThunk((function(){return Jt(h$(i),{title:e,format:i})}));return{matchOpt:u,font:r}},r=function(t){return function(e){return e.exists((function(e){return e.format===t}))}},o=function(){var t=n(),e=t.matchOpt;return e},i=function(t){return function(){return Y.some({tag:"div",styles:-1===t.indexOf("dings")?{"font-family":t}:{}})}},u=function(e){return function(){t.undoManager.transact((function(){t.focus(),t.execCommand("FontName",!1,e.format)}))}},a=function(t){var e=n(),r=e.matchOpt,o=e.font,i=r.fold(z(o),(function(t){return t.title}));Ya(t,nP,{text:i})},c=u$(t,"font_family_formats",HR.SemiColon);return{tooltip:"Fonts",text:Y.some(e),icon:Y.none(),isSelectedFor:r,getCurrentValue:o,getPreviewFor:i,onAction:u,updateText:a,dataset:c,shouldHide:!1,isInvalid:G}},y$=function(t,e){return e$(t,e,b$(t))},x$=function(t,e){var n=t$(t,e,b$(t));t.ui.registry.addNestedMenuItem("fontfamily",{text:e.shared.providers.translate("Fonts"),getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})},w$={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},C$=function(){var t="[0-9]+",e="[+-]?"+t,n="[eE]"+e,r="\\.",o=function(t){return"(?:".concat(t,")?")},i=["Infinity",t+r+o(t)+o(n),r+t+o(n),t+o(n)].join("|"),u="[+-]?(?:".concat(i,")");return new RegExp("^(".concat(u,")(.*)$"))}(),S$=function(t,e){return rt(e,(function(e){return rt(w$[e],(function(e){return t===e}))}))},k$=function(t,e){var n=Y.from(C$.exec(t));return n.bind((function(t){var n=Number(t[1]),r=t[2];return S$(r,e)?Y.some({value:n,unit:r}):Y.none()}))},_$=function(t,e){return k$(t,e).map((function(t){var e=t.value,n=t.unit;return e+n}))},E$={tab:z(9),escape:z(27),enter:z(13),backspace:z(8),delete:z(46),left:z(37),up:z(38),right:z(39),down:z(40),space:z(32),home:z(36),end:z(35),pageUp:z(33),pageDown:z(34)},O$=function(t,e,n){var r=Y.none(),o=function(t){return t.map((function(t){return Lv.getValue(t)})).getOr("")},i=XW(t,"NodeChange",(function(t){var e=t.getComponent();r=Y.some(e),n.updateInputValue(e)})),u=function(t){return{getComponent:z(t)}},c=Au(P),s=Nc("custom-number-input-events"),f=function(t,e,i){var u=o(r),a=n.getNewValue(u,t),c=u.length-"".concat(a).length,s=r.map((function(t){return t.element.dom.selectionStart-c})),f=r.map((function(t){return t.element.dom.selectionEnd-c}));n.onAction(a,i),r.each((function(t){Lv.setValue(t,a),e&&(s.each((function(e){return t.element.dom.selectionStart=e})),f.each((function(e){return t.element.dom.selectionEnd=e})))}))},l=function(t,e){return f((function(t,e){return t-e}),t,e)},d=function(t,e){return f((function(t,e){return t+e}),t,e)},m=function(t){return Ye(t.element).fold(Y.none,(function(t){return fd(t),Y.some(!0)}))},p=function(t){return dd(t.element)?(en(t.element).each((function(t){return fd(t)})),Y.some(!0)):Y.none()},g=function(t,n,r,o){var i,u=e.shared.providers.translate(r),c=Nc("altExecuting"),s=function(){return t(!0)};return oS.sketch({dom:{tag:"button",attributes:{title:u,"aria-label":u},classes:o.concat(n)},components:[ZI(n,e.shared.providers.icons)],buttonBehaviours:ed([Nw(c,[ic(la(),(function(e,n){n.event.raw.keyCode!==E$.space()&&n.event.raw.keyCode!==E$.enter()||t(!1)})),ic(ga(),s),ic(na(),s)])]),eventOrder:(i={},a(i,la(),[c,"keying"]),a(i,ga(),[c,"alloy.base.behaviour"]),a(i,na(),[c,"alloy.base.behaviour"]),i)})},v=iS(g((function(t){return l(!1,t)}),"minus","Decrease font size",["highlight-on-focus"])),h=iS(g((function(t){return d(!1,t)}),"plus","Increase font size",["highlight-on-focus"])),b=iS({dom:{tag:"div",classes:["tox-input-wrapper","highlight-on-focus"]},components:[m_.sketch({inputBehaviours:ed([Nw(s,[RO({onSetup:i,getApi:u},c),NO({getApi:u},c)]),Nw("input-update-display-text",[ic(nP,(function(t,e){Lv.setValue(t,e.event.text)})),ic(fa(),(function(t){n.onAction(Lv.getValue(t))})),ic(pa(),(function(t){n.onAction(Lv.getValue(t))}))]),gw.config({mode:"special",onEnter:function(t){return f(U,!0,!0),Y.some(!0)},onEscape:m,onUp:function(t){return d(!0,!1),Y.some(!0)},onDown:function(t){return l(!0,!1),Y.some(!0)},onLeft:function(t,e){return e.cut(),Y.none()},onRight:function(t,e){return e.cut(),Y.none()}})])})],behaviours:ed([zw.config({}),gw.config({mode:"special",onEnter:p,onSpace:p,onEscape:m}),Nw("input-wrapper-events",[ic(ca(),(function(t){at([v,h],(function(e){var n=ve.fromDom(e.get(t).element.dom);dd(n)&&ld(n)}))}))])])});return{dom:{tag:"div",classes:["tox-number-input"]},components:[v.asSpec(),b.asSpec(),h.asSpec()],behaviours:ed([zw.config({}),gw.config({mode:"flow",focusInside:kp.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:function(t){return dd(t.element)?Y.none():(fd(t.element),Y.some(!0))}})])}},T$={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},A$={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},R$=function(t,e){var n=Math.pow(10,e);return Math.round(t*n)/n},N$=function(t,e){return/[0-9.]+px$/.test(t)?R$(72*parseInt(t,10)/96,e||0)+"pt":Ut(A$,t).getOr(t)},D$=function(t){return Ut(T$,t).getOr("")},B$=function(t){var e=function(){var e=Y.none(),n=a.data,r=t.queryCommandValue("FontSize");if(r)for(var o=function(){var t=N$(r,i),o=D$(t);e=pt(n,(function(e){return e.format===r||e.format===t||e.format===o}))},i=3;e.isNone()&&i>=0;i--)o();return{matchOpt:e,size:r}},n=function(t){return function(e){return e.exists((function(e){return e.format===t}))}},r=function(){var t=e(),n=t.matchOpt;return n},o=z(Y.none),i=function(e){return function(){t.undoManager.transact((function(){t.focus(),t.execCommand("FontSize",!1,e.format)}))}},u=function(t){var n=e(),r=n.matchOpt,o=n.size,i=r.fold(z(o),(function(t){return t.title}));Ya(t,nP,{text:i})},a=u$(t,"font_size_formats",HR.Space);return{tooltip:"Font sizes",text:Y.some("12pt"),icon:Y.none(),isSelectedFor:n,getPreviewFor:o,getCurrentValue:r,onAction:i,updateText:u,dataset:a,shouldHide:!1,isInvalid:G}},M$=function(t,e){return e$(t,e,B$(t))},I$=function(t){var e,n={step:1},r={em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}};return null!==(e=r[t])&&void 0!==e?e:n},P$=16,L$=function(t){return t>=0},F$=function(t){var e=function(){return t.queryCommandValue("FontSize")},n=function(t){return Ya(t,nP,{text:e()})};return{updateInputValue:n,onAction:function(e,n){return t.execCommand("FontSize",!1,e,{skip_focus:!n})},getNewValue:function(n,r){k$(n,["unsupportedLength","empty"]);var o=k$(n,["unsupportedLength","empty"]).or(k$(e(),["unsupportedLength","empty"])),i=o.map((function(t){return t.value})).getOr(P$),u=ZS(t),a=o.map((function(t){return t.unit})).filter((function(t){return""!==t})).getOr(u),c=r(i,I$(a).step);return"".concat(L$(c)?c:i).concat(a)}}},j$=function(t,e){return O$(t,e,F$(t))},z$=function(t,e){var n=t$(t,e,B$(t));t.ui.registry.addNestedMenuItem("fontsize",{text:"Font sizes",getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})},U$=function(t,e){var n="Paragraph",r=function(e){return function(){return t.formatter.match(e)}},o=function(e){return function(){var n=t.formatter.get(e);return void 0!==n?Y.some({tag:n.length>0&&(n[0].inline||n[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(e))}):Y.none()}},i=function(e){var r=function t(e){return kj(e)?ht(e.items,t):_j(e)?[{title:e.title,format:e.format}]:[]},o=ht(Bj(t),r),i=l$(t,z(o)),u=i.fold(z(n),(function(t){return t.title}));Ya(e,nP,{text:u})};return{tooltip:"Formats",text:Y.some(n),icon:Y.none(),isSelectedFor:r,getCurrentValue:Y.none,getPreviewFor:o,onAction:JW(t),updateText:i,shouldHide:jS(t),isInvalid:function(e){return!t.formatter.canApply(e.format)},dataset:e}},H$=function(t,e){var n=u({type:"advanced"},e.styles);return e$(t,e,U$(t,n))},V$=function(t,e){var n=u({type:"advanced"},e.styles),r=t$(t,e,U$(t,n));t.ui.registry.addNestedMenuItem("styles",{text:"Formats",getSubmenuItems:function(){return r.items.validateItems(r.getStyleItems())}})},W$=z([Zi("toggleClass"),Zi("fetch"),Qf("onExecute"),yu("getHotspot",Y.some),yu("getAnchorOverrides",z({})),_m(),Qf("onItemExecute"),fu("lazySink"),Zi("dom"),Xf("onOpen"),Fv("splitDropdownBehaviours",[uR,gw,zw]),yu("matchWidth",!1),yu("useMinWidth",!1),yu("eventOrder",{}),fu("role")].concat(TR())),$$=vh({factory:oS,schema:[Zi("dom")],name:"arrow",defaults:function(){return{buttonBehaviours:ed([zw.revoke()])}},overrides:function(t){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(e){e.getSystem().getByUid(t.uid).each(Xa)},buttonBehaviours:ed([iC.config({toggleOnExecute:!1,toggleClass:t.toggleClass})])}}}),q$=vh({factory:oS,schema:[Zi("dom")],name:"button",defaults:function(){return{buttonBehaviours:ed([zw.revoke()])}},overrides:function(t){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(e){e.getSystem().getByUid(t.uid).each((function(n){t.onExecute(n,e)}))}}}}),G$=z([$$,q$,bh({factory:{sketch:function(t){return{uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}}}},schema:[Zi("text")],name:"aria-descriptor"}),hh({schema:[Gf()],name:"menu",defaults:function(t){return{onExecute:function(e,n){e.getSystem().getByUid(t.uid).each((function(r){t.onItemExecute(r,e,n)}))}}}}),vR()]),K$=function(t,e,n,r){var o=function(t){eb.getCurrent(t).each((function(t){zb.highlightFirst(t),gw.focusIn(t)}))},i=function(e){var n=o;CR(t,U,e,r,n,fy.HighlightMenuAndItem).get(P)},c=function(t){return i(t),Y.some(!0)},s=function(e){var n=Dh(e,t,"button");return Xa(n),Y.some(!0)},f=u(u({},ec([gc((function(e,n){var r=Nh(e,t,"aria-descriptor");r.each((function(t){var n=Nc("aria");yn(t.element,"id",n),yn(e.element,"aria-describedby",n)}))}))])),aC(Y.some(i))),l={repositionMenus:function(t){iC.isOn(t)&&OR(t)}};return{uid:t.uid,dom:t.dom,components:e,apis:l,eventOrder:u(u({},t.eventOrder),{},a({},Ea(),["disabling","toggling","alloy.base.behaviour"])),events:f,behaviours:zv(t.splitDropdownBehaviours,[uR.config({others:{sandbox:function(e){var n=Dh(e,t,"arrow"),r={onOpen:function(){iC.on(n),iC.on(e)},onClose:function(){iC.off(n),iC.off(e)}};return ER(t,e,r)}}}),gw.config({mode:"special",onSpace:s,onEnter:s,onDown:c}),zw.config({}),iC.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:t.role.getOr("button"),"aria-haspopup":!0}}}},Y$=Xh({name:"SplitDropdown",configFields:W$(),partFields:G$(),factory:K$,apis:{repositionMenus:function(t,e){return t.repositionMenus(e)}}}),X$=function(t){return{isEnabled:function(){return!xb.isDisabled(t)},setEnabled:function(e){return xb.set(t,!e)},setText:function(e){return Ya(t,nP,{text:e})},setIcon:function(e){return Ya(t,rP,{icon:e})}}},J$=function(t){return{setActive:function(e){iC.set(t,e)},isActive:function(){return iC.isOn(t)},isEnabled:function(){return!xb.isDisabled(t)},setEnabled:function(e){return xb.set(t,!e)},setText:function(e){return Ya(t,nP,{text:e})},setIcon:function(e){return Ya(t,rP,{icon:e})}}},Q$=function(t,e){return t.map((function(t){return{"aria-label":e.translate(t),title:e.translate(t)}})).getOr({})},Z$=Nc("focus-button"),tq=function(t,e,n,r,o){var i,u=e.map((function(t){return iS(eP(t,"tox-tbtn",o))})),c=t.map((function(t){return iS(tP(t,o.icons))}));return{dom:{tag:"button",classes:["tox-tbtn"].concat(e.isSome()?["tox-tbtn--select"]:[]),attributes:Q$(n,o)},components:MO([c.map((function(t){return t.asSpec()})),u.map((function(t){return t.asSpec()}))]),eventOrder:(i={},a(i,oa(),["focusing","alloy.base.behaviour",YI]),a(i,La(),[YI,"toolbar-group-button-events"]),i),buttonBehaviours:ed([TO.toolbarButton(o.isDisabled),SO(),Nw(YI,[gc((function(t,e){return JI(t)})),ic(nP,(function(t,e){u.bind((function(e){return e.getOpt(t)})).each((function(t){Aw.set(t,[lf(o.translate(e.event.text))])}))})),ic(rP,(function(t,e){c.bind((function(e){return e.getOpt(t)})).each((function(t){Aw.set(t,[tP(e.event.icon,o.icons)])}))})),ic(oa(),(function(t,e){e.event.prevent(),Ka(t,Z$)}))])].concat(r.getOr([])))}},eq=function(t,e,n,r){var o=e.shared,i=Au(P),u={toolbarButtonBehaviours:[],getApi:X$,onSetup:t.onSetup},a=[Nw("toolbar-group-button-events",[RO(u,i),NO(u,i)])];return kV.sketch({lazySink:o.getSink,fetch:function(){return pR.nu((function(e){e(ut(n(t.items),UV))}))},markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:tq(t.icon,t.text,t.tooltip,Y.some(a),o.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:r}}}})},nq=function(t,e,n){var r,o=Au(P),i=tq(t.icon,t.text,t.tooltip,Y.none(),n);return oS.sketch({dom:i.dom,components:i.components,eventOrder:XI,buttonBehaviours:u(u({},ed([Nw("toolbar-button-events",[KI({onAction:t.onAction,getApi:e.getApi}),RO(e,o),NO(e,o)]),TO.toolbarButton((function(){return!t.enabled||n.isDisabled()})),SO()].concat(e.toolbarButtonBehaviours))),{},a({},YI,null===(r=i.buttonBehaviours)||void 0===r?void 0:r[YI]))})},rq=function(t,e){return oq(t,e,[])},oq=function(t,e,n){return nq(t,{toolbarButtonBehaviours:n.length>0?[Nw("toolbarButtonWith",n)]:[],getApi:X$,onSetup:t.onSetup},e)},iq=function(t,e){return uq(t,e,[])},uq=function(t,e,n){return nq(t,{toolbarButtonBehaviours:[Aw.config({}),iC.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(n.length>0?[Nw("toolbarToggleButtonWith",n)]:[]),getApi:J$,onSetup:t.onSetup},e)},aq=function(t,e,n){return function(r){return pR.nu((function(t){return e.fetch(t)})).map((function(o){return Y.from(qR(qo(OA(Nc("menu-value"),o,(function(n){e.onItemAction(t(r),n)}),e.columns,e.presets,Mk.CLOSE_ON_EXECUTE,e.select.getOr(G),n),{movement:AA(e.columns,e.presets),menuBehaviours:iO.unnamedEvents("auto"!==e.columns?[]:[gc((function(t,n){nO(t,4,e_(e.presets)).each((function(e){var n=e.numRows,r=e.numColumns;gw.setGridSize(t,n,r)}))}))])})))}))}},cq=function(t,e){var n=function(t){return{isEnabled:function(){return!xb.isDisabled(t)},setEnabled:function(e){return xb.set(t,!e)},setIconFill:function(e,n){Ef(t.element,'svg path[id="'.concat(e,'"], rect[id="').concat(e,'"]')).each((function(t){yn(t,"fill",n)}))},setActive:function(e){yn(t.element,"aria-pressed",e),Ef(t.element,"span").each((function(n){t.getSystem().getByDom(n).each((function(t){return iC.set(t,e)}))}))},isActive:function(){return Ef(t.element,"span").exists((function(e){return t.getSystem().getByDom(e).exists(iC.isOn)}))},setText:function(e){return Ef(t.element,"span").each((function(n){return t.getSystem().getByDom(n).each((function(t){return Ya(t,nP,{text:e})}))}))},setIcon:function(e){return Ef(t.element,"span").each((function(n){return t.getSystem().getByDom(n).each((function(t){return Ya(t,rP,{icon:e})}))}))}}},r=Au(P),o={getApi:n,onSetup:t.onSetup};return Y$.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:u({"aria-pressed":!1},Q$(t.tooltip,e.providers))},onExecute:function(e){var r=n(e);r.isEnabled()&&t.onAction(r)},onItemExecute:function(t,e,n){},splitDropdownBehaviours:ed([TO.splitButton(e.providers.isDisabled),SO(),Nw("split-dropdown-events",[gc((function(t,e){return JI(t)})),ic(Z$,zw.focus),RO(o,r),NO(o,r)]),gD.config({})]),eventOrder:a({},La(),["alloy.base.behaviour","split-dropdown-events"]),toggleClass:"tox-tbtn--enabled",lazySink:e.getSink,fetch:aq(n,t,e.providers),parts:{menu:a_(!1,t.columns,t.presets)},components:[Y$.parts.button(tq(t.icon,t.text,Y.none(),Y.some([iC.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),e.providers)),Y$.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:dS("chevron-down",e.providers.icons)},buttonBehaviours:ed([TO.splitButton(e.providers.isDisabled),SO(),gS()])}),Y$.parts["aria-descriptor"]({text:e.providers.translate("To open the popup, press Shift+Enter")})]})},sq=[{name:"history",items:["undo","redo"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],fq=function(t,e){return function(n,r,o){var i=t(n).mapError((function(t){return Gi(t)})).getOrDie();return e(i,r,o)}},lq={button:fq(xE,(function(t,e){return rq(t,e.shared.providers)})),togglebutton:fq(SE,(function(t,e){return iq(t,e.shared.providers)})),menubutton:fq(aH,(function(t,e){return yL(t,"tox-tbtn",e,Y.none(),!1)})),splitbutton:fq(sH,(function(t,e){return cq(t,e.shared)})),grouptoolbarbutton:fq(oH,(function(t,e,n){var r=n.ui.registry.getAll().buttons,o=function(t){return yq(n,{buttons:r,toolbar:t,allowToolbarGroups:!1},e,Y.none())},i=a({},Sm,e.shared.header.isPositionedAtTop()?Ed.TopToBottom:Ed.BottomToTop);switch(HS(n)){case $C.floating:return eq(t,e,o,i);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}}))},dq=function(t,e,n){return Ut(lq,t.type).fold((function(){return console.error("skipping button defined by",t),Y.none()}),(function(r){return Y.some(r(t,e,n))}))},mq={styles:H$,fontsize:M$,fontsizeinput:j$,fontfamily:y$,blocks:m$,align:s$},pq=function(t){var e=ut(sq,(function(e){var n=ft(e.items,(function(e){return Ht(t,e)||Ht(mq,e)}));return{name:e.name,items:n}}));return ft(e,(function(t){return t.items.length>0}))},gq=function(t){var e=t.split("|");return ut(e,(function(t){return{items:t.trim().split(" ")}}))},vq=function(t){return I(t,(function(t){return Ht(t,"name")&&Ht(t,"items")}))},hq=function(t){var e=t.toolbar,n=t.buttons;return!1===e?[]:void 0===e||!0===e?pq(n):k(e)?gq(e):vq(e)?e:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},bq=function(t,e,n,r,o,i){return Ut(e,n.toLowerCase()).orThunk((function(){return i.bind((function(t){return Tt(t,(function(t){return Ut(e,t+n.toLowerCase())}))}))})).fold((function(){return Ut(mq,n.toLowerCase()).map((function(e){return e(t,o)}))}),(function(e){return"grouptoolbarbutton"!==e.type||r?dq(e,o,t):(console.warn("Ignoring the '".concat(n,"' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.")),Y.none())}))},yq=function(t,e,n,r){var o=hq(e),i=ut(o,(function(o){var i=ht(o.items,(function(o){return 0===o.trim().length?[]:bq(t,e.buttons,o,e.allowToolbarGroups,n,r).toArray()}));return{title:Y.from(t.translate(o.name)),items:i}}));return ft(i,(function(t){return t.items.length>0}))},xq=function(t,e,n,r){var o=e.mainUi.outerContainer,i=n.toolbar,u=n.buttons;if(I(i,k)){var a=i.map((function(e){var o={toolbar:e,buttons:u,allowToolbarGroups:n.allowToolbarGroups};return yq(t,o,r,Y.none())}));IW.setToolbars(o,a)}else IW.setToolbar(o,yq(t,n,r,Y.none()))},wq=Ur(),Cq=wq.os.isiOS()&&wq.os.version.major<=12,Sq=function(t,e){var n=e.uiMotherships,r=t.dom,o=t.getWin(),i=t.getDoc().documentElement,u=Au(Wn(o.innerWidth,o.innerHeight)),a=Au(Wn(i.offsetWidth,i.offsetHeight)),c=function(){var e=u.get();e.left===o.innerWidth&&e.top===o.innerHeight||(u.set(Wn(o.innerWidth,o.innerHeight)),DT(t))},s=function(){var e=t.getDoc().documentElement,n=a.get();n.left===e.offsetWidth&&n.top===e.offsetHeight||(a.set(Wn(e.offsetWidth,e.offsetHeight)),DT(t))},f=function(e){BT(t,e)};r.bind(o,"resize",c),r.bind(o,"scroll",f);var l=Gd(ve.fromDom(t.getBody()),"load",s);t.on("hide",(function(){at(n,(function(t){Tn(t.element,"display","none")}))})),t.on("show",(function(){at(n,(function(t){Pn(t.element,"display")}))})),t.on("NodeChange",s),t.on("remove",(function(){l.unbind(),r.unbind(o,"resize",c),r.unbind(o,"scroll",f),o=null}))},kq=function(t,e,n){_k(t)&&Bg(n.mainUi.mothership.element,n.popupUi.mothership),Dg(e,n.dialogUi.mothership)},_q=function(){var t=o(r().mark((function t(e,n,o,i,u){var a,c,s,f,l,d,m,p,g,v,h,b;return r().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=n.mainUi,c=n.uiMotherships,s=Au(0),f=a.outerContainer,t.next=5,GW(e);case 5:return l=ve.fromDom(u.targetNode),d=sn(cn(l)),Bg(l,a.mothership),kq(e,d,n),e.on("PostRender",(function(){IW.setSidebar(f,o.sidebar,fk(e)),xq(e,n,o,i),s.set(e.getWin().innerWidth),IW.setMenubar(f,zW(e,o)),IW.setViews(f,o.views),Sq(e,n)})),m=IW.getSocket(f).getOrDie("Could not find expected socket element"),Cq&&(An(m.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"}),p=BL((function(){e.dispatch("ScrollContent")}),20),g=qd(m.element,"scroll",p.throttle),e.on("remove",g.unbind)),CO(e,n),e.addCommand("ToggleSidebar",(function(t,n){IW.toggleSidebar(f,n),e.dispatch("ToggleSidebar")})),e.addQueryValueHandler("ToggleSidebar",(function(){var t;return null!==(t=IW.whichSidebar(f))&&void 0!==t?t:""})),e.addCommand("ToggleView",(function(t,n){if(IW.toggleView(f,n)){var r=f.element;a.mothership.broadcastOn([nv()],{target:r}),at(c,(function(t){t.broadcastOn([nv()],{target:r})})),T(IW.whichView(f))&&(e.focus(),e.nodeChanged())}})),e.addQueryValueHandler("ToggleView",(function(){var t;return null!==(t=IW.whichView(f))&&void 0!==t?t:""})),v=HS(e),h=function(){IW.refreshToolbar(n.mainUi.outerContainer)},v!==$C.sliding&&v!==$C.floating||e.on("ResizeWindow ResizeEditor ResizeContent",(function(){var t=e.getWin().innerWidth;t!==s.get()&&(h(),s.set(t))})),b={setEnabled:function(t){wO(n,!t)},isEnabled:function(){return!xb.isDisabled(f)}},t.abrupt("return",{iframeContainer:m.element.dom,editorContainer:f.element.dom,api:b});case 22:case"end":return t.stop()}}),t)})));return function(e,n,r,o,i){return t.apply(this,arguments)}}(),Eq=Object.freeze({__proto__:null,render:_q}),Oq=function(t){var e=/^[0-9\.]+(|px)$/i;return e.test(""+t)?Y.some(parseInt(""+t,10)):Y.none()},Tq=function(t){return M(t)?t+"px":t},Aq=function(t,e,n){var r=e.filter((function(e){return t<e})),o=n.filter((function(e){return t>e}));return r.or(o).getOr(t)},Rq=function(t){var e=NS(t),n=MS(t),r=PS(t);return Oq(e).map((function(t){return Aq(t,n,r)}))},Nq=function(t){var e=Rq(t);return e.getOr(NS(t))},Dq=function(t){var e=DS(t),n=BS(t),r=IS(t);return Oq(e).map((function(t){return Aq(t,n,r)}))},Bq=function(t){var e=Dq(t);return e.getOr(DS(t))},Mq=Ok.ToolbarLocation,Iq=Ok.ToolbarMode,Pq=40,Lq=function(t,e,n,r,o){var i=n.mainUi,a=n.uiMotherships,c=SS.DOM,s=wk(t),f=kk(t),l=IS(t).or(Dq(t)),d=r.shared.header,m=d.isPositionedAtTop,p=HS(t),g=p===Iq.sliding||p===Iq.floating,v=Au(!1),h=function(){return v.get()&&!t.removed},b=function(t){return g?t.fold(z(0),(function(t){return t.components().length>1?zn(t.components()[1].element):0})):0},y=function(n){switch(WS(t)){case Mq.auto:var r=IW.getToolbar(i.outerContainer),o=b(r),u=zn(n.element)-o,a=yo(e),c=a.y>u;if(c)return"top";var s=qe(e),f=Math.max(s.dom.scrollHeight,zn(s)),l=a.bottom<f-u;if(l)return"bottom";var d=So(),m=d.bottom<a.bottom-u;return m?"bottom":"top";case Mq.bottom:return"bottom";case Mq.top:default:return"top"}},x=function(t){o.on((function(e){jU.setModes(e,[t]),d.setDockingMode(t);var n=m()?Ed.TopToBottom:Ed.BottomToTop;yn(e.element,Sm,n)}))},w=function(){o.on((function(t){var n=l.getOrThunk((function(){var t=Oq(Nn(vn(),"margin-left")).getOr(0);return Jn(vn())-Gn(e).left+t}));Tn(t.element,"max-width",n+"px")}))},C=function(n){o.on((function(r){var o=IW.getToolbar(i.outerContainer),a=b(o),c=yo(e),s=S(t,i.outerContainer.element).fold((function(){return{top:m()?Math.max(c.y-zn(r.element)+a,0):c.bottom,left:c.x}}),(function(t){var e,n=yo(t),o=null!==(e=t.dom.scrollTop)&&void 0!==e?e:0,i=He(t,vn()),u=i?Math.max(c.y-zn(r.element)+a,0):c.y-n.y+o-zn(r.element)+a;return{top:m()?u:c.bottom,left:i?c.x:c.x-n.x}})),f=s.top,l=s.left,d={position:"absolute",left:Math.round(l)+"px",top:Math.round(f)+"px"},p=n.map((function(t){var e=ro(),n=150,r=window.innerWidth-(l-e.left),o=Math.max(Math.min(t,r),n);return{width:o+"px"}})).getOr({});An(i.outerContainer.element,u(u({},d),p))}))},S=function(t,e){return _k(t)?Gz(e):Y.none()},k=function(){at(a,(function(t){t.broadcastOn([rv()],{})}))},_=function(){if(s)return Y.none();var t=Gn(i.outerContainer.element).left+Qn(i.outerContainer.element);if(t>=window.innerWidth-Pq||Bn(i.outerContainer.element,"width").isSome()){Tn(i.outerContainer.element,"position","absolute"),Tn(i.outerContainer.element,"left","0px"),Pn(i.outerContainer.element,"width");var e=Qn(i.outerContainer.element);return Y.some(e)}return Y.none()},E=function(t){if(h()){s||w();var e=s?Y.none():_();g&&IW.refreshToolbar(i.outerContainer),s||C(e),f&&o.on(t),k()}},O=function(){return!(s||!f||!h())&&o.get().exists((function(t){var e=d.getDockingMode(),n=y(t);return n!==e&&(x(n),!0)}))},T=function(){v.set(!0),Tn(i.outerContainer.element,"display","flex"),c.addClass(t.getBody(),"mce-edit-focus"),at(a,(function(t){Pn(t.element,"display")})),O(),_k(t)?E((function(t){return jU.isDocked(t)?jU.reset(t):jU.refresh(t)})):E(jU.refresh)},A=function(){v.set(!1),Tn(i.outerContainer.element,"display","none"),c.removeClass(t.getBody(),"mce-edit-focus"),at(a,(function(t){Tn(t.element,"display","none")}))},R=function(){var t=O();t&&E(jU.reset)};return{isVisible:h,isPositionedAtTop:m,show:T,hide:A,update:E,updateMode:R,repositionPopups:k}},Fq=function(t,e){var n=yo(t);return{pos:e?n.y:n.bottom,bounds:n}},jq=function(t,e,n,r){var o=Au(Fq(e,n.isPositionedAtTop())),i=function(r){var i=Fq(e,n.isPositionedAtTop()),u=i.pos,a=i.bounds,c=o.get(),s=c.pos,f=c.bounds,l=a.height!==f.height||a.width!==f.width;o.set({pos:u,bounds:a}),l&&DT(t,r),n.isVisible()&&(s!==u?n.update(jU.reset):l&&(n.updateMode(),n.repositionPopups()))};r||(t.on("activate",n.show),t.on("deactivate",n.hide)),t.on("SkinLoaded ResizeWindow",(function(){return n.update(jU.reset)})),t.on("NodeChange keydown",(function(t){requestAnimationFrame((function(){return i(t)}))}));var u=0,a=ML((function(){return n.update(jU.refresh)}),33);t.on("ScrollWindow",(function(){var t=ro().left;t!==u&&(u=t,a.throttle()),n.updateMode()})),_k(t)&&t.on("ElementScroll",(function(t){n.update(jU.refresh)}));var c=Vd();c.set(Gd(ve.fromDom(t.getBody()),"load",(function(t){return i(t.raw)}))),t.on("remove",(function(){c.clear()}))},zq=function(){var t=o(r().mark((function t(e,n,o,i,u){var a,c,s,f,l,d,m;return r().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=n.mainUi,c=Wd(),s=ve.fromDom(u.targetNode),f=Lq(e,s,n,i,c),l=GS(e),t.next=7,KW(e);case 7:return d=function(){if(c.isSet())f.show();else{c.set(IW.getHeader(a.outerContainer).getOrDie());var t=Ck(e);_k(e)?(Bg(s,a.mothership),Bg(s,n.popupUi.mothership)):Dg(t,a.mothership),Dg(t,n.dialogUi.mothership),xq(e,n,o,i),IW.setMenubar(a.outerContainer,zW(e,o)),f.show(),jq(e,s,f,l),e.nodeChanged()}},e.on("show",d),e.on("hide",f.hide),l||(e.on("focus",d),e.on("blur",f.hide)),e.on("init",(function(){(e.hasFocus()||l)&&d()})),CO(e,n),m={show:d,hide:f.hide,setEnabled:function(t){wO(n,!t)},isEnabled:function(){return!xb.isDisabled(a.outerContainer)}},t.abrupt("return",{editorContainer:a.outerContainer.element.dom,api:m});case 15:case"end":return t.stop()}}),t)})));return function(e,n,r,o,i){return t.apply(this,arguments)}}(),Uq=Object.freeze({__proto__:null,render:zq}),Hq=function(){var t=Wd(),e=Wd(),n=Wd(),r=function(t,e){return function(){return n.get().bind((function(t){return e(t.outerContainer)})).getOrDie("Could not find ".concat(t," element in OuterContainer"))}},o=function(){var n=t.get().map((function(t){return t.mothership})),r=e.get().map((function(t){return t.mothership}));return n.fold((function(){return r.toArray()}),(function(t){return r.fold((function(){return[t]}),(function(e){return He(t.element,e.element)?[t]:[t,e]}))}))};return{dialogUi:t,popupUi:e,mainUi:n,getUiMotherships:o,lazyGetInOuterOrDie:r}},Vq="contexttoolbar-show",Wq="contexttoolbar-hide",$q=function(t){return{hide:function(){return Ka(t,Ra())},getValue:function(){return Lv.getValue(t)}}},qq=function(t,e){return ic(GI,(function(n,r){var o=t.get(n),i=$q(o);e.onAction(i,r.event.buttonApi)}))},Gq=function(t,e,n){var r=e.original,o=(r.primary,i(r,v)),a=$i(xE(u(u({},o),{},{type:"button",onAction:P})));return oq(a,n,[qq(t,e)])},Kq=function(t,e,n){var r=e.original,o=(r.primary,i(r,h)),a=$i(SE(u(u({},o),{},{type:"togglebutton",onAction:P})));return uq(a,n,[qq(t,e)])},Yq=function(t){return"contextformtogglebutton"===t.type},Xq=function(t,e,n){return Yq(e)?Kq(t,e,n):Gq(t,e,n)},Jq=function(t,e,n){var r=ut(e,(function(e){return iS(Xq(t,e,n))})),o=function(){return ut(r,(function(t){return t.asSpec()}))},i=function(t){return Tt(e,(function(e,n){return e.primary?Y.from(r[n]).bind((function(e){return e.getOpt(t)})).filter(W(xb.isDisabled)):Y.none()}))};return{asSpecs:o,findPrimary:i}},Qq=function(t,e){var n=t.label.fold((function(){return{}}),(function(t){return{"aria-label":t}})),r=iS(m_.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:t.initValue(),inputAttributes:n,selectOnFocus:!0,inputBehaviours:ed([gw.config({mode:"special",onEnter:function(t){return o.findPrimary(t).map((function(t){return Xa(t),!0}))},onLeft:function(t,e){return e.cut(),Y.none()},onRight:function(t,e){return e.cut(),Y.none()}})])})),o=Jq(r,t.commands,e);return[{title:Y.none(),items:[r.asSpec()]},{title:Y.none(),items:o.asSpecs()}]},Zq=function(t,e,n){return qV({type:t,uid:Nc("context-toolbar"),initGroups:Qq(e,n),onEscape:Y.none,cyclicKeying:!0,providers:n})},tG={renderContextForm:Zq,buildInitGroups:Qq},eG=function(t,e,n){return e.bottom-t.y>=n&&t.bottom-e.y>=n},nG=function(t){var e=t.getBoundingClientRect();if(e.height<=0&&e.width<=0){var n=rn(ve.fromDom(t.startContainer),t.startOffset).element,r=Me(n)?Ke(n):Y.some(n);return r.filter(Be).map((function(t){return t.dom.getBoundingClientRect()})).getOr(e)}return e},rG=function(t){var e=t.selection.getRng(),n=nG(e);if(t.inline){var r=ro();return bo(r.left+n.left,r.top+n.top,n.width,n.height)}var o=xo(ve.fromDom(t.getBody()));return bo(o.x+n.left,o.y+n.top,n.width,n.height)},oG=function(t,e){return e.filter((function(t){return gn(t)&&De(t)})).map(xo).getOrThunk((function(){return rG(t)}))},iG=function(t,e,n){var r=Math.max(t.x+n,e.x),o=Math.min(t.right-n,e.right);return{x:r,width:o-r}},uG=function(t,e,n,r,o,i){var u=ve.fromDom(t.getContainer()),a=Ef(u,".tox-editor-header").getOr(u),c=yo(a),s=c.y>=e.bottom,f=r&&!s;if(t.inline&&f)return{y:Math.max(c.bottom+i,n.y),bottom:n.bottom};if(t.inline&&!f)return{y:n.y,bottom:Math.min(c.y-i,n.bottom)};var l="line"===o?yo(u):e;return f?{y:Math.max(c.bottom+i,n.y),bottom:Math.min(l.bottom-i,n.bottom)}:{y:Math.max(l.y+i,n.y),bottom:Math.min(c.y-i,n.bottom)}},aG=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=ao(window),i=yo(ve.fromDom(t.getContentAreaContainer())),u=mk(t)||vk(t)||bk(t),a=iG(i,o,r),c=a.x,s=a.width;if(t.inline&&!u)return bo(c,o.y,s,o.height);var f=e.header.isPositionedAtTop(),l=uG(t,i,o,f,n,r),d=l.y,m=l.bottom;return bo(c,d,s,m-d)},cG=12,sG={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},fG={maxHeightFunction:mm(),maxWidthFunction:pV()},lG=function(t,e){var n=t.selection.getRng(),r=rn(ve.fromDom(n.startContainer),n.startOffset);return n.startContainer===n.endContainer&&n.startOffset===n.endOffset-1&&He(r.element,e)},dG=function(t,e,n){var r=Bn(t,"position");Tn(t,"position",e);var o=n(t);return r.each((function(e){return Tn(t,"position",e)})),o},mG=function(t){return"node"===t},pG=function(t,e,n,r,o){var i=rG(t),u=r.lastElement().exists((function(t){return He(n,t)}));if(lG(t,n))return u?aj:nj;if(u)return dG(e,r.getMode(),(function(){var t=eG(i,yo(e),-20);return t&&!r.isReposition()?sj:aj}));var a="fixed"===r.getMode()?o.y+ro().top:o.y,c=zn(e)+cG;return a+c<=i.y?nj:rj},gG=function(t,e,n,r){var o=function(e){return function(r,o,i,a,c){var s=pG(t,a,e,n,c),f=u(u({},r),{},{y:c.y,height:c.height});return u(u({},s(f,o,i,a,c)),{},{alwaysFit:!0})}},i=function(t){return mG(r)?[o(t)]:[]},a={onLtr:function(t){return[Ml,Il,Dl,Rl,Bl,Nl].concat(i(t))},onRtl:function(t){return[Ml,Il,Bl,Nl,Dl,Rl].concat(i(t))}},c={onLtr:function(t){return[Il,Rl,Nl,Dl,Bl,Ml].concat(i(t))},onRtl:function(t){return[Il,Nl,Rl,Bl,Dl,Ml].concat(i(t))}};return e?c:a},vG=function(t,e,n,r){return"line"===e?{bubble:bm(cG,0,sG),layouts:{onLtr:function(){return[Pl]},onRtl:function(){return[Ll]}},overrides:fG}:{bubble:bm(0,cG,sG,1/cG),layouts:gG(t,n,r,e),overrides:fG}},hG=function(t,e){var n=ft(e,(function(e){return e.predicate(t.dom)})),r=st(n,(function(t){return"contexttoolbar"===t.type})),o=r.pass,i=r.fail;return{contextToolbars:o,contextForms:i}},bG=function(t){if(t.length<=1)return t;var e=function(e){return rt(t,(function(t){return t.position===e}))},n=function(e){return ft(t,(function(t){return t.position===e}))},r=e("selection"),o=e("node");if(r||o){if(o&&r){var i=n("node"),a=ut(n("selection"),(function(t){return u(u({},t),{},{position:"node"})}));return i.concat(a)}return n(r?"selection":"node")}return n("line")},yG=function(t){if(t.length<=1)return t;var e=function(e){return pt(t,(function(t){return t.position===e}))},n=e("selection").orThunk((function(){return e("node")})).orThunk((function(){return e("line")})).map((function(t){return t.position}));return n.fold((function(){return[]}),(function(e){return ft(t,(function(t){return t.position===e}))}))},xG=function(t,e,n){var r=hG(t,e);if(r.contextForms.length>0)return Y.some({elem:t,toolbars:[r.contextForms[0]]});var o=hG(t,n);if(o.contextForms.length>0)return Y.some({elem:t,toolbars:[o.contextForms[0]]});if(r.contextToolbars.length>0||o.contextToolbars.length>0){var i=bG(r.contextToolbars.concat(o.contextToolbars));return Y.some({elem:t,toolbars:i})}return Y.none()},wG=function(t,e,n){return t(e)?Y.none():Wu(e,(function(t){if(Be(t)){var e=hG(t,n.inNodeScope),r=e.contextToolbars,o=e.contextForms,i=o.length>0?o:yG(r);return i.length>0?Y.some({elem:t,toolbars:i}):Y.none()}return Y.none()}),t)},CG=function(t,e){var n=ve.fromDom(e.getBody()),r=function(t){return He(t,n)},o=function(t){return!r(t)&&!Ve(n,t)},i=ve.fromDom(e.selection.getNode());return o(i)?Y.none():xG(i,t.inNodeScope,t.inEditorScope).orThunk((function(){return wG(r,i,t)}))},SG=function(t,e){var n={},r=[],o=[],i={},a={},c=function(t,c){var s=$i(NE(c));n[t]=s,s.launch.map((function(n){i["form:"+t]=u(u({},c.launch),{},{type:"contextformtogglebutton"===n.type?"togglebutton":"button",onAction:function(){e(s)}})})),"editor"===s.scope?o.push(s):r.push(s),a[t]=s},s=function(t,e){BE(e).each((function(n){"editor"===e.scope?o.push(n):r.push(n),a[t]=n}))},f=At(t);return at(f,(function(e){var n=t[e];"contextform"===n.type?c(e,n):"contexttoolbar"===n.type&&s(e,n)})),{forms:n,inNodeScope:r,inEditorScope:o,lookupTable:a,formNavigators:i}},kG=Nc("forward-slide"),_G=Nc("backward-slide"),EG=Nc("change-slide-event"),OG="tox-pop--resizing",TG=function(t){var e=Au([]);return eS.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:function(t){e.set([]),eS.getContent(t).each((function(t){Pn(t.element,"visibility")})),Is(t.element,OG),Pn(t.element,"width")},inlineBehaviours:ed([Nw("context-toolbar-events",[pc(ha(),(function(t,e){"width"===e.event.raw.propertyName&&(Is(t.element,OG),Pn(t.element,"width"))})),ic(EG,(function(t,e){var n=t.element;Pn(n,"width");var r=Jn(n);eS.setContent(t,e.event.contents),Bs(n,OG);var o=Jn(n);Tn(n,"width",r+"px"),eS.getContent(t).each((function(t){e.event.focus.bind((function(t){return fd(t),pd(n)})).orThunk((function(){return gw.focusIn(t),md(cn(n))}))})),setTimeout((function(){Tn(t.element,"width",o+"px")}),0)})),ic(kG,(function(t,n){eS.getContent(t).each((function(n){e.set(e.get().concat([{bar:n,focus:md(cn(t.element))}]))})),Ya(t,EG,{contents:n.event.forwardContents,focus:Y.none()})})),ic(_G,(function(t,n){Et(e.get()).each((function(n){e.set(e.get().slice(0,e.get().length-1)),Ya(t,EG,{contents:hf(n.bar),focus:n.focus})}))}))]),gw.config({mode:"special",onEscape:function(n){return Et(e.get()).fold((function(){return t.onEscape()}),(function(t){return Ka(n,_G),Y.some(!0)}))}})]),lazySink:function(){return To.value(t.sink)}})},AG="tox-pop--transition",RG=function(t,e,n,r){var o=r.backstage,i=o.shared,a=Ur().deviceType.isTouch,c=Wd(),s=Wd(),f=Wd(),l=vf(TG({sink:n,onEscape:function(){return t.focus(),Y.some(!0)}})),d=function(){var e=f.get().getOr("node"),n=mG(e)?1:0;return aG(t,i,e,n)},m=function(){return!t.removed&&!(a()&&o.isContextMenuOpen())},p=function(t){return Wt(Kt(t,c.get(),He),!0)},g=function(){if(m()){var e=d(),n=Wt(f.get(),"node")?oG(t,c.get()):rG(t);return e.height<=0||!eG(n,e,.01)}return!0},v=function(){c.clear(),s.clear(),f.clear(),eS.hide(l)},h=function(){if(eS.isOpen(l)){var t=l.element;Pn(t,"display"),g()?Tn(t,"display","none"):(s.set(0),eS.reposition(l))}},b=function(e){return{dom:{tag:"div",classes:["tox-pop__dialog"]},components:[e],behaviours:ed([gw.config({mode:"acyclic"}),Nw("pop-dialog-wrap-events",[gc((function(e){t.shortcuts.add("ctrl+F9","focus statusbar",(function(){return gw.focusIn(e)}))})),vc((function(e){t.shortcuts.remove("ctrl+F9")}))])])}},y=tr((function(){return SG(e,(function(t){var e=C([t]);Ya(l,kG,{forwardContents:b(e)})}))})),x=function(e,n){return yq(t,{buttons:e,toolbar:n.items,allowToolbarGroups:!1},r.backstage,Y.some(["form:"]))},w=function(t,e){return tG.buildInitGroups(t,e)},C=function(e){var n=t.ui.registry.getAll(),r=n.buttons,o=y(),a=u(u({},r),o.formNavigators),c=HS(t)===$C.scrolling?$C.scrolling:$C.default,s=vt(ut(e,(function(t){return"contexttoolbar"===t.type?x(a,t):w(t,i.providers)})));return qV({type:c,uid:Nc("context-toolbar"),initGroups:s,onEscape:Y.none,cyclicKeying:!0,providers:i.providers})},S=function(e,r){var o="node"===e?i.anchors.node(r):i.anchors.cursor(),u=vG(t,e,a(),{lastElement:c.get,isReposition:function(){return Wt(s.get(),0)},getMode:function(){return hg.getMode(n)}});return qo(o,u)},k=function(t,e){if(E.cancel(),m()){var r=C(t),o=t[0].position,i=S(o,e);f.set(o),s.set(1);var u=l.element;Pn(u,"display"),p(e)||(Is(u,AG),hg.reset(n,l)),eS.showWithinBounds(l,b(r),{anchor:i,transition:{classes:[AG],mode:"placement"}},(function(){return Y.some(d())})),e.fold(c.clear,c.set),g()&&Tn(u,"display","none")}},_=!1,E=ML((function(){if(t.hasFocus()&&!t.removed&&!_)if(Ps(l.element,AG))E.throttle();else{var e=y();CG(e,t).fold(v,(function(t){k(t.toolbars,Y.some(t.elem))}))}}),17);t.on("init",(function(){t.on("remove",v),t.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",h),t.on("click keyup focus SetContent",E.throttle),t.on(Wq,v),t.on(Vq,(function(e){var n=y();Ut(n.lookupTable,e.toolbarKey).each((function(n){k([n],Jt(e.target!==t,e.target)),eS.getContent(l).each(gw.focusIn)}))})),t.on("focusout",(function(e){nS.setEditorTimeout(t,(function(){pd(n.element).isNone()&&pd(l.element).isNone()&&v()}),0)})),t.on("SwitchMode",(function(){t.mode.isReadOnly()&&v()})),t.on("AfterProgressState",(function(e){e.state?v():t.hasFocus()&&E.throttle()})),t.on("dragstart",(function(){_=!0})),t.on("dragend drop",(function(){_=!1})),t.on("NodeChange",(function(t){pd(l.element).fold(E.throttle,P)}))}))},NG=function(t){var e=[{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}];at(e,(function(e){t.ui.registry.addToggleButton(e.name,{tooltip:e.text,icon:e.icon,onAction:QW(t,e.cmd),onSetup:YW(t,e.name)})})),t.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onAction:QW(t,"JustifyNone")})},DG=function(t,e){var n=function(){var n=e.getOptions(t),r=e.getCurrent(t).map(e.hash),o=Wd();return ut(n,(function(n){return{type:"togglemenuitem",text:e.display(n),onSetup:function(i){var u=function(t){t&&(o.on((function(t){return t.setActive(!1)})),o.set(i)),i.setActive(t)};u(Wt(r,e.hash(n)));var a=e.watcher(t,n,u);return function(){o.clear(),a()}},onAction:function(){return e.setCurrent(t,n)}}}))};t.ui.registry.addMenuButton(e.name,{tooltip:e.text,icon:e.icon,fetch:function(t){return t(n())},onSetup:e.onToolbarSetup}),t.ui.registry.addNestedMenuItem(e.name,{type:"nestedmenuitem",text:e.text,getSubmenuItems:n,onSetup:e.onMenuSetup})},BG={name:"lineheight",text:"Line height",icon:"line-height",getOptions:gk,hash:function(t){return _$(t,["fixed","relative","empty"]).getOr(t)},display:U,watcher:function(t,e,n){return t.formatter.formatChanged("lineheight",n,!1,{value:e}).unbind},getCurrent:function(t){return Y.from(t.queryCommandValue("LineHeight"))},setCurrent:function(t,e){return t.execCommand("LineHeight",!1,e)}},MG=function(t){var e=Y.from(zS(t));return e.map((function(e){return{name:"language",text:"Language",icon:"language",getOptions:z(e),hash:function(t){return R(t.customCode)?t.code:"".concat(t.code,"/").concat(t.customCode)},display:function(t){return t.title},watcher:function(t,e,n){var r;return t.formatter.formatChanged("lang",n,!1,{value:e.code,customValue:null!==(r=e.customCode)&&void 0!==r?r:null}).unbind},getCurrent:function(t){var e=ve.fromDom(t.selection.getNode());return $u(e,(function(t){return Y.some(t).filter(Be).bind((function(t){var e=Cn(t,"lang");return e.map((function(e){var n=Cn(t,"data-mce-lang").getOrUndefined();return{code:e,customCode:n,title:""}}))}))}))},setCurrent:function(t,e){return t.execCommand("Lang",!1,e)},onToolbarSetup:function(e){var n=Vd();return e.setActive(t.formatter.match("lang",{},void 0,!0)),n.set(t.formatter.formatChanged("lang",e.setActive,!0)),n.clear}}}))},IG=function(t){DG(t,BG),MG(t).each((function(e){return DG(t,e)}))},PG=function(t,e){f$(t,e),x$(t,e),V$(t,e),p$(t,e),z$(t,e)},LG=function(t){return XW(t,"NodeChange",(function(e){e.setEnabled(t.queryCommandState("outdent"))}))},FG=function(t){t.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:LG(t),onAction:QW(t,"outdent")}),t.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onAction:QW(t,"indent")})},jG=function(t){FG(t)},zG=function(t,e){return function(n){n.setActive(e.get());var r=function(t){e.set(t.state),n.setActive(t.state)};return t.on("PastePlainTextToggle",r),function(){return t.off("PastePlainTextToggle",r)}}},UG=function(t){var e=Au(sk(t)),n=function(){return t.execCommand("mceTogglePlainTextPaste")};t.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:n,onSetup:zG(t,e)}),t.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:n,onSetup:zG(t,e)})},HG=function(t,e){return function(){t.execCommand("mceToggleFormat",!1,e)}},VG=function(t){AI.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(function(e,n){t.ui.registry.addToggleButton(e.name,{tooltip:e.text,icon:e.icon,onSetup:YW(t,e.name),onAction:HG(t,e.name)})}));for(var e=1;e<=6;e++){var n="h"+e;t.ui.registry.addToggleButton(n,{text:n.toUpperCase(),tooltip:"Heading "+e,onSetup:YW(t,n),onAction:HG(t,n)})}},WG=function(t){AI.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"print",text:"Print",action:"mcePrint",icon:"print"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],(function(e){t.ui.registry.addButton(e.name,{tooltip:e.text,icon:e.icon,onAction:QW(t,e.action)})}))},$G=function(t){AI.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],(function(e){t.ui.registry.addToggleButton(e.name,{tooltip:e.text,icon:e.icon,onAction:QW(t,e.action),onSetup:YW(t,e.name)})}))},qG=function(t){VG(t),WG(t),$G(t)},GG=function(t){AI.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],(function(e){t.ui.registry.addMenuItem(e.name,{text:e.text,icon:e.icon,shortcut:e.shortcut,onAction:QW(t,e.action)})})),t.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onAction:HG(t,"code")})},KG=function(t){qG(t),GG(t)},YG=function(t,e){return XW(t,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",(function(n){n.setEnabled(!t.mode.isReadOnly()&&t.undoManager[e]())}))},XG=function(t){t.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:YG(t,"hasUndo"),onAction:QW(t,"undo")}),t.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:YG(t,"hasRedo"),onAction:QW(t,"redo")})},JG=function(t){t.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:YG(t,"hasUndo"),onAction:QW(t,"undo")}),t.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:YG(t,"hasRedo"),onAction:QW(t,"redo")})},QG=function(t){XG(t),JG(t)},ZG=function(t){return XW(t,"VisualAid",(function(e){e.setActive(t.hasVisual)}))},tK=function(t){t.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:ZG(t),onAction:QW(t,"mceToggleVisualAid")})},eK=function(t){t.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:QW(t,"mceToggleVisualAid")})},nK=function(t){eK(t),tK(t)},rK=function(t,e){NG(t),KG(t),PG(t,e),QG(t),EA(t),nK(t),jG(t),IG(t),UG(t)},oK=function(t){return k(t)?t.split(/[ ,]/):t},iK=function(t){return function(e){return e.options.get(t)}},uK=function(t){var e=t.options.register;e("contextmenu_avoid_overlap",{processor:"string",default:""}),e("contextmenu_never_use_native",{processor:"boolean",default:!1}),e("contextmenu",{processor:function(t){return!1===t?{value:[],valid:!0}:k(t)||I(t,k)?{value:oK(t),valid:!0}:{valid:!1,message:"Must be false or a string."}},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})},aK=iK("contextmenu_never_use_native"),cK=iK("contextmenu_avoid_overlap"),sK=function(t){return 0===fK(t).length},fK=function(t){var e=t.ui.registry.getAll().contextMenus,n=t.options.get("contextmenu");return t.options.isSet("contextmenu")?n:ft(n,(function(t){return Ht(e,t)}))},lK=function(t,e){return{type:"makeshift",x:t,y:e}},dK=function(t,e,n){return lK(t.x+e,t.y+n)},mK=function(t){return"longpress"===t.type||0===t.type.indexOf("touch")},pK=function(t){if(mK(t)){var e=t.touches[0];return lK(e.pageX,e.pageY)}return lK(t.pageX,t.pageY)},gK=function(t){if(mK(t)){var e=t.touches[0];return lK(e.clientX,e.clientY)}return lK(t.clientX,t.clientY)},vK=function(t,e){var n=SS.DOM.getPos(t);return dK(e,n.x,n.y)},hK=function(t,e){return"contextmenu"===e.type||"longpress"===e.type?t.inline?pK(e):vK(t.getContentAreaContainer(),gK(e)):bK(t)},bK=function(t){return{type:"selection",root:ve.fromDom(t.selection.getNode())}},yK=function(t){return{type:"node",node:Y.some(ve.fromDom(t.selection.getNode())),root:ve.fromDom(t.getBody())}},xK=function(t,e,n){switch(n){case"node":return yK(t);case"point":return hK(t,e);case"selection":return bK(t)}},wK=function(t,e,n,r,o,i){var u=n(),a=xK(t,e,i);gP(u,Mk.CLOSE_ON_EXECUTE,r,{isHorizontalMenu:!1,search:Y.none()}).map((function(t){e.preventDefault(),eS.showMenuAt(o,{anchor:a},{menu:{markers:o_("normal")},data:t})}))},CK={onLtr:function(){return[Il,Rl,Nl,Dl,Bl,Ml,nj,rj,ej,ZF,tj,QF]},onRtl:function(){return[Il,Nl,Rl,Bl,Dl,Ml,nj,rj,tj,QF,ej,ZF]}},SK=12,kK={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},_K=function(t,e){var n=t.selection;if(n.isCollapsed()||e.touches.length<1)return!1;var r=e.touches[0],o=n.getRng(),i=Bp(t.getWin(),fp.domRange(o));return i.exists((function(t){return t.left<=r.clientX&&t.right>=r.clientX&&t.top<=r.clientY&&t.bottom>=r.clientY}))},EK=function(t){var e=t.selection.getRng(),n=function(){nS.setEditorTimeout(t,(function(){t.selection.setRng(e)}),10),i()};t.once("touchend",n);var r=function(t){t.preventDefault(),t.stopImmediatePropagation()};t.on("mousedown",r,!0);var o=function(){return i()};t.once("longpresscancel",o);var i=function(){t.off("touchend",n),t.off("longpresscancel",o),t.off("mousedown",r)}},OK=function(t,e,n){var r=xK(t,e,n),o="point"===n?SK:0;return u({bubble:bm(0,o,kK),layouts:CK,overrides:{maxWidthFunction:pV(),maxHeightFunction:mm()}},r)},TK=function(t,e,n,r,o,i,u){var a=OK(t,e,i);gP(n,Mk.CLOSE_ON_EXECUTE,r,{isHorizontalMenu:!0,search:Y.none()}).map((function(n){e.preventDefault();var c=u?fy.HighlightMenuAndItem:fy.HighlightNone;eS.showMenuWithinBounds(o,{anchor:a},{menu:{markers:o_("normal"),highlightOnOpen:c},data:n,type:"horizontal"},(function(){return Y.some(aG(t,r.shared,"node"===i?"node":"selection"))})),t.dispatch(Wq)}))},AK=function(t,e,n,r,o,i){var u=Ur(),a=u.os.isiOS(),c=u.os.isMacOS(),s=u.os.isAndroid(),f=u.deviceType.isTouch(),l=function(){return!(s||a||c&&f)},d=function(){var u=n();TK(t,e,u,r,o,i,l())};if((c||a)&&"node"!==i){var m=function(){EK(t),d()};_K(t,e)?m():(t.once("selectionchange",m),t.once("touchend",(function(){return t.off("selectionchange",m)})))}else d()},RK=function(t){return k(t)?"|"===t:"separator"===t.type},NK={type:"separator"},DK=function t(e){var n=function(t){return{text:t.text,icon:t.icon,enabled:t.enabled,shortcut:t.shortcut}};if(k(e))return e;switch(e.type){case"separator":return NK;case"submenu":return u(u({type:"nestedmenuitem"},n(e)),{},{getSubmenuItems:function(){var n=e.getSubmenuItems();return k(n)?n:ut(n,t)}});default:var r=e;return u(u({type:"menuitem"},n(r)),{},{onAction:L(r.onAction)})}},BK=function(t,e){if(0===e.length)return t;var n=Et(t).filter((function(t){return!RK(t)})),r=n.fold((function(){return[]}),(function(t){return[NK]}));return t.concat(r).concat(e).concat([NK])},MK=function(t,e,n){var r=dt(e,(function(e,r){return Ut(t,r.toLowerCase()).map((function(t){var r=t.update(n);if(k(r))return BK(e,r.split(" "));if(r.length>0){var o=ut(r,DK);return BK(e,o)}return e})).getOrThunk((function(){return e.concat([r])}))}),[]);return r.length>0&&RK(r[r.length-1])&&r.pop(),r},IK=function(t,e){return e.ctrlKey&&!aK(t)},PK=function(t){return"longpress"===t.type||Ht(t,"touches")},LK=function(t,e){return!PK(e)&&(2!==e.button||e.target===t.getBody()&&""===e.pointerType)},FK=function(t,e){return LK(t,e)?t.selection.getStart(!0):e.target},jK=function(t,e){var n=cK(t),r=LK(t,e)?"selection":"point";if(ce(n)){var o=FK(t,e),i=nN(ve.fromDom(o),n);return i?"node":r}return r},zK=function(t,e,n){var r=Ur(),o=r.deviceType.isTouch,i=vf(eS.sketch({dom:{tag:"div"},lazySink:e,onEscape:function(){return t.focus()},onShow:function(){return n.setContextMenuState(!0)},onHide:function(){return n.setContextMenuState(!1)},fireDismissalEventInstead:{},inlineBehaviours:ed([Nw("dismissContextMenu",[ic(ja(),(function(e,n){ev.close(e),t.focus()}))])])})),u=function(){return eS.hide(i)},a=function(e){if(aK(t)&&e.preventDefault(),!IK(t,e)&&!sK(t)){var r=jK(t,e),u=function(){var n=FK(t,e),r=t.ui.registry.getAll(),o=fK(t);return MK(r.contextMenus,o,n)},a=o()?AK:wK;a(t,e,u,n,i,r)}};t.on("init",(function(){var e="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(o()?"":" ResizeWindow");t.on(e,u),t.on("longpress contextmenu",a)}))},UK=Nu.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),HK=function(t){return function(e){return e.translate(-t.left,-t.top)}},VK=function(t){return function(e){return e.translate(t.left,t.top)}},WK=function(t){return function(e,n){return dt(t,(function(t,e){return e(t)}),Wn(e,n))}},$K=function(t,e,n){return t.fold(WK([VK(n),HK(e)]),WK([HK(e)]),WK([]))},qK=function(t,e,n){return t.fold(WK([VK(n)]),WK([]),WK([VK(e)]))},GK=function(t,e,n){return t.fold(WK([]),WK([HK(n)]),WK([VK(e),HK(n)]))},KK=function(t,e,n,r,o,i){var u=qK(t,o,i),a=qK(e,o,i);return Math.abs(u.left-a.left)<=n&&Math.abs(u.top-a.top)<=r},YK=function(t,e,n,r,o,i){var u=qK(t,o,i),a=qK(e,o,i),c=Math.abs(u.left-a.left),s=Math.abs(u.top-a.top);return Wn(c,s)},XK=function(t,e,n){var r=t.fold((function(t,e){return{position:Y.some("absolute"),left:Y.some(t+"px"),top:Y.some(e+"px")}}),(function(t,e){return{position:Y.some("absolute"),left:Y.some(t-n.left+"px"),top:Y.some(e-n.top+"px")}}),(function(t,e){return{position:Y.some("fixed"),left:Y.some(t+"px"),top:Y.some(e+"px")}}));return u({right:Y.none(),bottom:Y.none()},r)},JK=function(t,e,n){return t.fold((function(t,r){return ZK(t+e,r+n)}),(function(t,r){return tY(t+e,r+n)}),(function(t,r){return eY(t+e,r+n)}))},QK=function(t,e,n,r){var o=function(t,o){return function(i,u){var a=t(e,n,r);return o(i.getOr(a.left),u.getOr(a.top))}};return t.fold(o(GK,ZK),o(qK,tY),o($K,eY))},ZK=UK.offset,tY=UK.absolute,eY=UK.fixed,nY=function(t,e){var n=wn(t,e);return R(n)?NaN:parseInt(n,10)},rY=function(t,e){var n=t.element,r=nY(n,e.leftAttr),o=nY(n,e.topAttr);return isNaN(r)||isNaN(o)?Y.none():Y.some(Wn(r,o))},oY=function(t,e,n){var r=t.element;yn(r,e.leftAttr,n.left+"px"),yn(r,e.topAttr,n.top+"px")},iY=function(t,e){var n=t.element;kn(n,e.leftAttr),kn(n,e.topAttr)},uY=function(t,e,n,r){return rY(t,e).fold((function(){return n}),(function(t){return eY(t.left+r.left,t.top+r.top)}))},aY=function(t,e,n,r,o,i){var u=uY(t,e,n,r),a=e.mustSnap?fY(t,e,u,o,i):lY(t,e,u,o,i),c=$K(u,o,i);return oY(t,e,c),a.fold((function(){return{coord:eY(c.left,c.top),extra:Y.none()}}),(function(t){return{coord:t.output,extra:t.extra}}))},cY=function(t,e){iY(t,e)},sY=function(t,e,n,r){return Tt(t,(function(t){var o=t.sensor,i=KK(e,o,t.range.left,t.range.top,n,r);return i?Y.some({output:QK(t.output,e,n,r),extra:t.extra}):Y.none()}))},fY=function(t,e,n,r,o){var i=e.getSnapPoints(t),u=sY(i,n,r,o);return u.orThunk((function(){var t=dt(i,(function(t,e){var i=e.sensor,u=YK(n,i,e.range.left,e.range.top,r,o);return t.deltas.fold((function(){return{deltas:Y.some(u),snap:Y.some(e)}}),(function(n){var r=(u.left+u.top)/2,o=(n.left+n.top)/2;return r<=o?{deltas:Y.some(u),snap:Y.some(e)}:t}))}),{deltas:Y.none(),snap:Y.none()});return t.snap.map((function(t){return{output:QK(t.output,n,r,o),extra:t.extra}}))}))},lY=function(t,e,n,r,o){var i=e.getSnapPoints(t);return sY(i,n,r,o)},dY=function(t,e,n){return{coord:QK(t.output,t.output,e,n),extra:t.extra}},mY=function(t,e,n,r){var o=e.getTarget(t.element);if(e.repositionTarget){var i=We(t.element),u=ro(i),a=Kz(o),c=dY(r,u,a),s=XK(c.coord,u,a);Rn(o,s)}},pY=Object.freeze({__proto__:null,snapTo:mY}),gY="data-initial-z-index",vY=function(t){Ke(t.element).filter(Be).each((function(t){Cn(t,gY).fold((function(){return Pn(t,"z-index")}),(function(e){return Tn(t,"z-index",e)})),kn(t,gY)}))},hY=function(t){Ke(t.element).filter(Be).each((function(e){Bn(e,"z-index").each((function(t){yn(e,gY,t)})),Tn(e,"z-index",Nn(t.element,"z-index"))}))},bY=function(t,e){t.getSystem().addToGui(e),hY(e)},yY=function(t){vY(t),t.getSystem().removeFromGui(t)},xY=function(t,e,n){return t.getSystem().build(EN.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[e]},events:n}))},wY=hu("snaps",[Zi("getSnapPoints"),Xf("onSensor"),Zi("leftAttr"),Zi("topAttr"),yu("lazyViewport",So),yu("mustSnap",!1)]),CY=[yu("useFixed",G),Zi("blockerClass"),yu("getTarget",U),yu("onDrag",P),yu("repositionTarget",!0),yu("onDrop",P),_u("getBounds",So),wY],SY=function(t){return Yt(Bn(t,"left"),Bn(t,"top"),Bn(t,"position"),(function(t,e,n){var r="fixed"===n?eY:ZK;return r(parseInt(t,10),parseInt(e,10))})).getOrThunk((function(){var e=Gn(t);return tY(e.left,e.top)}))},kY=function(t,e,n,r,o){var i=o.bounds,u=qK(e,n,r),a=hl(u.left,i.x,i.x+i.width-o.width),c=hl(u.top,i.y,i.y+i.height-o.height),s=tY(a,c);return e.fold((function(){var t=GK(s,n,r);return ZK(t.left,t.top)}),z(s),(function(){var t=$K(s,n,r);return eY(t.left,t.top)}))},_Y=function(t,e,n,r,o,i,u){var a=e.fold((function(){var t=JK(n,i.left,i.top),e=$K(t,r,o);return eY(e.left,e.top)}),(function(e){var u=aY(t,e,n,i,r,o);return u.extra.each((function(n){e.onSensor(t,n)})),u.coord}));return kY(t,a,r,o,u)},EY=function(t,e,n,r){var o=e.getTarget(t.element);if(e.repositionTarget){var i=We(t.element),u=ro(i),a=Kz(o),c=SY(o),s=_Y(t,e.snaps,c,u,a,r,n),f=XK(s,u,a);Rn(o,f)}e.onDrag(t,o,r)},OY=function(t,e){return{bounds:t.getBounds(),height:Un(e.element),width:Qn(e.element)}},TY=function(t,e,n,r,o){var i=n.update(r,o),u=n.getStartData().getOrThunk((function(){return OY(e,t)}));i.each((function(n){EY(t,e,u,n)}))},AY=function(t,e,n,r){e.each(yY),n.snaps.each((function(e){cY(t,e)}));var o=n.getTarget(t.element);r.reset(),n.onDrop(t,o)},RY=function(t){return function(e,n){var r=function(t){n.setStartData(OY(e,t))};return ec([ic(Ia(),(function(t){n.getStartData().each((function(){return r(t)}))}))].concat(c(t(e,n,r))))}},NY=function(t){return ec([ic(oa(),t.forceDrop),ic(aa(),t.drop),ic(ia(),(function(e,n){t.move(n.event)})),ic(ua(),t.delayDrop)])},DY=function(t){return Y.from(Wn(t.x,t.y))},BY=function(t,e){return Wn(e.left-t.left,e.top-t.top)},MY=Object.freeze({__proto__:null,getData:DY,getDelta:BY}),IY=function(t,e,n){return[ic(oa(),(function(r,o){var i=o.event.raw;if(0===i.button){o.stop();var u=function(){return AY(r,Y.some(s),t,e)},a=rN(u,200),c={drop:u,delayDrop:a.schedule,forceDrop:u,move:function(n){a.cancel(),TY(r,t,e,MY,n)}},s=xY(r,t.blockerClass,NY(c)),f=function(){n(r),bY(r,s)};f()}}))]},PY=[].concat(CY,[tl("dragger",{handlers:RY(IY)})]),LY=function(t){return ec([ic(ta(),t.forceDrop),ic(na(),t.drop),ic(ra(),t.drop),ic(ea(),(function(e,n){t.move(n.event)}))])},FY=function(t){var e=t[0];return Y.some(Wn(e.clientX,e.clientY))},jY=function(t){var e=t.raw,n=e.touches;return 1===n.length?FY(n):Y.none()},zY=function(t,e){return Wn(e.left-t.left,e.top-t.top)},UY=Object.freeze({__proto__:null,getData:jY,getDelta:zY}),HY=function(t,e,n){var r=Wd(),o=function(n){AY(n,r.get(),t,e),r.clear()};return[ic(ta(),(function(i,u){u.stop();var a=function(){return o(i)},c={drop:a,delayDrop:P,forceDrop:a,move:function(n){TY(i,t,e,UY,n)}},s=xY(i,t.blockerClass,LY(c));r.set(s);var f=function(){n(i),bY(i,s)};f()})),ic(ea(),(function(n,r){r.stop(),TY(n,t,e,UY,r.event)})),ic(na(),(function(t,e){e.stop(),o(t)})),ic(ra(),o)]},VY=[].concat(CY,[tl("dragger",{handlers:RY(HY)})]),WY=function(t,e,n){return[].concat(c(IY(t,e,n)),c(HY(t,e,n)))},$Y=[].concat(CY,[tl("dragger",{handlers:RY(WY)})]),qY=PY,GY=VY,KY=$Y,YY=Object.freeze({__proto__:null,mouse:qY,touch:GY,mouseOrTouch:KY}),XY=function(){var t=Y.none(),e=Y.none(),n=function(){t=Y.none(),e=Y.none()},r=function(e,n){var r=t.map((function(t){return e.getDelta(t,n)}));return t=Y.some(n),r},o=function(t,e){return t.getData(e).bind((function(e){return r(t,e)}))},i=function(t){e=Y.some(t)},u=function(){return e},a=z({});return Zc({readState:a,reset:n,update:o,getStartData:u,setStartData:i})},JY=Object.freeze({__proto__:null,init:XY}),QY=id({branchKey:"mode",branches:YY,name:"dragging",active:{events:function(t,e){var n=t.dragger;return n.handlers(t,e)}},extra:{snap:function(t){return{sensor:t.sensor,range:t.range,output:t.output,extra:Y.from(t.extra)}}},state:JY,apis:pY}),ZY=40,tX=ZY/2,eX=function(t,e,n,r,o,i){return t.fold((function(){return QY.snap({sensor:tY(n-tX,r-tX),range:Wn(o,i),output:tY(Y.some(n),Y.some(r)),extra:{td:e}})}),(function(t){var o=n-tX,i=r-tX,u=ZY,a=ZY,c=t.element.dom.getBoundingClientRect();return QY.snap({sensor:tY(o,i),range:Wn(u,a),output:tY(Y.some(n-c.width/2),Y.some(r-c.height/2)),extra:{td:e}})}))},nX=function(t,e,n){var r=function(t,e){return t.exists((function(t){return He(t,e)}))};return{getSnapPoints:t,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:function(t,o){var i=o.td;r(e.get(),i)||(e.set(i),n(i))},mustSnap:!0}},rX=function(t){return iS(oS.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:ed([QY.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:t}),gD.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}}))},oX=function(t,e){var n=Au([]),r=Au([]),o=Au(!1),i=Wd(),u=Wd(),a=function(t){var n=xo(t);return eX(m.getOpt(e),t,n.x,n.y,n.width,n.height)},c=function(){return ut(n.get(),(function(t){return a(t)}))},s=function(t){var n=xo(t);return eX(p.getOpt(e),t,n.right,n.bottom,n.width,n.height)},f=function(){return ut(r.get(),(function(t){return s(t)}))},l=nX(c,i,(function(e){u.get().each((function(n){t.dispatch("TableSelectorChange",{start:e,finish:n})}))})),d=nX(f,u,(function(e){i.get().each((function(n){t.dispatch("TableSelectorChange",{start:n,finish:e})}))})),m=rX(l),p=rX(d),g=vf(m.asSpec()),v=vf(p.asSpec()),h=function(e,n,r,o){var i=n.dom.getBoundingClientRect();Pn(e.element,"display");var u=Ge(ve.fromDom(t.getBody())).dom.innerHeight,a=r(i),c=o(i,u);(a||c)&&Tn(e.element,"display","none")},b=function(t,e,n,r){var o=n(e);QY.snapTo(t,o);var i=function(t){return t[r]<0},u=function(t,e){return t[r]>e};h(t,e,i,u)},y=function(t){return b(g,t,a,"top")},x=function(){return i.get().each(y)},w=function(t){return b(v,t,s,"bottom")},C=function(){return u.get().each(w)};Ur().deviceType.isTouch()&&(t.on("TableSelectionChange",(function(t){o.get()||(Og(e,g),Og(e,v),o.set(!0)),i.set(t.start),u.set(t.finish),t.otherCells.each((function(e){n.set(e.upOrLeftCells),r.set(e.downOrRightCells),y(t.start),w(t.finish)}))})),t.on("ResizeEditor ResizeWindow ScrollContent",(function(){x(),C()})),t.on("TableSelectionClear",(function(){o.get()&&(Rg(g),Rg(v),o.set(!1)),i.clear(),u.clear()})))},iX='<svg width="50px" height="16px" viewBox="0 0 50 16" xmlns="http://www.w3.org/2000/svg">\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M10.143 0c2.608.015 5.186 2.178 5.186 5.331 0 0 .077 3.812-.084 4.87-.361 2.41-2.164 4.074-4.65 4.496-1.453.284-2.523.49-3.212.623-.373.071-.634.122-.785.152-.184.038-.997.145-1.35.145-2.732 0-5.21-2.04-5.248-5.33 0 0 0-3.514.03-4.442.093-2.4 1.758-4.342 4.926-4.963 0 0 3.875-.752 4.036-.782.368-.07.775-.1 1.15-.1Zm1.826 2.8L5.83 3.989v2.393l-2.455.475v5.968l6.137-1.189V9.243l2.456-.476V2.8ZM5.83 6.382l3.682-.713v3.574l-3.682.713V6.382Zm27.173-1.64-.084-1.066h-2.226v9.132h2.456V7.743c-.008-1.151.998-2.064 2.149-2.072 1.15-.008 1.987.92 1.995 2.072v5.065h2.455V7.359c-.015-2.18-1.657-3.929-3.837-3.913a3.993 3.993 0 0 0-2.908 1.296Zm-6.3-4.266L29.16 0v2.387l-2.456.475V.476Zm0 3.2v9.132h2.456V3.676h-2.456Zm18.179 11.787L49.11 3.676H46.58l-1.612 4.527-.46 1.382-.384-1.382-1.611-4.527H39.98l3.3 9.132L42.15 16l2.732-.537ZM22.867 9.738c0 .752.568 1.075.921 1.075.353 0 .668-.047.998-.154l.537 1.765c-.23.154-.92.537-2.225.537-1.305 0-2.655-.997-2.686-2.686a136.877 136.877 0 0 1 0-4.374H18.8V3.676h1.612v-1.98l2.455-.476v2.456h2.302V5.9h-2.302v3.837Z"/>\n</svg>\n',uX=function(t){return"BR"===t.nodeName||!!t.getAttribute("data-mce-bogus")||"bookmark"===t.getAttribute("data-mce-type")},aX=function(t,e,n){var r,o=null!==(r=e.delimiter)&&void 0!==r?r:"âº",i=function(e,r,o){return oS.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":o,"aria-level":o+1}},components:[lf(e)],action:function(e){t.focus(),t.selection.select(r),t.nodeChanged()},buttonBehaviours:ed([TO.button(n.isDisabled),SO()])})},u=function(){return{dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[lf(" ".concat(o," "))]}},a=function(t){return dt(t,(function(t,e,n){var r=i(e.name,e.element,n);return 0===n?t.concat([r]):t.concat([u(),r])}),[])},c=function(e){var n=[],r=e.length;while(r-- >0){var o=e[r];if(1===o.nodeType&&!uX(o)){var i=PT(t,o);if(i.isDefaultPrevented()||n.push({name:i.name,element:o}),i.isPropagationStopped())break}}return n};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:ed([gw.config({mode:"flow",selector:"div[role=button]"}),xb.config({disabled:n.isDisabled}),SO(),PN.config({}),Aw.config({}),Nw("elementPathEvents",[gc((function(e,n){t.shortcuts.add("alt+F11","focus statusbar elementpath",(function(){return gw.focusIn(e)})),t.on("NodeChange",(function(t){var n=c(t.parents),r=n.length>0?a(n):[];Aw.set(e,r)}))}))])]),components:[]}};(function(t){t[t["None"]=0]="None",t[t["Both"]=1]="Both",t[t["Vertical"]=2]="Vertical"})(o$||(o$={}));var cX=function(t,e,n,r,o){var i={height:Aq(r+e.top,MS(t),PS(t))};return n===o$.Both&&(i.width=Aq(o+e.left,BS(t),IS(t))),i},sX=function(t,e,n){var r=ve.fromDom(t.getContainer()),o=cX(t,e,n,zn(r),Jn(r));Nt(o,(function(t,e){M(t)&&Tn(r,e,Tq(t))})),NT(t)},fX=function(t){var e=ck(t);return!1===e?o$.None:"both"===e?o$.Both:o$.Vertical},lX=function(t,e,n,r){var o=20,i=Wn(n*o,r*o);return sX(t,i,e),Y.some(!0)},dX=function(t,e){var n=fX(t);return n===o$.None?Y.none():Y.some(hS("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:e.translate("Resize")},behaviours:[QY.config({mode:"mouse",repositionTarget:!1,onDrag:function(e,r,o){return sX(t,o,n)},blockerClass:"tox-blocker"}),gw.config({mode:"special",onLeft:function(){return lX(t,n,-1,0)},onRight:function(){return lX(t,n,1,0)},onUp:function(){return lX(t,n,0,-1)},onDown:function(){return lX(t,n,0,1)}}),PN.config({}),zw.config({})]},e.icons))},mX=function(t,e){var n=function(t,n,r){return Aw.set(t,[lf(e.translate(["{0} "+r,n[r]]))])};return oS.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:ed([TO.button(e.isDisabled),SO(),PN.config({}),Aw.config({}),Lv.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),Nw("wordcount-events",[bc((function(t){var e=Lv.getValue(t),r="words"===e.mode?"characters":"words";Lv.setValue(t,{mode:r,count:e.count}),n(t,e.count,r)})),gc((function(e){t.on("wordCountUpdate",(function(t){var r=Lv.getValue(e),o=r.mode;Lv.setValue(e,{mode:o,count:t.wordCount}),n(e,t.wordCount,o)}))}))])]),eventOrder:a({},Ea(),["disabling","alloy.base.behaviour","wordcount-events"])})},pX=function(t,e){var n=function(){return{dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=editor_referral&utm_medium=poweredby&utm_source=tinymce&utm_content=v6",rel:"noopener",target:"_blank","aria-label":uS.translate(["Powered by {0}","Tiny"])},innerHtml:iX.trim()},behaviours:ed([zw.config({})])}]}},r=function(){var r=[];return uk(t)&&r.push(aX(t,{},e)),t.hasPlugin("wordcount")&&r.push(mX(t,e)),ak(t)&&r.push(n()),r.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container"]},components:r}]:[]},o=function(){var n=r(),o=dX(t,e);return n.concat(o.toArray())};return{dom:{tag:"div",classes:["tox-statusbar"]},components:o()}},gX=function(t,e){return e.get().getOrDie("UI for ".concat(t," has not been rendered"))},vX=function(t,e){var n=t.inline,r=n?Uq:Eq,o=kk(t)?eH:qz,i=Hq(),s=Wd(),f=Wd(),l=Wd(),d=Ur(),m=d.deviceType.isTouch(),p="tox-platform-touch",g=m?[p]:[],v=yk(t),h=HS(t),b=iS({dom:{tag:"div",classes:["tox-anchorbar"]}}),y=function(){return i.mainUi.get().map((function(t){return t.outerContainer})).bind(IW.getHeader)},x=function(){return To.fromOption(i.dialogUi.get().map((function(t){return t.sink})),"UI has not been rendered")},w=function(){return To.fromOption(i.popupUi.get().map((function(t){return t.sink})),"(popup) UI has not been rendered")},C=i.lazyGetInOuterOrDie("anchor bar",b.getOpt),S=i.lazyGetInOuterOrDie("toolbar",IW.getToolbar),k=i.lazyGetInOuterOrDie("throbber",IW.getThrobber),_=Oz({popup:w,dialog:x},t,C),E=function(){var e={attributes:a({},Sm,v?Ed.BottomToTop:Ed.TopToBottom)},n=IW.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:_.popup,onEscape:function(){t.focus()}}),r=IW.parts.toolbar(u({dom:{tag:"div",classes:["tox-toolbar"]},getSink:_.popup.shared.getSink,providers:_.popup.shared.providers,onEscape:function(){t.focus()},onToolbarToggled:function(e){LT(t,e)},type:h,lazyToolbar:S,lazyHeader:function(){return y().getOrDie("Could not find header element")}},e)),o=IW.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:_.popup.shared.providers,onEscape:function(){t.focus()},type:h}),i=bk(t),c=vk(t),s=mk(t),f=lk(t),l=O(),d=i||c||s,m=function(){return i?[o]:c?[r]:[]},p=f?[l,n]:[n];return IW.parts.header({dom:u({tag:"div",classes:["tox-editor-header"].concat(d?[]:["tox-editor-header--empty"])},e),components:vt([s?p:[],m(),wk(t)?[]:[b.asSpec()]]),sticky:kk(t),editor:t,sharedBackstage:_.popup.shared})},O=function(){return IW.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]}})},T=function(){var t=IW.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),e=IW.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}});return{dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[t,e]}},A=function(){var e=Ck(t),n=He(vn(),e)&&"grid"===Nn(e,"display"),r={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(g),attributes:u({},uS.isRtl()?{dir:"rtl"}:{})},behaviours:ed([hg.config({useFixed:function(){return o.isDocked(y)}})])},i={dom:{styles:{width:document.body.clientWidth+"px"}},events:ec([ic(Pa(),(function(t){Tn(t.element,"width",document.body.clientWidth+"px")}))])},a=vf(qo(r,n?i:{})),c=ON(a);return f.set(c),{sink:a,mothership:c}},R=function(){var t={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(g),attributes:u({},uS.isRtl()?{dir:"rtl"}:{})},behaviours:ed([hg.config({useFixed:function(){return o.isDocked(y)},getBounds:function(){return e.getPopupSinkBounds()}})])},n=vf(t),r=ON(n);return l.set(r),{sink:n,mothership:r}},N=function(){var e=E(),r=T(),o=IW.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:_.popup}),i=IW.parts.viewWrapper({backstage:_.popup}),a=ik(t)&&!n?Y.some(pX(t,_.popup.shared.providers)):Y.none(),f=vt([v?[]:[e],n?[]:[r],v?[e]:[]]),l=IW.parts.editorContainer({components:vt([f,n?[]:a.toArray()])}),d=Sk(t),m=u(u({role:"application"},uS.isRtl()?{dir:"rtl"}:{}),d?{"aria-hidden":"true"}:{}),p=vf(IW.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(n?["tox-tinymce-inline"]:[]).concat(v?["tox-tinymce--toolbar-bottom"]:[]).concat(g),styles:u({visibility:"hidden"},d?{opacity:"0",border:"0"}:{}),attributes:m},components:[l].concat(c(n?[]:[i]),[o]),behaviours:ed([SO(),xb.config({disableClass:"tox-tinymce--disabled"}),gw.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),h=ON(p);return s.set(h),{mothership:h,outerContainer:p}},D=function(e){var n=Tq(Nq(t)),r=Tq(Bq(t));return t.inline||(In("div","width",r)&&Tn(e.element,"width",r),In("div","height",n)?Tn(e.element,"height",n):Tn(e.element,"height","400px")),n},B=function(e){t.addShortcut("alt+F9","focus menubar",(function(){IW.focusMenubar(e)})),t.addShortcut("alt+F10","focus toolbar",(function(){IW.focusToolbar(e)})),t.addCommand("ToggleToolbarDrawer",(function(t,n){(null===n||void 0===n?void 0:n.skipFocus)?IW.toggleToolbarDrawerWithoutFocusing(e):IW.toggleToolbarDrawer(e)})),t.addQueryStateHandler("ToggleToolbarDrawer",(function(){return IW.isToolbarDrawerToggled(e)}))},M=function(e){var n=e.mainUi,i=e.popupUi,u=e.uiMotherships;Dt(VS(t),(function(e,n){t.ui.registry.addGroupToolbarButton(n,e)}));var a=t.ui.registry.getAll(),c=a.buttons,s=a.menuItems,f=a.contextToolbars,l=a.sidebars,d=a.views,m=hk(t),p={menuItems:s,menus:Ek(t),menubar:YS(t),toolbar:m.getOrThunk((function(){return XS(t)})),allowToolbarGroups:h===$C.floating,buttons:c,sidebar:l,views:d};B(n.outerContainer),Tz(t,n.mothership,u),o.setup(t,_.popup.shared,y),rK(t,_.popup),zK(t,_.popup.shared.getSink,_.popup),kH(t),QH(t,k,_.popup.shared),RG(t,f,i.sink,{backstage:_.popup}),oX(t,i.sink);var g=t.getElement(),v=D(n.outerContainer),b={targetNode:g,height:v};return r.render(t,e,p,_.popup,b)},I=function(t){return l.set(t.mothership),t},P=function(){var e=N(),n=A(),r=_k(t)?R():I(n);i.dialogUi.set(n),i.popupUi.set(r),i.mainUi.set(e);var o={popupUi:r,dialogUi:n,mainUi:e,uiMotherships:i.getUiMotherships()};return M(o)};return{popups:{backstage:_.popup,getMothership:function(){return gX("popups",l)}},dialogs:{backstage:_.dialog,getMothership:function(){return gX("dialogs",f)}},renderUI:P}},hX=function(t,e){var n=Y.from(wn(t,"id")).fold((function(){var t=Nc("dialog-describe");return yn(e,"id",t),t}),U);yn(t,"aria-describedby",n)},bX=function(t,e){var n=Cn(t,"id").fold((function(){var t=Nc("dialog-label");return yn(e,"id",t),t}),U);yn(t,"aria-labelledby",n)},yX=z([Zi("lazySink"),fu("dragBlockClass"),_u("getBounds",So),yu("useTabstopAt",K),yu("firstTabstop",0),yu("eventOrder",{}),Fv("modalBehaviours",[gw]),Jf("onExecute"),Zf("onEscape")]),xX={sketch:U},wX=z([bh({name:"draghandle",overrides:function(t,e){return{behaviours:ed([QY.config({mode:"mouse",getTarget:function(t){return kf(t,'[role="dialog"]').getOr(t)},blockerClass:t.dragBlockClass.getOrDie(new Error("The drag blocker class was not specified for a dialog with a drag handle: \n"+JSON.stringify(e,null,2)).message),getBounds:t.getDragBounds})])}}}),vh({schema:[Zi("dom")],name:"title"}),vh({factory:xX,schema:[Zi("dom")],name:"close"}),vh({factory:xX,schema:[Zi("dom")],name:"body"}),bh({factory:xX,schema:[Zi("dom")],name:"footer"}),hh({factory:{sketch:function(t,e){return u(u({},t),{},{dom:e.dom,components:e.components})}},schema:[yu("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),yu("components",[])],name:"blocker"})]),CX=function(t,e,n,r){var o=Wd(),i=function(e){o.set(e);var n=t.lazySink(e).getOrDie(),i=r.blocker(),a=n.getSystem().build(u(u({},i),{},{components:i.components.concat([hf(e)]),behaviours:ed([zw.config({}),Nw("dialog-blocker-events",[pc(sa(),(function(){gw.focusIn(e)}))])])}));Og(n,a),gw.focusIn(e)},c=function(t){o.clear(),Ke(t.element).each((function(e){t.getSystem().getByDom(e).each((function(t){Rg(t)}))}))},s=function(e){return Dh(e,t,"body")},f=function(e){return Dh(e,t,"footer")},l=function(t,e){UH.block(t,e)},d=function(t){UH.unblock(t)},m=Nc("modal-events"),p=u(u({},t.eventOrder),{},a({},La(),[m].concat(t.eventOrder["alloy.system.attached"]||[])));return{uid:t.uid,dom:t.dom,components:e,apis:{show:i,hide:c,getBody:s,getFooter:f,setIdle:d,setBusy:l},eventOrder:p,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:zv(t.modalBehaviours,[Aw.config({}),gw.config({mode:"cyclic",onEnter:t.onExecute,onEscape:t.onEscape,useTabstopAt:t.useTabstopAt,firstTabstop:t.firstTabstop}),UH.config({getRoot:o.get}),Nw(m,[gc((function(e){bX(e.element,Dh(e,t,"title").element),hX(e.element,Dh(e,t,"body").element)}))])])}},SX=Xh({name:"ModalDialog",configFields:yX(),partFields:wX(),factory:CX,apis:{show:function(t,e){t.show(e)},hide:function(t,e){t.hide(e)},getBody:function(t,e){return t.getBody(e)},getFooter:function(t,e){return t.getFooter(e)},setBusy:function(t,e,n){t.setBusy(e,n)},setIdle:function(t,e){t.setIdle(e)}}}),kX=ki([F_,j_].concat(zE)),_X=Mi,EX=[lE("button"),Q_,Su("align","end",["start","end"]),uE,iE,pu("buttonType",["primary","secondary"])],OX=[].concat(EX,[U_]),TX=[ru("type",["submit","cancel","custom"])].concat(c(OX)),AX=[ru("type",["menu"]),J_,Z_,Q_,su("items",kX)].concat(EX),RX=[].concat(EX,[ru("type",["togglebutton"]),nu("tooltip"),V_,J_,ku("active",!1)]),NX=Ki("type",{submit:TX,cancel:TX,custom:TX,menu:AX,togglebutton:RX}),DX=[F_,U_,ru("level",["info","warn","error","success"]),V_,yu("url","")],BX=ki(DX),MX=function(t){return[F_,t]},IX=[F_,U_,iE,lE("button"),Q_,oE,pu("buttonType",["primary","secondary","toolbar"]),uE],PX=ki(IX),LX=[F_,j_],FX=LX.concat([tE]),jX=LX.concat([z_,iE]),zX=ki(jX),UX=Mi,HX=FX.concat([aE("auto")]),VX=ki(HX),WX=Ai([W_,U_,V_]),$X=FX.concat([Cu("storageKey","default")]),qX=ki($X),GX=Bi,KX=FX,YX=ki(KX),XX=Bi,JX=LX.concat([Cu("tag","textarea"),nu("scriptId"),nu("scriptUrl"),Eu("settings",void 0)]),QX=LX.concat([Cu("tag","textarea"),iu("init")]),ZX=Ui((function(t){return Wi("customeditor.old",Si(QX),t).orThunk((function(){return Wi("customeditor.new",Si(JX),t)}))})),tJ=Bi,eJ=FX,nJ=ki(eJ),rJ=zi(),oJ=function(t){return[F_,eu("columns"),t]},iJ=[F_,nu("html"),Su("presets","presentation",["presentation","document"])],uJ=ki(iJ),aJ=FX.concat([ku("sandboxed",!0),ku("transparent",!0)]),cJ=ki(aJ),sJ=Bi,fJ=ki(LX.concat([mu("height")])),lJ=ki([nu("url"),du("zoom"),du("cachedWidth"),du("cachedHeight")]),dJ=FX.concat([mu("inputMode"),mu("placeholder"),ku("maximized",!1),iE]),mJ=ki(dJ),pJ=Bi,gJ=function(t){return[F_,z_,t]},vJ=[U_,W_],hJ=[U_,su("items",Yi("items",(function(){return bJ})))],bJ=Ei([ki(vJ),ki(hJ)]),yJ=FX.concat([su("items",bJ),iE]),xJ=ki(yJ),wJ=Bi,CJ=FX.concat([cu("items",[U_,W_]),wu("size",1),iE]),SJ=ki(CJ),kJ=Bi,_J=FX.concat([ku("constrain",!0),iE]),EJ=ki(_J),OJ=ki([nu("width"),nu("height")]),TJ=LX.concat([z_,wu("min",0),wu("max",0)]),AJ=ki(TJ),RJ=Di,NJ=[F_,su("header",Bi),su("cells",_i(Bi))],DJ=ki(NJ),BJ=FX.concat([mu("placeholder"),ku("maximized",!1),iE]),MJ=ki(BJ),IJ=Bi,PJ=[ru("type",["directory","leaf"]),H_,nu("id"),lu("menu",uH)],LJ=PJ,FJ=ki(LJ),jJ=PJ.concat([su("children",Yi("children",(function(){return ji("type",{directory:zJ,leaf:FJ})})))]),zJ=ki(jJ),UJ=ji("type",{directory:zJ,leaf:FJ}),HJ=[F_,su("items",UJ),gu("onLeafAction")],VJ=ki(HJ),WJ=FX.concat([Su("filetype","file",["image","media","file"]),iE]),$J=ki(WJ),qJ=ki([W_,cE]),GJ=function(t){return Xi("items","items",Ko(),_i(Ui((function(e){return Wi("Checking item of ".concat(t),KJ,e).fold((function(t){return To.error(Gi(t))}),(function(t){return To.value(t)}))}))))},KJ=wi((function(){return ji("type",{alertbanner:BX,bar:ki(MX(GJ("bar"))),button:PX,checkbox:zX,colorinput:qX,colorpicker:YX,dropzone:nJ,grid:ki(oJ(GJ("grid"))),iframe:cJ,input:mJ,listbox:xJ,selectbox:SJ,sizeinput:EJ,slider:AJ,textarea:MJ,urlinput:$J,customeditor:ZX,htmlpanel:uJ,imagepreview:fJ,collection:VX,label:ki(gJ(GJ("label"))),table:DJ,tree:VJ,panel:XJ})})),YJ=[F_,yu("classes",[]),su("items",KJ)],XJ=ki(YJ),JJ=[lE("tab"),H_,su("items",KJ)],QJ=[F_,cu("tabs",JJ)],ZJ=ki(QJ),tQ=OX,eQ=NX,nQ=ki([nu("title"),tu("body",ji("type",{panel:XJ,tabpanel:ZJ})),Cu("size","normal"),su("buttons",eQ),yu("initialData",{}),_u("onAction",P),_u("onChange",P),_u("onSubmit",P),_u("onClose",P),_u("onCancel",P),_u("onTabChange",P)]),rQ=function(t){return Wi("dialog",nQ,t)},oQ=ki([ru("type",["cancel","custom"])].concat(c(tQ))),iQ=ki([nu("title"),nu("url"),du("height"),du("width"),vu("buttons",oQ),_u("onAction",P),_u("onCancel",P),_u("onClose",P),_u("onMessage",P)]),uQ=function(t){return Wi("dialog",iQ,t)},aQ=function t(e){return _(e)?[e].concat(ht(zt(e),t)):O(e)?ht(e,t):[]},cQ=function(t){return k(t.type)&&k(t.name)},sQ={checkbox:UX,colorinput:GX,colorpicker:XX,dropzone:rJ,input:pJ,iframe:sJ,imagepreview:lJ,selectbox:kJ,sizeinput:OJ,slider:RJ,listbox:wJ,size:OJ,textarea:IJ,urlinput:qJ,customeditor:tJ,collection:WX,togglemenuitem:_X},fQ=function(t){return Y.from(sQ[t.type])},lQ=function(t){return ft(aQ(t),cQ)},dQ=function(t){var e=lQ(t),n=ht(e,(function(t){return fQ(t).fold((function(){return[]}),(function(e){return[tu(t.name,e)]}))}));return ki(n)},mQ=function(t){var e,n=$i(rQ(t)),r=dQ(t),o=null!==(e=t.initialData)&&void 0!==e?e:{};return{internalDialog:n,dataValidator:r,initialData:o}},pQ={open:function(t,e){var n=mQ(e);return t(n.internalDialog,n.initialData,n.dataValidator)},openUrl:function(t,e){var n=$i(uQ(e));return t(n)},redial:function(t){return mQ(t)}},gQ=function(t,e){var n=function(n,r){t.updateState.each((function(t){var o=t(n,r);e.set(o)})),t.renderComponents.each((function(o){var i=o(r,e.get()),u=t.reuseDom?hw:vw;u(n,i)}))};return ec([ic(_a(),(function(e,r){var o=r;if(!o.universal){var i=t.channel;nt(o.channels,i)&&n(e,o.data)}})),gc((function(e,r){t.initialData.each((function(t){n(e,t)}))}))])},vQ=Object.freeze({__proto__:null,events:gQ}),hQ=function(t,e,n){return n},bQ=Object.freeze({__proto__:null,getState:hQ}),yQ=[Zi("channel"),fu("renderComponents"),fu("updateState"),fu("initialData"),ku("reuseDom",!0)],xQ=function(){var t=Au(Y.none()),e=function(){return t.set(Y.none())},n=function(){return t.get().getOr("none")};return{readState:n,get:t.get,set:t.set,clear:e}},wQ=Object.freeze({__proto__:null,init:xQ}),CQ=rd({fields:yQ,name:"reflecting",active:vQ,apis:bQ,state:wQ}),SQ=function(t){var e=[],n={};return Nt(t,(function(t,r){t.fold((function(){e.push(r)}),(function(t){n[r]=t}))})),e.length>0?To.error(e):To.value(n)},kQ=function(t,e,n){var r=iS(rI.sketch((function(r){return{dom:{tag:"div",classes:["tox-form"].concat(t.classes)},components:ut(t.items,(function(t){return HF(r,t,e,n)}))}})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[r.asSpec()]}],behaviours:ed([gw.config({mode:"acyclic",useTabstopAt:W(jI)}),pI.memento(r),CI.memento(r,{postprocess:function(t){return SQ(t).fold((function(t){return console.error(t),{}}),U)}})])}},_Q=function(t,e){return{uid:t.uid,dom:t.dom,components:t.components,events:aC(t.action),behaviours:zv(t.tabButtonBehaviours,[zw.config({}),gw.config({mode:"execution",useSpace:!0,useEnter:!0}),Lv.config({store:{mode:"memory",initialValue:t.value}})]),domModification:t.domModification}},EQ=Yh({name:"TabButton",configFields:[yu("uid",void 0),Zi("value"),Xi("dom","dom",Qo((function(){return{attributes:{role:"tab",id:Nc("aria"),"aria-selected":"false"}}})),Ri()),fu("action"),yu("domModification",{}),Fv("tabButtonBehaviours",[zw,gw,Lv]),Zi("view")],factory:_Q}),OQ=z([Zi("tabs"),Zi("dom"),yu("clickToDismiss",!1),Fv("tabbarBehaviours",[zb,gw]),Kf(["tabClass","selectedClass"])]),TQ=yh({factory:EQ,name:"tabs",unit:"tab",overrides:function(t){var e=function(t,e){zb.dehighlight(t,e),Ya(t,$a(),{tabbar:t,button:e})},n=function(t,e){zb.highlight(t,e),Ya(t,Wa(),{tabbar:t,button:e})};return{action:function(r){var o=r.getSystem().getByUid(t.uid).getOrDie(),i=zb.isHighlighted(o,r),u=function(){return i&&t.clickToDismiss?e:i?P:n}();u(o,r)},domModification:{classes:[t.markers.tabClass]}}}}),AQ=z([TQ]),RQ=function(t,e,n,r){return{uid:t.uid,dom:t.dom,components:e,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:zv(t.tabbarBehaviours,[zb.config({highlightClass:t.markers.selectedClass,itemClass:t.markers.tabClass,onHighlight:function(t,e){yn(e.element,"aria-selected","true")},onDehighlight:function(t,e){yn(e.element,"aria-selected","false")}}),gw.config({mode:"flow",getInitial:function(t){return zb.getHighlighted(t).map((function(t){return t.element}))},selector:"."+t.markers.tabClass,executeOnMove:!0})])}},NQ=Xh({name:"Tabbar",configFields:OQ(),partFields:AQ(),factory:RQ}),DQ=function(t,e){return{uid:t.uid,dom:t.dom,behaviours:zv(t.tabviewBehaviours,[Aw.config({})]),domModification:{attributes:{role:"tabpanel"}}}},BQ=Yh({name:"Tabview",configFields:[Fv("tabviewBehaviours",[Aw])],factory:DQ}),MQ=z([yu("selectFirst",!0),Xf("onChangeTab"),Xf("onDismissTab"),yu("tabs",[]),Fv("tabSectionBehaviours",[])]),IQ=vh({factory:NQ,schema:[Zi("dom"),au("markers",[Zi("tabClass"),Zi("selectedClass")])],name:"tabbar",defaults:function(t){return{tabs:t.tabs}}}),PQ=vh({factory:BQ,name:"tabview"}),LQ=z([IQ,PQ]),FQ=function(t,e,n,r){var o=function(e){var n=Lv.getValue(e);Nh(e,t,"tabview").each((function(r){var o=pt(t.tabs,(function(t){return t.value===n}));o.each((function(n){var o=n.view();Cn(e.element,"id").each((function(t){yn(r.element,"aria-labelledby",t)})),Aw.set(r,o),t.onChangeTab(r,e,o)}))}))},i=function(e,n){Nh(e,t,"tabbar").each((function(t){n(t).each(Xa)}))};return{uid:t.uid,dom:t.dom,components:e,behaviours:jv(t.tabSectionBehaviours),events:ec(vt([t.selectFirst?[gc((function(t,e){i(t,zb.getFirst)}))]:[],[ic(Wa(),(function(t,e){var n=e.event.button;o(n)})),ic($a(),(function(e,n){var r=n.event.button;t.onDismissTab(e,r)}))]])),apis:{getViewItems:function(e){return Nh(e,t,"tabview").map((function(t){return Aw.contents(t)})).getOr([])},showTab:function(t,e){var n=function(t){var n=zb.getCandidates(t),r=pt(n,(function(t){return Lv.getValue(t)===e}));return r.filter((function(e){return!zb.isHighlighted(t,e)}))};i(t,n)}}}},jQ=Xh({name:"TabSection",configFields:MQ(),partFields:LQ(),factory:FQ,apis:{getViewItems:function(t,e){return t.getViewItems(e)},showTab:function(t,e,n){t.showTab(e,n)}}}),zQ=function(t,e,n){return ut(t,(function(r,o){Aw.set(n,t[o].view());var i=e.dom.getBoundingClientRect();return Aw.set(n,[]),i.height}))},UQ=function(t){return _t(St(t,(function(t,e){return t>e?-1:t<e?1:0})))},HQ=function(t,e,n){var r,o=qe(t).dom,i=kf(t,".tox-dialog-wrap").getOr(t),u="fixed"===Nn(i,"position");r=u?Math.max(o.clientHeight,window.innerHeight):Math.max(o.offsetHeight,o.scrollHeight);var a=zn(e),c=e.dom.offsetLeft>=n.dom.offsetLeft+Jn(n),s=c?Math.max(zn(n),a):a,f=parseInt(Nn(t,"margin-top"),10)||0,l=parseInt(Nn(t,"margin-bottom"),10)||0,d=zn(t)+f+l,m=d-s;return r-m},VQ=function(t,e){_t(t).each((function(t){return jQ.showTab(e,t.value)}))},WQ=function(t,e){Tn(t,"height",e+"px"),Tn(t,"flex-basis",e+"px")},$Q=function(t,e,n){kf(t,'[role="dialog"]').each((function(t){Ef(t,'[role="tablist"]').each((function(r){n.get().map((function(n){return Tn(e,"height","0"),Tn(e,"flex-basis","0"),Math.min(n,HQ(t,e,r))})).each((function(t){WQ(e,t)}))}))}))},qQ=function(t){return Ef(t,'[role="tabpanel"]')},GQ=function(t){var e=Wd(),n=[gc((function(n){var r=n.element;qQ(r).each((function(o){Tn(o,"visibility","hidden"),n.getSystem().getByDom(o).toOptional().each((function(n){var r=zQ(t,o,n),i=UQ(r);i.fold(e.clear,e.set)})),$Q(r,o,e),Pn(o,"visibility"),VQ(t,n),requestAnimationFrame((function(){$Q(r,o,e)}))}))})),ic(Pa(),(function(t){var n=t.element;qQ(n).each((function(t){$Q(n,t,e)}))})),ic(QN,(function(t,n){var r=t.element;qQ(r).each((function(t){var n=md(cn(t));Tn(t,"visibility","hidden");var o=Bn(t,"height").map((function(t){return parseInt(t,10)}));Pn(t,"height"),Pn(t,"flex-basis");var i=t.dom.getBoundingClientRect().height,u=o.forall((function(t){return i>t}));u?(e.set(i),$Q(r,t,e)):o.each((function(e){WQ(t,e)})),Pn(t,"visibility"),n.each(fd)}))}))],r=!1;return{extraEvents:n,selectFirst:r}},KQ="send-data-to-section",YQ="send-data-to-view",XQ=function(t,e,n){var r=Au({}),o=function(t){var e=Lv.getValue(t),n=SQ(e).getOr({}),o=r.get(),i=qo(o,n);r.set(i)},i=function(t){var e=r.get();Lv.setValue(t,e)},u=Au(null),a=ut(t.tabs,(function(t){return{value:t.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[lf(n.shared.providers.translate(t.title))],view:function(){return[rI.sketch((function(r){return{dom:{tag:"div",classes:["tox-form"]},components:ut(t.items,(function(t){return HF(r,t,e,n)})),formBehaviours:ed([gw.config({mode:"acyclic",useTabstopAt:W(jI)}),Nw("TabView.form.events",[gc(i),vc(o)]),ad.config({channels:ju([{key:KQ,value:{onReceive:o}},{key:YQ,value:{onReceive:i}}])})])}}))]}}})),c=GQ(a);return jQ.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:function(t,e,n){var r=Lv.getValue(e);Ya(t,JN,{name:r,oldName:u.get()}),u.set(r)},tabs:a,components:[jQ.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[NQ.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:ed([PN.config({})])}),jQ.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:c.selectFirst,tabSectionBehaviours:ed([Nw("tabpanel",c.extraEvents),gw.config({mode:"acyclic"}),eb.config({find:function(t){return _t(jQ.getViewItems(t))}}),CI.withComp(Y.none(),(function(t){return t.getSystem().broadcastOn([KQ],{}),r.get()}),(function(t,e){r.set(e),t.getSystem().broadcastOn([YQ],{})}))])})},JQ=Nc("update-dialog"),QQ=Nc("update-title"),ZQ=Nc("update-body"),tZ=Nc("update-footer"),eZ=Nc("body-send-message"),nZ=function(t,e,n,r,o){var i=function(t){var e=t.body;switch(e.type){case"tabpanel":return[XQ(e,t.initialData,r)];default:return[kQ(e,t.initialData,r)]}},a=function(t,e){return Y.some({isTabPanel:function(){return"tabpanel"===e.body.type}})},c={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:u(u({},n.map((function(t){return{id:t}})).getOr({})),o?c:{})},components:[],behaviours:ed([pI.childAt(0),CQ.config({channel:"".concat(ZQ,"-").concat(e),updateState:a,renderComponents:i,initialData:t})])}},rZ=function(t,e,n,r,o){return nZ(t,e,Y.some(n),r,o)},oZ=function(t,e,n){var r=nZ(t,e,Y.none(),n,!1);return SX.parts.body(r)},iZ=function(t){var e={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[PI({dom:{tag:"iframe",attributes:{src:t.url}},behaviours:ed([PN.config({}),zw.config({})])})]}],behaviours:ed([gw.config({mode:"acyclic",useTabstopAt:W(jI)})])};return SX.parts.body(e)};function uZ(t){return uZ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uZ(t)}function aZ(t,e){return aZ=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},aZ(t,e)}function cZ(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function sZ(t,e,n){return sZ=cZ()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=Function.bind.apply(t,r),i=new o;return n&&aZ(i,n.prototype),i},sZ.apply(null,arguments)}function fZ(t){return lZ(t)||dZ(t)||mZ(t)||gZ()}function lZ(t){if(Array.isArray(t))return pZ(t)}function dZ(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function mZ(t,e){if(t){if("string"===typeof t)return pZ(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pZ(t,e):void 0}}function pZ(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gZ(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var vZ=Object.hasOwnProperty,hZ=Object.setPrototypeOf,bZ=Object.isFrozen,yZ=Object.getPrototypeOf,xZ=Object.getOwnPropertyDescriptor,wZ=Object.freeze,CZ=Object.seal,SZ=Object.create,kZ="undefined"!==typeof Reflect&&Reflect,_Z=kZ.apply,EZ=kZ.construct;_Z||(_Z=function(t,e,n){return t.apply(e,n)}),wZ||(wZ=function(t){return t}),CZ||(CZ=function(t){return t}),EZ||(EZ=function(t,e){return sZ(t,fZ(e))});var OZ=LZ(Array.prototype.forEach),TZ=LZ(Array.prototype.pop),AZ=LZ(Array.prototype.push),RZ=LZ(String.prototype.toLowerCase),NZ=LZ(String.prototype.match),DZ=LZ(String.prototype.replace),BZ=LZ(String.prototype.indexOf),MZ=LZ(String.prototype.trim),IZ=LZ(RegExp.prototype.test),PZ=FZ(TypeError);function LZ(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return _Z(t,e,r)}}function FZ(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return EZ(t,n)}}function jZ(t,e){hZ&&hZ(t,null);var n=e.length;while(n--){var r=e[n];if("string"===typeof r){var o=RZ(r);o!==r&&(bZ(e)||(e[n]=o),r=o)}t[r]=!0}return t}function zZ(t){var e,n=SZ(null);for(e in t)_Z(vZ,t,[e])&&(n[e]=t[e]);return n}function UZ(t,e){while(null!==t){var n=xZ(t,e);if(n){if(n.get)return LZ(n.get);if("function"===typeof n.value)return LZ(n.value)}t=yZ(t)}function r(t){return console.warn("fallback value for",t),null}return r}var HZ=wZ(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),VZ=wZ(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),WZ=wZ(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),$Z=wZ(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),qZ=wZ(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),GZ=wZ(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),KZ=wZ(["#text"]),YZ=wZ(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),XZ=wZ(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),JZ=wZ(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),QZ=wZ(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),ZZ=CZ(/\{\{[\w\W]*|[\w\W]*\}\}/gm),t0=CZ(/<%[\w\W]*|[\w\W]*%>/gm),e0=CZ(/^data-[\-\w.\u00B7-\uFFFF]/),n0=CZ(/^aria-[\-\w]+$/),r0=CZ(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),o0=CZ(/^(?:\w+script|data):/i),i0=CZ(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),u0=CZ(/^html$/i),a0=function(){return"undefined"===typeof window?null:window},c0=function(t,e){if("object"!==uZ(t)||"function"!==typeof t.createPolicy)return null;var n=null,r="data-tt-policy-suffix";e.currentScript&&e.currentScript.hasAttribute(r)&&(n=e.currentScript.getAttribute(r));var o="dompurify"+(n?"#"+n:"");try{return t.createPolicy(o,{createHTML:function(t){return t}})}catch(i){return console.warn("TrustedTypes policy "+o+" could not be created."),null}};function s0(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a0(),e=function(t){return s0(t)};if(e.version="2.3.8",e.removed=[],!t||!t.document||9!==t.document.nodeType)return e.isSupported=!1,e;var n=t.document,r=t.document,o=t.DocumentFragment,i=t.HTMLTemplateElement,u=t.Node,a=t.Element,c=t.NodeFilter,s=t.NamedNodeMap,f=void 0===s?t.NamedNodeMap||t.MozNamedAttrMap:s,l=t.HTMLFormElement,d=t.DOMParser,m=t.trustedTypes,p=a.prototype,g=UZ(p,"cloneNode"),v=UZ(p,"nextSibling"),h=UZ(p,"childNodes"),b=UZ(p,"parentNode");if("function"===typeof i){var y=r.createElement("template");y.content&&y.content.ownerDocument&&(r=y.content.ownerDocument)}var x=c0(m,n),w=x?x.createHTML(""):"",C=r,S=C.implementation,k=C.createNodeIterator,_=C.createDocumentFragment,E=C.getElementsByTagName,O=n.importNode,T={};try{T=zZ(r).documentMode?r.documentMode:{}}catch(Ut){}var A={};e.isSupported="function"===typeof b&&S&&"undefined"!==typeof S.createHTMLDocument&&9!==T;var R,N,D=ZZ,B=t0,M=e0,I=n0,P=o0,L=i0,F=r0,j=null,z=jZ({},[].concat(fZ(HZ),fZ(VZ),fZ(WZ),fZ(qZ),fZ(KZ))),U=null,H=jZ({},[].concat(fZ(YZ),fZ(XZ),fZ(JZ),fZ(QZ))),V=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),W=null,$=null,q=!0,G=!0,K=!1,Y=!1,X=!1,J=!1,Q=!1,Z=!1,tt=!1,et=!1,nt=!0,rt=!0,ot=!1,it={},ut=null,at=jZ({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),ct=null,st=jZ({},["audio","video","img","source","image","track"]),ft=null,lt=jZ({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),dt="http://www.w3.org/1998/Math/MathML",mt="http://www.w3.org/2000/svg",pt="http://www.w3.org/1999/xhtml",gt=pt,vt=!1,ht=["application/xhtml+xml","text/html"],bt="text/html",yt=null,xt=r.createElement("form"),wt=function(t){return t instanceof RegExp||t instanceof Function},Ct=function(t){yt&&yt===t||(t&&"object"===uZ(t)||(t={}),t=zZ(t),j="ALLOWED_TAGS"in t?jZ({},t.ALLOWED_TAGS):z,U="ALLOWED_ATTR"in t?jZ({},t.ALLOWED_ATTR):H,ft="ADD_URI_SAFE_ATTR"in t?jZ(zZ(lt),t.ADD_URI_SAFE_ATTR):lt,ct="ADD_DATA_URI_TAGS"in t?jZ(zZ(st),t.ADD_DATA_URI_TAGS):st,ut="FORBID_CONTENTS"in t?jZ({},t.FORBID_CONTENTS):at,W="FORBID_TAGS"in t?jZ({},t.FORBID_TAGS):{},$="FORBID_ATTR"in t?jZ({},t.FORBID_ATTR):{},it="USE_PROFILES"in t&&t.USE_PROFILES,q=!1!==t.ALLOW_ARIA_ATTR,G=!1!==t.ALLOW_DATA_ATTR,K=t.ALLOW_UNKNOWN_PROTOCOLS||!1,Y=t.SAFE_FOR_TEMPLATES||!1,X=t.WHOLE_DOCUMENT||!1,Z=t.RETURN_DOM||!1,tt=t.RETURN_DOM_FRAGMENT||!1,et=t.RETURN_TRUSTED_TYPE||!1,Q=t.FORCE_BODY||!1,nt=!1!==t.SANITIZE_DOM,rt=!1!==t.KEEP_CONTENT,ot=t.IN_PLACE||!1,F=t.ALLOWED_URI_REGEXP||F,gt=t.NAMESPACE||pt,t.CUSTOM_ELEMENT_HANDLING&&wt(t.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(V.tagNameCheck=t.CUSTOM_ELEMENT_HANDLING.tagNameCheck),t.CUSTOM_ELEMENT_HANDLING&&wt(t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(V.attributeNameCheck=t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),t.CUSTOM_ELEMENT_HANDLING&&"boolean"===typeof t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(V.allowCustomizedBuiltInElements=t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),R=R=-1===ht.indexOf(t.PARSER_MEDIA_TYPE)?bt:t.PARSER_MEDIA_TYPE,N="application/xhtml+xml"===R?function(t){return t}:RZ,Y&&(G=!1),tt&&(Z=!0),it&&(j=jZ({},fZ(KZ)),U=[],!0===it.html&&(jZ(j,HZ),jZ(U,YZ)),!0===it.svg&&(jZ(j,VZ),jZ(U,XZ),jZ(U,QZ)),!0===it.svgFilters&&(jZ(j,WZ),jZ(U,XZ),jZ(U,QZ)),!0===it.mathMl&&(jZ(j,qZ),jZ(U,JZ),jZ(U,QZ))),t.ADD_TAGS&&(j===z&&(j=zZ(j)),jZ(j,t.ADD_TAGS)),t.ADD_ATTR&&(U===H&&(U=zZ(U)),jZ(U,t.ADD_ATTR)),t.ADD_URI_SAFE_ATTR&&jZ(ft,t.ADD_URI_SAFE_ATTR),t.FORBID_CONTENTS&&(ut===at&&(ut=zZ(ut)),jZ(ut,t.FORBID_CONTENTS)),rt&&(j["#text"]=!0),X&&jZ(j,["html","head","body"]),j.table&&(jZ(j,["tbody"]),delete W.tbody),wZ&&wZ(t),yt=t)},St=jZ({},["mi","mo","mn","ms","mtext"]),kt=jZ({},["foreignobject","desc","title","annotation-xml"]),_t=jZ({},["title","style","font","a","script"]),Et=jZ({},VZ);jZ(Et,WZ),jZ(Et,$Z);var Ot=jZ({},qZ);jZ(Ot,GZ);var Tt=function(t){var e=b(t);e&&e.tagName||(e={namespaceURI:pt,tagName:"template"});var n=RZ(t.tagName),r=RZ(e.tagName);return t.namespaceURI===mt?e.namespaceURI===pt?"svg"===n:e.namespaceURI===dt?"svg"===n&&("annotation-xml"===r||St[r]):Boolean(Et[n]):t.namespaceURI===dt?e.namespaceURI===pt?"math"===n:e.namespaceURI===mt?"math"===n&&kt[r]:Boolean(Ot[n]):t.namespaceURI===pt&&(!(e.namespaceURI===mt&&!kt[r])&&(!(e.namespaceURI===dt&&!St[r])&&(!Ot[n]&&(_t[n]||!Et[n]))))},At=function(t){AZ(e.removed,{element:t});try{t.parentNode.removeChild(t)}catch(Ut){try{t.outerHTML=w}catch(Ut){t.remove()}}},Rt=function(t,n){try{AZ(e.removed,{attribute:n.getAttributeNode(t),from:n})}catch(Ut){AZ(e.removed,{attribute:null,from:n})}if(n.removeAttribute(t),"is"===t&&!U[t])if(Z||tt)try{At(n)}catch(Ut){}else try{n.setAttribute(t,"")}catch(Ut){}},Nt=function(t){var e,n;if(Q)t="<remove></remove>"+t;else{var o=NZ(t,/^[\r\n\t ]+/);n=o&&o[0]}"application/xhtml+xml"===R&&(t='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+t+"</body></html>");var i=x?x.createHTML(t):t;if(gt===pt)try{e=(new d).parseFromString(i,R)}catch(Ut){}if(!e||!e.documentElement){e=S.createDocument(gt,"template",null);try{e.documentElement.innerHTML=vt?"":i}catch(Ut){}}var u=e.body||e.documentElement;return t&&n&&u.insertBefore(r.createTextNode(n),u.childNodes[0]||null),gt===pt?E.call(e,X?"html":"body")[0]:X?e.documentElement:u},Dt=function(t){return k.call(t.ownerDocument||t,t,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT,null,!1)},Bt=function(t){return t instanceof l&&("string"!==typeof t.nodeName||"string"!==typeof t.textContent||"function"!==typeof t.removeChild||!(t.attributes instanceof f)||"function"!==typeof t.removeAttribute||"function"!==typeof t.setAttribute||"string"!==typeof t.namespaceURI||"function"!==typeof t.insertBefore)},Mt=function(t){return"object"===uZ(u)?t instanceof u:t&&"object"===uZ(t)&&"number"===typeof t.nodeType&&"string"===typeof t.nodeName},It=function(t,n,r){A[t]&&OZ(A[t],(function(t){t.call(e,n,r,yt)}))},Pt=function(t){var n;if(It("beforeSanitizeElements",t,null),Bt(t))return At(t),!0;if(IZ(/[\u0080-\uFFFF]/,t.nodeName))return At(t),!0;var r=N(t.nodeName);if(It("uponSanitizeElement",t,{tagName:r,allowedTags:j}),t.hasChildNodes()&&!Mt(t.firstElementChild)&&(!Mt(t.content)||!Mt(t.content.firstElementChild))&&IZ(/<[/\w]/g,t.innerHTML)&&IZ(/<[/\w]/g,t.textContent))return At(t),!0;if("select"===r&&IZ(/<template/i,t.innerHTML))return At(t),!0;if(!j[r]||W[r]){if(!W[r]&&Ft(r)){if(V.tagNameCheck instanceof RegExp&&IZ(V.tagNameCheck,r))return!1;if(V.tagNameCheck instanceof Function&&V.tagNameCheck(r))return!1}if(rt&&!ut[r]){var o=b(t)||t.parentNode,i=h(t)||t.childNodes;if(i&&o)for(var u=i.length,c=u-1;c>=0;--c)o.insertBefore(g(i[c],!0),v(t))}return At(t),!0}return t instanceof a&&!Tt(t)?(At(t),!0):"noscript"!==r&&"noembed"!==r||!IZ(/<\/no(script|embed)/i,t.innerHTML)?(Y&&3===t.nodeType&&(n=t.textContent,n=DZ(n,D," "),n=DZ(n,B," "),t.textContent!==n&&(AZ(e.removed,{element:t.cloneNode()}),t.textContent=n)),It("afterSanitizeElements",t,null),!1):(At(t),!0)},Lt=function(t,e,n){if(nt&&("id"===e||"name"===e)&&(n in r||n in xt))return!1;if(G&&!$[e]&&IZ(M,e));else if(q&&IZ(I,e));else if(!U[e]||$[e]){if(!(Ft(t)&&(V.tagNameCheck instanceof RegExp&&IZ(V.tagNameCheck,t)||V.tagNameCheck instanceof Function&&V.tagNameCheck(t))&&(V.attributeNameCheck instanceof RegExp&&IZ(V.attributeNameCheck,e)||V.attributeNameCheck instanceof Function&&V.attributeNameCheck(e))||"is"===e&&V.allowCustomizedBuiltInElements&&(V.tagNameCheck instanceof RegExp&&IZ(V.tagNameCheck,n)||V.tagNameCheck instanceof Function&&V.tagNameCheck(n))))return!1}else if(ft[e]);else if(IZ(F,DZ(n,L,"")));else if("src"!==e&&"xlink:href"!==e&&"href"!==e||"script"===t||0!==BZ(n,"data:")||!ct[t]){if(K&&!IZ(P,DZ(n,L,"")));else if(n)return!1}else;return!0},Ft=function(t){return t.indexOf("-")>0},jt=function(t){var e,n,r,o;It("beforeSanitizeAttributes",t,null);var i=t.attributes;if(i){var u={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:U};o=i.length;while(o--){e=i[o];var a=e,c=a.name,s=a.namespaceURI;n="value"===c?e.value:MZ(e.value),r=N(c);var f=n;if(u.attrName=r,u.attrValue=n,u.keepAttr=!0,u.forceKeepAttr=void 0,It("uponSanitizeAttribute",t,u),n=u.attrValue,!u.forceKeepAttr)if(u.keepAttr)if(IZ(/\/>/i,n))Rt(c,t);else{Y&&(n=DZ(n,D," "),n=DZ(n,B," "));var l=N(t.nodeName);if(Lt(l,r,n)){if(n!==f)try{s?t.setAttributeNS(s,c,n):t.setAttribute(c,n)}catch(Ut){Rt(c,t)}}else Rt(c,t)}else Rt(c,t)}It("afterSanitizeAttributes",t,null)}},zt=function t(e){var n,r=Dt(e);It("beforeSanitizeShadowDOM",e,null);while(n=r.nextNode())It("uponSanitizeShadowNode",n,null),Pt(n)||(n.content instanceof o&&t(n.content),jt(n));It("afterSanitizeShadowDOM",e,null)};return e.sanitize=function(r,i){var a,c,s,f,l;if(vt=!r,vt&&(r="\x3c!--\x3e"),"string"!==typeof r&&!Mt(r)){if("function"!==typeof r.toString)throw PZ("toString is not a function");if(r=r.toString(),"string"!==typeof r)throw PZ("dirty is not a string, aborting")}if(!e.isSupported){if("object"===uZ(t.toStaticHTML)||"function"===typeof t.toStaticHTML){if("string"===typeof r)return t.toStaticHTML(r);if(Mt(r))return t.toStaticHTML(r.outerHTML)}return r}if(J||Ct(i),e.removed=[],"string"===typeof r&&(ot=!1),ot){if(r.nodeName){var d=N(r.nodeName);if(!j[d]||W[d])throw PZ("root node is forbidden and cannot be sanitized in-place")}}else if(r instanceof u)a=Nt("\x3c!----\x3e"),c=a.ownerDocument.importNode(r,!0),1===c.nodeType&&"BODY"===c.nodeName||"HTML"===c.nodeName?a=c:a.appendChild(c);else{if(!Z&&!Y&&!X&&-1===r.indexOf("<"))return x&&et?x.createHTML(r):r;if(a=Nt(r),!a)return Z?null:et?w:""}a&&Q&&At(a.firstChild);var m=Dt(ot?r:a);while(s=m.nextNode())3===s.nodeType&&s===f||Pt(s)||(s.content instanceof o&&zt(s.content),jt(s),f=s);if(f=null,ot)return r;if(Z){if(tt){l=_.call(a.ownerDocument);while(a.firstChild)l.appendChild(a.firstChild)}else l=a;return U.shadowroot&&(l=O.call(n,l,!0)),l}var p=X?a.outerHTML:a.innerHTML;return X&&j["!doctype"]&&a.ownerDocument&&a.ownerDocument.doctype&&a.ownerDocument.doctype.name&&IZ(u0,a.ownerDocument.doctype.name)&&(p="<!DOCTYPE "+a.ownerDocument.doctype.name+">\n"+p),Y&&(p=DZ(p,D," "),p=DZ(p,B," ")),x&&et?x.createHTML(p):p},e.setConfig=function(t){Ct(t),J=!0},e.clearConfig=function(){yt=null,J=!1},e.isValidAttribute=function(t,e,n){yt||Ct({});var r=N(t),o=N(e);return Lt(r,o,n)},e.addHook=function(t,e){"function"===typeof e&&(A[t]=A[t]||[],AZ(A[t],e))},e.removeHook=function(t){if(A[t])return TZ(A[t])},e.removeHooks=function(t){A[t]&&(A[t]=[])},e.removeAllHooks=function(){A={}},e}var f0=s0(),l0=function(t){return f0().sanitize(t)},d0=_S.deviceType.isTouch(),m0=function(t,e){return{dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[t,e]}},p0=function(t,e){return SX.parts.close(oS.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":e.translate("Close")}},action:t,buttonBehaviours:ed([PN.config({})])}))},g0=function(){return SX.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}})},v0=function(t,e){return SX.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:WH("<p>".concat(l0(e.translate(t)),"</p>"))}]}]})},h0=function(t){return SX.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:t})},b0=function(t,e){return[EN.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:t}),EN.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:e})]},y0=function(t){var e,n="tox-dialog",r=n+"-wrap",o=r+"__backdrop",i=n+"__disable-scroll";return SX.sketch({lazySink:t.lazySink,onEscape:function(e){return t.onEscape(e),Y.some(!0)},useTabstopAt:function(t){return!jI(t)},firstTabstop:t.firstTabstop,dom:{tag:"div",classes:[n].concat(t.extraClasses),styles:u({position:"relative"},t.extraStyles)},components:[t.header,t.body].concat(c(t.footer.toArray())),parts:{blocker:{dom:WH('<div class="'.concat(r,'"></div>')),components:[{dom:{tag:"div",classes:d0?[o,o+"--opaque"]:[o]}}]}},dragBlockClass:r,modalBehaviours:ed([zw.config({}),Nw("dialog-events",t.dialogEvents.concat([pc(sa(),(function(t,e){gw.focusIn(t)}))])),Nw("scroll-lock",[gc((function(){Bs(vn(),i)})),vc((function(){Is(vn(),i)}))])].concat(c(t.extraBehaviours))),eventOrder:u((e={},a(e,Ea(),["dialog-events"]),a(e,La(),["scroll-lock","dialog-events","alloy.base.behaviour"]),a(e,Fa(),["alloy.base.behaviour","dialog-events","scroll-lock"]),e),t.eventOrder)})},x0=function(t){return oS.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close"),title:t.translate("Close")}},buttonBehaviours:ed([PN.config({})]),components:[hS("close",{tag:"div",classes:["tox-icon"]},t.icons)],action:function(t){Ka(t,qN)}})},w0=function(t,e,n,r){var o=function(t){return[lf(r.translate(t.title))]};return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:u({},n.map((function(t){return{id:t}})).getOr({}))},components:[],behaviours:ed([CQ.config({channel:"".concat(QQ,"-").concat(e),initialData:t,renderComponents:o})])}},C0=function(){return{dom:WH('<div class="tox-dialog__draghandle"></div>')}},S0=function(t,e,n,r){return EN.sketch({dom:WH('<div class="tox-dialog__header"></div>'),components:[w0(t,e,Y.some(n),r),C0(),x0(r)],containerBehaviours:ed([QY.config({mode:"mouse",blockerClass:"blocker",getTarget:function(t){return Of(t,'[role="dialog"]').getOrDie()},snaps:{getSnapPoints:function(){return[]},leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])})},k0=function(t,e,n){var r=SX.parts.title(w0(t,e,Y.none(),n)),o=SX.parts.draghandle(C0()),i=SX.parts.close(x0(n)),u=[r].concat(t.draggable?[o]:[]).concat([i]);return EN.sketch({dom:WH('<div class="tox-dialog__header"></div>'),components:u})},_0=function(t,e,n){return k0({title:n.shared.providers.translate(t),draggable:n.dialog.isDraggableModal()},e,n.shared.providers)},E0=function(t,e,n){return{dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":n.translate(t)},styles:{left:"0px",right:"0px",bottom:"0px",top:"0px",position:"absolute"}},behaviours:e,components:[{dom:WH('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}},O0=function(t,e,n){return{onClose:function(){return n.closeWindow()},onBlock:function(n){SX.setBusy(t(),(function(t,r){return E0(n.message,r,e)}))},onUnblock:function(){SX.setIdle(t())}}},T0=function(t,e,n,r){var o,i=function(t,e){return Y.some(e)};return vf(y0(u(u({},t),{},{firstTabstop:1,lazySink:r.shared.getSink,extraBehaviours:[CQ.config({channel:"".concat(JQ,"-").concat(t.id),updateState:i,initialData:e}),CI.memory({})].concat(c(t.extraBehaviours)),onEscape:function(t){Ka(t,qN)},dialogEvents:n,eventOrder:(o={},a(o,_a(),[CQ.name(),ad.name()]),a(o,La(),["scroll-lock",CQ.name(),"messages","dialog-events","alloy.base.behaviour"]),a(o,Fa(),["alloy.base.behaviour","dialog-events","messages",CQ.name(),"scroll-lock"]),o)})))},A0=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=function(t){var n=ut(t.items,(function(t){var n=Ut(e,t.name).getOr(Au(!1));return u(u({},t),{},{storage:n})}));return u(u({},t),{},{items:n})};return ut(t,(function(t){return"menu"===t.type?n(t):t}))},R0=function(t){return dt(t,(function(t,e){if("menu"===e.type){var n=e;return dt(n.items,(function(t,e){return t[e.name]=e.storage,t}),t)}return t}),{})},N0=function(t,e){return[lc(sa(),FI),t($N,(function(t,n,r,o){md(cn(o.element)).fold(P,ld),e.onClose(),n.onClose()})),t(qN,(function(t,e,n,r){e.onCancel(t),Ka(r,$N)})),ic(XN,(function(t,n){return e.onUnblock()})),ic(YN,(function(t,n){return e.onBlock(n.event)}))]},D0=function(t,e){var n=function(e,n){return ic(e,(function(e,o){r(e,(function(r,i){n(t(),r,o.event,e)}))}))},r=function(t,e){CQ.getState(t).get().each((function(n){e(n,t)}))};return[].concat(c(N0(n,e)),[n(GN,(function(t,e,n){e.onAction(t,{name:n.name})}))])},B0=function(t,e,n){var r=function(e,n){return ic(e,(function(e,r){o(e,(function(o,i){n(t(),o,r.event,e)}))}))},o=function(t,e){CQ.getState(t).get().each((function(n){e(n.internalDialog,t)}))};return[].concat(c(N0(r,e)),[r(KN,(function(t,e){return e.onSubmit(t)})),r(WN,(function(t,e,n){e.onChange(t,{name:n.name})})),r(GN,(function(t,e,r,o){var i=function(){return gw.focusIn(o)},u=function(t){return Sn(t,"disabled")||Cn(t,"aria-disabled").exists((function(t){return"true"===t}))},a=cn(o.element),c=md(a);e.onAction(t,{name:r.name,value:r.value}),md(a).fold(i,(function(t){u(t)||c.exists((function(e){return Ve(t,e)&&u(e)}))?i():n().toOptional().filter((function(e){return!Ve(e.element,t)})).each(i)}))})),r(JN,(function(t,e,n){e.onTabChange(t,{newTabName:n.name,oldTabName:n.oldName})})),vc((function(e){var n=t();Lv.setValue(e,n.getData())}))])},M0={initUrlDialog:D0,initDialog:B0},I0=function(t,e){return gF(t,t.type,e)},P0=function(t,e,n){return pt(e,(function(t){return t.name===n})).bind((function(e){return e.memento.getOpt(t)}))},L0=function(t,e){var n=e.map((function(t){return t.footerButtons})).getOr([]),r=st(n,(function(t){return"start"===t.align})),o=function(t,e){return EN.sketch({dom:{tag:"div",classes:["tox-dialog__footer-".concat(t)]},components:ut(e,(function(t){return t.memento.asSpec()}))})},i=o("start",r.pass),u=o("end",r.fail);return[i,u]},F0=function(t,e,n){var r=function(t,e){var r=ut(e.buttons,(function(t){var e=iS(I0(t,n));return{name:t.name,align:t.align,memento:e}})),o=function(e){return P0(t,r,e)};return Y.some({lookupByName:o,footerButtons:r})};return{dom:WH('<div class="tox-dialog__footer"></div>'),components:[],behaviours:ed([CQ.config({channel:"".concat(tZ,"-").concat(e),initialData:t,updateState:r,renderComponents:L0})])}},j0=function(t,e,n){return F0(t,e,n)},z0=function(t,e,n){return SX.parts.footer(F0(t,e,n))},U0=function(t,e){var n=t.getRoot();if(n.getSystem().isConnected()){var r=eb.getCurrent(t.getFormWrapper()).getOr(t.getFormWrapper());return rI.getField(r,e).orThunk((function(){var n=t.getFooter(),r=CQ.getState(n).get();return r.bind((function(t){return t.lookupByName(e)}))}))}return Y.none()},H0=function(t,e){var n=t.getRoot();return CQ.getState(n).get().map((function(t){return $i(Wi("data",t.dataValidator,e))})).getOr(e)},V0=function(t,e,n){var r=function(e){var n=t.getRoot();n.getSystem().isConnected()&&e(n)},o=function(){var e=t.getRoot(),r=e.getSystem().isConnected()?t.getFormWrapper():e,o=Lv.getValue(r),i=Dt(n,(function(t){return t.get()}));return u(u({},o),i)},i=function(e){r((function(r){var o=p.getData(),i=qo(o,e),u=H0(t,i),a=t.getFormWrapper();Lv.setValue(a,u),Nt(n,(function(t,e){Ht(i,e)&&t.set(i[e])}))}))},a=function(e,n){U0(t,e).each(n?xb.enable:xb.disable)},c=function(e){U0(t,e).each(zw.focus)},s=function(t){if(!k(t))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");r((function(e){Ya(e,YN,{message:t})}))},f=function(){r((function(t){Ka(t,XN)}))},l=function(e){r((function(n){var r=t.getBody(),o=CQ.getState(r);o.get().exists((function(t){return t.isTabPanel()}))&&eb.getCurrent(r).each((function(t){jQ.showTab(t,e)}))}))},d=function(o){r((function(r){var i=t.getId(),a=e(o),c=A0(a.internalDialog.buttons,n);r.getSystem().broadcastOn(["".concat(JQ,"-").concat(i)],a),r.getSystem().broadcastOn(["".concat(QQ,"-").concat(i)],a.internalDialog),r.getSystem().broadcastOn(["".concat(ZQ,"-").concat(i)],a.internalDialog),r.getSystem().broadcastOn(["".concat(tZ,"-").concat(i)],u(u({},a.internalDialog),{},{buttons:c})),p.setData(a.initialData)}))},m=function(){r((function(t){Ka(t,$N)}))},p={getData:o,setData:i,setEnabled:a,focus:c,block:s,unblock:f,showTab:l,redial:d,close:m,toggleFullscreen:t.toggleFullscreen};return p},W0=function(t){switch(t){case"large":return["tox-dialog--width-lg"];case"medium":return["tox-dialog--width-md"];default:return[]}},$0=function(t,e,n){var r=Nc("dialog"),o=t.internalDialog,i=_0(o.title,r,n),u=oZ({body:o.body,initialData:o.initialData},r,n),a=A0(o.buttons),c=R0(a),s=z0({buttons:a},r,n),f=M0.initDialog((function(){return g}),O0((function(){return m}),n.shared.providers,e),n.shared.getSink),l=W0(o.size),d={id:r,header:i,body:u,footer:Y.some(s),extraClasses:l,extraBehaviours:[],extraStyles:{}},m=T0(d,t,f,n),p=function(){var t=function(){var t=SX.getBody(m);return eb.getCurrent(t).getOr(t)},e=function(){var t="tox-dialog--fullscreen",e=ve.fromDom(m.element.dom);Ps(e,t)?(Is(e,t),Ls(e,l)):(Fs(e,l),Bs(e,t))};return{getId:z(r),getRoot:z(m),getBody:function(){return SX.getBody(m)},getFooter:function(){return SX.getFooter(m)},getFormWrapper:t,toggleFullscreen:e}}(),g=V0(p,e.redial,c);return{dialog:m,instanceApi:g}},q0=function(t,e,n,r){var o,i,u=Nc("dialog"),c=Nc("dialog-label"),s=Nc("dialog-content"),f=t.internalDialog,l=function(t,e){return Y.some(e)},d=iS(S0({title:f.title,draggable:!0},u,c,n.shared.providers)),m=iS(rZ({body:f.body,initialData:f.initialData},u,s,n,r)),p=A0(f.buttons),g=R0(p),v=iS(j0({buttons:p},u,n)),h=M0.initDialog((function(){return w}),{onBlock:function(t){UH.block(y,(function(e,r){return E0(t.message,r,n.shared.providers)}))},onUnblock:function(){UH.unblock(y)},onClose:function(){return e.closeWindow()}},n.shared.getSink),b="tox-dialog-inline",y=vf({dom:{tag:"div",classes:["tox-dialog",b],attributes:(o={role:"dialog"},a(o,"aria-labelledby",c),a(o,"aria-describedby",s),o)},eventOrder:(i={},a(i,_a(),[CQ.name(),ad.name()]),a(i,Ea(),["execute-on-form"]),a(i,La(),["reflecting","execute-on-form"]),i),behaviours:ed([gw.config({mode:"cyclic",onEscape:function(t){return Ka(t,$N),Y.some(!0)},useTabstopAt:function(t){return!jI(t)&&("button"!==Ae(t)||"disabled"!==wn(t,"disabled"))},firstTabstop:1}),CQ.config({channel:"".concat(JQ,"-").concat(u),updateState:l,initialData:t}),zw.config({}),Nw("execute-on-form",h.concat([pc(sa(),(function(t,e){gw.focusIn(t)}))])),UH.config({getRoot:function(){return Y.some(y)}}),Aw.config({}),CI.memory({})]),components:[d.asSpec(),m.asSpec(),v.asSpec()]}),x=function(){var t="tox-dialog--fullscreen",e=ve.fromDom(y.element.dom);js(e,[t])?(Fs(e,[t]),Ls(e,[b])):(Fs(e,[b]),Ls(e,[t]))},w=V0({getId:z(u),getRoot:z(y),getFooter:function(){return v.get(y)},getBody:function(){return m.get(y)},getFormWrapper:function(){var t=m.get(y);return eb.getCurrent(t).getOr(t)},toggleFullscreen:x},e.redial,g);return{dialog:y,instanceApi:w}},G0=tinymce.util.Tools.resolve("tinymce.util.URI"),K0=function(t){var e=function(e){t.getSystem().isConnected()&&e(t)},n=function(t){if(!k(t))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");e((function(e){Ya(e,YN,{message:t})}))},r=function(){e((function(t){Ka(t,XN)}))},o=function(){e((function(t){Ka(t,$N)}))},i=function(t){e((function(e){e.getSystem().broadcastOn([eZ],t)}))};return{block:n,unblock:r,close:o,sendMessage:i}},Y0=["insertContent","setContent","execCommand","close","block","unblock"],X0=function(t){return _(t)&&-1!==Y0.indexOf(t.mceAction)},J0=function(t){return!X0(t)&&_(t)&&Ht(t,"mceAction")},Q0=function(t,e,n){switch(n.mceAction){case"insertContent":t.insertContent(n.content);break;case"setContent":t.setContent(n.content);break;case"execCommand":var r=!!A(n.ui)&&n.ui;t.execCommand(n.cmd,r,n.value);break;case"close":e.close();break;case"block":e.block(n.message);break;case"unblock":e.unblock();break}},Z0=function(t,e,n,r){var o=Nc("dialog"),i=_0(t.title,o,r),c=iZ(t),s=t.buttons.bind((function(t){return 0===t.length?Y.none():Y.some(z0({buttons:t},o,r))})),f=M0.initUrlDialog((function(){return y}),O0((function(){return b}),r.shared.providers,e)),l=u(u({},t.height.fold((function(){return{}}),(function(t){return{height:t+"px","max-height":t+"px"}}))),t.width.fold((function(){return{}}),(function(t){return{width:t+"px","max-width":t+"px"}}))),d=t.width.isNone()&&t.height.isNone()?["tox-dialog--width-lg"]:[],m=new G0(t.url,{base_uri:new G0(window.location.href)}),p="".concat(m.protocol,"://").concat(m.host).concat(m.port?":"+m.port:""),g=Vd(),v=[Nw("messages",[gc((function(){var e=qd(ve.fromDom(window),"message",(function(e){if(m.isSameOrigin(new G0(e.raw.origin))){var r=e.raw.data;X0(r)?Q0(n,y,r):J0(r)&&t.onMessage(y,r)}}));g.set(e)})),vc(g.clear)]),ad.config({channels:a({},eZ,{onReceive:function(t,e){Ef(t.element,"iframe").each((function(t){var n=t.dom.contentWindow;D(n)&&n.postMessage(e,p)}))}})})],h={id:o,header:i,body:c,footer:s,extraClasses:d,extraBehaviours:v,extraStyles:l},b=T0(h,t,f,r),y=K0(b);return{dialog:b,instanceApi:y}},t1=function(t){var e=t.shared,n=function(n,r){var o=function(){SX.hide(c),r()},i=iS(gF({name:"close-alert",text:"OK",primary:!0,buttonType:Y.some("primary"),align:"end",enabled:!0,icon:Y.none()},"cancel",t)),u=g0(),a=p0(o,e.providers),c=vf(y0({lazySink:function(){return e.getSink()},header:m0(u,a),body:v0(n,e.providers),footer:Y.some(h0(b0([],[i.asSpec()]))),onEscape:o,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[ic(qN,o)],eventOrder:{}}));SX.show(c);var s=i.get(c);zw.focus(s)};return{open:n}},e1=function(t){var e=t.shared,n=function(n,r){var o=function(t){SX.hide(s),r(t)},i=iS(gF({name:"yes",text:"Yes",primary:!0,buttonType:Y.some("primary"),align:"end",enabled:!0,icon:Y.none()},"submit",t)),u=gF({name:"no",text:"No",primary:!1,buttonType:Y.some("secondary"),align:"end",enabled:!0,icon:Y.none()},"cancel",t),a=g0(),c=p0((function(){return o(!1)}),e.providers),s=vf(y0({lazySink:function(){return e.getSink()},header:m0(a,c),body:v0(n,e.providers),footer:Y.some(h0(b0([],[u,i.asSpec()]))),onEscape:function(){return o(!1)},extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[ic(qN,(function(){return o(!1)})),ic(KN,(function(){return o(!0)}))],eventOrder:{}}));SX.show(s);var f=i.get(s);zw.focus(f)};return{open:n}},n1=function(t,e){return $i(Wi("data",e,t))},r1=function(t){return nN(t,".tox-alert-dialog")||nN(t,".tox-confirm-dialog")},o1=function(t,e,n){return e&&n?[]:[jU.config({contextual:{lazyContext:function(){return Y.some(yo(ve.fromDom(t.getContentAreaContainer())))},fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"],lazyViewport:function(e){var n=tN(t,e.element);return n.map((function(t){var e=eN(t);return{bounds:e,optScrollEnv:Y.some({currentScrollTop:t.element.dom.scrollTop,scrollElmTop:Gn(t.element).top})}})).getOrThunk((function(){return{bounds:So(),optScrollEnv:Y.none()}}))}})]},i1=function(t){var e=t.editor,n=kk(e),r=t1(t.backstages.dialog),o=e1(t.backstages.dialog),i=function(e,n,r){return void 0!==n&&"toolbar"===n.inline?l(e,t.backstages.popup.shared.anchors.inlineDialog(),r,n.ariaAttrs):void 0!==n&&"cursor"===n.inline?l(e,t.backstages.popup.shared.anchors.cursor(),r,n.ariaAttrs):f(e,r)},a=function(t,e){return s(t,e)},s=function(n,r){var o=function(n){var o=Z0(n,{closeWindow:function(){SX.hide(o.dialog),r(o.instanceApi)}},e,t.backstages.dialog);return SX.show(o.dialog),o.instanceApi};return pQ.openUrl(o,n)},f=function(e,n){var r=function(e,r,o){var i=r,u={dataValidator:o,initialData:i,internalDialog:e},a=$0(u,{redial:pQ.redial,closeWindow:function(){SX.hide(a.dialog),n(a.instanceApi)}},t.backstages.dialog);return SX.show(a.dialog),a.instanceApi.setData(i),a.instanceApi};return pQ.open(r,e)},l=function(r,o,i){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=function(r,s,f){var l=n1(s,f),d=Wd(),m=t.backstages.popup.shared.header.isPositionedAtTop(),p={dataValidator:f,initialData:l,internalDialog:r},g=function(){return d.on((function(t){eS.reposition(t),jU.refresh(t)}))},v=q0(p,{redial:pQ.redial,closeWindow:function(){d.on(eS.hide),e.off("ResizeEditor",g),d.clear(),i(v.instanceApi)}},t.backstages.popup,a),h=vf(eS.sketch(u(u({lazySink:t.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:{}},m?{}:{fireRepositionEventInstead:{}}),{},{inlineBehaviours:ed([Nw("window-manager-inline-events",[ic(ja(),(function(t,e){Ka(v.dialog,qN)}))])].concat(c(o1(e,n,m)))),isExtraPart:function(t,e){return r1(e)}})));d.set(h);var b=function(){var t=e.inline?vn():ve.fromDom(e.getContainer()),n=yo(t);return Y.some(n)};return eS.showWithinBounds(h,hf(v.dialog),{anchor:o},b),n&&m||(jU.refresh(h),e.on("ResizeEditor",g)),v.instanceApi.setData(l),gw.focusIn(v.dialog),v.instanceApi};return pQ.open(s,r)},d=function(t,e){o.open(t,e)},m=function(t,e){r.open(t,e)},p=function(t){t.close()};return{open:i,openUrl:a,alert:m,close:p,confirm:d}},u1=function(t){AS(t),rA(t),uK(t)},a1=function(){ko.add("silver",(function(t){u1(t);var e=function(){return So()},n=vX(t,{getPopupSinkBounds:function(){return e()}}),i=n.dialogs,u=n.popups,a=n.renderUI,c=function(){var n=o(r().mark((function n(){var o,i;return r().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,a();case 2:return o=n.sent,i=tN(t,u.getMothership().element),i.each((function(t){e=function(){return eN(t)}})),n.abrupt("return",o);case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();XR.register(t,u.backstage.shared);var s=i1({editor:t,backstages:{popup:u.backstage,dialog:i.backstage}}),f=function(){return CS(t,{backstage:u.backstage},u.getMothership())};return{renderUI:c,getWindowManagerImpl:z(s),getNotificationManagerImpl:f}}))};a1()}()},635:function(t,e,n){t=n.nmd(t);var r=n(5409)["default"],o=n(2468)["default"],i=n(8853)["default"],u=n(4573)["default"],a=n(598)["default"],c=n(22)["default"],s=n(2214)["default"],f=n(1551)["default"],l=n(4982)["default"],d=n(6728)["default"],m=n(2046)["default"],p=n(1692)["default"],g=["uid"];n(8309),n(7941),n(2707),n(7042),n(2772),n(489),n(2222),n(1703),n(6647),n(5212),n(1539),n(7658),n(5069),n(1038),n(8783),n(4916),n(7601),n(9653),n(5306),n(4765),n(1058),n(1249),n(3123),n(9600),n(7327),n(7922),n(3948),n(4129),n(3210),n(4603),n(8450),n(8386),n(9714),n(561),n(514),n(4986),n(2564),n(4678),n(4723),n(3371),n(189),n(5505),n(7714),n(2801),n(1174),n(9575),n(2472),n(8675),n(2990),n(8927),n(3105),n(5035),n(4345),n(7174),n(3408),n(2958),n(2846),n(4731),n(7209),n(6319),n(8867),n(7789),n(3739),n(9368),n(4483),n(2056),n(3462),n(678),n(7462),n(3824),n(5021),n(2974),n(5016),n(3767),n(8585),n(8696),n(7479),n(2526),n(1817),n(2165),n(8304),n(7987),n(1299),n(5706),n(8410),n(5003),n(6535),n(9554),n(5218),n(285),n(1637),n(6373),n(8862),n(9070),function(){"use strict";var e=function(t){if(null===t)return"null";if(void 0===t)return"undefined";var e=p(t);return"object"===e&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"===e&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":e},n=function(t){return{eq:t}},v=n((function(t,e){return t===e})),h=function(t){return n((function(e,n){if(e.length!==n.length)return!1;for(var r=e.length,o=0;o<r;o++)if(!t.eq(e[o],n[o]))return!1;return!0}))},b=function(t){return n((function(e,r){var o=Object.keys(e),i=Object.keys(r);if(!function(t,e){return function(t,e){return n((function(n,r){return t.eq(e(n),e(r))}))}(h(t),(function(t){return function(t,e){return Array.prototype.slice.call(t).sort(e)}(t,e)}))}(v).eq(o,i))return!1;for(var u=o.length,a=0;a<u;a++){var c=o[a];if(!t.eq(e[c],r[c]))return!1}return!0}))},y=n((function(t,n){if(t===n)return!0;var r=e(t);return r===e(n)&&(function(t){return-1!==["undefined","boolean","number","string","function","xml","null"].indexOf(t)}(r)?t===n:"array"===r?h(y).eq(t,n):"object"===r&&b(y).eq(t,n))})),x=Object.getPrototypeOf,w=function(t,e,n){var r;return!!n(t,e.prototype)||(null===(r=t.constructor)||void 0===r?void 0:r.name)===e.name},C=function(t){return function(e){return function(t){var e=p(t);return null===t?"null":"object"===e&&Array.isArray(t)?"array":"object"===e&&w(t,String,(function(t,e){return e.isPrototypeOf(t)}))?"string":e}(e)===t}},S=function(t){return function(e){return p(e)===t}},k=function(t){return function(e){return t===e}},_=function(t,e){return O(t)&&w(t,e,(function(t,e){return x(t)===e}))},E=C("string"),O=C("object"),T=function(t){return _(t,Object)},A=C("array"),R=k(null),N=S("boolean"),D=k(void 0),B=function(t){return null==t},M=function(t){return!B(t)},I=S("function"),P=S("number"),L=function(t,e){if(A(t)){for(var n=0,r=t.length;n<r;++n)if(!e(t[n]))return!1;return!0}return!1},F=function(){},j=function(t,e){return function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t(e.apply(null,r))}},z=function(t,e){return function(n){return t(e(n))}},U=function(t){return function(){return t}},H=function(t){return t},V=function(t,e){return t===e};function W(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];var i=n.concat(r);return t.apply(null,i)}}var $=function(t){return function(e){return!t(e)}},q=function(t){return function(){throw new Error(t)}},G=function(t){return t()},K=function(t){t()},Y=U(!1),X=U(!0),J=function(){function t(e,n){d(this,t),this.tag=e,this.value=n}return m(t,[{key:"fold",value:function(t,e){return this.tag?e(this.value):t()}},{key:"isSome",value:function(){return this.tag}},{key:"isNone",value:function(){return!this.tag}},{key:"map",value:function(e){return this.tag?t.some(e(this.value)):t.none()}},{key:"bind",value:function(e){return this.tag?e(this.value):t.none()}},{key:"exists",value:function(t){return this.tag&&t(this.value)}},{key:"forall",value:function(t){return!this.tag||t(this.value)}},{key:"filter",value:function(e){return!this.tag||e(this.value)?this:t.none()}},{key:"getOr",value:function(t){return this.tag?this.value:t}},{key:"or",value:function(t){return this.tag?this:t}},{key:"getOrThunk",value:function(t){return this.tag?this.value:t()}},{key:"orThunk",value:function(t){return this.tag?this:t()}},{key:"getOrDie",value:function(t){if(this.tag)return this.value;throw new Error(null!=t?t:"Called getOrDie on None")}},{key:"getOrNull",value:function(){return this.tag?this.value:null}},{key:"getOrUndefined",value:function(){return this.value}},{key:"each",value:function(t){this.tag&&t(this.value)}},{key:"toArray",value:function(){return this.tag?[this.value]:[]}},{key:"toString",value:function(){return this.tag?"some(".concat(this.value,")"):"none()"}}],[{key:"some",value:function(e){return new t(!0,e)}},{key:"none",value:function(){return t.singletonNone}},{key:"from",value:function(e){return M(e)?t.some(e):t.none()}}]),t}();J.singletonNone=new J(!1);var Q=Array.prototype.slice,Z=Array.prototype.indexOf,tt=Array.prototype.push,et=function(t,e){return Z.call(t,e)},nt=function(t,e){return et(t,e)>-1},rt=function(t,e){for(var n=0,r=t.length;n<r;n++)if(e(t[n],n))return!0;return!1},ot=function(t,e){for(var n=t.length,r=new Array(n),o=0;o<n;o++){var i=t[o];r[o]=e(i,o)}return r},it=function(t,e){for(var n=0,r=t.length;n<r;n++)e(t[n],n)},ut=function(t,e){for(var n=t.length-1;n>=0;n--)e(t[n],n)},at=function(t,e){for(var n=[],r=[],o=0,i=t.length;o<i;o++){var u=t[o];(e(u,o)?n:r).push(u)}return{pass:n,fail:r}},ct=function(t,e){for(var n=[],r=0,o=t.length;r<o;r++){var i=t[r];e(i,r)&&n.push(i)}return n},st=function(t,e,n){return ut(t,(function(t,r){n=e(n,t,r)})),n},ft=function(t,e,n){return it(t,(function(t,r){n=e(n,t,r)})),n},lt=function(t,e,n){for(var r=0,o=t.length;r<o;r++){var i=t[r];if(e(i,r))return J.some(i);if(n(i,r))break}return J.none()},dt=function(t,e){return lt(t,e,Y)},mt=function(t,e){for(var n=0,r=t.length;n<r;n++)if(e(t[n],n))return J.some(n);return J.none()},pt=function(t){for(var e=[],n=0,r=t.length;n<r;++n){if(!A(t[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+t);tt.apply(e,t[n])}return e},gt=function(t,e){return pt(ot(t,e))},vt=function(t,e){for(var n=0,r=t.length;n<r;++n)if(!0!==e(t[n],n))return!1;return!0},ht=function(t){var e=Q.call(t,0);return e.reverse(),e},bt=function(t,e){return ct(t,(function(t){return!nt(e,t)}))},yt=function(t,e){for(var n={},r=0,o=t.length;r<o;r++){var i=t[r];n[String(i)]=e(i,r)}return n},xt=function(t,e){var n=Q.call(t,0);return n.sort(e),n},wt=function(t,e){return e>=0&&e<t.length?J.some(t[e]):J.none()},Ct=function(t){return wt(t,0)},St=function(t){return wt(t,t.length-1)},kt=I(Array.from)?Array.from:function(t){return Q.call(t)},_t=function(t,e){for(var n=0;n<t.length;n++){var r=e(t[n],n);if(r.isSome())return r}return J.none()},Et=Object.keys,Ot=Object.hasOwnProperty,Tt=function(t,e){for(var n=Et(t),r=0,o=n.length;r<o;r++){var i=n[r];e(t[i],i)}},At=function(t,e){return Rt(t,(function(t,n){return{k:n,v:e(t,n)}}))},Rt=function(t,e){var n={};return Tt(t,(function(t,r){var o=e(t,r);n[o.k]=o.v})),n},Nt=function(t){return function(e,n){t[n]=e}},Dt=function(t,e,n,r){Tt(t,(function(t,o){(e(t,o)?n:r)(t,o)}))},Bt=function(t,e){var n={};return Dt(t,e,Nt(n),F),n},Mt=function(t,e){var n=[];return Tt(t,(function(t,r){n.push(e(t,r))})),n},It=function(t){return Mt(t,H)},Pt=function(t,e){return Lt(t,e)?J.from(t[e]):J.none()},Lt=function(t,e){return Ot.call(t,e)},Ft=function(t,e){return Lt(t,e)&&void 0!==t[e]&&null!==t[e]},jt=function(t){var e={};return it(t,(function(t){e[t]={}})),Et(e)},zt=function(t){return void 0!==t.length},Ut=Array.isArray,Ht=function(t,e,n){if(!t)return!1;if(n=n||t,zt(t)){for(var r=0,o=t.length;r<o;r++)if(!1===e.call(n,t[r],r,t))return!1}else for(var i in t)if(Lt(t,i)&&!1===e.call(n,t[i],i,t))return!1;return!0},Vt=function(t,e){var n=[];return Ht(t,(function(r,o){n.push(e(r,o,t))})),n},Wt=function(t,e){var n=[];return Ht(t,(function(r,o){e&&!e(r,o,t)||n.push(r)})),n},$t=function(t,e,n,r){for(var o=D(n)?t[0]:n,i=0;i<t.length;i++)o=e.call(r,o,t[i],i);return o},qt=function(t,e,n){for(var r=0,o=t.length;r<o;r++)if(e.call(n,t[r],r,t))return r;return-1},Gt=function(t){return t[t.length-1]},Kt=function(t){var e,n=!1;return function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n||(n=!0,e=t.apply(null,o)),e}},Yt=function(){return Xt(0,0)},Xt=function(t,e){return{major:t,minor:e}},Jt={nu:Xt,detect:function(t,e){var n=String(e).toLowerCase();return 0===t.length?Yt():function(t,e){var n=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r.test(e))return r}}(t,e);if(!n)return{major:0,minor:0};var r=function(t){return Number(e.replace(n,"$"+t))};return Xt(r(1),r(2))}(t,n)},unknown:Yt},Qt=function(t,e){var n=String(e).toLowerCase();return dt(t,(function(t){return t.search(n)}))},Zt=function(t,e,n){return""===e||t.length>=e.length&&t.substr(n,n+e.length)===e},te=function(t,e){return ne(t,e)?function(t,e){return t.substring(e)}(t,e.length):t},ee=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3?arguments[3]:void 0,o=t.indexOf(e,n);return-1!==o&&(!!D(r)||o+e.length<=r)},ne=function(t,e){return Zt(t,e,0)},re=function(t,e){return Zt(t,e,t.length-e.length)},oe=function(t){return function(e){return e.replace(t,"")}},ie=oe(/^\s+|\s+$/g),ue=oe(/^\s+/g),ae=oe(/\s+$/g),ce=function(t){return t.length>0},se=function(t){return!ce(t)},fe=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=parseInt(t,e);return isNaN(n)?J.none():J.some(n)},le=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,de=function(t){return function(e){return ee(e,t)}},me=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(t){return ee(t,"edge/")&&ee(t,"chrome")&&ee(t,"safari")&&ee(t,"applewebkit")}},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,le],search:function(t){return ee(t,"chrome")&&!ee(t,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(t){return ee(t,"msie")||ee(t,"trident")}},{name:"Opera",versionRegexes:[le,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:de("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:de("firefox")},{name:"Safari",versionRegexes:[le,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(t){return(ee(t,"safari")||ee(t,"mobile/"))&&ee(t,"applewebkit")}}],pe=[{name:"Windows",search:de("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(t){return ee(t,"iphone")||ee(t,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:de("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:de("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:de("linux"),versionRegexes:[]},{name:"Solaris",search:de("sunos"),versionRegexes:[]},{name:"FreeBSD",search:de("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:de("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],ge={browsers:U(me),oses:U(pe)},ve="Edge",he="Chromium",be="Opera",ye="Firefox",xe="Safari",we=function(t){var e=t.current,n=t.version,r=function(t){return function(){return e===t}};return{current:e,version:n,isEdge:r(ve),isChromium:r(he),isIE:r("IE"),isOpera:r(be),isFirefox:r(ye),isSafari:r(xe)}},Ce=function(){return we({current:void 0,version:Jt.unknown()})},Se=we,ke=(U(ve),U(he),U("IE"),U(be),U(ye),U(xe),"Windows"),_e="Android",Ee="Linux",Oe="macOS",Te="Solaris",Ae="FreeBSD",Re="ChromeOS",Ne=function(t){var e=t.current,n=t.version,r=function(t){return function(){return e===t}};return{current:e,version:n,isWindows:r(ke),isiOS:r("iOS"),isAndroid:r(_e),isMacOS:r(Oe),isLinux:r(Ee),isSolaris:r(Te),isFreeBSD:r(Ae),isChromeOS:r(Re)}},De=function(){return Ne({current:void 0,version:Jt.unknown()})},Be=Ne,Me=(U(ke),U("iOS"),U(_e),U(Ee),U(Oe),U(Te),U(Ae),U(Re),function(t){return window.matchMedia(t).matches}),Ie=Kt((function(){return function(t,e,n){var r=ge.browsers(),o=ge.oses(),i=e.bind((function(t){return function(t,e){return _t(e.brands,(function(e){var n=e.brand.toLowerCase();return dt(t,(function(t){var e;return n===(null===(e=t.brand)||void 0===e?void 0:e.toLowerCase())})).map((function(t){return{current:t.name,version:Jt.nu(parseInt(e.version,10),0)}}))}))}(r,t)})).orThunk((function(){return function(t,e){return Qt(t,e).map((function(t){var n=Jt.detect(t.versionRegexes,e);return{current:t.name,version:n}}))}(r,t)})).fold(Ce,Se),u=function(t,e){return Qt(t,e).map((function(t){var n=Jt.detect(t.versionRegexes,e);return{current:t.name,version:n}}))}(o,t).fold(De,Be),a=function(t,e,n,r){var o=t.isiOS()&&!0===/ipad/i.test(n),i=t.isiOS()&&!o,u=t.isiOS()||t.isAndroid(),a=u||r("(pointer:coarse)"),c=o||!i&&u&&r("(min-device-width:768px)"),s=i||u&&!c,f=e.isSafari()&&t.isiOS()&&!1===/safari/i.test(n),l=!s&&!c&&!f;return{isiPad:U(o),isiPhone:U(i),isTablet:U(c),isPhone:U(s),isTouch:U(a),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:U(f),isDesktop:U(l)}}(u,i,t,n);return{browser:i,os:u,deviceType:a}}(navigator.userAgent,J.from(navigator.userAgentData),Me)})),Pe=function(){return Ie()},Le=navigator.userAgent,Fe=Pe(),je=Fe.browser,ze=Fe.os,Ue=Fe.deviceType,He=-1!==Le.indexOf("Windows Phone"),Ve={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:je.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!je.isIE(),windowsPhone:He,browser:{current:je.current,version:je.version,isChromium:je.isChromium,isEdge:je.isEdge,isFirefox:je.isFirefox,isIE:je.isIE,isOpera:je.isOpera,isSafari:je.isSafari},os:{current:ze.current,version:ze.version,isAndroid:ze.isAndroid,isChromeOS:ze.isChromeOS,isFreeBSD:ze.isFreeBSD,isiOS:ze.isiOS,isLinux:ze.isLinux,isMacOS:ze.isMacOS,isSolaris:ze.isSolaris,isWindows:ze.isWindows},deviceType:{isDesktop:Ue.isDesktop,isiPad:Ue.isiPad,isiPhone:Ue.isiPhone,isPhone:Ue.isPhone,isTablet:Ue.isTablet,isTouch:Ue.isTouch,isWebView:Ue.isWebView}},We=/^\s*|\s*$/g,$e=function(t){return B(t)?"":(""+t).replace(We,"")},qe=function t(e,n,r,o){o=o||this,e&&(r&&(e=e[r]),Ht(e,(function(e,i){return!1!==n.call(o,e,i,r)&&(t(e,n,r,o),!0)})))},Ge={trim:$e,isArray:Ut,is:function(t,e){return e?!("array"!==e||!Ut(t))||p(t)===e:void 0!==t},toArray:function(t){if(Ut(t))return t;for(var e=[],n=0,r=t.length;n<r;n++)e[n]=t[n];return e},makeMap:function(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=E(t)?t.split(e||","):t||[],o=r.length;o--;)n[r[o]]={};return n},each:Ht,map:Vt,grep:Wt,inArray:function(t,e){if(t)for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},hasOwn:Lt,extend:function(t){for(var e=0;e<(arguments.length<=1?0:arguments.length-1);e++){var n=e+1<1||arguments.length<=e+1?void 0:arguments[e+1];for(var r in n)if(Lt(n,r)){var o=n[r];void 0!==o&&(t[r]=o)}}return t},walk:qe,resolve:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window,n=t.split("."),r=0,o=n.length;r<o&&(e=e[n[r]]);r++);return e},explode:function(t,e){return A(t)?t:""===t?[]:Vt(t.split(e||","),$e)},_addCacheSuffix:function(t){var e=Ve.cacheSuffix;return e&&(t+=(-1===t.indexOf("?")?"?":"&")+e),t}},Ke=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:V;return t.exists((function(t){return n(t,e)}))},Ye=function(t,e,n){return t.isSome()&&e.isSome()?J.some(n(t.getOrDie(),e.getOrDie())):J.none()},Xe=function(t,e){return t?J.some(e):J.none()},Je="undefined"!=typeof window?window:Function("return this;")(),Qe=function(t,e){return function(t,e){for(var n=null!=e?e:Je,r=0;r<t.length&&null!=n;++r)n=n[t[r]];return n}(t.split("."),e)},Ze=Object.getPrototypeOf,tn=function(t){var e=Qe("ownerDocument.defaultView",t);return O(t)&&(function(t){return function(t,e){var n=function(t,e){return Qe(t,e)}(t,e);if(null==n)throw new Error(t+" not available on this browser");return n}("HTMLElement",t)}(e).prototype.isPrototypeOf(t)||/^HTML\w*Element$/.test(Ze(t).constructor.name))},en=function(t){return t.dom.nodeName.toLowerCase()},nn=function(t){return t.dom.nodeType},rn=function(t){return function(e){return nn(e)===t}},on=rn(1),un=rn(3),an=rn(9),cn=rn(11),sn=function(t){return function(e){return on(e)&&en(e)===t}},fn=function(t,e,n){if(!(E(n)||N(n)||P(n)))throw console.error("Invalid call to Attribute.set. Key ",e,":: Value ",n,":: Element ",t),new Error("Attribute value was not simple");t.setAttribute(e,n+"")},ln=function(t,e,n){fn(t.dom,e,n)},dn=function(t,e){var n=t.dom;Tt(e,(function(t,e){fn(n,e,t)}))},mn=function(t,e){var n=t.dom.getAttribute(e);return null===n?void 0:n},pn=function(t,e){return J.from(mn(t,e))},gn=function(t,e){var n=t.dom;return!(!n||!n.hasAttribute)&&n.hasAttribute(e)},vn=function(t,e){t.dom.removeAttribute(e)},hn=function(t){return ft(t.dom.attributes,(function(t,e){return t[e.name]=e.value,t}),{})},bn=function(t,e){var n=mn(t,e);return void 0===n||""===n?[]:n.split(" ")},yn=function(t){return void 0!==t.dom.classList},xn=function(t){return bn(t,"class")},wn=function(t,e){return function(t,e,n){var r=bn(t,e).concat([n]);return ln(t,e,r.join(" ")),!0}(t,"class",e)},Cn=function(t,e){return function(t,e,n){var r=ct(bn(t,e),(function(t){return t!==n}));return r.length>0?ln(t,e,r.join(" ")):vn(t,e),!1}(t,"class",e)},Sn=function(t,e){yn(t)?t.dom.classList.add(e):wn(t,e)},kn=function(t){0===(yn(t)?t.dom.classList:xn(t)).length&&vn(t,"class")},_n=function(t,e){yn(t)?t.dom.classList.remove(e):Cn(t,e),kn(t)},En=function(t,e){return yn(t)&&t.dom.classList.contains(e)},On=function(t){if(null==t)throw new Error("Node cannot be null or undefined");return{dom:t}},Tn=function(t,e){var n=(e||document).createElement("div");if(n.innerHTML=t,!n.hasChildNodes()||n.childNodes.length>1){var r="HTML does not have a single root node";throw console.error(r,t),new Error(r)}return On(n.childNodes[0])},An=function(t,e){var n=(e||document).createElement(t);return On(n)},Rn=function(t,e){var n=(e||document).createTextNode(t);return On(n)},Nn=On,Dn=function(t,e,n){return J.from(t.dom.elementFromPoint(e,n)).map(On)},Bn=function(t,e){var n=[],r=function(t){return n.push(t),e(t)},o=e(t);do{o=o.bind(r)}while(o.isSome());return n},Mn=function(t,e){var n=t.dom;if(1!==n.nodeType)return!1;var r=n;if(void 0!==r.matches)return r.matches(e);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(e);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(e);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(e);throw new Error("Browser lacks native selectors")},In=function(t){return 1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType||0===t.childElementCount},Pn=function(t,e){return t.dom===e.dom},Ln=function(t,e){var n=t.dom,r=e.dom;return n!==r&&n.contains(r)},Fn=function(t){return Nn(t.dom.ownerDocument)},jn=function(t){return an(t)?t:Fn(t)},zn=function(t){return Nn(jn(t).dom.defaultView)},Un=function(t){return J.from(t.dom.parentNode).map(Nn)},Hn=function(t){return J.from(t.dom.parentElement).map(Nn)},Vn=function(t,e){for(var n=I(e)?e:Y,r=t.dom,o=[];null!==r.parentNode&&void 0!==r.parentNode;){var i=r.parentNode,u=Nn(i);if(o.push(u),!0===n(u))break;r=i}return o},Wn=function(t){return J.from(t.dom.previousSibling).map(Nn)},$n=function(t){return J.from(t.dom.nextSibling).map(Nn)},qn=function(t){return ht(Bn(t,Wn))},Gn=function(t){return Bn(t,$n)},Kn=function(t){return ot(t.dom.childNodes,Nn)},Yn=function(t,e){var n=t.dom.childNodes;return J.from(n[e]).map(Nn)},Xn=function(t){return Yn(t,0)},Jn=function(t){return Yn(t,t.dom.childNodes.length-1)},Qn=function(t){return t.dom.childNodes.length},Zn=function(t){return cn(t)&&M(t.dom.host)},tr=I(Element.prototype.attachShadow)&&I(Node.prototype.getRootNode),er=U(tr),nr=tr?function(t){return Nn(t.dom.getRootNode())}:jn,rr=function(t){return Zn(t)?t:function(t){var e=t.dom.head;if(null==e)throw new Error("Head is not available yet");return Nn(e)}(jn(t))},or=function(t){return Nn(t.dom.host)},ir=function(t){if(er()&&M(t.target)){var e=Nn(t.target);if(on(e)&&ur(e)&&t.composed&&t.composedPath){var n=t.composedPath();if(n)return Ct(n)}}return J.from(t.target)},ur=function(t){return M(t.dom.shadowRoot)},ar=function t(e){var n=un(e)?e.dom.parentNode:e.dom;if(null==n||null===n.ownerDocument)return!1;var r=n.ownerDocument;return function(t){var e=nr(t);return Zn(e)?J.some(e):J.none()}(Nn(n)).fold((function(){return r.body.contains(n)}),z(t,or))},cr=function(t,e,n,r,o){return t(n,r)?J.some(n):I(o)&&o(n)?J.none():e(n,r,o)},sr=function(t,e,n){for(var r=t.dom,o=I(n)?n:Y;r.parentNode;){r=r.parentNode;var i=Nn(r);if(e(i))return J.some(i);if(o(i))break}return J.none()},fr=function(t,e,n){return cr((function(t,e){return e(t)}),sr,t,e,n)},lr=function(t,e,n){return sr(t,(function(t){return Mn(t,e)}),n)},dr=function(t,e){return function(t,e){var n=void 0===e?document:e.dom;return In(n)?J.none():J.from(n.querySelector(t)).map(Nn)}(e,t)},mr=function(t,e,n){return cr((function(t,e){return Mn(t,e)}),lr,t,e,n)},pr=function(t){var e,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return ar(t)?t.dom.isContentEditable:(e=t,mr(e,"[contenteditable]")).fold(U(n),(function(t){return"true"===gr(t)}))},gr=function(t){return t.dom.contentEditable},vr=function(t){return void 0!==t.style&&I(t.style.getPropertyValue)},hr=function(t,e,n){if(!E(n))throw console.error("Invalid call to CSS.set. Property ",e,":: Value ",n,":: Element ",t),new Error("CSS value must be a string: "+n);vr(t)&&t.style.setProperty(e,n)},br=function(t,e,n){var r=t.dom;hr(r,e,n)},yr=function(t,e){var n=t.dom;Tt(e,(function(t,e){hr(n,e,t)}))},xr=function(t,e){var n=t.dom,r=window.getComputedStyle(n).getPropertyValue(e);return""!==r||ar(t)?r:wr(n,e)},wr=function(t,e){return vr(t)?t.style.getPropertyValue(e):""},Cr=function(t,e){var n=t.dom,r=wr(n,e);return J.from(r).filter((function(t){return t.length>0}))},Sr=function(t){var e={},n=t.dom;if(vr(n))for(var r=0;r<n.style.length;r++){var o=n.style.item(r);e[o]=n.style[o]}return e},kr=function(t,e){(function(t,e){vr(t)&&t.style.removeProperty(e)})(t.dom,e),Ke(pn(t,"style").map(ie),"")&&vn(t,"style")},_r=function(t,e){Un(t).each((function(n){n.dom.insertBefore(e.dom,t.dom)}))},Er=function(t,e){$n(t).fold((function(){Un(t).each((function(t){Tr(t,e)}))}),(function(t){_r(t,e)}))},Or=function(t,e){Xn(t).fold((function(){Tr(t,e)}),(function(n){t.dom.insertBefore(e.dom,n.dom)}))},Tr=function(t,e){t.dom.appendChild(e.dom)},Ar=function(t,e){_r(t,e),Tr(e,t)},Rr=function(t,e){it(e,(function(e){Tr(t,e)}))},Nr=function(t){t.dom.textContent="",it(Kn(t),(function(t){Dr(t)}))},Dr=function(t){var e=t.dom;null!==e.parentNode&&e.parentNode.removeChild(e)},Br=function(t){var e,n,r=Kn(t);r.length>0&&(e=t,it(n=r,(function(t,r){var o=0===r?e:n[r-1];Er(o,t)}))),Dr(t)},Mr=function(t){return ot(t,Nn)},Ir=function(t){return t.dom.innerHTML},Pr=function(t,e){var n=Fn(t).dom,r=Nn(n.createDocumentFragment()),o=function(t,e){var n=(e||document).createElement("div");return n.innerHTML=t,Kn(Nn(n))}(e,n);Rr(r,o),Nr(t),Tr(t,r)},Lr=function(t,e,n,r){return function(t,e,n,r,o){var i=function(t,e){return function(n){t(n)&&e(function(t){var e=Nn(ir(t).getOr(t.target)),n=function(){return t.stopPropagation()},r=function(){return t.preventDefault()},o=j(r,n);return function(t,e,n,r,o,i,u){return{target:t,x:e,y:n,stop:r,prevent:o,kill:i,raw:u}}(e,t.clientX,t.clientY,n,r,o,t)}(n))}}(n,r);return t.dom.addEventListener(e,i,!1),{unbind:W(Fr,t,e,i,!1)}}(t,e,n,r)},Fr=function(t,e,n,r){t.dom.removeEventListener(e,n,r)},jr=function t(e,n){return{left:e,top:n,translate:function(r,o){return t(e+r,n+o)}}},zr=jr,Ur=function(t,e){return void 0!==t?t:void 0!==e?e:0},Hr=function(t){var e=t.dom,n=e.ownerDocument.body;return n===e?zr(n.offsetLeft,n.offsetTop):ar(t)?function(t){var e=t.getBoundingClientRect();return zr(e.left,e.top)}(e):zr(0,0)},Vr=function(t){var e=void 0!==t?t.dom:document,n=e.body.scrollLeft||e.documentElement.scrollLeft,r=e.body.scrollTop||e.documentElement.scrollTop;return zr(n,r)},Wr=function(t,e){Pe().browser.isSafari()&&I(t.dom.scrollIntoViewIfNeeded)?t.dom.scrollIntoViewIfNeeded(!1):t.dom.scrollIntoView(e)},$r=function(t,e,n,r){return{x:t,y:e,width:n,height:r,right:t+n,bottom:e+r}},qr=function(t){var e=void 0===t?window:t,n=e.document,r=Vr(Nn(n));return function(t){var e=void 0===t?window:t;return Pe().browser.isFirefox()?J.none():J.from(e.visualViewport)}(e).fold((function(){var t=e.document.documentElement,n=t.clientWidth,o=t.clientHeight;return $r(r.left,r.top,n,o)}),(function(t){return $r(Math.max(t.pageLeft,r.left),Math.max(t.pageTop,r.top),t.width,t.height)}))},Gr=function t(e,n){var r=[];return it(Kn(e),(function(e){n(e)&&(r=r.concat([e])),r=r.concat(t(e,n))})),r},Kr=function(t,e){return function(t,e){var n=void 0===e?document:e.dom;return In(n)?[]:ot(n.querySelectorAll(t),Nn)}(e,t)},Yr=function(t,e,n){return lr(t,e,n).isSome()},Xr=function(){function t(e,n){d(this,t),this.node=e,this.rootNode=n,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}return m(t,[{key:"current",value:function(){return this.node}},{key:"next",value:function(t){return this.node=this.findSibling(this.node,"firstChild","nextSibling",t),this.node}},{key:"prev",value:function(t){return this.node=this.findSibling(this.node,"lastChild","previousSibling",t),this.node}},{key:"prev2",value:function(t){return this.node=this.findPreviousNode(this.node,t),this.node}},{key:"findSibling",value:function(t,e,n,r){if(t){if(!r&&t[e])return t[e];if(t!==this.rootNode){var o=t[n];if(o)return o;for(var i=t.parentNode;i&&i!==this.rootNode;i=i.parentNode)if(o=i[n],o)return o}}}},{key:"findPreviousNode",value:function(t,e){if(t){var n=t.previousSibling;if(this.rootNode&&n===this.rootNode)return;if(n){if(!e)for(var r=n.lastChild;r;r=r.lastChild)if(!r.lastChild)return r;return n}var o=t.parentNode;if(o&&o!==this.rootNode)return o}}}]),t}(),Jr=function(t){return function(e){return!!e&&e.nodeType===t}},Qr=function(t){return!!t&&!Object.getPrototypeOf(t)},Zr=Jr(1),to=function(t){var e=t.toLowerCase();return function(t){return M(t)&&t.nodeName.toLowerCase()===e}},eo=function(t){var e=t.map((function(t){return t.toLowerCase()}));return function(t){if(t&&t.nodeName){var n=t.nodeName.toLowerCase();return nt(e,n)}return!1}},no=function(t,e){var n=e.toLowerCase().split(" ");return function(e){if(Zr(e)){var r=e.ownerDocument.defaultView;if(r)for(var o=0;o<n.length;o++){var i=r.getComputedStyle(e,null);if((i?i.getPropertyValue(t):null)===n[o])return!0}}return!1}},ro=function(t){return function(e){return Zr(e)&&e.hasAttribute(t)}},oo=function(t){return Zr(t)&&t.hasAttribute("data-mce-bogus")},io=function(t){return Zr(t)&&"TABLE"===t.tagName},uo=function(t){return function(e){if(Zr(e)){if(e.contentEditable===t)return!0;if(e.getAttribute("data-mce-contenteditable")===t)return!0}return!1}},ao=eo(["textarea","input"]),co=Jr(3),so=Jr(4),fo=Jr(7),lo=Jr(8),mo=Jr(9),po=Jr(11),go=to("br"),vo=to("img"),ho=uo("true"),bo=uo("false"),yo=eo(["td","th"]),xo=eo(["td","th","caption"]),wo=eo(["video","audio","object","embed"]),Co=to("li"),So="\ufeff",ko="Â ",_o=function(t){return t===So},Eo=function(t,e){var n=function(e){return t(e)?J.from(e.dom.nodeValue):J.none()};return{get:function(e){if(!t(e))throw new Error("Can only get text value of a text node");return n(e).getOr("")},getOption:n,set:function(e,n){if(!t(e))throw new Error("Can only set raw text value of a text node");e.dom.nodeValue=n}}}(un),Oo=function(t){return Eo.get(t)},To=function(t){return Eo.getOption(t)},Ao=["pre"].concat(["h1","h2","h3","h4","h5","h6"]),Ro=function(t){var e;return function(n){return e=e||yt(t,X),Lt(e,en(n))}},No=Ro(["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"]),Do=function(t){return on(t)&&!No(t)},Bo=function(t){return on(t)&&"br"===en(t)},Mo=Ro(["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"]),Io=Ro(["ul","ol","dl"]),Po=Ro(["li","dd","dt"]),Lo=Ro(["thead","tbody","tfoot"]),Fo=Ro(["td","th"]),jo=Ro(["pre","script","textarea","style"]),zo=Ro(Ao),Uo=function(t){return zo(t)||Do(t)},Ho=function(){var t=An("br");return ln(t,"data-mce-bogus","1"),t},Vo=function(t){Nr(t),Tr(t,Ho())},Wo=function(t){Jn(t).each((function(e){Wn(e).each((function(n){No(t)&&Bo(e)&&No(n)&&Dr(e)}))}))},$o=So,qo=_o,Go=function(t){return t.replace(/\uFEFF/g,"")},Ko=Zr,Yo=co,Xo=function(t){return Yo(t)&&(t=t.parentNode),Ko(t)&&t.hasAttribute("data-mce-caret")},Jo=function(t){return Yo(t)&&qo(t.data)},Qo=function(t){return Xo(t)||Jo(t)},Zo=function(t){return t.firstChild!==t.lastChild||!go(t.firstChild)},ti=function(t){var e=t.container();return!!co(e)&&(e.data.charAt(t.offset())===$o||t.isAtStart()&&Jo(e.previousSibling))},ei=function(t){var e=t.container();return!!co(e)&&(e.data.charAt(t.offset()-1)===$o||t.isAtEnd()&&Jo(e.nextSibling))},ni=function(t){return Yo(t)&&t.data[0]===$o},ri=function(t){return Yo(t)&&t.data[t.data.length-1]===$o},oi=function(t){return t&&t.hasAttribute("data-mce-caret")?(function(t){var e,n=t.getElementsByTagName("br"),r=n[n.length-1];oo(r)&&(null===(e=r.parentNode)||void 0===e||e.removeChild(r))}(t),t.removeAttribute("data-mce-caret"),t.removeAttribute("data-mce-bogus"),t.removeAttribute("style"),t.removeAttribute("data-mce-style"),t.removeAttribute("_moz_abspos"),t):null},ii=function(t){return Xo(t.startContainer)},ui=ho,ai=bo,ci=go,si=co,fi=eo(["script","style","textarea"]),li=eo(["img","input","textarea","hr","iframe","video","audio","object","embed"]),di=eo(["table"]),mi=Qo,pi=function(t){return!mi(t)&&(si(t)?!fi(t.parentNode):li(t)||ci(t)||di(t)||gi(t))},gi=function(t){return!function(t){return Zr(t)&&"true"===t.getAttribute("unselectable")}(t)&&ai(t)},vi=function(t,e){return pi(t)&&function(t,e){for(var n=t.parentNode;n&&n!==e;n=n.parentNode){if(gi(n))return!1;if(ui(n))return!0}return!0}(t,e)},hi=/^[ \t\r\n]*$/,bi=function(t){return hi.test(t)},yi=function(t){return"\n"===t||"\r"===t},xi=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=function(t,e){return e<=0?"":new Array(e+1).join(" ")}(0,e),i=t.replace(/\t/g,o),u=ft(i,(function(t,e){return function(t){return-1!==" \f\t\v".indexOf(t)}(e)||e===ko?t.pcIsSpace||""===t.str&&n||t.str.length===i.length-1&&r||function(t,e){return e<t.length&&e>=0&&yi(t[e])}(i,t.str.length+1)?{pcIsSpace:!1,str:t.str+ko}:{pcIsSpace:!0,str:t.str+" "}:{pcIsSpace:yi(e),str:t.str+e}}),{pcIsSpace:!1,str:""});return u.str},wi=function(t,e){return pi(t)&&!function(t,e){return co(t)&&bi(t.data)&&!function(t,e){var n=Nn(e),r=Nn(t);return Yr(r,"pre,code",W(Pn,n))}(t,e)}(t,e)||function(t){return Zr(t)&&"A"===t.nodeName&&!t.hasAttribute("href")&&(t.hasAttribute("name")||t.hasAttribute("id"))}(t)||Ci(t)},Ci=ro("data-mce-bookmark"),Si=ro("data-mce-bogus"),ki=function(t){return Zr(t)&&"all"===t.getAttribute("data-mce-bogus")},_i=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(t,e){var n=0;if(wi(t,t))return!1;var r=t.firstChild;if(!r)return!0;var o=new Xr(r,t);do{if(e){if(ki(r)){r=o.next(!0);continue}if(Si(r)){r=o.next();continue}}if(go(r))n++,r=o.next();else{if(wi(r,t))return!1;r=o.next()}}while(r);return n<=1}(t.dom,e)},Ei="data-mce-block",Oi=function(t){return function(t){return ct(Et(t),(function(t){return!/[A-Z]/.test(t)}))}(t).join(",")},Ti=function(t,e){return M(e.querySelector(t))?(e.setAttribute(Ei,"true"),"inline-boundary"===e.getAttribute("data-mce-selected")&&e.removeAttribute("data-mce-selected"),!0):(e.removeAttribute(Ei),!1)},Ai=function(t,e){var n=Oi(t.getTransparentElements()),r=Oi(t.getBlockElements());return ct(e.querySelectorAll(n),(function(t){return Ti(r,t)}))},Ri=function(t,e){for(var n,r=e?"lastChild":"firstChild",o=t[r];o;o=o[r])if(_i(Nn(o)))return void(null===(n=o.parentNode)||void 0===n||n.removeChild(o))},Ni=function(t,e,n){var r=t.getBlockElements(),o=Nn(e),i=function(t){return en(t)in r},u=function(t){return Pn(t,o)};it(Mr(n),(function(e){sr(e,i,u).each((function(n){var r=function(e,r){return ct(Kn(e),(function(e){return i(e)&&!t.isValidChild(en(n),en(e))}))}(e);if(r.length>0){var o=Hn(n);it(r,(function(t){sr(t,i,u).each((function(e){(function(t,e){var n=document.createRange(),r=t.parentNode;if(r){n.setStartBefore(t),n.setEndBefore(e);var o=n.extractContents();Ri(o,!0),n.setStartAfter(e),n.setEndAfter(t);var i=n.extractContents();Ri(i,!1),_i(Nn(o))||r.insertBefore(o,t),_i(Nn(e))||r.insertBefore(e,t),_i(Nn(i))||r.insertBefore(i,t),r.removeChild(t)}})(e.dom,t.dom)}))})),o.each((function(e){return Ai(t,e.dom)}))}}))}))},Di=function(t,e){var n=Ai(t,e);Ni(t,e,n),function(t,e,n){it([].concat(l(n),l(Li(t,e)?[e]:[])),(function(e){return it(Kr(Nn(e),e.nodeName.toLowerCase()),(function(e){Fi(t,e.dom)&&Br(e)}))}))}(t,e,n)},Bi=function(t,e){if(Pi(t,e)){var n=Oi(t.getBlockElements());Ti(n,e)}},Mi=function(t){return t.hasAttribute(Ei)},Ii=function(t,e){return Lt(t.getTransparentElements(),e)},Pi=function(t,e){return Zr(e)&&Ii(t,e.nodeName)},Li=function(t,e){return Pi(t,e)&&Mi(e)},Fi=function(t,e){return Pi(t,e)&&!Mi(e)},ji=function(t,e){return 1===e.type&&Ii(t,e.name)&&D(e.attr(Ei))},zi=Pe().browser,Ui=function(t){return dt(t,on)},Hi=function(t,e){return t.children&&nt(t.children,e)},Vi=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=0,r={},o=Nn(t),i=jn(o),u=function(t){return new Promise((function(u,a){var c,s=Ge._addCacheSuffix(t),f=function(t){return Pt(r,t).getOrThunk((function(){return{id:"mce-u"+n++,passed:[],failed:[],count:0}}))}(s);r[s]=f,f.count++;var l=function(t,e){it(t,K),f.status=e,f.passed=[],f.failed=[],c&&(c.onload=null,c.onerror=null,c=null)},d=function(){return l(f.passed,2)},m=function(){return l(f.failed,3)};if(u&&f.passed.push(u),a&&f.failed.push(a),1!==f.status)if(2!==f.status)if(3!==f.status){f.status=1;var p,g=An("link",i.dom);dn(g,{rel:"stylesheet",type:"text/css",id:f.id}),e.contentCssCors&&ln(g,"crossOrigin","anonymous"),e.referrerPolicy&&ln(g,"referrerpolicy",e.referrerPolicy),c=g.dom,c.onload=d,c.onerror=m,p=g,Tr(rr(o),p),ln(g,"href",s)}else m();else d()}))},a=function(t){var e=Ge._addCacheSuffix(t);Pt(r,e).each((function(t){0==--t.count&&(delete r[e],function(t){var e=rr(o);dr(e,"#"+t).each(Dr)}(t.id))}))};return{load:u,loadAll:function(t){return Promise.allSettled(ot(t,(function(t){return u(t).then(U(t))}))).then((function(t){var e=at(t,(function(t){return"fulfilled"===t.status}));return e.fail.length>0?Promise.reject(ot(e.fail,(function(t){return t.reason}))):ot(e.pass,(function(t){return t.value}))}))},unload:a,unloadAll:function(t){it(t,(function(t){a(t)}))},_setReferrerPolicy:function(t){e.referrerPolicy=t},_setContentCssCors:function(t){e.contentCssCors=t}}},Wi=function(){var t=new WeakMap;return{forElement:function(e,n){var r=nr(e).dom;return J.from(t.get(r)).getOrThunk((function(){var e=Vi(r,n);return t.set(r,e),e}))}}}(),$i=function(t,e){return M(t)&&(wi(t,e)||Do(Nn(t)))},qi=function(t){return function(t){return"span"===t.nodeName.toLowerCase()}(t)&&"bookmark"===t.getAttribute("data-mce-type")},Gi=function t(e,n,r){var o,i=r||n;if(Zr(n)&&qi(n))return n;for(var u=n.childNodes,a=u.length-1;a>=0;a--)t(e,u[a],i);if(Zr(n)){var c=n.childNodes;1===c.length&&qi(c[0])&&(null===(o=n.parentNode)||void 0===o||o.insertBefore(c[0],n))}return function(t){return po(t)||mo(t)}(n)||wi(n,i)||function(t){return!!Zr(t)&&t.childNodes.length>0}(n)||function(t,e){return co(t)&&t.data.length>0&&function(t,e){var n=new Xr(t,e).prev(!1),r=new Xr(t,e).next(!1),o=D(n)||$i(n,e),i=D(r)||$i(r,e);return o&&i}(t,e)}(n,i)||e.remove(n),n},Ki=Ge.makeMap,Yi=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Xi=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ji=/[<>&\"\']/g,Qi=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,Zi={128:"â¬",130:"â",131:"Æ",132:"â",133:"â¦",134:"â ",135:"â¡",136:"Ë",137:"â°",138:"Å ",139:"â¹",140:"Å",142:"Å½",145:"â",146:"â",147:"â",148:"â",149:"â¢",150:"â",151:"â",152:"Ë",153:"â¢",154:"Å¡",155:"âº",156:"Å",158:"Å¾",159:"Å¸"},tu={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},eu={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},nu=function(t,e){var n={};if(t){var r=t.split(",");e=e||10;for(var o=0;o<r.length;o+=2){var i=String.fromCharCode(parseInt(r[o],e));if(!tu[i]){var u="&"+r[o+1]+";";n[i]=u,n[u]=i}}return n}},ru=nu("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),ou=function(t,e){return t.replace(e?Yi:Xi,(function(t){return tu[t]||t}))},iu=function(t,e){return t.replace(e?Yi:Xi,(function(t){return t.length>1?"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";":tu[t]||"&#"+t.charCodeAt(0)+";"}))},uu=function(t,e,n){var r=n||ru;return t.replace(e?Yi:Xi,(function(t){return tu[t]||r[t]||t}))},au={encodeRaw:ou,encodeAllRaw:function(t){return(""+t).replace(Ji,(function(t){return tu[t]||t}))},encodeNumeric:iu,encodeNamed:uu,getEncodeFunc:function(t,e){var n=nu(e)||ru,r=Ki(t.replace(/\+/g,","));return r.named&&r.numeric?function(t,e){return t.replace(e?Yi:Xi,(function(t){return void 0!==tu[t]?tu[t]:void 0!==n[t]?n[t]:t.length>1?"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";":"&#"+t.charCodeAt(0)+";"}))}:r.named?e?function(t,e){return uu(t,e,n)}:uu:r.numeric?iu:ou},decode:function(t){return t.replace(Qi,(function(t,e){return e?(e="x"===e.charAt(0).toLowerCase()?parseInt(e.substr(1),16):parseInt(e,10))>65535?(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e))):Zi[e]||String.fromCharCode(e):eu[t]||ru[t]||function(t){var e=An("div").dom;return e.innerHTML=t,e.textContent||e.innerText||t}(t)}))}},cu={},su={},fu={},lu=Ge.makeMap,du=Ge.each,mu=Ge.extend,pu=Ge.explode,gu=Ge.inArray,vu=function(t,e){return(t=Ge.trim(t))?t.split(e||" "):[]},hu=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=lu(t," ",lu(t.toUpperCase()," "));return mu(n,e)},bu=function(t){return hu("td th li dt dd figcaption caption details summary",t.getTextBlockElements())},yu=function(t,e){if(t){var n={};return E(t)&&(t={"*":t}),du(t,(function(t,r){n[r]=n[r.toUpperCase()]="map"===e?lu(t,/[, ]/):pu(t,/[, ]/)})),n}},xu=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n={},r={},o=[],i={},u={},a=function(t,n,r){var o=e[t];if(o)return lu(o,/[, ]/,lu(o.toUpperCase(),/[, ]/));var i=su[t];return i||(i=hu(n,r),su[t]=i),i},c=null!==(t=e.schema)&&void 0!==t?t:"html5",s=function(t){var e,n,r,o,i={},u=function(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=vu(r),u=vu(t),a=u.length;a--;){var c=vu([e,n].join(" "));i[u[a]]={attributes:yt(c,(function(){return{}})),attributesOrder:c,children:yt(o,U(fu))}}},a=function(t,e){for(var n=vu(t),r=vu(e),o=n.length;o--;)for(var u=i[n[o]],a=0,c=r.length;a<c;a++)u.attributes[r[a]]={},u.attributesOrder.push(r[a])};if(cu[t])return cu[t];if(e="id accesskey class dir lang style tabindex title role",n="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",r="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!==t&&(e+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",n+=" article aside details dialog figure main header footer hgroup section nav a ins del canvas map",r+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!==t){e+=" xml:lang";var c="acronym applet basefont big font strike tt";r=[r,c].join(" "),du(vu(c),(function(t){u(t,"",r)}));var s="center dir isindex noframes";n=[n,s].join(" "),o=[n,r].join(" "),du(vu(s),(function(t){u(t,"",o)}))}return o=o||[n,r].join(" "),u("html","manifest","head body"),u("head","","base command link meta noscript script style title"),u("title hr noscript br"),u("base","href target"),u("link","href rel media hreflang type sizes hreflang"),u("meta","name http-equiv content charset"),u("style","media type scoped"),u("script","src async defer type charset"),u("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",o),u("address dt dd div caption","",o),u("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",r),u("blockquote","cite",o),u("ol","reversed start type","li"),u("ul","","li"),u("li","value",o),u("dl","","dt dd"),u("a","href target rel media hreflang type",o),u("q","cite",r),u("ins del","cite datetime",o),u("img","src sizes srcset alt usemap ismap width height"),u("iframe","src name width height",o),u("embed","src type width height"),u("object","data type typemustmatch name usemap form width height",[o,"param"].join(" ")),u("param","name value"),u("map","name",[o,"area"].join(" ")),u("area","alt coords shape href target rel media hreflang type"),u("table","border","caption colgroup thead tfoot tbody tr"+("html4"===t?" col":"")),u("colgroup","span","col"),u("col","span"),u("tbody thead tfoot","","tr"),u("tr","","td th"),u("td","colspan rowspan headers",o),u("th","colspan rowspan headers scope abbr",o),u("form","accept-charset action autocomplete enctype method name novalidate target",o),u("fieldset","disabled form name",[o,"legend"].join(" ")),u("label","form for",r),u("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),u("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===t?o:r),u("select","disabled form multiple name required size","option optgroup"),u("optgroup","disabled label","option"),u("option","disabled label selected value"),u("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),u("menu","type label",[o,"li"].join(" ")),u("noscript","",o),"html4"!==t&&(u("wbr"),u("ruby","",[r,"rt rp"].join(" ")),u("figcaption","",o),u("mark rt rp summary bdi","",r),u("canvas","width height",o),u("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[o,"track source"].join(" ")),u("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[o,"track source"].join(" ")),u("picture","","img source"),u("source","src srcset type media sizes"),u("track","kind src srclang label default"),u("datalist","",[r,"option"].join(" ")),u("article section nav aside main header footer","",o),u("hgroup","","h1 h2 h3 h4 h5 h6"),u("figure","",[o,"figcaption"].join(" ")),u("time","datetime",r),u("dialog","open",o),u("command","type label icon disabled checked radiogroup command"),u("output","for form name",r),u("progress","value max",r),u("meter","value min max low high optimum",r),u("details","open",[o,"summary"].join(" ")),u("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!==t&&(a("script","language xml:space"),a("style","xml:space"),a("object","declare classid code codebase codetype archive standby align border hspace vspace"),a("embed","align name hspace vspace"),a("param","valuetype type"),a("a","charset name rev shape coords"),a("br","clear"),a("applet","codebase archive code object alt name width height align hspace vspace"),a("img","name longdesc align border hspace vspace"),a("iframe","longdesc frameborder marginwidth marginheight scrolling align"),a("font basefont","size color face"),a("input","usemap align"),a("select"),a("textarea"),a("h1 h2 h3 h4 h5 h6 div p legend caption","align"),a("ul","type compact"),a("li","type"),a("ol dl menu dir","compact"),a("pre","width xml:space"),a("hr","align noshade size width"),a("isindex","prompt"),a("table","summary width frame rules cellspacing cellpadding align bgcolor"),a("col","width align char charoff valign"),a("colgroup","width align char charoff valign"),a("thead","align char charoff valign"),a("tr","align char charoff valign bgcolor"),a("th","axis align char charoff valign nowrap bgcolor width height"),a("form","accept"),a("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),a("tfoot","align char charoff valign"),a("tbody","align char charoff valign"),a("area","nohref"),a("body","background bgcolor text link vlink alink")),"html4"!==t&&(a("input button select textarea","autofocus"),a("input textarea","placeholder"),a("a","download"),a("link script img","crossorigin"),a("img","loading"),a("iframe","sandbox seamless allow allowfullscreen loading")),"html4"!==t&&it([i.video,i.audio],(function(t){delete t.children.audio,delete t.children.video})),du(vu("a form meter progress dfn"),(function(t){i[t]&&delete i[t].children[t]})),delete i.caption.children.table,delete i.script,cu[t]=i,i}(c);!1===e.verify_html&&(e.valid_elements="*[*]");var f=yu(e.valid_styles),d=yu(e.invalid_styles,"map"),m=yu(e.valid_classes,"map"),p=a("whitespace_elements","pre script noscript style textarea video audio iframe object code"),g=a("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),v=a("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),h=a("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),b="td th iframe video audio object script code",y=a("non_empty_elements",b+" pre",v),x=a("move_caret_before_on_enter_elements",b+" table",v),w=a("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),C=a("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",w),S=a("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),k=a("transparent_elements","a ins del canvas map");du("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),(function(t){u[t]=new RegExp("</"+t+"[^>]*>","gi")}));var _=function(t){return new RegExp("^"+t.replace(/([?+*])/g,".$1")+"$")},E=function(t){var e=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,r=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,i=/[*?+]/;if(t){var u,a,c=vu(t,",");n["@"]&&(u=n["@"].attributes,a=n["@"].attributesOrder);for(var s=function(){var t=e.exec(c[f]);if(t){var s=t[1],d=t[2],m=t[3],p=t[5],g={},v=[],h={attributes:g,attributesOrder:v};if("#"===s&&(h.paddEmpty=!0),"-"===s&&(h.removeEmpty=!0),"!"===t[4]&&(h.removeEmptyAttrs=!0),u&&(Tt(u,(function(t,e){g[e]=t})),a&&v.push.apply(v,l(a))),p)for(var b=vu(p,"|"),y=0,x=b.length;y<x;y++)if(t=r.exec(b[y]),t){var w={},C=t[1],S=t[2].replace(/[\\:]:/g,":"),k=t[3],E=t[4];if("!"===C&&(h.attributesRequired=h.attributesRequired||[],h.attributesRequired.push(S),w.required=!0),"-"===C){delete g[S],v.splice(gu(v,S),1);continue}if(k&&("="===k&&(h.attributesDefault=h.attributesDefault||[],h.attributesDefault.push({name:S,value:E}),w.defaultValue=E),"~"===k&&(h.attributesForced=h.attributesForced||[],h.attributesForced.push({name:S,value:E}),w.forcedValue=E),"<"===k&&(w.validValues=lu(E,"?"))),i.test(S)){var O=w;h.attributePatterns=h.attributePatterns||[],O.pattern=_(S),h.attributePatterns.push(O)}else g[S]||v.push(S),g[S]=w}if(u||"@"!==d||(u=g,a=v),m&&(h.outputName=d,n[m]=h),i.test(d)){var T=h;T.pattern=_(d),o.push(T)}else n[d]=h}},f=0,d=c.length;f<d;f++)s()}},O=function(t){o=[],it(Et(n),(function(t){delete n[t]})),E(t),du(s,(function(t,e){r[e]=t.children}))},T=function(t){var e=/^(~)?(.+)$/;t&&(delete su.text_block_elements,delete su.block_elements,du(vu(t,","),(function(t){var o=e.exec(t);if(o){var u="~"===o[1],a=u?"span":"div",c=o[2];if(r[c]=r[a],i[c]=a,y[c.toUpperCase()]={},y[c]={},u||(C[c.toUpperCase()]={},C[c]={}),!n[c]){var s=n[a];s=mu({},s),delete s.removeEmptyAttrs,delete s.removeEmpty,n[c]=s}du(r,(function(t,e){t[a]&&(r[e]=t=mu({},r[e]),t[c]=t[a])}))}})))},A=function(t){var e=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;delete cu[c],t&&du(vu(t,","),(function(t){var n=e.exec(t);if(n){var o,i=n[1];o=i?r[n[2]]:r[n[2]]={"#comment":{}},o=r[n[2]],du(vu(n[3],"|"),(function(t){"-"===i?delete o[t]:o[t]={}}))}}))},R=function(t){var e=n[t];if(e)return e;for(var r=o.length;r--;){var i=o[r];if(i.pattern.test(t))return i}};e.valid_elements?O(e.valid_elements):(du(s,(function(t,e){n[e]={attributes:t.attributes,attributesOrder:t.attributesOrder},r[e]=t.children})),du(vu("strong/b em/i"),(function(t){var e=vu(t,"/");n[e[1]].outputName=e[0]})),du(S,(function(t,r){n[r]&&(e.padd_empty_block_inline_children&&(n[r].paddInEmptyBlock=!0),n[r].removeEmpty=!0)})),du(vu("ol ul blockquote a table tbody"),(function(t){n[t]&&(n[t].removeEmpty=!0)})),du(vu("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),(function(t){n[t].paddEmpty=!0})),du(vu("span"),(function(t){n[t].removeEmptyAttrs=!0}))),T(e.custom_elements),A(e.valid_children),E(e.extended_valid_elements),A("+ol[ul|ol],+ul[ul|ol]"),du({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(function(t,e){n[e]&&(n[e].parentsRequired=vu(t))})),e.invalid_elements&&du(pu(e.invalid_elements),(function(t){n[t]&&delete n[t]})),R("span")||E("span[!data-mce-type|*]");var N=U(f),D=U(d),B=U(m),M=U(h),I=U(C),P=U(w),L=U(S),F=U(Object.seal(v)),j=U(g),z=U(y),H=U(x),V=U(p),W=U(k),$=U(Object.seal(u)),q=U(i);return{type:c,children:r,elements:n,getValidStyles:N,getValidClasses:B,getBlockElements:I,getInvalidStyles:D,getVoidElements:F,getTextBlockElements:P,getTextInlineElements:L,getBoolAttrs:M,getElementRule:R,getSelfClosingElements:j,getNonEmptyElements:z,getMoveCaretBeforeOnEnterElements:H,getWhitespaceElements:V,getTransparentElements:W,getSpecialElements:$,isValidChild:function(t,e){var n=r[t.toLowerCase()];return!(!n||!n[e.toLowerCase()])},isValid:function(t,e){var n=R(t);if(n){if(!e)return!0;if(n.attributes[e])return!0;var r=n.attributePatterns;if(r)for(var o=r.length;o--;)if(r[o].pattern.test(e))return!0}return!1},getCustomElements:q,addValidElements:E,setValidElements:O,addCustomElements:T,addValidChildren:A}},wu=function(){var t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,o=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,i=/\s*([^:]+):\s*([^;]+);?/g,u=/\s+$/,a={};r&&(t=r.getValidStyles(),e=r.getInvalidStyles());for(var c="\\\" \\' \\; \\: ; : \ufeff".split(" "),s=0;s<c.length;s++)a[c[s]]="\ufeff"+s,a["\ufeff"+s]=c[s];var f={parse:function(t){var e,r,c,s={},l=!1,d=n.url_converter,m=n.url_converter_scope||f,p=function(t,e,n){var r=s[t+"-top"+e];if(r){var o=s[t+"-right"+e];if(o){var i=s[t+"-bottom"+e];if(i){var u=s[t+"-left"+e];if(u){for(var a=[r,o,i,u],c=a.length-1;c--&&a[c]===a[c+1];);c>-1&&n||(s[t+e]=-1===c?a[0]:a.join(" "),delete s[t+"-top"+e],delete s[t+"-right"+e],delete s[t+"-bottom"+e],delete s[t+"-left"+e])}}}}},g=function(t){var e=s[t];if(e){for(var n=e.split(" "),r=n.length;r--;)if(n[r]!==n[0])return!1;return s[t]=n[0],!0}},v=function(t){return l=!0,a[t]},h=function(t,e){return l&&(t=t.replace(/\uFEFF[0-9]/g,(function(t){return a[t]}))),e||(t=t.replace(/\\([\'\";:])/g,"$1")),t},b=function(t){return String.fromCharCode(parseInt(t.slice(1),16))},y=function(t){return t.replace(/\\[0-9a-f]+/gi,b)},x=function(t,e,r,o,i,u){if(i=i||u)return"'"+(i=h(i)).replace(/\'/g,"\\'")+"'";if(e=h(e||r||o||""),!n.allow_script_urls){var a=e.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(a))return"";if(!n.allow_svg_data_urls&&/^data:image\/svg/i.test(a))return""}return d&&(e=d.call(m,e,"style")),"url('"+e.replace(/\'/g,"\\'")+"')"};if(t){var w;for(t=(t=t.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,v).replace(/\"[^\"]+\"|\'[^\']+\'/g,(function(t){return t.replace(/[;:]/g,v)}));w=i.exec(t);){i.lastIndex=w.index+w[0].length;var C=w[1].replace(u,"").toLowerCase(),S=w[2].replace(u,"");if(C&&S){if(C=y(C),S=y(S),-1!==C.indexOf("\ufeff")||-1!==C.indexOf('"'))continue;if(!n.allow_script_urls&&("behavior"===C||/expression\s*\(|\/\*|\*\//.test(S)))continue;"font-weight"===C&&"700"===S?S="bold":"color"!==C&&"background-color"!==C||(S=S.toLowerCase()),S=S.replace(o,x),s[C]=l?h(S,!0):S}}p("border","",!0),p("border","-width"),p("border","-color"),p("border","-style"),p("padding",""),p("margin",""),r="border-style",c="border-color",g(e="border-width")&&g(r)&&g(c)&&(s.border=s[e]+" "+s[r]+" "+s[c],delete s[e],delete s[r],delete s[c]),"medium none"===s.border&&delete s.border,"none"===s["border-image"]&&delete s["border-image"]}return s},serialize:function(n,r){var o="",i=function(t,e){var r=e[t];if(r)for(var i=0,u=r.length;i<u;i++){var a=r[i],c=n[a];c&&(o+=(o.length>0?" ":"")+a+": "+c+";")}};return r&&t?(i("*",t),i(r,t)):Tt(n,(function(t,n){t&&function(t,n){if(!e||!n)return!0;var r=e["*"];return!(r&&r[t]||(r=e[n],r&&r[t]))}(n,r)&&(o+=(o.length>0?" ":"")+n+": "+t+";")})),o}};return f},Cu={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},Su=function(t,e){var n=null!=e?e:{};for(var r in t)Lt(Cu,r)||(n[r]=t[r]);return M(t.composedPath)&&(n.composedPath=function(){return t.composedPath()}),n},ku=function(t,e,n,r){var o,i=Su(e,r);return i.type=t,B(i.target)&&(i.target=null!==(o=i.srcElement)&&void 0!==o?o:n),function(t){return B(t.preventDefault)||function(t){return t instanceof Event||I(t.initEvent)}(t)}(e)&&(i.preventDefault=function(){i.defaultPrevented=!0,i.isDefaultPrevented=X,I(e.preventDefault)&&e.preventDefault()},i.stopPropagation=function(){i.cancelBubble=!0,i.isPropagationStopped=X,I(e.stopPropagation)&&e.stopPropagation()},i.stopImmediatePropagation=function(){i.isImmediatePropagationStopped=X,i.stopPropagation()},function(t){return t.isDefaultPrevented===X||t.isDefaultPrevented===Y}(i)||(i.isDefaultPrevented=!0===i.defaultPrevented?X:Y,i.isPropagationStopped=!0===i.cancelBubble?X:Y,i.isImmediatePropagationStopped=Y)),i},_u=/^(?:mouse|contextmenu)|click/,Eu=function(t,e,n,r){t.addEventListener(e,n,r||!1)},Ou=function(t,e,n,r){t.removeEventListener(e,n,r||!1)},Tu=function(t,e){var n=ku(t.type,t,document,e);if(function(t){return M(t)&&_u.test(t.type)}(t)&&D(t.pageX)&&!D(t.clientX)){var r=n.target.ownerDocument||document,o=r.documentElement,i=r.body,u=n;u.pageX=t.clientX+(o&&o.scrollLeft||i&&i.scrollLeft||0)-(o&&o.clientLeft||i&&i.clientLeft||0),u.pageY=t.clientY+(o&&o.scrollTop||i&&i.scrollTop||0)-(o&&o.clientTop||i&&i.clientTop||0)}return n},Au=function(t,e,n){var r=t.document,o={type:"ready"};if(n.domLoaded)e(o);else{var i=function r(){Ou(t,"DOMContentLoaded",r),Ou(t,"load",r),n.domLoaded||(n.domLoaded=!0,e(o)),t=null};"complete"===r.readyState||"interactive"===r.readyState&&r.body?i():Eu(t,"DOMContentLoaded",i),n.domLoaded||Eu(t,"load",i)}},Ru=function(){function t(){d(this,t),this.domLoaded=!1,this.events={},this.count=1,this.expando="mce-data-"+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}return m(t,[{key:"bind",value:function(t,e,n,r){var o,i,u=this,a=window,c=function(t){u.executeHandlers(Tu(t||a.event),i)};if(!t||co(t)||lo(t))return n;t[u.expando]?i=t[u.expando]:(i=u.count++,t[u.expando]=i,u.events[i]={}),r=r||t;for(var s=e.split(" "),f=s.length;f--;){var l=s[f],d=c,m=!1,p=!1;"DOMContentLoaded"===l&&(l="ready"),u.domLoaded&&"ready"===l&&"complete"===t.readyState?n.call(r,Tu({type:l})):(u.hasFocusIn||"focusin"!==l&&"focusout"!==l||(m=!0,p="focusin"===l?"focus":"blur",d=function(t){var e=Tu(t||a.event);e.type="focus"===e.type?"focusin":"focusout",u.executeHandlers(e,i)}),o=u.events[i][l],o?"ready"===l&&u.domLoaded?n(Tu({type:l})):o.push({func:n,scope:r}):(u.events[i][l]=o=[{func:n,scope:r}],o.fakeName=p,o.capture=m,o.nativeHandler=d,"ready"===l?Au(t,d,u):Eu(t,p||l,d,m)))}return t=o=null,n}},{key:"unbind",value:function(t,e,n){if(!t||co(t)||lo(t))return this;var r=t[this.expando];if(r){var o=this.events[r];if(e)for(var i=e.split(" "),u=i.length;u--;){var a=i[u],c=o[a];if(c){if(n)for(var s=c.length;s--;)if(c[s].func===n){var f=c.nativeHandler,l=c.fakeName,d=c.capture,m=c.slice(0,s).concat(c.slice(s+1));m.nativeHandler=f,m.fakeName=l,m.capture=d,o[a]=m}n&&0!==c.length||(delete o[a],Ou(t,c.fakeName||a,c.nativeHandler,c.capture))}}else Tt(o,(function(e,n){Ou(t,e.fakeName||n,e.nativeHandler,e.capture)})),o={};for(var p in o)if(Lt(o,p))return this;delete this.events[r];try{delete t[this.expando]}catch(e){t[this.expando]=null}}return this}},{key:"fire",value:function(t,e,n){return this.dispatch(t,e,n)}},{key:"dispatch",value:function(t,e,n){if(!t||co(t)||lo(t))return this;var r=Tu({type:e,target:t},n);do{var o=t[this.expando];o&&this.executeHandlers(r,o),t=t.parentNode||t.ownerDocument||t.defaultView||t.parentWindow}while(t&&!r.isPropagationStopped());return this}},{key:"clean",value:function(t){if(!t||co(t)||lo(t))return this;if(t[this.expando]&&this.unbind(t),t.getElementsByTagName||(t=t.document),t&&t.getElementsByTagName){this.unbind(t);for(var e=t.getElementsByTagName("*"),n=e.length;n--;)(t=e[n])[this.expando]&&this.unbind(t)}return this}},{key:"destroy",value:function(){this.events={}}},{key:"cancel",value:function(t){return t&&(t.preventDefault(),t.stopImmediatePropagation()),!1}},{key:"executeHandlers",value:function(t,e){var n=this.events[e],r=n&&n[t.type];if(r)for(var o=0,i=r.length;o<i;o++){var u=r[o];if(u&&!1===u.func.call(u.scope,t)&&t.preventDefault(),t.isImmediatePropagationStopped())return}}}]),t}();Ru.Event=new Ru;var Nu=Ge.each,Du=Ge.grep,Bu="data-mce-style",Mu=Ge.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),Iu=function(t,e,n){B(n)||""===n?vn(t,e):ln(t,e,n)},Pu=function(t){return t.replace(/[A-Z]/g,(function(t){return"-"+t.toLowerCase()}))},Lu=function(t,e){var n=0;if(t)for(var r=t.nodeType,o=t.previousSibling;o;o=o.previousSibling){var i=o.nodeType;(!e||!co(o)||i!==r&&o.data.length)&&(n++,r=i)}return n},Fu=function(t,e){var n=mn(e,"style"),r=t.serialize(t.parse(n),en(e));Iu(e,Bu,r)},ju=function(t,e,n){var r=Pu(e);B(n)||""===n?kr(t,r):br(t,r,function(t,e){return P(t)?Lt(Mu,e)?t+"":t+"px":t}(n,r))},zu=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={},o=window,i={},u=0,a=Wi.forElement(Nn(e),{contentCssCors:n.contentCssCors,referrerPolicy:n.referrerPolicy}),c=[],s=n.schema?n.schema:xu({}),l=wu({url_converter:n.url_converter,url_converter_scope:n.url_converter_scope},n.schema),d=n.ownEvents?new Ru:Ru.Event,m=s.getBlockElements(),p=function(t){return t&&e&&E(t)?e.getElementById(t):t},g=function(t){var e=p(t);return M(e)?Nn(e):null},v=function(t,e){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=g(t);if(M(o)&&on(o)){var i=K[e];n=i&&i.get?i.get(o.dom,e):mn(o,e)}return M(n)?n:r},h=function(t){var e=p(t);return B(e)?[]:e.attributes},b=function(t,e,r){O(t,(function(t){if(Zr(t)){var o=Nn(t),i=""===r?null:r,u=mn(o,e),a=K[e];a&&a.set?a.set(o.dom,i,e):Iu(o,e,i),u!==i&&n.onSetAttrib&&n.onSetAttrib({attrElm:o.dom,attrName:e,attrValue:i})}}))},y=function(){return n.root_element||e.body},x=function(t,n){return function(t,e,n){var r=0,o=0,i=t.ownerDocument;if(n=n||t,e){if(n===t&&e.getBoundingClientRect&&"static"===xr(Nn(t),"position")){var u=e.getBoundingClientRect();return r=u.left+(i.documentElement.scrollLeft||t.scrollLeft)-i.documentElement.clientLeft,o=u.top+(i.documentElement.scrollTop||t.scrollTop)-i.documentElement.clientTop,{x:r,y:o}}for(var a=e;a&&a!==n&&a.nodeType&&!Hi(a,n);){var c=a;r+=c.offsetLeft||0,o+=c.offsetTop||0,a=c.offsetParent}for(a=e.parentNode;a&&a!==n&&a.nodeType&&!Hi(a,n);)r-=a.scrollLeft||0,o-=a.scrollTop||0,a=a.parentNode;o+=function(t){return zi.isFirefox()&&"table"===en(t)?Ui(Kn(t)).filter((function(t){return"caption"===en(t)})).bind((function(t){return Ui(Gn(t)).map((function(e){var n=e.dom.offsetTop,r=t.dom.offsetTop,o=t.dom.offsetHeight;return n<=r?-o:0}))})).getOr(0):0}(Nn(e))}return{x:r,y:o}}(e.body,p(t),n)},w=function(t,e,n){var r=p(t);if(!B(r)&&Zr(r))return n?xr(Nn(r),Pu(e)):("float"===(e=e.replace(/-(\D)/g,(function(t,e){return e.toUpperCase()})))&&(e="cssFloat"),r.style?r.style[e]:void 0)},C=function(t){var e=p(t);if(!e)return{w:0,h:0};var n=w(e,"width"),r=w(e,"height");return n&&-1!==n.indexOf("px")||(n="0"),r&&-1!==r.indexOf("px")||(r="0"),{w:parseInt(n,10)||e.offsetWidth||e.clientWidth,h:parseInt(r,10)||e.offsetHeight||e.clientHeight}},S=function(t,e){if(!t)return!1;var n=A(t)?t:[t];return rt(n,(function(t){return Mn(Nn(t),e)}))},k=function(t,e,n,r){var o=[],i=p(t);r=void 0===r;var u=n||("BODY"!==y().nodeName?y().parentNode:null);if(E(e))if("*"===e)e=Zr;else{var a=e;e=function(t){return S(t,a)}}for(;i&&!(i===u||B(i.nodeType)||mo(i)||po(i));){if(!e||e(i)){if(!r)return[i];o.push(i)}i=i.parentNode}return r?o:null},_=function(t,e,n){var r=e;if(t){E(e)&&(r=function(t){return S(t,e)});for(var o=t[n];o;o=o[n])if(I(r)&&r(o))return o}return null},O=function(t,e,n){var r=null!=n?n:this;if(A(t)){var o=[];return Nu(t,(function(t,n){var i=p(t);i&&o.push(e.call(r,i,n))})),o}var i=p(t);return!!i&&e.call(r,i)},T=function(t,e){O(t,(function(t){Tt(e,(function(e,n){b(t,n,e)}))}))},R=function(t,e){O(t,(function(t){var n=Nn(t);Pr(n,e)}))},N=function(t,n,r,o,i){return O(t,(function(t){var u=E(n)?e.createElement(n):n;return M(r)&&T(u,r),o&&(!E(o)&&o.nodeType?u.appendChild(o):E(o)&&R(u,o)),i?u:t.appendChild(u)}))},D=function(t,n,r){return N(e.createElement(t),t,n,r,!0)},P=au.encodeAllRaw,L=function(t,e){return O(t,(function(t){var n=Nn(t);return e&&it(Kn(n),(function(t){un(t)&&0===t.dom.length?Dr(t):_r(n,t)})),Dr(n),n.dom}))},j=function(t,e,n){O(t,(function(t){if(Zr(t)){var r=Nn(t),o=e.split(" ");it(o,(function(t){M(n)?(n?Sn:_n)(r,t):function(t,e){yn(t)?t.dom.classList.toggle(e):function(t,e){nt(xn(t),e)?Cn(t,e):wn(t,e)}(t,e);kn(t)}(r,t)}))}}))},z=function(t,e,n){return O(e,(function(r){var o,i=A(e)?t.cloneNode(!0):t;return n&&Nu(Du(r.childNodes),(function(t){i.appendChild(t)})),null===(o=r.parentNode)||void 0===o||o.replaceChild(i,r),r}))},H=function(t){if(Zr(t)){var e="a"===t.nodeName.toLowerCase()&&!v(t,"href")&&v(t,"id");if(v(t,"name")||v(t,"data-mce-bookmark")||e)return!0}return!1},V=function(){return e.createRange()},W=function t(r,i,u,a){if(A(r)){for(var s=r.length,f=[];s--;)f[s]=t(r[s],i,u,a);return f}return!n.collect||r!==e&&r!==o||c.push([r,i,u,a]),d.bind(r,i,u,a||G)},$=function t(n,r,i){if(A(n)){for(var u=n.length,a=[];u--;)a[u]=t(n[u],r,i);return a}if(c.length>0&&(n===e||n===o))for(var s=c.length;s--;){var l=f(c[s],3),m=l[0],p=l[1],g=l[2];n!==m||r&&r!==p||i&&i!==g||d.unbind(m,p,g)}return d.unbind(n,r,i)},q=function(t){if(t&&Zr(t)){var e=t.getAttribute("data-mce-contenteditable");return e&&"inherit"!==e?e:"inherit"!==t.contentEditable?t.contentEditable:null}return null},G={doc:e,settings:n,win:o,files:i,stdMode:!0,boxModel:!0,styleSheetLoader:a,boundEvents:c,styles:l,schema:s,events:d,isBlock:function(t){return E(t)?Lt(m,t):Zr(t)&&(Lt(m,t.nodeName)||Li(s,t))},root:null,clone:function(t,e){return t.cloneNode(e)},getRoot:y,getViewPort:function(t){var e=qr(t);return{x:e.x,y:e.y,w:e.width,h:e.height}},getRect:function(t){var e=p(t),n=x(e),r=C(e);return{x:n.x,y:n.y,w:r.w,h:r.h}},getSize:C,getParent:function(t,e,n){var r=k(t,e,n,!1);return r&&r.length>0?r[0]:null},getParents:k,get:p,getNext:function(t,e){return _(t,e,"nextSibling")},getPrev:function(t,e){return _(t,e,"previousSibling")},select:function(t,r){var o,i,u=null!==(i=null!==(o=p(r))&&void 0!==o?o:n.root_element)&&void 0!==i?i:e;return I(u.querySelectorAll)?kt(u.querySelectorAll(t)):[]},is:S,add:N,create:D,createHTML:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r="<"+t;for(var o in e)Ft(e,o)&&(r+=" "+o+'="'+P(e[o])+'"');return se(n)&&Lt(s.getVoidElements(),t)?r+" />":r+">"+n+"</"+t+">"},createFragment:function(t){var n,r=e.createElement("div"),o=e.createDocumentFragment();for(o.appendChild(r),t&&(r.innerHTML=t);n=r.firstChild;)o.appendChild(n);return o.removeChild(r),o},remove:L,setStyle:function(t,e,r){O(t,(function(t){var o=Nn(t);ju(o,e,r),n.update_styles&&Fu(l,o)}))},getStyle:w,setStyles:function(t,e){O(t,(function(t){var r=Nn(t);Tt(e,(function(t,e){ju(r,e,t)})),n.update_styles&&Fu(l,r)}))},removeAllAttribs:function(t){return O(t,(function(t){for(var e=t.attributes,n=e.length-1;n>=0;n--)t.removeAttributeNode(e.item(n))}))},setAttrib:b,setAttribs:T,getAttrib:v,getPos:x,parseStyle:function(t){return l.parse(t)},serializeStyle:function(t,e){return l.serialize(t,e)},addStyle:function(n){if(G!==t.DOM&&e===document){if(r[n])return;r[n]=!0}var o=e.getElementById("mceDefaultStyles");if(!o){o=e.createElement("style"),o.id="mceDefaultStyles",o.type="text/css";var i=e.head;i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o)}o.styleSheet?o.styleSheet.cssText+=n:o.appendChild(e.createTextNode(n))},loadCSS:function(t){t||(t=""),it(t.split(","),(function(t){i[t]=!0,a.load(t).catch(F)}))},addClass:function(t,e){j(t,e,!0)},removeClass:function(t,e){j(t,e,!1)},hasClass:function(t,e){var n=g(t),r=e.split(" ");return M(n)&&vt(r,(function(t){return En(n,t)}))},toggleClass:j,show:function(t){O(t,(function(t){return kr(Nn(t),"display")}))},hide:function(t){O(t,(function(t){return br(Nn(t),"display","none")}))},isHidden:function(t){var e=g(t);return M(e)&&Ke(Cr(e,"display"),"none")},uniqueId:function(t){return(t||"mce_")+u++},setHTML:R,getOuterHTML:function(t){var e=g(t);return M(e)?Zr(e.dom)?e.dom.outerHTML:function(t){var e=An("div"),n=Nn(t.dom.cloneNode(!0));return Tr(e,n),Ir(e)}(e):""},setOuterHTML:function(t,e){O(t,(function(t){Zr(t)&&(t.outerHTML=e)}))},decode:au.decode,encode:P,insertAfter:function(t,e){var n=p(e);return O(t,(function(t){var e=null==n?void 0:n.parentNode,r=null==n?void 0:n.nextSibling;return e&&(r?e.insertBefore(t,r):e.appendChild(t)),t}))},replace:z,rename:function(t,e){if(t.nodeName!==e.toUpperCase()){var n=D(e);return Nu(h(t),(function(e){b(n,e.nodeName,v(t,e.nodeName))})),z(n,t,!0),n}return t},findCommonAncestor:function(t,e){for(var n=t;n;){for(var r=e;r&&n!==r;)r=r.parentNode;if(n===r)break;n=n.parentNode}return!n&&t.ownerDocument?t.ownerDocument.documentElement:n},run:O,getAttribs:h,isEmpty:function(t,e){var n=0;if(H(t))return!1;var r=t.firstChild;if(r){var o=new Xr(r,t),i=s?s.getWhitespaceElements():{},u=e||(s?s.getNonEmptyElements():null),a=r;do{if(Zr(a)){var c=a.getAttribute("data-mce-bogus");if(c){a=o.next("all"===c);continue}var f=a.nodeName.toLowerCase();if(u&&u[f]){if("br"===f){n++,a=o.next();continue}return!1}if(H(a))return!1}if(lo(a))return!1;if(co(a)&&!bi(a.data))return!1;if(co(a)&&a.parentNode&&i[a.parentNode.nodeName]&&bi(a.data))return!1;a=o.next()}while(a)}return n<=1},createRng:V,nodeIndex:Lu,split:function(t,e,n){var r,o,i=V();if(t&&e&&t.parentNode&&e.parentNode){var u=t.parentNode;return i.setStart(u,Lu(t)),i.setEnd(e.parentNode,Lu(e)),r=i.extractContents(),i=V(),i.setStart(e.parentNode,Lu(e)+1),i.setEnd(u,Lu(t)+1),o=i.extractContents(),u.insertBefore(Gi(G,r),t),n?u.insertBefore(n,t):u.insertBefore(e,t),u.insertBefore(Gi(G,o),t),L(t),n||e}},bind:W,unbind:$,fire:function(t,e,n){return d.dispatch(t,e,n)},dispatch:function(t,e,n){return d.dispatch(t,e,n)},getContentEditable:q,getContentEditableParent:function(t){for(var e=y(),n=null,r=t;r&&r!==e&&(n=q(r),null===n);r=r.parentNode);return n},isEditable:function(t){if(M(t)){var e=Zr(t)?t:t.parentElement,n="true"===q(y());return M(e)&&pr(Nn(e),n)}return!1},destroy:function(){if(c.length>0)for(var t=c.length;t--;){var e=f(c[t],3),n=e[0],r=e[1],o=e[2];d.unbind(n,r,o)}Tt(i,(function(t,e){a.unload(e),delete i[e]}))},isChildOf:function(t,e){return t===e||e.contains(t)},dumpRng:function(t){return"startContainer: "+t.startContainer.nodeName+", startOffset: "+t.startOffset+", endContainer: "+t.endContainer.nodeName+", endOffset: "+t.endOffset}},K=function(t,e,n){var r=e.keep_values,o={set:function(t,r,o){var i=Nn(t);I(e.url_converter)&&M(r)&&(r=e.url_converter.call(e.url_converter_scope||n(),String(r),o,t)),Iu(i,"data-mce-"+o,r),Iu(i,o,r)},get:function(t,e){var n=Nn(t);return mn(n,"data-mce-"+e)||mn(n,e)}},i={style:{set:function(e,n){var o=Nn(e);r&&Iu(o,Bu,n),vn(o,"style"),E(n)&&yr(o,t.parse(n))},get:function(e){var n=Nn(e),r=mn(n,Bu)||mn(n,"style");return t.serialize(t.parse(r),en(n))}}};return r&&(i.href=i.src=o),i}(l,n,U(G));return G};zu.DOM=zu(document),zu.nodeIndex=Lu;var Uu=zu.DOM,Hu=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};d(this,t),this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=e}return m(t,[{key:"_setReferrerPolicy",value:function(t){this.settings.referrerPolicy=t}},{key:"loadScript",value:function(t){var e=this;return new Promise((function(n,r){var o,i=Uu,u=function(){i.remove(a),o&&(o.onerror=o.onload=o=null)},a=i.uniqueId();o=document.createElement("script"),o.id=a,o.type="text/javascript",o.src=Ge._addCacheSuffix(t),e.settings.referrerPolicy&&i.setAttrib(o,"referrerpolicy",e.settings.referrerPolicy),o.onload=function(){u(),n()},o.onerror=function(){u(),r("Failed to load script: "+t)},(document.getElementsByTagName("head")[0]||document.body).appendChild(o)}))}},{key:"isDone",value:function(t){return 2===this.states[t]}},{key:"markDone",value:function(t){this.states[t]=2}},{key:"add",value:function(t){var e=this;return e.queue.push(t),void 0===e.states[t]&&(e.states[t]=0),new Promise((function(n,r){e.scriptLoadedCallbacks[t]||(e.scriptLoadedCallbacks[t]=[]),e.scriptLoadedCallbacks[t].push({resolve:n,reject:r})}))}},{key:"load",value:function(t){return this.add(t)}},{key:"remove",value:function(t){delete this.states[t],delete this.scriptLoadedCallbacks[t]}},{key:"loadQueue",value:function(){var t=this.queue;return this.queue=[],this.loadScripts(t)}},{key:"loadScripts",value:function(t){var e=this,n=function(t,n){Pt(e.scriptLoadedCallbacks,n).each((function(e){it(e,(function(e){return e[t](n)}))})),delete e.scriptLoadedCallbacks[n]},r=function(t){var e=ct(t,(function(t){return"rejected"===t.status}));return e.length>0?Promise.reject(gt(e,(function(t){var e=t.reason;return A(e)?e:[e]}))):Promise.resolve()},o=function t(o){return Promise.allSettled(ot(o,(function(o){return 2===e.states[o]?(n("resolve",o),Promise.resolve()):3===e.states[o]?(n("reject",o),Promise.reject(o)):(e.states[o]=1,e.loadScript(o).then((function(){e.states[o]=2,n("resolve",o);var i=e.queue;return i.length>0?(e.queue=[],t(i).then(r)):Promise.resolve()}),(function(){return e.states[o]=3,n("reject",o),Promise.reject(o)})))})))},i=function(t){return e.loading=!0,o(t).then((function(t){e.loading=!1;var n=e.queueLoadedCallbacks.shift();return J.from(n).each(K),r(t)}))},u=jt(t);return e.loading?new Promise((function(t,n){e.queueLoadedCallbacks.push((function(){return i(u).then(t,n)}))})):i(u)}}]),t}();Hu.ScriptLoader=new Hu;var Vu=function(t){var e=t;return{get:function(){return e},set:function(t){e=t}}},Wu={},$u=Vu("en"),qu=function(){return Pt(Wu,$u.get())},Gu={getData:function(){return At(Wu,(function(t){return s({},t)}))},setCode:function(t){t&&$u.set(t)},getCode:function(){return $u.get()},add:function(t,e){var n=Wu[t];n||(Wu[t]=n={}),Tt(e,(function(t,e){n[e.toLowerCase()]=t}))},translate:function(t){var e,n=qu().getOr({}),r=function(t){return I(t)?Object.prototype.toString.call(t):o(t)?"":""+t},o=function(t){return""===t||null==t},i=function(t){var e=r(t);return Pt(n,e.toLowerCase()).map(r).getOr(e)},u=function(t){return t.replace(/{context:\w+}$/,"")};if(o(t))return"";if(O(e=t)&&Lt(e,"raw"))return r(t.raw);if(function(t){return A(t)&&t.length>1}(t)){var a=t.slice(1);return u(i(t[0]).replace(/\{([0-9]+)\}/g,(function(t,e){return Lt(a,e)?r(a[e]):t})))}return u(i(t))},isRtl:function(){return qu().bind((function(t){return Pt(t,"_dir")})).exists((function(t){return"rtl"===t}))},hasCode:function(t){return Lt(Wu,t)}},Ku=function t(){var e=[],n={},r={},o=[],i=function(t,e){var n=ct(o,(function(n){return n.name===t&&n.state===e}));it(n,(function(t){return t.resolve()}))},u=function(t){return Lt(n,t)},a=function(t,e){var r=Gu.getCode();!r||e&&-1===(","+(e||"")+",").indexOf(","+r+",")||Hu.ScriptLoader.add(n[t]+"/langs/"+r+".js")},c=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"added";return"added"===e&&function(t){return Lt(r,t)}(t)||"loaded"===e&&u(t)?Promise.resolve():new Promise((function(n){o.push({name:t,state:e,resolve:n})}))};return{items:e,urls:n,lookup:r,get:function(t){if(r[t])return r[t].instance},requireLangPack:function(e,n){!1!==t.languageLoad&&(u(e)?a(e,n):c(e,"loaded").then((function(){return a(e,n)})))},add:function(t,n){return e.push(n),r[t]={instance:n},i(t,"added"),n},remove:function(t){delete n[t],delete r[t]},createUrl:function(t,e){return E(e)?E(t)?{prefix:"",resource:e,suffix:""}:{prefix:t.prefix,resource:e,suffix:t.suffix}:e},load:function(e,o){if(n[e])return Promise.resolve();var u=E(o)?o:o.prefix+o.resource+o.suffix;0!==u.indexOf("/")&&-1===u.indexOf("://")&&(u=t.baseURL+"/"+u),n[e]=u.substring(0,u.lastIndexOf("/"));var a=function(){return i(e,"loaded"),Promise.resolve()};return r[e]?a():Hu.ScriptLoader.add(u).then(a)},waitFor:c}};Ku.languageLoad=!0,Ku.baseURL="",Ku.PluginManager=Ku(),Ku.ThemeManager=Ku(),Ku.ModelManager=Ku();var Yu=function(t){var e=Vu(J.none()),n=function(){return e.get().each((function(t){return clearInterval(t)}))};return{clear:function(){n(),e.set(J.none())},isSet:function(){return e.get().isSome()},get:function(){return e.get()},set:function(r){n(),e.set(J.some(setInterval(r,t)))}}},Xu=function(){var t=function(t){var e=Vu(J.none()),n=function(){return e.get().each(t)};return{clear:function(){n(),e.set(J.none())},isSet:function(){return e.get().isSome()},get:function(){return e.get()},set:function(t){n(),e.set(J.some(t))}}}(F);return s(s({},t),{},{on:function(e){return t.get().each(e)}})},Ju=function(t,e){var n=null;return{cancel:function(){R(n)||(clearTimeout(n),n=null)},throttle:function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];R(n)&&(n=setTimeout((function(){n=null,t.apply(null,o)}),e))}}},Qu=function(t,e){var n=null,r=function(){R(n)||(clearTimeout(n),n=null)};return{cancel:r,throttle:function(){for(var o=arguments.length,i=new Array(o),u=0;u<o;u++)i[u]=arguments[u];r(),n=setTimeout((function(){n=null,t.apply(null,i)}),e)}}},Zu=U("mce-annotation"),ta=U("data-mce-annotation"),ea=U("data-mce-annotation-uid"),na=U("data-mce-annotation-active"),ra=U("data-mce-annotation-classes"),oa=U("data-mce-annotation-attrs"),ia=function(t){return function(e){return Pn(e,t)}},ua=function(t,e){var n=t.selection.getRng(),r=Nn(n.startContainer),o=Nn(t.getBody()),i=e.fold((function(){return"."+Zu()}),(function(t){return"[".concat(ta(),'="').concat(t,'"]')})),u=Yn(r,n.startOffset).getOr(r);return mr(u,i,ia(o)).bind((function(e){return pn(e,"".concat(ea())).bind((function(n){return pn(e,"".concat(ta())).map((function(e){var r=ca(t,n);return{uid:n,name:e,elements:r}}))}))}))},aa=function(t,e){return gn(t,"data-mce-bogus")||Yr(t,'[data-mce-bogus="all"]',ia(e))},ca=function(t,e){var n=Nn(t.getBody()),r=Kr(n,"[".concat(ea(),'="').concat(e,'"]'));return ct(r,(function(t){return!aa(t,n)}))},sa=function(t,e){var n=Nn(t.getBody()),r=Kr(n,"[".concat(ta(),'="').concat(e,'"]')),o={};return it(r,(function(t){if(!aa(t,n)){var e=mn(t,ea()),r=Pt(o,e).getOr([]);o[e]=r.concat([t])}})),o},fa=0,la=function(t){var e=(new Date).getTime(),n=Math.floor(1e9*Math.random());return fa++,t+"_"+n+fa+String(e)},da=function(t,e){return Nn(t.dom.cloneNode(e))},ma=function(t){return da(t,!1)},pa=function(t){return da(t,!0)},ga=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Y,r=new Xr(t,e),o=function(t){var e;do{e=r[t]()}while(e&&!co(e)&&!n(e));return J.from(e).filter(co)};return{current:function(){return J.from(r.current()).filter(co)},next:function(){return o("next")},prev:function(){return o("prev")},prev2:function(){return o("prev2")}}},va=function(t,e){var n=e||function(e){return t.isBlock(e)||go(e)||bo(e)},r=function t(e,n,r,o){if(co(e)){var i=o(e,n,e.data);if(-1!==i)return J.some({container:e,offset:i})}return r().bind((function(e){return t(e.container,e.offset,r,o)}))};return{backwards:function(e,o,i,u){var a=ga(e,null!=u?u:t.getRoot(),n);return r(e,o,(function(){return a.prev().map((function(t){return{container:t,offset:t.length}}))}),i).getOrNull()},forwards:function(e,o,i,u){var a=ga(e,null!=u?u:t.getRoot(),n);return r(e,o,(function(){return a.next().map((function(t){return{container:t,offset:0}}))}),i).getOrNull()}}},ha=Math.round,ba=function(t){return t?{left:ha(t.left),top:ha(t.top),bottom:ha(t.bottom),right:ha(t.right),width:ha(t.width),height:ha(t.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}},ya=function(t,e){return t=ba(t),e||(t.left=t.left+t.width),t.right=t.left,t.width=0,t},xa=function(t,e,n){return t>=0&&t<=Math.min(e.height,n.height)/2},wa=function(t,e){var n=Math.min(e.height/2,t.height/2);return t.bottom-n<e.top||!(t.top>e.bottom)&&xa(e.top-t.bottom,t,e)},Ca=function(t,e){return t.top>e.bottom||!(t.bottom<e.top)&&xa(e.bottom-t.top,t,e)},Sa=function(t,e,n){var r=Math.max(Math.min(e,t.left+t.width),t.left),o=Math.max(Math.min(n,t.top+t.height),t.top);return Math.sqrt((e-r)*(e-r)+(n-o)*(n-o))},ka=function(t){var e=t.startContainer,n=t.startOffset;return e===t.endContainer&&e.hasChildNodes()&&t.endOffset===n+1?e.childNodes[n]:null},_a=function(t,e){if(Zr(t)&&t.hasChildNodes()){var n=t.childNodes,r=function(t,e,n){return Math.min(Math.max(t,0),n)}(e,0,n.length-1);return n[r]}return t},Ea=new RegExp("[Ì-Í¯Ò-ÒÒ-ÒÖ-Ö½Ö¿×-××-××Ø-ØÙ-ÙÙ°Û-ÛÛ-Û¤Û§-Û¨Ûª-Û­ÜÜ°-ÝÞ¦-Þ°ß«-ß³à -à à -à £à ¥-à §à ©-à ­à¡-à¡à££-à¤à¤ºà¤¼à¥-à¥à¥à¥-à¥à¥¢-à¥£à¦à¦¼à¦¾à§-à§à§à§à§¢-à§£à¨-à¨à¨¼à©-à©à©-à©à©-à©à©à©°-à©±à©µàª-àªàª¼à«-à«à«-à«à«à«¢-à«£à¬à¬¼à¬¾à¬¿à­-à­à­à­à­à­¢-à­£à®à®¾à¯à¯à¯à°à°¾-à±à±-à±à±-à±à±-à±à±¢-à±£à²à²¼à²¿à³à³à³-à³à³-à³à³¢-à³£à´à´¾àµ-àµàµàµàµ¢-àµ£à·à·à·-à·à·à·à¸±à¸´-à¸ºà¹-à¹àº±àº´-àº¹àº»-àº¼à»-à»à¼-à¼à¼µà¼·à¼¹à½±-à½¾à¾-à¾à¾-à¾à¾-à¾à¾-à¾¼à¿á­-á°á²-á·á¹-áºá½-á¾á-áá-á á±-á´áá-áááá-áá-áá²-á´á-áá²-á³á´-áµá·-á½áá-ááá -á á¢©á¤ -á¤¢á¤§-á¤¨á¤²á¤¹-á¤»á¨-á¨á¨á©á©-á©á© á©¢á©¥-á©¬á©³-á©¼á©¿áª°-áª½áª¾á¬-á¬á¬´á¬¶-á¬ºá¬¼á­á­«-á­³á®-á®á®¢-á®¥á®¨-á®©á®«-á®­á¯¦á¯¨-á¯©á¯­á¯¯-á¯±á°¬-á°³á°¶-á°·á³-á³á³-á³ á³¢-á³¨á³­á³´á³¸-á³¹á·-á·µá·¼-á·¿â-ââ-ââ-â â¡â¢-â¤â¥-â°â³¯-â³±âµ¿â· -â·¿ãª-ã­ã®-ã¯ã-ãê¯ê°-ê²ê´-ê½ê-êê°-ê±ê ê ê ê ¥-ê ¦ê£ê£ -ê£±ê¤¦-ê¤­ê¥-ê¥ê¦-ê¦ê¦³ê¦¶-ê¦¹ê¦¼ê§¥ê¨©-ê¨®ê¨±-ê¨²ê¨µ-ê¨¶ê©ê©ê©¼êª°êª²-êª´êª·-êª¸êª¾-êª¿ê«ê«¬-ê«­ê«¶ê¯¥ê¯¨ê¯­ï¬ï¸-ï¸ï¸ -ï¸¯ï¾-ï¾]"),Oa=function(t){return E(t)&&t.charCodeAt(0)>=768&&Ea.test(t)},Ta=Zr,Aa=pi,Ra=no("display","block table"),Na=no("float","left right"),Da=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){for(var n=0;n<e.length;n++)if(!e[n](t))return!1;return!0}}(Ta,Aa,$(Na)),Ba=$(no("white-space","pre pre-line pre-wrap")),Ma=co,Ia=go,Pa=zu.nodeIndex,La=function(t,e){return e<0&&Zr(t)&&t.hasChildNodes()?void 0:_a(t,e)},Fa=function(t){return t?t.createRange():zu.DOM.createRng()},ja=function(t){return E(t)&&/[\r\n\t ]/.test(t)},za=function(t){return!!t.setStart&&!!t.setEnd},Ua=function(t){var e=t.startContainer,n=t.startOffset;if(ja(t.toString())&&Ba(e.parentNode)&&co(e)){var r=e.data;if(ja(r[n-1])||ja(r[n+1]))return!0}return!1},Ha=function(t){return 0===t.left&&0===t.right&&0===t.top&&0===t.bottom},Va=function t(e){var n,r,o=e.getClientRects();return r=o.length>0?ba(o[0]):ba(e.getBoundingClientRect()),!za(e)&&Ia(e)&&Ha(r)?function(t){var e=t.ownerDocument,n=Fa(e),r=e.createTextNode(ko),o=t.parentNode;o.insertBefore(r,t),n.setStart(r,0),n.setEnd(r,1);var i=ba(n.getBoundingClientRect());return o.removeChild(r),i}(e):Ha(r)&&za(e)&&null!==(n=function(e){var n=e.startContainer,r=e.endContainer,o=e.startOffset,i=e.endOffset;if(n===r&&co(r)&&0===o&&1===i){var u=e.cloneRange();return u.setEndAfter(r),t(u)}return null}(e))&&void 0!==n?n:r},Wa=function(t,e){var n=ya(t,e);return n.width=1,n.right=n.left+1,n},$a=function t(e,n,r){var o=function(){return r||(r=function(t){var e=[],n=function(t){var n,r;0!==t.height&&(e.length>0&&(n=t,r=e[e.length-1],n.left===r.left&&n.top===r.top&&n.bottom===r.bottom&&n.right===r.right)||e.push(t))},r=function(t,e){var r=Fa(t.ownerDocument);if(e<t.data.length){if(Oa(t.data[e]))return;if(Oa(t.data[e-1])&&(r.setStart(t,e),r.setEnd(t,e+1),!Ua(r)))return void n(Wa(Va(r),!1))}e>0&&(r.setStart(t,e-1),r.setEnd(t,e),Ua(r)||n(Wa(Va(r),!1))),e<t.data.length&&(r.setStart(t,e),r.setEnd(t,e+1),Ua(r)||n(Wa(Va(r),!0)))},o=t.container(),i=t.offset();if(Ma(o))return r(o,i),e;if(Ta(o))if(t.isAtEnd()){var u=La(o,i);Ma(u)&&r(u,u.data.length),Da(u)&&!Ia(u)&&n(Wa(Va(u),!1))}else{var a=La(o,i);if(Ma(a)&&r(a,0),Da(a)&&t.isAtEnd())return n(Wa(Va(a),!1)),e;var c=La(t.container(),t.offset()-1);Da(c)&&!Ia(c)&&(Ra(c)||Ra(a)||!Da(a))&&n(Wa(Va(c),!1)),Da(a)&&n(Wa(Va(a),!0))}return e}(t(e,n))),r};return{container:U(e),offset:U(n),toRange:function(){var t=Fa(e.ownerDocument);return t.setStart(e,n),t.setEnd(e,n),t},getClientRects:o,isVisible:function(){return o().length>0},isAtStart:function(){return Ma(e),0===n},isAtEnd:function(){return Ma(e)?n>=e.data.length:n>=e.childNodes.length},isEqual:function(t){return t&&e===t.container()&&n===t.offset()},getNode:function(t){return La(e,t?n-1:n)}}};$a.fromRangeStart=function(t){return $a(t.startContainer,t.startOffset)},$a.fromRangeEnd=function(t){return $a(t.endContainer,t.endOffset)},$a.after=function(t){return $a(t.parentNode,Pa(t)+1)},$a.before=function(t){return $a(t.parentNode,Pa(t))},$a.isAbove=function(t,e){return Ye(Ct(e.getClientRects()),St(t.getClientRects()),wa).getOr(!1)},$a.isBelow=function(t,e){return Ye(St(e.getClientRects()),Ct(t.getClientRects()),Ca).getOr(!1)},$a.isAtStart=function(t){return!!t&&t.isAtStart()},$a.isAtEnd=function(t){return!!t&&t.isAtEnd()},$a.isTextPosition=function(t){return!!t&&co(t.container())},$a.isElementPosition=function(t){return!$a.isTextPosition(t)};var qa=function(t,e){co(e)&&0===e.data.length&&t.remove(e)},Ga=function(t,e,n){po(n)?function(t,e,n){var r=J.from(n.firstChild),o=J.from(n.lastChild);e.insertNode(n),r.each((function(e){return qa(t,e.previousSibling)})),o.each((function(e){return qa(t,e.nextSibling)}))}(t,e,n):function(t,e,n){e.insertNode(n),qa(t,n.previousSibling),qa(t,n.nextSibling)}(t,e,n)},Ka=co,Ya=oo,Xa=zu.nodeIndex,Ja=function t(e){var n=e.parentNode;return Ya(n)?t(n):n},Qa=function t(e){return e?$t(e.childNodes,(function(e,n){return Ya(n)&&"BR"!==n.nodeName?e=e.concat(t(n)):e.push(n),e}),[]):[]},Za=function(t){return function(e){return t===e}},tc=function(t){return(Ka(t)?"text()":t.nodeName.toLowerCase())+"["+function(t){var e,n;e=Qa(Ja(t)),n=qt(e,Za(t),t),e=e.slice(0,n+1);var r=$t(e,(function(t,n,r){return Ka(n)&&Ka(e[r-1])&&t++,t}),0);return e=Wt(e,eo([t.nodeName])),n=qt(e,Za(t),t),n-r}(t)+"]"},ec=function(t,e){var n,r=[],o=e.container(),i=e.offset();if(Ka(o))n=function(t,e){for(var n=t;(n=n.previousSibling)&&Ka(n);)e+=n.data.length;return e}(o,i);else{var u=o.childNodes;i>=u.length?(n="after",i=u.length-1):n="before",o=u[i]}r.push(tc(o));var a=function(t,e,n){for(var r=[],o=e.parentNode;o&&o!==t;o=o.parentNode)r.push(o);return r}(t,o);return a=Wt(a,$(oo)),r=r.concat(Vt(a,(function(t){return tc(t)}))),r.reverse().join("/")+","+n},nc=function(t,e){if(!e)return null;var n,r=e.split(","),o=r[0].split("/"),i=r.length>1?r[1]:"before",u=$t(o,(function(t,e){var n=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(e);return n?("text()"===n[1]&&(n[1]="#text"),function(t,e,n){var r=Qa(t);return r=Wt(r,(function(t,e){return!Ka(t)||!Ka(r[e-1])})),r=Wt(r,eo([e])),r[n]}(t,n[1],parseInt(n[2],10))):null}),t);return u?!Ka(u)&&u.parentNode?(n="after"===i?Xa(u)+1:Xa(u),$a(u.parentNode,n)):function(t,e){for(var n=t,r=0;Ka(n);){var o=n.data.length;if(e>=r&&e<=r+o){t=n,e-=r;break}if(!Ka(n.nextSibling)){t=n,e=o;break}r+=o,n=n.nextSibling}return Ka(t)&&e>t.data.length&&(e=t.data.length),$a(t,e)}(u,parseInt(i,10)):null},rc=bo,oc=function(t,e,n,r,o){var i=o?r.startContainer:r.endContainer,u=o?r.startOffset:r.endOffset,a=[],c=t.getRoot();if(co(i))a.push(n?function(t,e,n){for(var r=t(e.data.slice(0,n)).length,o=e.previousSibling;o&&co(o);o=o.previousSibling)r+=t(o.data).length;return r}(e,i,u):u);else{var s=0,f=i.childNodes;u>=f.length&&f.length&&(s=1,u=Math.max(0,f.length-1)),a.push(t.nodeIndex(f[u],n)+s)}for(var l=i;l&&l!==c;l=l.parentNode)a.push(t.nodeIndex(l,n));return a},ic=function(t,e,n){var r=0;return Ge.each(t.select(e),(function(t){return"all"===t.getAttribute("data-mce-bogus")?void 0:t!==n&&void r++})),r},uc=function(t,e){var n=e?t.startContainer:t.endContainer,r=e?t.startOffset:t.endOffset;if(Zr(n)&&"TR"===n.nodeName){var o=n.childNodes;n=o[Math.min(e?r:r-1,o.length-1)],n&&(r=e?0:n.childNodes.length,e?t.setStart(n,r):t.setEnd(n,r))}},ac=function(t){return uc(t,!0),uc(t,!1),t},cc=function(t,e){if(Zr(t)&&(t=_a(t,e),rc(t)))return t;if(Qo(t)){co(t)&&Xo(t)&&(t=t.parentNode);var n=t.previousSibling;if(rc(n))return n;if(n=t.nextSibling,rc(n))return n}},sc=function(t,e,n){var r=n.getNode(),o=n.getRng();if("IMG"===r.nodeName||rc(r)){var i=r.nodeName;return{name:i,index:ic(n.dom,i,r)}}var u=function(t){return cc(t.startContainer,t.startOffset)||cc(t.endContainer,t.endOffset)}(o);if(u){var a=u.tagName;return{name:a,index:ic(n.dom,a,u)}}return function(t,e,n,r){var o=e.dom,i=oc(o,t,n,r,!0),u=e.isForward(),a=ii(r)?{isFakeCaret:!0}:{};return e.isCollapsed()?s({start:i,forward:u},a):s({start:i,end:oc(o,t,n,r,!1),forward:u},a)}(t,n,e,o)},fc=function(t,e,n){var r={"data-mce-type":"bookmark",id:e,style:"overflow:hidden;line-height:0px"};return n?t.create("span",r,"&#xFEFF;"):t.create("span",r)},lc=function(t,e){var n=t.dom,r=t.getRng(),o=n.uniqueId(),i=t.isCollapsed(),u=t.getNode(),a=u.nodeName,c=t.isForward();if("IMG"===a)return{name:a,index:ic(n,a,u)};var s=ac(r.cloneRange());if(!i){s.collapse(!1);var f=fc(n,o+"_end",e);Ga(n,s,f)}r=ac(r),r.collapse(!0);var l=fc(n,o+"_start",e);return Ga(n,r,l),t.moveToBookmark({id:o,keep:!0,forward:c}),{id:o,forward:c}},dc=W(sc,H,!0),mc=function(t){var e=function(e){return e(t)},n=U(t),r=function(){return o},o={tag:!0,inner:t,fold:function(e,n){return n(t)},isValue:X,isError:Y,map:function(e){return gc.value(e(t))},mapError:r,bind:e,exists:e,forall:e,getOr:n,or:r,getOrThunk:n,orThunk:r,getOrDie:n,each:function(e){e(t)},toOptional:function(){return J.some(t)}};return o},pc=function(t){var e=function(){return n},n={tag:!1,inner:t,fold:function(e,n){return e(t)},isValue:Y,isError:X,map:e,mapError:function(e){return gc.error(e(t))},bind:e,exists:Y,forall:X,getOr:H,or:H,getOrThunk:G,orThunk:G,getOrDie:q(String(t)),each:F,toOptional:J.none};return n},gc={value:mc,error:pc,fromOption:function(t,e){return t.fold((function(){return pc(e)}),mc)}},vc=function(t){if(!A(t))throw new Error("cases must be an array");if(0===t.length)throw new Error("there must be at least one case");var e=[],n={};return it(t,(function(r,o){var i=Et(r);if(1!==i.length)throw new Error("one and only one name per case");var u=i[0],a=r[u];if(void 0!==n[u])throw new Error("duplicate key detected:"+u);if("cata"===u)throw new Error("cannot have a case named cata (sorry)");if(!A(a))throw new Error("case arguments must be an array");e.push(u),n[u]=function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var c=r.length;if(c!==a.length)throw new Error("Wrong number of arguments to case "+u+". Expected "+a.length+" ("+a+"), got "+c);return{fold:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];if(n.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+n.length);return n[o].apply(null,r)},match:function(t){var n=Et(t);if(e.length!==n.length)throw new Error("Wrong number of arguments to match. Expected: "+e.join(",")+"\nActual: "+n.join(","));if(!vt(e,(function(t){return nt(n,t)})))throw new Error("Not all branches were specified when using match. Specified: "+n.join(", ")+"\nRequired: "+e.join(", "));return t[u].apply(null,r)},log:function(t){console.log(t,{constructors:e,constructor:u,params:r})}}}})),n};vc([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var hc,bc=function(t){return"inline-command"===t.type||"inline-format"===t.type},yc=function(t){return"block-command"===t.type||"block-format"===t.type},xc=function(t){var e=function(e){return gc.error({message:e,pattern:t})},n=function(n,r,o){if(void 0!==t.format){var i;if(A(t.format)){if(!vt(t.format,E))return e(n+" pattern has non-string items in the `format` array");i=t.format}else{if(!E(t.format))return e(n+" pattern has non-string `format` parameter");i=[t.format]}return gc.value(r(i))}return void 0!==t.cmd?E(t.cmd)?gc.value(o(t.cmd,t.value)):e(n+" pattern has non-string `cmd` parameter"):e(n+" pattern is missing both `format` and `cmd` parameters")};if(!O(t))return e("Raw pattern is not an object");if(!E(t.start))return e("Raw pattern is missing `start` parameter");if(void 0!==t.end){if(!E(t.end))return e("Inline pattern has non-string `end` parameter");if(0===t.start.length&&0===t.end.length)return e("Inline pattern has empty `start` and `end` parameters");var r=t.start,o=t.end;return 0===o.length&&(o=r,r=""),n("Inline",(function(t){return{type:"inline-format",start:r,end:o,format:t}}),(function(t,e){return{type:"inline-command",start:r,end:o,cmd:t,value:e}}))}return void 0!==t.replacement?E(t.replacement)?0===t.start.length?e("Replacement pattern has empty `start` parameter"):gc.value({type:"inline-command",start:"",end:t.start,cmd:"mceInsertContent",value:t.replacement}):e("Replacement pattern has non-string `replacement` parameter"):0===t.start.length?e("Block pattern has empty `start` parameter"):n("Block",(function(e){return{type:"block-format",start:t.start,format:e[0]}}),(function(e,n){return{type:"block-command",start:t.start,cmd:e,value:n}}))},wc=function(t){return ct(t,yc)},Cc=function(t){return ct(t,bc)},Sc=function(t){var e=function(t){var e=[],n=[];return it(t,(function(t){t.fold((function(t){e.push(t)}),(function(t){n.push(t)}))})),{errors:e,values:n}}(ot(t,xc));return it(e.errors,(function(t){return console.error(t.message,t.pattern)})),e.values},kc=Pe().deviceType,_c=kc.isTouch(),Ec=zu.DOM,Oc=function(t){return _(t,RegExp)},Tc=function(t){return function(e){return e.options.get(t)}},Ac=function(t){return E(t)||O(t)},Rc=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(n){var r=E(n);if(r){if(-1!==n.indexOf("=")){var o=function(t){var e=t.indexOf("=")>0?t.split(/[;,](?![^=;,]*(?:[;,]|$))/):t.split(",");return ft(e,(function(t,e){var n=e.split("="),r=n[0],o=n.length>1?n[1]:r;return t[ie(r)]=ie(o),t}),{})}(n);return{value:Pt(o,t.id).getOr(e),valid:r}}return{value:n,valid:r}}return{valid:!1,message:"Must be a string."}}},Nc=Tc("iframe_attrs"),Dc=Tc("doctype"),Bc=Tc("document_base_url"),Mc=Tc("body_id"),Ic=Tc("body_class"),Pc=Tc("content_security_policy"),Lc=Tc("br_in_pre"),Fc=Tc("forced_root_block"),jc=Tc("forced_root_block_attrs"),zc=Tc("newline_behavior"),Uc=Tc("br_newline_selector"),Hc=Tc("no_newline_selector"),Vc=Tc("keep_styles"),Wc=Tc("end_container_on_empty_block"),$c=Tc("automatic_uploads"),qc=Tc("images_reuse_filename"),Gc=Tc("images_replace_blob_uris"),Kc=Tc("icons"),Yc=Tc("icons_url"),Xc=Tc("images_upload_url"),Jc=Tc("images_upload_base_path"),Qc=Tc("images_upload_credentials"),Zc=Tc("images_upload_handler"),ts=Tc("content_css_cors"),es=Tc("referrer_policy"),ns=Tc("language"),rs=Tc("language_url"),os=Tc("indent_use_margin"),is=Tc("indentation"),us=Tc("content_css"),as=Tc("content_style"),cs=Tc("font_css"),ss=Tc("directionality"),fs=Tc("inline_boundaries_selector"),ls=Tc("object_resizing"),ds=Tc("resize_img_proportional"),ms=Tc("placeholder"),ps=Tc("event_root"),gs=Tc("service_message"),vs=Tc("theme"),hs=Tc("theme_url"),bs=Tc("model"),ys=Tc("model_url"),xs=Tc("inline_boundaries"),ws=Tc("formats"),Cs=Tc("preview_styles"),Ss=Tc("format_empty_lines"),ks=Tc("format_noneditable_selector"),_s=Tc("custom_ui_selector"),Es=Tc("inline"),Os=Tc("hidden_input"),Ts=Tc("submit_patch"),As=Tc("add_form_submit_trigger"),Rs=Tc("add_unload_trigger"),Ns=Tc("custom_undo_redo_levels"),Ds=Tc("disable_nodechange"),Bs=Tc("readonly"),Ms=Tc("content_css_cors"),Is=Tc("plugins"),Ps=Tc("external_plugins"),Ls=Tc("block_unsupported_drop"),Fs=Tc("visual"),js=Tc("visual_table_class"),zs=Tc("visual_anchor_class"),Us=Tc("iframe_aria_text"),Hs=Tc("setup"),Vs=Tc("init_instance_callback"),Ws=Tc("urlconverter_callback"),$s=Tc("auto_focus"),qs=Tc("browser_spellcheck"),Gs=Tc("protect"),Ks=Tc("paste_block_drop"),Ys=Tc("paste_data_images"),Xs=Tc("paste_preprocess"),Js=Tc("paste_postprocess"),Qs=Tc("paste_webkit_styles"),Zs=Tc("paste_remove_styles_if_webkit"),tf=Tc("paste_merge_formats"),ef=Tc("smart_paste"),nf=Tc("paste_as_text"),rf=Tc("paste_tab_spaces"),of=Tc("allow_html_data_urls"),uf=Tc("text_patterns"),af=Tc("text_patterns_lookup"),cf=Tc("noneditable_class"),sf=Tc("editable_class"),ff=Tc("noneditable_regexp"),lf=Tc("preserve_cdata"),df=Tc("highlight_on_focus"),mf=Tc("xss_sanitization"),pf=function(t){return Ge.explode(t.options.get("images_file_types"))},gf=Tc("table_tab_navigation"),vf=Zr,hf=co,bf=function(t){var e=t.parentNode;e&&e.removeChild(t)},yf=function(t){var e=Go(t);return{count:t.length-e.length,text:e}},xf=function(t){for(var e;-1!==(e=t.data.lastIndexOf($o));)t.deleteData(e,1)},wf=function(t,e){return Sf(t),e},Cf=function(t,e){return $a.isTextPosition(e)?function(t,e){return hf(t)&&e.container()===t?function(t,e){var n=yf(t.data.substr(0,e.offset())),r=yf(t.data.substr(e.offset()));return(n.text+r.text).length>0?(xf(t),$a(t,e.offset()-n.count)):e}(t,e):wf(t,e)}(t,e):function(t,e){return e.container()===t.parentNode?function(t,e){var n=e.container(),r=function(t,e){var n=et(t,e);return-1===n?J.none():J.some(n)}(kt(n.childNodes),t).map((function(t){return t<e.offset()?$a(n,e.offset()-1):e})).getOr(e);return Sf(t),r}(t,e):wf(t,e)}(t,e)},Sf=function(t){vf(t)&&Qo(t)&&(Zo(t)?t.removeAttribute("data-mce-caret"):bf(t)),hf(t)&&(xf(t),0===t.data.length&&bf(t))},kf=bo,_f=wo,Ef=yo,Of=function(t,e,n){var r,o,i=ya(e.getBoundingClientRect(),n);if("BODY"===t.tagName){var u=t.ownerDocument.documentElement;r=t.scrollLeft||u.scrollLeft,o=t.scrollTop||u.scrollTop}else{var a=t.getBoundingClientRect();r=t.scrollLeft-a.left,o=t.scrollTop-a.top}i.left+=r,i.right+=r,i.top+=o,i.bottom+=o,i.width=1;var c=e.offsetWidth-e.clientWidth;return c>0&&(n&&(c*=-1),i.left+=c,i.right+=c),i},Tf=function(t,e,n,r){var o,i,u=Xu(),a=Fc(t),c=t.dom,f=function(){(function(t){for(var e,n,r=Kr(Nn(t),"*[contentEditable=false],video,audio,embed,object"),o=0;o<r.length;o++){var i=r[o].dom,u=i.previousSibling;if(ri(u)){var a=u.data;1===a.length?null===(e=u.parentNode)||void 0===e||e.removeChild(u):u.deleteData(a.length-1,1)}u=i.nextSibling,ni(u)&&(1===u.data.length?null===(n=u.parentNode)||void 0===n||n.removeChild(u):u.deleteData(0,1))}})(e),i&&(Sf(i),i=null),u.on((function(t){c.remove(t.caret),u.clear()})),o&&(clearInterval(o),o=void 0)};return{show:function(t,l){var d;if(f(),Ef(l))return null;if(!n(l))return i=function(t,e){var n,r=(null!==(n=t.ownerDocument)&&void 0!==n?n:document).createTextNode($o),o=t.parentNode;if(e){var i=t.previousSibling;if(Yo(i)){if(Qo(i))return i;if(ri(i))return i.splitText(i.data.length-1)}null==o||o.insertBefore(r,t)}else{var u=t.nextSibling;if(Yo(u)){if(Qo(u))return u;if(ni(u))return u.splitText(1),u}t.nextSibling?null==o||o.insertBefore(r,t.nextSibling):null==o||o.appendChild(r)}return r}(l,t),d=l.ownerDocument.createRange(),Rf(i.nextSibling)?(d.setStart(i,0),d.setEnd(i,0)):(d.setStart(i,1),d.setEnd(i,1)),d;var m=function(t,e,n){var r,o=(null!==(r=e.ownerDocument)&&void 0!==r?r:document).createElement(t);o.setAttribute("data-mce-caret",n?"before":"after"),o.setAttribute("data-mce-bogus","all"),o.appendChild(Ho().dom);var i=e.parentNode;return n?null==i||i.insertBefore(o,e):e.nextSibling?null==i||i.insertBefore(o,e.nextSibling):null==i||i.appendChild(o),o}(a,l,t),p=Of(e,l,t);c.setStyle(m,"top",p.top),i=m;var g=c.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});return c.setStyles(g,s({},p)),c.add(e,g),u.set({caret:g,element:l,before:t}),t&&c.addClass(g,"mce-visual-caret-before"),o=setInterval((function(){u.on((function(t){r()?c.toggleClass(t.caret,"mce-visual-caret-hidden"):c.addClass(t.caret,"mce-visual-caret-hidden")}))}),500),d=l.ownerDocument.createRange(),d.setStart(m,0),d.setEnd(m,0),d},hide:f,getCss:function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"},reposition:function(){u.on((function(t){var n=Of(e,t.element,t.before);c.setStyles(t.caret,s({},n))}))},destroy:function(){return clearInterval(o)}}},Af=function(){return Ve.browser.isFirefox()},Rf=function(t){return kf(t)||_f(t)},Nf=function(t){return(Rf(t)||io(t)&&Af())&&Hn(Nn(t)).exists(pr)},Df=ho,Bf=bo,Mf=wo,If=no("display","block table table-cell table-caption list-item"),Pf=Qo,Lf=Xo,Ff=Zr,jf=co,zf=pi,Uf=function(t){return t>0},Hf=function(t){return t<0},Vf=function(t,e){for(var n;n=t(e);)if(!Lf(n))return n;return null},Wf=function(t,e,n,r,o){var i,u=new Xr(t,r),a=Bf(t)||Lf(t);if(Hf(e)){if(a&&(i=Vf(u.prev.bind(u),!0),n(i)))return i;for(;i=Vf(u.prev.bind(u),o);)if(n(i))return i}if(Uf(e)){if(a&&(i=Vf(u.next.bind(u),!0),n(i)))return i;for(;i=Vf(u.next.bind(u),o);)if(n(i))return i}return null},$f=function(t,e){for(;t&&t!==e;){if(If(t))return t;t=t.parentNode}return null},qf=function(t,e,n){return $f(t.container(),n)===$f(e.container(),n)},Gf=function(t,e){if(!e)return J.none();var n=e.container(),r=e.offset();return Ff(n)?J.from(n.childNodes[r+t]):J.none()},Kf=function(t,e){var n,r=(null!==(n=e.ownerDocument)&&void 0!==n?n:document).createRange();return t?(r.setStartBefore(e),r.setEndBefore(e)):(r.setStartAfter(e),r.setEndAfter(e)),r},Yf=function(t,e,n){return $f(e,t)===$f(n,t)},Xf=function(t,e,n){for(var r=t?"previousSibling":"nextSibling",o=n;o&&o!==e;){var i=o[r];if(i&&Pf(i)&&(i=i[r]),Bf(i)||Mf(i)){if(Yf(e,i,o))return i;break}if(zf(i))break;o=o.parentNode}return null},Jf=W(Kf,!0),Qf=W(Kf,!1),Zf=function(t,e,n){var r,o=W(Xf,!0,e),i=W(Xf,!1,e),u=n.startContainer,a=n.startOffset;if(Xo(u)){var c=jf(u)?u.parentNode:u,s=c.getAttribute("data-mce-caret");if("before"===s&&(r=c.nextSibling,Nf(r)))return Jf(r);if("after"===s&&(r=c.previousSibling,Nf(r)))return Qf(r)}if(!n.collapsed)return n;if(co(u)){if(Pf(u)){if(1===t){if(r=i(u),r)return Jf(r);if(r=o(u),r)return Qf(r)}if(-1===t){if(r=o(u),r)return Qf(r);if(r=i(u),r)return Jf(r)}return n}if(ri(u)&&a>=u.data.length-1)return 1===t&&(r=i(u),r)?Jf(r):n;if(ni(u)&&a<=1)return-1===t&&(r=o(u),r)?Qf(r):n;if(a===u.data.length)return r=i(u),r?Jf(r):n;if(0===a)return r=o(u),r?Qf(r):n}return n},tl=function(t,e){return Gf(t?0:-1,e).filter(Bf)},el=function(t,e,n){var r=Zf(t,e,n);return-1===t?$a.fromRangeStart(r):$a.fromRangeEnd(r)},nl=function(t){return J.from(t.getNode()).map(Nn)},rl=function(t,e){for(var n=e;n=t(n);)if(n.isVisible())return n;return n},ol=function(t,e){var n=qf(t,e);return!(n||!go(t.getNode()))||n};!function(t){t[t.Backwards=-1]="Backwards",t[t.Forwards=1]="Forwards"}(hc||(hc={}));var il=bo,ul=co,al=Zr,cl=go,sl=pi,fl=function(t){return li(t)||function(t){return!!gi(t)&&!ft(kt(t.getElementsByTagName("*")),(function(t,e){return t||ui(e)}),!1)}(t)},ll=vi,dl=function(t,e){return t.hasChildNodes()&&e<t.childNodes.length?t.childNodes[e]:null},ml=function(t,e){if(Uf(t)){if(sl(e.previousSibling)&&!ul(e.previousSibling))return $a.before(e);if(ul(e))return $a(e,0)}if(Hf(t)){if(sl(e.nextSibling)&&!ul(e.nextSibling))return $a.after(e);if(ul(e))return $a(e,e.data.length)}return Hf(t)?cl(e)?$a.before(e):$a.after(e):$a.before(e)},pl=function t(e,n,r){var o,i,u,a;if(!al(r)||!n)return null;if(n.isEqual($a.after(r))&&r.lastChild){if(a=$a.after(r.lastChild),Hf(e)&&sl(r.lastChild)&&al(r.lastChild))return cl(r.lastChild)?$a.before(r.lastChild):a}else a=n;var c=a.container(),s=a.offset();if(ul(c)){if(Hf(e)&&s>0)return $a(c,--s);if(Uf(e)&&s<c.length)return $a(c,++s);o=c}else{if(Hf(e)&&s>0&&(i=dl(c,s-1),sl(i)))return!fl(i)&&(u=Wf(i,e,ll,i),u)?ul(u)?$a(u,u.data.length):$a.after(u):ul(i)?$a(i,i.data.length):$a.before(i);if(Uf(e)&&s<c.childNodes.length&&(i=dl(c,s),sl(i)))return cl(i)?function(e,n){var r=n.nextSibling;return r&&sl(r)?ul(r)?$a(r,0):$a.before(r):t(hc.Forwards,$a.after(n),e)}(r,i):!fl(i)&&(u=Wf(i,e,ll,i),u)?ul(u)?$a(u,0):$a.before(u):ul(i)?$a(i,0):$a.after(i);o=i||a.getNode()}if(o&&(Uf(e)&&a.isAtEnd()||Hf(e)&&a.isAtStart())&&(o=Wf(o,e,X,r,!0),ll(o,r)))return ml(e,o);i=o?Wf(o,e,ll,r):o;var f=Gt(ct(function(t,e){for(var n=[],r=t;r&&r!==e;)n.push(r),r=r.parentNode;return n}(c,r),il));return!f||i&&f.contains(i)?i?ml(e,i):null:(a=Uf(e)?$a.after(f):$a.before(f),a)},gl=function(t){return{next:function(e){return pl(hc.Forwards,e,t)},prev:function(e){return pl(hc.Backwards,e,t)}}},vl=function(t){return $a.isTextPosition(t)?0===t.offset():pi(t.getNode())},hl=function(t){if($a.isTextPosition(t)){var e=t.container();return t.offset()===e.data.length}return pi(t.getNode(!0))},bl=function(t,e){return!$a.isTextPosition(t)&&!$a.isTextPosition(e)&&t.getNode()===e.getNode(!0)},yl=function(t,e,n){var r=gl(e);return J.from(t?r.next(n):r.prev(n))},xl=function(t,e,n){return yl(t,e,n).bind((function(r){return qf(n,r,e)&&function(t,e,n){return t?!bl(e,n)&&(r=e,!(!$a.isTextPosition(r)&&go(r.getNode())))&&hl(e)&&vl(n):!bl(n,e)&&vl(e)&&hl(n);var r}(t,n,r)?yl(t,e,r):J.some(r)}))},wl=function t(e,n,r,o){return xl(e,n,r).bind((function(r){return o(r)?t(e,n,r,o):J.some(r)}))},Cl=function(t,e){var n,r=t?e.firstChild:e.lastChild;return co(r)?J.some($a(r,t?0:r.data.length)):r?pi(r)?J.some(t?$a.before(r):go(n=r)?$a.before(n):$a.after(n)):function(t,e,n){var r=t?$a.before(n):$a.after(n);return yl(t,e,r)}(t,e,r):J.none()},Sl=W(yl,!0),kl=W(yl,!1),_l=W(Cl,!0),El=W(Cl,!1),Ol="_mce_caret",Tl=function(t){return Zr(t)&&t.id===Ol},Al=function(t,e){for(var n=e;n&&n!==t;){if(Tl(n))return n;n=n.parentNode}return null},Rl=function(t){return Lt(t,"name")},Nl=function(t){return Ge.isArray(t.start)},Dl=function(t){return!(!Rl(t)&&N(t.forward))||t.forward},Bl=function(t,e){return Zr(e)&&t.isBlock(e)&&!e.innerHTML&&(e.innerHTML='<br data-mce-bogus="1" />'),e},Ml=function(t,e){return El(t).fold(Y,(function(t){return e.setStart(t.container(),t.offset()),e.setEnd(t.container(),t.offset()),!0}))},Il=function(t,e,n){return!(!function(t){return!t.hasChildNodes()}(e)||!Al(t,e)||(function(t,e){var n,r=(null!==(n=t.ownerDocument)&&void 0!==n?n:document).createTextNode($o);t.appendChild(r),e.setStart(r,0),e.setEnd(r,0)}(e,n),0))},Pl=function(t,e,n,r){var o=n[e?"start":"end"],i=t.getRoot();if(o){for(var u=i,a=o[0],c=o.length-1;u&&c>=1;c--){var s=u.childNodes;if(Il(i,u,r))return!0;if(o[c]>s.length-1)return!!Il(i,u,r)||Ml(u,r);u=s[o[c]]}co(u)&&(a=Math.min(o[0],u.data.length)),Zr(u)&&(a=Math.min(o[0],u.childNodes.length)),e?r.setStart(u,a):r.setEnd(u,a)}return!0},Ll=function(t){return co(t)&&t.data.length>0},Fl=function(t,e,n){var r=t.get(n.id+"_"+e),o=null==r?void 0:r.parentNode,i=n.keep;if(r&&o){var u,a;if("start"===e?i?r.hasChildNodes()?(u=r.firstChild,a=1):Ll(r.nextSibling)?(u=r.nextSibling,a=0):Ll(r.previousSibling)?(u=r.previousSibling,a=r.previousSibling.data.length):(u=o,a=t.nodeIndex(r)+1):(u=o,a=t.nodeIndex(r)):i?r.hasChildNodes()?(u=r.firstChild,a=1):Ll(r.previousSibling)?(u=r.previousSibling,a=r.previousSibling.data.length):(u=o,a=t.nodeIndex(r)):(u=o,a=t.nodeIndex(r)),!i){var c,s=r.previousSibling,f=r.nextSibling;for(Ge.each(Ge.grep(r.childNodes),(function(t){co(t)&&(t.data=t.data.replace(/\uFEFF/g,""))}));c=t.get(n.id+"_"+e);)t.remove(c,!0);if(co(f)&&co(s)&&!Ve.browser.isOpera()){var l=s.data.length;s.appendData(f.data),t.remove(f),u=s,a=l}}return J.some($a(u,a))}return J.none()},jl=function(t,e,n){return function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return 2===e?sc(Go,n,t):3===e?function(t){var e=t.getRng();return{start:ec(t.dom.getRoot(),$a.fromRangeStart(e)),end:ec(t.dom.getRoot(),$a.fromRangeEnd(e)),forward:t.isForward()}}(t):e?function(t){return{rng:t.getRng(),forward:t.isForward()}}(t):lc(t,!1)}(t,e,n)},zl=function(t,e){(function(t,e){var n=t.dom;if(e){if(Nl(e))return function(t,e){var n=t.createRng();return Pl(t,!0,e,n)&&Pl(t,!1,e,n)?J.some({range:n,forward:Dl(e)}):J.none()}(n,e);if(function(t){return E(t.start)}(e))return function(t,e){var n=J.from(nc(t.getRoot(),e.start)),r=J.from(nc(t.getRoot(),e.end));return Ye(n,r,(function(n,r){var o=t.createRng();return o.setStart(n.container(),n.offset()),o.setEnd(r.container(),r.offset()),{range:o,forward:Dl(e)}}))}(n,e);if(function(t){return Lt(t,"id")}(e))return function(t,e){var n=Fl(t,"start",e),r=Fl(t,"end",e);return Ye(n,r.or(n),(function(n,r){var o=t.createRng();return o.setStart(Bl(t,n.container()),n.offset()),o.setEnd(Bl(t,r.container()),r.offset()),{range:o,forward:Dl(e)}}))}(n,e);if(Rl(e))return function(t,e){return J.from(t.select(e.name)[e.index]).map((function(e){var n=t.createRng();return n.selectNode(e),{range:n,forward:!0}}))}(n,e);if(function(t){return Lt(t,"rng")}(e))return J.some({range:e.rng,forward:Dl(e)})}return J.none()})(t,e).each((function(e){var n=e.range,r=e.forward;t.setRng(n,r)}))},Ul=function(t){return Zr(t)&&"SPAN"===t.tagName&&"bookmark"===t.getAttribute("data-mce-type")},Hl=function(t){return"Â "===t},Vl=function(t){return""!==t&&-1!==" \f\n\r\t\v".indexOf(t)},Wl=function(t){return!Vl(t)&&!Hl(t)&&!_o(t)},$l=function(t){var e=t.toString(16);return(1===e.length?"0"+e:e).toUpperCase()},ql=function(t){return function(t){return{value:(e=t,te(e,"#").toUpperCase())};var e}($l(t.red)+$l(t.green)+$l(t.blue))},Gl=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,Kl=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,Yl=function(t,e,n,r){return{red:t,green:e,blue:n,alpha:r}},Xl=function(t,e,n,r){var o=parseInt(t,10),i=parseInt(e,10),u=parseInt(n,10),a=parseFloat(r);return Yl(o,i,u,a)},Jl=function(t){return function(t){if("transparent"===t)return J.some(Yl(0,0,0,0));var e=Gl.exec(t);if(null!==e)return J.some(Xl(e[1],e[2],e[3],"1"));var n=Kl.exec(t);return null!==n?J.some(Xl(n[1],n[2],n[3],n[4])):J.none()}(t).map(ql).map((function(t){return"#"+t.value})).getOr(t)},Ql=function(t){var e=[];if(t)for(var n=0;n<t.rangeCount;n++)e.push(t.getRangeAt(n));return e},Zl=function(t,e){var n=Kr(e,"td[data-mce-selected],th[data-mce-selected]");return n.length>0?n:function(t){return ct(function(t){return gt(t,(function(t){var e=ka(t);return e?[Nn(e)]:[]}))}(t),Fo)}(t)},td=function(t){return Zl(Ql(t.selection.getSel()),Nn(t.getBody()))},ed=function(t,e){return lr(t,"table",e)},nd=function t(e){return Xn(e).fold(U([e]),(function(n){return[e].concat(t(n))}))},rd=function t(e){return Jn(e).fold(U([e]),(function(n){return"br"===en(n)?Wn(n).map((function(n){return[e].concat(t(n))})).getOr([]):[e].concat(t(n))}))},od=function(t,e){return Ye(function(t){var e=t.startContainer,n=t.startOffset;return co(e)?0===n?J.some(Nn(e)):J.none():J.from(e.childNodes[n]).map(Nn)}(e),function(t){var e=t.endContainer,n=t.endOffset;return co(e)?n===e.data.length?J.some(Nn(e)):J.none():J.from(e.childNodes[n-1]).map(Nn)}(e),(function(e,n){var r=dt(nd(t),W(Pn,e)),o=dt(rd(t),W(Pn,n));return r.isSome()&&o.isSome()})).getOr(!1)},id=function(t,e,n,r){var o=n,i=new Xr(n,o),u=Bt(t.schema.getMoveCaretBeforeOnEnterElements(),(function(t,e){return!nt(["td","th","table"],e.toLowerCase())})),a=n;do{if(co(a)&&0!==Ge.trim(a.data).length)return void(r?e.setStart(a,0):e.setEnd(a,a.data.length));if(u[a.nodeName])return void(r?e.setStartBefore(a):"BR"===a.nodeName?e.setEndBefore(a):e.setEndAfter(a))}while(a=r?i.next():i.prev());"BODY"===o.nodeName&&(r?e.setStart(o,0):e.setEnd(o,o.childNodes.length))},ud=function(t){var e=t.selection.getSel();return M(e)&&e.rangeCount>0},ad=function(t,e){var n=td(t);n.length>0?it(n,(function(n){var r=n.dom,o=t.dom.createRng();o.setStartBefore(r),o.setEndAfter(r),e(o,!0)})):e(t.selection.getRng(),!1)},cd=function(t,e,n){var r=lc(t,e);n(r),t.moveToBookmark(r)},sd=function(t){return P(null==t?void 0:t.nodeType)},fd=function(t){return Zr(t)&&!Ul(t)&&!Tl(t)&&!oo(t)},ld=function(t){return!0===t.isContentEditable},dd=function(t,e,n){var r=t.selection,o=t.dom,i=r.getNode(),u=bo(i);cd(r,!0,(function(){e()})),u&&bo(i)&&o.isChildOf(i,t.getBody())?t.selection.select(i):n(r.getStart())&&md(o,r)},md=function(t,e){var n,r,o=e.getRng(),i=o.startContainer,u=o.startOffset;if(!function(t,e){if(fd(e)&&!/^(TD|TH)$/.test(e.nodeName)){var n=t.getAttrib(e,"data-mce-selected"),r=parseInt(n,10);return!isNaN(r)&&r>0}return!1}(t,e.getNode())&&Zr(i)){var a,c=i.childNodes,s=t.getRoot();if(u<c.length){var f=c[u];a=new Xr(f,null!==(n=t.getParent(f,t.isBlock))&&void 0!==n?n:s)}else{var l=c[c.length-1];a=new Xr(l,null!==(r=t.getParent(l,t.isBlock))&&void 0!==r?r:s),a.next(!0)}for(var d=a.current();d;d=a.next()){if("false"===t.getContentEditable(d))return;if(co(d)&&!hd(d))return o.setStart(d,0),void e.setRng(o)}}},pd=function(t,e,n){if(t){var r=e?"nextSibling":"previousSibling";for(t=n?t:t[r];t;t=t[r])if(Zr(t)||!hd(t))return t}},gd=function(t,e){return!!t.getTextBlockElements()[e.nodeName.toLowerCase()]||Li(t,e)},vd=function(t,e,n){return t.schema.isValidChild(e,n)},hd=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(M(t)&&co(t)){var n=e?t.data.replace(/ /g,"Â "):t.data;return bi(n)}return!1},bd=function(t,e){var n=t.dom;return fd(e)&&"false"===n.getContentEditable(e)&&function(t,e){var n="[data-mce-cef-wrappable]",r=ks(t),o=se(r)?n:"".concat(n,",").concat(r);return Mn(Nn(e),o)}(t,e)&&0===n.select('[contenteditable="true"]',e).length},yd=function(t,e){return I(t)?t(e):(M(e)&&(t=t.replace(/%(\w+)/g,(function(t,n){return e[n]||t}))),t)},xd=function(t,e){return e=e||"",t=""+((t=t||"").nodeName||t),e=""+(e.nodeName||e),t.toLowerCase()===e.toLowerCase()},wd=function(t,e){if(B(t))return null;var n=String(t);return"color"!==e&&"backgroundColor"!==e||(n=Jl(n)),"fontWeight"===e&&700===t&&(n="bold"),"fontFamily"===e&&(n=n.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),n},Cd=function(t,e,n){var r=t.getStyle(e,n);return wd(r,n)},Sd=function(t,e){var n;return t.getParent(e,(function(e){return!!Zr(e)&&(n=t.getStyle(e,"text-decoration"),!!n&&"none"!==n)})),n},kd=function(t,e,n){return t.getParents(e,n,t.getRoot())},_d=function(t,e,n){var r=t.formatter.get(e);return M(r)&&rt(r,n)},Ed=function(t){return Ft(t,"block")},Od=function(t){return Ft(t,"selector")},Td=function(t){return Ft(t,"inline")},Ad=function(t){return Od(t)&&!1!==t.expand&&!Td(t)},Rd=Ul,Nd=kd,Dd=hd,Bd=gd,Md=function(t,e){for(var n=e;n;){if(Zr(n)&&t.getContentEditable(n))return"false"===t.getContentEditable(n)?n:e;n=n.parentNode}return e},Id=function(t,e,n,r){var o=e.data;if(t){for(var i=n;i>0;i--)if(r(o.charAt(i-1)))return i}else for(var u=n;u<o.length;u++)if(r(o.charAt(u)))return u;return-1},Pd=function(t,e,n){return Id(t,e,n,(function(t){return Hl(t)||Vl(t)}))},Ld=function(t,e,n){return Id(t,e,n,Wl)},Fd=function(t,e,n,r,o,i){var u,a=t.getParent(n,t.isBlock)||e,c=function(e,n,r){var i=va(t),c=o?i.backwards:i.forwards;return J.from(c(e,n,(function(t,e){return Rd(t.parentNode)?-1:(u=t,r(o,t,e))}),a))};return c(n,r,Pd).bind((function(t){return i?c(t.container,t.offset+(o?-1:0),Ld):J.some(t)})).orThunk((function(){return u?J.some({container:u,offset:o?0:u.length}):J.none()}))},jd=function(t,e,n,r,o){var i=r[o];co(r)&&se(r.data)&&i&&(r=i);for(var u=Nd(t,r),a=0;a<u.length;a++)for(var c=0;c<e.length;c++){var s=e[c];if((!M(s.collapsed)||s.collapsed===n.collapsed)&&Od(s)&&t.is(u[a],s.selector))return u[a]}return r},zd=function(t,e,n,r){var o,i=n,u=t.getRoot(),a=e[0];if(Ed(a)&&(i=a.wrapper?null:t.getParent(n,a.block,u)),!i){var c=null!==(o=t.getParent(n,"LI,TD,TH"))&&void 0!==o?o:u;i=t.getParent(co(n)?n.parentNode:n,(function(e){return e!==u&&Bd(t.schema,e)}),c)}if(i&&Ed(a)&&a.wrapper&&(i=Nd(t,i,"ul,ol").reverse()[0]||i),!i)for(i=n;i&&i[r]&&!t.isBlock(i[r])&&(i=i[r],!xd(i,"br")););return i||n},Ud=function t(e,n,r,o){var i=r.parentNode;return!M(r[o])&&(!(i!==n&&!B(i)&&!e.isBlock(i))||t(e,n,i,o))},Hd=function(t,e,n,r,o){var i,u=n,a=o?"previousSibling":"nextSibling",c=t.getRoot();if(co(n)&&!Dd(n)&&(o?r>0:r<n.data.length))return n;for(;u;){if(!e[0].block_expand&&t.isBlock(u))return u;for(var s=u[a];s;s=s[a]){var f=co(s)&&!Ud(t,c,s,a);if(!Rd(s)&&(!go(i=s)||!i.getAttribute("data-mce-bogus")||i.nextSibling)&&!Dd(s,f))return u}if(u===c||u.parentNode===c){n=u;break}u=u.parentNode}return n},Vd=function(t){return Rd(t.parentNode)||Rd(t)},Wd=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=e.startContainer,i=e.startOffset,u=e.endContainer,a=e.endOffset,c=n[0];return Zr(o)&&o.hasChildNodes()&&(o=_a(o,i),co(o)&&(i=0)),Zr(u)&&u.hasChildNodes()&&(u=_a(u,e.collapsed?a:a-1),co(u)&&(a=u.data.length)),o=Md(t,o),u=Md(t,u),Vd(o)&&(o=Rd(o)?o:o.parentNode,o=e.collapsed?o.previousSibling||o:o.nextSibling||o,co(o)&&(i=e.collapsed?o.length:0)),Vd(u)&&(u=Rd(u)?u:u.parentNode,u=e.collapsed?u.nextSibling||u:u.previousSibling||u,co(u)&&(a=e.collapsed?0:u.length)),e.collapsed&&(Fd(t,t.getRoot(),o,i,!0,r).each((function(t){var e=t.container,n=t.offset;o=e,i=n})),Fd(t,t.getRoot(),u,a,!1,r).each((function(t){var e=t.container,n=t.offset;u=e,a=n}))),(Td(c)||c.block_expand)&&(Td(c)&&co(o)&&0!==i||(o=Hd(t,n,o,i,!0)),Td(c)&&co(u)&&a!==u.data.length||(u=Hd(t,n,u,a,!1))),Ad(c)&&(o=jd(t,n,e,o,"previousSibling"),u=jd(t,n,e,u,"nextSibling")),(Ed(c)||Od(c))&&(o=zd(t,n,o,"previousSibling"),u=zd(t,n,u,"nextSibling"),Ed(c)&&(t.isBlock(o)||(o=Hd(t,n,o,i,!0)),t.isBlock(u)||(u=Hd(t,n,u,a,!1)))),Zr(o)&&o.parentNode&&(i=t.nodeIndex(o),o=o.parentNode),Zr(u)&&u.parentNode&&(a=t.nodeIndex(u)+1,u=u.parentNode),{startContainer:o,startOffset:i,endContainer:u,endOffset:a}},$d=function(t,e,n){var r,o=e.startOffset,i=_a(e.startContainer,o),u=e.endOffset,a=_a(e.endContainer,u-1),c=function(t){var e=t[0];co(e)&&e===i&&o>=e.data.length&&t.splice(0,1);var n=t[t.length-1];return 0===u&&t.length>0&&n===a&&co(n)&&t.splice(t.length-1,1),t},s=function(t,e,n){for(var r=[];t&&t!==n;t=t[e])r.push(t);return r},f=function(e,n){return t.getParent(e,(function(t){return t.parentNode===n}),n)},l=function(t,e,r){for(var o=r?"nextSibling":"previousSibling",i=t,u=i.parentNode;i&&i!==e;i=u){u=i.parentNode;var a=s(i===t?i:i[o],o);a.length&&(r||a.reverse(),n(c(a)))}};if(i===a)return n(c([i]));var d=null!==(r=t.findCommonAncestor(i,a))&&void 0!==r?r:t.getRoot();if(t.isChildOf(i,a))return l(i,d,!0);if(t.isChildOf(a,i))return l(a,d);var m=f(i,d)||i,p=f(a,d)||a;l(i,m,!0);var g=s(m===i?m:m.nextSibling,"nextSibling",p===a?p.nextSibling:p);g.length&&n(c(g)),l(a,p)},qd=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],Gd=function(t,e,n,r,o,i){var u=n.uid,a=void 0===u?e:u,s=c(n,g);Sn(t,Zu()),ln(t,"".concat(ea()),a),ln(t,"".concat(ta()),r);var f=o(a,s),l=f.attributes,d=void 0===l?{}:l,m=f.classes,p=void 0===m?[]:m;if(dn(t,d),function(t,e){it(e,(function(e){Sn(t,e)}))}(t,p),i){p.length>0&&ln(t,"".concat(ra()),p.join(","));var v=Et(d);v.length>0&&ln(t,"".concat(oa()),v.join(","))}},Kd=function(t,e,n,r,o){var i=An("span",t);return Gd(i,e,n,r,o,!1),i},Yd=function(t,e,n,r,o,i){var u=[],a=Kd(t.getDoc(),n,i,r,o),c=Xu(),s=function(){c.clear()},f=function(t){it(t,l)},l=function(e){switch(function(t,e,n,r){return Un(e).fold((function(){return"skipping"}),(function(o){return"br"===r||function(t){return un(t)&&Oo(t)===$o}(e)?"valid":function(t){return on(t)&&En(t,Zu())}(e)?"existing":Tl(e.dom)?"caret":rt(qd,(function(t){return Mn(e,t)}))?"valid-block":vd(t,n,r)&&vd(t,en(o),n)?"valid":"invalid-child"}))}(t,e,"span",en(e))){case"invalid-child":s();var l=Kn(e);f(l),s();break;case"valid-block":s(),Gd(e,n,i,r,o,!0);break;case"valid":var d=c.get().getOrThunk((function(){var t=ma(a);return u.push(t),c.set(t),t}));Ar(e,d);break}};return $d(t.dom,e,(function(t){s(),function(t){var e=ot(t,Nn);f(e)}(t)})),u},Xd=function(t){var e=function(){var t={};return{register:function(e,n){t[e]={name:e,settings:n}},lookup:function(e){return Pt(t,e).map((function(t){return t.settings}))},getNames:function(){return Et(t)}}}();(function(t,e){var n=ta(),r=function(t){return J.from(t.attr(n)).bind(e.lookup)},o=function(t){var e,n;t.attr(ea(),null),t.attr(ta(),null),t.attr(na(),null);var r=J.from(t.attr(oa())).map((function(t){return t.split(",")})).getOr([]),o=J.from(t.attr(ra())).map((function(t){return t.split(",")})).getOr([]);it(r,(function(e){return t.attr(e,null)}));var i=null!==(n=null===(e=t.attr("class"))||void 0===e?void 0:e.split(" "))&&void 0!==n?n:[],u=bt(i,[Zu()].concat(o));t.attr("class",u.length>0?u.join(" "):null),t.attr(ra(),null),t.attr(oa(),null)};t.serializer.addTempAttr(na()),t.serializer.addAttributeFilter(n,(function(t){var e,n=a(t);try{var i=function(){var t=e.value;r(t).each((function(e){!1===e.persistent&&("span"===t.name?t.unwrap():o(t))}))};for(n.s();!(e=n.n()).done;)i()}catch(u){n.e(u)}finally{n.f()}}))})(t,e);var n=function(t,e){var n=Vu({}),r=function(){return{listeners:[],previous:Xu()}},o=function(t,e){i(t,(function(t){return e(t),t}))},i=function(t,e){var o=n.get(),i=e(Pt(o,t).getOrThunk(r));o[t]=i,n.set(o)},u=function(e,n){it(ca(t,e),(function(t){n?ln(t,na(),"true"):vn(t,na())}))},a=Qu((function(){var n=xt(e.getNames());it(n,(function(e){i(e,(function(n){var r=n.previous.get();return ua(t,J.some(e)).fold((function(){r.each((function(t){(function(t){o(t,(function(e){it(e.listeners,(function(e){return e(!1,t)}))}))})(e),n.previous.clear(),u(t,!1)}))}),(function(t){var e=t.uid,i=t.name,a=t.elements;Ke(r,e)||(r.each((function(t){return u(t,!1)})),function(t,e,n){o(t,(function(r){it(r.listeners,(function(r){return r(!0,t,{uid:e,nodes:ot(n,(function(t){return t.dom}))})}))}))}(i,e,a),n.previous.set(e),u(e,!0))})),{previous:n.previous,listeners:n.listeners}}))}))}),30);return t.on("remove",(function(){a.cancel()})),t.on("NodeChange",(function(){a.throttle()})),{addListener:function(t,e){i(t,(function(t){return{previous:t.previous,listeners:t.listeners.concat([e])}}))}}}(t,e),r=sn("span"),o=function(t){it(t,(function(t){r(t)?Br(t):function(t){_n(t,Zu()),vn(t,"".concat(ea())),vn(t,"".concat(ta())),vn(t,"".concat(na()));var e,n=pn(t,"".concat(oa())).map((function(t){return t.split(",")})).getOr([]),r=pn(t,"".concat(ra())).map((function(t){return t.split(",")})).getOr([]);it(n,(function(e){return vn(t,e)})),e=t,it(r,(function(t){_n(e,t)})),vn(t,"".concat(ra())),vn(t,"".concat(oa()))}(t)}))};return{register:function(t,n){e.register(t,n)},annotate:function(n,r){e.lookup(n).each((function(e){(function(t,e,n,r){t.undoManager.transact((function(){var o=t.selection,i=o.getRng(),u=td(t).length>0,a=la("mce-annotation");if(i.collapsed&&!u&&function(t,e){var n=Wd(t.dom,e,[{inline:"span"}]);e.setStart(n.startContainer,n.startOffset),e.setEnd(n.endContainer,n.endOffset),t.selection.setRng(e)}(t,i),o.getRng().collapsed&&!u){var c=Kd(t.getDoc(),a,r,e,n.decorate);Pr(c,ko),o.getRng().insertNode(c.dom),o.select(c.dom)}else cd(o,!1,(function(){ad(t,(function(o){Yd(t,o,a,e,n.decorate,r)}))}))}))})(t,n,e,r)}))},annotationChanged:function(t,e){n.addListener(t,e)},remove:function(e){ua(t,J.some(e)).each((function(e){var n=e.elements,r=t.selection.getBookmark();o(n),t.selection.moveToBookmark(r)}))},removeAll:function(e){var n=t.selection.getBookmark();Tt(sa(t,e),(function(t,e){o(t)})),t.selection.moveToBookmark(n)},getAll:function(e){var n=sa(t,e);return At(n,(function(t){return ot(t,(function(t){return t.dom}))}))}}},Jd=function(t){return{getBookmark:W(jl,t),moveToBookmark:W(zl,t)}};Jd.isBookmarkNode=Ul;var Qd=function(t,e,n){return!n.collapsed&&rt(n.getClientRects(),(function(n){return function(t,e,n){return e>=t.left&&e<=t.right&&n>=t.top&&n<=t.bottom}(n,t,e)}))},Zd=function(t,e,n){t.dispatch(e,n)},tm=function(t,e,n,r){t.dispatch("FormatApply",{format:e,node:n,vars:r})},em=function(t,e,n,r){t.dispatch("FormatRemove",{format:e,node:n,vars:r})},nm=function(t,e){return t.dispatch("SetContent",e)},rm=function(t,e){return t.dispatch("GetContent",e)},om=function(t,e){return t.dispatch("PastePlainTextToggle",{state:e})},im={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:function(t){return t.shiftKey||t.ctrlKey||t.altKey||im.metaKeyPressed(t)},metaKeyPressed:function(t){return Ve.os.isMacOS()||Ve.os.isiOS()?t.metaKey:t.ctrlKey&&!t.altKey}},um="data-mce-selected",am=Math.abs,cm=Math.round,sm={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},fm=function(t,e){var n,r,o,i,u,a,c,s,f,l,d,m,p,g,v,h=e.dom,b=e.getDoc(),y=document,x=e.getBody(),w=function(t){return M(t)&&(vo(t)||h.is(t,"figure.image"))},C=function(t){return wo(t)||h.hasClass(t,"mce-preview-object")},S=function(t){var n=t.target;(function(t,e){if(function(t){return"longpress"===t.type||0===t.type.indexOf("touch")}(t)){var n=t.touches[0];return w(t.target)&&!Qd(n.clientX,n.clientY,e)}return w(t.target)&&!Qd(t.clientX,t.clientY,e)})(t,e.selection.getRng())&&!t.isDefaultPrevented()&&e.selection.select(n)},k=function(t){return h.hasClass(t,"mce-preview-object")&&M(t.firstElementChild)?[t,t.firstElementChild]:h.is(t,"figure.image")?[t.querySelector("img")]:[t]},_=function(t){var n=ls(e);return!!n&&"false"!==t.getAttribute("data-mce-resize")&&t!==e.getBody()&&(h.hasClass(t,"mce-preview-object")&&M(t.firstElementChild)?Mn(Nn(t.firstElementChild),n):Mn(Nn(t),n))},E=function(t,n,r){if(M(r)){var o=k(t);it(o,(function(t){t.style[n]||!e.schema.isValid(t.nodeName.toLowerCase(),n)?h.setStyle(t,n,r):h.setAttrib(t,n,""+r)}))}},O=function(t,e,n){E(t,"width",e),E(t,"height",n)},T=function(t){var u,b,y,S,k;u=t.screenX-a,b=t.screenY-c,m=u*i[2]+s,p=b*i[3]+f,m=m<5?5:m,p=p<5?5:p,y=(w(n)||C(n))&&!1!==ds(e)?!im.modifierPressed(t):im.modifierPressed(t),y&&(am(u)>am(b)?(p=cm(m*l),m=cm(p/l)):(m=cm(p/l),p=cm(m*l))),O(r,m,p),S=i.startPos.x+u,k=i.startPos.y+b,S=S>0?S:0,k=k>0?k:0,h.setStyles(o,{left:S,top:k,display:"block"}),o.innerHTML=m+" &times; "+p,i[2]<0&&r.clientWidth<=m&&h.setStyle(r,"left",void 0+(s-m)),i[3]<0&&r.clientHeight<=p&&h.setStyle(r,"top",void 0+(f-p)),u=x.scrollWidth-g,b=x.scrollHeight-v,u+b!==0&&h.setStyles(o,{left:S-u,top:k-b}),d||(function(t,e,n,r,o){t.dispatch("ObjectResizeStart",{target:e,width:n,height:r,origin:o})}(e,n,s,f,"corner-"+i.name),d=!0)},A=function t(){var a=d;d=!1,a&&(E(n,"width",m),E(n,"height",p)),h.unbind(b,"mousemove",T),h.unbind(b,"mouseup",t),y!==b&&(h.unbind(y,"mousemove",T),h.unbind(y,"mouseup",t)),h.remove(r),h.remove(o),h.remove(u),R(n),a&&(function(t,e,n,r,o){t.dispatch("ObjectResized",{target:e,width:n,height:r,origin:o})}(e,n,m,p,"corner-"+i.name),h.setAttrib(n,"style",h.getAttrib(n,"style"))),e.nodeChanged()},R=function(t){P();var d=h.getPos(t,x),w=d.x,S=d.y,E=t.getBoundingClientRect(),R=E.width||E.right-E.left,N=E.height||E.bottom-E.top;n!==t&&(D(),n=t,m=p=0);var B=e.dispatch("ObjectSelected",{target:t});_(t)&&!B.isDefaultPrevented()?Tt(sm,(function(t,e){var d=h.get("mceResizeHandle"+e);d&&h.remove(d),d=h.add(x,"div",{id:"mceResizeHandle"+e,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+e+"-resize; margin:0; padding:0"}),h.bind(d,"mousedown",(function(d){d.stopImmediatePropagation(),d.preventDefault(),function(d){var m,p=k(n)[0];a=d.screenX,c=d.screenY,s=p.clientWidth,f=p.clientHeight,l=f/s,i=t,i.name=e,i.startPos={x:R*t[0]+w,y:N*t[1]+S},g=x.scrollWidth,v=x.scrollHeight,u=h.add(x,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),h.setStyles(u,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),r=C(m=n)?h.create("img",{src:Ve.transparentSrc}):m.cloneNode(!0),h.addClass(r,"mce-clonedresizable"),h.setAttrib(r,"data-mce-bogus","all"),r.contentEditable="false",h.setStyles(r,{left:w,top:S,margin:0}),O(r,R,N),r.removeAttribute(um),x.appendChild(r),h.bind(b,"mousemove",T),h.bind(b,"mouseup",A),y!==b&&(h.bind(y,"mousemove",T),h.bind(y,"mouseup",A)),o=h.add(x,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},s+" &times; "+f)}(d)})),t.elm=d,h.setStyles(d,{left:R*t[0]+w-d.offsetWidth/2,top:N*t[1]+S-d.offsetHeight/2})})):D(!1)},N=Ju(R,0),D=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];N.cancel(),P(),n&&t&&n.removeAttribute(um),Tt(sm,(function(t,e){var n=h.get("mceResizeHandle"+e);n&&(h.unbind(n),h.remove(n))}))},B=function(t,e){return h.isChildOf(t,e)},I=function(n){if(!(d||e.removed||e.composing)){var r="mousedown"===n.type?n.target:t.getNode(),o=mr(Nn(r),"table,img,figure.image,hr,video,span.mce-preview-object").map((function(t){return t.dom})).filter((function(t){return h.isEditable(t.parentElement)})).getOrUndefined(),i=M(o)?h.getAttrib(o,um,"1"):"1";if(it(h.select("img[data-mce-selected],hr[data-mce-selected]"),(function(t){t.removeAttribute(um)})),M(o)&&B(o,x)){L();var u=t.getStart(!0);if(B(u,o)&&B(t.getEnd(!0),o))return h.setAttrib(o,um,i),void N.throttle(o)}D()}},P=function(){Tt(sm,(function(t){t.elm&&(h.unbind(t.elm),delete t.elm)}))},L=function(){try{e.getDoc().execCommand("enableObjectResizing",!1,"false")}catch(t){}};return e.on("init",(function(){L(),e.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",I),e.on("keyup compositionend",(function(t){n&&"TABLE"===n.nodeName&&I(t)})),e.on("hide blur",D),e.on("contextmenu longpress",S,!0)})),e.on("remove",P),{isResizable:_,showResizeRect:R,hideResizeRect:D,updateResizeRect:I,destroy:function(){N.cancel(),n=r=u=null}}},lm=function(t,e,n){var r,o=t.document.createRange();return r=o,e.fold((function(t){r.setStartBefore(t.dom)}),(function(t,e){r.setStart(t.dom,e)}),(function(t){r.setStartAfter(t.dom)})),function(t,e){e.fold((function(e){t.setEndBefore(e.dom)}),(function(e,n){t.setEnd(e.dom,n)}),(function(e){t.setEndAfter(e.dom)}))}(o,n),o},dm=function(t,e,n,r,o){var i=t.document.createRange();return i.setStart(e.dom,n),i.setEnd(r.dom,o),i},mm=vc([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),pm=function(t,e,n){return e(Nn(n.startContainer),n.startOffset,Nn(n.endContainer),n.endOffset)};mm.ltr,mm.rtl;var gm=function(t,e,n,r){return{start:t,soffset:e,finish:n,foffset:r}},vm=document.caretPositionFromPoint?function(t,e,n){var r,o;return J.from(null===(o=(r=t.dom).caretPositionFromPoint)||void 0===o?void 0:o.call(r,e,n)).bind((function(e){if(null===e.offsetNode)return J.none();var n=t.dom.createRange();return n.setStart(e.offsetNode,e.offset),n.collapse(),J.some(n)}))}:document.caretRangeFromPoint?function(t,e,n){var r,o;return J.from(null===(o=(r=t.dom).caretRangeFromPoint)||void 0===o?void 0:o.call(r,e,n))}:J.none,hm=vc([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),bm={before:hm.before,on:hm.on,after:hm.after,cata:function(t,e,n,r){return t.fold(e,n,r)},getStart:function(t){return t.fold(H,H,H)}},ym=vc([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),xm={domRange:ym.domRange,relative:ym.relative,exact:ym.exact,exactFromRange:function(t){return ym.exact(t.start,t.soffset,t.finish,t.foffset)},getWin:function(t){var e=function(t){return t.match({domRange:function(t){return Nn(t.startContainer)},relative:function(t,e){return bm.getStart(t)},exact:function(t,e,n,r){return t}})}(t);return zn(e)},range:gm},wm=function(t,e){var n=en(t);return"input"===n?bm.after(t):nt(["br","img"],n)?0===e?bm.before(t):bm.after(t):bm.on(t,e)},Cm=function(t,e){var n=t.fold(bm.before,wm,bm.after),r=e.fold(bm.before,wm,bm.after);return xm.relative(n,r)},Sm=function(t,e,n,r){var o=wm(t,e),i=wm(n,r);return xm.relative(o,i)},km=function(t,e){var n=(e||document).createDocumentFragment();return it(t,(function(t){n.appendChild(t.dom)})),Nn(n)},_m=function(t){var e=xm.getWin(t).dom,n=function(t,n,r,o){return dm(e,t,n,r,o)},r=function(t){return t.match({domRange:function(t){var e=Nn(t.startContainer),n=Nn(t.endContainer);return Sm(e,t.startOffset,n,t.endOffset)},relative:Cm,exact:Sm})}(t);return function(t,e){var n=function(t,e){return e.match({domRange:function(t){return{ltr:U(t),rtl:J.none}},relative:function(e,n){return{ltr:Kt((function(){return lm(t,e,n)})),rtl:Kt((function(){return J.some(lm(t,n,e))}))}},exact:function(e,n,r,o){return{ltr:Kt((function(){return dm(t,e,n,r,o)})),rtl:Kt((function(){return J.some(dm(t,r,o,e,n))}))}}})}(t,e);return function(t,e){var n=e.ltr();return n.collapsed?e.rtl().filter((function(t){return!1===t.collapsed})).map((function(t){return mm.rtl(Nn(t.endContainer),t.endOffset,Nn(t.startContainer),t.startOffset)})).getOrThunk((function(){return pm(0,mm.ltr,n)})):pm(0,mm.ltr,n)}(0,n)}(e,r).match({ltr:n,rtl:n})},Em=function(t,e,n){return function(t,e,n){return function(t,e,n){var r=Nn(t.document);return vm(r,e,n).map((function(t){return gm(Nn(t.startContainer),t.startOffset,Nn(t.endContainer),t.endOffset)}))}(t,e,n)}(zn(Nn(n)).dom,t,e).map((function(t){var e=n.createRange();return e.setStart(t.start.dom,t.soffset),e.setEnd(t.finish.dom,t.foffset),e})).getOrUndefined()},Om=function(t,e){return M(t)&&M(e)&&t.startContainer===e.startContainer&&t.startOffset===e.startOffset&&t.endContainer===e.endContainer&&t.endOffset===e.endOffset},Tm=function(t,e,n){return null!==function(t,e,n){for(var r=t;r&&r!==e;){if(n(r))return r;r=r.parentNode}return null}(t,e,n)},Am=function(t,e,n){return Tm(t,e,(function(t){return t.nodeName===n}))},Rm=function(t,e){return Qo(t)&&!Tm(t,e,Tl)},Nm=function(t,e,n){var r=e.parentNode;if(r)for(var o,i=new Xr(e,t.getParent(r,t.isBlock)||t.getRoot());o=i[n?"prev":"next"]();)if(go(o))return!0;return!1},Dm=function(t,e,n,r,o){var i,u,a=t.getRoot(),c=t.schema.getNonEmptyElements(),s=o.parentNode;if(!s)return J.none();var f=t.getParent(s,t.isBlock)||a;if(r&&go(o)&&e&&t.isEmpty(f))return J.some($a(s,t.nodeIndex(o)));for(var l=new Xr(o,f);u=l[r?"prev":"next"]();){if("false"===t.getContentEditableParent(u)||Rm(u,a))return J.none();if(co(u)&&u.data.length>0)return Am(u,a,"A")?J.none():J.some($a(u,r?u.data.length:0));if(t.isBlock(u)||c[u.nodeName.toLowerCase()])return J.none();i=u}return lo(i)?J.none():n&&i?J.some($a(i,0)):J.none()},Bm=function(t,e,n,r){var o,i=t.getRoot(),u=!1,a=n?r.startContainer:r.endContainer,c=n?r.startOffset:r.endOffset,s=Zr(a)&&c===a.childNodes.length,f=t.schema.getNonEmptyElements(),l=n;if(Qo(a))return J.none();if(Zr(a)&&c>a.childNodes.length-1&&(l=!1),mo(a)&&(a=i,c=0),a===i){if(l&&(o=a.childNodes[c>0?c-1:0],o)){if(Qo(o))return J.none();if(f[o.nodeName]||io(o))return J.none()}if(a.hasChildNodes()){if(c=Math.min(!l&&c>0?c-1:c,a.childNodes.length-1),a=a.childNodes[c],c=co(a)&&s?a.data.length:0,!e&&a===i.lastChild&&io(a))return J.none();if(function(t,e){for(var n=e;n&&n!==t;){if(bo(n))return!0;n=n.parentNode}return!1}(i,a)||Qo(a))return J.none();if(a.hasChildNodes()&&!io(a)){o=a;var d=new Xr(a,i);do{if(bo(o)||Qo(o)){u=!1;break}if(co(o)&&o.data.length>0){c=l?0:o.data.length,a=o,u=!0;break}if(f[o.nodeName.toLowerCase()]&&!xo(o)){c=t.nodeIndex(o),a=o.parentNode,l||c++,u=!0;break}}while(o=l?d.next():d.prev())}}}return e&&(co(a)&&0===c&&Dm(t,s,e,!0,a).each((function(t){a=t.container(),c=t.offset(),u=!0})),Zr(a)&&(o=a.childNodes[c],o||(o=a.childNodes[c-1]),!o||!go(o)||function(t,e){var n;return"A"===(null===(n=t.previousSibling)||void 0===n?void 0:n.nodeName)}(o)||Nm(t,o,!1)||Nm(t,o,!0)||Dm(t,s,e,!0,o).each((function(t){a=t.container(),c=t.offset(),u=!0})))),l&&!e&&co(a)&&c===a.data.length&&Dm(t,s,e,!1,a).each((function(t){a=t.container(),c=t.offset(),u=!0})),u&&a?J.some($a(a,c)):J.none()},Mm=function(t,e){var n=e.collapsed,r=e.cloneRange(),o=$a.fromRangeStart(e);return Bm(t,n,!0,r).each((function(t){n&&$a.isAbove(o,t)||r.setStart(t.container(),t.offset())})),n||Bm(t,n,!1,r).each((function(t){r.setEnd(t.container(),t.offset())})),n&&r.collapse(!0),Om(e,r)?J.none():J.some(r)},Im=function(t,e){return t.splitText(e)},Pm=function(t){var e=t.startContainer,n=t.startOffset,r=t.endContainer,o=t.endOffset;if(e===r&&co(e)){if(n>0&&n<e.data.length)if(r=Im(e,n),e=r.previousSibling,o>n){o-=n;var i=Im(r,o).previousSibling;e=r=i,o=i.data.length,n=0}else o=0}else if(co(e)&&n>0&&n<e.data.length&&(e=Im(e,n),n=0),co(r)&&o>0&&o<r.data.length){var u=Im(r,o).previousSibling;r=u,o=u.data.length}return{startContainer:e,startOffset:n,endContainer:r,endOffset:o}},Lm=function(t){return{walk:function(e,n){return $d(t,e,n)},split:Pm,expand:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{type:"word"};if("word"===n.type){var r=Wd(t,e,[{inline:"span"}]),o=t.createRng();return o.setStart(r.startContainer,r.startOffset),o.setEnd(r.endContainer,r.endOffset),o}return e},normalize:function(e){return Mm(t,e).fold(Y,(function(t){return e.setStart(t.startContainer,t.startOffset),e.setEnd(t.endContainer,t.endOffset),!0}))}}};Lm.compareRanges=Om,Lm.getCaretRangeFromPoint=Em,Lm.getSelectedNode=ka,Lm.getNode=_a;var Fm,jm=function(t,e){var n=function(e){var n=function(t){var e=t.dom;return ar(t)?e.getBoundingClientRect().height:e.offsetHeight}(e);if(n<=0||null===n){var r=xr(e,t);return parseFloat(r)||0}return n},r=function(t,e){return ft(e,(function(e,n){var r=xr(t,n),o=void 0===r?0:parseInt(r,10);return isNaN(o)?e:e+o}),0)};return{set:function(e,n){if(!P(n)&&!n.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+n);var r=e.dom;vr(r)&&(r.style[t]=n+"px")},get:n,getOuter:n,aggregate:r,max:function(t,e,n){var o=r(t,n);return e>o?e-o:0}}}("height"),zm=function(){return Nn(document)},Um=function t(e,n){return e.view(n).fold(U([]),(function(n){var r=e.owner(n),o=t(e,r);return[n].concat(o)}))},Hm=Object.freeze({__proto__:null,view:function(t){var e;return(t.dom===document?J.none():J.from(null===(e=t.dom.defaultView)||void 0===e?void 0:e.frameElement)).map(Nn)},owner:function(t){return jn(t)}}),Vm=function(t){return"textarea"===en(t)},Wm=function(t,e){var n=function(t){var e=t.dom.ownerDocument,n=e.body,r=e.defaultView,o=e.documentElement;if(n===t.dom)return zr(n.offsetLeft,n.offsetTop);var i=Ur(null==r?void 0:r.pageYOffset,o.scrollTop),u=Ur(null==r?void 0:r.pageXOffset,o.scrollLeft),a=Ur(o.clientTop,n.clientTop),c=Ur(o.clientLeft,n.clientLeft);return Hr(t).translate(u-c,i-a)}(t),r=function(t){return jm.get(t)}(t);return{element:t,bottom:n.top+r,height:r,pos:n,cleanup:e}},$m=function(t,e,n,r){Ym(t,(function(o,i){return Gm(t,e,n,r)}),n)},qm=function(t,e,n,r,o){var i={elm:r.element.dom,alignToTop:o};(function(t,e){return t.dispatch("ScrollIntoView",e).isDefaultPrevented()})(t,i)||(n(e,Vr(e).top,r,o),function(t,e){t.dispatch("AfterScrollIntoView",e)}(t,i))},Gm=function(t,e,n,r){var o=Nn(t.getBody()),i=Nn(t.getDoc());o.dom.offsetWidth;var u=function(t,e){var n=function(t,e){var n=Kn(t);if(0===n.length||Vm(t))return{element:t,offset:e};if(e<n.length&&!Vm(n[e]))return{element:n[e],offset:0};var r=n[n.length-1];return Vm(r)?{element:t,offset:e}:"img"===en(r)?{element:r,offset:1}:un(r)?{element:r,offset:Oo(r).length}:{element:r,offset:Kn(r).length}}(t,e),r=Tn('<span data-mce-bogus="all" style="display: inline-block;">\ufeff</span>');return _r(n.element,r),Wm(r,(function(){return Dr(r)}))}(Nn(n.startContainer),n.startOffset);qm(t,i,e,u,r),u.cleanup()},Km=function(t,e,n,r){var o=Nn(t.getDoc());qm(t,o,n,function(t){return Wm(Nn(t),F)}(e),r)},Ym=function(t,e,n){var r=n.startContainer,o=n.startOffset,i=n.endContainer,u=n.endOffset;e(Nn(r),Nn(i));var a=t.dom.createRng();a.setStart(r,o),a.setEnd(i,u),t.selection.setRng(n)},Xm=function(t,e){return t.element.dom.scrollIntoView({block:e?"start":"end"})},Jm=function(t,e,n,r){var o=e+t,i=n.pos.top,u=n.bottom,a=u-i>=e;i<t?Xm(n,!1!==r):i>o?Xm(n,a?!1!==r:!0===r):u>o&&!a&&Xm(n,!0===r)},Qm=function(t,e,n,r){var o=zn(t).dom.innerHeight;Jm(e,o,n,r)},Zm=function(t,e,n,r){var o=zn(t).dom.innerHeight;Jm(e,o,n,r);var i=function(t){var e=zm(),n=Vr(e),r=function(t,e){var n=e.owner(t);return Um(e,n)}(t,Hm),o=Hr(t),i=st(r,(function(t,e){var n=Hr(e);return{left:t.left+n.left,top:t.top+n.top}}),{left:0,top:0});return zr(i.left+o.left+n.left,i.top+o.top+n.top)}(n.element),u=qr(window);i.top<u.y?Wr(n.element,!1!==r):i.top>u.bottom&&Wr(n.element,!0===r)},tp=function(t,e,n){return $m(t,Qm,e,n)},ep=function(t,e,n){return Km(t,e,Qm,n)},np=function(t,e,n){return $m(t,Zm,e,n)},rp=function(t,e,n){return Km(t,e,Zm,n)},op=function(t,e,n){(t.inline?tp:np)(t,e,n)},ip=function(t){return t.dom.focus()},up=function(t){var e=nr(t).dom;return t.dom===e.activeElement},ap=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zm();return J.from(t.dom.activeElement).map(Nn)},cp=function(t,e){var n=un(e)?Oo(e).length:Kn(e).length+1;return t>n?n:t<0?0:t},sp=function(t){return xm.range(t.start,cp(t.soffset,t.start),t.finish,cp(t.foffset,t.finish))},fp=function(t,e){return!Qr(e.dom)&&(Ln(t,e)||Pn(t,e))},lp=function(t){return function(e){return fp(t,e.start)&&fp(t,e.finish)}},dp=function(t){return xm.range(Nn(t.startContainer),t.startOffset,Nn(t.endContainer),t.endOffset)},mp=function(t){var e=document.createRange();try{return e.setStart(t.start.dom,t.soffset),e.setEnd(t.finish.dom,t.foffset),J.some(e)}catch(t){return J.none()}},pp=function(t){var e,n=function(t){return t.inline||Ve.browser.isFirefox()}(t)?(e=Nn(t.getBody()),function(t){var e=t.getSelection();return(e&&0!==e.rangeCount?J.from(e.getRangeAt(0)):J.none()).map(dp)}(zn(e).dom).filter(lp(e))):J.none();t.bookmark=n.isSome()?n:t.bookmark},gp=function(t){return(t.bookmark?t.bookmark:J.none()).bind((function(e){return n=Nn(t.getBody()),r=e,J.from(r).filter(lp(n)).map(sp);var n,r})).bind(mp)},vp={isEditorUIElement:function(t){var e=t.className.toString();return-1!==e.indexOf("tox-")||-1!==e.indexOf("mce-")}},hp={setEditorTimeout:function(t,e,n){return function(t,e){return P(e)||(e=0),setTimeout(t,e)}((function(){t.removed||e()}),n)},setEditorInterval:function(t,e,n){var r=function(t,e){return P(e)||(e=0),setInterval(t,e)}((function(){t.removed?clearInterval(r):e()}),n);return r}},bp=zu.DOM,yp=function(t){var e=t.classList;return void 0!==e&&(e.contains("tox-edit-area")||e.contains("tox-edit-area__iframe")||e.contains("mce-content-body"))},xp=function(t,e){var n=_s(t),r=bp.getParent(e,(function(e){return function(t){return Zr(t)&&vp.isEditorUIElement(t)}(e)||!!n&&t.dom.is(e,n)}));return null!==r},wp=function(t){try{var e=nr(Nn(t.getElement()));return ap(e).fold((function(){return document.body}),(function(t){return t.dom}))}catch(t){return document.body}},Cp=function(t,e){var n=e.editor;(function(t){var e=Ju((function(){pp(t)}),0);t.on("init",(function(){t.inline&&function(t,e){var n=function(){e.throttle()};zu.DOM.bind(document,"mouseup",n),t.on("remove",(function(){zu.DOM.unbind(document,"mouseup",n)}))}(t,e),function(t,e){(function(t,e){t.on("mouseup touchend",(function(t){e.throttle()}))})(t,e),t.on("keyup NodeChange AfterSetSelectionRange",(function(e){(function(t){return"nodechange"===t.type&&t.selectionChange})(e)||pp(t)}))}(t,e)})),t.on("remove",(function(){e.cancel()}))})(n);var r=function(t,e){df(t)&&!0!==t.inline&&e(Nn(t.getContainer()),"tox-edit-focus")};n.on("focusin",(function(){var e=t.focusedEditor;yp(wp(n))&&r(n,Sn),e!==n&&(e&&e.dispatch("blur",{focusedEditor:n}),t.setActive(n),t.focusedEditor=n,n.dispatch("focus",{blurredEditor:e}),n.focus(!0))})),n.on("focusout",(function(){hp.setEditorTimeout(n,(function(){var e=t.focusedEditor;yp(wp(n))&&e===n||r(n,_n),xp(n,wp(n))||e!==n||(n.dispatch("blur",{focusedEditor:null}),t.focusedEditor=null)}))})),Fm||(Fm=function(e){var n=t.activeEditor;n&&ir(e).each((function(e){var r=e;r.ownerDocument===document&&(r===document.body||xp(n,r)||t.focusedEditor!==n||(n.dispatch("blur",{focusedEditor:null}),t.focusedEditor=null))}))},bp.bind(document,"focusin",Fm))},Sp=function(t,e){t.focusedEditor===e.editor&&(t.focusedEditor=null),!t.activeEditor&&Fm&&(bp.unbind(document,"focusin",Fm),Fm=null)},kp=function(t,e){(function(t,e){return function(t){return t.collapsed?J.from(_a(t.startContainer,t.startOffset)).map(Nn):J.none()}(e).bind((function(e){return Lo(e)?J.some(e):Ln(t,e)?J.none():J.some(t)}))})(Nn(t.getBody()),e).bind((function(t){return _l(t.dom)})).fold((function(){t.selection.normalize()}),(function(e){return t.selection.setRng(e.toRange())}))},_p=function(t){if(t.setActive)try{t.setActive()}catch(n){t.focus()}else t.focus()},Ep=function(t){return t.inline?function(t){var e,n,r=t.getBody();return r&&(e=Nn(r),up(e)||(n=e,ap(nr(n)).filter((function(t){return n.dom.contains(t.dom)}))).isSome())}(t):function(t){return M(t.iframeElement)&&up(Nn(t.iframeElement))}(t)},Op=function(t){return t.editorManager.setActive(t)},Tp=function(t,e,n,r,o){var i=n?e.startContainer:e.endContainer,u=n?e.startOffset:e.endOffset;return J.from(i).map(Nn).map((function(t){return r&&e.collapsed?t:Yn(t,o(t,u)).getOr(t)})).bind((function(t){return on(t)?J.some(t):Un(t).filter(on)})).map((function(t){return t.dom})).getOr(t)},Ap=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Tp(t,e,!0,n,(function(t,e){return Math.min(Qn(t),e)}))},Rp=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Tp(t,e,!1,n,(function(t,e){return e>0?e-1:e}))},Np=function(t,e){for(var n=t;t&&co(t)&&0===t.length;)t=e?t.nextSibling:t.previousSibling;return t||n},Dp=function(t,e){return ot(e,(function(e){var n=t.dispatch("GetSelectionRange",{range:e});return n.range!==e?n.range:e}))},Bp=["img","br"],Mp=function(t){var e=To(t).filter((function(t){return 0!==t.trim().length||t.indexOf(ko)>-1})).isSome();return e||nt(Bp,en(t))||function(t){return on(e=t)&&tn(e.dom)&&"false"===mn(t,"contenteditable");var e}(t)},Ip="[data-mce-autocompleter]",Pp=function(t,e){if(Lp(Nn(t.getBody())).isNone()){var n=Tn('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',t.getDoc());Tr(n,Nn(e.extractContents())),e.insertNode(n.dom),Un(n).each((function(t){return t.dom.normalize()})),(r=n,function(t,e){var n=function t(n){for(var r=Kn(n),o=r.length-1;o>=0;o--){var i=r[o];if(e(i))return J.some(i);var u=t(i);if(u.isSome())return u}return J.none()};return n(t)}(r,Mp)).map((function(e){t.selection.setCursorLocation(e.dom,function(t){return"img"===en(t)?1:To(t).fold((function(){return Kn(t).length}),(function(t){return t.length}))}(e))}))}var r},Lp=function(t){return dr(t,Ip)},Fp={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},jp=function(t,e,n){var r=n?"lastChild":"firstChild",o=n?"prev":"next";if(t[r])return t[r];if(t!==e){var i=t[o];if(i)return i;for(var u=t.parent;u&&u!==e;u=u.parent)if(i=u[o],i)return i}},zp=function(t){var e,n=null!==(e=t.value)&&void 0!==e?e:"";if(!bi(n))return!1;var r=t.parent;return!r||"span"===r.name&&!r.attr("style")||!/^[ ]+$/.test(n)},Up=function(t){var e="a"===t.name&&!t.attr("href")&&t.attr("id");return t.attr("name")||t.attr("id")&&!t.firstChild||t.attr("data-mce-bookmark")||e},Hp=function(){function t(e,n){d(this,t),this.name=e,this.type=n,1===n&&(this.attributes=[],this.attributes.map={})}return m(t,[{key:"replace",value:function(t){var e=this;return t.parent&&t.remove(),e.insert(t,e),e.remove(),e}},{key:"attr",value:function(t,e){var n=this;if(!E(t))return M(t)&&Tt(t,(function(t,e){n.attr(e,t)})),n;var r=n.attributes;if(r){if(void 0!==e){if(null===e){if(t in r.map){delete r.map[t];for(var o=r.length;o--;)if(r[o].name===t)return r.splice(o,1),n}return n}if(t in r.map){for(var i=r.length;i--;)if(r[i].name===t){r[i].value=e;break}}else r.push({name:t,value:e});return r.map[t]=e,n}return r.map[t]}}},{key:"clone",value:function(){var e=this,n=new t(e.name,e.type),r=e.attributes;if(r){var o=[];o.map={};for(var i=0,u=r.length;i<u;i++){var a=r[i];"id"!==a.name&&(o[o.length]={name:a.name,value:a.value},o.map[a.name]=a.value)}n.attributes=o}return n.value=e.value,n}},{key:"wrap",value:function(t){var e=this;return e.parent&&(e.parent.insert(t,e),t.append(e)),e}},{key:"unwrap",value:function(){for(var t=this,e=t.firstChild;e;){var n=e.next;t.insert(e,t,!0),e=n}t.remove()}},{key:"remove",value:function(){var t=this,e=t.parent,n=t.next,r=t.prev;return e&&(e.firstChild===t?(e.firstChild=n,n&&(n.prev=null)):r&&(r.next=n),e.lastChild===t?(e.lastChild=r,r&&(r.next=null)):n&&(n.prev=r),t.parent=t.next=t.prev=null),t}},{key:"append",value:function(t){var e=this;t.parent&&t.remove();var n=e.lastChild;return n?(n.next=t,t.prev=n,e.lastChild=t):e.lastChild=e.firstChild=t,t.parent=e,t}},{key:"insert",value:function(t,e,n){t.parent&&t.remove();var r=e.parent||this;return n?(e===r.firstChild?r.firstChild=t:e.prev&&(e.prev.next=t),t.prev=e.prev,t.next=e,e.prev=t):(e===r.lastChild?r.lastChild=t:e.next&&(e.next.prev=t),t.next=e.next,t.prev=e,e.next=t),t.parent=r,t}},{key:"getAll",value:function(t){for(var e=this,n=[],r=e.firstChild;r;r=jp(r,e))r.name===t&&n.push(r);return n}},{key:"children",value:function(){for(var t=[],e=this.firstChild;e;e=e.next)t.push(e);return t}},{key:"empty",value:function(){var t=this;if(t.firstChild){for(var e=[],n=t.firstChild;n;n=jp(n,t))e.push(n);for(var r=e.length;r--;){var o=e[r];o.parent=o.firstChild=o.lastChild=o.next=o.prev=null}}return t.firstChild=t.lastChild=null,t}},{key:"isEmpty",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,o=this,i=o.firstChild;if(Up(o))return!1;if(i)do{if(1===i.type){if(i.attr("data-mce-bogus"))continue;if(t[i.name])return!1;if(Up(i))return!1}if(8===i.type)return!1;if(3===i.type&&!zp(i))return!1;if(3===i.type&&i.parent&&n[i.parent.name]&&bi(null!==(e=i.value)&&void 0!==e?e:""))return!1;if(r&&r(i))return!1}while(i=jp(i,o));return!0}},{key:"walk",value:function(t){return jp(this,null,t)}}],[{key:"create",value:function(e,n){var r=new t(e,Fp[e]||1);return n&&Tt(n,(function(t,e){r.attr(e,t)})),r}}]),t}(),Vp=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=t.toLowerCase();if(-1!==r.indexOf("[if ",n)&&function(t,e){return/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(t.substr(e))}(r,n)){var o=r.indexOf("[endif]",n);return r.indexOf(">",o)}if(e){var i=r.indexOf(">",n);return-1!==i?i:r.length}var u=/--!?>/g;u.lastIndex=n;var a=u.exec(t);return a?a.index+a[0].length:r.length},Wp=function(t,e,n){for(var r=/<([!?\/])?([A-Za-z0-9\-_:.]+)/g,o=/(?:\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g,i=t.getVoidElements(),u=1,a=n;0!==u;)for(r.lastIndex=a;;){var c=r.exec(e);if(null===c)return a;if("!"===c[1]){a=ne(c[2],"--")?Vp(e,!1,c.index+3):Vp(e,!0,c.index+1);break}o.lastIndex=r.lastIndex;var s=o.exec(e);if(!R(s)&&s.index===r.lastIndex){"/"===c[1]?u-=1:Lt(i,c[2])||(u+=1),a=r.lastIndex+s[0].length;break}}return a},$p=function(t,e){for(var n,r=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,o=t.schema,i=function(t,e){var n=new RegExp(["\\s?("+t.join("|")+')="[^"]+"'].join("|"),"gi");return e.replace(n,"")}(t.getTempAttrs(),e),u=o.getVoidElements();n=r.exec(i);){var a=r.lastIndex,c=n[0].length,s=void 0;s=u[n[1]]?a:Wp(o,i,a),i=i.substring(0,a-c)+i.substring(s),r.lastIndex=a-c}return Go(i)},qp=$p,Gp=function(t){var e=Kr(t,"[data-mce-bogus]");it(e,(function(t){"all"===mn(t,"data-mce-bogus")?Dr(t):Bo(t)?(_r(t,Rn(So)),Dr(t)):Br(t)}))},Kp=function(t){var e=Kr(t,"input");it(e,(function(t){vn(t,"name")}))},Yp=function(t,e,n){var r;return r="raw"===e.format?Ge.trim(qp(t.serializer,n.innerHTML)):"text"===e.format?function(t,e){var n=t.getDoc(),r=nr(Nn(t.getBody())),o=An("div",n);ln(o,"data-mce-bogus","all"),yr(o,{position:"fixed",left:"-9999999px",top:"0"}),Pr(o,e.innerHTML),Gp(o),Kp(o);var i=function(t){return Zn(t)?t:Nn(jn(t).dom.body)}(r);Tr(i,o);var u=Go(o.dom.innerText);return Dr(o),u}(t,n):"tree"===e.format?t.serializer.serialize(n,e):function(t,e){var n=Fc(t),r=new RegExp("^(<".concat(n,"[^>]*>(&nbsp;|&#160;|\\s|Â |<br \\/>|)<\\/").concat(n,">[\r\n]*|<br \\/>[\r\n]*)$"));return e.replace(r,"")}(t,t.serializer.serialize(n,e)),"text"!==e.format&&!jo(Nn(n))&&E(r)?Ge.trim(r):r},Xp=Ge.makeMap,Jp=function(t){var e=[],n=(t=t||{}).indent,r=Xp(t.indent_before||""),o=Xp(t.indent_after||""),i=au.getEncodeFunc(t.entity_encoding||"raw",t.entities),u="xhtml"!==t.element_format;return{start:function(t,a,c){if(n&&r[t]&&e.length>0){var s=e[e.length-1];s.length>0&&"\n"!==s&&e.push("\n")}if(e.push("<",t),a)for(var f=0,l=a.length;f<l;f++){var d=a[f];e.push(" ",d.name,'="',i(d.value,!0),'"')}if(e[e.length]=!c||u?">":" />",c&&n&&o[t]&&e.length>0){var m=e[e.length-1];m.length>0&&"\n"!==m&&e.push("\n")}},end:function(t){var r;e.push("</",t,">"),n&&o[t]&&e.length>0&&(r=e[e.length-1],r.length>0&&"\n"!==r&&e.push("\n"))},text:function(t,n){t.length>0&&(e[e.length]=n?t:i(t))},cdata:function(t){e.push("<![CDATA[",t,"]]>")},comment:function(t){e.push("\x3c!--",t,"--\x3e")},pi:function(t,r){r?e.push("<?",t," ",i(r),"?>"):e.push("<?",t,"?>"),n&&e.push("\n")},doctype:function(t){e.push("<!DOCTYPE",t,">",n?"\n":"")},reset:function(){e.length=0},getContent:function(){return e.join("").replace(/\n$/,"")}}},Qp=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xu(),n=Jp(t);return t.validate=!("validate"in t)||t.validate,{serialize:function(r){var o=t.validate,i={3:function(t){var e;n.text(null!==(e=t.value)&&void 0!==e?e:"",t.raw)},8:function(t){var e;n.comment(null!==(e=t.value)&&void 0!==e?e:"")},7:function(t){n.pi(t.name,t.value)},10:function(t){var e;n.doctype(null!==(e=t.value)&&void 0!==e?e:"")},4:function(t){var e;n.cdata(null!==(e=t.value)&&void 0!==e?e:"")},11:function(t){var e=t;if(e=e.firstChild)do{u(e)}while(e=e.next)}};n.reset();var u=function t(r){var u,a=i[r.type];if(a)a(r);else{var c=r.name,s=c in e.getVoidElements(),f=r.attributes;if(o&&f&&f.length>1){var l=[];l.map={};var d=e.getElementRule(r.name);if(d){for(var m=0,p=d.attributesOrder.length;m<p;m++){var g=d.attributesOrder[m];if(g in f.map){var v=f.map[g];l.map[g]=v,l.push({name:g,value:v})}}for(var h=0,b=f.length;h<b;h++){var y=f[h].name;if(!(y in l.map)){var x=f.map[y];l.map[y]=x,l.push({name:y,value:x})}}f=l}}if(n.start(c,f,s),!s){var w=r.firstChild;if(w){"pre"!==c&&"textarea"!==c||3!==w.type||"\n"!==(null===(u=w.value)||void 0===u?void 0:u[0])||n.text("\n",!0);do{t(w)}while(w=w.next)}n.end(c)}}};return 1!==r.type||t.inner?3===r.type?i[3](r):i[11](r):u(r),n.getContent()}}},Zp=new Set;it(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],(function(t){Zp.add(t)}));var tg=["font","text-decoration","text-emphasis"],eg=function(t,e){return Et(t.parseStyle(t.getAttrib(e,"style")))},ng=function(t,e,n){var r=eg(t,e),o=eg(t,n),i=function(r){var o,i,u=null!==(o=t.getStyle(e,r))&&void 0!==o?o:"",a=null!==(i=t.getStyle(n,r))&&void 0!==i?i:"";return ce(u)&&ce(a)&&u!==a};return rt(r,(function(t){var e=function(e){return rt(e,(function(e){return e===t}))};if(!e(o)&&e(tg)){var n=ct(o,(function(t){return rt(tg,(function(e){return ne(t,e)}))}));return rt(n,i)}return i(t)}))},rg=function(t,e,n){return J.from(n.container()).filter(co).exists((function(r){var o=t?0:-1;return e(r.data.charAt(n.offset()+o))}))},og=W(rg,!0,Vl),ig=W(rg,!1,Vl),ug=function(t){var e=t.container();return co(e)&&(0===e.data.length||qo(e.data)&&Jd.isBookmarkNode(e.parentNode))},ag=function(t,e){return function(n){return Gf(t?0:-1,n).filter(e).isSome()}},cg=function(t){return vo(t)&&"block"===xr(Nn(t),"display")},sg=function(t){return bo(t)&&!function(t){return Zr(t)&&"all"===t.getAttribute("data-mce-bogus")}(t)},fg=ag(!0,cg),lg=ag(!1,cg),dg=ag(!0,wo),mg=ag(!1,wo),pg=ag(!0,io),gg=ag(!1,io),vg=ag(!0,sg),hg=ag(!1,sg),bg=function(t,e){return function(t,e,n){return Ln(e,t)?Vn(t,(function(t){return n(t)||Pn(t,e)})).slice(0,-1):[]}(t,e,Y)},yg=function(t,e){return[t].concat(bg(t,e))},xg=function(t,e,n){return wl(t,e,n,ug)},wg=function(t,e){return dt(yg(Nn(e.container()),t),No)},Cg=function(t,e,n){return xg(t,e.dom,n).forall((function(t){return wg(e,n).fold((function(){return!qf(t,n,e.dom)}),(function(r){return!qf(t,n,e.dom)&&Ln(r,Nn(t.container()))}))}))},Sg=function(t,e,n){return wg(e,n).fold((function(){return xg(t,e.dom,n).forall((function(t){return!qf(t,n,e.dom)}))}),(function(e){return xg(t,e.dom,n).isNone()}))},kg=W(Sg,!1),_g=W(Sg,!0),Eg=W(Cg,!1),Og=W(Cg,!0),Tg=function(t){return nl(t).exists(Bo)},Ag=function(t,e,n){var r=ct(yg(Nn(n.container()),e),No),o=Ct(r).getOr(e);return yl(t,o.dom,n).filter(Tg)},Rg=function(t,e){return nl(e).exists(Bo)||Ag(!0,t,e).isSome()},Ng=function(t,e){return function(t){return J.from(t.getNode(!0)).map(Nn)}(e).exists(Bo)||Ag(!1,t,e).isSome()},Dg=W(Ag,!1),Bg=W(Ag,!0),Mg=function(t){return $a.isTextPosition(t)&&!t.isAtStart()&&!t.isAtEnd()},Ig=function(t,e){var n=ct(yg(Nn(e.container()),t),No);return Ct(n).getOr(t)},Pg=function(t,e){return Mg(e)?ig(e):ig(e)||kl(Ig(t,e).dom,e).exists(ig)},Lg=function(t,e){return Mg(e)?og(e):og(e)||Sl(Ig(t,e).dom,e).exists(og)},Fg=function(t){return nl(t).bind((function(t){return fr(t,on)})).exists((function(t){return function(t){return nt(["pre","pre-wrap"],t)}(xr(t,"white-space"))}))},jg=function(t,e){return function(n){return r=new Xr(n,t)[e](),M(r)&&bo(r)&&If(r);var r}},zg=function(t,e){return!Fg(e)&&(kg(t,e)||Eg(t,e)||Ng(t,e)||Pg(t,e)||function(t,e){var n=kl(t.dom,e).getOr(e),r=jg(t.dom,"prev");return e.isAtStart()&&(r(e.container())||r(n.container()))}(t,e))},Ug=function(t,e){return!Fg(e)&&(_g(t,e)||Og(t,e)||Rg(t,e)||Lg(t,e)||function(t,e){var n=Sl(t.dom,e).getOr(e),r=jg(t.dom,"next");return e.isAtEnd()&&(r(e.container())||r(n.container()))}(t,e))},Hg=function(t,e){return zg(t,e)||Ug(t,function(t){var e=t.container(),n=t.offset();return co(e)&&n<e.data.length?$a(e,n+1):t}(e))},Vg=function(t,e){return Hl(t.charAt(e))},Wg=function(t,e){return Vl(t.charAt(e))},$g=function(t,e,n){var r=e.data,o=$a(e,0);return n||!Vg(r,0)||Hg(t,o)?!!(n&&Wg(r,0)&&zg(t,o))&&(e.data=ko+r.slice(1),!0):(e.data=" "+r.slice(1),!0)},qg=function(t,e,n){var r=e.data,o=$a(e,r.length-1);return n||!Vg(r,r.length-1)||Hg(t,o)?!!(n&&Wg(r,r.length-1)&&Ug(t,o))&&(e.data=r.slice(0,-1)+ko,!0):(e.data=r.slice(0,-1)+" ",!0)},Gg=function(t,e){var n=e.container();if(!co(n))return J.none();if(function(t){var e=t.container();return co(e)&&ee(e.data,ko)}(e)){var r=$g(t,n,!1)||function(t){var e=t.data,n=function(t){var e=t.split("");return ot(e,(function(t,n){return Hl(t)&&n>0&&n<e.length-1&&Wl(e[n-1])&&Wl(e[n+1])?" ":t})).join("")}(e);return n!==e&&(t.data=n,!0)}(n)||qg(t,n,!1);return Xe(r,e)}if(Hg(t,e)){var o=$g(t,n,!0)||qg(t,n,!0);return Xe(o,e)}return J.none()},Kg=function(t,e,n){if(0!==n){var r=Nn(t),o=sr(r,No).getOr(r),i=t.data.slice(e,e+n),u=e+n>=t.data.length&&Ug(o,$a(t,t.data.length)),a=0===e&&zg(o,$a(t,0));t.replaceData(e,n,xi(i,4,a,u))}},Yg=function(t,e){var n=t.data.slice(e),r=n.length-ue(n).length;Kg(t,e,r)},Xg=function(t,e){var n=t.data.slice(0,e),r=n.length-ae(n).length;Kg(t,e-r,r)},Jg=function(t,e,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=ae(t.data).length,i=r?t:e,u=r?e:t;return r?i.appendData(u.data):i.insertData(0,u.data),Dr(Nn(u)),n&&Yg(i,o),i},Qg=function(t,e){return function(t,e){var n=t.container(),r=t.offset();return!$a.isTextPosition(t)&&n===e.parentNode&&r>$a.before(e).offset()}(e,t)?$a(e.container(),e.offset()-1):e},Zg=function(t){return pi(t.previousSibling)?J.some((e=t.previousSibling,co(e)?$a(e,e.data.length):$a.after(e))):t.previousSibling?El(t.previousSibling):J.none();var e},tv=function(t){return pi(t.nextSibling)?J.some((e=t.nextSibling,co(e)?$a(e,0):$a.before(e))):t.nextSibling?_l(t.nextSibling):J.none();var e},ev=function(t,e,n){return function(t,e,n){return t?function(t,e){return tv(e).orThunk((function(){return Zg(e)})).orThunk((function(){return function(t,e){return Sl(t,$a.after(e)).orThunk((function(){return kl(t,$a.before(e))}))}(t,e)}))}(e,n):function(t,e){return Zg(e).orThunk((function(){return tv(e)})).orThunk((function(){return function(t,e){return J.from(e.previousSibling?e.previousSibling:e.parentNode).bind((function(e){return kl(t,$a.before(e))})).orThunk((function(){return Sl(t,$a.after(e))}))}(t,e)}))}(e,n)}(t,e,n).map(W(Qg,n))},nv=function(t,e,n){n.fold((function(){t.focus()}),(function(n){t.selection.setRng(n.toRange(),e)}))},rv=function(t,e){return e&&Lt(t.schema.getBlockElements(),en(e))},ov=function(t){if(_i(t)){var e=Tn('<br data-mce-bogus="1">');return Nr(t),Tr(t,e),J.some($a.before(e.dom))}return J.none()},iv=function(t,e,n){var r,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=ev(e,t.getBody(),n.dom),u=sr(n,W(rv,t),(r=t.getBody(),function(t){return t.dom===r})),a=function(t,e,n){var r,o,i,u,a=Wn(t).filter(un),c=$n(t).filter(un);return Dr(t),(r=a,o=c,i=e,u=function(t,e,r){var o=t.dom,i=e.dom,u=o.data.length;return Jg(o,i,n),r.container()===i?$a(o,u):r},r.isSome()&&o.isSome()&&i.isSome()?J.some(u(r.getOrDie(),o.getOrDie(),i.getOrDie())):J.none()).orThunk((function(){return n&&(a.each((function(t){return Xg(t.dom,t.dom.length)})),c.each((function(t){return Yg(t.dom,0)}))),e}))}(n,i,function(t,e){return Lt(t.schema.getTextInlineElements(),en(e))}(t,n));t.dom.isEmpty(t.getBody())?(t.setContent(""),t.selection.setCursorLocation()):u.bind(ov).fold((function(){o&&nv(t,e,a)}),(function(n){o&&nv(t,e,J.some(n))}))},uv=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,av=function(t,e){return Mn(Nn(e),fs(t))&&!Li(t.schema,e)&&t.dom.isEditable(e)},cv=function(t,e,n){var r=function(t,e,n){return ct(zu.DOM.getParents(n.container(),"*",e),t)}(t,e,n);return J.from(r[r.length-1])},sv=function(t,e){var n=e.container(),r=e.offset();return t?Jo(n)?co(n.nextSibling)?$a(n.nextSibling,0):$a.after(n):ti(e)?$a(n,r+1):e:Jo(n)?co(n.previousSibling)?$a(n.previousSibling,n.previousSibling.data.length):$a.before(n):ei(e)?$a(n,r-1):e},fv=W(sv,!0),lv=W(sv,!1),dv=function(t,e){var n=function(t){return t.stopImmediatePropagation()};t.on("beforeinput input",n,!0),t.getDoc().execCommand(e),t.off("beforeinput input",n)},mv=function(t){return dv(t,"Delete")},pv=function(t){return Mo(t)||Po(t)},gv=function(t,e){return Ln(t,e)?fr(e,pv,function(t){return function(e){return Ke(Un(e),t,Pn)}}(t)):J.none()},vv=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t.dom.isEmpty(t.getBody())&&t.setContent("",{no_selection:!e})},hv=function t(e){var n;return(8===nn(n=e)||"#comment"===en(n)?Wn(e):Jn(e)).bind(t).orThunk((function(){return J.some(e)}))},bv=function(t,e,n){var r,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];e.deleteContents();var i,u=hv(n).getOr(n),a=Nn(null!==(r=t.dom.getParent(u.dom,t.dom.isBlock))&&void 0!==r?r:n.dom);if(a.dom===t.getBody()?vv(t,o):_i(a)&&(Vo(a),o&&t.selection.setCursorLocation(a.dom,0)),!Pn(n,a)){var c=Ke(Un(a),n)?[]:Un(i=a).map(Kn).map((function(t){return ct(t,(function(t){return!Pn(i,t)}))})).getOr([]);it(c.concat(Kn(n)),(function(t){Pn(t,a)||Ln(t,a)||!_i(t)||Dr(t)}))}},yv=function(t){return Kr(t,"td,th")},xv=function(t,e){return{start:t,end:e}},wv=vc([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),Cv=function(t,e){return mr(Nn(t),"td,th",e)},Sv=function(t){return!Pn(t.start,t.end)},kv=function(t,e){return ed(t.start,e).bind((function(n){return ed(t.end,e).bind((function(t){return Xe(Pn(n,t),n)}))}))},_v=function(t){return function(e){return kv(e,t).map((function(t){return function(t,e,n){return{rng:t,table:e,cells:n}}(e,t,yv(t))}))}},Ev=function(t,e,n,r){if(n.collapsed||!t.forall(Sv))return J.none();if(e.isSameTable){var o=t.bind(_v(r));return J.some({start:o,end:o})}var i=Cv(n.startContainer,r),u=Cv(n.endContainer,r),a=i.bind(function(t){return function(e){return ed(e,t).bind((function(t){return St(yv(t)).map((function(t){return xv(e,t)}))}))}}(r)).bind(_v(r)),c=u.bind(function(t){return function(e){return ed(e,t).bind((function(t){return Ct(yv(t)).map((function(t){return xv(t,e)}))}))}}(r)).bind(_v(r));return J.some({start:a,end:c})},Ov=function(t,e){return mt(t,(function(t){return Pn(t,e)}))},Tv=function(t){return Ye(Ov(t.cells,t.rng.start),Ov(t.cells,t.rng.end),(function(e,n){return t.cells.slice(e,n+1)}))},Av=function(t,e){var n=e.startTable,r=e.endTable,o=t.cloneRange();return n.each((function(t){return o.setStartAfter(t.dom)})),r.each((function(t){return o.setEndBefore(t.dom)})),o},Rv=function(t,e){var n=function(t){return function(e){return Pn(t,e)}}(t),r=function(t,e){var n=Cv(t.startContainer,e),r=Cv(t.endContainer,e);return Ye(n,r,xv)}(e,n),o=function(t,e){var n=function(t){return ed(Nn(t),e)},r=n(t.startContainer),o=n(t.endContainer),i=r.isSome(),u=o.isSome(),a=Ye(r,o,Pn).getOr(!1);return{startTable:r,endTable:o,isStartInTable:i,isEndInTable:u,isSameTable:a,isMultiTable:!a&&i&&u}}(e,n);return function(t,e,n){return t.exists((function(t){return function(t,e){return!Sv(t)&&kv(t,e).exists((function(t){var e=t.dom.rows;return 1===e.length&&1===e[0].cells.length}))}(t,n)&&od(t.start,e)}))}(r,e,n)?r.map((function(t){return wv.singleCellTable(e,t.start)})):o.isMultiTable?function(t,e,n,r){return Ev(t,e,n,r).bind((function(t){var r=t.start,o=t.end,i=r.bind(Tv).getOr([]),u=o.bind(Tv).getOr([]);if(i.length>0&&u.length>0){var a=Av(n,e);return J.some(wv.multiTable(i,u,a))}return J.none()}))}(r,o,e,n):function(t,e,n,r){return Ev(t,e,n,r).bind((function(t){var e=t.start,n=t.end;return e.or(n)})).bind((function(t){var r=e.isSameTable,o=Tv(t).getOr([]);if(r&&t.cells.length===o.length)return J.some(wv.fullTable(t.table));if(o.length>0){if(r)return J.some(wv.partialTable(o,J.none()));var i=Av(n,e);return J.some(wv.partialTable(o,J.some(s(s({},e),{},{rng:i}))))}return J.none()}))}(r,o,e,n)},Nv=function(t){return it(t,(function(t){vn(t,"contenteditable"),Vo(t)}))},Dv=function(t,e,n,r){var o=n.cloneRange();r?(o.setStart(n.startContainer,n.startOffset),o.setEndAfter(e.dom.lastChild)):(o.setStartBefore(e.dom.firstChild),o.setEnd(n.endContainer,n.endOffset)),Pv(t,o,e,!1).each((function(t){return t()}))},Bv=function(t){var e=td(t),n=Nn(t.selection.getNode());yo(n.dom)&&_i(n)?t.selection.setCursorLocation(n.dom,0):t.selection.collapse(!0),e.length>1&&rt(e,(function(t){return Pn(t,n)}))&&ln(n,"data-mce-selected","1")},Mv=function(t,e,n){return J.some((function(){var r=t.selection.getRng(),o=n.bind((function(n){var o=n.rng,i=n.isStartInTable,u=function(t,e){return J.from(t.dom.getParent(e,t.dom.isBlock)).map(Nn)}(t,i?o.endContainer:o.startContainer);o.deleteContents(),function(t,e,n){n.each((function(n){e?Dr(n):(Vo(n),t.selection.setCursorLocation(n.dom,0))}))}(t,i,u.filter(_i));var a=i?e[0]:e[e.length-1];return Dv(t,a,r,i),_i(a)?J.none():J.some(i?e.slice(1):e.slice(0,-1))})).getOr(e);Nv(o),Bv(t)}))},Iv=function(t,e,n,r){return J.some((function(){var o=t.selection.getRng(),i=e[0],u=n[n.length-1];Dv(t,i,o,!0),Dv(t,u,o,!1);var a=_i(i)?e:e.slice(1),c=_i(u)?n:n.slice(0,-1);Nv(a.concat(c)),r.deleteContents(),Bv(t)}))},Pv=function(t,e,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return J.some((function(){bv(t,e,n,r)}))},Lv=function(t,e){return J.some((function(){return iv(t,!1,e)}))},Fv=function(t,e){return dt(yg(e,t),Fo)},jv=function(t,e){return dt(yg(e,t),sn("caption"))},zv=function(t,e){return J.some((function(){Vo(e),t.selection.setCursorLocation(e.dom,0)}))},Uv=function(t,e){return t?pg(e):gg(e)},Hv=function(t,e,n){var r=Nn(t.getBody());return jv(r,n).fold((function(){return function(t,e,n,r){var o=$a.fromRangeStart(t.selection.getRng());return Fv(n,r).bind((function(r){return _i(r)?zv(t,r):function(t,e,n,r,o){return xl(n,t.getBody(),o).bind((function(t){return Fv(e,Nn(t.getNode())).bind((function(t){return Pn(t,r)?J.none():J.some(F)}))}))}(t,n,e,r,o)}))}(t,e,r,n).orThunk((function(){return Xe(function(t,e){var n=$a.fromRangeStart(t.selection.getRng());return Uv(e,n)||yl(e,t.getBody(),n).exists((function(t){return Uv(e,t)}))}(t,e),F)}))}),(function(n){return function(t,e,n,r){var o=$a.fromRangeStart(t.selection.getRng());return _i(r)?zv(t,r):function(t,e,n,r,o){return xl(n,t.getBody(),o).fold((function(){return J.some(F)}),(function(i){return function(t,e,n,r){return _l(t.dom).bind((function(o){return El(t.dom).map((function(t){return e?n.isEqual(o)&&r.isEqual(t):n.isEqual(t)&&r.isEqual(o)}))})).getOr(!0)}(r,n,o,i)?function(t,e){return zv(t,e)}(t,r):function(t,e,n){return jv(t,Nn(n.getNode())).fold((function(){return J.some(F)}),(function(t){return Xe(!Pn(t,e),F)}))}(e,r,i)}))}(t,n,e,r,o)}(t,e,r,n)}))},Vv=function(t,e){var n=Nn(t.selection.getStart(!0)),r=td(t);return t.selection.isCollapsed()&&0===r.length?Hv(t,e,n):function(t,e,n){var r=Nn(t.getBody()),o=t.selection.getRng();return 0!==n.length?Mv(t,n,J.none()):function(t,e,n,r){return jv(e,r).fold((function(){return function(t,e,n){return Rv(e,n).bind((function(e){return e.fold(W(Pv,t),W(Lv,t),W(Mv,t),W(Iv,t))}))}(t,e,n)}),(function(e){return function(t,e){return zv(t,e)}(t,e)}))}(t,r,o,e)}(t,n,r)},Wv=function(t,e){for(var n=e;n&&n!==t;){if(ho(n)||bo(n))return n;n=n.parentNode}return null},$v=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],qv=Ge.each,Gv=function(t){var e=t.dom,n=new Set(t.serializer.getTempAttrs()),r=function(t){return rt($v,(function(e){return ne(t,e)}))||n.has(t)};return{compare:function(t,n){if(t.nodeName!==n.nodeName||t.nodeType!==n.nodeType)return!1;var o=function(t){var n={};return qv(e.getAttribs(t),(function(o){var i=o.nodeName.toLowerCase();"style"===i||r(i)||(n[i]=e.getAttrib(t,i))})),n},i=function(t,e){for(var n in t)if(Lt(t,n)){var r=e[n];if(D(r))return!1;if(t[n]!==r)return!1;delete e[n]}for(var o in e)if(Lt(e,o))return!1;return!0};if(Zr(t)&&Zr(n)){if(!i(o(t),o(n)))return!1;if(!i(e.parseStyle(e.getAttrib(t,"style")),e.parseStyle(e.getAttrib(n,"style"))))return!1}return!Ul(t)&&!Ul(n)},isAttributeInternal:r}},Kv=function(t,e,n,r){for(var o=n.name,i=0,u=t.length;i<u;i++){var a=t[i];if(a.name===o){var c=r.nodes[o];c?c.nodes.push(n):r.nodes[o]={filter:a,nodes:[n]}}}if(n.attributes)for(var s=0,f=e.length;s<f;s++){var l=e[s],d=l.name;if(d in n.attributes.map){var m=r.attributes[d];m?m.nodes.push(n):r.attributes[d]={filter:l,nodes:[n]}}}},Yv=function(t,e){var n=function(t,n){Tt(t,(function(t){var r=kt(t.nodes);it(t.filter.callbacks,(function(o){for(var i=r.length-1;i>=0;i--){var u=r[i];(n?void 0!==u.attr(t.filter.name):u.name===t.filter.name)&&!B(u.parent)||r.splice(i,1)}r.length>0&&o(r,t.filter.name,e)}))}))};n(t.nodes,!1),n(t.attributes,!0)},Xv=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=function(t,e,n){var r={nodes:{},attributes:{}};return n.firstChild&&function(n,o){for(var i=n;i=i.walk();)Kv(t,e,i,r)}(n),r}(t,e,n);Yv(o,r)},Jv=function(t,e,n){if(t.insert&&e(n)){var r=new Hp("br",1);r.attr("data-mce-bogus","1"),n.empty().append(r)}else n.empty().append(new Hp("#text",3)).value=ko},Qv=function(t,e){var n=null==t?void 0:t.firstChild;return M(n)&&n===t.lastChild&&n.name===e},Zv=function(t,e,n,r){return r.isEmpty(e,n,(function(e){return function(t,e){var n=t.getElementRule(e.name);return!0===(null==n?void 0:n.paddEmpty)}(t,e)}))},th=function(t){for(var e,n=t;n;n=n.parent){var r=n.attr("contenteditable");if("false"===r)break;"true"===r&&(e=n)}return J.from(e)},eh=function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.parent;if(n.getSpecialElements()[e.name])e.empty().remove();else{var o,i=e.children(),u=a(i);try{for(u.s();!(o=u.n()).done;){var c=o.value;r&&!n.isValidChild(r.name,c.name)&&t(c,n,r)}}catch(s){u.e(s)}finally{u.f()}e.unwrap()}},nh=function(t,e,n){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:F,o=e.getTextBlockElements(),i=e.getNonEmptyElements(),u=e.getWhitespaceElements(),a=Ge.makeMap("tr,td,th,tbody,thead,tfoot,table"),c=new Set,s=function(t){return t!==n&&!a[t.name]},f=0;f<t.length;f++){var l=t[f],d=void 0,m=void 0,p=void 0;if(l.parent&&!c.has(l))if(o[l.name]&&"li"===l.parent.name){for(var g=l.next;g&&o[g.name];)g.name="li",c.add(g),l.parent.insert(g,l.parent),g=g.next;l.unwrap()}else{var v=[l];for(d=l.parent;d&&!e.isValidChild(d.name,l.name)&&s(d);d=d.parent)v.push(d);if(d&&v.length>1)if(e.isValidChild(d.name,l.name)){v.reverse(),m=v[0].clone(),r(m);for(var h=m,b=0;b<v.length-1;b++){e.isValidChild(h.name,v[b].name)&&b>0?(p=v[b].clone(),r(p),h.append(p)):p=h;for(var y=v[b].firstChild;y&&y!==v[b+1];){var x=y.next;p.append(y),y=x}h=p}Zv(e,i,u,m)?d.insert(l,v[0],!0):(d.insert(m,v[0],!0),d.insert(l,m)),d=v[0],(Zv(e,i,u,d)||Qv(d,"br"))&&d.empty().remove()}else eh(l,e);else if(l.parent){if("li"===l.name){var w=l.prev;if(w&&("ul"===w.name||"ol"===w.name)){w.append(l);continue}if(w=l.next,w&&("ul"===w.name||"ol"===w.name)&&w.firstChild){w.insert(l,w.firstChild,!0);continue}var C=new Hp("ul",1);r(C),l.wrap(C);continue}if(e.isValidChild(l.parent.name,"div")&&e.isValidChild("div",l.name)){var S=new Hp("div",1);r(S),l.wrap(S)}else eh(l,e)}}}},rh=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.parent;return!(!n||!t.children[e.name]||t.isValidChild(n.name,e.name))||!(!n||"a"!==e.name||!function(t,e){for(var n=t;n;){if("a"===n.name)return!0;n=n.parent}return!1}(n))},oh=function(t){return t.collapsed?t:function(t){var e=$a.fromRangeStart(t),n=$a.fromRangeEnd(t),r=t.commonAncestorContainer;return yl(!1,r,n).map((function(o){return!qf(e,n,r)&&qf(e,o,r)?function(t,e,n,r){var o=document.createRange();return o.setStart(t,e),o.setEnd(n,r),o}(e.container(),e.offset(),o.container(),o.offset()):t})).getOr(t)}(t)},ih=function(t,e){var n=e.firstChild,r=e.lastChild;return n&&"meta"===n.name&&(n=n.next),r&&"mce_marker"===r.attr("id")&&(r=r.prev),function(t,e){var n=t.getNonEmptyElements();return M(e)&&(e.isEmpty(n)||function(t,e){return t.getBlockElements()[e.name]&&function(t){return M(t.firstChild)&&t.firstChild===t.lastChild}(e)&&function(t){return"br"===t.name||t.value===ko}(e.firstChild)}(t,e))}(t,r)&&(r=null==r?void 0:r.prev),!(!n||n!==r||"ul"!==n.name&&"ol"!==n.name)},uh=function(t){return t.length>0&&(!(n=t[t.length-1]).firstChild||M(null==(e=n)?void 0:e.firstChild)&&e.firstChild===e.lastChild&&function(t){return t.data===ko||go(t)}(e.firstChild))?t.slice(0,-1):t;var e,n},ah=function(t,e){var n=t.getParent(e,t.isBlock);return n&&"LI"===n.nodeName?n:null},ch=function(t,e){var n=$a.after(t),r=gl(e).prev(n);return r?r.toRange():null},sh=function(t,e,n,r){var o,i,u=function(t,e,n){var r=e.serialize(n);return function(t){var e,n,r=t.firstChild,o=t.lastChild;return r&&"META"===r.nodeName&&(null===(e=r.parentNode)||void 0===e||e.removeChild(r)),o&&"mce_marker"===o.id&&(null===(n=o.parentNode)||void 0===n||n.removeChild(o)),t}(t.createFragment(r))}(e,t,r),a=ah(e,n.startContainer),c=uh((o=u.firstChild,ct(null!==(i=null==o?void 0:o.childNodes)&&void 0!==i?i:[],(function(t){return"LI"===t.nodeName})))),s=e.getRoot(),f=function(t){var r=$a.fromRangeStart(n),o=gl(e.getRoot()),i=1===t?o.prev(r):o.next(r),u=null==i?void 0:i.getNode();return!u||ah(e,u)!==a};return a?f(1)?function(t,e,n){var r=t.parentNode;return r&&Ge.each(e,(function(e){r.insertBefore(e,t)})),function(t,e){var n=$a.before(t),r=gl(e).next(n);return r?r.toRange():null}(t,n)}(a,c,s):f(2)?function(t,e,n,r){return r.insertAfter(e.reverse(),t),ch(e[0],n)}(a,c,s,e):function(t,e,n,r){var o=function(t,e){var n=e.cloneRange(),r=e.cloneRange();return n.setStartBefore(t),r.setEndAfter(t),[n.cloneContents(),r.cloneContents()]}(t,r),i=t.parentNode;return i&&(i.insertBefore(o[0],t),Ge.each(e,(function(e){i.insertBefore(e,t)})),i.insertBefore(o[1],t),i.removeChild(t)),ch(e[e.length-1],n)}(a,c,s,n):null},fh=["pre"],lh=yo,dh=function(t,e,n){var r,o,i=t.selection,u=t.dom,a=t.parser,c=n.merge,s=Qp({validate:!0},t.schema),f='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';-1===e.indexOf("{$caret}")&&(e+="{$caret}"),e=e.replace(/\{\$caret\}/,f);var l=i.getRng(),d=l.startContainer,m=t.getBody();d===m&&i.isCollapsed()&&u.isBlock(m.firstChild)&&function(t,e){return M(e)&&!t.schema.getVoidElements()[e.nodeName]}(t,m.firstChild)&&u.isEmpty(m.firstChild)&&(l=u.createRng(),l.setStart(m.firstChild,0),l.setEnd(m.firstChild,0),i.setRng(l)),i.isCollapsed()||function(t){var e=t.dom,n=oh(t.selection.getRng());t.selection.setRng(n);var r=e.getParent(n.startContainer,lh);!function(t,e,n){return!!M(n)&&n===t.getParent(e.endContainer,lh)&&od(Nn(n),e)}(e,n,r)?n.startContainer===n.endContainer&&n.endOffset-n.startOffset==1&&co(n.startContainer.childNodes[n.startOffset])?n.deleteContents():t.getDoc().execCommand("Delete",!1):Pv(t,n,Nn(r))}(t);var p=i.getNode(),g={context:p.nodeName.toLowerCase(),data:n.data,insert:!0},v=a.parse(e,g);if(!0===n.paste&&ih(t.schema,v)&&function(t,e){return!!ah(t,e)}(u,p))return l=sh(s,u,i.getRng(),v),l&&i.setRng(l),e;!0===n.paste&&function(t,e,n,r){var o,i=e.firstChild,u=e.lastChild,a=i===("bookmark"===u.attr("data-mce-type")?u.prev:u),c=nt(fh,i.name);if(a&&c){var s="false"!==i.attr("contenteditable"),f=(null===(o=t.getParent(n,t.isBlock))||void 0===o?void 0:o.nodeName.toLowerCase())===i.name,l=J.from(Wv(r,n)).forall(ho);return s&&f&&l}return!1}(u,v,p,t.getBody())&&(null===(r=v.firstChild)||void 0===r||r.unwrap()),function(t){for(var e=t;e=e.walk();)1===e.type&&e.attr("data-mce-fragment","1")}(v);var h,b=v.lastChild;if(b&&"mce_marker"===b.attr("id")){var y=b;for(b=b.prev;b;b=b.walk(!0))if(3===b.type||!u.isBlock(b.name)){b.parent&&t.schema.isValidChild(b.parent.name,"span")&&b.parent.insert(y,b,"br"===b.name);break}}if(t._selectionOverrides.showBlockCaretContainer(p),g.invalid){t.selection.setContent(f);var x,w=i.getNode(),C=t.getBody();for(mo(w)?w=x=C:x=w;x&&x!==C;)w=x,x=x.parentNode;e=w===C?C.innerHTML:u.getOuterHTML(w);var S=a.parse(e),k=function(t){for(var e=t;e;e=e.walk())if("mce_marker"===e.attr("id"))return J.some(e);return J.none()}(S),_=k.bind(th).getOr(S);k.each((function(t){return t.replace(v)}));var E=v.children(),O=null!==(o=v.parent)&&void 0!==o?o:S;v.unwrap();var T=ct(E,(function(e){return rh(t.schema,e,O)}));nh(T,t.schema,_),Xv(a.getNodeFilters(),a.getAttributeFilters(),S),e=s.serialize(S),w===C?u.setHTML(C,e):u.setOuterHTML(w,e)}else e=s.serialize(v),function(t,e,n){var r;if("all"===n.getAttribute("data-mce-bogus"))null===(r=n.parentNode)||void 0===r||r.insertBefore(t.dom.createFragment(e),n);else{var o=n.firstChild,i=n.lastChild;!o||o===i&&"BR"===o.nodeName?t.dom.setHTML(n,e):t.selection.setContent(e,{no_events:!0})}}(t,e,p);return function(t,e){var n=t.schema.getTextInlineElements(),r=t.dom;if(e){var o=t.getBody(),i=Gv(t);Ge.each(r.select("*[data-mce-fragment]"),(function(t){if(M(n[t.nodeName.toLowerCase()])&&function(t,e){return vt(eg(t,e),(function(t){return!function(t){return Zp.has(t)}(t)}))}(r,t))for(var e=t.parentElement;M(e)&&e!==o&&!ng(r,t,e);e=e.parentElement)if(i.compare(e,t)){r.remove(t,!0);break}}))}}(t,c),function(t,e){var n,r,o,i,u=t.dom,a=t.selection;if(e){a.scrollIntoView(e);var c=Wv(t.getBody(),e);if(c&&"false"===u.getContentEditable(c))return u.remove(e),void a.select(c);var s=u.createRng(),f=e.previousSibling;if(co(f)){s.setStart(f,null!==(r=null===(n=f.nodeValue)||void 0===n?void 0:n.length)&&void 0!==r?r:0);var l=e.nextSibling;co(l)&&(f.appendData(l.data),null===(o=l.parentNode)||void 0===o||o.removeChild(l))}else s.setStartBefore(e),s.setEndBefore(e);var d=u.getParent(e,u.isBlock);u.remove(e),d&&u.isEmpty(d)&&(Nr(Nn(d)),s.setStart(d,0),s.setEnd(d,0),lh(d)||function(t){return!!t.getAttribute("data-mce-fragment")}(d)||!(i=function(e){var n=$a.fromRangeStart(e);return n=gl(t.getBody()).next(n),null==n?void 0:n.toRange()}(s))?u.add(d,u.create("br",{"data-mce-bogus":"1"})):(s=i,u.remove(d))),a.setRng(s)}}(t,u.get("mce_marker")),h=t.getBody(),Ge.each(h.getElementsByTagName("*"),(function(t){t.removeAttribute("data-mce-fragment")})),function(t,e){J.from(t.getParent(e,"td,th")).map(Nn).each(Wo)}(u,i.getStart()),function(t,e,n){var r=Vn(Nn(n),(function(t){return Pn(t,Nn(e))}));wt(r,r.length-2).filter(on).fold((function(){return Di(t,e)}),(function(e){return Di(t,e.dom)}))}(t.schema,t.getBody(),i.getStart()),e},mh=function(t){return t instanceof Hp},ph=function(t,e,n){t.dom.setHTML(t.getBody(),e),!0!==n&&function(t){Ep(t)&&_l(t.getBody()).each((function(e){var n=e.getNode(),r=io(n)?_l(n).getOr(e):e;t.selection.setRng(r.toRange())}))}(t)},gh=function(t,e){return function(t,e){var n=t.dom;return n.parentNode?function(t,e){return dt(t.dom.childNodes,(function(t){return e(Nn(t))})).map(Nn)}(Nn(n.parentNode),(function(n){return!Pn(t,n)&&e(n)})):J.none()}(t,e).isSome()},vh=function(t){return I(t)?t:Y},hh=function(t,e,n){var r=e(t),o=vh(n);return r.orThunk((function(){return o(t)?J.none():function(t,e,n){for(var r=t.dom,o=vh(n);r.parentNode;){r=r.parentNode;var i=Nn(r),u=e(i);if(u.isSome())return u;if(o(i))break}return J.none()}(t,e,o)}))},bh=xd,yh=function(t,e,n){var r=t.formatter.get(n);if(r)for(var o=0;o<r.length;o++){var i=r[o];if(Od(i)&&!1===i.inherit&&t.dom.is(e,i.selector))return!0}return!1},xh=function(t,e,n,r,o){var i=t.dom.getRoot();if(e===i)return!1;var u=t.dom.getParent(e,(function(e){return!!yh(t,e,n)||e.parentNode===i||!!Sh(t,e,n,r,!0)}));return!!Sh(t,u,n,r,o)},wh=function(t,e,n){return!(!Td(n)||!bh(e,n.inline))||!(!Ed(n)||!bh(e,n.block))||!!Od(n)&&Zr(e)&&t.is(e,n.selector)},Ch=function(t,e,n,r,o,i){var u=n[r],a="attributes"===r;if(I(n.onmatch))return n.onmatch(e,n,r);if(u)if(zt(u)){for(var c=0;c<u.length;c++)if(a?t.getAttrib(e,u[c]):Cd(t,e,u[c]))return!0}else for(var s in u)if(Lt(u,s)){var f=a?t.getAttrib(e,s):Cd(t,e,s),l=yd(u[s],i),d=B(f)||se(f);if(d&&B(l))continue;if(o&&d&&!n.exact)return!1;if((!o||n.exact)&&!bh(f,wd(l,s)))return!1}return!0},Sh=function(t,e,n,r,o){var i=t.formatter.get(n),u=t.dom;if(i&&Zr(e))for(var a=0;a<i.length;a++){var c=i[a];if(wh(t.dom,e,c)&&Ch(u,e,c,"attributes",o,r)&&Ch(u,e,c,"styles",o,r)){var s=c.classes;if(s)for(var f=0;f<s.length;f++)if(!t.dom.hasClass(e,yd(s[f],r)))return;return c}}},kh=function(t,e,n,r,o){if(r)return xh(t,r,e,n,o);if(r=t.selection.getNode(),xh(t,r,e,n,o))return!0;var i=t.selection.getStart();return!(i===r||!xh(t,i,e,n,o))},_h=$o,Eh=function(t){return function(t){for(var e=[],n=t;n;){if(co(n)&&n.data!==_h||n.childNodes.length>1)return[];Zr(n)&&e.push(n),n=n.firstChild}return e}(t).length>0},Oh=function(t){if(t)for(var e=new Xr(t,t),n=e.current();n;n=e.next())if(co(n))return n;return null},Th=function(t){var e=An("span");return dn(e,{id:Ol,"data-mce-bogus":"1","data-mce-type":"format-caret"}),t&&Tr(e,Rn(_h)),e},Ah=function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=t.dom,o=t.selection;if(Eh(e))iv(t,!1,Nn(e),n);else{var i=o.getRng(),u=r.getParent(e,r.isBlock),a=i.startContainer,c=i.startOffset,s=i.endContainer,f=i.endOffset,l=function(t){var e=Oh(t);return e&&e.data.charAt(0)===_h&&e.deleteData(0,1),e}(e);r.remove(e,!0),a===l&&c>0&&i.setStart(l,c-1),s===l&&f>0&&i.setEnd(l,f-1),u&&r.isEmpty(u)&&Vo(Nn(u)),o.setRng(i)}},Rh=function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=t.dom,o=t.selection;if(e)Ah(t,e,n);else if(!(e=Al(t.getBody(),o.getStart())))for(;e=r.get(Ol);)Ah(t,e,!1)},Nh=function(t,e){return t.appendChild(e),e},Dh=function(t,e){var n,r=st(t,(function(t,e){return Nh(t,e.cloneNode(!1))}),e),o=null!==(n=r.ownerDocument)&&void 0!==n?n:document;return Nh(r,o.createTextNode(_h))},Bh=function(t,e,n,r){var o=t.dom,i=t.selection,u=!1,a=t.formatter.get(e);if(a){var c=i.getRng(),s=c.startContainer,f=c.startOffset,l=s;co(s)&&(f!==s.data.length&&(u=!0),l=l.parentNode);for(var d,m=[];l;){if(Sh(t,l,e,n,r)){d=l;break}l.nextSibling&&(u=!0),m.push(l),l=l.parentNode}if(d)if(u){var p=i.getBookmark();c.collapse(!0);var g=Wd(o,c,a,!0);g=Pm(g),t.formatter.remove(e,n,g,r),i.moveToBookmark(p)}else{var v=Al(t.getBody(),d),h=Th(!1).dom;(function(t,e,n){var r,o,i=t.dom,u=i.getParent(n,W(gd,t.schema));u&&i.isEmpty(u)?null===(r=n.parentNode)||void 0===r||r.replaceChild(e,n):(function(t){var e=Kr(t,"br"),n=ct(function(t){for(var e=[],n=t.dom;n;)e.push(Nn(n)),n=n.lastChild;return e}(t).slice(-1),Bo);e.length===n.length&&it(n,Dr)}(Nn(n)),i.isEmpty(n)?null===(o=n.parentNode)||void 0===o||o.replaceChild(e,n):i.insertAfter(e,n))})(t,h,null!=v?v:d);var x=function(t,e,n,r,o,i){var u=t.formatter,a=t.dom,c=ct(Et(u.get()),(function(t){return t!==r&&!ee(t,"removeformat")})),s=function(t,e,n){return ft(n,(function(n,r){var o=function(t,e){return _d(t,e,(function(t){var e=function(t){return I(t)||t.length>1&&"%"===t.charAt(0)};return rt(["styles","attributes"],(function(n){return Pt(t,n).exists((function(t){var n=A(t)?t:It(t);return rt(n,e)}))}))}))}(t,r);return t.formatter.matchNode(e,r,{},o)?n.concat([r]):n}),[])}(t,n,c);if(ct(s,(function(e){return!function(t,e,n){var r=["inline","block","selector","attributes","styles","classes"],o=function(t){return Bt(t,(function(t,e){return rt(r,(function(t){return t===e}))}))};return _d(t,e,(function(e){var r=o(e);return _d(t,n,(function(t){var e=o(t);return function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y;return b(n).eq(t,e)}(r,e)}))}))}(t,e,r)})).length>0){var f=n.cloneNode(!1);return a.add(e,f),u.remove(r,o,f,i),a.remove(f),J.some(f)}return J.none()}(t,h,d,e,n,r),w=Dh(m.concat(x.toArray()),h);v&&Ah(t,v,!1),i.setCursorLocation(w,1),o.isEmpty(d)&&o.remove(d)}}},Mh=function(t){var e=Th(!1),n=Dh(t,e.dom);return{caretContainer:e,caretPosition:$a(n,0)}},Ih=function(t,e){var n=Mh(e),r=n.caretContainer,o=n.caretPosition;return _r(Nn(t),r),Dr(Nn(t)),o},Ph=function(t,e){var n=t.schema.getTextInlineElements();return Lt(n,en(e))&&!Tl(e.dom)&&!oo(e.dom)},Lh=function(t){return Tl(t.dom)&&Eh(t.dom)},Fh={},jh=eo(["pre"]);Fh.pre||(Fh.pre=[]),Fh.pre.push((function(t){if(!t.selection.getRng().collapsed){var e=t.selection.getSelectedBlocks(),n=ct(ct(e,jh),function(t){return function(e){var n=e.previousSibling;return jh(n)&&nt(t,n)}}(e));it(n,(function(t){(function(t,e){var n=Nn(e),r=jn(n).dom;Dr(n),Rr(Nn(t),[An("br",r),An("br",r)].concat(l(Kn(n))))})(t.previousSibling,t)}))}}));var zh=["fontWeight","fontStyle","color","fontSize","fontFamily"],Uh=function(t,e){var n=t.get(e);return A(n)?dt(n,(function(t){return Td(t)&&"span"===t.inline&&function(t){return O(t.styles)&&rt(Et(t.styles),(function(t){return nt(zh,t)}))}(t)})):J.none()},Hh=function(t,e){return kl(e,$a.fromRangeStart(t)).isNone()},Vh=function(t,e){return!1===Sl(e,$a.fromRangeEnd(t)).exists((function(t){return!go(t.getNode())||Sl(e,t).isSome()}))},Wh=function(t){return function(e){return Co(e)&&t.isEditable(e)}},$h=function(t){return ct(t.getSelectedBlocks(),Wh(t.dom))},qh=Ge.each,Gh=function(t){return Zr(t)&&!Ul(t)&&!Tl(t)&&!oo(t)},Kh=function(t,e){for(var n=t;n;n=n[e]){if(co(n)&&ce(n.data))return t;if(Zr(n)&&!Ul(n))return n}return t},Yh=function(t,e,n){var r=Gv(t),o=Zr(e)&&ld(e),i=Zr(n)&&ld(n);if(o&&i){var u=Kh(e,"previousSibling"),a=Kh(n,"nextSibling");if(r.compare(u,a)){for(var c=u.nextSibling;c&&c!==a;){var s=c;c=c.nextSibling,u.appendChild(s)}return t.dom.remove(a),Ge.each(Ge.grep(a.childNodes),(function(t){u.appendChild(t)})),u}}return n},Xh=function(t,e,n,r){var o;if(r&&!1!==e.merge_siblings){var i=null!==(o=Yh(t,pd(r),r))&&void 0!==o?o:r;Yh(t,i,pd(i,!0))}},Jh=function t(e,n,r){qh(e.childNodes,(function(e){Gh(e)&&(n(e)&&r(e),e.hasChildNodes()&&t(e,n,r))}))},Qh=function(t,e){return function(n){return!(!n||!Cd(t,n,e))}},Zh=function(t,e,n){return function(r){t.setStyle(r,e,n),""===r.getAttribute("style")&&r.removeAttribute("style"),function(t,e){"SPAN"===e.nodeName&&0===t.getAttribs(e).length&&t.remove(e,!0)}(t,r)}},tb=vc([{keep:[]},{rename:["name"]},{removed:[]}]),eb=/^(src|href|style)$/,nb=Ge.each,rb=xd,ob=function(t,e,n){return t.isChildOf(e,n)&&e!==n&&!t.isBlock(n)},ib=function(t,e,n){var r=e[n?"startContainer":"endContainer"],o=e[n?"startOffset":"endOffset"];if(Zr(r)){var i=r.childNodes.length-1;!n&&o&&o--,r=r.childNodes[o>i?i:o]}return co(r)&&n&&o>=r.data.length&&(r=new Xr(r,t.getBody()).next()||r),co(r)&&!n&&0===o&&(r=new Xr(r,t.getBody()).prev()||r),r},ub=function(t,e){var n=e?"firstChild":"lastChild",r=t[n];return function(t){return/^(TR|TH|TD)$/.test(t.nodeName)}(t)&&r?"TR"===t.nodeName&&r[n]||r:t},ab=function(t,e,n,r){var o,i=t.create(n,r);return null===(o=e.parentNode)||void 0===o||o.insertBefore(i,e),i.appendChild(e),i},cb=function(t,e,n,r,o){var i=Nn(e),u=Nn(t.create(r,o)),a=n?Gn(i):qn(i);return Rr(u,a),n?(_r(i,u),Or(u,i)):(Er(i,u),Tr(u,i)),u.dom},sb=function(t,e,n){var r,o=e.parentNode,i=t.dom,u=Fc(t);Ed(n)&&o===i.getRoot()&&(n.list_block&&rb(e,n.list_block)||it(kt(e.childNodes),(function(e){vd(t,u,e.nodeName.toLowerCase())?r?r.appendChild(e):(r=ab(i,e,u),i.setAttribs(r,jc(t))):r=null}))),function(t){return Od(t)&&Td(t)&&Ke(Pt(t,"mixed"),!0)}(n)&&!rb(n.inline,e)||i.remove(e,!0)},fb=function(t,e,n){return P(t)?{name:e,value:null}:{name:t,value:yd(e,n)}},lb=function(t,e){""===t.getAttrib(e,"style")&&(e.removeAttribute("style"),e.removeAttribute("data-mce-style"))},db=function(t,e,n,r,o){var i=!1;nb(n.styles,(function(u,a){var c=fb(a,u,r),s=c.name,f=c.value,l=wd(f,s);(n.remove_similar||R(f)||!Zr(o)||rb(Cd(t,o,s),l))&&t.setStyle(e,s,""),i=!0})),i&&lb(t,e)},mb=function(t,e,n,r,o){var i=t.dom,u=Gv(t),a=t.schema;if(Td(e)&&Ii(a,e.inline)&&Li(a,r)&&r.parentElement===t.getBody())return sb(t,r,e),tb.removed();if(!e.ceFalseOverride&&r&&"false"===i.getContentEditableParent(r))return tb.keep();if(r&&!wh(i,r,e)&&!function(t,e){return e.links&&"A"===t.nodeName}(r,e))return tb.keep();var c=r,s=e.preserve_attributes;if(Td(e)&&"all"===e.remove&&A(s)){var f=ct(i.getAttribs(c),(function(t){return nt(s,t.name.toLowerCase())}));if(i.removeAllAttribs(c),it(f,(function(t){return i.setAttrib(c,t.name,t.value)})),f.length>0)return tb.rename("span")}if("all"!==e.remove){db(i,c,e,n,o),nb(e.attributes,(function(t,r){var u=fb(r,t,n),a=u.name,s=u.value;if(e.remove_similar||R(s)||!Zr(o)||rb(i.getAttrib(o,a),s)){if("class"===a){var f=i.getAttrib(c,a);if(f){var l="";if(it(f.split(/\s+/),(function(t){/mce\-\w+/.test(t)&&(l+=(l?" ":"")+t)})),l)return void i.setAttrib(c,a,l)}}if(eb.test(a)&&c.removeAttribute("data-mce-"+a),"style"===a&&eo(["li"])(c)&&"none"===i.getStyle(c,"list-style-type"))return c.removeAttribute(a),void i.setStyle(c,"list-style-type","none");"class"===a&&c.removeAttribute("className"),c.removeAttribute(a)}})),nb(e.classes,(function(t){t=yd(t,n),Zr(o)&&!i.hasClass(o,t)||i.removeClass(c,t)}));for(var l=i.getAttribs(c),d=0;d<l.length;d++){var m=l[d].nodeName;if(!u.isAttributeInternal(m))return tb.keep()}}return"none"!==e.remove?(sb(t,c,e),tb.removed()):tb.keep()},pb=function(t,e,n,r,o){return mb(t,e,n,r,o).fold(Y,(function(e){return t.dom.rename(r,e),!0}),X)},gb=function(t,e,n,r){return mb(t,e,n,r,r).fold(U(r),(function(e){return t.dom.createFragment().appendChild(r),t.dom.rename(r,e)}),U(null))},vb=function(t,e,n,r,o){var i=t.formatter.get(e),u=i[0],a=t.dom,c=t.selection,s=function(r){var a=function(t,e,n,r,o){var i;return e.parentNode&&it(kd(t.dom,e.parentNode).reverse(),(function(e){if(!i&&Zr(e)&&"_start"!==e.id&&"_end"!==e.id){var u=Sh(t,e,n,r,o);u&&!1!==u.split&&(i=e)}})),i}(t,r,e,n,o);return function(t,e,n,r,o,i,u,a){var c,s,f,l,d=t.dom;if(n){for(var m=n.parentNode,p=r.parentNode;p&&p!==m;p=p.parentNode){for(var g=d.clone(p,!1),v=0;v<e.length&&(g=gb(t,e[v],a,g),null!==g);v++);g&&(f&&g.appendChild(f),l||(l=g),f=g)}u.mixed&&d.isBlock(n)||(r=null!==(c=d.split(n,r))&&void 0!==c?c:r),f&&l&&(null===(s=o.parentNode)||void 0===s||s.insertBefore(f,o),l.appendChild(o),Td(u)&&Xh(t,u,0,f))}return r}(t,i,a,r,r,0,u,n)},f=function(e){return rt(i,(function(r){return pb(t,r,n,e,e)}))},l=function e(n){var r=kt(n.childNodes),o=f(n)||rt(i,(function(t){return wh(a,n,t)})),c=n.parentNode;if(!o&&M(c)&&Ad(u)&&f(c),u.deep&&r.length)for(var s=0;s<r.length;s++)e(r[s]);it(["underline","line-through","overline"],(function(e){Zr(n)&&t.dom.getStyle(n,"text-decoration")===e&&n.parentNode&&Sd(a,n.parentNode)===e&&pb(t,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:e}},void 0,n)}))},d=function(t){var e=a.get(t?"_start":"_end");if(e){var n=e[t?"firstChild":"lastChild"];return function(t){return Ul(t)&&Zr(t)&&("_start"===t.id||"_end"===t.id)}(n)&&(n=n[t?"firstChild":"lastChild"]),co(n)&&0===n.data.length&&(n=t?e.previousSibling||e.nextSibling:e.nextSibling||e.previousSibling),a.remove(e,!0),n}return null},m=function(e){var n,r,o=Wd(a,e,i,e.collapsed);if(u.split){if(o=Pm(o),n=ib(t,o,!0),r=ib(t,o),n!==r){if(n=ub(n,!0),r=ub(r,!1),ob(a,n,r)){var c=J.from(n.firstChild).getOr(n);return s(cb(a,c,!0,"span",{id:"_start","data-mce-type":"bookmark"})),void d(!0)}if(ob(a,r,n)){var f=J.from(r.lastChild).getOr(r);return s(cb(a,f,!1,"span",{id:"_end","data-mce-type":"bookmark"})),void d(!1)}n=ab(a,n,"span",{id:"_start","data-mce-type":"bookmark"}),r=ab(a,r,"span",{id:"_end","data-mce-type":"bookmark"});var m=a.createRng();m.setStartAfter(n),m.setEndBefore(r),$d(a,m,(function(t){it(t,(function(t){Ul(t)||Ul(t.parentNode)||s(t)}))})),s(n),s(r),n=d(!0),r=d()}else n=r=s(n);o.startContainer=n.parentNode?n.parentNode:n,o.startOffset=a.nodeIndex(n),o.endContainer=r.parentNode?r.parentNode:r,o.endOffset=a.nodeIndex(r)+1}$d(a,o,(function(t){it(t,l)}))};if(r){if(sd(r)){var p=a.createRng();p.setStartBefore(r),p.setEndAfter(r),m(p)}else m(r);em(t,e,r,n)}else c.isCollapsed()&&Td(u)&&!td(t).length?Bh(t,e,n,o):(dd(t,(function(){return ad(t,m)}),(function(r){return Td(u)&&kh(t,e,n,r)})),t.nodeChanged()),function(t,e,n){"removeformat"===e?it($h(t.selection),(function(e){it(zh,(function(n){return t.dom.setStyle(e,n,"")})),lb(t.dom,e)})):Uh(t.formatter,e).each((function(e){it($h(t.selection),(function(r){return db(t.dom,r,e,n,null)}))}))}(t,e,n),em(t,e,r,n)},hb=Ge.each,bb=Ge.each,yb=function(t,e,n,r){if(bb(n.styles,(function(n,o){t.setStyle(e,o,yd(n,r))})),n.styles){var o=t.getAttrib(e,"style");o&&t.setAttrib(e,"data-mce-style",o)}},xb=function(t,e,n,r){var o=t.formatter.get(e),i=o[0],u=!r&&t.selection.isCollapsed(),a=t.dom,c=t.selection,s=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i;I(e.onformat)&&e.onformat(t,e,n,r),yb(a,t,e,n),bb(e.attributes,(function(e,r){a.setAttrib(t,r,yd(e,n))})),bb(e.classes,(function(e){var r=yd(e,n);a.hasClass(t,r)||a.addClass(t,r)}))},f=function(t,e){var n=!1;return bb(t,(function(t){return!(!Od(t)||("false"!==a.getContentEditable(e)||t.ceFalseOverride)&&(!M(t.collapsed)||t.collapsed===u)&&a.is(e,t.selector)&&!Tl(e)&&(s(e,t),n=!0,1))})),n},l=function(t){if(E(t)){var e=a.create(t);return s(e),e}return null},d=function(r,u,a){var c=[],d=!0,m=i.inline||i.block,p=l(m);$d(r,u,(function(u){var l,g=function u(g){var v=!1,h=d,b=!1,y=g.parentNode,x=y.nodeName.toLowerCase(),w=r.getContentEditable(g);M(w)&&(h=d,d="true"===w,v=!0,b=bd(t,g));var C=d&&!v;if(go(g)&&!function(t,e,n,r){if(Ss(t)&&Td(e)&&n.parentNode){var o=bu(t.schema),i=gh(Nn(n),(function(t){return Tl(t.dom)}));return Ft(o,r)&&_i(Nn(n.parentNode),!1)&&!i}return!1}(t,i,g,x))return l=null,void(Ed(i)&&r.remove(g));if(function(r){return function(t){return Ed(t)&&!0===t.wrapper}(i)&&Sh(t,r,e,n)}(g))l=null;else{if(function(e,n,r){var o=function(t){return Ed(t)&&!0!==t.wrapper}(i)&&gd(t.schema,e)&&vd(t,n,m);return r&&o}(g,x,C)){var S=r.rename(g,m);return s(S),c.push(S),void(l=null)}if(Od(i)){var k=f(o,g);if(!k&&M(y)&&Ad(i)&&(k=f(o,y)),!Td(i)||k)return void(l=null)}M(p)&&function(e,n,o,u){var c=e.nodeName.toLowerCase(),s=vd(t,m,c)&&vd(t,n,m),f=!a&&co(e)&&qo(e.data),l=Tl(e),d=!Td(i)||!r.isBlock(e);return(o||u)&&s&&!f&&!l&&d}(g,x,C,b)?(l||(l=r.clone(p,!1),y.insertBefore(l,g),c.push(l)),b&&v&&(d=h),l.appendChild(g)):(l=null,it(kt(g.childNodes),u),v&&(d=h),l=null)}};it(u,g)})),!0===i.links&&it(c,(function(t){var e=function t(e){"A"===e.nodeName&&s(e,i),it(kt(e.childNodes),t)};e(t)})),it(c,(function(u){var a=function(t){var e=0;return it(t.childNodes,(function(t){(function(t){return M(t)&&co(t)&&0===t.length})(t)||Ul(t)||e++})),e}(u);!(c.length>1)&&r.isBlock(u)||0!==a?(Td(i)||Ed(i)&&i.wrapper)&&(i.exact||1!==a||(u=function(t){var e=dt(t.childNodes,fd).filter((function(t){return"false"!==r.getContentEditable(t)&&wh(r,t,i)}));return e.map((function(e){var n=r.clone(e,!1);return s(n),r.replace(n,t,!0),r.remove(e,!0),n})).getOr(t)}(u)),function(t,e,n,r){hb(e,(function(e){Td(e)&&hb(t.dom.select(e.inline,r),(function(r){Gh(r)&&pb(t,e,n,r,e.exact?r:null)})),function(t,e,n){if(e.clear_child_styles){var r=e.links?"*:not(a)":"*";qh(t.select(r,n),(function(n){Gh(n)&&ld(n)&&qh(e.styles,(function(e,r){t.setStyle(n,r,"")}))}))}}(t.dom,e,r)}))}(t,o,n,u),function(t,e,n,r,o){var i=o.parentNode;Sh(t,i,n,r)&&pb(t,e,r,o)||e.merge_with_parents&&i&&t.dom.getParent(i,(function(i){return!!Sh(t,i,n,r)&&(pb(t,e,r,o),!0)}))}(t,i,e,n,u),function(t,e,n,r){if(e.styles&&e.styles.backgroundColor){var o=Qh(t,"fontSize");Jh(r,(function(t){return o(t)&&ld(t)}),Zh(t,"backgroundColor",yd(e.styles.backgroundColor,n)))}}(r,i,n,u),function(t,e,n,r){var o=function(e){if(Zr(e)&&Zr(e.parentNode)&&ld(e)){var n=Sd(t,e.parentNode);t.getStyle(e,"color")&&n?t.setStyle(e,"text-decoration",n):t.getStyle(e,"text-decoration")===n&&t.setStyle(e,"text-decoration",null)}};e.styles&&(e.styles.color||e.styles.textDecoration)&&(Ge.walk(r,o,"childNodes"),o(r))}(r,i,0,u),function(t,e,n,r){if(Td(e)&&("sub"===e.inline||"sup"===e.inline)){var o=Qh(t,"fontSize");Jh(r,(function(t){return o(t)&&ld(t)}),Zh(t,"fontSize",""));var i=ct(t.select("sup"===e.inline?"sub":"sup",r),ld);t.remove(i,!0)}}(r,i,0,u),Xh(t,i,0,u)):r.remove(u,!0)}))},m=sd(r)?r:c.getNode();if("false"===a.getContentEditable(m)&&!bd(t,m))return f(o,r=m),void tm(t,e,r,n);if(i){if(r)if(sd(r)){if(!f(o,r)){var p=a.createRng();p.setStartBefore(r),p.setEndAfter(r),d(a,Wd(a,p,o),!0)}}else d(a,r,!0);else u&&Td(i)&&!td(t).length?function(t,e,n){var r,o=t.selection,i=t.formatter.get(e);if(i){var u=o.getRng(),a=u.startOffset,c=u.startContainer.nodeValue;r=Al(t.getBody(),o.getStart());var s,f,l=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(c&&a>0&&a<c.length&&l.test(c.charAt(a))&&l.test(c.charAt(a-1))){var d=o.getBookmark();u.collapse(!0);var m=Wd(t.dom,u,i);m=Pm(m),t.formatter.apply(e,n,m),o.moveToBookmark(d)}else{var p=r?Oh(r):null;r&&(null==p?void 0:p.data)===_h||(s=t.getDoc(),f=Th(!0).dom,r=s.importNode(f,!0),p=r.firstChild,u.insertNode(r),a=1),t.formatter.apply(e,n,r),o.setCursorLocation(p,a)}}}(t,e,n):(c.setRng(oh(c.getRng())),dd(t,(function(){ad(t,(function(t,e){var n=e?t:Wd(a,t,o);d(a,n,!1)}))}),X),t.nodeChanged()),Uh(t.formatter,e).each((function(e){it(function(t){return ct(function(t){var e=t.getSelectedBlocks(),n=t.getRng();if(t.isCollapsed())return[];if(1===e.length)return Hh(n,e[0])&&Vh(n,e[0])?e:[];var r=Ct(e).filter((function(t){return Hh(n,t)})).toArray(),o=St(e).filter((function(t){return Vh(n,t)})).toArray(),i=e.slice(1,-1);return r.concat(i).concat(o)}(t),Wh(t.dom))}(t.selection),(function(t){return yb(a,t,e,n)}))}));(function(t,e){Lt(Fh,t)&&it(Fh[t],(function(t){t(e)}))})(e,t)}tm(t,e,r,n)},wb=function(t){return Lt(t,"vars")},Cb=function(t){return t.selection.getStart()},Sb=function(t,e,n,r,o){return lt(e,(function(e){var i=t.formatter.matchNode(e,n,null!=o?o:{},r);return!D(i)}),(function(e){return!!yh(t,e,n)||!r&&M(t.formatter.matchNode(e,n,o,!0))}))},kb=function(t,e){var n=null!=e?e:Cb(t);return ct(kd(t.dom,n),(function(t){return Zr(t)&&!oo(t)}))},_b=function(t,e,n){var r=kb(t,e);Tt(n,(function(n,o){var i=function(n){var i=Sb(t,r,o,n.similar,wb(n)?n.vars:void 0),u=i.isSome();if(n.state.get()!==u){n.state.set(u);var a=i.getOr(e);wb(n)?n.callback(u,{node:a,format:o,parents:r}):it(n.callbacks,(function(t){return t(u,{node:a,format:o,parents:r})}))}};it([n.withSimilar,n.withoutSimilar],i),it(n.withVars,i)}))},Eb=Ge.explode,Ob=function(){var t={};return{addFilter:function(e,n){it(Eb(e),(function(e){Lt(t,e)||(t[e]={name:e,callbacks:[]}),t[e].callbacks.push(n)}))},getFilters:function(){return It(t)},removeFilter:function(e,n){it(Eb(e),(function(e){if(Lt(t,e))if(M(n)){var r=t[e],o=ct(r.callbacks,(function(t){return t!==n}));o.length>0?r.callbacks=o:delete t[e]}else delete t[e]}))}}},Tb=function(t,e,n){var r,o=wu();e.convert_fonts_to_spans&&function(t,e,n){t.addNodeFilter("font",(function(t){it(t,(function(t){var r=e.parse(t.attr("style")),o=t.attr("color"),i=t.attr("face"),u=t.attr("size");o&&(r.color=o),i&&(r["font-family"]=i),u&&fe(u).each((function(t){r["font-size"]=n[t-1]})),t.name="span",t.attr("style",e.serialize(r)),function(t,e){it(["color","face","size"],(function(e){t.attr(e,null)}))}(t)}))}))}(t,o,Ge.explode(null!==(r=e.font_size_legacy_values)&&void 0!==r?r:"")),function(t,e,n){t.addNodeFilter("strike",(function(t){var r="html4"!==e.type;it(t,(function(t){if(r)t.name="s";else{var e=n.parse(t.attr("style"));e["text-decoration"]="line-through",t.name="span",t.attr("style",n.serialize(e))}}))}))}(t,n,o)},Ab=function(t){var e=t.split(","),n=u(e),r=n[0],o=n.slice(1),i=o.join(","),a=/data:([^/]+\/[^;]+)(;.+)?/.exec(r);if(a){var c=";base64"===a[2],s=c?function(t){var e=/([a-z0-9+\/=\s]+)/i.exec(t);return e?e[1]:""}(i):decodeURIComponent(i);return J.some({type:a[1],data:s,base64Encoded:c})}return J.none()},Rb=function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=e;if(n)try{r=atob(e)}catch(t){return J.none()}for(var o=new Uint8Array(r.length),i=0;i<o.length;i++)o[i]=r.charCodeAt(i);return J.some(new Blob([o],{type:t}))},Nb=function(t){return new Promise((function(e,n){var r=new FileReader;r.onloadend=function(){e(r.result)},r.onerror=function(){var t;n(null===(t=r.error)||void 0===t?void 0:t.message)},r.readAsDataURL(t)}))},Db=0,Bb=function(t,e,n){return Ab(t).bind((function(t){var r=t.data,o=t.type,i=t.base64Encoded;if(e&&!i)return J.none();var u=i?r:btoa(r);return n(u,o)}))},Mb=function(t,e,n){var r=t.create("blobid"+Db++,e,n);return t.add(r),r},Ib=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Bb(e,n,(function(e,n){return J.from(t.getByData(e,n)).orThunk((function(){return Rb(n,e).map((function(n){return Mb(t,n,e)}))}))}))};function Pb(t){return Pb="function"==typeof Symbol&&"symbol"==p(Symbol.iterator)?function(t){return p(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":p(t)},Pb(t)}function Lb(t,e){return Lb=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Lb(t,e)}function Fb(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function jb(t,e,n){return jb=Fb()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&Lb(o,n.prototype),o},jb.apply(null,arguments)}function zb(t){return function(t){if(Array.isArray(t))return Ub(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Ub(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ub(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ub(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Hb=Object.hasOwnProperty,Vb=Object.setPrototypeOf,Wb=Object.isFrozen,$b=Object.getPrototypeOf,qb=Object.getOwnPropertyDescriptor,Gb=Object.freeze,Kb=Object.seal,Yb=Object.create,Xb="undefined"!=typeof Reflect&&Reflect,Jb=Xb.apply,Qb=Xb.construct;Jb||(Jb=function(t,e,n){return t.apply(e,n)}),Gb||(Gb=function(t){return t}),Kb||(Kb=function(t){return t}),Qb||(Qb=function(t,e){return jb(t,zb(e))});var Zb,ty=fy(Array.prototype.forEach),ey=fy(Array.prototype.pop),ny=fy(Array.prototype.push),ry=fy(String.prototype.toLowerCase),oy=fy(String.prototype.match),iy=fy(String.prototype.replace),uy=fy(String.prototype.indexOf),ay=fy(String.prototype.trim),cy=fy(RegExp.prototype.test),sy=(Zb=TypeError,function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Qb(Zb,e)});function fy(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return Jb(t,e,r)}}function ly(t,e){Vb&&Vb(t,null);for(var n=e.length;n--;){var r=e[n];if("string"==typeof r){var o=ry(r);o!==r&&(Wb(e)||(e[n]=o),r=o)}t[r]=!0}return t}function dy(t){var e,n=Yb(null);for(e in t)Jb(Hb,t,[e])&&(n[e]=t[e]);return n}function my(t,e){for(;null!==t;){var n=qb(t,e);if(n){if(n.get)return fy(n.get);if("function"==typeof n.value)return fy(n.value)}t=$b(t)}return function(t){return console.warn("fallback value for",t),null}}var py,gy=Gb(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),vy=Gb(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),hy=Gb(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),by=Gb(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),yy=Gb(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),xy=Gb(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),wy=Gb(["#text"]),Cy=Gb(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Sy=Gb(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),ky=Gb(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),_y=Gb(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Ey=Kb(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Oy=Kb(/<%[\w\W]*|[\w\W]*%>/gm),Ty=Kb(/^data-[\-\w.\u00B7-\uFFFF]/),Ay=Kb(/^aria-[\-\w]+$/),Ry=Kb(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Ny=Kb(/^(?:\w+script|data):/i),Dy=Kb(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),By=Kb(/^html$/i),My=function(){return"undefined"==typeof window?null:window},Iy=function(t,e){if("object"!==Pb(t)||"function"!=typeof t.createPolicy)return null;var n=null,r="data-tt-policy-suffix";e.currentScript&&e.currentScript.hasAttribute(r)&&(n=e.currentScript.getAttribute(r));var o="dompurify"+(n?"#"+n:"");try{return t.createPolicy(o,{createHTML:function(t){return t}})}catch(t){return console.warn("TrustedTypes policy "+o+" could not be created."),null}},Py=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:My(),n=function(e){return t(e)};if(n.version="2.3.8",n.removed=[],!e||!e.document||9!==e.document.nodeType)return n.isSupported=!1,n;var r=e.document,o=e.document,i=e.DocumentFragment,u=e.HTMLTemplateElement,a=e.Node,c=e.Element,s=e.NodeFilter,f=e.NamedNodeMap,l=void 0===f?e.NamedNodeMap||e.MozNamedAttrMap:f,d=e.HTMLFormElement,m=e.DOMParser,p=e.trustedTypes,g=c.prototype,v=my(g,"cloneNode"),h=my(g,"nextSibling"),b=my(g,"childNodes"),y=my(g,"parentNode");if("function"==typeof u){var x=o.createElement("template");x.content&&x.content.ownerDocument&&(o=x.content.ownerDocument)}var w=Iy(p,r),C=w?w.createHTML(""):"",S=o,k=S.implementation,_=S.createNodeIterator,E=S.createDocumentFragment,O=S.getElementsByTagName,T=r.importNode,A={};try{A=dy(o).documentMode?o.documentMode:{}}catch(t){}var R={};n.isSupported="function"==typeof y&&k&&void 0!==k.createHTMLDocument&&9!==A;var N,D,B=Ey,M=Oy,I=Ty,P=Ay,L=Ny,F=Dy,j=Ry,z=null,U=ly({},[].concat(zb(gy),zb(vy),zb(hy),zb(yy),zb(wy))),H=null,V=ly({},[].concat(zb(Cy),zb(Sy),zb(ky),zb(_y))),W=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),$=null,q=null,G=!0,K=!0,Y=!1,X=!1,J=!1,Q=!1,Z=!1,tt=!1,et=!1,nt=!1,rt=!0,ot=!0,it=!1,ut={},at=null,ct=ly({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),st=null,ft=ly({},["audio","video","img","source","image","track"]),lt=null,dt=ly({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),mt="http://www.w3.org/1998/Math/MathML",pt="http://www.w3.org/2000/svg",gt="http://www.w3.org/1999/xhtml",vt=gt,ht=!1,bt=["application/xhtml+xml","text/html"],yt="text/html",xt=null,wt=o.createElement("form"),Ct=function(t){return t instanceof RegExp||t instanceof Function},St=function(t){xt&&xt===t||(t&&"object"===Pb(t)||(t={}),t=dy(t),z="ALLOWED_TAGS"in t?ly({},t.ALLOWED_TAGS):U,H="ALLOWED_ATTR"in t?ly({},t.ALLOWED_ATTR):V,lt="ADD_URI_SAFE_ATTR"in t?ly(dy(dt),t.ADD_URI_SAFE_ATTR):dt,st="ADD_DATA_URI_TAGS"in t?ly(dy(ft),t.ADD_DATA_URI_TAGS):ft,at="FORBID_CONTENTS"in t?ly({},t.FORBID_CONTENTS):ct,$="FORBID_TAGS"in t?ly({},t.FORBID_TAGS):{},q="FORBID_ATTR"in t?ly({},t.FORBID_ATTR):{},ut="USE_PROFILES"in t&&t.USE_PROFILES,G=!1!==t.ALLOW_ARIA_ATTR,K=!1!==t.ALLOW_DATA_ATTR,Y=t.ALLOW_UNKNOWN_PROTOCOLS||!1,X=t.SAFE_FOR_TEMPLATES||!1,J=t.WHOLE_DOCUMENT||!1,tt=t.RETURN_DOM||!1,et=t.RETURN_DOM_FRAGMENT||!1,nt=t.RETURN_TRUSTED_TYPE||!1,Z=t.FORCE_BODY||!1,rt=!1!==t.SANITIZE_DOM,ot=!1!==t.KEEP_CONTENT,it=t.IN_PLACE||!1,j=t.ALLOWED_URI_REGEXP||j,vt=t.NAMESPACE||gt,t.CUSTOM_ELEMENT_HANDLING&&Ct(t.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(W.tagNameCheck=t.CUSTOM_ELEMENT_HANDLING.tagNameCheck),t.CUSTOM_ELEMENT_HANDLING&&Ct(t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(W.attributeNameCheck=t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),t.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(W.allowCustomizedBuiltInElements=t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),N=N=-1===bt.indexOf(t.PARSER_MEDIA_TYPE)?yt:t.PARSER_MEDIA_TYPE,D="application/xhtml+xml"===N?function(t){return t}:ry,X&&(K=!1),et&&(tt=!0),ut&&(z=ly({},zb(wy)),H=[],!0===ut.html&&(ly(z,gy),ly(H,Cy)),!0===ut.svg&&(ly(z,vy),ly(H,Sy),ly(H,_y)),!0===ut.svgFilters&&(ly(z,hy),ly(H,Sy),ly(H,_y)),!0===ut.mathMl&&(ly(z,yy),ly(H,ky),ly(H,_y))),t.ADD_TAGS&&(z===U&&(z=dy(z)),ly(z,t.ADD_TAGS)),t.ADD_ATTR&&(H===V&&(H=dy(H)),ly(H,t.ADD_ATTR)),t.ADD_URI_SAFE_ATTR&&ly(lt,t.ADD_URI_SAFE_ATTR),t.FORBID_CONTENTS&&(at===ct&&(at=dy(at)),ly(at,t.FORBID_CONTENTS)),ot&&(z["#text"]=!0),J&&ly(z,["html","head","body"]),z.table&&(ly(z,["tbody"]),delete $.tbody),Gb&&Gb(t),xt=t)},kt=ly({},["mi","mo","mn","ms","mtext"]),_t=ly({},["foreignobject","desc","title","annotation-xml"]),Et=ly({},["title","style","font","a","script"]),Ot=ly({},vy);ly(Ot,hy),ly(Ot,by);var Tt=ly({},yy);ly(Tt,xy);var At=function(t){var e=y(t);e&&e.tagName||(e={namespaceURI:gt,tagName:"template"});var n=ry(t.tagName),r=ry(e.tagName);return t.namespaceURI===pt?e.namespaceURI===gt?"svg"===n:e.namespaceURI===mt?"svg"===n&&("annotation-xml"===r||kt[r]):Boolean(Ot[n]):t.namespaceURI===mt?e.namespaceURI===gt?"math"===n:e.namespaceURI===pt?"math"===n&&_t[r]:Boolean(Tt[n]):t.namespaceURI===gt&&!(e.namespaceURI===pt&&!_t[r])&&!(e.namespaceURI===mt&&!kt[r])&&!Tt[n]&&(Et[n]||!Ot[n])},Rt=function(t){ny(n.removed,{element:t});try{t.parentNode.removeChild(t)}catch(e){try{t.outerHTML=C}catch(e){t.remove()}}},Nt=function(t,e){try{ny(n.removed,{attribute:e.getAttributeNode(t),from:e})}catch(t){ny(n.removed,{attribute:null,from:e})}if(e.removeAttribute(t),"is"===t&&!H[t])if(tt||et)try{Rt(e)}catch(t){}else try{e.setAttribute(t,"")}catch(t){}},Dt=function(t){var e,n;if(Z)t="<remove></remove>"+t;else{var r=oy(t,/^[\r\n\t ]+/);n=r&&r[0]}"application/xhtml+xml"===N&&(t='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+t+"</body></html>");var i=w?w.createHTML(t):t;if(vt===gt)try{e=(new m).parseFromString(i,N)}catch(t){}if(!e||!e.documentElement){e=k.createDocument(vt,"template",null);try{e.documentElement.innerHTML=ht?"":i}catch(t){}}var u=e.body||e.documentElement;return t&&n&&u.insertBefore(o.createTextNode(n),u.childNodes[0]||null),vt===gt?O.call(e,J?"html":"body")[0]:J?e.documentElement:u},Bt=function(t){return _.call(t.ownerDocument||t,t,s.SHOW_ELEMENT|s.SHOW_COMMENT|s.SHOW_TEXT,null,!1)},Mt=function(t){return t instanceof d&&("string"!=typeof t.nodeName||"string"!=typeof t.textContent||"function"!=typeof t.removeChild||!(t.attributes instanceof l)||"function"!=typeof t.removeAttribute||"function"!=typeof t.setAttribute||"string"!=typeof t.namespaceURI||"function"!=typeof t.insertBefore)},It=function(t){return"object"===Pb(a)?t instanceof a:t&&"object"===Pb(t)&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName},Pt=function(t,e,r){R[t]&&ty(R[t],(function(t){t.call(n,e,r,xt)}))},Lt=function(t){var e;if(Pt("beforeSanitizeElements",t,null),Mt(t))return Rt(t),!0;if(cy(/[\u0080-\uFFFF]/,t.nodeName))return Rt(t),!0;var r=D(t.nodeName);if(Pt("uponSanitizeElement",t,{tagName:r,allowedTags:z}),t.hasChildNodes()&&!It(t.firstElementChild)&&(!It(t.content)||!It(t.content.firstElementChild))&&cy(/<[/\w]/g,t.innerHTML)&&cy(/<[/\w]/g,t.textContent))return Rt(t),!0;if("select"===r&&cy(/<template/i,t.innerHTML))return Rt(t),!0;if(!z[r]||$[r]){if(!$[r]&&jt(r)){if(W.tagNameCheck instanceof RegExp&&cy(W.tagNameCheck,r))return!1;if(W.tagNameCheck instanceof Function&&W.tagNameCheck(r))return!1}if(ot&&!at[r]){var o=y(t)||t.parentNode,i=b(t)||t.childNodes;if(i&&o)for(var u=i.length-1;u>=0;--u)o.insertBefore(v(i[u],!0),h(t))}return Rt(t),!0}return t instanceof c&&!At(t)?(Rt(t),!0):"noscript"!==r&&"noembed"!==r||!cy(/<\/no(script|embed)/i,t.innerHTML)?(X&&3===t.nodeType&&(e=t.textContent,e=iy(e,B," "),e=iy(e,M," "),t.textContent!==e&&(ny(n.removed,{element:t.cloneNode()}),t.textContent=e)),Pt("afterSanitizeElements",t,null),!1):(Rt(t),!0)},Ft=function(t,e,n){if(rt&&("id"===e||"name"===e)&&(n in o||n in wt))return!1;if(K&&!q[e]&&cy(I,e));else if(G&&cy(P,e));else if(!H[e]||q[e]){if(!(jt(t)&&(W.tagNameCheck instanceof RegExp&&cy(W.tagNameCheck,t)||W.tagNameCheck instanceof Function&&W.tagNameCheck(t))&&(W.attributeNameCheck instanceof RegExp&&cy(W.attributeNameCheck,e)||W.attributeNameCheck instanceof Function&&W.attributeNameCheck(e))||"is"===e&&W.allowCustomizedBuiltInElements&&(W.tagNameCheck instanceof RegExp&&cy(W.tagNameCheck,n)||W.tagNameCheck instanceof Function&&W.tagNameCheck(n))))return!1}else if(lt[e]);else if(cy(j,iy(n,F,"")));else if("src"!==e&&"xlink:href"!==e&&"href"!==e||"script"===t||0!==uy(n,"data:")||!st[t])if(Y&&!cy(L,iy(n,F,"")));else if(n)return!1;return!0},jt=function(t){return t.indexOf("-")>0},zt=function(t){var e,n,r,o;Pt("beforeSanitizeAttributes",t,null);var i=t.attributes;if(i){var u={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:H};for(o=i.length;o--;){var a=e=i[o],c=a.name,s=a.namespaceURI;n="value"===c?e.value:ay(e.value),r=D(c);var f=n;if(u.attrName=r,u.attrValue=n,u.keepAttr=!0,u.forceKeepAttr=void 0,Pt("uponSanitizeAttribute",t,u),n=u.attrValue,!u.forceKeepAttr)if(u.keepAttr)if(cy(/\/>/i,n))Nt(c,t);else{X&&(n=iy(n,B," "),n=iy(n,M," "));var l=D(t.nodeName);if(Ft(l,r,n)){if(n!==f)try{s?t.setAttributeNS(s,c,n):t.setAttribute(c,n)}catch(e){Nt(c,t)}}else Nt(c,t)}else Nt(c,t)}Pt("afterSanitizeAttributes",t,null)}},Ut=function t(e){var n,r=Bt(e);for(Pt("beforeSanitizeShadowDOM",e,null);n=r.nextNode();)Pt("uponSanitizeShadowNode",n,null),Lt(n)||(n.content instanceof i&&t(n.content),zt(n));Pt("afterSanitizeShadowDOM",e,null)};return n.sanitize=function(t,o){var u,c,s,f,l;if((ht=!t)&&(t="\x3c!--\x3e"),"string"!=typeof t&&!It(t)){if("function"!=typeof t.toString)throw sy("toString is not a function");if("string"!=typeof(t=t.toString()))throw sy("dirty is not a string, aborting")}if(!n.isSupported){if("object"===Pb(e.toStaticHTML)||"function"==typeof e.toStaticHTML){if("string"==typeof t)return e.toStaticHTML(t);if(It(t))return e.toStaticHTML(t.outerHTML)}return t}if(Q||St(o),n.removed=[],"string"==typeof t&&(it=!1),it){if(t.nodeName){var d=D(t.nodeName);if(!z[d]||$[d])throw sy("root node is forbidden and cannot be sanitized in-place")}}else if(t instanceof a)1===(c=(u=Dt("\x3c!----\x3e")).ownerDocument.importNode(t,!0)).nodeType&&"BODY"===c.nodeName||"HTML"===c.nodeName?u=c:u.appendChild(c);else{if(!tt&&!X&&!J&&-1===t.indexOf("<"))return w&&nt?w.createHTML(t):t;if(!(u=Dt(t)))return tt?null:nt?C:""}u&&Z&&Rt(u.firstChild);for(var m=Bt(it?t:u);s=m.nextNode();)3===s.nodeType&&s===f||Lt(s)||(s.content instanceof i&&Ut(s.content),zt(s),f=s);if(f=null,it)return t;if(tt){if(et)for(l=E.call(u.ownerDocument);u.firstChild;)l.appendChild(u.firstChild);else l=u;return H.shadowroot&&(l=T.call(r,l,!0)),l}var p=J?u.outerHTML:u.innerHTML;return J&&z["!doctype"]&&u.ownerDocument&&u.ownerDocument.doctype&&u.ownerDocument.doctype.name&&cy(By,u.ownerDocument.doctype.name)&&(p="<!DOCTYPE "+u.ownerDocument.doctype.name+">\n"+p),X&&(p=iy(p,B," "),p=iy(p,M," ")),w&&nt?w.createHTML(p):p},n.setConfig=function(t){St(t),Q=!0},n.clearConfig=function(){xt=null,Q=!1},n.isValidAttribute=function(t,e,n){xt||St({});var r=D(t),o=D(e);return Ft(r,o,n)},n.addHook=function(t,e){"function"==typeof e&&(R[t]=R[t]||[],ny(R[t],e))},n.removeHook=function(t){if(R[t])return ey(R[t])},n.removeHooks=function(t){R[t]&&(R[t]=[])},n.removeAllHooks=function(){R={}},n}(),Ly=Ge.each,Fy=Ge.trim,jy=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],zy={ftp:21,http:80,https:443,mailto:25},Uy=["img","video"],Hy=function(t,e,n){var r=function(t){try{return decodeURIComponent(t)}catch(e){return unescape(t)}}(e).replace(/\s/g,"");return!t.allow_script_urls&&(!!/((java|vb)script|mhtml):/i.test(r)||!t.allow_html_data_urls&&(/^data:image\//i.test(r)?function(t,e){return M(t)?!t:!M(e)||!nt(Uy,e)}(t.allow_svg_data_urls,n)&&/^data:image\/svg\+xml/i.test(r):/^data:/i.test(r)))},Vy=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};d(this,t),this.path="",this.directory="",e=Fy(e),this.settings=n;var r=n.base_uri,o=this;if(/^([\w\-]+):([^\/]{2})/i.test(e)||/^\s*#/.test(e))o.source=e;else{var i=0===e.indexOf("//");if(0!==e.indexOf("/")||i||(e=(r&&r.protocol||"http")+"://mce_host"+e),!/^[\w\-]*:?\/\//.test(e)){var u=r?r.path:new t(document.location.href).directory;if(""===(null==r?void 0:r.protocol))e="//mce_host"+o.toAbsPath(u,e);else{var a=/([^#?]*)([#?]?.*)/.exec(e);a&&(e=(r&&r.protocol||"http")+"://mce_host"+o.toAbsPath(u,a[1])+a[2])}}e=e.replace(/@@/g,"(mce_at)");var c=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e);c&&Ly(jy,(function(t,e){var n=c[e];n&&(n=n.replace(/\(mce_at\)/g,"@@")),o[t]=n})),r&&(o.protocol||(o.protocol=r.protocol),o.userInfo||(o.userInfo=r.userInfo),o.port||"mce_host"!==o.host||(o.port=r.port),o.host&&"mce_host"!==o.host||(o.host=r.host),o.source=""),i&&(o.protocol="")}}return m(t,[{key:"setPath",value:function(t){var e=/^(.*?)\/?(\w+)?$/.exec(t);e&&(this.path=e[0],this.directory=e[1],this.file=e[2]),this.source="",this.getURI()}},{key:"toRelative",value:function(e){if("./"===e)return e;var n=new t(e,{base_uri:this});if("mce_host"!==n.host&&this.host!==n.host&&n.host||this.port!==n.port||this.protocol!==n.protocol&&""!==n.protocol)return n.getURI();var r=this.getURI(),o=n.getURI();if(r===o||"/"===r.charAt(r.length-1)&&r.substr(0,r.length-1)===o)return r;var i=this.toRelPath(this.path,n.path);return n.query&&(i+="?"+n.query),n.anchor&&(i+="#"+n.anchor),i}},{key:"toAbsolute",value:function(e,n){var r=new t(e,{base_uri:this});return r.getURI(n&&this.isSameOrigin(r))}},{key:"isSameOrigin",value:function(t){if(this.host==t.host&&this.protocol==t.protocol){if(this.port==t.port)return!0;var e=this.protocol?zy[this.protocol]:null;if(e&&(this.port||e)==(t.port||e))return!0}return!1}},{key:"toRelPath",value:function(t,e){var n,r,o=0,i="",u=t.substring(0,t.lastIndexOf("/")).split("/"),a=e.split("/");if(u.length>=a.length)for(n=0,r=u.length;n<r;n++)if(n>=a.length||u[n]!==a[n]){o=n+1;break}if(u.length<a.length)for(n=0,r=a.length;n<r;n++)if(n>=u.length||u[n]!==a[n]){o=n+1;break}if(1===o)return e;for(n=0,r=u.length-(o-1);n<r;n++)i+="../";for(n=o-1,r=a.length;n<r;n++)i+=n!==o-1?"/"+a[n]:a[n];return i}},{key:"toAbsPath",value:function(t,e){var n=0,r=/\/$/.test(e)?"/":"",o=t.split("/"),i=e.split("/"),u=[];Ly(o,(function(t){t&&u.push(t)}));for(var a=[],c=i.length-1;c>=0;c--)0!==i[c].length&&"."!==i[c]&&(".."!==i[c]?n>0?n--:a.push(i[c]):n++);var s,f=u.length-n;return s=f<=0?ht(a).join("/"):u.slice(0,f).join("/")+"/"+ht(a).join("/"),0!==s.indexOf("/")&&(s="/"+s),r&&s.lastIndexOf("/")!==s.length-1&&(s+=r),s}},{key:"getURI",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.source&&!e||(t="",e||(this.protocol?t+=this.protocol+"://":t+="//",this.userInfo&&(t+=this.userInfo+"@"),this.host&&(t+=this.host),this.port&&(t+=":"+this.port)),this.path&&(t+=this.path),this.query&&(t+="?"+this.query),this.anchor&&(t+="#"+this.anchor),this.source=t),this.source}}],[{key:"parseDataUri",value:function(t){var e,n=decodeURIComponent(t).split(","),r=/data:([^;]+)/.exec(n[0]);return r&&(e=r[1]),{type:e,data:n[1]}}},{key:"isDomSafe",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(n.allow_script_urls)return!0;var r=au.decode(t).replace(/[\s\u0000-\u001F]+/g,"");return!Hy(n,r,e)}},{key:"getDocumentBaseUrl",value:function(t){var e,n;return n=0!==t.protocol.indexOf("http")&&"file:"!==t.protocol?null!==(e=t.href)&&void 0!==e?e:"":t.protocol+"//"+t.host+t.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(n)&&(n=n.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(n)||(n+="/")),n}}]),t}(),Wy=Ge.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),$y="data-mce-type",qy=0,Gy=function(t,e,n,r){var o,i,u,a,c=e.validate,s=n.getSpecialElements();8===t.nodeType&&!e.allow_conditional_comments&&/^\[if/i.test(null!==(o=t.nodeValue)&&void 0!==o?o:"")&&(t.nodeValue=" "+t.nodeValue);var f=null!==(i=null==r?void 0:r.tagName)&&void 0!==i?i:t.nodeName.toLowerCase();if(1===t.nodeType&&"body"!==f){var l=Nn(t),d=gn(l,$y),m=mn(l,"data-mce-bogus");if(d||!E(m)){var p=n.getElementRule(f);if(!c||p){if(M(r)&&(r.allowedTags[f]=!0),c&&p&&!d){if(it(null!==(u=p.attributesForced)&&void 0!==u?u:[],(function(t){ln(l,t.name,"{$uid}"===t.value?"mce_"+qy++:t.value)})),it(null!==(a=p.attributesDefault)&&void 0!==a?a:[],(function(t){gn(l,t.name)||ln(l,t.name,"{$uid}"===t.value?"mce_"+qy++:t.value)})),p.attributesRequired&&!rt(p.attributesRequired,(function(t){return gn(l,t)})))return void Br(l);if(p.removeEmptyAttrs&&function(t){var e=t.dom.attributes;return null==e||0===e.length}(l))return void Br(l);p.outputName&&p.outputName!==f&&function(t,e){var n=function(t,e){var n=An(e),r=hn(t);return dn(n,r),n}(t,e);Er(t,n);var r=Kn(t);Rr(n,r),Dr(t)}(l,p.outputName)}}else Lt(s,f)?Dr(l):Br(l)}else"all"===m?Dr(l):Br(l)}},Ky=function(t,e,n,r,o){return!(r in Wy&&Hy(t,o,n))&&(!t.validate||e.isValid(n,r)||ne(r,"data-")||ne(r,"aria-"))},Yy=function(t,e){return t.hasAttribute($y)&&("id"===e||"class"===e||"style"===e)},Xy=function(t,e){return t in e.getBoolAttrs()},Jy=function(t,e,n){for(var r=t.attributes,o=r.length-1;o>=0;o--){var i=r[o],u=i.name,a=i.value;Ky(e,n,t.tagName.toLowerCase(),u,a)||Yy(t,u)?Xy(u,n)&&t.setAttribute(u,u):t.removeAttribute(u)}},Qy=function(t,e){var n=Py();return n.addHook("uponSanitizeElement",(function(n,r){Gy(n,t,e,r)})),n.addHook("uponSanitizeAttribute",(function(n,r){var o=n.tagName.toLowerCase(),i=r.attrName,u=r.attrValue;r.keepAttr=Ky(t,e,o,i,u),r.keepAttr?(r.allowedAttributes[i]=!0,Xy(i,e)&&(r.attrValue=i),t.allow_svg_data_urls&&ne(u,"data:image/svg+xml")&&(r.forceKeepAttr=!0)):Yy(n,i)&&(r.forceKeepAttr=!0)})),n},Zy=Ge.makeMap,tx=Ge.extend,ex=function t(e,n,r){for(var o=e.name,i=(o in r&&"title"!==o&&"textarea"!==o),u=n.childNodes,a=0,c=u.length;a<c;a++){var s=u[a],f=new Hp(s.nodeName.toLowerCase(),s.nodeType);if(Zr(s))for(var l=s.attributes,d=0,m=l.length;d<m;d++){var p=l[d];f.attr(p.name,p.value)}else co(s)?(f.value=s.data,i&&(f.raw=!0)):(lo(s)||so(s)||fo(s))&&(f.value=s.data);t(f,s,r),e.append(f)}},nx=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xu(),n=Ob(),r=Ob(),o=s({validate:!0,root_name:"body",sanitize:!0},t),i=new DOMParser,u=function(t,e){if(t.sanitize){var n=Qy(t,e);return function(e,r){n.sanitize(e,function(t,e){var n={IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]};return n.PARSER_MEDIA_TYPE=e,t.allow_script_urls?n.ALLOWED_URI_REGEXP=/.*/:t.allow_html_data_urls&&(n.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),n}(t,r)),n.removed=[]}}return function(n,r){for(var o,i=document.createNodeIterator(n,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);o=i.nextNode();)Gy(o,t,e),Zr(o)&&Jy(o,t,e)}}(o,e),a=n.addFilter,c=n.getFilters,l=n.removeFilter,d=r.addFilter,m=r.getFilters,p=r.removeFilter,g=function(t,n){var r=E(n.attr($y)),o=1===n.type&&!Lt(t,n.name)&&!function(t,e){return 1===e.type&&Ii(t,e.name)&&E(e.attr(Ei))}(e,n);return 3===n.type||o&&!r},v={schema:e,addAttributeFilter:d,getAttributeFilters:m,removeAttributeFilter:p,addNodeFilter:a,getNodeFilters:c,removeNodeFilter:l,parse:function(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=o.validate,s=null!==(n=r.context)&&void 0!==n?n:o.root_name,l=function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"html",o="xhtml"===r?"application/xhtml+xml":"text/html",a=Lt(e.getSpecialElements(),n.toLowerCase()),c=a?"<".concat(n,">").concat(t,"</").concat(n,">"):t,s="xhtml"===r?'<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'.concat(c,"</body></html>"):"<body>".concat(c,"</body>"),f=i.parseFromString(s,o).body;return u(f,o),a?f.firstChild:f}(t,s,r.format);Di(e,l);var d=new Hp(s,11);ex(d,l,e.getSpecialElements()),l.innerHTML="";var p=function(t,e,n,r){var o=n.validate,i=e.getNonEmptyElements(),u=e.getWhitespaceElements(),a=tx(Zy("script,style,head,html,body,title,meta,param"),e.getBlockElements()),c=bu(e),s=/[ \t\r\n]+/g,f=/^[ \t\r\n]+/,l=/[ \t\r\n]+$/,d=function(t){for(var e=t.parent;M(e);){if(e.name in u)return!0;e=e.parent}return!1},m=function(t){return t.name in a&&!ji(e,t)},p=function(e,n){var o=n?e.prev:e.next;return!M(o)&&!B(e.parent)&&m(e.parent)&&(e.parent!==t||!0===r.isRootContent)};return[function(t){var e;if(3===t.type&&!d(t)){var n=null!==(e=t.value)&&void 0!==e?e:"";n=n.replace(s," "),(function(t,e){return M(t)&&(e(t)||"br"===t.name)}(t.prev,m)||p(t,!0))&&(n=n.replace(f,"")),0===n.length?t.remove():t.value=n}},function(t){var n;if(1===t.type){var a=e.getElementRule(t.name);if(o&&a){var s=Zv(e,i,u,t);a.paddInEmptyBlock&&s&&function(t){for(var n=t;M(n);){if(n.name in c)return Zv(e,i,u,n);n=n.parent}return!1}(t)?Jv(r,m,t):a.removeEmpty&&s?m(t)?t.remove():t.unwrap():a.paddEmpty&&(s||function(t){var e;return Qv(t,"#text")&&(null===(e=null==t?void 0:t.firstChild)||void 0===e?void 0:e.value)===ko}(t))&&Jv(r,m,t)}}else if(3===t.type&&!d(t)){var f=null!==(n=t.value)&&void 0!==n?n:"";(t.next&&m(t.next)||p(t,!1))&&(f=f.replace(l,"")),0===f.length?t.remove():t.value=f}}]}(d,e,o,r),v=f(p,2),h=v[0],b=v[1],y=[],x=a?function(t){return function(t,n){rh(e,t)&&n.push(t)}(t,y)}:F,w={nodes:{},attributes:{}},C=function(t){return Kv(c(),m(),t,w)};if(function(t,e,n){for(var r=[],o=function(n){var o=n;it(e,(function(t){return t(o)})),B(o.parent)&&o!==t?n=u:r.push(o),i=n},i=t,u=i;i;u=i,i=i.walk())o(i);for(var a=function(){var t=r[c];it(n,(function(e){return e(t)}))},c=r.length-1;c>=0;c--)a()}(d,[h,C],[b,x]),y.reverse(),a&&y.length>0)if(r.context){var S=at(y,(function(t){return t.parent===d})),k=S.pass,_=S.fail;nh(_,e,d,C),r.invalid=k.length>0}else nh(y,e,d,C);var E=function(t,e){var n,r=null!==(n=e.forced_root_block)&&void 0!==n?n:t.forced_root_block;return!1===r?"":!0===r?"p":r}(o,r);return E&&("body"===d.name||r.isRootContent)&&function(t,n){var r=tx(Zy("script,style,head,html,body,title,meta,param"),e.getBlockElements()),i=/^[ \t\r\n]+/,u=/[ \t\r\n]+$/,a=t.firstChild,c=null,s=function(t){var e,n;t&&(a=t.firstChild,a&&3===a.type&&(a.value=null===(e=a.value)||void 0===e?void 0:e.replace(i,"")),a=t.lastChild,a&&3===a.type&&(a.value=null===(n=a.value)||void 0===n?void 0:n.replace(u,"")))};if(e.isValidChild(t.name,n.toLowerCase())){for(;a;){var f=a.next;g(r,a)?(c||(c=new Hp(n,1),c.attr(o.forced_root_block_attrs),t.insert(c,a)),c.append(a)):(s(c),c=null),a=f}s(c)}}(d,E),r.invalid||Yv(w,r),d}};return function(t,e){var n=t.schema;e.remove_trailing_brs&&t.addNodeFilter("br",(function(t,e,r){var o=Ge.extend({},n.getBlockElements()),i=n.getNonEmptyElements(),u=n.getWhitespaceElements();o.body=1;for(var a=function(t){return t.name in o&&ji(n,t)},c=0,s=t.length;c<s;c++){var f=t[c],l=f.parent;if(l&&o[l.name]&&f===l.lastChild){for(var d=f.prev;d;){var m=d.name;if("span"!==m||"bookmark"!==d.attr("data-mce-type")){"br"===m&&(f=null);break}d=d.prev}if(f&&(f.remove(),Zv(n,i,u,l))){var p=n.getElementRule(l.name);p&&(p.removeEmpty?l.remove():p.paddEmpty&&Jv(r,a,l))}}else{for(var g=f;l&&l.firstChild===g&&l.lastChild===g&&(g=l,!o[l.name]);)l=l.parent;if(g===l){var v=new Hp("#text",3);v.value=ko,f.replace(v)}}}})),t.addAttributeFilter("href",(function(t){var n=t.length,r=function(t){var e=t?Ge.trim(t):"";return/\b(noopener)\b/g.test(e)?e:function(t){return t.split(" ").filter((function(t){return t.length>0})).concat(["noopener"]).sort().join(" ")}(e)};if(!e.allow_unsafe_link_target)for(;n--;){var o=t[n];"a"===o.name&&"_blank"===o.attr("target")&&o.attr("rel",r(o.attr("rel")))}})),e.allow_html_in_named_anchor||t.addAttributeFilter("id,name",(function(t){for(var e,n,r,o,i=t.length;i--;)if(o=t[i],"a"===o.name&&o.firstChild&&!o.attr("href"))for(r=o.parent,e=o.lastChild;e&&r;)n=e.prev,r.insert(e,o),e=n})),e.fix_list_elements&&t.addNodeFilter("ul,ol",(function(t){for(var e,n,r=t.length;r--;)if(e=t[r],n=e.parent,n&&("ul"===n.name||"ol"===n.name))if(e.prev&&"li"===e.prev.name)e.prev.append(e);else{var o=new Hp("li",1);o.attr("style","list-style-type: none"),e.wrap(o)}}));var r=n.getValidClasses();e.validate&&r&&t.addAttributeFilter("class",(function(t){for(var e,n=t.length;n--;){for(var o=t[n],i=null!==(e=o.attr("class"))&&void 0!==e?e:"",u=Ge.explode(i," "),a="",c=0;c<u.length;c++){var s=u[c],f=!1,l=r["*"];l&&l[s]&&(f=!0),l=r[o.name],!f&&l&&l[s]&&(f=!0),f&&(a&&(a+=" "),a+=s)}a.length||(a=null),o.attr("class",a)}})),function(t,e){var n=e.blob_cache;if(n){var r=function(t){var e=t.attr("src");(function(t){return t.attr("src")===Ve.transparentSrc||M(t.attr("data-mce-placeholder"))})(t)||function(t){return M(t.attr("data-mce-bogus"))}(t)||B(e)||Ib(n,e,!0).each((function(e){t.attr("src",e.blobUri())}))};t.addAttributeFilter("src",(function(t){return it(t,r)}))}}(t,e)}(v,o),function(t,e,n){e.inline_styles&&Tb(t,e,n)}(v,o,e),v},rx=function(t,e,n){var r=function(t){return mh(t)?Qp({validate:!1}).serialize(t):t}(t),o=e(r);if(o.isDefaultPrevented())return o;if(mh(t)){if(o.content!==r){var i=nx({validate:!1,forced_root_block:!1,sanitize:n}).parse(o.content,{context:t.name});return s(s({},o),{},{content:i})}return s(s({},o),{},{content:t})}return o},ox=function(t,e){if(e.no_events)return gc.value(e);var n=function(t,e){return t.dispatch("BeforeGetContent",e)}(t,e);return n.isDefaultPrevented()?gc.error(rm(t,s({content:""},n)).content):gc.value(n)},ix=function(t,e,n){if(n.no_events)return e;var r=rx(e,(function(e){return rm(t,s(s({},n),{},{content:e}))}),mf(t));return r.content},ux=function(t,e){if(e.no_events)return gc.value(e);var n=rx(e.content,(function(n){return function(t,e){return t.dispatch("BeforeSetContent",e)}(t,s(s({},e),{},{content:n}))}),mf(t));return n.isDefaultPrevented()?(nm(t,n),gc.error(void 0)):gc.value(n)},ax=function(t,e,n){n.no_events||nm(t,s(s({},n),{},{content:e}))},cx=function(t,e,n){return{element:t,width:e,rows:n}},sx=function(t,e){return{element:t,cells:e}},fx=function(t,e){return{x:t,y:e}},lx=function(t,e){return pn(t,e).bind(fe).getOr(1)},dx=function(t,e,n){var r=t.rows;return!!(r[n]?r[n].cells:[])[e]},mx=function(t){return ft(t,(function(t,e){return e.cells.length>t?e.cells.length:t}),0)},px=function(t,e){for(var n=t.rows,r=0;r<n.length;r++)for(var o=n[r].cells,i=0;i<o.length;i++)if(Pn(o[i],e))return J.some(fx(i,r));return J.none()},gx=function(t,e,n,r,o){for(var i=[],u=t.rows,a=n;a<=o;a++){var c=u[a].cells,s=e<r?c.slice(e,r+1):c.slice(r,e+1);i.push(sx(u[a].element,s))}return i},vx=function(t){return function(t,e){var n=ma(t.element),r=An("tbody");return Rr(r,e),Tr(n,r),n}(t,function(t){return ot(t.rows,(function(t){var e=ot(t.cells,(function(t){var e=pa(t);return vn(e,"colspan"),vn(e,"rowspan"),e})),n=ma(t.element);return Rr(n,e),n}))}(t))},hx=function(t,e){var n=Nn(e.commonAncestorContainer),r=yg(n,t),o=ct(r,Uo),i=function(t,e){return dt(t,(function(t){return"li"===en(t)&&od(t,e)})).fold(U([]),(function(e){return function(t){return dt(t,(function(t){return"ul"===en(t)||"ol"===en(t)}))}(t).map((function(t){var e=An(en(t)),n=Bt(Sr(t),(function(t,e){return ne(e,"list-style")}));return yr(e,n),[An("li"),e]})).getOr([])}))}(r,e),u=o.concat(i.length?i:function(t){return Po(t)?Un(t).filter(Io).fold(U([]),(function(e){return[t,e]})):Io(t)?[t]:[]}(n));return ot(u,ma)},bx=function(){return km([])},yx=function(t,e){return function(t,e){return lr(e,"table",W(Pn,t))}(t,e[0]).bind((function(t){var n=e[0],r=e[e.length-1],o=function(t){var e=cx(ma(t),0,[]);return it(Kr(t,"tr"),(function(t,n){it(Kr(t,"td,th"),(function(r,o){(function(t,e,n,r,o){for(var i=lx(o,"rowspan"),u=lx(o,"colspan"),a=t.rows,c=n;c<n+i;c++){a[c]||(a[c]=sx(pa(r),[]));for(var s=e;s<e+u;s++)a[c].cells[s]=c===n&&s===e?o:ma(o)}})(e,function(t,e,n){for(;dx(t,e,n);)e++;return e}(e,o,n),n,t,r)}))})),cx(e.element,mx(e.rows),e.rows)}(t);return function(t,e,n){return px(t,e).bind((function(e){return px(t,n).map((function(n){return function(t,e,n){var r=e.x,o=e.y,i=n.x,u=n.y,a=o<u?gx(t,r,o,i,u):gx(t,r,u,i,o);return cx(t.element,mx(a),a)}(t,e,n)}))}))}(o,n,r).map((function(t){return km([vx(t)])}))})).getOrThunk(bx)},xx=function(t,e){var n=Zl(e,t);return n.length>0?yx(t,n):function(t,e){return e.length>0&&e[0].collapsed?bx():function(t,e){return function(t,e){var n=ft(e,(function(t,e){return Tr(e,t),e}),t);return e.length>0?km([n]):n}(Nn(e.cloneContents()),hx(t,e))}(t,e[0])}(t,e)},wx=function(t,e){return e>=0&&e<t.length&&Vl(t.charAt(e))},Cx=function(t){return Go(t.innerText)},Sx=function(t){return Zr(t)?t.outerHTML:co(t)?au.encodeRaw(t.data,!1):lo(t)?"\x3c!--"+t.data+"--\x3e":""},kx=function(t,e){return function(t,e){var n=0;it(t,(function(t){0===t[0]?n++:1===t[0]?(function(t,e,n){var r=function(t){var e,n=document.createElement("div"),r=document.createDocumentFragment();for(t&&(n.innerHTML=t);e=n.firstChild;)r.appendChild(e);return r}(e);if(t.hasChildNodes()&&n<t.childNodes.length){var o=t.childNodes[n];t.insertBefore(r,o)}else t.appendChild(r)}(e,t[1],n),n++):2===t[0]&&function(t,e){if(t.hasChildNodes()&&e<t.childNodes.length){var n=t.childNodes[e];t.removeChild(n)}}(e,n)}))}(function(t,e){var n=t.length+e.length+2,r=new Array(n),o=new Array(n),i=function n(r,o,i,u,c){var s=a(r,o,i,u);if(null===s||s.start===o&&s.diag===o-u||s.end===r&&s.diag===r-i)for(var f=r,l=i;f<o||l<u;)f<o&&l<u&&t[f]===e[l]?(c.push([0,t[f]]),++f,++l):o-r>u-i?(c.push([2,t[f]]),++f):(c.push([1,e[l]]),++l);else{n(r,s.start,i,s.start-s.diag,c);for(var d=s.start;d<s.end;++d)c.push([0,t[d]]);n(s.end,o,s.end-s.diag,u,c)}},u=function(n,r,o,i){for(var u=n;u-r<i&&u<o&&t[u]===e[u-r];)++u;return function(t,e,n){return{start:t,end:e,diag:n}}(n,u,r)},a=function(n,i,a,c){var s=i-n,f=c-a;if(0===s||0===f)return null;var l,d,m,p,g,v=s-f,h=f+s,b=(h%2==0?h:h+1)/2;for(r[1+b]=n,o[1+b]=i+1,l=0;l<=b;++l){for(d=-l;d<=l;d+=2){for(m=d+b,d===-l||d!==l&&r[m-1]<r[m+1]?r[m]=r[m+1]:r[m]=r[m-1]+1,p=r[m],g=p-n+a-d;p<i&&g<c&&t[p]===e[g];)r[m]=++p,++g;if(v%2!=0&&v-l<=d&&d<=v+l&&o[m-v]<=r[m])return u(o[m-v],d+n-a,i,c)}for(d=v-l;d<=v+l;d+=2){for(m=d+b-v,d===v-l||d!==v+l&&o[m+1]<=o[m-1]?o[m]=o[m+1]-1:o[m]=o[m-1],p=o[m]-1,g=p-n+a-d;p>=n&&g>=a&&t[p]===e[g];)o[m]=p--,g--;if(v%2==0&&-l<=d&&d<=l&&o[m]<=r[m+v])return u(o[m],d+n-a,i,c)}}return null},c=[];return i(0,t.length,0,e.length,c),c}(ot(kt(e.childNodes),Sx),t),e),e},_x=Kt((function(){return document.implementation.createHTMLDocument("undo")})),Ex=function(t){var e,n=(e=t.getBody(),ct(ot(kt(e.childNodes),Sx),(function(t){return t.length>0}))),r=gt(n,(function(e){var n=$p(t.serializer,e);return n.length>0?[n]:[]})),o=r.join("");return function(t){return-1!==t.indexOf("</iframe>")}(o)?function(t){return{type:"fragmented",fragments:t,content:"",bookmark:null,beforeBookmark:null}}(r):function(t){return{type:"complete",fragments:null,content:t,bookmark:null,beforeBookmark:null}}(o)},Ox=function(t,e,n){var r=n?e.beforeBookmark:e.bookmark;"fragmented"===e.type?kx(e.fragments,t.getBody()):t.setContent(e.content,{format:"raw",no_selection:!M(r)||!Nl(r)||!r.isFakeCaret}),r&&(t.selection.moveToBookmark(r),t.selection.scrollIntoView())},Tx=function(t){return"fragmented"===t.type?t.fragments.join(""):t.content},Ax=function(t){var e=An("body",_x());return Pr(e,Tx(t)),it(Kr(e,"*[data-mce-bogus]"),Br),Ir(e)},Rx=function(t,e){return!(!t||!e)&&(!!function(t,e){return Tx(t)===Tx(e)}(t,e)||function(t,e){return Ax(t)===Ax(e)}(t,e))},Nx=function(t){return 0===t.get()},Dx=function(t,e,n){Nx(n)&&(t.typing=e)},Bx=function(t,e){t.typing&&(Dx(t,!1,e),t.add())},Mx=function(t){return{init:{bindEvents:F},undoManager:{beforeChange:function(e,n){return function(t,e,n){Nx(e)&&n.set(dc(t.selection))}(t,e,n)},add:function(e,n,r,o,i,u){return function(t,e,n,r,o,i,u){var a=Ex(t),c=Ge.extend(i||{},a);if(!Nx(r)||t.removed)return null;var s=e.data[n.get()];if(t.dispatch("BeforeAddUndo",{level:c,lastLevel:s,originalEvent:u}).isDefaultPrevented())return null;if(s&&Rx(s,c))return null;e.data[n.get()]&&o.get().each((function(t){e.data[n.get()].beforeBookmark=t}));var f=Ns(t);if(f&&e.data.length>f){for(var l=0;l<e.data.length-1;l++)e.data[l]=e.data[l+1];e.data.length--,n.set(e.data.length)}c.bookmark=dc(t.selection),n.get()<e.data.length-1&&(e.data.length=n.get()+1),e.data.push(c),n.set(e.data.length-1);var d={level:c,lastLevel:s,originalEvent:u};return n.get()>0?(t.setDirty(!0),t.dispatch("AddUndo",d),t.dispatch("change",d)):t.dispatch("AddUndo",d),c}(t,e,n,r,o,i,u)},undo:function(e,n,r){return function(t,e,n,r){var o;return e.typing&&(e.add(),e.typing=!1,Dx(e,!1,n)),r.get()>0&&(r.set(r.get()-1),o=e.data[r.get()],Ox(t,o,!0),t.setDirty(!0),t.dispatch("Undo",{level:o})),o}(t,e,n,r)},redo:function(e,n){return function(t,e,n){var r;return e.get()<n.length-1&&(e.set(e.get()+1),r=n[e.get()],Ox(t,r,!1),t.setDirty(!0),t.dispatch("Redo",{level:r})),r}(t,e,n)},clear:function(e,n){return function(t,e,n){e.data=[],n.set(0),e.typing=!1,t.dispatch("ClearUndos")}(t,e,n)},reset:function(t){return function(t){t.clear(),t.add()}(t)},hasUndo:function(e,n){return function(t,e,n){return n.get()>0||e.typing&&e.data[0]&&!Rx(Ex(t),e.data[0])}(t,e,n)},hasRedo:function(t,e){return function(t,e){return e.get()<t.data.length-1&&!t.typing}(t,e)},transact:function(t,e,n){return function(t,e,n){return Bx(t,e),t.beforeChange(),t.ignore(n),t.add()}(t,e,n)},ignore:function(t,e){return function(t,e){try{t.set(t.get()+1),e()}finally{t.set(t.get()-1)}}(t,e)},extra:function(e,n,r,o){return function(t,e,n,r,o){if(e.transact(r)){var i=e.data[n.get()].bookmark,u=e.data[n.get()-1];Ox(t,u,!0),e.transact(o)&&(e.data[n.get()-1].beforeBookmark=i)}}(t,e,n,r,o)}},formatter:{match:function(e,n,r,o){return kh(t,e,n,r,o)},matchAll:function(e,n){return function(t,e,n){var r=[],o={},i=t.selection.getStart();return t.dom.getParent(i,(function(i){for(var u=0;u<e.length;u++){var a=e[u];!o[a]&&Sh(t,i,a,n)&&(o[a]=!0,r.push(a))}}),t.dom.getRoot()),r}(t,e,n)},matchNode:function(e,n,r,o){return Sh(t,e,n,r,o)},canApply:function(e){return function(t,e){var n=t.formatter.get(e),r=t.dom;if(n)for(var o=t.selection.getStart(),i=kd(r,o),u=n.length-1;u>=0;u--){var a=n[u];if(!Od(a))return!0;for(var c=i.length-1;c>=0;c--)if(r.is(i[c],a.selector))return!0}return!1}(t,e)},closest:function(e){return function(t,e){var n=function(e){return Pn(e,Nn(t.getBody()))};return J.from(t.selection.getStart(!0)).bind((function(r){return hh(Nn(r),(function(n){return _t(e,(function(e){return function(e,n){return Sh(t,e.dom,n)?J.some(n):J.none()}(n,e)}))}),n)})).getOrNull()}(t,e)},apply:function(e,n,r){return xb(t,e,n,r)},remove:function(e,n,r,o){return vb(t,e,n,r,o)},toggle:function(e,n,r){return function(t,e,n,r){var o=t.formatter.get(e);o&&(!kh(t,e,n,r)||"toggle"in o[0]&&!o[0].toggle?xb(t,e,n,r):vb(t,e,n,r))}(t,e,n,r)},formatChanged:function(e,n,r,o,i){return function(t,e,n,r,o,i){return function(t,e,n,r,o,i){var u=e.get();it(n.split(","),(function(e){var n=Pt(u,e).getOrThunk((function(){var t={withSimilar:{state:Vu(!1),similar:!0,callbacks:[]},withoutSimilar:{state:Vu(!1),similar:!1,callbacks:[]},withVars:[]};return u[e]=t,t})),a=function(){var n=kb(t);return Sb(t,n,e,o,i).isSome()};if(D(i)){var c=o?n.withSimilar:n.withoutSimilar;c.callbacks.push(r),1===c.callbacks.length&&c.state.set(a())}else n.withVars.push({state:Vu(a()),similar:o,vars:i,callback:r})})),e.set(u)}(t,e,n,r,o,i),{unbind:function(){return function(t,e,n){var r=t.get();it(e.split(","),(function(t){return Pt(r,t).each((function(e){r[t]={withSimilar:s(s({},e.withSimilar),{},{callbacks:ct(e.withSimilar.callbacks,(function(t){return t!==n}))}),withoutSimilar:s(s({},e.withoutSimilar),{},{callbacks:ct(e.withoutSimilar.callbacks,(function(t){return t!==n}))}),withVars:ct(e.withVars,(function(t){return t.callback!==n}))}}))})),t.set(r)}(e,n,r)}}}(t,e,n,r,o,i)}},editor:{getContent:function(e){return function(t,e){return J.from(t.getBody()).fold(U("tree"===e.format?new Hp("body",11):""),(function(n){return Yp(t,e,n)}))}(t,e)},setContent:function(e,n){return function(t,e,n){return J.from(t.getBody()).map((function(r){return mh(e)?function(t,e,n,r){Xv(t.parser.getNodeFilters(),t.parser.getAttributeFilters(),n);var o=Qp({validate:!1},t.schema).serialize(n),i=jo(Nn(e))?o:Ge.trim(o);return ph(t,i,r.no_selection),{content:n,html:i}}(t,r,e,n):function(t,e,n,r){if(0===n.length||/^\s+$/.test(n)){var o='<br data-mce-bogus="1">';"TABLE"===e.nodeName?n="<tr><td>"+o+"</td></tr>":/^(UL|OL)$/.test(e.nodeName)&&(n="<li>"+o+"</li>");var i=Fc(t);return t.schema.isValidChild(e.nodeName.toLowerCase(),i.toLowerCase())?(n=o,n=t.dom.createHTML(i,jc(t),n)):n||(n=o),ph(t,n,r.no_selection),{content:n,html:n}}"raw"!==r.format&&(n=Qp({validate:!1},t.schema).serialize(t.parser.parse(n,{isRootContent:!0,insert:!0})));var u=jo(Nn(e))?n:Ge.trim(n);return ph(t,u,r.no_selection),{content:u,html:u}}(t,r,e,n)})).getOr({content:e,html:mh(n.content)?"":n.content})}(t,e,n)},insertContent:function(e,n){return dh(t,e,n)},addVisual:function(e){return function(t,e){var n=t.dom,r=M(e)?e:t.getBody();it(n.select("table,a",r),(function(e){switch(e.nodeName){case"TABLE":var r=js(t),o=n.getAttrib(e,"border");o&&"0"!==o||!t.hasVisual?n.removeClass(e,r):n.addClass(e,r);break;case"A":if(!n.getAttrib(e,"href")){var i=n.getAttrib(e,"name")||e.id,u=zs(t);i&&t.hasVisual?n.addClass(e,u):n.removeClass(e,u)}}})),t.dispatch("VisualAid",{element:e,hasVisual:t.hasVisual})}(t,e)}},selection:{getContent:function(e,n){return function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=function(t,e){return s(s({},t),{},{format:e,get:!0,selection:!0,getInner:!0})}(n,e);return ox(t,r).fold(H,(function(e){var n=function(t,e){if("text"===e.format)return function(t){return J.from(t.selection.getRng()).map((function(e){var n,r=J.from(t.dom.getParent(e.commonAncestorContainer,t.dom.isBlock)),o=t.getBody(),i=function(t){return t.map((function(t){return t.nodeName})).getOr("div").toLowerCase()}(r),u=Nn(e.cloneContents());Gp(u),Kp(u);var a=t.dom.add(o,i,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},u.dom),c=Cx(a),s=Go(null!==(n=a.textContent)&&void 0!==n?n:"");if(t.dom.remove(a),wx(s,0)||wx(s,s.length-1)){var f=r.getOr(o),l=Cx(f),d=l.indexOf(c);return-1===d?c:(wx(l,d-1)?" ":"")+c+(wx(l,d+c.length)?" ":"")}return c})).getOr("")}(t);var n=function(t,e){var n=t.selection.getRng(),r=t.dom.create("body"),o=t.selection.getSel(),i=Dp(t,Ql(o)),u=e.contextual?xx(Nn(t.getBody()),i).dom:n.cloneContents();return u&&r.appendChild(u),t.selection.serializer.serialize(r,e)}(t,e);return"tree"===e.format?n:t.selection.isCollapsed()?"":n}(t,e);return ix(t,n,e)}))}(t,e,n)}},autocompleter:{addDecoration:function(e){return Pp(t,e)},removeDecoration:function(){return function(t,e){return Lp(e).each((function(e){var n=t.selection.getBookmark();Br(e),t.selection.moveToBookmark(n)}))}(t,Nn(t.getBody()))}},raw:{getModel:function(){return J.none()}}}},Ix=function(t){return Lt(t.plugins,"rtc")},Px=function(t){return t.rtcInstance?t.rtcInstance:Mx(t)},Lx=function(t){var e=t.rtcInstance;if(e)return e;throw new Error("Failed to get RTC instance not yet initialized.")},Fx=function(t){return Lx(t).init.bindEvents()},jx=function(t){return 0===t.dom.length?(Dr(t),J.none()):J.some(t)},zx=function(t,e,n,r){t.bind((function(t){return(r?Xg:Yg)(t.dom,r?t.dom.length:0),e.filter(un).map((function(e){return function(t,e,n,r){var o=t.dom,i=e.dom,u=r?o.length:i.length;r?(Jg(o,i,!1,!r),n.setStart(i,u)):(Jg(i,o,!1,!r),n.setEnd(i,u))}(t,e,n,r)}))})).orThunk((function(){var t=function(t,e){return t.filter((function(t){return Jd.isBookmarkNode(t.dom)})).bind(e?$n:Wn)}(e,r).or(e).filter(un);return t.map((function(t){return function(t,e){Un(t).each((function(n){var r=t.dom;e&&zg(n,$a(r,0))?Yg(r,0):!e&&Ug(n,$a(r,r.length))&&Xg(r,r.length)}))}(t,r)}))}))},Ux=function(t,e,n){if(Lt(t,e)){var r=ct(t[e],(function(t){return t!==n}));0===r.length?delete t[e]:t[e]=r}},Hx=function(t){return!(!t||!t.ownerDocument)&&Ln(Nn(t.ownerDocument),Nn(t))},Vx=function(t,e,n,r){var o,i,u=function(t,e){var n,r,o=function(e,n){return dt(n,(function(n){return t.is(n,e)}))},i=function(e){return t.getParents(e,void 0,t.getRoot())};return{selectorChangedWithUnbind:function(t,u){return n||(n={},r={},e.on("NodeChange",(function(t){var e=t.element,u=i(e),a={};Tt(n,(function(t,e){o(e,u).each((function(n){r[e]||(it(t,(function(t){t(!0,{node:n,selector:e,parents:u})})),r[e]=t),a[e]=t}))})),Tt(r,(function(t,n){a[n]||(delete r[n],it(t,(function(t){t(!1,{node:e,selector:n,parents:u})})))}))}))),n[t]||(n[t]=[]),n[t].push(u),o(t,i(e.selection.getStart())).each((function(){r[t]=n[t]})),{unbind:function(){Ux(n,t,u),Ux(r,t,u)}}}}}(t,r),a=u.selectorChangedWithUnbind,c=function(t,e){return function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=function(t,e){return s(s({format:"html"},t),{},{set:!0,selection:!0,content:e})}(n,e);ux(t,r).each((function(e){var n=function(t,e){if("raw"!==e.format){var n=t.selection.getRng(),r=t.dom.getParent(n.commonAncestorContainer,t.dom.isBlock),o=r?{context:r.nodeName.toLowerCase()}:{},i=t.parser.parse(e.content,s(s({forced_root_block:!1},o),e));return Qp({validate:!1},t.schema).serialize(i)}return e.content}(t,e),r=t.selection.getRng();(function(t,e){var n=J.from(e.firstChild).map(Nn),r=J.from(e.lastChild).map(Nn);t.deleteContents(),t.insertNode(e);var o=n.bind(Wn).filter(un).bind(jx),i=r.bind($n).filter(un).bind(jx);zx(o,n,t,!0),zx(i,r,t,!1),t.collapse(!1)})(r,r.createContextualFragment(n)),t.selection.setRng(r),op(t,r),ax(t,n,e)}))}(r,t,e)},f=function(t){var e=d();e.collapse(!!t),m(e)},l=function(){return e.getSelection?e.getSelection():e.document.selection},d=function(){var n,u=function(t,e,n){try{return e.compareBoundaryPoints(t,n)}catch(t){return-1}},a=e.document;if(M(r.bookmark)&&!Ep(r)){var c=gp(r);if(c.isSome())return c.map((function(t){return Dp(r,[t])[0]})).getOr(a.createRange())}try{var s=l();s&&!Qr(s.anchorNode)&&(n=s.rangeCount>0?s.getRangeAt(0):a.createRange(),n=Dp(r,[n])[0])}catch(t){}if(n||(n=a.createRange()),mo(n.startContainer)&&n.collapsed){var f=t.getRoot();n.setStart(f,0),n.setEnd(f,0)}return o&&i&&(0===u(n.START_TO_START,n,o)&&0===u(n.END_TO_END,n,o)?n=i:(o=null,i=null)),n},m=function(t,e){if(function(t){return!!t&&Hx(t.startContainer)&&Hx(t.endContainer)}(t)){var n=l();if(t=r.dispatch("SetSelectionRange",{range:t,forward:e}).range,n){i=t;try{n.removeAllRanges(),n.addRange(t)}catch(t){}!1===e&&n.extend&&(n.collapse(t.endContainer,t.endOffset),n.extend(t.startContainer,t.startOffset)),o=n.rangeCount>0?n.getRangeAt(0):null}if(!t.collapsed&&t.startContainer===t.endContainer&&(null==n?void 0:n.setBaseAndExtent)&&t.endOffset-t.startOffset<2&&t.startContainer.hasChildNodes()){var u=t.startContainer.childNodes[t.startOffset];u&&"IMG"===u.nodeName&&(n.setBaseAndExtent(t.startContainer,t.startOffset,t.endContainer,t.endOffset),n.anchorNode===t.startContainer&&n.focusNode===t.endContainer||n.setBaseAndExtent(u,0,u,1))}r.dispatch("AfterSetSelectionRange",{range:t,forward:e})}},p=function(){var e=l(),n=null==e?void 0:e.anchorNode,r=null==e?void 0:e.focusNode;if(!e||!n||!r||Qr(n)||Qr(r))return!0;var o=t.createRng(),i=t.createRng();try{o.setStart(n,e.anchorOffset),o.collapse(!0),i.setStart(r,e.focusOffset),i.collapse(!0)}catch(t){return!0}return o.compareBoundaryPoints(o.START_TO_START,i)<=0},g={dom:t,win:e,serializer:n,editor:r,expand:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"word"};return m(Lm(t).expand(d(),e))},collapse:f,setCursorLocation:function(e,n){var o=t.createRng();M(e)&&M(n)?(o.setStart(e,n),o.setEnd(e,n),m(o),f(!1)):(id(t,o,r.getBody(),!0),m(o))},getContent:function(t){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(t,e,n){return Lx(t).selection.getContent(e,n)}(t,e.format?e.format:"html",e)}(r,t)},setContent:c,getBookmark:function(t,e){return v.getBookmark(t,e)},moveToBookmark:function(t){return v.moveToBookmark(t)},select:function(e,n){return function(t,e,n){return J.from(e).bind((function(e){return J.from(e.parentNode).map((function(r){var o=t.nodeIndex(e),i=t.createRng();return i.setStart(r,o),i.setEnd(r,o+1),n&&(id(t,i,e,!0),id(t,i,e,!1)),i}))}))}(t,e,n).each(m),e},isCollapsed:function(){var t=d(),e=l();return!(!t||t.item)&&(t.compareEndPoints?0===t.compareEndPoints("StartToEnd",t):!e||t.collapsed)},isEditable:function(){var e=d(),n=r.getBody().querySelectorAll('[data-mce-selected="1"]');return n.length>0?vt(n,(function(e){return t.isEditable(e.parentElement)})):e.startContainer===e.endContainer?t.isEditable(e.startContainer):t.isEditable(e.startContainer)&&t.isEditable(e.endContainer)},isForward:p,setNode:function(e){return c(t.getOuterHTML(e)),e},getNode:function(){return function(t,e){if(!e)return t;var n=e.startContainer,r=e.endContainer,o=e.startOffset,i=e.endOffset,u=e.commonAncestorContainer;e.collapsed||(n===r&&i-o<2&&n.hasChildNodes()&&(u=n.childNodes[o]),co(n)&&co(r)&&(n=n.length===o?Np(n.nextSibling,!0):n.parentNode,r=0===i?Np(r.previousSibling,!1):r.parentNode,n&&n===r&&(u=n)));var a=co(u)?u.parentNode:u;return Zr(a)?a:t}(r.getBody(),d())},getSel:l,setRng:m,getRng:d,getStart:function(t){return Ap(r.getBody(),d(),t)},getEnd:function(t){return Rp(r.getBody(),d(),t)},getSelectedBlocks:function(e,n){return function(t,e,n,r){var o=[],i=t.getRoot(),u=t.getParent(n||Ap(i,e,e.collapsed),t.isBlock),a=t.getParent(r||Rp(i,e,e.collapsed),t.isBlock);if(u&&u!==i&&o.push(u),u&&a&&u!==a)for(var c,s=new Xr(u,i);(c=s.next())&&c!==a;)t.isBlock(c)&&o.push(c);return a&&u!==a&&a!==i&&o.push(a),o}(t,d(),e,n)},normalize:function(){var e=d(),n=l();if(!(Ql(n).length>1)&&ud(r)){var o=Mm(t,e);return o.each((function(t){m(t,p())})),o.getOr(e)}return e},selectorChanged:function(t,e){return a(t,e),g},selectorChangedWithUnbind:a,getScrollContainer:function(){for(var e,n=t.getRoot();n&&"BODY"!==n.nodeName;){if(n.scrollHeight>n.clientHeight){e=n;break}n=n.parentNode}return e},scrollIntoView:function(t,e){M(t)?function(t,e,n){(t.inline?ep:rp)(t,e,n)}(r,t,e):op(r,d(),e)},placeCaretAt:function(t,e){return m(Em(t,e,r.getDoc()))},getBoundingClientRect:function(){var t=d();return t.collapsed?$a.fromRangeStart(t).getClientRects()[0]:t.getBoundingClientRect()},destroy:function(){e=o=i=null,h.destroy()}},v=Jd(g),h=fm(g,r);return g.bookmarkManager=v,g.controlSelection=h,g},Wx=function(t,e,n){-1===Ge.inArray(e,n)&&(t.addAttributeFilter(n,(function(t,e){for(var n=t.length;n--;)t[n].attr(e,null)})),e.push(n))},$x=function(t,e){var n=["data-mce-selected"],r=e&&e.dom?e.dom:zu.DOM,o=e&&e.schema?e.schema:xu(t);t.entity_encoding=t.entity_encoding||"named",t.remove_trailing_brs=!("remove_trailing_brs"in t)||t.remove_trailing_brs;var i=nx(t,o);return function(t,e,n){t.addAttributeFilter("data-mce-tabindex",(function(t,e){for(var n=t.length;n--;){var r=t[n];r.attr("tabindex",r.attr("data-mce-tabindex")),r.attr(e,null)}})),t.addAttributeFilter("src,href,style",(function(t,r){for(var o="data-mce-"+r,i=e.url_converter,u=e.url_converter_scope,a=t.length;a--;){var c=t[a],s=c.attr(o);void 0!==s?(c.attr(r,s.length>0?s:null),c.attr(o,null)):(s=c.attr(r),"style"===r?s=n.serializeStyle(n.parseStyle(s),c.name):i&&(s=i.call(u,s,r,c.name)),c.attr(r,s.length>0?s:null))}})),t.addAttributeFilter("class",(function(t){for(var e=t.length;e--;){var n=t[e],r=n.attr("class");r&&(r=r.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),n.attr("class",r.length>0?r:null))}})),t.addAttributeFilter("data-mce-type",(function(t,e,n){for(var r=t.length;r--;){var o=t[r];if("bookmark"===o.attr("data-mce-type")&&!n.cleanup){var i=J.from(o.firstChild).exists((function(t){var e;return!qo(null!==(e=t.value)&&void 0!==e?e:"")}));i?o.unwrap():o.remove()}}})),t.addNodeFilter("noscript",(function(t){for(var e,n=t.length;n--;){var r=t[n].firstChild;r&&(r.value=au.decode(null!==(e=r.value)&&void 0!==e?e:""))}})),t.addNodeFilter("script,style",(function(t,n){for(var r,o=function(t){return t.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")},i=t.length;i--;){var u=t[i],a=u.firstChild,c=null!==(r=null==a?void 0:a.value)&&void 0!==r?r:"";if("script"===n){var s=u.attr("type");s&&u.attr("type","mce-no/type"===s?null:s.replace(/^mce\-/,"")),"xhtml"===e.element_format&&a&&c.length>0&&(a.value="// <![CDATA[\n"+o(c)+"\n// ]]>")}else"xhtml"===e.element_format&&a&&c.length>0&&(a.value="\x3c!--\n"+o(c)+"\n--\x3e")}})),t.addNodeFilter("#comment",(function(t){for(var r=t.length;r--;){var o=t[r],i=o.value;e.preserve_cdata&&0===(null==i?void 0:i.indexOf("[CDATA["))?(o.name="#cdata",o.type=4,o.value=n.decode(i.replace(/^\[CDATA\[|\]\]$/g,""))):0===(null==i?void 0:i.indexOf("mce:protected "))&&(o.name="#text",o.type=3,o.raw=!0,o.value=unescape(i).substr(14))}})),t.addNodeFilter("xml:namespace,input",(function(t,e){for(var n=t.length;n--;){var r=t[n];7===r.type?r.remove():1===r.type&&("input"!==e||r.attr("type")||r.attr("type","text"))}})),t.addAttributeFilter("data-mce-type",(function(e){it(e,(function(e){"format-caret"===e.attr("data-mce-type")&&(e.isEmpty(t.schema.getNonEmptyElements())?e.remove():e.unwrap())}))})),t.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(function(t,e){for(var n=t.length;n--;)t[n].attr(e,null)}))}(i,t,r),{schema:o,addNodeFilter:i.addNodeFilter,addAttributeFilter:i.addAttributeFilter,serialize:function(n){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=s({format:"html"},u),c=function(t,e,n){return function(t,e){return M(t)&&t.hasEventListeners("PreProcess")&&!e.no_events}(t,n)?function(t,e,n){var r,o=t.dom,i=e.cloneNode(!0),u=document.implementation;if(u.createHTMLDocument){var a=u.createHTMLDocument("");Ge.each("BODY"===i.nodeName?i.childNodes:[i],(function(t){a.body.appendChild(a.importNode(t,!0))})),i="BODY"!==i.nodeName?a.body.firstChild:a.body,r=o.doc,o.doc=a}return function(t,e){t.dispatch("PreProcess",e)}(t,s(s({},n),{},{node:i})),r&&(o.doc=r),i}(t,e,n):e}(e,n,a),f=function(t,e,n){var r=Go(n.getInner?e.innerHTML:t.getOuterHTML(e));return n.selection||jo(Nn(e))?r:Ge.trim(r)}(r,c,a),l=function(t,e,n){var r=n.selection?s({forced_root_block:!1},n):n,o=t.parse(e,r);return function(t){var e=function(t){return"br"===(null==t?void 0:t.name)},n=t.lastChild;if(e(n)){var r=n.prev;e(r)&&(n.remove(),r.remove())}}(o),o}(i,f,a);return"tree"===a.format?l:function(t,e,n,r,o){var i=function(t,e,n){return Qp(t,e).serialize(n)}(e,n,r);return function(t,e,n){if(!e.no_events&&t){var r=function(t,e){return t.dispatch("PostProcess",e)}(t,s(s({},e),{},{content:n}));return r.content}return n}(t,o,i)}(e,t,o,l,a)},addRules:o.addValidElements,setRules:o.setValidElements,addTempAttr:W(Wx,i,n),getTempAttrs:U(n),getNodeFilters:i.getNodeFilters,getAttributeFilters:i.getAttributeFilters,removeNodeFilter:i.removeNodeFilter,removeAttributeFilter:i.removeAttributeFilter}},qx=function(t,e){var n=$x(t,e);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs,getNodeFilters:n.getNodeFilters,getAttributeFilters:n.getAttributeFilters,removeNodeFilter:n.removeNodeFilter,removeAttributeFilter:n.removeAttributeFilter}},Gx=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=function(t,e){return s(s({format:"html"},t),{},{set:!0,content:e})}(n,e);return ux(t,r).map((function(e){var n=function(t,e,n){return Px(t).editor.setContent(e,n)}(t,e.content,e);return ax(t,n.html,e),n.content})).getOr(e)},Kx="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),Yx="template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),Xx="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),Jx=[{name:"template",replacedWith:"Advanced Template"}],Qx=function(t,e){var n=ct(e,(function(e){return Lt(t,e)}));return xt(n)},Zx=function(t){var e=Qx(t,Kx),n=t.forced_root_block;return!1!==n&&""!==n||e.push("forced_root_block (false only)"),xt(e)},tw=function(t){return Qx(t,Yx)},ew=function(t,e){var n=Ge.makeMap(t.plugins," "),r=ct(e,(function(t){return Lt(n,t)}));return xt(r)},nw=function(t){return ew(t,Xx)},rw=function(t){return ew(t,Jx.map((function(t){return t.name})))},ow=function(t){return dt(Jx,(function(e){return e.name===t})).fold((function(){return t}),(function(e){return"".concat(t,", replaced by ").concat(e.replacedWith)}))},iw=zu.DOM,uw=function(t){return J.from(t).each((function(t){return t.destroy()}))},aw=function(){var t={};return{add:function(e,n){t[e]=n},get:function(e){return t[e]?t[e]:{icons:{}}},has:function(e){return Lt(t,e)}}}(),cw=Ku.ModelManager,sw=function(t,e){return e.dom[t]},fw=function(t,e){return parseInt(xr(e,t),10)},lw=W(sw,"clientWidth"),dw=W(sw,"clientHeight"),mw=W(fw,"margin-top"),pw=W(fw,"margin-left"),gw=function(t){var e=[],n=function(){var e=t.theme;return e&&e.getNotificationManagerImpl?e.getNotificationManagerImpl():function(){var t=function(){throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:t,close:t,getArgs:t}}()},r=function(){return J.from(e[0])},o=function(){it(e,(function(t){t.reposition()}))},i=function(t){mt(e,(function(e){return e===t})).each((function(t){e.splice(t,1)}))},u=function(u){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t.removed||!function(t){return(e=t.inline?t.getBody():t.getContentAreaContainer(),J.from(e).map(Nn)).map(ar).getOr(!1);var e}(t)?{}:(a&&t.dispatch("BeforeOpenNotification",{notification:u}),dt(e,(function(t){return e=n().getArgs(t),r=u,!(e.type!==r.type||e.text!==r.text||e.progressBar||e.timeout||r.progressBar||r.timeout);var e,r})).getOrThunk((function(){t.editorManager.setActive(t);var a=n().open(u,(function(){i(a),o(),r().fold((function(){return t.focus()}),(function(t){return ip(Nn(t.getEl()))}))}));return function(t){e.push(t)}(a),o(),t.dispatch("OpenNotification",{notification:s({},a)}),a})))},a=U(e);return function(t){t.on("SkinLoaded",(function(){var e=gs(t);e&&u({text:e,type:"warning",timeout:0},!1),o()})),t.on("show ResizeEditor ResizeWindow NodeChange",(function(){requestAnimationFrame(o)})),t.on("remove",(function(){it(e.slice(),(function(t){n().close(t)}))}))}(t),{open:u,close:function(){r().each((function(t){n().close(t),i(t),o()}))},getNotifications:a}},vw=Ku.PluginManager,hw=Ku.ThemeManager,bw=function(t){var e=[],n=function(){var e=t.theme;return e&&e.getWindowManagerImpl?e.getWindowManagerImpl():function(){var t=function(){throw new Error("Theme did not provide a WindowManager implementation.")};return{open:t,openUrl:t,alert:t,confirm:t,close:t}}()},r=function(t,e){return function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e?e.apply(t,r):void 0}},o=function(n){(function(e){t.dispatch("CloseWindow",{dialog:e})})(n),e=ct(e,(function(t){return t!==n})),0===e.length&&t.focus()},i=function(n){t.editorManager.setActive(t),pp(t),t.ui.show();var r=n();return function(n){e.push(n),function(e){t.dispatch("OpenWindow",{dialog:e})}(n)}(r),r};return t.on("remove",(function(){it(e,(function(t){n().close(t)}))})),{open:function(t,e){return i((function(){return n().open(t,e,o)}))},openUrl:function(t){return i((function(){return n().openUrl(t,o)}))},alert:function(t,e,o){var i=n();i.alert(t,r(o||i,e))},confirm:function(t,e,o){var i=n();i.confirm(t,r(o||i,e))},close:function(){J.from(e[e.length-1]).each((function(t){n().close(t),o(t)}))}}},yw=function(t,e){t.notificationManager.open({type:"error",text:e})},xw=function(t,e){t._skinLoaded?yw(t,e):t.on("SkinLoaded",(function(){yw(t,e)}))},ww=function(t,e,n){Zd(t,e,{message:n}),console.error(n)},Cw=function(t,e,n){return n?"Failed to load ".concat(t,": ").concat(n," from url ").concat(e):"Failed to load ".concat(t," url: ").concat(e)},Sw=function(t){for(var e=window.console,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];e&&(e.error?e.error.apply(e,[t].concat(r)):e.log.apply(e,[t].concat(r)))},kw=function(t,e){var n=t.editorManager.baseURL+"/skins/content",r="content".concat(t.editorManager.suffix,".css");return ot(e,(function(e){return function(t){return/^[a-z0-9\-]+$/i.test(t)}(e)&&!t.inline?"".concat(n,"/").concat(e,"/").concat(r):t.documentBaseURI.toAbsolute(e)}))},_w=function(t,e){var n={};return{findAll:function(r){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:X,i=ct(function(t){return t?kt(t.getElementsByTagName("img")):[]}(r),(function(e){var n=e.src;return!e.hasAttribute("data-mce-bogus")&&!e.hasAttribute("data-mce-placeholder")&&!(!n||n===Ve.transparentSrc)&&(ne(n,"blob:")?!t.isUploaded(n)&&o(e):!!ne(n,"data:")&&o(e))})),u=ot(i,(function(t){var r=t.src;if(Lt(n,r))return n[r].then((function(e){return E(e)?e:{image:t,blobInfo:e.blobInfo}}));var o=function(t,e){var n,r,o=function(){return Promise.reject("Invalid data URI")};if(ne(e,"blob:")){var i=t.getByUri(e);return M(i)?Promise.resolve(i):(n=e,ne(n,"blob:")?function(t){return fetch(t).then((function(t){return t.ok?t.blob():Promise.reject()})).catch((function(){return Promise.reject({message:"Cannot convert ".concat(t," to Blob. Resource might not exist or is inaccessible."),uriType:"blob"})}))}(n):ne(n,"data:")?(r=n,new Promise((function(t,e){Ab(r).bind((function(t){var e=t.type,n=t.data,r=t.base64Encoded;return Rb(e,n,r)})).fold((function(){return e("Invalid data URI")}),t)}))):Promise.reject("Unknown URI format")).then((function(e){return Nb(e).then((function(n){return Bb(n,!1,(function(n){return J.some(Mb(t,e,n))})).getOrThunk(o)}))}))}return ne(e,"data:")?Ib(t,e).fold(o,(function(t){return Promise.resolve(t)})):Promise.reject("Unknown image data format")}(e,r).then((function(e){return delete n[r],{image:t,blobInfo:e}})).catch((function(t){return delete n[r],t}));return n[r]=o,o}));return Promise.all(u)}}},Ew=function(){var t={},e=function(t,e){return{status:t,resultUri:e}},n=function(e){return e in t};return{hasBlobUri:n,getResultUri:function(e){var n=t[e];return n?n.resultUri:null},isPending:function(e){return!!n(e)&&1===t[e].status},isUploaded:function(e){return!!n(e)&&2===t[e].status},markPending:function(n){t[n]=e(1,null)},markUploaded:function(n,r){t[n]=e(2,r)},removeFailed:function(e){delete t[e]},destroy:function(){t={}}}},Ow=0,Tw=function(t,e){var n={},r=function(t,n){return new Promise((function(r,o){var i=new XMLHttpRequest;i.open("POST",e.url),i.withCredentials=e.credentials,i.upload.onprogress=function(t){n(t.loaded/t.total*100)},i.onerror=function(){o("Image upload failed due to a XHR Transport error. Code: "+i.status)},i.onload=function(){if(i.status<200||i.status>=300)o("HTTP Error: "+i.status);else{var t,n,u=JSON.parse(i.responseText);u&&E(u.location)?r((t=e.basePath,n=u.location,t?t.replace(/\/$/,"")+"/"+n.replace(/^\//,""):n)):o("Invalid JSON: "+i.responseText)}};var u=new FormData;u.append("file",t.blob(),t.filename()),i.send(u)}))},o=I(e.handler)?e.handler:r,i=function(t,e){return{url:e,blobInfo:t,status:!0}},u=function(t,e){return{url:"",blobInfo:t,status:!1,error:e}},a=function(t,e){Ge.each(n[t],(function(t){t(e)})),delete n[t]};return{upload:function(c,s){return e.url||o!==r?function(e,r){return e=Ge.grep(e,(function(e){return!t.isUploaded(e.blobUri())})),Promise.all(Ge.map(e,(function(e){return t.isPending(e.blobUri())?function(t){var e=t.blobUri();return new Promise((function(t){n[e]=n[e]||[],n[e].push(t)}))}(e):function(e,n,r){return t.markPending(e.blobUri()),new Promise((function(o){var c,s;try{var f=function(){c&&(c.close(),s=F)},l=function(n){f(),t.markUploaded(e.blobUri(),n),a(e.blobUri(),i(e,n)),o(i(e,n))},d=function(n){f(),t.removeFailed(e.blobUri()),a(e.blobUri(),u(e,n)),o(u(e,n))};s=function(t){t<0||t>100||J.from(c).orThunk((function(){return J.from(r).map(G)})).each((function(e){c=e,e.progressBar.value(t)}))},n(e,s).then(l,(function(t){d(E(t)?{message:t}:t)}))}catch(t){o(u(e,t))}}))}(e,o,r)})))}(c,s):new Promise((function(t){t([])}))}}},Aw=function(t){return function(){return t.notificationManager.open({text:t.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})}},Rw=function(t,e){return Tw(e,{url:Xc(t),basePath:Jc(t),credentials:Qc(t),handler:Zc(t)})},Nw=function(t){var e,n,r=function(){var t=[],e=function(t){if(!t.blob||!t.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");var e,n=t.id||"blobid"+Ow+++function(){var t=function(){return Math.round(4294967295*Math.random()).toString(36)};return"s"+(new Date).getTime().toString(36)+t()+t()+t()}(),r=t.name||n,o=t.blob;return{id:U(n),name:U(r),filename:U(t.filename||r+"."+(e=o.type,{"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"}[e.toLowerCase()]||"dat")),blob:U(o),base64:U(t.base64),blobUri:U(t.blobUri||URL.createObjectURL(o)),uri:U(t.uri)}},n=function(e){return dt(t,e).getOrUndefined()},r=function(t){return n((function(e){return e.id()===t}))};return{create:function(t,n,r,o,i){if(E(t))return e({id:t,name:o,filename:i,blob:n,base64:r});if(O(t))return e(t);throw new Error("Unknown input type")},add:function(e){r(e.id())||t.push(e)},get:r,getByUri:function(t){return n((function(e){return e.blobUri()===t}))},getByData:function(t,e){return n((function(n){return n.base64()===t&&n.blob().type===e}))},findFirst:n,removeByUri:function(e){t=ct(t,(function(t){return t.blobUri()!==e||(URL.revokeObjectURL(t.blobUri()),!1)}))},destroy:function(){it(t,(function(t){URL.revokeObjectURL(t.blobUri())})),t=[]}}}(),o=Ew(),i=[],u=function(e){return function(n){return t.selection?e(n):[]}},a=function(t,e,n){var r=0;do{r=t.indexOf(e,r),-1!==r&&(t=t.substring(0,r)+n+t.substr(r+e.length),r+=n.length-e.length+1)}while(-1!==r);return t},c=function(t,e,n){var r='src="'.concat(n,'"').concat(n===Ve.transparentSrc?' data-mce-placeholder="1"':"");return t=a(t,'src="'.concat(e,'"'),r),a(t,'data-mce-src="'+e+'"','data-mce-src="'+n+'"')},s=function(e,n){it(t.undoManager.data,(function(t){"fragmented"===t.type?t.fragments=ot(t.fragments,(function(t){return c(t,e,n)})):t.content=c(t.content,e,n)}))},f=function(){return e||(e=Rw(t,o)),m().then(u((function(n){var o=ot(n,(function(t){return t.blobInfo}));return e.upload(o,Aw(t)).then(u((function(e){var o=[],i=!1,u=ot(e,(function(e,u){var a=n[u],c=a.blobInfo,f=a.image,l=!1;return e.status&&Gc(t)?(e.url&&!ee(f.src,e.url)&&(i=!0),r.removeByUri(f.src),Ix(t)||function(e,n){var r,o=t.convertURL(n,"src");s(e.src,n),dn(Nn(e),{src:qc(t)?(r=n,r+(-1===r.indexOf("?")?"?":"&")+(new Date).getTime()):n,"data-mce-src":o})}(f,e.url)):e.error&&(e.error.remove&&(s(f.src,Ve.transparentSrc),o.push(f),l=!0),function(t,e){xw(t,Gu.translate(["Failed to upload image: {0}",e]))}(t,e.error.message)),{element:f,status:e.status,uploadUri:e.url,blobInfo:c,removed:l}}));return o.length>0&&!Ix(t)?t.undoManager.transact((function(){it(o,(function(e){t.dom.remove(e),r.removeByUri(e.src)}))})):i&&t.undoManager.dispatchChange(),u})))})))},l=function(){return $c(t)?f():Promise.resolve([])},d=function(t){return vt(i,(function(e){return e(t)}))},m=function(){return n||(n=_w(o,r)),n.findAll(t.getBody(),d).then(u((function(e){var n=ct(e,(function(e){return E(e)?(xw(t,e),!1):"blob"!==e.uriType}));return Ix(t)||it(n,(function(t){s(t.image.src,t.blobInfo.blobUri()),t.image.src=t.blobInfo.blobUri(),t.image.removeAttribute("data-mce-src")})),n})))},p=function(e){return e.replace(/src="(blob:[^"]+)"/g,(function(e,n){var i=o.getResultUri(n);if(i)return'src="'+i+'"';var u=r.getByUri(n);return u||(u=ft(t.editorManager.get(),(function(t,e){return t||e.editorUpload&&e.editorUpload.blobCache.getByUri(n)}),void 0)),u?'src="data:'+u.blob().type+";base64,"+u.base64()+'"':e}))};return t.on("SetContent",(function(){$c(t)?l():m()})),t.on("RawSaveContent",(function(t){t.content=p(t.content)})),t.on("GetContent",(function(t){t.source_view||"raw"===t.format||"tree"===t.format||(t.content=p(t.content))})),t.on("PostRender",(function(){t.parser.addNodeFilter("img",(function(t){it(t,(function(t){var e=t.attr("src");if(e&&!r.getByUri(e)){var n=o.getResultUri(e);n&&t.attr("src",n)}}))}))})),{blobCache:r,addFilter:function(t){i.push(t)},uploadImages:f,uploadImagesAuto:l,scanForImages:m,destroy:function(){r.destroy(),o.destroy(),n=e=null}}},Dw={remove_similar:!0,inherit:!1},Bw=s({selector:"td,th"},Dw),Mw={tablecellbackgroundcolor:s({styles:{backgroundColor:"%value"}},Bw),tablecellverticalalign:s({styles:{"vertical-align":"%value"}},Bw),tablecellbordercolor:s({styles:{borderColor:"%value"}},Bw),tablecellclass:s({classes:["%value"]},Bw),tableclass:s({selector:"table",classes:["%value"]},Dw),tablecellborderstyle:s({styles:{borderStyle:"%value"}},Bw),tablecellborderwidth:s({styles:{borderWidth:"%value"}},Bw)},Iw=U(Mw),Pw=Ge.each,Lw=zu.DOM,Fw=function(t){return M(t)&&O(t)},jw=function(t,e){var n=e&&e.schema||xu({}),r=function(t){var e=E(t)?{name:t,classes:[],attrs:{}}:t,n=Lw.create(e.name);return function(t,e){e.classes.length>0&&Lw.addClass(t,e.classes.join(" ")),Lw.setAttribs(t,e.attrs)}(n,e),n},o=function t(e,o,i){var u,a=o[0],c=Fw(a)?a.name:void 0,s=function(t,e){var r=n.getElementRule(t.nodeName.toLowerCase()),o=null==r?void 0:r.parentsRequired;return!(!o||!o.length)&&(e&&nt(o,e)?e:o[0])}(e,c);if(s)c===s?(u=a,o=o.slice(1)):u=s;else if(a)u=a,o=o.slice(1);else if(!i)return e;var f=u?r(u):Lw.create("div");f.appendChild(e),i&&Ge.each(i,(function(t){var n=r(t);f.insertBefore(n,e)}));var l=Fw(u)?u.siblings:void 0;return t(f,o,l)},i=Lw.create("div");if(t.length>0){var u=t[0],a=r(u),c=Fw(u)?u.siblings:void 0;i.appendChild(o(a,t.slice(1),c))}return i},zw=function(t){var e="div",n={name:e,classes:[],attrs:{},selector:t=Ge.trim(t)};return"*"!==t&&(e=t.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(function(t,e,r,o,i){switch(e){case"#":n.attrs.id=r;break;case".":n.classes.push(r);break;case":":-1!==Ge.inArray("checked disabled enabled read-only required".split(" "),r)&&(n.attrs[r]=r)}if("["===o){var u=i.match(/([\w\-]+)(?:\=\"([^\"]+))?/);u&&(n.attrs[u[1]]=u[2])}return""}))),n.name=e||"div",n},Uw=function(t,e){var n="",r=Cs(t);if(""===r)return"";var o=function(t){return E(t)?t.replace(/%(\w+)/g,""):""},i=function(e,n){return Lw.getStyle(null!=n?n:t.getBody(),e,!0)};if(E(e)){var u=t.formatter.get(e);if(!u)return"";e=u[0]}if("preview"in e){var a=e.preview;if(!1===a)return"";r=a||r}var c,s,f=e.block||e.inline||"span",l=(s=e.selector,E(s)?(s=(s=s.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),Ge.map(s.split(/(?:>|\s+(?![^\[\]]+\]))/),(function(t){var e=Ge.map(t.split(/(?:~\+|~|\+)/),zw),n=e.pop();return e.length&&(n.siblings=e),n})).reverse()):[]);l.length>0?(l[0].name||(l[0].name=f),f=e.selector,c=jw(l,t)):c=jw([f],t);var d=Lw.select(f,c)[0]||c.firstChild;Pw(e.styles,(function(t,e){var n=o(t);n&&Lw.setStyle(d,e,n)})),Pw(e.attributes,(function(t,e){var n=o(t);n&&Lw.setAttrib(d,e,n)})),Pw(e.classes,(function(t){var e=o(t);Lw.hasClass(d,e)||Lw.addClass(d,e)})),t.dispatch("PreviewFormats"),Lw.setStyles(c,{position:"absolute",left:-65535}),t.getBody().appendChild(c);var m=i("fontSize"),p=/px$/.test(m)?parseInt(m,10):0;return Pw(r.split(" "),(function(t){var e=i(t,d);if(!("background-color"===t&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(e)&&(e=i(t),"#ffffff"===Jl(e).toLowerCase())||"color"===t&&"#000000"===Jl(e).toLowerCase())){if("font-size"===t&&/em|%$/.test(e)){if(0===p)return;e=parseFloat(e)/(/%$/.test(e)?100:1)*p+"px"}"border"===t&&e&&(n+="padding:0 2px;"),n+=t+":"+e+";"}})),t.dispatch("AfterPreviewFormats"),Lw.remove(c),n},Hw=function(t){var e=function(t){var e={},n=function t(n,r){n&&(E(n)?(A(r)||(r=[r]),it(r,(function(t){D(t.deep)&&(t.deep=!Od(t)),D(t.split)&&(t.split=!Od(t)||Td(t)),D(t.remove)&&Od(t)&&!Td(t)&&(t.remove="none"),Od(t)&&Td(t)&&(t.mixed=!0,t.block_expand=!0),E(t.classes)&&(t.classes=t.classes.split(/\s+/))})),e[n]=r):Tt(n,(function(e,n){t(n,e)})))};return n(function(t){var e=t.dom,n=t.schema.type,r={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:function(t){e.setStyle(t,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:function(t){e.setStyle(t,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:function(){var t={inline:"span",styles:{textDecoration:"line-through"},exact:!0},e={inline:"strike",remove:"all",preserve_attributes:["class","style"]},r={inline:"s",remove:"all",preserve_attributes:["class","style"]};return"html4"!==n?[r,t,e]:[t,r,e]}(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(t,e,n){return Zr(t)&&t.hasAttribute("href")},onformat:function(t,n,r){Ge.each(r,(function(n,r){e.setAttrib(t,r,n)}))}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":function(t){var e;return null!==(e=null==t?void 0:t.customValue)&&void 0!==e?e:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return Ge.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),(function(t){r[t]={block:t,remove:"all"}})),r}(t)),n(Iw()),n(ws(t)),{get:function(t){return M(t)?e[t]:e},has:function(t){return Lt(e,t)},register:n,unregister:function(t){return t&&e[t]&&delete e[t],e}}}(t),n=Vu({});return function(t){t.addShortcut("meta+b","","Bold"),t.addShortcut("meta+i","","Italic"),t.addShortcut("meta+u","","Underline");for(var e=1;e<=6;e++)t.addShortcut("access+"+e,"",["FormatBlock",!1,"h"+e]);t.addShortcut("access+7","",["FormatBlock",!1,"p"]),t.addShortcut("access+8","",["FormatBlock",!1,"div"]),t.addShortcut("access+9","",["FormatBlock",!1,"address"])}(t),function(t){t.on("mouseup keydown",(function(e){(function(t,e){var n=t.selection,r=t.getBody();Rh(t,null,!1),8!==e&&46!==e||!n.isCollapsed()||n.getStart().innerHTML!==_h||Rh(t,Al(r,n.getStart())),37!==e&&39!==e||Rh(t,Al(r,n.getStart()))})(t,e.keyCode)}))}(t),Ix(t)||function(t,e){t.set({}),e.on("NodeChange",(function(n){_b(e,n.element,t.get())})),e.on("FormatApply FormatRemove",(function(n){var r=J.from(n.node).map((function(t){return sd(t)?t:t.startContainer})).bind((function(t){return Zr(t)?J.some(t):J.from(t.parentElement)})).getOrThunk((function(){return Cb(e)}));_b(e,r,t.get())}))}(n,t),{get:e.get,has:e.has,register:e.register,unregister:e.unregister,apply:function(e,n,r){(function(t,e,n,r){Lx(t).formatter.apply(e,n,r)})(t,e,n,r)},remove:function(e,n,r,o){(function(t,e,n,r,o){Lx(t).formatter.remove(e,n,r,o)})(t,e,n,r,o)},toggle:function(e,n,r){(function(t,e,n,r){Lx(t).formatter.toggle(e,n,r)})(t,e,n,r)},match:function(e,n,r,o){return function(t,e,n,r,o){return Lx(t).formatter.match(e,n,r,o)}(t,e,n,r,o)},closest:function(e){return function(t,e){return Lx(t).formatter.closest(e)}(t,e)},matchAll:function(e,n){return function(t,e,n){return Lx(t).formatter.matchAll(e,n)}(t,e,n)},matchNode:function(e,n,r,o){return function(t,e,n,r,o){return Lx(t).formatter.matchNode(e,n,r,o)}(t,e,n,r,o)},canApply:function(e){return function(t,e){return Lx(t).formatter.canApply(e)}(t,e)},formatChanged:function(e,r,o,i){return function(t,e,n,r,o,i){return Lx(t).formatter.formatChanged(e,n,r,o,i)}(t,n,e,r,o,i)},getCssText:W(Uw,t)}},Vw=function(t){switch(t.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},Ww=function(t){var e=Xu(),n=Vu(0),r=Vu(0),o={data:[],typing:!1,beforeChange:function(){(function(t,e,n){Lx(t).undoManager.beforeChange(e,n)})(t,n,e)},add:function(i,u){return function(t,e,n,r,o,i,u){return Lx(t).undoManager.add(e,n,r,o,i,u)}(t,o,r,n,e,i,u)},dispatchChange:function(){t.setDirty(!0);var e=Ex(t);e.bookmark=dc(t.selection),t.dispatch("change",{level:e,lastLevel:wt(o.data,r.get()).getOrUndefined()})},undo:function(){return function(t,e,n,r){return Lx(t).undoManager.undo(e,n,r)}(t,o,n,r)},redo:function(){return function(t,e,n){return Lx(t).undoManager.redo(e,n)}(t,r,o.data)},clear:function(){(function(t,e,n){Lx(t).undoManager.clear(e,n)})(t,o,r)},reset:function(){(function(t,e){Lx(t).undoManager.reset(e)})(t,o)},hasUndo:function(){return function(t,e,n){return Lx(t).undoManager.hasUndo(e,n)}(t,o,r)},hasRedo:function(){return function(t,e,n){return Lx(t).undoManager.hasRedo(e,n)}(t,o,r)},transact:function(e){return function(t,e,n,r){return Lx(t).undoManager.transact(e,n,r)}(t,o,n,e)},ignore:function(e){(function(t,e,n){Lx(t).undoManager.ignore(e,n)})(t,n,e)},extra:function(e,n){(function(t,e,n,r,o){Lx(t).undoManager.extra(e,n,r,o)})(t,o,r,e,n)}};return Ix(t)||function(t,e,n){var r=Vu(!1),o=function(t){Dx(e,!1,n),e.add({},t)};t.on("init",(function(){e.add()})),t.on("BeforeExecCommand",(function(t){var r=t.command;Vw(r)||(Bx(e,n),e.beforeChange())})),t.on("ExecCommand",(function(t){var e=t.command;Vw(e)||o(t)})),t.on("ObjectResizeStart cut",(function(){e.beforeChange()})),t.on("SaveContent ObjectResized blur",o),t.on("dragend",o),t.on("keyup",(function(n){var i=n.keyCode;n.isDefaultPrevented()||((i>=33&&i<=36||i>=37&&i<=40||45===i||n.ctrlKey)&&(o(),t.nodeChanged()),46!==i&&8!==i||t.nodeChanged(),r.get()&&e.typing&&!Rx(Ex(t),e.data[0])&&(t.isDirty()||t.setDirty(!0),t.dispatch("TypingUndo"),r.set(!1),t.nodeChanged()))})),t.on("keydown",(function(t){var i=t.keyCode;if(!t.isDefaultPrevented())if(i>=33&&i<=36||i>=37&&i<=40||45===i)e.typing&&o(t);else{var u=t.ctrlKey&&!t.altKey||t.metaKey;!(i<16||i>20)||224===i||91===i||e.typing||u||(e.beforeChange(),Dx(e,!0,n),e.add({},t),r.set(!0))}})),t.on("mousedown",(function(t){e.typing&&o(t)})),t.on("input",(function(t){var e;t.inputType&&("insertReplacementText"===t.inputType||"insertText"===(e=t).inputType&&null===e.data||function(t){return"insertFromPaste"===t.inputType||"insertFromDrop"===t.inputType}(t))&&o(t)})),t.on("AddUndo Undo Redo ClearUndos",(function(e){e.isDefaultPrevented()||t.nodeChanged()}))}(t,o,n),function(t){t.addShortcut("meta+z","","Undo"),t.addShortcut("meta+y,meta+shift+z","","Redo")}(t),o},$w=[9,27,im.HOME,im.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,im.DOWN,im.UP,im.LEFT,im.RIGHT].concat(Ve.browser.isFirefox()?[224]:[]),qw="data-mce-placeholder",Gw=function(t){return"keydown"===t.type||"keyup"===t.type},Kw=function(t){var e=t.keyCode;return e===im.BACKSPACE||e===im.DELETE},Yw=function(t,e){return{from:t,to:e}},Xw=function(t,e){var n=Nn(t),r=Nn(e.container());return gv(n,r).map((function(t){return function(t,e){return{block:t,position:e}}(t,e)}))},Jw=function(t,e){return fr(e,(function(t){return Fo(t)||ho(t.dom)}),(function(e){return Pn(e,t)})).filter(on).getOr(t)},Qw=function(t){var e=function(t){var e=Kn(t);return mt(e,No).fold(U(e),(function(t){return e.slice(0,t)}))}(t);return it(e,Dr),e},Zw=function(t,e){var n=yg(e,t);return dt(n.reverse(),(function(t){return _i(t)})).each(Dr)},tC=function(t,e,n,r){if(_i(n))return Vo(n),_l(n.dom);0===ct(qn(r),(function(t){return!_i(t)})).length&&_i(e)&&_r(r,An("br"));var o=kl(n.dom,$a.before(r.dom));return it(Qw(e),(function(t){_r(r,t)})),Zw(t,e),o},eC=function(t,e,n){if(_i(n)){if(_i(e)){var r=function(t){var e=function t(e,n){return Xn(e).fold((function(){return n}),(function(e){return Do(e)?t(e,n.concat(ma(e))):n}))};return e(t,[])},o=st(r(n),(function(t,e){return Ar(t,e),e}),Ho());Nr(e),Tr(e,o)}return Dr(n),_l(e.dom)}var i=El(n.dom);return it(Qw(e),(function(t){Tr(n,t)})),Zw(t,e),i},nC=function(t,e){Cl(t,e.dom).bind((function(t){return J.from(t.getNode())})).map(Nn).filter(Bo).each(Dr)},rC=function(t,e,n){return nC(!0,e),nC(!1,n),function(t,e){return Ln(e,t)?function(t,e){var n=yg(e,t);return J.from(n[n.length-1])}(e,t):J.none()}(e,n).fold(W(eC,t,e,n),W(tC,t,e,n))},oC=function(t,e,n,r){return e?rC(t,r,n):rC(t,n,r)},iC=function(t,e){var n=Nn(t.getBody()),r=function(t,e,n){return n.collapsed?function(t,e,n){var r=Xw(t,$a.fromRangeStart(n)),o=r.bind((function(n){return yl(e,t,n.position).bind((function(n){return Xw(t,n).map((function(n){return function(t,e,n){return go(n.position.getNode())&&!_i(n.block)?Cl(!1,n.block.dom).bind((function(r){return r.isEqual(n.position)?yl(e,t,r).bind((function(e){return Xw(t,e)})):J.some(n)})).getOr(n):n}(t,e,n)}))}))}));return Ye(r,o,Yw).filter((function(e){return function(t){return!Pn(t.from.block,t.to.block)}(e)&&function(t,e){var n=Nn(t);return Pn(Jw(n,e.from.block),Jw(n,e.to.block))}(t,e)&&function(t){return!1===bo(t.from.block.dom)&&!1===bo(t.to.block.dom)}(e)&&function(t){var e=function(t){return Mo(t)||Mi(t.dom)};return e(t.from.block)&&e(t.to.block)}(e)}))}(t,e,n):J.none()}(n.dom,e,t.selection.getRng()).map((function(r){return function(){oC(n,e,r.from.block,r.to.block).each((function(e){t.selection.setRng(e.toRange())}))}}));return r},uC=function(t,e){var n=Nn(e),r=W(Pn,t);return sr(n,Fo,r).isSome()},aC=function(t){var e=Nn(t.getBody());return function(t,e){var n=kl(t.dom,$a.fromRangeStart(e)).isNone(),r=Sl(t.dom,$a.fromRangeEnd(e)).isNone();return!function(t,e){return uC(t,e.startContainer)||uC(t,e.endContainer)}(t,e)&&n&&r}(e,t.selection.getRng())?function(t){return J.some((function(){t.setContent(""),t.selection.setCursorLocation()}))}(t):function(t,e){var n=e.getRng();return Ye(gv(t,Nn(n.startContainer)),gv(t,Nn(n.endContainer)),(function(r,o){return Pn(r,o)?J.none():J.some((function(){n.deleteContents(),oC(t,!0,r,o).each((function(t){e.setRng(t.toRange())}))}))})).getOr(J.none())}(e,t.selection)},cC=function(t,e){return t.selection.isCollapsed()?J.none():aC(t)},sC=function(t,e,n,r,o){return J.from(e._selectionOverrides.showCaret(t,n,r,o))},fC=function(t,e){return t.dispatch("BeforeObjectSelected",{target:e}).isDefaultPrevented()?J.none():J.some(function(t){var e=t.ownerDocument.createRange();return e.selectNode(t),e}(e))},lC=function(t,e,n){return e.collapsed?function(t,e,n){var r=Zf(1,t.getBody(),e),o=$a.fromRangeStart(r),i=o.getNode();if(Rf(i))return sC(1,t,i,!o.isAtEnd(),!1);var u=o.getNode(!0);if(Rf(u))return sC(1,t,u,!1,!1);var a=Wv(t.dom.getRoot(),o.getNode());return Rf(a)?sC(1,t,a,!1,n):J.none()}(t,e,n).getOr(e):e},dC=function(t){return vg(t)||dg(t)},mC=function(t){return hg(t)||mg(t)},pC=function(t,e,n,r,o,i){sC(r,t,i.getNode(!o),o,!0).each((function(n){if(e.collapsed){var r=e.cloneRange();o?r.setEnd(n.startContainer,n.startOffset):r.setStart(n.endContainer,n.endOffset),r.deleteContents()}else e.deleteContents();t.selection.setRng(n)})),function(t,e){co(e)&&0===e.data.length&&t.remove(e)}(t.dom,n)},gC=function(t,e){return function(t,e){var n=t.selection.getRng();if(!co(n.commonAncestorContainer))return J.none();var r=e?hc.Forwards:hc.Backwards,o=gl(t.getBody()),i=W(rl,e?o.next:o.prev),u=e?dC:mC,a=el(r,t.getBody(),n),c=i(a),s=c?sv(e,c):c;if(!s||!ol(a,s))return J.none();if(u(s))return J.some((function(){return pC(t,n,a.getNode(),r,e,s)}));var f=i(s);return f&&u(f)&&ol(s,f)?J.some((function(){return pC(t,n,a.getNode(),r,e,f)})):J.none()}(t,e)},vC=function(t,e){var n=t.getBody();return e?_l(n).filter(vg):El(n).filter(hg)},hC=function(t){var e=t.selection.getRng();return!e.collapsed&&(vC(t,!0).exists((function(t){return t.isEqual($a.fromRangeStart(e))}))||vC(t,!1).exists((function(t){return t.isEqual($a.fromRangeEnd(e))})))},bC=vc([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),yC=function(t,e,n){return yl(e,t,n).bind((function(r){return o=r.getNode(),M(o)&&(Fo(Nn(o))||Po(Nn(o)))||function(t,e,n,r){var o=function(e){return Do(Nn(e))&&!qf(n,r,t)};return tl(!e,n).fold((function(){return tl(e,r).fold(Y,o)}),o)}(t,e,n,r)?J.none():e&&bo(r.getNode())||!e&&bo(r.getNode(!0))?function(t,e,n,r){var o=r.getNode(!e);return gv(Nn(t),Nn(n.getNode())).map((function(t){return _i(t)?bC.remove(t.dom):bC.moveToElement(o)})).orThunk((function(){return J.some(bC.moveToElement(o))}))}(t,e,n,r):e&&hg(n)||!e&&vg(n)?J.some(bC.moveToPosition(r)):J.none();var o}))},xC=function(t,e){return J.from(Wv(t.getBody(),e))},wC=function(t,e){var n=t.selection.getNode();return xC(t,n).filter(bo).fold((function(){return function(t,e,n){var r=Zf(e?1:-1,t,n),o=$a.fromRangeStart(r),i=Nn(t);return!e&&hg(o)?J.some(bC.remove(o.getNode(!0))):e&&vg(o)?J.some(bC.remove(o.getNode())):!e&&vg(o)&&Ng(i,o)?Dg(i,o).map((function(t){return bC.remove(t.getNode())})):e&&hg(o)&&Rg(i,o)?Bg(i,o).map((function(t){return bC.remove(t.getNode())})):function(t,e,n){return function(t,e){var n=e.getNode(!t),r=t?"after":"before";return Zr(n)&&n.getAttribute("data-mce-caret")===r}(e,n)?function(t,e){return B(e)?J.none():t&&bo(e.nextSibling)?J.some(bC.moveToElement(e.nextSibling)):!t&&bo(e.previousSibling)?J.some(bC.moveToElement(e.previousSibling)):J.none()}(e,n.getNode(!e)).orThunk((function(){return yC(t,e,n)})):yC(t,e,n).bind((function(e){return function(t,e,n){return n.fold((function(t){return J.some(bC.remove(t))}),(function(t){return J.some(bC.moveToElement(t))}),(function(n){return qf(e,n,t)?J.none():J.some(bC.moveToPosition(n))}))}(t,n,e)}))}(t,e,o)}(t.getBody(),e,t.selection.getRng()).map((function(n){return function(){return n.fold(function(t,e){return function(n){return t._selectionOverrides.hideFakeCaret(),iv(t,e,Nn(n)),!0}}(t,e),function(t,e){return function(n){var r=e?$a.before(n):$a.after(n);return t.selection.setRng(r.toRange()),!0}}(t,e),function(t){return function(e){return t.selection.setRng(e.toRange()),!0}}(t))}}))}),(function(){return J.some(F)}))},CC=function(t){var e=t.dom,n=t.selection,r=Wv(t.getBody(),n.getNode());if(ho(r)&&e.isBlock(r)&&e.isEmpty(r)){var o=e.create("br",{"data-mce-bogus":"1"});e.setHTML(r,""),r.appendChild(o),n.setRng($a.before(o).toRange())}return!0},SC=function(t,e){return t.selection.isCollapsed()?wC(t,e):function(t,e){var n=t.selection.getNode();return bo(n)&&!yo(n)?xC(t,n.parentNode).filter(bo).fold((function(){return J.some((function(){var n;n=Nn(t.getBody()),it(Kr(n,".mce-offscreen-selection"),Dr),iv(t,e,Nn(t.selection.getNode())),vv(t)}))}),(function(){return J.some(F)})):hC(t)?J.some((function(){bv(t,t.selection.getRng(),Nn(t.getBody()))})):J.none()}(t,e)},kC=function(t,e){return t.selection.isCollapsed()?function(t,e){var n=$a.fromRangeStart(t.selection.getRng());return yl(e,t.getBody(),n).filter((function(t){return e?fg(t):lg(t)})).bind((function(t){return Gf(e?0:-1,t)})).map((function(e){return function(){return t.selection.select(e)}}))}(t,e):J.none()},_C=co,EC=function(t){return _C(t)&&t.data[0]===$o},OC=function(t){return _C(t)&&t.data[t.data.length-1]===$o},TC=function(t){var e;return(null!==(e=t.ownerDocument)&&void 0!==e?e:document).createTextNode($o)},AC=function(t,e){return t?function(t){var e;if(_C(t.previousSibling))return OC(t.previousSibling)||t.previousSibling.appendData($o),t.previousSibling;if(_C(t))return EC(t)||t.insertData(0,$o),t;var n=TC(t);return null===(e=t.parentNode)||void 0===e||e.insertBefore(n,t),n}(e):function(t){var e,n;if(_C(t.nextSibling))return EC(t.nextSibling)||t.nextSibling.insertData(0,$o),t.nextSibling;if(_C(t))return OC(t)||t.appendData($o),t;var r=TC(t);return t.nextSibling?null===(e=t.parentNode)||void 0===e||e.insertBefore(r,t.nextSibling):null===(n=t.parentNode)||void 0===n||n.appendChild(r),r}(e)},RC=W(AC,!0),NC=W(AC,!1),DC=function(t,e){return co(t.container())?AC(e,t.container()):AC(e,t.getNode())},BC=function(t,e){var n=e.get();return n&&t.container()===n&&Jo(n)},MC=function(t,e){return e.fold((function(e){Sf(t.get());var n=RC(e);return t.set(n),J.some($a(n,n.length-1))}),(function(e){return _l(e).map((function(e){if(BC(e,t)){var n=t.get();return $a(n,1)}Sf(t.get());var r=DC(e,!0);return t.set(r),$a(r,1)}))}),(function(e){return El(e).map((function(e){if(BC(e,t)){var n=t.get();return $a(n,n.length-1)}Sf(t.get());var r=DC(e,!1);return t.set(r),$a(r,r.length-1)}))}),(function(e){Sf(t.get());var n=NC(e);return t.set(n),J.some($a(n,1))}))},IC=function(t,e){for(var n=0;n<t.length;n++){var r=t[n].apply(null,e);if(r.isSome())return r}return J.none()},PC=vc([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),LC=function(t,e){return $f(e,t)||t},FC=function(t,e,n){var r=fv(n),o=LC(e,r.container());return cv(t,o,r).fold((function(){return Sl(o,r).bind(W(cv,t,o)).map((function(t){return PC.before(t)}))}),J.none)},jC=function(t,e){return null===Al(t,e)},zC=function(t,e,n){return cv(t,e,n).filter(W(jC,e))},UC=function(t,e,n){var r=lv(n);return zC(t,e,r).bind((function(t){return kl(t,r).isNone()?J.some(PC.start(t)):J.none()}))},HC=function(t,e,n){var r=fv(n);return zC(t,e,r).bind((function(t){return Sl(t,r).isNone()?J.some(PC.end(t)):J.none()}))},VC=function(t,e,n){var r=lv(n),o=LC(e,r.container());return cv(t,o,r).fold((function(){return kl(o,r).bind(W(cv,t,o)).map((function(t){return PC.after(t)}))}),J.none)},WC=function(t){return e=qC(t),!("rtl"===zu.DOM.getStyle(e,"direction",!0)||function(t){return uv.test(t)}(null!==(n=e.textContent)&&void 0!==n?n:""));var e,n},$C=function(t,e,n){return IC([FC,UC,HC,VC],[t,e,n]).filter(WC)},qC=function(t){return t.fold(H,H,H,H)},GC=function(t){return t.fold(U("before"),U("start"),U("end"),U("after"))},KC=function(t){return t.fold(PC.before,PC.before,PC.after,PC.after)},YC=function(t){return t.fold(PC.start,PC.start,PC.end,PC.end)},XC=function(t,e,n,r,o,i){return Ye(cv(e,n,r),cv(e,n,o),(function(e,r){return e!==r&&function(t,e,n){var r=$f(e,t),o=$f(n,t);return M(r)&&r===o}(n,e,r)?PC.after(t?e:r):i})).getOr(i)},JC=function(t,e){return t.fold(X,(function(t){return r=e,!(GC(n=t)===GC(r)&&qC(n)===qC(r));var n,r}))},QC=function(t,e){return t?e.fold(j(J.some,PC.start),J.none,j(J.some,PC.after),J.none):e.fold(J.none,j(J.some,PC.before),J.none,j(J.some,PC.end))},ZC=function(t,e,n){var r=t?1:-1;return e.setRng($a(n.container(),n.offset()+r).toRange()),e.getSel().modify("move",t?"forward":"backward","word"),!0};!function(t){t[t.Br=0]="Br",t[t.Block=1]="Block",t[t.Wrap=2]="Wrap",t[t.Eol=3]="Eol"}(py||(py={}));var tS,eS=function(t,e){return t===hc.Backwards?ht(e):e},nS=function(t,e,n){return t===hc.Forwards?e.next(n):e.prev(n)},rS=function(t,e,n,r){return go(r.getNode(e===hc.Forwards))?py.Br:!1===qf(n,r)?py.Block:py.Wrap},oS=function(t,e,n,r){for(var o=gl(n),i=r,u=[];i;){var a=nS(e,o,i);if(!a)break;if(go(a.getNode(!1)))return e===hc.Forwards?{positions:eS(e,u).concat([a]),breakType:py.Br,breakAt:J.some(a)}:{positions:eS(e,u),breakType:py.Br,breakAt:J.some(a)};if(a.isVisible()){if(t(i,a)){var c=rS(0,e,i,a);return{positions:eS(e,u),breakType:c,breakAt:J.some(a)}}u.push(a),i=a}else i=a}return{positions:eS(e,u),breakType:py.Eol,breakAt:J.none()}},iS=function(t,e,n,r){return e(n,r).breakAt.map((function(r){var o=e(n,r).positions;return t===hc.Backwards?o.concat(r):[r].concat(o)})).getOr([])},uS=function(t,e){return ft(t,(function(t,n){return t.fold((function(){return J.some(n)}),(function(r){return Ye(Ct(r.getClientRects()),Ct(n.getClientRects()),(function(t,o){var i=Math.abs(e-t.left);return Math.abs(e-o.left)<=i?n:r})).or(t)}))}),J.none())},aS=function(t,e){return Ct(e.getClientRects()).bind((function(e){return uS(t,e.left)}))},cS=W(oS,$a.isAbove,-1),sS=W(oS,$a.isBelow,1),fS=W(iS,-1,cS),lS=W(iS,1,sS),dS=function(t,e){return aS(fS(t,e),e)},mS=function(t,e){return aS(lS(t,e),e)},pS=bo,gS=function(t,e){return Math.abs(t.left-e)},vS=function(t,e){return Math.abs(t.right-e)},hS=function(t,e){return $t(t,(function(t,n){var r=Math.min(gS(t,e),vS(t,e)),o=Math.min(gS(n,e),vS(n,e));return o===r&&Ft(n,"node")&&pS(n.node)||o<r?n:t}))},bS=function(t){var e=function(e){return ot(e,(function(e){var n=ba(e);return n.node=t,n}))};if(Zr(t))return e(t.getClientRects());if(co(t)){var n=t.ownerDocument.createRange();return n.setStart(t,0),n.setEnd(t,t.data.length),e(n.getClientRects())}return[]},yS=function(t){return gt(t,bS)};!function(t){t[t.Up=-1]="Up",t[t.Down=1]="Down"}(tS||(tS={}));var xS,wS=function(t,e,n,r,o,i){var u=0,a=[],c=function(r){var i=yS([r]);-1===t&&(i=i.reverse());for(var c=0;c<i.length;c++){var f=i[c];if(!n(f,s)){if(a.length>0&&e(f,Gt(a))&&u++,f.line=u,o(f))return!0;a.push(f)}}return!1},s=Gt(i.getClientRects());if(!s)return a;var f=i.getNode();return f&&(c(f),function(t,e,n,r){for(var o=r;o=Wf(o,t,vi,e);)if(n(o))return}(t,r,c,f)),a},CS=W(wS,tS.Up,wa,Ca),SS=W(wS,tS.Down,Ca,wa),kS=function(t){return Gt(t.getClientRects())},_S=function(t){return function(e){return function(t,e){return e.line>t}(t,e)}},ES=function(t){return function(e){return function(t,e){return e.line===t}(t,e)}},OS=function(t,e){t.selection.setRng(e),op(t,t.selection.getRng())},TS=function(t,e,n){return J.some(lC(t,e,n))},AS=function(t,e,n,r,o,i){var u=e===hc.Forwards,a=gl(t.getBody()),c=W(rl,u?a.next:a.prev),s=u?r:o;if(!n.collapsed){var f=ka(n);if(i(f))return sC(e,t,f,e===hc.Backwards,!1);if(hC(t)){var l=n.cloneRange();return l.collapse(e===hc.Backwards),J.from(l)}}var d=el(e,t.getBody(),n);if(s(d))return fC(t,d.getNode(!u));var m=c(d),p=ii(n);if(!m)return p?J.some(n):J.none();if(m=sv(u,m),s(m))return sC(e,t,m.getNode(!u),u,!1);var g=c(m);return g&&s(g)&&ol(m,g)?sC(e,t,g.getNode(!u),u,!1):p?TS(t,m.toRange(),!1):J.none()},RS=function(t,e,n,r,o,i){var u=el(e,t.getBody(),n),a=Gt(u.getClientRects()),c=e===tS.Down,s=t.getBody();if(!a)return J.none();if(hC(t)){var f=c?$a.fromRangeEnd(n):$a.fromRangeStart(n);return(c?mS:dS)(s,f).orThunk((function(){return J.from(f)})).map((function(t){return t.toRange()}))}var l,d=(c?SS:CS)(s,_S(1),u),m=ct(d,ES(1)),p=a.left,g=hS(m,p);if(g&&i(g.node)){var v=Math.abs(p-g.left),h=Math.abs(p-g.right);return sC(e,t,g.node,v<h,!1)}if(l=r(u)?u.getNode():o(u)?u.getNode(!0):ka(n),l){var b=function(t,e,n,r){var o,i,u,a,c=gl(e),s=[],f=0;1===t?(o=c.next,i=Ca,u=wa,a=$a.after(r)):(o=c.prev,i=wa,u=Ca,a=$a.before(r));var l=kS(a);do{if(a.isVisible()){var d=kS(a);if(!u(d,l)){s.length>0&&i(d,Gt(s))&&f++;var m=ba(d);if(m.position=a,m.line=f,n(m))return s;s.push(m)}}}while(a=o(a));return s}(e,s,_S(1),l),y=hS(ct(b,ES(1)),p);if(y)return TS(t,y.position.toRange(),!1);if(y=Gt(ct(b,ES(0))),y)return TS(t,y.position.toRange(),!1)}return 0===m.length?NS(t,c).filter(c?o:r).map((function(e){return lC(t,e.toRange(),!1)})):J.none()},NS=function(t,e){var n,r,o=t.selection.getRng(),i=e?$a.fromRangeEnd(o):$a.fromRangeStart(o),u=(n=i.container(),r=t.getBody(),sr(Nn(n),(function(t){return Df(t.dom)}),(function(t){return t.dom===r})).map((function(t){return t.dom})).getOr(r));if(e){var a=sS(u,i);return St(a.positions)}var c=cS(u,i);return Ct(c.positions)},DS=function(t,e,n){return NS(t,e).filter(n).exists((function(e){return t.selection.setRng(e.toRange()),!0}))},BS=function(t,e){var n=t.dom.createRng();n.setStart(e.container(),e.offset()),n.setEnd(e.container(),e.offset()),t.selection.setRng(n)},MS=function(t,e){t?e.setAttribute("data-mce-selected","inline-boundary"):e.removeAttribute("data-mce-selected")},IS=function(t,e,n){return MC(e,n).map((function(e){return BS(t,e),n}))},PS=function(t,e,n){var r=t.getBody(),o=function(t,e,n){var r=$a.fromRangeStart(t);if(t.collapsed)return r;var o=$a.fromRangeEnd(t);return n?kl(e,o).getOr(o):Sl(e,r).getOr(r)}(t.selection.getRng(),r,n);return function(t,e,n,r){var o=sv(t,r),i=$C(e,n,o);return $C(e,n,o).bind(W(QC,t)).orThunk((function(){return function(t,e,n,r,o){var i=sv(t,o);return yl(t,n,i).map(W(sv,t)).fold((function(){return r.map(KC)}),(function(o){return $C(e,n,o).map(W(XC,t,e,n,i,o)).filter(W(JC,r))})).filter(WC)}(t,e,n,i,r)}))}(n,W(av,t),r,o).bind((function(n){return IS(t,e,n)}))},LS=function(t,e,n){return!!xs(t)&&PS(t,e,n).isSome()},FS=function(t,e,n){return!!xs(e)&&function(t,e){var n=e.selection.getRng(),r=t?$a.fromRangeEnd(n):$a.fromRangeStart(n);return!!function(t){return I(t.selection.getSel().modify)}(e)&&(t&&ti(r)?ZC(!0,e.selection,r):!(t||!ei(r))&&ZC(!1,e.selection,r))}(t,e)},jS=function(t){var e=Vu(null),n=W(av,t);return t.on("NodeChange",(function(r){xs(t)&&(function(t,e,n){var r=ot(Kr(Nn(e.getRoot()),'*[data-mce-selected="inline-boundary"]'),(function(t){return t.dom})),o=ct(r,t),i=ct(n,t);it(bt(o,i),W(MS,!1)),it(bt(i,o),W(MS,!0))}(n,t.dom,r.parents),function(t,e){var n=e.get();if(t.selection.isCollapsed()&&!t.composing&&n){var r=$a.fromRangeStart(t.selection.getRng());$a.isTextPosition(r)&&!function(t){return ti(t)||ei(t)}(r)&&(BS(t,Cf(n,r)),e.set(null))}}(t,e),function(t,e,n,r){if(e.selection.isCollapsed()){var o=ct(r,t);it(o,(function(r){var o=$a.fromRangeStart(e.selection.getRng());$C(t,e.getBody(),o).bind((function(t){return IS(e,n,t)}))}))}}(n,t,e,r.parents))})),e},zS=W(FS,!0),US=W(FS,!1),HS=function(t,e,n){if(xs(t)){var r=NS(t,e).getOrThunk((function(){var n=t.selection.getRng();return e?$a.fromRangeEnd(n):$a.fromRangeStart(n)}));return $C(W(av,t),t.getBody(),r).exists((function(e){var r=KC(e);return MC(n,r).exists((function(e){return BS(t,e),!0}))}))}return!1},VS=function(t,e){return function(n){return MC(e,n).map((function(e){return function(){return BS(t,e)}}))}},WS=function(t,e,n,r){var o=t.getBody(),i=W(av,t);t.undoManager.ignore((function(){t.selection.setRng(function(t,e){var n=document.createRange();return n.setStart(t.container(),t.offset()),n.setEnd(e.container(),e.offset()),n}(n,r)),mv(t),$C(i,o,$a.fromRangeStart(t.selection.getRng())).map(YC).bind(VS(t,e)).each(K)})),t.nodeChanged()},$S=function(t,e,n){if(t.selection.isCollapsed()&&xs(t)){var r=$a.fromRangeStart(t.selection.getRng());return function(t,e,n,r){var o=function(t,e){return $f(e,t)||t}(t.getBody(),r.container()),i=W(av,t),u=$C(i,o,r);return u.bind((function(t){return n?t.fold(U(J.some(YC(t))),J.none,U(J.some(KC(t))),J.none):t.fold(J.none,U(J.some(KC(t))),J.none,U(J.some(YC(t))))})).map(VS(t,e)).getOrThunk((function(){var a=xl(n,o,r),c=a.bind((function(t){return $C(i,o,t)}));return Ye(u,c,(function(){return cv(i,o,r).bind((function(e){return function(t){return Ye(_l(t),El(t),(function(e,n){var r=sv(!0,e),o=sv(!1,n);return Sl(t,r).forall((function(t){return t.isEqual(o)}))})).getOr(!0)}(e)?J.some((function(){iv(t,n,Nn(e))})):J.none()}))})).getOrThunk((function(){return c.bind((function(){return a.map((function(o){return function(){n?WS(t,e,r,o):WS(t,e,o,r)}}))}))}))}))}(t,e,n,r)}return J.none()},qS=function(t,e){var n=Nn(t.getBody()),r=Nn(t.selection.getStart()),o=yg(r,n);return mt(o,e).fold(U(o),(function(t){return o.slice(0,t)}))},GS=function(t,e){var n=W(Ph,t);return gt(e,(function(t){return n(t)?[t.dom]:[]}))},KS=function(t){var e=function(t){return qS(t,No)}(t);return GS(t,e)},YS=function(t,e){var n=function(t){return qS(t,(function(t){return No(t)||function(t){return Qn(t)>1}(t)}))}(t);return St(n).bind((function(r){var o=$a.fromRangeStart(t.selection.getRng());return function(t,e,n){return Ye(_l(n),El(n),(function(r,o){var i=sv(!0,r),u=sv(!1,o),a=sv(!1,e);return t?Sl(n,a).exists((function(t){return t.isEqual(u)&&e.isEqual(i)})):kl(n,a).exists((function(t){return t.isEqual(i)&&e.isEqual(u)}))})).getOr(!0)}(e,o,r.dom)&&!Lh(r)?J.some((function(){return function(t,e,n,r){var o=GS(e,r);if(0===o.length)iv(e,t,n);else{var i=Ih(n.dom,o);e.selection.setRng(i.toRange())}}(e,t,r,n)})):J.none()}))},XS=function(t,e){var n=t.selection.getStart(),r=function(t,e){var n=e.parentElement;return go(e)&&!R(n)&&t.dom.isEmpty(n)}(t,n)||Lh(Nn(n))?Ih(n,e):function(t,e){var n=Mh(e),r=n.caretContainer,o=n.caretPosition;return t.selection.getRng().insertNode(r.dom),o}(t,e);t.selection.setRng(r.toRange())},JS=function(t){return co(t.startContainer)},QS=function(t){var e=t.selection.getRng();return function(t){return 0===t.startOffset&&JS(t)}(e)&&function(t,e){var n=e.startContainer.parentElement;return!R(n)&&Ph(t,Nn(n))}(t,e)&&function(t){return function(t){return function(t){var e=t.startContainer.parentNode,n=t.endContainer.parentNode;return!R(e)&&!R(n)&&e.isEqualNode(n)}(t)&&function(t){var e=t.endContainer;return t.endOffset===(co(e)?e.length:e.childNodes.length)}(t)}(t)||function(t){return!t.endContainer.isEqualNode(t.commonAncestorContainer)}(t)}(e)},ZS=function(t,e){return t.selection.isCollapsed()?YS(t,e):function(t){if(QS(t)){var e=KS(t);return J.some((function(){mv(t),function(t,e){var n=bt(e,KS(t));n.length>0&&XS(t,n)}(t,e)}))}return J.none()}(t)},tk=function(t){return function(t,e,n){return sr(t,(function(t){return Tl(t.dom)}),n).isSome()}(t,0,No)},ek=function(t){return function(t){var e=t.selection.getRng();return e.collapsed&&(JS(e)||t.dom.isEmpty(e.startContainer))&&!function(t){return tk(Nn(t.selection.getStart()))}(t)}(t)&&XS(t,[]),!0},nk=function(t,e,n){return M(n)?J.some((function(){t._selectionOverrides.hideFakeCaret(),iv(t,e,Nn(n))})):J.none()},rk=function(t,e){return t.selection.isCollapsed()?function(t,e){var n=e?dg:mg,r=e?hc.Forwards:hc.Backwards,o=el(r,t.getBody(),t.selection.getRng());return n(o)?nk(t,e,o.getNode(!e)):J.from(sv(e,o)).filter((function(t){return n(t)&&ol(o,t)})).bind((function(n){return nk(t,e,n.getNode(!e))}))}(t,e):function(t,e){var n=t.selection.getNode();return wo(n)?nk(t,e,n):J.none()}(t,e)},ok=function(t){return fe(null!=t?t:"").getOr(0)},ik=function(t,e){return(t||"table"===en(e)?"margin":"padding")+("rtl"===xr(e,"direction")?"-right":"-left")},uk=function(t){var e=ck(t);return!t.mode.isReadOnly()&&(e.length>1||function(t,e){return vt(e,(function(e){var n=ik(os(t),e),r=Cr(e,n).map(ok).getOr(0);return"false"!==t.dom.getContentEditable(e.dom)&&r>0}))}(t,e))},ak=function(t){return Io(t)||Po(t)},ck=function(t){return ct(Mr(t.selection.getSelectedBlocks()),(function(t){return!ak(t)&&!function(t){return Un(t).exists(ak)}(t)&&fr(t,(function(t){return ho(t.dom)||bo(t.dom)})).exists((function(t){return ho(t.dom)}))}))},sk=function(t,e){var n,r,o=t.dom,i=is(t),u=null!==(r=null===(n=/[a-z%]+$/i.exec(i))||void 0===n?void 0:n[0])&&void 0!==r?r:"px",a=ok(i),c=os(t);it(ck(t),(function(t){(function(t,e,n,r,o,i){var u=ik(n,Nn(i)),a=ok(t.getStyle(i,u));if("outdent"===e){var c=Math.max(0,a-r);t.setStyle(i,u,c?c+o:"")}else{var s=a+r+o;t.setStyle(i,u,s)}})(o,e,c,a,u,t.dom)}))},fk=function(t){return sk(t,"outdent")},lk=function(t){if(t.selection.isCollapsed()&&uk(t)){var e=t.dom,n=t.selection.getRng(),r=$a.fromRangeStart(n),o=e.getParent(n.startContainer,e.isBlock);if(null!==o&&kg(Nn(o),r))return J.some((function(){return fk(t)}))}return J.none()},dk=function(t,e,n){return _t([lk,SC,gC,function(t,n){return $S(t,e,n)},iC,Vv,kC,rk,cC,ZS],(function(e){return e(t,n)})).filter((function(e){return t.selection.isEditable()}))},mk=function(t,e){t.addCommand("delete",(function(){(function(t,e){dk(t,e,!1).fold((function(){mv(t),vv(t)}),K)})(t,e)})),t.addCommand("forwardDelete",(function(){(function(t,e){dk(t,e,!0).fold((function(){return function(t){return dv(t,"ForwardDelete")}(t)}),K)})(t,e)}))},pk=function(t){return void 0===t.touches||1!==t.touches.length?J.none():J.some(t.touches[0])},gk=function(t,e){return Lt(t,e.nodeName)},vk=function(t,e){return!!co(e)||!!Zr(e)&&!gk(t.getBlockElements(),e)&&!Ul(e)&&!Li(t,e)},hk=function(t,e){if(co(e)){if(0===e.data.length)return!0;if(/^\s+$/.test(e.data)&&(!e.nextSibling||gk(t,e.nextSibling)))return!0}return!1},bk=function(t){return t.dom.create(Fc(t),jc(t))},yk=function(t){var e,n,r=t.dom,o=t.selection,i=t.schema,u=i.getBlockElements(),a=o.getStart(),c=t.getBody(),s=!1,f=Fc(t);if(a&&Zr(a)){var l=c.nodeName.toLowerCase();if(i.isValidChild(l,f.toLowerCase())&&!function(t,e,n){return rt(bg(Nn(n),Nn(e)),(function(e){return gk(t,e.dom)}))}(u,c,a)){for(var d=o.getRng(),m=d.startContainer,p=d.startOffset,g=d.endContainer,v=d.endOffset,h=Ep(t),b=c.firstChild;b;)if(Zr(b)&&Bi(i,b),vk(i,b)){if(hk(u,b)){n=b,b=b.nextSibling,r.remove(n);continue}e||(e=bk(t),c.insertBefore(e,b),s=!0),n=b,b=b.nextSibling,e.appendChild(n)}else e=null,b=b.nextSibling;s&&h&&(d.setStart(m,p),d.setEnd(g,v),o.setRng(d),t.nodeChanged())}}},xk=function(t,e,n){var r=Nn(bk(t)),o=Ho();Tr(r,o),n(e,r);var i=document.createRange();return i.setStartBefore(o.dom),i.setEndBefore(o.dom),i},wk=function(t){return function(e){return-1!==(" "+e.attr("class")+" ").indexOf(t)}},Ck=function(t,e,n){return function(r){var o=arguments,i=o[o.length-2],u=i>0?e.charAt(i-1):"";if('"'===u)return r;if(">"===u){var a=e.lastIndexOf("<",i);if(-1!==a&&-1!==e.substring(a,i).indexOf('contenteditable="false"'))return r}return'<span class="'+n+'" data-mce-content="'+t.dom.encode(o[0])+'">'+t.dom.encode("string"==typeof o[1]?o[1]:o[0])+"</span>"}},Sk=function(t,e){e.hasAttribute("data-mce-caret")&&(oi(e),t.selection.setRng(t.selection.getRng()),t.selection.scrollIntoView(e))},kk=function(t,e){var n=function(t){return dr(Nn(t.getBody()),"*[data-mce-caret]").map((function(t){return t.dom})).getOrNull()}(t);if(n)return"compositionstart"===e.type?(e.preventDefault(),e.stopPropagation(),void Sk(t,n)):void(Zo(n)&&(Sk(t,n),t.undoManager.add()))},_k=bo,Ek=function(t,e,n){var r=gl(t.getBody()),o=W(rl,1===e?r.next:r.prev);if(n.collapsed){var i=t.dom.getParent(n.startContainer,"PRE");if(!i)return;if(!o($a.fromRangeStart(n))){var u=Nn(function(t){var e=t.dom.create(Fc(t));return e.innerHTML='<br data-mce-bogus="1">',e}(t));1===e?Er(Nn(i),u):_r(Nn(i),u),t.selection.select(u.dom,!0),t.selection.collapse()}}},Ok=function(t,e){return function(t,e){var n=e?hc.Forwards:hc.Backwards,r=t.selection.getRng();return function(t,e,n){return AS(e,t,n,vg,hg,_k)}(n,t,r).orThunk((function(){return Ek(t,n,r),J.none()}))}(t,e).exists((function(e){return OS(t,e),!0}))},Tk=function(t,e){return function(t,e){var n=e?1:-1,r=t.selection.getRng();return function(t,e,n){return RS(e,t,n,(function(t){return vg(t)||pg(t)}),(function(t){return hg(t)||gg(t)}),_k)}(n,t,r).orThunk((function(){return Ek(t,n,r),J.none()}))}(t,e).exists((function(e){return OS(t,e),!0}))},Ak=function(t,e){return DS(t,e,e?hg:vg)},Rk=function(t,e){return vC(t,!e).map((function(n){var r=n.toRange(),o=t.selection.getRng();return e?r.setStart(o.startContainer,o.startOffset):r.setEnd(o.endContainer,o.endOffset),r})).exists((function(e){return OS(t,e),!0}))},Nk=function(t){return nt(["figcaption"],en(t))},Dk=function(t,e){var n=Nn(t.getBody()),r=$a.fromRangeStart(t.selection.getRng());return function(t,e){var n=W(Pn,e);return fr(Nn(t.container()),No,n).filter(Nk)}(r,n).exists((function(){if(function(t,e,n){return e?function(t,e){return sS(t,e).breakAt.isNone()}(t.dom,n):function(t,e){return cS(t,e).breakAt.isNone()}(t.dom,n)}(n,e,r)){var o=xk(t,n,e?Tr:Or);return t.selection.setRng(o),!0}return!1}))},Bk=function(t,e){return!!t.selection.isCollapsed()&&Dk(t,e)},Mk={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},Ik=function(t,e){return e.keyCode===t.keyCode&&e.shiftKey===t.shiftKey&&e.altKey===t.altKey&&e.ctrlKey===t.ctrlKey&&e.metaKey===t.metaKey},Pk=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return function(){return t.apply(null,n)}},Lk=function(t,e){return dt(function(t,e){return gt(function(t){return ot(t,(function(t){return s(s({},Mk),t)}))}(t),(function(t){return Ik(t,e)?[t]:[]}))}(t,e),(function(t){return t.action()}))},Fk=function(t,e){return _t(function(t,e){return gt(function(t){return ot(t,(function(t){return s(s({},Mk),t)}))}(t),(function(t){return Ik(t,e)?[t]:[]}))}(t,e),(function(t){return t.action()}))},jk=function(t,e){var n=e?hc.Forwards:hc.Backwards,r=t.selection.getRng();return AS(t,n,r,dg,mg,wo).exists((function(e){return OS(t,e),!0}))},zk=function(t,e){var n=e?1:-1,r=t.selection.getRng();return RS(t,n,r,dg,mg,wo).exists((function(e){return OS(t,e),!0}))},Uk=function(t,e){return DS(t,e,e?mg:dg)},Hk=vc([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),Vk=s(s({},Hk),{},{none:function(t){return Hk.none(t)}}),Wk=function t(e,n,r){return gt(Kn(e),(function(e){return Mn(e,n)?r(e)?[e]:[]:t(e,n,r)}))},$k=function(t,e){return mr(t,"table",e)},qk=function t(e,n,r,o){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:X,u=1===o;if(!u&&r<=0)return Vk.first(e[0]);if(u&&r>=e.length-1)return Vk.last(e[e.length-1]);var a=r+o,c=e[a];return i(c)?Vk.middle(n,c):t(e,n,a,o,i)},Gk=function(t,e){return $k(t,e).bind((function(e){var n=Wk(e,"th,td",X);return mt(n,(function(e){return Pn(t,e)})).map((function(t){return{index:t,all:n}}))}))},Kk=function(t,e,n,r,o){var i=Kr(Nn(n),"td,th,caption").map((function(t){return t.dom})),u=ct(function(t,e){return gt(e,(function(e){var n=function(t,e){return{left:t.left-e,top:t.top-e,right:t.right+-2,bottom:t.bottom+-2,width:t.width+e,height:t.height+e}}(ba(e.getBoundingClientRect()),-1);return[{x:n.left,y:t(n),cell:e},{x:n.right,y:t(n),cell:e}]}))}(t,i),(function(t){return e(t,o)}));return function(t,e,n){return ft(t,(function(t,r){return t.fold((function(){return J.some(r)}),(function(t){var o=Math.sqrt(Math.abs(t.x-e)+Math.abs(t.y-n)),i=Math.sqrt(Math.abs(r.x-e)+Math.abs(r.y-n));return J.some(i<o?r:t)}))}),J.none())}(u,r,o).map((function(t){return t.cell}))},Yk=W(Kk,(function(t){return t.bottom}),(function(t,e){return t.y<e})),Xk=W(Kk,(function(t){return t.top}),(function(t,e){return t.y>e})),Jk=function(t,e,n){var r=t(e,n);return function(t){return t.breakType===py.Wrap&&0===t.positions.length}(r)||!go(n.getNode())&&function(t){return t.breakType===py.Br&&1===t.positions.length}(r)?!function(t,e,n){return n.breakAt.exists((function(n){return t(e,n).breakAt.isSome()}))}(t,e,r):r.breakAt.isNone()},Qk=W(Jk,cS),Zk=W(Jk,sS),t_=function(t,e,n,r){var o=t.selection.getRng(),i=e?1:-1;return!(!Af()||!function(t,e,n){var r=$a.fromRangeStart(e);return Cl(!t,n).exists((function(t){return t.isEqual(r)}))}(e,o,n)||(sC(i,t,n,!e,!1).each((function(e){OS(t,e)})),0))},e_=function(t,e,n){var r=function(t,e){var n=e.getNode(t);return io(n)?J.some(n):J.none()}(!!e,n),o=!1===e;r.fold((function(){return OS(t,n.toRange())}),(function(r){return Cl(o,t.getBody()).filter((function(t){return t.isEqual(n)})).fold((function(){return OS(t,n.toRange())}),(function(n){return function(t,e,n){e.undoManager.transact((function(){var r=t?Er:_r,o=xk(e,Nn(n),r);OS(e,o)}))}(e,t,r)}))}))},n_=function(t,e,n,r){var o=t.selection.getRng(),i=$a.fromRangeStart(o),u=t.getBody();if(!e&&Qk(r,i)){var a=function(t,e,n){return function(t,e){return Ct(e.getClientRects()).bind((function(e){return Yk(t,e.left,e.top)})).bind((function(t){return aS(El(n=t).map((function(t){return cS(n,t).positions.concat(t)})).getOr([]),e);var n}))}(e,n).orThunk((function(){return Ct(n.getClientRects()).bind((function(n){return uS(fS(t,$a.before(e)),n.left)}))})).getOr($a.before(e))}(u,n,i);return e_(t,e,a),!0}if(e&&Zk(r,i)){var c=function(t,e,n){return function(t,e){return St(e.getClientRects()).bind((function(e){return Xk(t,e.left,e.top)})).bind((function(t){return aS(_l(n=t).map((function(t){return[t].concat(sS(n,t).positions)})).getOr([]),e);var n}))}(e,n).orThunk((function(){return Ct(n.getClientRects()).bind((function(n){return uS(lS(t,$a.after(e)),n.left)}))})).getOr($a.after(e))}(u,n,i);return e_(t,e,c),!0}return!1},r_=function(t,e,n){return J.from(t.dom.getParent(t.selection.getNode(),"td,th")).bind((function(r){return J.from(t.dom.getParent(r,"table")).map((function(o){return n(t,e,o,r)}))})).getOr(!1)},o_=function(t,e){return r_(t,e,t_)},i_=function(t,e){return r_(t,e,n_)},u_=function(t,e,n){return n.fold(J.none,J.none,(function(t,e){return(n=e,function(t,e){var n=function t(n){for(var r=0;r<n.childNodes.length;r++){var o=Nn(n.childNodes[r]);if(e(o))return J.some(o);var i=t(n.childNodes[r]);if(i.isSome())return i}return J.none()};return n(t.dom)}(n,Mp)).map((function(t){return function(t){var e=xm.exact(t,0,t,0);return _m(e)}(t)}));var n}),(function(n){return t.execCommand("mceTableInsertRowAfter"),a_(t,e,n)}))},a_=function(t,e,n){return u_(t,e,(o=pr,Gk(r=n,void 0).fold((function(){return Vk.none(r)}),(function(t){return qk(t.all,r,t.index,1,o)}))));var r,o},c_=function(t,e,n){return u_(t,e,(o=pr,Gk(r=n,void 0).fold((function(){return Vk.none()}),(function(t){return qk(t.all,r,t.index,-1,o)}))));var r,o},s_=function(t,e){var n=["table","li","dl"],r=Nn(t.getBody()),o=function(t){var e=en(t);return Pn(t,r)||nt(n,e)},i=t.selection.getRng();return function(t,e){return function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Y;return n(e)?J.none():nt(t,en(e))?J.some(e):lr(e,t.join(","),(function(t){return Mn(t,"table")||n(t)}))}(["td","th"],t,e)}(Nn(e?i.endContainer:i.startContainer),o).map((function(n){return $k(n,o).each((function(e){t.model.table.clearSelectedCells(e.dom)})),t.selection.collapse(!e),(e?a_:c_)(t,o,n).each((function(e){t.selection.setRng(e)})),!0})).getOr(!1)},f_=function(t,e){return{container:t,offset:e}},l_=zu.DOM,d_=function(t){return function(e){return t===e?-1:0}},m_=function(t,e,n){if(co(t)&&e>=0)return J.some(f_(t,e));var r=va(l_);return J.from(r.backwards(t,e,d_(t),n)).map((function(t){return f_(t.container,t.container.data.length)}))},p_=function t(e,n,r){if(!co(e))return J.none();var o=e.data;if(n>=0&&n<=o.length)return J.some(f_(e,n));var i=va(l_);return J.from(i.backwards(e,n,d_(e),r)).bind((function(e){var o=e.container.data;return t(e.container,n+o.length,r)}))},g_=function t(e,n,r){if(!co(e))return J.none();var o=e.data;if(n<=o.length)return J.some(f_(e,n));var i=va(l_);return J.from(i.forwards(e,n,d_(e),r)).bind((function(e){return t(e.container,n-o.length,r)}))},v_=function(t,e,n,r,o){var i=va(t,function(t){return function(e){return t.isBlock(e)||nt(["BR","IMG","HR","INPUT"],e.nodeName)||"false"===t.getContentEditable(e)}}(t));return J.from(i.backwards(e,n,r,o))},h_=function(t){return Go(t.toString().replace(/\u00A0/g," "))},b_=function(t){return""!==t&&-1!==" Â \f\n\r\t\v".indexOf(t)},y_=function(t,e){return t.substring(e.length)},x_=function(t,e,n){var r,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return(r=Nn(e.startContainer),mr(r,Ip)).fold((function(){return function(t,e,n){var r,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(!(r=e).collapsed||!co(r.startContainer))return J.none();var i={text:"",offset:0},u=t.getParent(e.startContainer,t.isBlock)||t.getRoot();return v_(t,e.startContainer,e.startOffset,(function(t,e,r){return i.text=r+i.text,i.offset+=e,function(t,e,n){var r,o=n.charAt(0);for(r=e-1;r>=0;r--){var i=t.charAt(r);if(b_(i))return J.none();if(o===i&&ee(t,n,r,e))break}return J.some(r)}(i.text,i.offset,n).getOr(e)}),u).bind((function(t){var r=e.cloneRange();if(r.setStart(t.container,t.offset),r.setEnd(e.endContainer,e.endOffset),r.collapsed)return J.none();var i=h_(r);return 0!==i.lastIndexOf(n)||y_(i,n).length<o?J.none():J.some({text:y_(i,n),range:r,trigger:n})}))}(t,e,n,o)}),(function(e){var r=t.createRng();r.selectNode(e.dom);var o=h_(r);return J.some({range:r,text:y_(o,n),trigger:n})}))},w_=function t(e){if(function(t){return 3===t.nodeType}(e))return f_(e,e.data.length);var n=e.childNodes;return n.length>0?t(n[n.length-1]):f_(e,n.length)},C_=function t(e,n){var r=e.childNodes;return r.length>0&&n<r.length?t(r[n],0):r.length>0&&function(t){return 1===t.nodeType}(e)&&r.length===n?w_(r[r.length-1]):f_(e,n)},S_=function(t,e,n){var r,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=e(),u=null!==(r=t.selection.getRng().startContainer.nodeValue)&&void 0!==r?r:"",a=ct(i.lookupByTrigger(n.trigger),(function(e){return n.text.length>=e.minChars&&e.matches.getOrThunk((function(){return function(t){return function(e){var n=C_(e.startContainer,e.startOffset);return!function(t,e){var n,r=null!==(n=t.getParent(e.container,t.isBlock))&&void 0!==n?n:t.getRoot();return v_(t,e.container,e.offset,(function(t,e){return 0===e?-1:e}),r).filter((function(t){var e=t.container.data.charAt(t.offset-1);return!b_(e)})).isSome()}(t,n)}}(t.dom)}))(n.range,u,n.text)}));if(0===a.length)return J.none();var c=Promise.all(ot(a,(function(t){return t.fetch(n.text,t.maxResults,o).then((function(e){return{matchText:n.text,items:e,columns:t.columns,onAction:t.onAction,highlightOn:t.highlightOn}}))})));return J.some({lookupData:c,context:n})};!function(t){t[t.Error=0]="Error",t[t.Value=1]="Value"}(xS||(xS={}));var k_,__=function(t,e,n){return t.stype===xS.Error?e(t.serror):n(t.svalue)},E_=function(t){return{stype:xS.Value,svalue:t}},O_=function(t){return{stype:xS.Error,serror:t}},T_=__,A_=function(t){return O(t)&&Et(t).length>100?" removed due to size":JSON.stringify(t,null,2)},R_=function(t,e){return O_([{path:t,getErrorInfo:e}])},N_=function(t,e){return{extract:function(n,r){return Pt(r,t).fold((function(){return function(t,e){return R_(t,(function(){return'Choice schema did not contain choice key: "'+e+'"'}))}(n,t)}),(function(t){return function(t,e,n,r){return Pt(n,r).fold((function(){return function(t,e,n){return R_(t,(function(){return'The chosen schema: "'+n+'" did not exist in branches: '+A_(e)}))}(t,n,r)}),(function(n){return n.extract(t.concat(["branch: "+r]),e)}))}(n,r,e,t)}))},toString:function(){return"chooseOn("+t+"). Possible values: "+Et(e)}}},D_=function(t){return function(){if(0===arguments.length)throw new Error("Can't merge zero objects");for(var e={},n=0;n<arguments.length;n++){var r=n<0||arguments.length<=n?void 0:arguments[n];for(var o in r)Lt(r,o)&&(e[o]=t(e[o],r[o]))}return e}},B_=D_((function(t,e){return T(t)&&T(e)?B_(t,e):e})),M_=(D_((function(t,e){return e})),function(t){return{tag:"defaultedThunk",process:U(t)}}),I_=function(t){var e,n=function(t){var e=[],n=[];return it(t,(function(t){__(t,(function(t){return n.push(t)}),(function(t){return e.push(t)}))})),{values:e,errors:n}}(t);return n.errors.length>0?(e=n.errors,j(O_,pt)(e)):E_(n.values)},P_=function(t,e,n){switch(t.tag){case"field":return e(t.key,t.newKey,t.presence,t.prop);case"custom":return n(t.newKey,t.instantiator)}},L_=function(t){return{extract:function(e,n){return r=t(n),o=function(t){return function(t,e){return R_(t,U(e))}(e,t)},r.stype===xS.Error?o(r.serror):r;var r,o},toString:U("val")}},F_=L_(E_),j_=function(t,e,n,r){return r(Pt(t,e).getOrThunk((function(){return n(t)})))},z_=function(t,e,n,r,o){var i=function(t){return o.extract(e.concat([r]),t)},u=function(t){return t.fold((function(){return E_(J.none())}),(function(t){var n,i,u=o.extract(e.concat([r]),t);return n=u,i=J.some,n.stype===xS.Value?{stype:xS.Value,svalue:i(n.svalue)}:n}))};switch(t.tag){case"required":return function(t,e,n,r){return Pt(e,n).fold((function(){return function(t,e,n){return R_(t,(function(){return'Could not find valid *required* value for "'+e+'" in '+A_(n)}))}(t,n,e)}),r)}(e,n,r,i);case"defaultedThunk":return j_(n,r,t.process,i);case"option":return function(t,e,n){return n(Pt(t,e))}(n,r,u);case"defaultedOptionThunk":return function(t,e,n,r){return r(Pt(t,e).map((function(e){return!0===e?n(t):e})))}(n,r,t.process,u);case"mergeWithThunk":return j_(n,r,U({}),(function(e){var r=B_(t.process(n),e);return i(r)}))}},U_=function(t){return{extract:function(e,n){return function(t,e,n){var r,o={},i=[],u=a(n);try{for(u.s();!(r=u.n()).done;){var c=r.value;P_(c,(function(n,r,u,a){var c=z_(u,t,e,n,a);T_(c,(function(t){i.push.apply(i,l(t))}),(function(t){o[r]=t}))}),(function(t,n){o[t]=n(e)}))}}catch(s){u.e(s)}finally{u.f()}return i.length>0?O_(i):E_(o)}(e,n,t)},toString:function(){var e=ot(t,(function(t){return P_(t,(function(t,e,n,r){return t+" -> "+r.toString()}),(function(t,e){return"state("+t+")"}))}));return"obj{\n"+e.join("\n")+"}"}}},H_=function(t){return{extract:function(e,n){var r=ot(n,(function(n,r){return t.extract(e.concat(["["+r+"]"]),n)}));return I_(r)},toString:function(){return"array("+t.toString()+")"}}},V_=function(t,e,n){return r=function(t,e,n){return function(t,e){return t.stype===xS.Error?{stype:xS.Error,serror:e(t.serror)}:t}(e.extract([t],n),(function(t){return{input:n,errors:t}}))}(t,e,n),__(r,gc.error,gc.value);var r},W_=function(t,e){return N_(t,At(e,U_))},$_=U(F_),q_=function(t,e){return L_((function(n){var r=p(n);return t(n)?E_(n):O_("Expected type: ".concat(e," but got: ").concat(r))}))},G_=q_(P,"number"),K_=q_(E,"string"),Y_=q_(N,"boolean"),X_=q_(I,"function"),J_=function(t,e,n,r){return{tag:"field",key:t,newKey:e,presence:n,prop:r}},Q_=function(t,e){return{tag:"custom",newKey:t,instantiator:e}},Z_=function(t,e){return J_(t,t,{tag:"required",process:{}},e)},tE=function(t){return Z_(t,K_)},eE=function(t){return Z_(t,X_)},nE=function(t,e){return J_(t,t,{tag:"option",process:{}},e)},rE=function(t){return nE(t,K_)},oE=function(t,e,n){return J_(t,t,M_(e),n)},iE=function(t,e){return oE(t,e,G_)},uE=function(t,e,n){return oE(t,e,function(t){return e=function(e){return nt(t,e)?gc.value(e):gc.error('Unsupported value: "'.concat(e,'", choose one of "').concat(t.join(", "),'".'))},L_((function(t){return e(t).fold(O_,E_)}));var e}(n))},aE=function(t,e){return oE(t,e,Y_)},cE=function(t,e){return oE(t,e,X_)},sE=tE("type"),fE=eE("fetch"),lE=eE("onAction"),dE=cE("onSetup",(function(){return F})),mE=rE("text"),pE=rE("icon"),gE=rE("tooltip"),vE=rE("label"),hE=aE("active",!1),bE=aE("enabled",!0),yE=aE("primary",!1),xE=function(t){return function(t,e){return oE("type",e,K_)}(0,t)},wE=U_([sE,tE("trigger"),iE("minChars",1),function(t,e){return J_(t,t,M_(1),$_())}("columns"),iE("maxResults",10),nE("matches",X_),fE,lE,(k_=K_,oE("highlightOn",[],H_(k_)))]),CE=[bE,gE,pE,mE,dE],SE=[hE].concat(CE),kE=[cE("predicate",Y),uE("scope","node",["node","editor"]),uE("position","selection",["node","selection","line"])],_E=CE.concat([xE("contextformbutton"),yE,lE,Q_("original",H)]),EE=SE.concat([xE("contextformbutton"),yE,lE,Q_("original",H)]),OE=CE.concat([xE("contextformbutton")]),TE=SE.concat([xE("contextformtogglebutton")]),AE=W_("type",{contextformbutton:_E,contextformtogglebutton:EE});U_([xE("contextform"),cE("initValue",U("")),vE,function(t,e){return J_(t,t,{tag:"required",process:{}},H_(e))}("commands",AE),nE("launch",W_("type",{contextformbutton:OE,contextformtogglebutton:TE}))].concat(kE));var RE,NE=function(t){var e=t.ui.registry.getAll().popups,n=At(e,(function(t){return(e=t,V_("Autocompleter",wE,s({trigger:e.ch},e))).fold((function(t){throw new Error("Errors: \n"+function(t){var e=t.length>10?t.slice(0,10).concat([{path:[],getErrorInfo:U("... (only showing first ten failures)")}]):t;return ot(e,(function(t){return"Failed path: ("+t.path.join(" > ")+")\n"+t.getErrorInfo()}))}((e=t).errors).join("\n")+"\n\nInput object: "+A_(e.input));var e}),H);var e})),r=jt(Mt(n,(function(t){return t.trigger}))),o=It(n);return{dataset:n,triggers:r,lookupByTrigger:function(t){return ct(o,(function(e){return e.trigger===t}))}}},DE=function(t){var e=Xu(),n=Vu(!1),r=e.isSet,o=function(){r()&&(function(t){Lx(t).autocompleter.removeDecoration()}(t),function(t){t.dispatch("AutocompleterEnd")}(t),n.set(!1),e.clear())},i=Kt((function(){return NE(t)})),u=function(u){(function(n){return e.get().map((function(e){return x_(t.dom,t.selection.getRng(),e.trigger).bind((function(e){return S_(t,i,e,n)}))})).getOrThunk((function(){return function(t,e){var n=e(),r=t.selection.getRng();return function(t,e,n){return _t(n.triggers,(function(n){return x_(t,e,n)}))}(t.dom,r,n).bind((function(n){return S_(t,e,n)}))}(t,i)}))})(u).fold(o,(function(i){(function(n){r()||(function(t,e){Lx(t).autocompleter.addDecoration(e)}(t,n.range),e.set({trigger:n.trigger,matchLength:n.text.length}))})(i.context),i.lookupData.then((function(r){e.get().map((function(u){var a=i.context;u.trigger===a.trigger&&(a.text.length-u.matchLength>=10?o():(e.set(s(s({},u),{},{matchLength:a.text.length})),n.get()?function(t,e){t.dispatch("AutocompleterUpdate",e)}(t,{lookupData:r}):(n.set(!0),function(t,e){t.dispatch("AutocompleterStart",e)}(t,{lookupData:r}))))}))}))}))};t.addCommand("mceAutocompleterReload",(function(t,e){var n=O(e)?e.fetchOptions:{};u(n)})),t.addCommand("mceAutocompleterClose",o),function(t,e){var n=Qu(e.load,50);t.on("keypress compositionend",(function(t){27!==t.which&&n.throttle()})),t.on("keydown",(function(t){var r=t.which;8===r?n.throttle():27===r&&e.cancelIfNecessary()})),t.on("remove",n.cancel)}(t,{cancelIfNecessary:o,load:u})},BE=function(t){return function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=e.getBody(),i={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:o,currentTarget:o,eventPhase:Event.AT_TARGET,originalTarget:o,explicitOriginalTarget:o,isTrusted:!1,srcElement:o,cancelable:!1,preventDefault:F,inputType:n},u=Su(new InputEvent(t));return e.dispatch(t,s(s(s({},u),i),r))}},ME=BE("input"),IE=BE("beforeinput"),PE=function(t,e){var n=t.dom,r=t.schema.getMoveCaretBeforeOnEnterElements();if(e){if(/^(LI|DT|DD)$/.test(e.nodeName)){var o=function(t){for(;t;){if(Zr(t)||co(t)&&t.data&&/[\r\n\s]/.test(t.data))return t;t=t.nextSibling}return null}(e.firstChild);o&&/^(UL|OL|DL)$/.test(o.nodeName)&&e.insertBefore(n.doc.createTextNode(ko),e.firstChild)}var i=n.createRng();if(e.normalize(),e.hasChildNodes()){for(var u,a=new Xr(e,e),c=e;u=a.current();){if(co(u)){i.setStart(u,0),i.setEnd(u,0);break}if(r[u.nodeName.toLowerCase()]){i.setStartBefore(u),i.setEndBefore(u);break}c=u,u=a.next()}u||(i.setStart(c,0),i.setEnd(c,0))}else go(e)?e.nextSibling&&n.isBlock(e.nextSibling)?(i.setStartBefore(e),i.setEndBefore(e)):(i.setStartAfter(e),i.setEndAfter(e)):(i.setStart(e,0),i.setEnd(e,0));t.selection.setRng(i),op(t,i)}},LE=function(t,e){for(var n,r=t.getRoot(),o=e;o!==r&&o&&"false"!==t.getContentEditable(o);)"true"===t.getContentEditable(o)&&(n=o),o=o.parentNode;return o!==r?n:r},FE=function(t){return J.from(t.dom.getParent(t.selection.getStart(!0),t.dom.isBlock))},jE=function(t,e){var n=null==t?void 0:t.parentNode;return M(n)&&n.nodeName===e},zE=function(t){return M(t)&&/^(OL|UL|LI)$/.test(t.nodeName)},UE=function(t){var e,n=t.parentNode;return M(e=n)&&/^(LI|DT|DD)$/.test(e.nodeName)?n:t},HE=function(t,e,n){for(var r=t[n?"firstChild":"lastChild"];r&&!Zr(r);)r=r[n?"nextSibling":"previousSibling"];return r===e},VE=function(t,e){return e&&"A"===e.nodeName&&t.isEmpty(e)},WE=function(t){t.innerHTML='<br data-mce-bogus="1">'},$E=function(t,e){return t.nodeName===e||t.previousSibling&&t.previousSibling.nodeName===e},qE=function(t,e){return M(e)&&t.isBlock(e)&&!/^(TD|TH|CAPTION|FORM)$/.test(e.nodeName)&&!/^(fixed|absolute)/i.test(e.style.position)&&t.isEditable(e.parentNode)&&"false"!==t.getContentEditable(e)},GE=function(t,e,n){return co(e)?t?1===n&&e.data.charAt(n-1)===$o?0:n:n===e.data.length-1&&e.data.charAt(n)===$o?e.data.length:n:n},KE=function(t,e){Fc(t).toLowerCase()===e.tagName.toLowerCase()&&function(t,e,n){var r=t.dom;J.from(n.style).map(r.parseStyle).each((function(t){var n=s(s({},Sr(Nn(e))),t);r.setStyles(e,n)}));var o=J.from(n.class).map((function(t){return t.split(/\s+/)})),i=J.from(e.className).map((function(t){return ct(t.split(/\s+/),(function(t){return""!==t}))}));Ye(o,i,(function(t,n){var o=ct(n,(function(e){return!nt(t,e)})),i=[].concat(l(t),l(o));r.setAttrib(e,"class",i.join(" "))}));var u=["style","class"],a=Bt(n,(function(t,e){return!nt(u,e)}));r.setAttribs(e,a)}(t,e,jc(t))},YE={insert:function(t,e){var n,r,o,i,u=!1,a=t.dom,c=t.schema,s=c.getNonEmptyElements(),f=t.selection.getRng(),l=Fc(t),d=function(e){var r,i=n,u=c.getTextInlineElements();r=e||"TABLE"===o||"HR"===o?a.create(e||l):b.cloneNode(!1);var s=r;if(!1===Vc(t))a.setAttrib(r,"style",null),a.setAttrib(r,"class",null);else do{if(u[i.nodeName]){if(Tl(i)||Ul(i))continue;var f=i.cloneNode(!1);a.setAttrib(f,"id",""),r.hasChildNodes()?(f.appendChild(r.firstChild),r.appendChild(f)):(s=f,r.appendChild(f))}}while((i=i.parentNode)&&i!==h);return KE(t,r),WE(s),r},m=function(t){var e=GE(t,n,r);if(co(n)&&(t?e>0:e<n.data.length))return!1;if(n.parentNode===b&&u&&!t)return!0;if(t&&Zr(n)&&n===b.firstChild)return!0;if($E(n,"TABLE")||$E(n,"HR"))return u&&!t||!u&&t;var o,i=new Xr(n,b);for(co(n)&&(t&&0===e?i.prev():t||e!==n.data.length||i.next());o=i.current();){if(Zr(o)){if(!o.getAttribute("data-mce-bogus")){var a=o.nodeName.toLowerCase();if(s[a]&&"br"!==a)return!1}}else if(co(o)&&!bi(o.data))return!1;t?i.prev():i.next()}return!0},p=function(){var e;return e=/^(H[1-6]|PRE|FIGURE)$/.test(o)&&"HGROUP"!==y?d(l):d(),function(t,e){var n=Wc(t);return!B(e)&&(E(n)?nt(Ge.explode(n),e.nodeName.toLowerCase()):n)}(t,i)&&qE(a,i)&&a.isEmpty(b)?e=a.split(i,b):a.insertAfter(e,b),PE(t,e),e};Mm(a,f).each((function(t){f.setStart(t.startContainer,t.startOffset),f.setEnd(t.endContainer,t.endOffset)})),n=f.startContainer,r=f.startOffset;var g=!(!e||!e.shiftKey),v=!(!e||!e.ctrlKey);Zr(n)&&n.hasChildNodes()&&(u=r>n.childNodes.length-1,n=n.childNodes[Math.min(r,n.childNodes.length-1)]||n,r=u&&co(n)?n.data.length:0);var h=LE(a,n);if(h&&!function(t,e){var n=t.dom.getParent(e,"ol,ul,dl");return null!==n&&"false"===t.dom.getContentEditableParent(n)}(t,n)){g||(n=function(t,e,n,r,o){var i,u,a=t.dom,c=null!==(i=LE(a,r))&&void 0!==i?i:a.getRoot(),s=a.getParent(r,a.isBlock);if(!s||!qE(a,s)){if(s=s||c,!s.hasChildNodes()){var f=a.create(e);return KE(t,f),s.appendChild(f),n.setStart(f,0),n.setEnd(f,0),f}for(var l,d=r;d&&d.parentNode!==s;)d=d.parentNode;for(;d&&!a.isBlock(d);)l=d,d=d.previousSibling;var m=null===(u=null==l?void 0:l.parentElement)||void 0===u?void 0:u.nodeName;if(l&&m&&t.schema.isValidChild(m,e.toLowerCase())){var p=l.parentNode,g=a.create(e);for(KE(t,g),p.insertBefore(g,l),d=l;d&&!a.isBlock(d);){var v=d.nextSibling;g.appendChild(d),d=v}n.setStart(r,o),n.setEnd(r,o)}}return r}(t,l,f,n,r));var b=a.getParent(n,a.isBlock)||a.getRoot();i=M(null==b?void 0:b.parentNode)?a.getParent(b.parentNode,a.isBlock):null,o=b?b.nodeName.toUpperCase():"";var y=i?i.nodeName.toUpperCase():"";if("LI"!==y||v||(b=i,i=i.parentNode,o=y),/^(LI|DT|DD)$/.test(o)&&Zr(i)&&a.isEmpty(b))(function(t,e,n,r,o){var i=t.dom,u=t.selection.getRng(),a=n.parentNode;if(n!==t.getBody()&&a){var c;zE(c=n)&&zE(c.parentNode)&&(o="LI");var s=e(o);if(HE(n,r,!0)&&HE(n,r,!1))if(jE(n,"LI")){var f=UE(n);i.insertAfter(s,f),function(t){var e;return(null===(e=t.parentNode)||void 0===e?void 0:e.firstChild)===t}(n)?i.remove(f):i.remove(n)}else i.replace(s,n);else if(HE(n,r,!0))jE(n,"LI")?(i.insertAfter(s,UE(n)),s.appendChild(i.doc.createTextNode(" ")),s.appendChild(n)):a.insertBefore(s,n),i.remove(r);else if(HE(n,r,!1))i.insertAfter(s,UE(n)),i.remove(r);else{n=UE(n);var l=u.cloneRange();l.setStartAfter(r),l.setEndAfter(n);var d=l.extractContents();"LI"===o&&function(t,e){return t.firstChild&&"LI"===t.firstChild.nodeName}(d)?(s=d.firstChild,i.insertAfter(d,n)):(i.insertAfter(d,n),i.insertAfter(s,n)),i.remove(r)}PE(t,s)}})(t,d,i,b,l);else if(b!==t.getBody()&&qE(a,b)){var x,w=b.parentNode;if(Xo(b))x=oi(b),a.isEmpty(b)&&WE(b),KE(t,x),PE(t,x);else if(m(!1))x=p();else if(m(!0)&&w)x=w.insertBefore(d(),b),PE(t,$E(b,"HR")?x:b);else{var C=function(t){var e=t.cloneRange();return e.setStart(t.startContainer,GE(!0,t.startContainer,t.startOffset)),e.setEnd(t.endContainer,GE(!1,t.endContainer,t.endOffset)),e}(f).cloneRange();C.setEndAfter(b);var S=C.extractContents();(function(t){it(Gr(Nn(t),un),(function(t){var e=t.dom;e.nodeValue=Go(e.data)}))})(S),function(t){var e=t;do{co(e)&&(e.data=e.data.replace(/^[\r\n]+/,"")),e=e.firstChild}while(e)}(S),x=S.firstChild,a.insertAfter(S,b),function(t,e,n){var r,o=[];if(n){for(var i=n;i=i.firstChild;){if(t.isBlock(i))return;Zr(i)&&!e[i.nodeName.toLowerCase()]&&o.push(i)}for(var u=o.length;u--;)i=o[u],(!i.hasChildNodes()||i.firstChild===i.lastChild&&""===(null===(r=i.firstChild)||void 0===r?void 0:r.nodeValue)||VE(t,i))&&t.remove(i)}}(a,s,x),function(t,e){e.normalize();var n=e.lastChild;(!n||Zr(n)&&/^(left|right)$/gi.test(t.getStyle(n,"float",!0)))&&t.add(e,"br")}(a,b),a.isEmpty(b)&&WE(b),x.normalize(),a.isEmpty(x)?(a.remove(x),p()):(KE(t,x),PE(t,x))}a.setAttrib(x,"id",""),t.dispatch("NewBlock",{newBlock:x})}}},fakeEventName:"insertParagraph"},XE=function(t,e,n){var r=t.dom.createRng();n?(r.setStartBefore(e),r.setEndBefore(e)):(r.setStartAfter(e),r.setEndAfter(e)),t.selection.setRng(r),op(t,r)},JE=function(t,e){var n=An("br");_r(Nn(e),n),t.undoManager.add()},QE=function(t,e){ZE(t.getBody(),e)||Er(Nn(e),An("br"));var n=An("br");Er(Nn(e),n),XE(t,n.dom,!1),t.undoManager.add()},ZE=function(t,e){return n=$a.after(e),!!go(n.getNode())||Sl(t,$a.after(e)).map((function(t){return go(t.getNode())})).getOr(!1);var n},tO=function(t){return t&&"A"===t.nodeName&&"href"in t},eO=function(t){return t.fold(Y,tO,tO,Y)},nO=function(t,e){e.fold(F,W(JE,t),W(QE,t),F)},rO={insert:function(t,e){var n=function(t){var e=W(av,t),n=$a.fromRangeStart(t.selection.getRng());return $C(e,t.getBody(),n).filter(eO)}(t);n.isSome()?n.each(W(nO,t)):function(t,e){var n,r=t.selection,o=t.dom,i=r.getRng(),u=!1;Mm(o,i).each((function(t){i.setStart(t.startContainer,t.startOffset),i.setEnd(t.endContainer,t.endOffset)}));var a=i.startOffset,c=i.startContainer;if(Zr(c)&&c.hasChildNodes()){var s=a>c.childNodes.length-1;c=c.childNodes[Math.min(a,c.childNodes.length-1)]||c,a=s&&co(c)?c.data.length:0}var f=o.getParent(c,o.isBlock),l=f&&f.parentNode?o.getParent(f.parentNode,o.isBlock):null,d=l?l.nodeName.toUpperCase():"",m=!(!e||!e.ctrlKey);"LI"!==d||m||(f=l),co(c)&&a>=c.data.length&&(function(t,e,n){for(var r,o=new Xr(e,n),i=t.getNonEmptyElements();r=o.next();)if(i[r.nodeName.toLowerCase()]||co(r)&&r.length>0)return!0;return!1}(t.schema,c,f||o.getRoot())||(n=o.create("br"),i.insertNode(n),i.setStartAfter(n),i.setEndAfter(n),u=!0)),n=o.create("br"),Ga(o,i,n),XE(t,n,u),t.undoManager.add()}(t,e)},fakeEventName:"insertLineBreak"},oO=function(t,e){return FE(t).filter((function(t){return e.length>0&&Mn(Nn(t),e)})).isSome()},iO=vc([{br:[]},{block:[]},{none:[]}]),uO=function(t,e){return function(t){return oO(t,Hc(t))}(t)},aO=function(t){return function(e,n){return function(t){return FE(t).filter((function(t){return Po(Nn(t))})).isSome()}(e)===t}},cO=function(t,e){return function(n,r){var o=function(t){return FE(t).fold(U(""),(function(t){return t.nodeName.toUpperCase()}))}(n)===t.toUpperCase();return o===e}},sO=function(t){var e=LE(t.dom,t.selection.getStart());return B(e)},fO=function(t){return cO("pre",t)},lO=function(t){return function(e,n){return Lc(e)===t}},dO=function(t,e){return function(t){return oO(t,Uc(t))}(t)},mO=function(t,e){return e},pO=function(t){var e=Fc(t),n=LE(t.dom,t.selection.getStart());return M(n)&&t.schema.isValidChild(n.nodeName,e)},gO=function(t,e){return function(n,r){return ft(t,(function(t,e){return t&&e(n,r)}),!0)?J.some(e):J.none()}},vO=function(t,e,n){e.selection.isCollapsed()||function(t){t.execCommand("delete")}(e),M(n)&&IE(e,t.fakeEventName).isDefaultPrevented()||(t.insert(e,n),M(n)&&ME(e,t.fakeEventName))},hO=function(t,e){var n=function(){return vO(rO,t,e)},r=function(){return vO(YE,t,e)},o=function(t,e){return IC([gO([uO],iO.none()),gO([fO(!0),sO],iO.none()),gO([cO("summary",!0)],iO.br()),gO([fO(!0),lO(!1),mO],iO.br()),gO([fO(!0),lO(!1)],iO.block()),gO([fO(!0),lO(!0),mO],iO.block()),gO([fO(!0),lO(!0)],iO.br()),gO([aO(!0),mO],iO.br()),gO([aO(!0)],iO.block()),gO([dO],iO.br()),gO([mO],iO.br()),gO([pO],iO.block())],[t,!(!e||!e.shiftKey)]).getOr(iO.none())}(t,e);switch(zc(t)){case"linebreak":o.fold(n,n,F);break;case"block":o.fold(r,r,F);break;case"invert":o.fold(r,n,F);break;default:o.fold(n,r,F)}},bO=Pe(),yO=function(t){return t.stopImmediatePropagation()},xO=function(t){return t.keyCode===im.PAGE_UP||t.keyCode===im.PAGE_DOWN},wO=function(t,e,n){n&&!t.get()?e.on("NodeChange",yO,!0):!n&&t.get()&&e.off("NodeChange",yO),t.set(n)},CO=function(t,e){var n=e.container(),r=e.offset();return co(n)?(n.insertData(r,t),J.some($a(n,r+t.length))):nl(e).map((function(n){var r=Rn(t);return e.isAtEnd()?Er(n,r):_r(n,r),$a(r.dom,t.length)}))},SO=W(CO,ko),kO=W(CO," "),_O=function(t,e){return function(n){return function(t,e){return!Fg(e)&&(function(t,e){return function(t,e){return kl(t.dom,e).isNone()}(t,e)||function(t,e){return Sl(t.dom,e).isNone()}(t,e)||kg(t,e)||_g(t,e)||Ng(t,e)||Rg(t,e)}(t,e)||Pg(t,e)||Lg(t,e))}(t,n)?SO(e):kO(e)}},EO=function(t){var e=$a.fromRangeStart(t.selection.getRng()),n=Nn(t.getBody());if(t.selection.isCollapsed()){var r=W(av,t),o=$a.fromRangeStart(t.selection.getRng());return $C(r,t.getBody(),o).bind(function(t){return function(e){return e.fold((function(e){return kl(t.dom,$a.before(e))}),(function(t){return _l(t)}),(function(t){return El(t)}),(function(e){return Sl(t.dom,$a.after(e))}))}}(n)).map((function(r){return function(){return _O(n,e)(r).each(function(t){return function(e){return t.selection.setRng(e.toRange()),t.nodeChanged(),!0}}(t))}}))}return J.none()},OO=function(t){return gf(t)?[{keyCode:im.TAB,action:Pk(s_,t,!0)},{keyCode:im.TAB,shiftKey:!0,action:Pk(s_,t,!1)}]:[]},TO=function(t){if(t.addShortcut("Meta+P","","mcePrint"),DE(t),Ix(t))return Vu(null);var e=jS(t);return function(t){t.on("keyup compositionstart",W(kk,t))}(t),function(t,e){t.on("keydown",(function(n){n.isDefaultPrevented()||function(t,e,n){var r=Ve.os.isMacOS()||Ve.os.isiOS();Lk([{keyCode:im.RIGHT,action:Pk(Ok,t,!0)},{keyCode:im.LEFT,action:Pk(Ok,t,!1)},{keyCode:im.UP,action:Pk(Tk,t,!1)},{keyCode:im.DOWN,action:Pk(Tk,t,!0)}].concat(l(r?[{keyCode:im.UP,action:Pk(Rk,t,!1),metaKey:!0,shiftKey:!0},{keyCode:im.DOWN,action:Pk(Rk,t,!0),metaKey:!0,shiftKey:!0}]:[]),[{keyCode:im.RIGHT,action:Pk(o_,t,!0)},{keyCode:im.LEFT,action:Pk(o_,t,!1)},{keyCode:im.UP,action:Pk(i_,t,!1)},{keyCode:im.DOWN,action:Pk(i_,t,!0)},{keyCode:im.RIGHT,action:Pk(jk,t,!0)},{keyCode:im.LEFT,action:Pk(jk,t,!1)},{keyCode:im.UP,action:Pk(zk,t,!1)},{keyCode:im.DOWN,action:Pk(zk,t,!0)},{keyCode:im.RIGHT,action:Pk(LS,t,e,!0)},{keyCode:im.LEFT,action:Pk(LS,t,e,!1)},{keyCode:im.RIGHT,ctrlKey:!r,altKey:r,action:Pk(zS,t,e)},{keyCode:im.LEFT,ctrlKey:!r,altKey:r,action:Pk(US,t,e)},{keyCode:im.UP,action:Pk(Bk,t,!1)},{keyCode:im.DOWN,action:Pk(Bk,t,!0)}]),n).each((function(t){n.preventDefault()}))}(t,e,n)}))}(t,e),function(t,e){var n=!1;t.on("keydown",(function(r){n=r.keyCode===im.BACKSPACE,r.isDefaultPrevented()||function(t,e,n){var r=n.keyCode===im.BACKSPACE?"deleteContentBackward":"deleteContentForward";Fk([{keyCode:im.BACKSPACE,action:Pk(lk,t)},{keyCode:im.BACKSPACE,action:Pk(SC,t,!1)},{keyCode:im.DELETE,action:Pk(SC,t,!0)},{keyCode:im.BACKSPACE,action:Pk(gC,t,!1)},{keyCode:im.DELETE,action:Pk(gC,t,!0)},{keyCode:im.BACKSPACE,action:Pk($S,t,e,!1)},{keyCode:im.DELETE,action:Pk($S,t,e,!0)},{keyCode:im.BACKSPACE,action:Pk(Vv,t,!1)},{keyCode:im.DELETE,action:Pk(Vv,t,!0)},{keyCode:im.BACKSPACE,action:Pk(kC,t,!1)},{keyCode:im.DELETE,action:Pk(kC,t,!0)},{keyCode:im.BACKSPACE,action:Pk(rk,t,!1)},{keyCode:im.DELETE,action:Pk(rk,t,!0)},{keyCode:im.BACKSPACE,action:Pk(cC,t,!1)},{keyCode:im.DELETE,action:Pk(cC,t,!0)},{keyCode:im.BACKSPACE,action:Pk(iC,t,!1)},{keyCode:im.DELETE,action:Pk(iC,t,!0)},{keyCode:im.BACKSPACE,action:Pk(ZS,t,!1)},{keyCode:im.DELETE,action:Pk(ZS,t,!0)}],n).filter((function(e){return t.selection.isEditable()})).each((function(e){n.preventDefault(),IE(t,r).isDefaultPrevented()||(e(),ME(t,r))}))}(t,e,r)})),t.on("keyup",(function(e){e.isDefaultPrevented()||function(t,e,n){var r=Pe(),o=r.os,i=r.browser,u=o.isMacOS()?[{keyCode:im.BACKSPACE,altKey:!0,action:Pk(ek,t)},{keyCode:im.DELETE,altKey:!0,action:Pk(ek,t)}]:[{keyCode:im.BACKSPACE,ctrlKey:!0,action:Pk(ek,t)},{keyCode:im.DELETE,ctrlKey:!0,action:Pk(ek,t)}];o.isMacOS()&&n&&u.push({keyCode:i.isFirefox()?224:91,action:Pk(ek,t)}),Lk([{keyCode:im.BACKSPACE,action:Pk(CC,t)},{keyCode:im.DELETE,action:Pk(CC,t)}].concat(u),e)}(t,e,n),n=!1}))}(t,e),function(t){t.on("keydown",(function(e){e.keyCode===im.ENTER&&function(t,e){var n;e.isDefaultPrevented()||(e.preventDefault(),(n=t.undoManager).typing&&(n.typing=!1,n.add()),t.undoManager.transact((function(){hO(t,e)})))}(t,e)}))}(t),function(t){t.on("keydown",(function(e){e.isDefaultPrevented()||function(t,e){Fk([{keyCode:im.SPACEBAR,action:Pk(EO,t)}],e).each((function(n){e.preventDefault(),IE(t,"insertText",{data:" "}).isDefaultPrevented()||(n(),ME(t,"insertText",{data:" "}))}))}(t,e)}))}(t),function(t){t.on("input",(function(e){e.isComposing||function(t){var e=Nn(t.getBody());t.selection.isCollapsed()&&Gg(e,$a.fromRangeStart(t.selection.getRng())).each((function(e){t.selection.setRng(e.toRange())}))}(t)}))}(t),function(t){t.on("keydown",(function(e){e.isDefaultPrevented()||function(t,e){Lk(l(OO(t)),e).each((function(t){e.preventDefault()}))}(t,e)}))}(t),function(t,e){t.on("keydown",(function(n){n.isDefaultPrevented()||function(t,e,n){var r=Ve.os.isMacOS()||Ve.os.isiOS();Lk([{keyCode:im.END,action:Pk(Ak,t,!0)},{keyCode:im.HOME,action:Pk(Ak,t,!1)}].concat(l(r?[]:[{keyCode:im.HOME,action:Pk(Rk,t,!1),ctrlKey:!0,shiftKey:!0},{keyCode:im.END,action:Pk(Rk,t,!0),ctrlKey:!0,shiftKey:!0}]),[{keyCode:im.END,action:Pk(Uk,t,!0)},{keyCode:im.HOME,action:Pk(Uk,t,!1)},{keyCode:im.END,action:Pk(HS,t,!0,e)},{keyCode:im.HOME,action:Pk(HS,t,!1,e)}]),n).each((function(t){n.preventDefault()}))}(t,e,n)}))}(t,e),function(t,e){if(!bO.os.isMacOS()){var n=Vu(!1);t.on("keydown",(function(e){xO(e)&&wO(n,t,!0)})),t.on("keyup",(function(r){r.isDefaultPrevented()||function(t,e,n){Lk([{keyCode:im.PAGE_UP,action:Pk(HS,t,!1,e)},{keyCode:im.PAGE_DOWN,action:Pk(HS,t,!0,e)}],n)}(t,e,r),xO(r)&&n.get()&&(wO(n,t,!1),t.nodeChanged())}))}}(t,e),e},AO=function(){function t(e){var n;d(this,t),this.lastPath=[],this.editor=e;var r=this;"onselectionchange"in e.getDoc()||e.on("NodeChange click mouseup keyup focus",(function(t){var r=e.selection.getRng(),o={startContainer:r.startContainer,startOffset:r.startOffset,endContainer:r.endContainer,endOffset:r.endOffset};"nodechange"!==t.type&&Om(o,n)||e.dispatch("SelectionChange"),n=o})),e.on("contextmenu",(function(){e.dispatch("SelectionChange")})),e.on("SelectionChange",(function(){var t=e.selection.getStart(!0);t&&ud(e)&&!r.isSameElementPath(t)&&e.dom.isChildOf(t,e.getBody())&&e.nodeChanged({selectionChange:!0})})),e.on("mouseup",(function(t){!t.isDefaultPrevented()&&ud(e)&&("IMG"===e.selection.getNode().nodeName?hp.setEditorTimeout(e,(function(){e.nodeChanged()})):e.nodeChanged())}))}return m(t,[{key:"nodeChanged",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.editor.selection;if(this.editor.initialized&&n&&!Ds(this.editor)&&!this.editor.mode.isReadOnly()){var r=this.editor.getBody();t=n.getStart(!0)||r,t.ownerDocument===this.editor.getDoc()&&this.editor.dom.isChildOf(t,r)||(t=r);var o=[];this.editor.dom.getParent(t,(function(t){return t===r||(o.push(t),!1)})),this.editor.dispatch("NodeChange",s(s({},e),{},{element:t,parents:o}))}}},{key:"isSameElementPath",value:function(t){var e,n=this.editor,r=ht(n.dom.getParents(t,X,n.getBody()));if(r.length===this.lastPath.length){for(e=r.length;e>=0&&r[e]===this.lastPath[e];e--);if(-1===e)return this.lastPath=r,!0}return this.lastPath=r,!1}}]),t}(),RO=U("x-tinymce/html"),NO="\x3c!-- x-tinymce/html --\x3e",DO=function(t){return NO+t},BO=function(t){return-1!==t.indexOf(NO)},MO="%MCEPASTEBIN%",IO=function(t){return t.dom.get("mcepastebin")},PO=function(t){return M(t)&&"mcepastebin"===t.id},LO=function(t){return t===MO},FO=function(t,e){return Ge.each(e,(function(e){t=_(e,RegExp)?t.replace(e,""):t.replace(e[0],e[1])})),t},jO=function(t){return FO(t,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,function(t,e,n){return e||n?ko:" "}],/<br class="Apple-interchange-newline">/g,/<br>$/i])},zO=function(t,e){return{content:t,cancelled:e}},UO=function(t,e){return t.insertContent(e,{merge:tf(t),paste:!0}),!0},HO=function(t){return/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(t)},VO=function(t,e,n){return!(t.selection.isCollapsed()||!HO(e))&&function(t,e,n){return t.undoManager.extra((function(){n(t,e)}),(function(){t.execCommand("mceInsertLink",!1,e)})),!0}(t,e,n)},WO=function(t,e,n){return!!function(t,e){return HO(e)&&rt(pf(t),(function(t){return re(e.toLowerCase(),".".concat(t.toLowerCase()))}))}(t,e)&&function(t,e,n){return t.undoManager.extra((function(){n(t,e)}),(function(){t.insertContent('<img src="'+e+'">')})),!0}(t,e,n)},$O=function(t){var e=0;return function(){return"mceclip"+e++}}(),qO=function(t,e,n,r){var o=function(t,e,n){return function(t,e,n){var r=function(t,e,n){return t.dispatch("PastePreProcess",{content:e,internal:n})}(t,e,n),o=function(t,e){var n=nx({sanitize:mf(t)},t.schema);n.addNodeFilter("meta",(function(t){Ge.each(t,(function(t){t.remove()}))}));var r=n.parse(e,{forced_root_block:!1,isRootContent:!0});return Qp({validate:!0},t.schema).serialize(r)}(t,r.content);return t.hasEventListeners("PastePostProcess")&&!r.isDefaultPrevented()?function(t,e,n){var r=t.dom.create("div",{style:"display:none"},e),o=function(t,e,n){return t.dispatch("PastePostProcess",{node:e,internal:n})}(t,r,n);return zO(o.node.innerHTML,o.isDefaultPrevented())}(t,o,n):zO(o,r.isDefaultPrevented())}(t,e,n)}(t,e,n);o.cancelled||function(t,e,n){n||!ef(t)?UO(t,e):function(t,e){Ge.each([VO,WO,UO],(function(n){return!n(t,e,UO)}))}(t,e)}(t,o.content,r)},GO=function(t,e,n){var r=n||BO(e);qO(t,function(t){return t.replace(NO,"")}(e),r,!1)},KO=function(t,e){var n=t.dom.encode(e).replace(/\r\n/g,"\n"),r=function(t,e,n){var r=t.split(/\n\n/),o=function(t,e){var n="<"+t,r=Mt(e,(function(t,e){return e+'="'+au.encodeAllRaw(t)+'"'}));return r.length&&(n+=" "+r.join(" ")),n+">"}(e,n),i="</"+e+">",u=ot(r,(function(t){return t.split(/\n/).join("<br />")}));return 1===u.length?u[0]:ot(u,(function(t){return o+t+i})).join("")}(xi(n,rf(t)),Fc(t),jc(t));qO(t,r,!1,!0)},YO=function(t){var e={};if(t&&t.types)for(var n=0;n<t.types.length;n++){var r=t.types[n];try{e[r]=t.getData(r)}catch(t){e[r]=""}}return e},XO=function(t,e){return e in t&&t[e].length>0},JO=function(t){return XO(t,"text/html")||XO(t,"text/plain")},QO=function(t,e,n){var r,o="paste"===e.type?e.clipboardData:e.dataTransfer;if(Ys(t)&&o){var i=function(t,e){var n=e.items?gt(kt(e.items),(function(t){return"file"===t.kind?[t.getAsFile()]:[]})):[],r=e.files?kt(e.files):[];return ct(n.length>0?n:r,function(t){var e=pf(t);return function(t){return ne(t.type,"image/")&&rt(e,(function(e){return function(t){var e=t.toLowerCase(),n={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return Ge.hasOwn(n,e)?"image/"+n[e]:"image/"+e}(e)===t.type}))}}(t))}(t,o);if(i.length>0)return e.preventDefault(),(r=i,Promise.all(ot(r,(function(t){return Nb(t).then((function(e){return{file:t,uri:e}}))})))).then((function(e){n&&t.selection.setRng(n),it(e,(function(e){(function(t,e){Ab(e.uri).each((function(n){var r=n.data,o=n.type,i=n.base64Encoded,u=i?r:btoa(r),a=e.file,c=t.editorUpload.blobCache,s=c.getByData(u,o),f=null!=s?s:function(t,e,n,r){var o=$O(),i=qc(t)&&M(n.name),u=i?function(t,e){var n=e.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return M(n)?t.dom.encode(n[1]):void 0}(t,n.name):o,a=i?n.name:void 0,c=e.create(o,n,r,u,a);return e.add(c),c}(t,c,a,u);GO(t,'<img src="'.concat(f.blobUri(),'">'),!1)}))})(t,e)}))})),!0}return!1},ZO=function(t,e,n,r){var o=jO(n),i=XO(e,RO())||BO(n),u=!i&&function(t){return!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(t)}(o),a=HO(o);(LO(o)||!o.length||u&&!a)&&(r=!0),(r||a)&&(o=XO(e,"text/plain")&&u?e["text/plain"]:function(t){var e=xu(),n=nx({},e),r="",o=e.getVoidElements(),i=Ge.makeMap("script noscript style textarea video audio iframe object"," "),u=e.getBlockElements(),a=function t(n){var a=n.name,c=n;if("br"!==a){if("wbr"!==a)if(o[a]&&(r+=" "),i[a])r+=" ";else{if(3===n.type&&(r+=n.value),!(n.name in e.getVoidElements())){var s=n.firstChild;if(s)do{t(s)}while(s=s.next)}u[a]&&c.next&&(r+="\n","p"===a&&(r+="\n"))}}else r+="\n"};return t=FO(t,[/<!\[[^\]]+\]>/g]),a(n.parse(t)),r}(o)),LO(o)||(r?KO(t,o):GO(t,o,i))},tT=function(t,e,n){(function(t,e,n){var r;t.on("keydown",(function(t){(function(t){return im.metaKeyPressed(t)&&86===t.keyCode||t.shiftKey&&45===t.keyCode})(t)&&!t.isDefaultPrevented()&&(r=t.shiftKey&&86===t.keyCode)})),t.on("paste",(function(o){if(!o.isDefaultPrevented()&&!function(t){var e,n;return Ve.os.isAndroid()&&0===(null===(n=null===(e=t.clipboardData)||void 0===e?void 0:e.items)||void 0===n?void 0:n.length)}(o)){var i="text"===n.get()||r;r=!1;var u=YO(o.clipboardData);!JO(u)&&QO(t,o,e.getLastRng()||t.selection.getRng())||(XO(u,"text/html")?(o.preventDefault(),ZO(t,u,u["text/html"],i)):XO(u,"text/plain")&&XO(u,"text/uri-list")?(o.preventDefault(),ZO(t,u,u["text/plain"],i)):(e.create(),hp.setEditorTimeout(t,(function(){var n=e.getHtml();e.remove(),ZO(t,u,n,i)}),0)))}}))})(t,e,n),function(t){var e=function(t){return ne(t,"webkit-fake-url")},n=function(t){return ne(t,"data:")};t.parser.addNodeFilter("img",(function(r,o,i){if(!Ys(t)&&function(t){var e;return!0===(null===(e=t.data)||void 0===e?void 0:e.paste)}(i)){var u,c=a(r);try{for(c.s();!(u=c.n()).done;){var s=u.value,f=s.attr("src");E(f)&&!s.attr("data-mce-object")&&f!==Ve.transparentSrc&&(e(f)||!of(t)&&n(f))&&s.remove()}}catch(l){c.e(l)}finally{c.f()}}}))}(t)},eT=function(t,e,n,r){!function(t,e,n){if(!t)return!1;try{return t.clearData(),t.setData("text/html",e),t.setData("text/plain",n),t.setData(RO(),e),!0}catch(t){return!1}}(t.clipboardData,e.html,e.text)?n(e.html,r):(t.preventDefault(),r())},nT=function(t){return function(e,n){var r=t.dom,o=t.selection,i=r.create("div",{contenteditable:"false","data-mce-bogus":"all"}),u=r.create("div",{contenteditable:"true"},e);r.setStyles(i,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),i.appendChild(u),r.add(t.getBody(),i);var a=o.getRng();u.focus();var c=r.createRng();c.selectNodeContents(u),o.setRng(c),hp.setEditorTimeout(t,(function(){o.setRng(a),r.remove(i),n()}),0)}},rT=function(t){return{html:DO(t.selection.getContent({contextual:!0})),text:t.selection.getContent({format:"text"})}},oT=function(t){return!t.selection.isCollapsed()||function(t){return!!t.dom.getParent(t.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",t.getBody())}(t)},iT=function(t,e){var n,r;return Lm.getCaretRangeFromPoint(null!==(n=e.clientX)&&void 0!==n?n:0,null!==(r=e.clientY)&&void 0!==r?r:0,t.getDoc())},uT=function(t,e){t.focus(),e&&t.selection.setRng(e)},aT=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,cT=function(t){return Ge.trim(t).replace(aT,Jl).toLowerCase()},sT=function(t,e,n){var r=Qs(t);if(n||"all"===r||!Zs(t))return e;var o=r?r.split(/[, ]/):[];if(o&&"none"!==r){var i=t.dom,u=t.selection.getNode();e=e.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(function(t,e,n,r){for(var a=i.parseStyle(i.decode(n)),c={},s=0;s<o.length;s++){var f=a[o[s]],l=f,d=i.getStyle(u,o[s],!0);/color/.test(o[s])&&(l=cT(l),d=cT(d)),d!==l&&(c[o[s]]=f)}var m=i.serializeStyle(c,"span");return m?e+' style="'+m+'"'+r:e+r}))}else e=e.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return e=e.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(function(t,e,n,r){return e+' style="'+n+'"'+r})),e},fT=function(t){var e=Vu(!1),n=Vu(nf(t)?"text":"html"),r=function(t){var e=Vu(null);return{create:function(){return function(t,e){var n=t.dom,r=t.selection,o=t.getBody();e.set(r.getRng());var i=n.add(t.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},MO);Ve.browser.isFirefox()&&n.setStyle(i,"left","rtl"===n.getStyle(o,"direction",!0)?65535:-65535),n.bind(i,"beforedeactivate focusin focusout",(function(t){t.stopPropagation()})),i.focus(),r.select(i,!0)}(t,e)},remove:function(){return function(t,e){var n=t.dom;if(IO(t)){for(var r,o=e.get();r=IO(t);)n.remove(r),n.unbind(r);o&&t.selection.setRng(o)}e.set(null)}(t,e)},getEl:function(){return IO(t)},getHtml:function(){return function(t){var e=t.dom,n=function(t,n){t.appendChild(n),e.remove(n,!0)},r=ct(t.getBody().childNodes,PO),o=u(r),i=o[0],a=o.slice(1);it(a,(function(t){n(i,t)}));for(var c=e.select("div[id=mcepastebin]",i),s=c.length-1;s>=0;s--){var f=e.create("div");i.insertBefore(f,c[s]),n(f,c[s])}return i?i.innerHTML:""}(t)},getLastRng:e.get}}(t);(function(t){(Ve.browser.isChromium()||Ve.browser.isSafari())&&function(t,e){t.on("PastePreProcess",(function(n){n.content=e(t,n.content,n.internal)}))}(t,sT)})(t),function(t,e){t.addCommand("mceTogglePlainTextPaste",(function(){(function(t,e){"text"===e.get()?(e.set("html"),om(t,!1)):(e.set("text"),om(t,!0)),t.focus()})(t,e)})),t.addCommand("mceInsertClipboardContent",(function(e,n){n.html&&GO(t,n.html,n.internal),n.text&&KO(t,n.text)}))}(t,n),function(t){var e=function(e){return function(n){e(t,n)}},n=Xs(t);I(n)&&t.on("PastePreProcess",e(n));var r=Js(t);I(r)&&t.on("PastePostProcess",e(r))}(t),t.on("PreInit",(function(){(function(t){t.on("cut",function(t){return function(e){!e.isDefaultPrevented()&&oT(t)&&eT(e,rT(t),nT(t),(function(){if(Ve.browser.isChromium()||Ve.browser.isFirefox()){var e=t.selection.getRng();hp.setEditorTimeout(t,(function(){t.selection.setRng(e),t.execCommand("Delete")}),0)}else t.execCommand("Delete")}))}}(t)),t.on("copy",function(t){return function(e){!e.isDefaultPrevented()&&oT(t)&&eT(e,rT(t),nT(t),F)}}(t))})(t),function(t,e){Ks(t)&&t.on("dragend dragover draggesture dragdrop drop drag",(function(t){t.preventDefault(),t.stopPropagation()})),Ys(t)||t.on("drop",(function(t){var e=t.dataTransfer;e&&function(t){return rt(t.files,(function(t){return/^image\//.test(t.type)}))}(e)&&t.preventDefault()})),t.on("drop",(function(n){if(!n.isDefaultPrevented()){var r=iT(t,n);if(!B(r)){var o=YO(n.dataTransfer),i=XO(o,RO());if(JO(o)&&!function(t){var e=t["text/plain"];return!!e&&0===e.indexOf("file://")}(o)||!QO(t,n,r)){var u=o[RO()],a=u||o["text/html"]||o["text/plain"],c=function(t,e,n,r){var o=t.getParent(n,(function(t){return Li(e,t)}));if(o&&Lt(r,"text/html")){var i=(new DOMParser).parseFromString(r["text/html"],"text/html").body;return!R(i.querySelector(o.nodeName.toLowerCase()))}return!1}(t.dom,t.schema,r.startContainer,o);e.get()&&!c||a&&(n.preventDefault(),hp.setEditorTimeout(t,(function(){t.undoManager.transact((function(){u&&t.execCommand("Delete"),uT(t,r);var e=jO(a);o["text/html"]?GO(t,e,i):KO(t,e)}))})))}}}})),t.on("dragstart",(function(t){e.set(!0)})),t.on("dragover dragend",(function(n){Ys(t)&&!e.get()&&(n.preventDefault(),uT(t,iT(t,n))),"dragend"===n.type&&e.set(!1)}))}(t,e),tT(t,r,n)}))},lT=go,dT=co,mT=function(t){return bo(t.dom)},pT=function(t){return function(e){return Pn(Nn(t),e)}},gT=function(t,e){return fr(Nn(t),mT,pT(e))},vT=function(t,e,n){for(var r=new Xr(t,e),o=n?r.next.bind(r):r.prev.bind(r),i=t,u=n?t:o();u&&!lT(u);u=o())pi(u)&&(i=u);return i},hT=function(t){var e=function(t,e){var n=$a.fromRangeStart(t).getNode(),r=function(t,e){return fr(Nn(t),(function(t){return function(t){return ho(t.dom)}(t)||No(t)}),pT(e)).getOr(Nn(e)).dom}(n,e),o=vT(n,r,!1),i=vT(n,r,!0),u=document.createRange();return gT(o,r).fold((function(){dT(o)?u.setStart(o,0):u.setStartBefore(o)}),(function(t){return u.setStartBefore(t.dom)})),gT(i,r).fold((function(){dT(i)?u.setEnd(i,i.data.length):u.setEndAfter(i)}),(function(t){return u.setEndAfter(t.dom)})),u}(t.selection.getRng(),t.getBody());t.selection.setRng(oh(e))};!function(t){t.Before="before",t.After="after"}(RE||(RE={}));var bT,yT,xT=function(t,e){return Math.abs(t.left-e)},wT=function(t,e){return Math.abs(t.right-e)},CT=function(t,e){return function(t){return ft(t,(function(t,e){return t.fold((function(){return J.some(e)}),(function(t){var n=Math.min(e.left,t.left),r=Math.min(e.top,t.top),o=Math.max(e.right,t.right),i=Math.max(e.bottom,t.bottom);return J.some({top:r,right:o,bottom:i,left:n,width:o-n,height:i-r})}))}),J.none())}(ct(t,(function(t){return(n=e)>=(r=t).top&&n<=r.bottom;var n,r}))).fold((function(){return[[],t]}),(function(e){var n=at(t,(function(t){return function(t,e){var n=function(t,e){return Math.max(0,Math.min(t.bottom,e.bottom)-Math.max(t.top,e.top))}(t,e)/Math.min(t.height,e.height);return function(t,e){return t.top<e.bottom&&t.bottom>e.top}(t,e)&&n>.5}(t,e)})),r=n.pass,o=n.fail;return[r,o]}))},ST=function(t,e,n){return e>t.left&&e<t.right?0:Math.min(Math.abs(t.left-e),Math.abs(t.right-e))},kT=function t(e,n,r){var o=function(e){return pi(e.node)?J.some(e):Zr(e.node)?t(kt(e.node.childNodes),n,r):J.none()},i=function(t,e){var i=xt(t,(function(t,o){return e(t,n,r)-e(o,n,r)}));return function(t,e){if(t.length>=2){var i=o(t[0]).getOr(t[0]),u=o(t[1]).getOr(t[1]);if(Math.abs(e(i,n,r)-e(u,n,r))<2){if(co(i.node))return J.some(i);if(co(u.node))return J.some(u)}}return J.none()}(i,e).orThunk((function(){return _t(i,o)}))},u=CT(yS(e),r),a=f(u,2),c=a[0],s=a[1],l=at(s,(function(t){return t.top<r})),d=l.pass,m=l.fail;return i(c,ST).orThunk((function(){return i(m,Sa)})).orThunk((function(){return i(d,Sa)}))},_T=function(t,e,n){return function(t,e,n){var r=Nn(t),o=jn(r),i=Dn(o,e,n).filter((function(t){return Ln(r,t)})).getOr(r);return function(t,e,n,r){var o=function e(o,i){var u=ct(o.dom.childNodes,$((function(t){return Zr(t)&&t.classList.contains("mce-drag-container")})));return i.fold((function(){return kT(u,n,r)}),(function(t){var e=ct(u,(function(e){return e!==t.dom}));return kT(e,n,r)})).orThunk((function(){return(Pn(o,t)?J.none():Hn(o)).bind((function(t){return e(t,J.some(o))}))}))};return o(e,J.none())}(r,i,e,n)}(t,e,n).filter((function(t){return Nf(t.node)})).map((function(t){return function(t,e){return{node:t.node,position:xT(t,e)<wT(t,e)?RE.Before:RE.After}}(t,e)}))},ET=function(t){var e,n,r=t.getBoundingClientRect(),o=t.ownerDocument,i=o.documentElement,u=o.defaultView;return{top:r.top+(null!==(e=null==u?void 0:u.scrollY)&&void 0!==e?e:0)-i.clientTop,left:r.left+(null!==(n=null==u?void 0:u.scrollX)&&void 0!==n?n:0)-i.clientLeft}},OT=function(t){return{target:t,srcElement:t}},TT=function(t){return function(e,n){return function(t,e,n){return s(s({},e),{},{dataTransfer:null,type:t},n)}(t,e,OT(n))}},AT=TT("dragstart"),RT=TT("drop"),NT=function(t){return function(t,e){var n=q("Function not supported on simulated event.");return s({bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,srcElement:null,target:null,timeStamp:0,type:"dragend",composedPath:n,initEvent:n,preventDefault:F,stopImmediatePropagation:F,stopPropagation:F,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:n,initMouseEvent:n,getModifierState:n,dataTransfer:null},e)}(0,OT(t))},DT=TT("dragend"),BT=bo,MT=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){for(var n=0;n<e.length;n++)if(e[n](t))return!0;return!1}}(BT,ho),IT=function(t,e,n,r){var o=t.dom,i=e.cloneNode(!0);o.setStyles(i,{width:n,height:r}),o.setAttrib(i,"data-mce-selected",null);var u=o.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return o.setStyles(u,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:r}),o.setStyles(i,{margin:0,boxSizing:"border-box"}),u.appendChild(i),u},PT=function(t,e){return function(n){return function(){var r,o="left"===t?n.scrollX:n.scrollY;n.scroll((r={},i(r,t,o+e),i(r,"behavior","smooth"),r))}}},LT=PT("left",-32),FT=PT("left",32),jT=PT("top",-32),zT=PT("top",32),UT=function(t){t&&t.parentNode&&t.parentNode.removeChild(t)},HT=function(t,e){var n=Ju((function(t,n){return function(t,e,n){t._selectionOverrides.hideFakeCaret(),_T(t.getBody(),e,n).fold((function(){return t.selection.placeCaretAt(e,n)}),(function(r){var o=t._selectionOverrides.showCaret(1,r.node,r.position===RE.Before,!1);o?t.selection.setRng(o):t.selection.placeCaretAt(e,n)}))}(e,t,n)}),0);e.on("remove",n.cancel);var r=t;return function(o){return t.on((function(t){var i,u,a=Math.max(Math.abs(o.screenX-t.screenX),Math.abs(o.screenY-t.screenY));if(!t.dragging&&a>10){if(e.dispatch("dragstart",AT(o,t.element)).isDefaultPrevented())return;t.dragging=!0,e.focus()}if(t.dragging){var c=o.currentTarget===e.getDoc().documentElement,s=function(t,e){return{pageX:e.pageX-t.relX,pageY:e.pageY+5}}(t,function(t,e){return n=function(t){return t.inline?ET(t.getBody()):{left:0,top:0}}(t),r=function(t){var e=t.getBody();return t.inline?{left:e.scrollLeft,top:e.scrollTop}:{left:0,top:0}}(t),o=function(t,e){if(e.target.ownerDocument!==t.getDoc()){var n=ET(t.getContentAreaContainer()),r=function(t){var e=t.getBody(),n=t.getDoc().documentElement,r={left:e.scrollLeft,top:e.scrollTop},o={left:e.scrollLeft||n.scrollLeft,top:e.scrollTop||n.scrollTop};return t.inline?r:o}(t);return{left:e.pageX-n.left+r.left,top:e.pageY-n.top+r.top}}return{left:e.pageX,top:e.pageY}}(t,e),{pageX:o.left-n.left+r.left,pageY:o.top-n.top+r.top};var n,r,o}(e,o));i=t.ghost,u=e.getBody(),i.parentNode!==u&&u.appendChild(i),function(t,e,n,r,o,i,u,a,c,s,f,l){var d=0,m=0;t.style.left=e.pageX+"px",t.style.top=e.pageY+"px",e.pageX+n>o&&(d=e.pageX+n-o),e.pageY+r>i&&(m=e.pageY+r-i),t.style.width=n-d+"px",t.style.height=r-m+"px";var p=c.clientHeight,g=c.clientWidth,v=u+c.getBoundingClientRect().top,h=a+c.getBoundingClientRect().left;f.on((function(t){t.intervalId.clear(),t.dragging&&l&&(u+8>=p?t.intervalId.set(zT(s)):u-8<=0?t.intervalId.set(jT(s)):a+8>=g?t.intervalId.set(FT(s)):a-8<=0?t.intervalId.set(LT(s)):v+16>=window.innerHeight?t.intervalId.set(zT(window)):v-16<=0?t.intervalId.set(jT(window)):h+16>=window.innerWidth?t.intervalId.set(FT(window)):h-16<=0&&t.intervalId.set(LT(window)))}))}(t.ghost,s,t.width,t.height,t.maxX,t.maxY,o.clientY,o.clientX,e.getContentAreaContainer(),e.getWin(),r,c),n.throttle(o.clientX,o.clientY)}}))}},VT=function(t,e,n){t.on((function(t){if(t.intervalId.clear(),t.dragging){var r=n.fold((function(){return NT(t.element)}),(function(e){return DT(e,t.element)}));e.dispatch("dragend",r)}})),WT(t)},WT=function(t){t.on((function(t){t.intervalId.clear(),UT(t.ghost)})),t.clear()},$T=function(t){var e=Xu(),n=zu.DOM,r=document,o=function(t,e){return function(n){if(function(t){return 0===t.button}(n)){var r=dt(e.dom.getParents(n.target),MT).getOr(null);if(M(r)&&function(t,e,n){return BT(n)&&n!==e&&t.isEditable(n.parentElement)}(e.dom,e.getBody(),r)){var o=e.dom.getPos(r),i=e.getBody(),u=e.getDoc().documentElement;t.set({element:r,dragging:!1,screenX:n.screenX,screenY:n.screenY,maxX:(e.inline?i.scrollWidth:u.offsetWidth)-2,maxY:(e.inline?i.scrollHeight:u.offsetHeight)-2,relX:n.pageX-o.x,relY:n.pageY-o.y,width:r.offsetWidth,height:r.offsetHeight,ghost:IT(e,r,r.offsetWidth,r.offsetHeight),intervalId:Yu(100)})}}}}(e,t),i=HT(e,t),u=function(t,e){return function(n){t.on((function(t){var r;if(t.intervalId.clear(),t.dragging){if(function(t,e,n){return!B(e)&&e!==n&&!t.dom.isChildOf(e,n)&&t.dom.isEditable(e)}(e,function(t){var e=t.getSel();if(M(e)){var n=e.getRangeAt(0).startContainer;return co(n)?n.parentNode:n}return null}(e.selection),t.element)){var o=function(t){var e=t.cloneNode(!0);return e.removeAttribute("data-mce-selected"),e}(t.element),i=null!==(r=e.getDoc().elementFromPoint(n.clientX,n.clientY))&&void 0!==r?r:e.getBody();e.dispatch("drop",RT(n,i)).isDefaultPrevented()||e.undoManager.transact((function(){(function(t,e){var n=t.getParent(e.parentNode,t.isBlock);UT(e),n&&n!==t.getRoot()&&t.isEmpty(n)&&Vo(Nn(n))})(e.dom,t.element),e.insertContent(e.dom.getOuterHTML(o)),e._selectionOverrides.hideFakeCaret()}))}e.dispatch("dragend",DT(n,e.getBody()))}})),WT(t)}}(e,t),a=function(t,e){return function(n){return VT(t,e,J.some(n))}}(e,t);t.on("mousedown",o),t.on("mousemove",i),t.on("mouseup",u),n.bind(r,"mousemove",i),n.bind(r,"mouseup",a),t.on("remove",(function(){n.unbind(r,"mousemove",i),n.unbind(r,"mouseup",a)})),t.on("keydown",(function(n){n.keyCode===im.ESC&&VT(e,t,J.none())}))},qT=bo,GT=function(t,e){return Wv(t.getBody(),e)},KT=function(t){var e,n=t.selection,r=t.dom,o=t.getBody(),i=Tf(t,o,r.isBlock,(function(){return Ep(t)})),u="sel-"+r.uniqueId(),a="data-mce-selected",c=function(t){return t!==o&&(qT(t)||wo(t))&&r.isChildOf(t,o)&&r.isEditable(t.parentNode)},s=function(e,r,o){var u=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return t.dispatch("ShowCaret",{target:r,direction:e,before:o}).isDefaultPrevented()?null:(u&&n.scrollIntoView(r,-1===e),i.show(o,r))},f=function(t){return Qo(t)||ni(t)||ri(t)},l=function(t){return f(t.startContainer)||f(t.endContainer)},d=function(e){var n=t.schema.getVoidElements(),o=r.createRng(),i=e.startContainer,u=e.startOffset,a=e.endContainer,c=e.endOffset;return Lt(n,i.nodeName.toLowerCase())?0===u?o.setStartBefore(i):o.setStartAfter(i):o.setStart(i,u),Lt(n,a.nodeName.toLowerCase())?0===c?o.setEndBefore(a):o.setEndAfter(a):o.setEnd(a,c),o},m=function(i,f){if(!i)return null;if(i.collapsed){if(!l(i)){var d=f?1:-1,m=el(d,o,i),p=m.getNode(!f);if(M(p)){if(Nf(p))return s(d,p,!!f&&!m.isAtEnd(),!1);if(Jo(p)&&bo(p.nextSibling)){var v=r.createRng();return v.setStart(p,0),v.setEnd(p,0),v}}var h=m.getNode(f);if(M(h)){if(Nf(h))return s(d,h,!f&&!m.isAtEnd(),!1);if(Jo(h)&&bo(h.previousSibling)){var b=r.createRng();return b.setStart(h,1),b.setEnd(h,1),b}}}return null}var y=i.startContainer,x=i.startOffset,w=i.endOffset;if(co(y)&&0===x&&qT(y.parentNode)&&(y=y.parentNode,x=r.nodeIndex(y),y=y.parentNode),!Zr(y))return null;if(w===x+1&&y===i.endContainer){var C=y.childNodes[x];if(c(C))return function(o){var i=o.cloneNode(!0),c=t.dispatch("ObjectSelected",{target:o,targetClone:i});if(c.isDefaultPrevented())return null;var s=function(e,o){var i=Nn(t.getBody()),a=t.getDoc(),c=dr(i,"#"+u).getOrThunk((function(){var t=Tn('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',a);return ln(t,"id",u),Tr(i,t),t})),s=r.createRng();Nr(c),Rr(c,[Rn(ko,a),Nn(o),Rn(ko,a)]),s.setStart(c.dom.firstChild,1),s.setEnd(c.dom.lastChild,0),yr(c,{top:r.getPos(e,t.getBody()).y+"px"}),ip(c);var f=n.getSel();return f&&(f.removeAllRanges(),f.addRange(s)),s}(o,c.targetClone),f=Nn(o);return it(Kr(Nn(t.getBody()),"*[data-mce-selected]"),(function(t){Pn(f,t)||vn(t,a)})),r.getAttrib(o,a)||o.setAttribute(a,"1"),e=o,g(),s}(C)}return null},p=function(){e&&e.removeAttribute(a),dr(Nn(t.getBody()),"#"+u).each(Dr),e=null},g=function(){i.hide()};return Ix(t)||(t.on("click",(function(e){r.isEditable(e.target)||(e.preventDefault(),t.focus())})),t.on("blur NewBlock",p),t.on("ResizeWindow FullscreenStateChanged",i.reposition),t.on("tap",(function(e){var n=e.target,r=GT(t,n);qT(r)?(e.preventDefault(),fC(t,r).each(m)):c(n)&&fC(t,n).each(m)}),!0),t.on("mousedown",(function(e){var i=e.target;if((i===o||"HTML"===i.nodeName||r.isChildOf(i,o))&&function(t,e,n){var r=Nn(t.getBody()),o=t.inline?r:Nn(jn(r).dom.documentElement),i=function(t,e,n,r){var o=function(t){return t.dom.getBoundingClientRect()}(e);return{x:n-(t?o.left+e.dom.clientLeft+pw(e):0),y:r-(t?o.top+e.dom.clientTop+mw(e):0)}}(t.inline,o,e,n);return function(t,e,n){var r=lw(t),o=dw(t);return e>=0&&n>=0&&e<=r&&n<=o}(o,i.x,i.y)}(t,e.clientX,e.clientY)){p(),g();var u=GT(t,i);qT(u)?(e.preventDefault(),fC(t,u).each(m)):_T(o,e.clientX,e.clientY).each((function(r){var o;e.preventDefault(),(o=s(1,r.node,r.position===RE.Before,!1))&&n.setRng(o),Zr(u)?u.focus():t.getBody().focus()}))}})),t.on("keypress",(function(t){im.modifierPressed(t)||qT(n.getNode())&&t.preventDefault()})),t.on("GetSelectionRange",(function(t){var n=t.range;if(e){if(!e.parentNode)return void(e=null);n=n.cloneRange(),n.selectNode(e),t.range=n}})),t.on("SetSelectionRange",(function(t){t.range=d(t.range);var e=m(t.range,t.forward);e&&(t.range=e)})),t.on("AfterSetSelectionRange",(function(t){var e,n=t.range,o=n.startContainer.parentElement;l(n)||Zr(e=o)&&"mcepastebin"===e.id||g(),function(t){return M(t)&&r.hasClass(t,"mce-offscreen-selection")}(o)||p()})),function(t){$T(t),Ls(t)&&function(t){var e=function(e){if(!e.isDefaultPrevented()){var n=e.dataTransfer;n&&(nt(n.types,"Files")||n.files.length>0)&&(e.preventDefault(),"drop"===e.type&&xw(t,"Dropped file type is not supported"))}},n=function(n){xp(t,n.target)&&e(n)},r=function(){var r=zu.DOM,o=t.dom,i=document,u=t.inline?t.getBody():t.getDoc(),a=["drop","dragover"];it(a,(function(t){r.bind(i,t,n),o.bind(u,t,e)})),t.on("remove",(function(){it(a,(function(t){r.unbind(i,t,n),o.unbind(u,t,e)}))}))};t.on("init",(function(){hp.setEditorTimeout(t,r,0)}))}(t)}(t),function(t){var e=Ju((function(){if(!t.removed&&t.getBody().contains(document.activeElement)){var e=t.selection.getRng();if(e.collapsed){var n=lC(t,e,!1);t.selection.setRng(n)}}}),0);t.on("focus",(function(){e.throttle()})),t.on("blur",(function(){e.cancel()}))}(t),function(t){t.on("init",(function(){t.on("focusin",(function(e){var n=e.target;if(wo(n)){var r=Wv(t.getBody(),n),o=bo(r)?r:n;t.selection.getNode()!==o&&fC(t,o).each((function(e){return t.selection.setRng(e)}))}}))}))}(t)),{showCaret:s,showBlockCaretContainer:function(t){t.hasAttribute("data-mce-caret")&&(oi(t),n.scrollIntoView(t))},hideFakeCaret:g,destroy:function(){i.destroy(),e=null}}},YT=function(t,e){for(var n=e,r=t.previousSibling;co(r);r=r.previousSibling)n+=r.data.length;return n},XT=function(t,e,n,r,o){if(co(n)&&(r<0||r>n.data.length))return[];for(var i=o&&co(n)?[YT(n,r)]:[r],u=n;u!==e&&u.parentNode;)i.push(t.nodeIndex(u,o)),u=u.parentNode;return u===e?i.reverse():[]},JT=function(t,e,n,r,o,i){var u=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return{start:XT(t,e,n,r,u),end:XT(t,e,o,i,u)}},QT=function(t,e){var n=e.slice(),r=n.pop();return P(r)?ft(n,(function(t,e){return t.bind((function(t){return J.from(t.childNodes[e])}))}),J.some(t)).bind((function(t){return co(t)&&(r<0||r>t.data.length)?J.none():J.some({node:t,offset:r})})):J.none()},ZT=function(t,e){return QT(t,e.start).bind((function(n){var r=n.node,o=n.offset;return QT(t,e.end).map((function(t){var e=t.node,n=t.offset,i=document.createRange();return i.setStart(r,o),i.setEnd(e,n),i}))}))},tA=function t(e,n,r){if(n&&e.isEmpty(n)&&!r(n)){var o=n.parentNode;e.remove(n),t(e,o,r)}},eA=function(t,e,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=e.startContainer.parentNode,i=e.endContainer.parentNode;e.deleteContents(),r&&!n(e.startContainer)&&(co(e.startContainer)&&0===e.startContainer.data.length&&t.remove(e.startContainer),co(e.endContainer)&&0===e.endContainer.data.length&&t.remove(e.endContainer),tA(t,o,n),o!==i&&tA(t,i,n))},nA=function(t,e){return J.from(t.dom.getParent(e.startContainer,t.dom.isBlock))},rA=function(t,e,n){var r=t.dynamicPatternsLookup({text:n,block:e});return s(s({},t),{},{blockPatterns:wc(r).concat(t.blockPatterns),inlinePatterns:Cc(r).concat(t.inlinePatterns)})},oA=function(t,e,n,r){var o=t.createRng();return o.setStart(e,0),o.setEnd(n,r),o.toString()},iA=function(t,e,n){(function(t,e,n){if(co(t)&&0>=t.length)return J.some(f_(t,0));var r=va(l_);return J.from(r.forwards(t,0,d_(t),n)).map((function(t){return f_(t.container,0)}))})(e,0,e).each((function(r){var o=r.container;g_(o,n.start.length,e).each((function(n){var r=t.createRng();r.setStart(o,0),r.setEnd(n.container,n.offset),eA(t,r,(function(t){return t===e}))}));var i=Nn(o),u=Oo(i);/^\s[^\s]/.test(u)&&function(t,e){Eo.set(t,e)}(i,u.slice(1))}))},uA=function(t,e){return t.create("span",{"data-mce-type":"bookmark",id:e})},aA=function(t,e){var n=t.createRng();return n.setStartAfter(e.start),n.setEndBefore(e.end),n},cA=function(t,e,n){var r=ZT(t.getRoot(),n).getOrDie("Unable to resolve path range"),o=r.startContainer,i=r.endContainer,u=0===r.endOffset?i:i.splitText(r.endOffset),a=0===r.startOffset?o:o.splitText(r.startOffset),c=a.parentNode;return{prefix:e,end:u.parentNode.insertBefore(uA(t,e+"-end"),u),start:c.insertBefore(uA(t,e+"-start"),a)}},sA=function(t,e,n){tA(t,t.get(e.prefix+"-end"),n),tA(t,t.get(e.prefix+"-start"),n)},fA=function(t){return 0===t.start.length},lA=function t(e,n,r,o){var i,u=n.start;return v_(e,o.container,o.offset,(i=u,function(t,e){var n=t.data.substring(0,e),r=n.lastIndexOf(i.charAt(i.length-1)),o=n.lastIndexOf(i);return-1!==o?o+i.length:-1!==r?r+1:-1}),r).bind((function(o){var i,a,c=null!==(a=null===(i=r.textContent)||void 0===i?void 0:i.indexOf(u))&&void 0!==a?a:-1;if(-1!==c&&o.offset>=c+u.length){var s=e.createRng();return s.setStart(o.container,o.offset-u.length),s.setEnd(o.container,o.offset),J.some(s)}var f=o.offset-u.length;return p_(o.container,f,r).map((function(t){var n=e.createRng();return n.setStart(t.container,t.offset),n.setEnd(o.container,o.offset),n})).filter((function(t){return t.toString()===u})).orThunk((function(){return t(e,n,r,f_(o.container,0))}))}))},dA=function(t,e,n,r){var o=t.dom,i=o.getRoot(),u=n.pattern,a=n.position.container,c=n.position.offset;return p_(a,c-n.pattern.end.length,e).bind((function(s){var f=JT(o,i,s.container,s.offset,a,c,r);if(fA(u))return J.some({matches:[{pattern:u,startRng:f,endRng:f}],position:s});var l=mA(t,n.remainingPatterns,s.container,s.offset,e,r),d=l.getOr({matches:[],position:s}),m=d.position,p=function(t,e,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(0===e.start.length&&!i){var u=t.createRng();return u.setStart(n,r),u.setEnd(n,r),J.some(u)}return m_(n,r,o).bind((function(n){return lA(t,e,o,n).bind((function(t){var e;if(i){if(t.endContainer===n.container&&t.endOffset===n.offset)return J.none();if(0===n.offset&&(null===(e=t.endContainer.textContent)||void 0===e?void 0:e.length)===t.endOffset)return J.none()}return J.some(t)}))}))}(o,u,m.container,m.offset,e,l.isNone());return p.map((function(t){var e=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return JT(t,e,n.startContainer,n.startOffset,n.endContainer,n.endOffset,r)}(o,i,t,r);return{matches:d.matches.concat([{pattern:u,startRng:e,endRng:f}]),position:f_(t.startContainer,t.startOffset)}}))}))},mA=function t(e,n,r,o,i,u){var a=e.dom;return m_(r,o,a.getRoot()).bind((function(c){for(var s=oA(a,i,r,o),f=0;f<n.length;f++){var l=n[f];if(re(s,l.end)){var d=n.slice();d.splice(f,1);var m=dA(e,i,{pattern:l,remainingPatterns:d,position:c},u);if(m.isNone()&&o>0)return t(e,n,r,o-1,i,u);if(m.isSome())return m}}return J.none()}))},pA=function(t,e,n){t.selection.setRng(n),"inline-format"===e.type?it(e.format,(function(e){t.formatter.apply(e)})):t.execCommand(e.cmd,!1,e.value)},gA=function(t,e,n,r,o,i){var u;return function(t,e){var n=vt(t,(function(t){return rt(e,(function(e){return t.pattern.start===e.pattern.start&&t.pattern.end===e.pattern.end}))}));return t.length===e.length?n?t:e:t.length>e.length?t:e}(mA(t,o.inlinePatterns,n,r,e,i).fold((function(){return[]}),(function(t){return t.matches})),mA(t,(u=o.inlinePatterns,xt(u,(function(t,e){return e.end.length-t.end.length}))),n,r,e,i).fold((function(){return[]}),(function(t){return t.matches})))},vA=function(t,e){if(0!==e.length){var n=t.dom,r=t.selection.getBookmark(),o=function(t,e){var n=la("mce_textpattern"),r=st(e,(function(e,r){var o=cA(t,n+"_end".concat(e.length),r.endRng);return e.concat([s(s({},r),{},{endMarker:o})])}),[]);return st(r,(function(e,o){var i=r.length-e.length-1,u=fA(o.pattern)?o.endMarker:cA(t,n+"_start".concat(i),o.startRng);return e.concat([s(s({},o),{},{startMarker:u})])}),[])}(n,e);it(o,(function(e){var r=n.getParent(e.startMarker.start,n.isBlock),o=function(t){return t===r};fA(e.pattern)?function(t,e,n,r){var o=aA(t.dom,n);eA(t.dom,o,r),pA(t,e,o)}(t,e.pattern,e.endMarker,o):function(t,e,n,r,o){var i=t.dom,u=aA(i,r),a=aA(i,n);eA(i,a,o),eA(i,u,o);var c={prefix:n.prefix,start:n.end,end:r.start},s=aA(i,c);pA(t,e,s)}(t,e.pattern,e.startMarker,e.endMarker,o),sA(n,e.endMarker,o),sA(n,e.startMarker,o)})),t.selection.moveToBookmark(r)}},hA=function(t,e){var n=t.selection.getRng();return nA(t,n).map((function(r){var o,i=Math.max(0,n.startOffset),u=rA(e,r,null!==(o=r.textContent)&&void 0!==o?o:""),a=gA(t,r,n.startContainer,i,u,!0),c=function(t,e,n,r){var o,i=t.dom,u=Fc(t);if(!i.is(e,u))return[];var a=null!==(o=e.textContent)&&void 0!==o?o:"";return function(t,e){var n=function(t){return xt(t,(function(t,e){return e.start.length-t.start.length}))}(t),r=e.replace(ko," ");return dt(n,(function(t){return 0===e.indexOf(t.start)||0===r.indexOf(t.start)}))}(n.blockPatterns,a).map((function(t){return Ge.trim(a).length===t.start.length?[]:[{pattern:t,range:JT(i,i.getRoot(),e,0,e,0,!0)}]})).getOr([])}(t,r,u);return(c.length>0||a.length>0)&&(t.undoManager.add(),t.undoManager.extra((function(){t.execCommand("mceInsertNewLine")}),(function(){t.insertContent(So),vA(t,a),function(t,e){if(0!==e.length){var n=t.selection.getBookmark();it(e,(function(e){return function(t,e){var n=t.dom,r=e.pattern,o=ZT(n.getRoot(),e.range).getOrDie("Unable to resolve path range");return nA(t,o).each((function(e){"block-format"===r.type?function(t,e){var n=e.get(t);return A(n)&&Ct(n).exists((function(t){return Lt(t,"block")}))}(r.format,t.formatter)&&t.undoManager.transact((function(){iA(t.dom,e,r),t.formatter.apply(r.format)})):"block-command"===r.type&&t.undoManager.transact((function(){iA(t.dom,e,r),t.execCommand(r.cmd,!1,r.value)}))})),!0}(t,e)})),t.selection.moveToBookmark(n)}}(t,c);var e=t.selection.getRng(),n=m_(e.startContainer,e.startOffset,t.dom.getRoot());t.execCommand("mceInsertNewLine"),n.each((function(e){var n=e.container;n.data.charAt(e.offset-1)===So&&(n.deleteData(e.offset-1,1),tA(t.dom,n.parentNode,(function(e){return e===t.dom.getRoot()})))}))})),!0)})).getOr(!1)},bA=function(t,e,n){for(var r=0;r<t.length;r++)if(n(t[r],e))return!0;return!1},yA=function(t){var e=Ge.each,n=im.BACKSPACE,r=im.DELETE,o=t.dom,i=t.selection,u=t.parser,a=Ve.browser,c=a.isFirefox(),s=a.isChromium()||a.isSafari(),f=Ve.deviceType.isiPhone()||Ve.deviceType.isiPad(),l=Ve.os.isMacOS()||Ve.os.isiOS(),d=function(e,n){try{t.getDoc().execCommand(e,!1,String(n))}catch(t){}},m=function(t){return t.isDefaultPrevented()},p=function(){t.shortcuts.add("meta+a",null,"SelectAll")},g=function(){t.inline||o.bind(t.getDoc(),"mousedown mouseup",(function(e){var n;if(e.target===t.getDoc().documentElement)if(n=i.getRng(),t.getBody().focus(),"mousedown"===e.type){if(Qo(n.startContainer))return;i.placeCaretAt(e.clientX,e.clientY)}else i.setRng(n)}))},v=function(){Range.prototype.getClientRects||t.on("mousedown",(function(e){if(!m(e)&&"HTML"===e.target.nodeName){var n=t.getBody();n.blur(),hp.setEditorTimeout(t,(function(){n.focus()}))}}))},h=function(){var e=zs(t);t.on("click",(function(n){var r=n.target;/^(IMG|HR)$/.test(r.nodeName)&&o.isEditable(r.parentNode)&&(n.preventDefault(),t.selection.select(r),t.nodeChanged()),"A"===r.nodeName&&o.hasClass(r,e)&&0===r.childNodes.length&&o.isEditable(r.parentNode)&&(n.preventDefault(),i.select(r))}))},b=function(){t.on("keydown",(function(t){if(!m(t)&&t.keyCode===n&&i.isCollapsed()&&0===i.getRng().startOffset){var e=i.getNode().previousSibling;if(e&&e.nodeName&&"table"===e.nodeName.toLowerCase())return t.preventDefault(),!1}return!0}))},y=function(){Bs(t)||t.on("BeforeExecCommand mousedown",(function(){d("StyleWithCSS",!1),d("enableInlineTableEditing",!1),ls(t)||d("enableObjectResizing",!1)}))},x=function(){t.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},w=function(){t.inline||t.on("keydown",(function(){document.activeElement===document.body&&t.getWin().focus()}))},C=function(){t.inline||(t.contentStyles.push("body {min-height: 150px}"),t.on("click",(function(e){var n;"HTML"===e.target.nodeName&&(n=t.selection.getRng(),t.getBody().focus(),t.selection.setRng(n),t.selection.normalize(),t.nodeChanged())})))},S=function(){l&&t.on("keydown",(function(e){!im.metaKeyPressed(e)||e.shiftKey||37!==e.keyCode&&39!==e.keyCode||(e.preventDefault(),t.selection.getSel().modify("move",37===e.keyCode?"backward":"forward","lineboundary"))}))},k=function(){t.on("click",(function(t){var e=t.target;do{if("A"===e.tagName)return void t.preventDefault()}while(e=e.parentNode)})),t.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},_=function(){t.on("init",(function(){t.dom.bind(t.getBody(),"submit",(function(t){t.preventDefault()}))}))},E=F;return Ix(t)?(s&&(g(),h(),_(),p(),f&&(w(),C(),k())),c&&(v(),y(),x(),S())):(t.on("keydown",(function(e){if(!m(e)&&e.keyCode===im.BACKSPACE){var n=i.getRng(),r=n.startContainer,u=n.startOffset,a=o.getRoot(),c=r;if(n.collapsed&&0===u){for(;c.parentNode&&c.parentNode.firstChild===c&&c.parentNode!==a;)c=c.parentNode;"BLOCKQUOTE"===c.nodeName&&(t.formatter.toggle("blockquote",void 0,c),n=o.createRng(),n.setStart(r,0),n.setEnd(r,0),i.setRng(n))}}})),function(){var e=function(t){var e=o.create("body"),n=t.cloneContents();return e.appendChild(n),i.serializer.serialize(e,{format:"html"})};t.on("keydown",(function(i){var u=i.keyCode;if(!m(i)&&(u===r||u===n)&&t.selection.isEditable()){var a=t.selection.isCollapsed(),c=t.getBody();if(a&&!o.isEmpty(c))return;if(!a&&!function(n){var r=e(n),i=o.createRng();return i.selectNode(t.getBody()),r===e(i)}(t.selection.getRng()))return;i.preventDefault(),t.setContent(""),c.firstChild&&o.isBlock(c.firstChild)?t.selection.setCursorLocation(c.firstChild,0):t.selection.setCursorLocation(c,0),t.nodeChanged()}}))}(),Ve.windowsPhone||t.on("keyup focusin mouseup",(function(e){im.modifierPressed(e)||function(t){var e=t.getBody(),n=t.selection.getRng();return n.startContainer===n.endContainer&&n.startContainer===e&&0===n.startOffset&&n.endOffset===e.childNodes.length}(t)||i.normalize()}),!0),s&&(g(),h(),t.on("init",(function(){d("DefaultParagraphSeparator",Fc(t))})),_(),b(),u.addNodeFilter("br",(function(t){for(var e=t.length;e--;)"Apple-interchange-newline"===t[e].attr("class")&&t[e].remove()})),f?(w(),C(),k()):p()),c&&(t.on("keydown",(function(e){if(!m(e)&&e.keyCode===n){if(!t.getBody().getElementsByTagName("hr").length)return;if(i.isCollapsed()&&0===i.getRng().startOffset){var r=i.getNode(),u=r.previousSibling;if("HR"===r.nodeName)return o.remove(r),void e.preventDefault();u&&u.nodeName&&"hr"===u.nodeName.toLowerCase()&&(o.remove(u),e.preventDefault())}}})),v(),function(){var n=function(){var n=o.getAttribs(i.getStart().cloneNode(!1));return function(){var r=i.getStart();r!==t.getBody()&&(o.setAttrib(r,"style",null),e(n,(function(t){r.setAttributeNode(t.cloneNode(!0))})))}},r=function(){return!i.isCollapsed()&&o.getParent(i.getStart(),o.isBlock)!==o.getParent(i.getEnd(),o.isBlock)};t.on("keypress",(function(e){var o;return!(!(m(e)||8!==e.keyCode&&46!==e.keyCode)&&r()&&(o=n(),t.getDoc().execCommand("delete",!1),o(),e.preventDefault(),1))})),o.bind(t.getDoc(),"cut",(function(e){if(!m(e)&&r()){var o=n();hp.setEditorTimeout(t,(function(){o()}))}}))}(),y(),t.on("SetContent ExecCommand",(function(t){"setcontent"!==t.type&&"mceInsertLink"!==t.command||e(o.select("a:not([data-mce-block])"),(function(t){var e,n=t.parentNode,r=o.getRoot();if((null==n?void 0:n.lastChild)===t){for(;n&&!o.isBlock(n);){if((null===(e=n.parentNode)||void 0===e?void 0:e.lastChild)!==n||n===r)return;n=n.parentNode}o.add(n,"br",{"data-mce-bogus":1})}}))})),x(),S(),b())),{refreshContentEditable:E,isHidden:function(){if(!c||t.removed)return!1;var e=t.selection.getSel();return!e||!e.rangeCount||0===e.rangeCount}}},xA=zu.DOM,wA=function(t){return t.inline?t.getElement().nodeName.toLowerCase():void 0},CA=function(t){return Bt(t,(function(t){return!1===D(t)}))},SA=function(t){var e=t.options.get,n=t.editorUpload.blobCache;return CA({allow_conditional_comments:e("allow_conditional_comments"),allow_html_data_urls:e("allow_html_data_urls"),allow_svg_data_urls:e("allow_svg_data_urls"),allow_html_in_named_anchor:e("allow_html_in_named_anchor"),allow_script_urls:e("allow_script_urls"),allow_unsafe_link_target:e("allow_unsafe_link_target"),convert_fonts_to_spans:e("convert_fonts_to_spans"),fix_list_elements:e("fix_list_elements"),font_size_legacy_values:e("font_size_legacy_values"),forced_root_block:e("forced_root_block"),forced_root_block_attrs:e("forced_root_block_attrs"),preserve_cdata:e("preserve_cdata"),remove_trailing_brs:e("remove_trailing_brs"),inline_styles:e("inline_styles"),root_name:wA(t),sanitize:e("xss_sanitization"),validate:!0,blob_cache:n,document:t.getDoc()})},kA=function(t){var e=t.options.get;return CA({custom_elements:e("custom_elements"),extended_valid_elements:e("extended_valid_elements"),invalid_elements:e("invalid_elements"),invalid_styles:e("invalid_styles"),schema:e("schema"),valid_children:e("valid_children"),valid_classes:e("valid_classes"),valid_elements:e("valid_elements"),valid_styles:e("valid_styles"),verify_html:e("verify_html"),padd_empty_block_inline_children:e("format_empty_lines")})},_A=function(t){return t.inline?t.ui.styleSheetLoader:t.dom.styleSheetLoader},EA=function(t){var e=_A(t),n=cs(t),r=t.contentCSS,o=function(){e.unloadAll(r),t.inline||t.ui.styleSheetLoader.unloadAll(n)},i=function(){t.removed?o():t.on("remove",o)};if(t.contentStyles.length>0){var u="";Ge.each(t.contentStyles,(function(t){u+=t+"\r\n"})),t.dom.addStyle(u)}var a=Promise.all(function(t,e,n){var r=[_A(t).loadAll(e)];return t.inline?r:r.concat([t.ui.styleSheetLoader.loadAll(n)])}(t,r,n)).then(i).catch(i),c=as(t);return c&&function(t,e){var n=Nn(t.getBody()),r=rr(nr(n)),o=An("style");ln(o,"type","text/css"),Tr(o,Rn(e)),Tr(r,o),t.on("remove",(function(){Dr(o)}))}(t,c),a},OA=function(t){!0!==t.removed&&(function(t){Ix(t)||t.load({initial:!0,format:"html"}),t.startContent=t.getContent({format:"raw"})}(t),function(t){t.bindPendingEventDelegates(),t.initialized=!0,function(t){t.dispatch("Init")}(t),t.focus(!0),function(t){var e=t.dom.getRoot();t.inline||ud(t)&&t.selection.getStart(!0)!==e||_l(e).each((function(e){var n=e.getNode(),r=io(n)?_l(n).getOr(e):e;t.selection.setRng(r.toRange())}))}(t),t.nodeChanged({initial:!0});var e=Vs(t);I(e)&&e.call(t,t),function(t){var e=$s(t);e&&hp.setEditorTimeout(t,(function(){var n;n=!0===e?t:t.editorManager.get(e),n&&!n.destroyed&&(n.focus(),n.selection.scrollIntoView())}),100)}(t)}(t))},TA=function(t){var e=t.getElement(),n=t.getDoc();t.inline&&(xA.addClass(e,"mce-content-body"),t.contentDocument=n=document,t.contentWindow=window,t.bodyElement=e,t.contentAreaContainer=e);var r=t.getBody();r.disabled=!0,t.readonly=Bs(t),t.readonly||(t.inline&&"static"===xA.getStyle(r,"position",!0)&&(r.style.position="relative"),r.contentEditable="true"),r.disabled=!1,t.editorUpload=Nw(t),t.schema=xu(kA(t)),t.dom=zu(n,{keep_values:!0,url_converter:t.convertURL,url_converter_scope:t,update_styles:!0,root_element:t.inline?t.getBody():null,collect:t.inline,schema:t.schema,contentCssCors:ts(t),referrerPolicy:es(t),onSetAttrib:function(e){t.dispatch("SetAttrib",e)}}),t.parser=function(t){var e=nx(SA(t),t.schema);return e.addAttributeFilter("src,href,style,tabindex",(function(e,n){for(var r=t.dom,o="data-mce-"+n,i=e.length;i--;){var u=e[i],a=u.attr(n);if(a&&!u.attr(o)){if(0===a.indexOf("data:")||0===a.indexOf("blob:"))continue;"style"===n?(a=r.serializeStyle(r.parseStyle(a),u.name),a.length||(a=null),u.attr(o,a),u.attr(n,a)):"tabindex"===n?(u.attr(o,a),u.attr(n,null)):u.attr(o,t.convertURL(a,n,u.name))}}})),e.addNodeFilter("script",(function(t){for(var e=t.length;e--;){var n=t[e],r=n.attr("type")||"no/type";0!==r.indexOf("mce-")&&n.attr("type","mce-"+r)}})),lf(t)&&e.addNodeFilter("#cdata",(function(e){for(var n,r=e.length;r--;){var o=e[r];o.type=8,o.name="#comment",o.value="[CDATA["+t.dom.encode(null!==(n=o.value)&&void 0!==n?n:"")+"]]"}})),e.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",(function(e){for(var n=e.length,r=t.schema.getNonEmptyElements();n--;){var o=e[n];o.isEmpty(r)&&0===o.getAll("br").length&&o.append(new Hp("br",1))}})),e}(t),t.serializer=qx(function(t){var e=t.options.get;return s(s(s({},SA(t)),kA(t)),CA({url_converter:e("url_converter"),url_converter_scope:e("url_converter_scope"),element_format:e("element_format"),entities:e("entities"),entity_encoding:e("entity_encoding"),indent:e("indent"),indent_after:e("indent_after"),indent_before:e("indent_before")}))}(t),t),t.selection=Vx(t.dom,t.getWin(),t.serializer,t),t.annotator=Xd(t),t.formatter=Hw(t),t.undoManager=Ww(t),t._nodeChangeDispatcher=new AO(t),t._selectionOverrides=KT(t),function(t){var e=Xu(),n=Vu(!1),r=Qu((function(e){t.dispatch("longpress",s(s({},e),{},{type:"longpress"})),n.set(!0)}),400);t.on("touchstart",(function(t){pk(t).each((function(o){r.cancel();var i={x:o.clientX,y:o.clientY,target:t.target};r.throttle(t),n.set(!1),e.set(i)}))}),!0),t.on("touchmove",(function(o){r.cancel(),pk(o).each((function(r){e.on((function(o){(function(t,e){var n=Math.abs(t.clientX-e.x),r=Math.abs(t.clientY-e.y);return n>5||r>5})(r,o)&&(e.clear(),n.set(!1),t.dispatch("longpresscancel"))}))}))}),!0),t.on("touchend touchcancel",(function(o){r.cancel(),"touchcancel"!==o.type&&e.get().filter((function(t){return t.target.isEqualNode(o.target)})).each((function(){n.get()?o.preventDefault():t.dispatch("tap",s(s({},o),{},{type:"tap"}))}))}),!0)}(t),function(t){(function(t){t.on("click",(function(e){t.dom.getParent(e.target,"details")&&e.preventDefault()}))})(t),function(t){t.parser.addNodeFilter("details",(function(t){it(t,(function(t){t.attr("data-mce-open",t.attr("open")),t.attr("open","open")}))})),t.serializer.addNodeFilter("details",(function(t){it(t,(function(t){var e=t.attr("data-mce-open");t.attr("open",E(e)?e:null),t.attr("data-mce-open",null)}))}))}(t)}(t),function(t){var e="contenteditable",n=" "+Ge.trim(sf(t))+" ",r=" "+Ge.trim(cf(t))+" ",o=wk(n),i=wk(r),u=ff(t);u.length>0&&t.on("BeforeSetContent",(function(e){(function(t,e,n){var r=e.length,o=n.content;if("raw"!==n.format){for(;r--;)o=o.replace(e[r],Ck(t,o,cf(t)));n.content=o}})(t,u,e)})),t.parser.addAttributeFilter("class",(function(t){for(var n=t.length;n--;){var r=t[n];o(r)?r.attr(e,"true"):i(r)&&r.attr(e,"false")}})),t.serializer.addAttributeFilter(e,(function(t){for(var n=t.length;n--;){var r=t[n];(o(r)||i(r))&&(u.length>0&&r.attr("data-mce-content")?(r.name="#text",r.type=3,r.raw=!0,r.value=r.attr("data-mce-content")):r.attr(e,null))}}))}(t),Ix(t)||(function(t){t.on("mousedown",(function(e){e.detail>=3&&(e.preventDefault(),hT(t))}))}(t),function(t){(function(t){var e=[",",".",";",":","!","?"],n=[32],r=function(){return e=uf(t),n=af(t),{inlinePatterns:Cc(e),blockPatterns:wc(e),dynamicPatternsLookup:n};var e,n},o=function(){return function(t){return t.options.isSet("text_patterns_lookup")}(t)};t.on("keydown",(function(e){if(13===e.keyCode&&!im.modifierPressed(e)&&t.selection.isCollapsed()){var n=r();(n.inlinePatterns.length>0||n.blockPatterns.length>0||o())&&hA(t,n)&&e.preventDefault()}}),!0);var i=function(){if(t.selection.isCollapsed()){var e=r();(e.inlinePatterns.length>0||o())&&function(t,e){var n=t.selection.getRng();nA(t,n).map((function(r){var o=Math.max(0,n.startOffset-1),i=oA(t.dom,r,n.startContainer,o),u=rA(e,r,i),a=gA(t,r,n.startContainer,o,u,!1);a.length>0&&t.undoManager.transact((function(){vA(t,a)}))}))}(t,e)}};t.on("keyup",(function(t){bA(n,t,(function(t,e){return t===e.keyCode&&!im.modifierPressed(e)}))&&i()})),t.on("keypress",(function(n){bA(e,n,(function(t,e){return t.charCodeAt(0)===e.charCode}))&&hp.setEditorTimeout(t,i)}))})(t)}(t));var o=TO(t);mk(t,o),function(t){t.on("NodeChange",W(yk,t))}(t),function(t){var e,n=t.dom,r=Fc(t),o=null!==(e=ms(t))&&void 0!==e?e:"",i=function e(i,u){if(!function(t){if(Gw(t)){var e=t.keyCode;return!Kw(t)&&(im.metaKeyPressed(t)||t.altKey||e>=112&&e<=123||nt($w,e))}return!1}(i)){var a=t.getBody(),c=!function(t){return Gw(t)&&!(Kw(t)||"keyup"===t.type&&229===t.keyCode)}(i)&&function(t,e,n){if(_i(Nn(e),!1)){var r=e.firstElementChild;return!r||!t.getStyle(e.firstElementChild,"padding-left")&&!t.getStyle(e.firstElementChild,"padding-right")&&n===r.nodeName.toLowerCase()}return!1}(n,a,r);(""!==n.getAttrib(a,qw)!==c||u)&&(n.setAttrib(a,qw,c?o:null),n.setAttrib(a,"aria-placeholder",c?o:null),function(t,e){t.dispatch("PlaceholderToggle",{state:e})}(t,c),t.on(c?"keydown":"keyup",e),t.off(c?"keyup":"keydown",e))}};ce(o)&&t.on("init",(function(e){i(e,!0),t.on("change SetContent ExecCommand",i),t.on("paste",(function(e){return hp.setEditorTimeout(t,(function(){return i(e)}))}))}))}(t),fT(t);var i=function(t){var e=t;return function(t){return Pt(t.plugins,"rtc").bind((function(t){return J.from(t.setup)}))}(t).fold((function(){return e.rtcInstance=Mx(t),J.none()}),(function(t){return e.rtcInstance=function(){var t=U(null),e=U("");return{init:{bindEvents:F},undoManager:{beforeChange:F,add:t,undo:t,redo:t,clear:F,reset:F,hasUndo:Y,hasRedo:Y,transact:t,ignore:F,extra:F},formatter:{match:Y,matchAll:U([]),matchNode:U(void 0),canApply:Y,closest:e,apply:F,remove:F,toggle:F,formatChanged:U({unbind:F})},editor:{getContent:e,setContent:U({content:"",html:""}),insertContent:U(""),addVisual:F},selection:{getContent:e},autocompleter:{addDecoration:F,removeDecoration:F},raw:{getModel:U(J.none())}}}(),J.some((function(){return t().then((function(t){return e.rtcInstance=function(t){var e=function(t){return O(t)?t:{}},n=t.init,r=t.undoManager,o=t.formatter,i=t.editor,u=t.selection,a=t.autocompleter,c=t.raw;return{init:{bindEvents:n.bindEvents},undoManager:{beforeChange:r.beforeChange,add:r.add,undo:r.undo,redo:r.redo,clear:r.clear,reset:r.reset,hasUndo:r.hasUndo,hasRedo:r.hasRedo,transact:function(t,e,n){return r.transact(n)},ignore:function(t,e){return r.ignore(e)},extra:function(t,e,n,o){return r.extra(n,o)}},formatter:{match:function(t,n,r,i){return o.match(t,e(n),i)},matchAll:o.matchAll,matchNode:o.matchNode,canApply:function(t){return o.canApply(t)},closest:function(t){return o.closest(t)},apply:function(t,n,r){return o.apply(t,e(n))},remove:function(t,n,r,i){return o.remove(t,e(n))},toggle:function(t,n,r){return o.toggle(t,e(n))},formatChanged:function(t,e,n,r,i){return o.formatChanged(e,n,r,i)}},editor:{getContent:function(t){return i.getContent(t)},setContent:function(t,e){return{content:i.setContent(t,e),html:""}},insertContent:function(t,e){return i.insertContent(t),""},addVisual:i.addVisual},selection:{getContent:function(t,e){return u.getContent(e)}},autocompleter:{addDecoration:a.addDecoration,removeDecoration:a.removeDecoration},raw:{getModel:function(){return J.some(c.getRawModel())}}}}(t),t.rtc.isRemote}))}))}))}(t);(function(t){var e=t.getDoc(),n=t.getBody();(function(t){t.dispatch("PreInit")})(t),qs(t)||(e.body.spellcheck=!1,xA.setAttrib(n,"spellcheck","false")),t.quirks=yA(t),function(t){t.dispatch("PostRender")}(t);var r=ss(t);void 0!==r&&(n.dir=r);var o=Gs(t);o&&t.on("BeforeSetContent",(function(t){Ge.each(o,(function(e){t.content=t.content.replace(e,(function(t){return"\x3c!--mce:protected "+escape(t)+"--\x3e"}))}))})),t.on("SetContent",(function(){t.addVisual(t.getBody())})),t.on("compositionstart compositionend",(function(e){t.composing="compositionstart"===e.type}))})(t),i.fold((function(){EA(t).then((function(){return OA(t)}))}),(function(e){t.setProgressState(!0),EA(t).then((function(){e().then((function(e){t.setProgressState(!1),OA(t),Fx(t)}),(function(e){t.notificationManager.open({type:"error",text:String(e)}),OA(t),Fx(t)}))}))}))},AA=X,RA=zu.DOM,NA=zu.DOM,DA=function(t,e){return{editorContainer:t,iframeContainer:e,api:{}}},BA=function(t){var e=t.getElement();return t.inline?DA(null):function(t){var e=NA.create("div");return NA.insertAfter(e,t),DA(e,e)}(e)},MA=function(){var t=o(r().mark((function t(e){var n;return r().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.dispatch("ScriptsLoaded"),function(t){var e=Ge.trim(Kc(t)),n=t.ui.registry.getAll().icons,r=s(s({},aw.get("default").icons),aw.get(e).icons);Tt(r,(function(e,r){Lt(n,r)||t.ui.registry.addIcon(r,e)}))}(e),function(t){var e=vs(t);if(E(e)){var n=hw.get(e);t.theme=n(t,hw.urls[e])||{},I(t.theme.init)&&t.theme.init(t,hw.urls[e]||t.documentBaseUrl.replace(/\/$/,""))}else t.theme={}}(e),function(t){var e=bs(t),n=cw.get(e);t.model=n(t,cw.urls[e])}(e),function(t){var e=[];it(Is(t),(function(n){(function(t,e,n){var r=vw.get(n),o=vw.urls[n]||t.documentBaseUrl.replace(/\/$/,"");if(n=Ge.trim(n),r&&-1===Ge.inArray(e,n)){if(t.plugins[n])return;try{var i=r(t,o)||{};t.plugins[n]=i,I(i.init)&&(i.init(t,o),e.push(n))}catch(e){(function(t,e,n){var r=Gu.translate(["Failed to initialize plugin: {0}",e]);Zd(t,"PluginLoadError",{message:r}),Sw(r,n),xw(t,r)})(t,n,e)}}})(t,e,function(t){return t.replace(/^\-/,"")}(n))}))}(e),t.next=3,function(t){var e=t.getElement();return t.orgDisplay=e.style.display,E(vs(t))?function(t){var e=t.theme.renderUI;return e?e():BA(t)}(t):I(vs(t))?function(t){var e=t.getElement(),n=vs(t)(t,e);return n.editorContainer.nodeType&&(n.editorContainer.id=n.editorContainer.id||t.id+"_parent"),n.iframeContainer&&n.iframeContainer.nodeType&&(n.iframeContainer.id=n.iframeContainer.id||t.id+"_iframecontainer"),n.height=n.iframeHeight?n.iframeHeight:e.offsetHeight,n}(t):BA(t)}(e);case 3:n=t.sent,function(t,e){var n={show:J.from(e.show).getOr(F),hide:J.from(e.hide).getOr(F),isEnabled:J.from(e.isEnabled).getOr(X),setEnabled:function(n){t.mode.isReadOnly()||J.from(e.setEnabled).each((function(t){return t(n)}))}};t.ui=s(s({},t.ui),n)}(e,J.from(n.api).getOr({})),e.editorContainer=n.editorContainer,function(t){t.contentCSS=t.contentCSS.concat(function(t){return kw(t,us(t))}(t),function(t){return kw(t,cs(t))}(t))}(e),e.inline?TA(e):function(t,e){(function(t,e){var n=t.translate("Rich Text Area"),r=pn(Nn(t.getElement()),"tabindex").bind(fe),o=function(t,e,n,r){var o=An("iframe");return r.each((function(t){return ln(o,"tabindex",t)})),dn(o,n),dn(o,{id:t+"_ifr",frameBorder:"0",allowTransparency:"true",title:e}),Sn(o,"tox-edit-area__iframe"),o}(t.id,n,Nc(t),r).dom;o.onload=function(){o.onload=null,t.dispatch("load")},t.contentAreaContainer=e.iframeContainer,t.iframeElement=o,t.iframeHTML=function(t){var e=Dc(t)+"<html><head>";Bc(t)!==t.documentBaseUrl&&(e+='<base href="'+t.documentBaseURI.getURI()+'" />'),e+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';var n=Mc(t),r=Ic(t),o=t.translate(Us(t));return Pc(t)&&(e+='<meta http-equiv="Content-Security-Policy" content="'+Pc(t)+'" />'),e+='</head><body id="'.concat(n,'" class="mce-content-body ').concat(r,'" data-id="').concat(t.id,'" aria-label="').concat(o,'"><br></body></html>'),e}(t),RA.add(e.iframeContainer,o)})(t,e),e.editorContainer&&(e.editorContainer.style.display=t.orgDisplay,t.hidden=RA.isHidden(e.editorContainer)),t.getElement().style.display="none",RA.setAttrib(t.id,"aria-hidden","true"),t.getElement().style.visibility=t.orgVisibility,function(t){var e,n=t.iframeElement,r=(e=Nn(n),Lr(e,"load",AA,(function(){r.unbind(),t.contentDocument=n.contentDocument,TA(t)})));if(Ve.browser.isFirefox()){var o=t.getDoc();o.open(),o.write(t.iframeHTML),o.close()}else n.srcdoc=t.iframeHTML}(t)}(e,{editorContainer:n.editorContainer,iframeContainer:n.iframeContainer});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),IA=zu.DOM,PA=function(t){return"-"===t.charAt(0)},LA=function(t,e,n){return J.from(e).filter((function(t){return ce(t)&&!aw.has(t)})).map((function(e){return{url:"".concat(t.editorManager.baseURL,"/icons/").concat(e,"/icons").concat(n,".js"),name:J.some(e)}}))},FA=function(t,e){var n=Hu.ScriptLoader,r=function(){!t.removed&&function(t){var e=vs(t);return!E(e)||M(hw.get(e))}(t)&&function(t){var e=bs(t);return M(cw.get(e))}(t)&&MA(t)};(function(t,e){var n=vs(t);if(E(n)&&!PA(n)&&!Lt(hw.urls,n)){var r=hs(t),o=r?t.documentBaseURI.toAbsolute(r):"themes/".concat(n,"/theme").concat(e,".js");hw.load(n,o).catch((function(){(function(t,e,n){ww(t,"ThemeLoadError",Cw("theme",e,n))})(t,o,n)}))}})(t,e),function(t,e){var n=bs(t);if("plugin"!==n&&!Lt(cw.urls,n)){var r=ys(t),o=E(r)?t.documentBaseURI.toAbsolute(r):"models/".concat(n,"/model").concat(e,".js");cw.load(n,o).catch((function(){(function(t,e,n){ww(t,"ModelLoadError",Cw("model",e,n))})(t,o,n)}))}}(t,e),function(t,e){var n=ns(e),r=rs(e);if(!Gu.hasCode(n)&&"en"!==n){var o=ce(r)?r:"".concat(e.editorManager.baseURL,"/langs/").concat(n,".js");t.add(o).catch((function(){(function(t,e,n){ww(t,"LanguageLoadError",Cw("language",e,n))})(e,o,n)}))}}(n,t),function(t,e,n){var r=LA(e,"default",n),o=function(t){return J.from(Yc(t)).filter(ce).map((function(t){return{url:t,name:J.none()}}))}(e).orThunk((function(){return LA(e,Kc(e),"")}));it(function(t){for(var e=[],n=function(t){e.push(t)},r=0;r<t.length;r++)t[r].each(n);return e}([r,o]),(function(n){t.add(n.url).catch((function(){(function(t,e,n){ww(t,"IconsLoadError",Cw("icons",e,n))})(e,n.url,n.name.getOrUndefined())}))}))}(n,t,e),function(t,e){var n=function(e,n){vw.load(e,n).catch((function(){(function(t,e,n){ww(t,"PluginLoadError",Cw("plugin",e,n))})(t,n,e)}))};Tt(Ps(t),(function(e,r){n(r,e),t.options.set("plugins",Is(t).concat(r))})),it(Is(t),(function(t){!(t=Ge.trim(t))||vw.urls[t]||PA(t)||n(t,"plugins/".concat(t,"/plugin").concat(e,".js"))}))}(t,e),n.loadQueue().then(r,r)},jA=Pe().deviceType,zA=jA.isPhone(),UA=jA.isTablet(),HA=function(t){if(B(t))return[];var e=A(t)?t:t.split(/[ ,]/),n=ot(e,ie);return ct(n,ce)},VA=function(t,e){var n,r,o=function(e,n){var r={},o={};return Dt(e,(function(e,n){return nt(t,n)}),Nt(r),Nt(o)),{t:r,f:o}}(e);return n=o.t,r=o.f,{sections:U(n),options:U(r)}},WA=function(t,e){return Lt(t.sections(),e)},$A=function(t,e){return s({table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:Pt(t,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},e?{menubar:!1}:{})},qA=function(t,e){var n,r=null!==(n=e.external_plugins)&&void 0!==n?n:{};return t&&t.external_plugins?Ge.extend({},t.external_plugins,r):r},GA=function(t,e,n,r,o){var i,u=t?{mobile:$A(null!==(i=o.mobile)&&void 0!==i?i:{},e)}:{},a=VA(["mobile"],B_(u,o)),c=Ge.extend(n,r,a.options(),function(t,e){return t&&WA(e,"mobile")}(t,a)?function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.sections(),o=Pt(r,e).getOr({});return Ge.extend({},n,o)}(a,"mobile"):{},{external_plugins:qA(r,a.options())});return function(t,e,n,r){var o=HA(n.forced_plugins),i=HA(r.plugins),u=function(t,e){return WA(t,e)?t.sections()[e]:{}}(e,"mobile"),a=function(t,e,n,r){return t&&WA(e,"mobile")?r:n}(t,e,i,u.plugins?HA(u.plugins):i),c=function(t,e){return[].concat(l(HA(t)),l(HA(e)))}(o,a);return Ge.extend(r,{forced_plugins:o,plugins:c})}(t,a,r,c)},KA=function(t){(function(t){var e=function(e){return function(){it("left,center,right,justify".split(","),(function(n){e!==n&&t.formatter.remove("align"+n)})),"none"!==e&&function(e,n){t.formatter.toggle(e,void 0),t.nodeChanged()}("align"+e)}};t.editorCommands.addCommands({JustifyLeft:e("left"),JustifyCenter:e("center"),JustifyRight:e("right"),JustifyFull:e("justify"),JustifyNone:e("none")})})(t),function(t){var e=function(e){return function(){var n=t.selection,r=n.isCollapsed()?[t.dom.getParent(n.getNode(),t.dom.isBlock)]:n.getSelectedBlocks();return rt(r,(function(n){return M(t.formatter.matchNode(n,e))}))}};t.editorCommands.addCommands({JustifyLeft:e("alignleft"),JustifyCenter:e("aligncenter"),JustifyRight:e("alignright"),JustifyFull:e("alignjustify")},"state")}(t)},YA=function(t,e){var n=t.selection,r=t.dom;return/^ | $/.test(e)?function(t,e,n){var r=Nn(t.getRoot());return n=zg(r,$a.fromRangeStart(e))?n.replace(/^ /,"&nbsp;"):n.replace(/^&nbsp;/," "),Ug(r,$a.fromRangeEnd(e))?n.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):n.replace(/&nbsp;(<br( \/)?>)?$/," ")}(r,n.getRng(),e):e},XA=function(t,e){if(t.selection.isEditable()){var n=function(t){if("string"!=typeof t){var e=Ge.extend({paste:t.paste,data:{paste:t.paste}},t);return{content:t.content,details:e}}return{content:t,details:{}}}(e),r=n.content,o=n.details;ux(t,s(s({},o),{},{content:YA(t,r),format:"html",set:!1,selection:!0})).each((function(e){var n=function(t,e,n){return Px(t).editor.insertContent(e,n)}(t,e.content,o);ax(t,n,e),t.addVisual()}))}},JA={"font-size":"size","font-family":"face"},QA=sn("font"),ZA=function(t){return function(e,n){return J.from(n).map(Nn).filter(on).bind((function(n){return function(t,e,n){return hh(Nn(n),(function(e){return function(e){return Cr(e,t).orThunk((function(){return QA(e)?Pt(JA,t).bind((function(t){return pn(e,t)})):J.none()}))}(e)}),(function(t){return Pn(Nn(e),t)}))}(t,e,n.dom).or(function(t,e){return J.from(zu.DOM.getStyle(e,t,!0))}(t,n.dom))})).getOr("")}},tR=ZA("font-size"),eR=j((function(t){return t.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")}),ZA("font-family")),nR=function(t){return _l(t.getBody()).bind((function(t){var e=t.container();return J.from(co(e)?e.parentNode:e)}))},rR=function(t,e){return function(t,e){return function(t){return J.from(t.selection.getRng()).bind((function(e){var n=t.getBody();return e.startContainer===n&&0===e.startOffset?J.none():J.from(t.selection.getStart(!0))}))}(t).orThunk(W(nR,t)).map(Nn).filter(on).bind(e)}(t,z(J.some,e))},oR=function(t,e){if(/^[0-9.]+$/.test(e)){var n=parseInt(e,10);if(n>=1&&n<=7){var r=function(t){return Ge.explode(t.options.get("font_size_style_values"))}(t),o=function(t){return Ge.explode(t.options.get("font_size_classes"))}(t);return o.length>0?o[n-1]||e:r[n-1]||e}return e}return e},iR=function(t){var e=t.split(/\s*,\s*/);return ot(e,(function(t){return-1===t.indexOf(" ")||ne(t,'"')||ne(t,"'")?t:"'".concat(t,"'")})).join(",")},uR=function(t){KA(t),function(t){t.editorCommands.addCommands({"Cut,Copy,Paste":function(e){var n,r=t.getDoc();try{r.execCommand(e)}catch(t){n=!0}if("paste"!==e||r.queryCommandEnabled(e)||(n=!0),n||!r.queryCommandSupported(e)){var o=t.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(Ve.os.isMacOS()||Ve.os.isiOS())&&(o=o.replace(/Ctrl\+/g,"â+")),t.notificationManager.open({text:o,type:"error"})}}})}(t),function(t){t.editorCommands.addCommands({mceAddUndoLevel:function(){t.undoManager.add()},mceEndUndoLevel:function(){t.undoManager.add()},Undo:function(){t.undoManager.undo()},Redo:function(){t.undoManager.redo()}})}(t),function(t){t.editorCommands.addCommands({mceSelectNodeDepth:function(e,n,r){var o=0;t.dom.getParent(t.selection.getNode(),(function(e){return!Zr(e)||o++!==r||(t.selection.select(e),!1)}),t.getBody())},mceSelectNode:function(e,n,r){t.selection.select(r)},selectAll:function(){var e=t.dom.getParent(t.selection.getStart(),ho);if(e){var n=t.dom.createRng();n.selectNodeContents(e),t.selection.setRng(n)}}})}(t),function(t){t.editorCommands.addCommands({mceCleanup:function(){var e=t.selection.getBookmark();t.setContent(t.getContent()),t.selection.moveToBookmark(e)},insertImage:function(e,n,r){XA(t,t.dom.createHTML("img",{src:r}))},insertHorizontalRule:function(){t.execCommand("mceInsertContent",!1,"<hr>")},insertText:function(e,n,r){XA(t,t.dom.encode(r))},insertHTML:function(e,n,r){XA(t,r)},mceInsertContent:function(e,n,r){XA(t,r)},mceSetContent:function(e,n,r){t.setContent(r)},mceReplaceContent:function(e,n,r){t.execCommand("mceInsertContent",!1,r.replace(/\{\$selection\}/g,t.selection.getContent({format:"text"})))},mceNewDocument:function(){t.setContent("")}})}(t),function(t){var e=function(e,n,r){var o=E(r)?{href:r}:r,i=t.dom.getParent(t.selection.getNode(),"a");O(o)&&E(o.href)&&(o.href=o.href.replace(/ /g,"%20"),i&&o.href||t.formatter.remove("link"),o.href&&t.formatter.apply("link",o,i))};t.editorCommands.addCommands({unlink:function(){if(t.selection.isCollapsed()){var e=t.dom.getParent(t.selection.getStart(),"a");e&&t.dom.remove(e,!0)}else t.formatter.remove("link")},mceInsertLink:e,createLink:e})}(t),function(t){t.editorCommands.addCommands({Indent:function(){(function(t){sk(t,"indent")})(t)},Outdent:function(){fk(t)}}),t.editorCommands.addCommands({Outdent:function(){return uk(t)}},"state")}(t),function(t){t.editorCommands.addCommands({insertParagraph:function(){vO(YE,t)},mceInsertNewLine:function(e,n,r){hO(t,r)},InsertLineBreak:function(e,n,r){vO(rO,t)}})}(t),function(t){(function(t){t.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":function(e){t.getDoc().execCommand(e);var n=t.dom.getParent(t.selection.getNode(),"ol,ul");if(n){var r=n.parentNode;if(r&&/^(H[1-6]|P|ADDRESS|PRE)$/.test(r.nodeName)){var o=t.selection.getBookmark();t.dom.split(r,n),t.selection.moveToBookmark(o)}}}})})(t),function(t){t.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":function(e){var n=t.dom.getParent(t.selection.getNode(),"ul,ol");return n&&("insertunorderedlist"===e&&"UL"===n.tagName||"insertorderedlist"===e&&"OL"===n.tagName)}},"state")}(t)}(t),function(t){(function(t){var e=function(e,n){t.formatter.toggle(e,n),t.nodeChanged()};t.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(t){e(t)},"ForeColor,HiliteColor":function(t,n,r){e(t,{value:r})},BackColor:function(t,n,r){e("hilitecolor",{value:r})},FontName:function(e,n,r){(function(t,e){var n=oR(t,e);t.formatter.toggle("fontname",{value:iR(n)}),t.nodeChanged()})(t,r)},FontSize:function(e,n,r){(function(t,e){t.formatter.toggle("fontsize",{value:oR(t,e)}),t.nodeChanged()})(t,r)},LineHeight:function(e,n,r){(function(t,e){t.formatter.toggle("lineheight",{value:String(e)}),t.nodeChanged()})(t,r)},Lang:function(t,n,r){var o;e(t,{value:r.code,customValue:null!==(o=r.customCode)&&void 0!==o?o:null})},RemoveFormat:function(e){t.formatter.remove(e)},mceBlockQuote:function(){e("blockquote")},FormatBlock:function(t,n,r){e(E(r)?r:"p")},mceToggleFormat:function(t,n,r){e(r)}})})(t),function(t){var e=function(e){return t.formatter.match(e)};t.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(t){return e(t)},mceBlockQuote:function(){return e("blockquote")}},"state"),t.editorCommands.addQueryValueHandler("FontName",(function(){return function(t){return rR(t,(function(e){return eR(t.getBody(),e.dom)})).getOr("")}(t)})),t.editorCommands.addQueryValueHandler("FontSize",(function(){return function(t){return rR(t,(function(e){return tR(t.getBody(),e.dom)})).getOr("")}(t)})),t.editorCommands.addQueryValueHandler("LineHeight",(function(){return function(t){return rR(t,(function(e){var n=Nn(t.getBody()),r=hh(e,(function(t){return Cr(t,"line-height")}),W(Pn,n));return r.getOrThunk((function(){var t=parseFloat(xr(e,"line-height")),n=parseFloat(xr(e,"font-size"));return String(t/n)}))})).getOr("")}(t)}))}(t)}(t),function(t){t.editorCommands.addCommands({mceRemoveNode:function(e,n,r){var o=null!=r?r:t.selection.getNode();if(o!==t.getBody()){var i=t.selection.getBookmark();t.dom.remove(o,!0),t.selection.moveToBookmark(i)}},mcePrint:function(){t.getWin().print()},mceFocus:function(e,n,r){(function(t,e){t.removed||(e?Op(t):function(t){var e=t.selection,n=t.getBody(),r=e.getRng();t.quirks.refreshContentEditable(),M(t.bookmark)&&!Ep(t)&&gp(t).each((function(e){t.selection.setRng(e),r=e}));var o=function(t,e){return t.dom.getParent(e,(function(e){return"true"===t.dom.getContentEditable(e)}))}(t,e.getNode());if(o&&t.dom.isChildOf(o,n))return _p(o),kp(t,r),void Op(t);t.inline||(Ve.browser.isOpera()||_p(n),t.getWin().focus()),(Ve.browser.isFirefox()||t.inline)&&(_p(n),kp(t,r)),Op(t)}(t))})(t,!0===r)},mceToggleVisualAid:function(){t.hasVisual=!t.hasVisual,t.addVisual()}})}(t)},aR=["toggleview"],cR=function(t){return nt(aR,t.toLowerCase())},sR=function(){function t(e){d(this,t),this.commands={state:{},exec:{},value:{}},this.editor=e}return m(t,[{key:"execCommand",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=this.editor,i=t.toLowerCase(),u=null==r?void 0:r.skip_focus;if(o.removed)return!1;if("mcefocus"!==i&&(/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(i)||u?function(t){gp(t).each((function(e){return t.selection.setRng(e)}))}(o):o.focus()),o.dispatch("BeforeExecCommand",{command:t,ui:e,value:n}).isDefaultPrevented())return!1;var a=this.commands.exec[i];return!!I(a)&&(a(i,e,n),o.dispatch("ExecCommand",{command:t,ui:e,value:n}),!0)}},{key:"queryCommandState",value:function(t){if(!cR(t)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;var e=t.toLowerCase(),n=this.commands.state[e];return!!I(n)&&n(e)}},{key:"queryCommandValue",value:function(t){if(!cR(t)&&this.editor.quirks.isHidden()||this.editor.removed)return"";var e=t.toLowerCase(),n=this.commands.value[e];return I(n)?n(e):""}},{key:"addCommands",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"exec",n=this.commands;Tt(t,(function(t,r){it(r.toLowerCase().split(","),(function(r){n[e][r]=t}))}))}},{key:"addCommand",value:function(t,e,n){var r=this,o=t.toLowerCase();this.commands.exec[o]=function(t,o,i){return e.call(null!=n?n:r.editor,o,i)}}},{key:"queryCommandSupported",value:function(t){var e=t.toLowerCase();return!!this.commands.exec[e]}},{key:"addQueryStateHandler",value:function(t,e,n){var r=this;this.commands.state[t.toLowerCase()]=function(){return e.call(null!=n?n:r.editor)}}},{key:"addQueryValueHandler",value:function(t,e,n){var r=this;this.commands.value[t.toLowerCase()]=function(){return e.call(null!=n?n:r.editor)}}}]),t}(),fR="data-mce-contenteditable",lR=function(t,e,n){try{t.getDoc().execCommand(e,!1,String(n))}catch(t){}},dR=function(t,e){t.dom.contentEditable=e?"true":"false"},mR=function(t,e){var n=Nn(t.getBody());(function(t,e,n){En(t,e)&&!n?_n(t,e):n&&Sn(t,e)})(n,"mce-content-readonly",e),e?(t.selection.controlSelection.hideResizeRect(),t._selectionOverrides.hideFakeCaret(),function(t){J.from(t.selection.getNode()).each((function(t){t.removeAttribute("data-mce-selected")}))}(t),t.readonly=!0,dR(n,!1),it(Kr(n,'*[contenteditable="true"]'),(function(t){ln(t,fR,"true"),dR(t,!1)}))):(t.readonly=!1,dR(n,!0),it(Kr(n,'*[data-mce-contenteditable="true"]'),(function(t){vn(t,fR),dR(t,!0)})),lR(t,"StyleWithCSS",!1),lR(t,"enableInlineTableEditing",!1),lR(t,"enableObjectResizing",!1),function(t){return Ep(t)||function(t){var e=nr(Nn(t.getElement()));return ap(e).filter((function(e){return!yp(e.dom)&&xp(t,e.dom)})).isSome()}(t)}(t)&&t.focus(),function(t){t.selection.setRng(t.selection.getRng())}(t),t.nodeChanged())},pR=function(t){return t.readonly},gR=function(t){t.parser.addAttributeFilter("contenteditable",(function(e){pR(t)&&it(e,(function(t){t.attr(fR,t.attr("contenteditable")),t.attr("contenteditable","false")}))})),t.serializer.addAttributeFilter(fR,(function(e){pR(t)&&it(e,(function(t){t.attr("contenteditable",t.attr(fR))}))})),t.serializer.addTempAttr(fR)},vR=["copy"],hR=Ge.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," "),bR=function(){function t(e){d(this,t),this.bindings={},this.settings=e||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||Y}return m(t,[{key:"fire",value:function(t,e){return this.dispatch(t,e)}},{key:"dispatch",value:function(t,e){var n=t.toLowerCase(),r=ku(n,null!=e?e:{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(r);var o=this.bindings[n];if(o)for(var i=0,u=o.length;i<u;i++){var a=o[i];if(!a.removed){if(a.once&&this.off(n,a.func),r.isImmediatePropagationStopped())return r;if(!1===a.func.call(this.scope,r))return r.preventDefault(),r}}return r}},{key:"on",value:function(t,e,n,r){if(!1===e&&(e=Y),e){var o={func:e,removed:!1};r&&Ge.extend(o,r);for(var i=t.toLowerCase().split(" "),u=i.length;u--;){var a=i[u],c=this.bindings[a];c||(c=[],this.toggleEvent(a,!0)),c=n?[o].concat(l(c)):[].concat(l(c),[o]),this.bindings[a]=c}}return this}},{key:"off",value:function(t,e){var n=this;if(t)for(var r=t.toLowerCase().split(" "),o=r.length;o--;){var i=r[o],u=this.bindings[i];if(!i)return Tt(this.bindings,(function(t,e){n.toggleEvent(e,!1),delete n.bindings[e]})),this;if(u){if(e){var a=at(u,(function(t){return t.func===e}));u=a.fail,this.bindings[i]=u,it(a.pass,(function(t){t.removed=!0}))}else u.length=0;u.length||(this.toggleEvent(t,!1),delete this.bindings[i])}}else Tt(this.bindings,(function(t,e){n.toggleEvent(e,!1)})),this.bindings={};return this}},{key:"once",value:function(t,e,n){return this.on(t,e,n,{once:!0})}},{key:"has",value:function(t){t=t.toLowerCase();var e=this.bindings[t];return!(!e||0===e.length)}}],[{key:"isNative",value:function(t){return!!hR[t.toLowerCase()]}}]),t}(),yR=function(t){return t._eventDispatcher||(t._eventDispatcher=new bR({scope:t,toggleEvent:function(e,n){bR.isNative(e)&&t.toggleNativeEvent&&t.toggleNativeEvent(e,n)}})),t._eventDispatcher},xR={fire:function(t,e,n){return this.dispatch(t,e,n)},dispatch:function(t,e,n){var r=this;if(r.removed&&"remove"!==t&&"detach"!==t)return ku(t.toLowerCase(),null!=e?e:{},r);var o=yR(r).dispatch(t,e);if(!1!==n&&r.parent)for(var i=r.parent();i&&!o.isPropagationStopped();)i.dispatch(t,o,!1),i=i.parent?i.parent():void 0;return o},on:function(t,e,n){return yR(this).on(t,e,n)},off:function(t,e){return yR(this).off(t,e)},once:function(t,e){return yR(this).once(t,e)},hasEventListeners:function(t){return yR(this).has(t)}},wR=zu.DOM,CR=function(t,e){if("selectionchange"===e)return t.getDoc();if(!t.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(e))return t.getDoc().documentElement;var n=ps(t);return n?(t.eventRoot||(t.eventRoot=wR.select(n)[0]),t.eventRoot):t.getBody()},SR=function(t,e,n){!function(t){return!t.hidden&&!pR(t)}(t)?pR(t)&&function(t,e){if(function(t){return"click"===t.type}(e)&&!im.metaKeyPressed(e)){var n=Nn(e.target);(function(t,e){return mr(e,"a",(function(e){return Pn(e,Nn(t.getBody()))})).bind((function(t){return pn(t,"href")}))})(t,n).each((function(n){if(e.preventDefault(),/^#/.test(n)){var r=t.dom.select("".concat(n,',[name="').concat(te(n,"#"),'"]'));r.length&&t.selection.scrollIntoView(r[0],!0)}else window.open(n,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")}))}else(function(t){return nt(vR,t.type)})(e)&&t.dispatch(e.type,e)}(t,n):t.dispatch(e,n)},kR=function(t,e){if(t.delegates||(t.delegates={}),!t.delegates[e]&&!t.removed){var n=CR(t,e);if(ps(t)){if(bT||(bT={},t.editorManager.on("removeEditor",(function(){t.editorManager.activeEditor||bT&&(Tt(bT,(function(e,n){t.dom.unbind(CR(t,n))})),bT=null)}))),bT[e])return;var r=function(n){for(var r=n.target,o=t.editorManager.get(),i=o.length;i--;){var u=o[i].getBody();(u===r||wR.isChildOf(r,u))&&SR(o[i],e,n)}};bT[e]=r,wR.bind(n,e,r)}else{var o=function(n){SR(t,e,n)};wR.bind(n,e,o),t.delegates[e]=o}}},_R=s(s({},xR),{},{bindPendingEventDelegates:function(){var t=this;Ge.each(t._pendingNativeEvents,(function(e){kR(t,e)}))},toggleNativeEvent:function(t,e){var n=this;"focus"!==t&&"blur"!==t&&(n.removed||(e?n.initialized?kR(n,t):n._pendingNativeEvents?n._pendingNativeEvents.push(t):n._pendingNativeEvents=[t]:n.initialized&&n.delegates&&(n.dom.unbind(CR(n,t),t,n.delegates[t]),delete n.delegates[t])))},unbindAllNativeEvents:function(){var t=this,e=t.getBody(),n=t.dom;t.delegates&&(Tt(t.delegates,(function(e,n){t.dom.unbind(CR(t,n),n,e)})),delete t.delegates),!t.inline&&e&&n&&(e.onload=null,n.unbind(t.getWin()),n.unbind(t.getDoc())),n&&(n.unbind(e),n.unbind(t.getContainer()))}}),ER=function(t){return E(t)?{value:t.split(/[ ,]/),valid:!0}:L(t,E)?{value:t,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."}},OR=function(t,e){return t+(se(e.message)?"":". ".concat(e.message))},TR=function(t){return t.valid},AR=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=e(t);return N(r)?r?{value:t,valid:!0}:{valid:!1,message:n}:r},RR=["design","readonly"],NR=function(t,e,n,r){var o=n[e.get()],i=n[r];try{i.activate()}catch(t){return void console.error("problem while activating editor mode ".concat(r,":"),t)}o.deactivate(),o.editorReadOnly!==i.editorReadOnly&&mR(t,i.editorReadOnly),e.set(r),function(t,e){t.dispatch("SwitchMode",{mode:e})}(t,r)},DR=Ge.each,BR=Ge.explode,MR={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},IR=Ge.makeMap("alt,ctrl,shift,meta,access"),PR=function(t){var e={},n=Ve.os.isMacOS()||Ve.os.isiOS();DR(BR(t.toLowerCase(),"+"),(function(t){!function(t){return t in IR}(t)?/^[0-9]{2,}$/.test(t)?e.keyCode=parseInt(t,10):(e.charCode=t.charCodeAt(0),e.keyCode=MR[t]||t.toUpperCase().charCodeAt(0)):e[t]=!0}));var r,o=[e.keyCode];for(r in IR)e[r]?o.push(r):e[r]=!1;return e.id=o.join(","),e.access&&(e.alt=!0,n?e.ctrl=!0:e.shift=!0),e.meta&&(n?e.meta=!0:(e.ctrl=!0,e.meta=!1)),e},LR=function(){function t(e){d(this,t),this.shortcuts={},this.pendingPatterns=[],this.editor=e;var n=this;e.on("keyup keypress keydown",(function(t){!n.hasModifier(t)&&!n.isFunctionKey(t)||t.isDefaultPrevented()||(DR(n.shortcuts,(function(e){n.matchShortcut(t,e)&&(n.pendingPatterns=e.subpatterns.slice(0),"keydown"===t.type&&n.executeShortcutAction(e))})),n.matchShortcut(t,n.pendingPatterns[0])&&(1===n.pendingPatterns.length&&"keydown"===t.type&&n.executeShortcutAction(n.pendingPatterns[0]),n.pendingPatterns.shift()))}))}return m(t,[{key:"add",value:function(t,e,n,r){var o=this,i=o.normalizeCommandFunc(n);return DR(BR(Ge.trim(t)),(function(t){var n=o.createShortcut(t,e,i,r);o.shortcuts[n.id]=n})),!0}},{key:"remove",value:function(t){var e=this.createShortcut(t);return!!this.shortcuts[e.id]&&(delete this.shortcuts[e.id],!0)}},{key:"normalizeCommandFunc",value:function(t){var e=this,n=t;return"string"==typeof n?function(){e.editor.execCommand(n,!1,null)}:Ge.isArray(n)?function(){e.editor.execCommand(n[0],n[1],n[2])}:n}},{key:"createShortcut",value:function(t,e,n,r){var o=Ge.map(BR(t,">"),PR);return o[o.length-1]=Ge.extend(o[o.length-1],{func:n,scope:r||this.editor}),Ge.extend(o[0],{desc:this.editor.translate(e),subpatterns:o.slice(1)})}},{key:"hasModifier",value:function(t){return t.altKey||t.ctrlKey||t.metaKey}},{key:"isFunctionKey",value:function(t){return"keydown"===t.type&&t.keyCode>=112&&t.keyCode<=123}},{key:"matchShortcut",value:function(t,e){return!!e&&e.ctrl===t.ctrlKey&&e.meta===t.metaKey&&e.alt===t.altKey&&e.shift===t.shiftKey&&!!(t.keyCode===e.keyCode||t.charCode&&t.charCode===e.charCode)&&(t.preventDefault(),!0)}},{key:"executeShortcutAction",value:function(t){return t.func?t.func.call(t.scope):null}}]),t}(),FR=function(){var t=function(){var t={},e={},n={},r={},o={},i={},u={},a={},c=function(t,e){return function(n,r){t[n.toLowerCase()]=s(s({},r),{},{type:e})}};return{addButton:c(t,"button"),addGroupToolbarButton:c(t,"grouptoolbarbutton"),addToggleButton:c(t,"togglebutton"),addMenuButton:c(t,"menubutton"),addSplitButton:c(t,"splitbutton"),addMenuItem:c(e,"menuitem"),addNestedMenuItem:c(e,"nestedmenuitem"),addToggleMenuItem:c(e,"togglemenuitem"),addAutocompleter:c(n,"autocompleter"),addContextMenu:c(o,"contextmenu"),addContextToolbar:c(i,"contexttoolbar"),addContextForm:c(i,"contextform"),addSidebar:c(u,"sidebar"),addView:c(a,"views"),addIcon:function(t,e){return r[t.toLowerCase()]=e},getAll:function(){return{buttons:t,menuItems:e,icons:r,popups:n,contextMenus:o,contextToolbars:i,sidebars:u,views:a}}}}();return{addAutocompleter:t.addAutocompleter,addButton:t.addButton,addContextForm:t.addContextForm,addContextMenu:t.addContextMenu,addContextToolbar:t.addContextToolbar,addIcon:t.addIcon,addMenuButton:t.addMenuButton,addMenuItem:t.addMenuItem,addNestedMenuItem:t.addNestedMenuItem,addSidebar:t.addSidebar,addSplitButton:t.addSplitButton,addToggleButton:t.addToggleButton,addGroupToolbarButton:t.addGroupToolbarButton,addToggleMenuItem:t.addToggleMenuItem,addView:t.addView,getAll:t.getAll}},jR=zu.DOM,zR=Ge.extend,UR=Ge.each,HR=function(){function t(e,n,r){d(this,t),this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this.editorManager=r,this.documentBaseUrl=r.documentBaseURL,zR(this,_R);var o=this;this.id=e,this.hidden=!1;var u=function(t,e){return GA(zA||UA,zA,e,t,e)}(r.defaultOptions,n);this.options=function(t,e){var n={},r={},o=function(t,e,n){var o=AR(e,n);return TR(o)?(r[t]=o.value,!0):(console.warn(OR("Invalid value passed for the ".concat(t," option"),o)),!1)},i=function(t){return Lt(n,t)};return{register:function(t,i){var u=function(t){return E(t.processor)}(i)?function(t){var e=function(){switch(t){case"array":return A;case"boolean":return N;case"function":return I;case"number":return P;case"object":return O;case"string":return E;case"string[]":return ER;case"object[]":return function(t){return L(t,O)};case"regexp":return function(t){return _(t,RegExp)};default:return X}}();return function(n){return AR(n,e,"The value must be a ".concat(t,"."))}}(i.processor):i.processor,a=function(t,e,n){if(!D(e)){var r=AR(e,n);if(TR(r))return r.value;console.error(OR('Invalid default value passed for the "'.concat(t,'" option'),r))}}(t,i.default,u);n[t]=s(s({},i),{},{default:a,processor:u}),Pt(r,t).orThunk((function(){return Pt(e,t)})).each((function(e){return o(t,e,u)}))},isRegistered:i,get:function(t){return Pt(r,t).orThunk((function(){return Pt(n,t).map((function(t){return t.default}))})).getOrUndefined()},set:function(t,e){if(i(t)){var r=n[t];return r.immutable?(console.error('"'.concat(t,'" is an immutable option and cannot be updated')),!1):o(t,e,r.processor)}return console.warn('"'.concat(t,'" is not a registered option. Ensure the option has been registered before setting a value.')),!1},unset:function(t){var e=i(t);return e&&delete r[t],e},isSet:function(t){return Lt(r,t)}}}(0,u),function(t){var e=t.options.register;e("id",{processor:"string",default:t.id}),e("selector",{processor:"string"}),e("target",{processor:"object"}),e("suffix",{processor:"string"}),e("cache_suffix",{processor:"string"}),e("base_url",{processor:"string"}),e("referrer_policy",{processor:"string",default:""}),e("language_load",{processor:"boolean",default:!0}),e("inline",{processor:"boolean",default:!1}),e("iframe_attrs",{processor:"object",default:{}}),e("doctype",{processor:"string",default:"<!DOCTYPE html>"}),e("document_base_url",{processor:"string",default:t.documentBaseUrl}),e("body_id",{processor:Rc(t,"tinymce"),default:"tinymce"}),e("body_class",{processor:Rc(t),default:""}),e("content_security_policy",{processor:"string",default:""}),e("br_in_pre",{processor:"boolean",default:!0}),e("forced_root_block",{processor:function(t){var e=E(t)&&ce(t);return e?{value:t,valid:e}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),e("forced_root_block_attrs",{processor:"object",default:{}}),e("newline_behavior",{processor:function(t){var e=nt(["block","linebreak","invert","default"],t);return e?{value:t,valid:e}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),e("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),e("no_newline_selector",{processor:"string",default:""}),e("keep_styles",{processor:"boolean",default:!0}),e("end_container_on_empty_block",{processor:function(t){return N(t)||E(t)?{valid:!0,value:t}:{valid:!1,message:"Must be boolean or a string"}},default:"blockquote"}),e("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),e("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),e("font_size_classes",{processor:"string",default:""}),e("automatic_uploads",{processor:"boolean",default:!0}),e("images_reuse_filename",{processor:"boolean",default:!1}),e("images_replace_blob_uris",{processor:"boolean",default:!0}),e("icons",{processor:"string",default:""}),e("icons_url",{processor:"string",default:""}),e("images_upload_url",{processor:"string",default:""}),e("images_upload_base_path",{processor:"string",default:""}),e("images_upload_credentials",{processor:"boolean",default:!1}),e("images_upload_handler",{processor:"function"}),e("language",{processor:"string",default:"en"}),e("language_url",{processor:"string",default:""}),e("entity_encoding",{processor:"string",default:"named"}),e("indent",{processor:"boolean",default:!0}),e("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),e("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),e("indent_use_margin",{processor:"boolean",default:!1}),e("indentation",{processor:"string",default:"40px"}),e("content_css",{processor:function(t){var e=!1===t||E(t)||L(t,E);return e?E(t)?{value:ot(t.split(","),ie),valid:e}:A(t)?{value:t,valid:e}:!1===t?{value:[],valid:e}:{value:t,valid:e}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:Es(t)?[]:["default"]}),e("content_style",{processor:"string"}),e("content_css_cors",{processor:"boolean",default:!1}),e("font_css",{processor:function(t){var e=E(t)||L(t,E);return e?{value:A(t)?t:ot(t.split(","),ie),valid:e}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),e("inline_boundaries",{processor:"boolean",default:!0}),e("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),e("object_resizing",{processor:function(t){var e=N(t)||E(t);return e?!1===t||kc.isiPhone()||kc.isiPad()?{value:"",valid:e}:{value:!0===t?"table,img,figure.image,div,video,iframe":t,valid:e}:{valid:!1,message:"Must be boolean or a string"}},default:!_c}),e("resize_img_proportional",{processor:"boolean",default:!0}),e("event_root",{processor:"object"}),e("service_message",{processor:"string"}),e("theme",{processor:function(t){return!1===t||E(t)||I(t)},default:"silver"}),e("theme_url",{processor:"string"}),e("formats",{processor:"object"}),e("format_empty_lines",{processor:"boolean",default:!1}),e("format_noneditable_selector",{processor:"string",default:""}),e("preview_styles",{processor:function(t){var e=!1===t||E(t);return e?{value:!1===t?"":t,valid:e}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),e("custom_ui_selector",{processor:"string",default:""}),e("hidden_input",{processor:"boolean",default:!0}),e("submit_patch",{processor:"boolean",default:!0}),e("encoding",{processor:"string"}),e("add_form_submit_trigger",{processor:"boolean",default:!0}),e("add_unload_trigger",{processor:"boolean",default:!0}),e("custom_undo_redo_levels",{processor:"number",default:0}),e("disable_nodechange",{processor:"boolean",default:!1}),e("readonly",{processor:"boolean",default:!1}),e("plugins",{processor:"string[]",default:[]}),e("external_plugins",{processor:"object"}),e("forced_plugins",{processor:"string[]"}),e("model",{processor:"string",default:t.hasPlugin("rtc")?"plugin":"dom"}),e("model_url",{processor:"string"}),e("block_unsupported_drop",{processor:"boolean",default:!0}),e("visual",{processor:"boolean",default:!0}),e("visual_table_class",{processor:"string",default:"mce-item-table"}),e("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),e("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),e("setup",{processor:"function"}),e("init_instance_callback",{processor:"function"}),e("url_converter",{processor:"function",default:t.convertURL}),e("url_converter_scope",{processor:"object",default:t}),e("urlconverter_callback",{processor:"function"}),e("allow_conditional_comments",{processor:"boolean",default:!1}),e("allow_html_data_urls",{processor:"boolean",default:!1}),e("allow_svg_data_urls",{processor:"boolean"}),e("allow_html_in_named_anchor",{processor:"boolean",default:!1}),e("allow_script_urls",{processor:"boolean",default:!1}),e("allow_unsafe_link_target",{processor:"boolean",default:!1}),e("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),e("fix_list_elements",{processor:"boolean",default:!1}),e("preserve_cdata",{processor:"boolean",default:!1}),e("remove_trailing_brs",{processor:"boolean"}),e("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),e("element_format",{processor:"string",default:"html"}),e("entities",{processor:"string"}),e("schema",{processor:"string",default:"html5"}),e("convert_urls",{processor:"boolean",default:!0}),e("relative_urls",{processor:"boolean",default:!0}),e("remove_script_host",{processor:"boolean",default:!0}),e("custom_elements",{processor:"string"}),e("extended_valid_elements",{processor:"string"}),e("invalid_elements",{processor:"string"}),e("invalid_styles",{processor:Ac}),e("valid_children",{processor:"string"}),e("valid_classes",{processor:Ac}),e("valid_elements",{processor:"string"}),e("valid_styles",{processor:Ac}),e("verify_html",{processor:"boolean",default:!0}),e("auto_focus",{processor:function(t){return E(t)||!0===t}}),e("browser_spellcheck",{processor:"boolean",default:!1}),e("protect",{processor:"array"}),e("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),e("deprecation_warnings",{processor:"boolean",default:!0}),e("a11y_advanced_options",{processor:"boolean",default:!1}),e("api_key",{processor:"string"}),e("paste_block_drop",{processor:"boolean",default:!1}),e("paste_data_images",{processor:"boolean",default:!0}),e("paste_preprocess",{processor:"function"}),e("paste_postprocess",{processor:"function"}),e("paste_webkit_styles",{processor:"string",default:"none"}),e("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),e("paste_merge_formats",{processor:"boolean",default:!0}),e("smart_paste",{processor:"boolean",default:!0}),e("paste_as_text",{processor:"boolean",default:!1}),e("paste_tab_spaces",{processor:"number",default:4}),e("text_patterns",{processor:function(t){return L(t,O)||!1===t?{value:Sc(!1===t?[]:t),valid:!0}:{valid:!1,message:"Must be an array of objects or false."}},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1"},{start:"##",format:"h2"},{start:"###",format:"h3"},{start:"####",format:"h4"},{start:"#####",format:"h5"},{start:"######",format:"h6"},{start:"1. ",cmd:"InsertOrderedList"},{start:"* ",cmd:"InsertUnorderedList"},{start:"- ",cmd:"InsertUnorderedList"}]}),e("text_patterns_lookup",{processor:function(t){return I(t)?{value:(e=t,function(t){var n=e(t);return Sc(n)}),valid:!0}:{valid:!1,message:"Must be a single function"};var e},default:function(t){return[]}}),e("noneditable_class",{processor:"string",default:"mceNonEditable"}),e("editable_class",{processor:"string",default:"mceEditable"}),e("noneditable_regexp",{processor:function(t){return L(t,Oc)?{value:t,valid:!0}:Oc(t)?{value:[t],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."}},default:[]}),e("table_tab_navigation",{processor:"boolean",default:!0}),e("highlight_on_focus",{processor:"boolean",default:!1}),e("xss_sanitization",{processor:"boolean",default:!0}),t.on("ScriptsLoaded",(function(){e("directionality",{processor:"string",default:Gu.isRtl()?"rtl":void 0}),e("placeholder",{processor:"string",default:Ec.getAttrib(t.getElement(),"placeholder")})}))}(o);var a=this.options.get;a("deprecation_warnings")&&function(t,e){(function(t,e){var n=Zx(t),r=nw(e),o=r.length>0,i=n.length>0,u="mobile"===e.theme;if(o||i||u){var a="\n- ",c=u?"\n\nThemes:".concat(a,"mobile"):"",s=o?"\n\nPlugins:".concat(a).concat(r.join(a)):"",f=i?"\n\nOptions:".concat(a).concat(n.join(a)):"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 6.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/6/migration-from-5x/ for more information."+c+s+f)}})(t,e),function(t,e){var n=tw(t),r=rw(e),o=r.length>0,i=n.length>0;if(o||i){var u="\n- ",a=o?"\n\nPlugins:".concat(u).concat(r.map(ow).join(u)):"",c=i?"\n\nOptions:".concat(u).concat(n.join(u)):"";console.warn("The following deprecated features are currently enabled but will be removed soon."+a+c)}}(t,e)}(n,u);var c=a("suffix");c&&(r.suffix=c),this.suffix=r.suffix;var f=a("base_url");f&&r._setBaseUrl(f),this.baseUri=r.baseURI;var l=es(o);l&&(Hu.ScriptLoader._setReferrerPolicy(l),zu.DOM.styleSheetLoader._setReferrerPolicy(l));var m=Ms(o);M(m)&&zu.DOM.styleSheetLoader._setContentCssCors(m),Ku.languageLoad=a("language_load"),Ku.baseURL=r.baseURL,this.setDirty(!1),this.documentBaseURI=new Vy(Bc(o),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=Es(o),this.hasVisual=Fs(o),this.shortcuts=new LR(this),this.editorCommands=new sR(this),uR(this);var p=a("cache_suffix");p&&(Ve.cacheSuffix=p.replace(/^[\?\&]+/,"")),this.ui={registry:FR(),styleSheetLoader:void 0,show:F,hide:F,setEnabled:F,isEnabled:X},this.mode=function(t){var e=Vu("design"),n=Vu({design:{activate:F,deactivate:F,editorReadOnly:!1},readonly:{activate:F,deactivate:F,editorReadOnly:!0}});return function(t){t.serializer?gR(t):t.on("PreInit",(function(){gR(t)}))}(t),function(t){t.on("ShowCaret",(function(e){pR(t)&&e.preventDefault()})),t.on("ObjectSelected",(function(e){pR(t)&&e.preventDefault()}))}(t),{isReadOnly:function(){return pR(t)},set:function(r){return function(t,e,n,r){if(r!==n.get()){if(!Lt(e,r))throw new Error("Editor mode '".concat(r,"' is invalid"));t.initialized?NR(t,n,e,r):t.on("init",(function(){return NR(t,n,e,r)}))}}(t,n.get(),e,r)},get:function(){return e.get()},register:function(t,e){n.set(function(t,e,n){if(nt(RR,e))throw new Error("Cannot override default mode ".concat(e));return s(s({},t),{},i({},e,s(s({},n),{},{deactivate:function(){try{n.deactivate()}catch(t){console.error("problem while deactivating editor mode ".concat(e,":"),t)}}})))}(n.get(),t,e))}}}(o),r.dispatch("SetupEditor",{editor:this});var g=Hs(o);I(g)&&g.call(o,o)}return m(t,[{key:"render",value:function(){(function(t){var e=t.id;Gu.setCode(ns(t));var n=function e(){IA.unbind(window,"ready",e),t.render()};if(Ru.Event.domLoaded){if(t.getElement()){var r=Nn(t.getElement()),o=hn(r);t.on("remove",(function(){ut(r.dom.attributes,(function(t){return vn(r,t.name)})),dn(r,o)})),t.ui.styleSheetLoader=function(t,e){return Wi.forElement(t,{contentCssCors:Ms(e),referrerPolicy:es(e)})}(r,t),Es(t)?t.inline=!0:(t.orgVisibility=t.getElement().style.visibility,t.getElement().style.visibility="hidden");var i=t.getElement().form||IA.getParent(e,"form");i&&(t.formElement=i,Os(t)&&!ao(t.getElement())&&(IA.insertAfter(IA.create("input",{type:"hidden",name:e}),e),t.hasHiddenInput=!0),t.formEventDelegate=function(e){t.dispatch(e.type,e)},IA.bind(i,"submit reset",t.formEventDelegate),t.on("reset",(function(){t.resetContent()})),!Ts(t)||i.submit.nodeType||i.submit.length||i._mceOldSubmit||(i._mceOldSubmit=i.submit,i.submit=function(){return t.editorManager.triggerSave(),t.setDirty(!1),i._mceOldSubmit(i)})),t.windowManager=bw(t),t.notificationManager=gw(t),function(t){return"xml"===t.options.get("encoding")}(t)&&t.on("GetContent",(function(t){t.save&&(t.content=IA.encode(t.content))})),As(t)&&t.on("submit",(function(){t.initialized&&t.save()})),Rs(t)&&(t._beforeUnload=function(){!t.initialized||t.destroyed||t.isHidden()||t.save({format:"raw",no_events:!0,set_dirty:!1})},t.editorManager.on("BeforeUnload",t._beforeUnload)),t.editorManager.add(t),FA(t,t.suffix)}}else IA.bind(window,"ready",n)})(this)}},{key:"focus",value:function(t){this.execCommand("mceFocus",!1,t)}},{key:"hasFocus",value:function(){return Ep(this)}},{key:"translate",value:function(t){return Gu.translate(t)}},{key:"getParam",value:function(t,e,n){var r=this.options;return r.isRegistered(t)||(M(n)?r.register(t,{processor:n,default:e}):r.register(t,{processor:X,default:e})),r.isSet(t)||D(e)?r.get(t):e}},{key:"hasPlugin",value:function(t,e){return!(!nt(Is(this),t)||e&&void 0===vw.get(t))}},{key:"nodeChanged",value:function(t){this._nodeChangeDispatcher.nodeChanged(t)}},{key:"addCommand",value:function(t,e,n){this.editorCommands.addCommand(t,e,n)}},{key:"addQueryStateHandler",value:function(t,e,n){this.editorCommands.addQueryStateHandler(t,e,n)}},{key:"addQueryValueHandler",value:function(t,e,n){this.editorCommands.addQueryValueHandler(t,e,n)}},{key:"addShortcut",value:function(t,e,n,r){this.shortcuts.add(t,e,n,r)}},{key:"execCommand",value:function(t,e,n,r){return this.editorCommands.execCommand(t,e,n,r)}},{key:"queryCommandState",value:function(t){return this.editorCommands.queryCommandState(t)}},{key:"queryCommandValue",value:function(t){return this.editorCommands.queryCommandValue(t)}},{key:"queryCommandSupported",value:function(t){return this.editorCommands.queryCommandSupported(t)}},{key:"show",value:function(){var t=this;t.hidden&&(t.hidden=!1,t.inline?t.getBody().contentEditable="true":(jR.show(t.getContainer()),jR.hide(t.id)),t.load(),t.dispatch("show"))}},{key:"hide",value:function(){var t=this;t.hidden||(t.save(),t.inline?(t.getBody().contentEditable="false",t===t.editorManager.focusedEditor&&(t.editorManager.focusedEditor=null)):(jR.hide(t.getContainer()),jR.setStyle(t.id,"display",t.orgDisplay)),t.hidden=!0,t.dispatch("hide"))}},{key:"isHidden",value:function(){return this.hidden}},{key:"setProgressState",value:function(t,e){this.dispatch("ProgressState",{state:t,time:e})}},{key:"load",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this,n=e.getElement();if(e.removed)return"";if(n){var r=s(s({},t),{},{load:!0}),o=ao(n)?n.value:n.innerHTML,i=e.setContent(o,r);return r.no_events||e.dispatch("LoadContent",s(s({},r),{},{element:n})),i}return""}},{key:"save",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this,n=e.getElement();if(!n||!e.initialized||e.removed)return"";var r=s(s({},t),{},{save:!0,element:n}),o=e.getContent(r),i=s(s({},r),{},{content:o});if(i.no_events||e.dispatch("SaveContent",i),"raw"===i.format&&e.dispatch("RawSaveContent",i),o=i.content,ao(n))n.value=o;else{!t.is_removing&&e.inline||(n.innerHTML=o);var u=jR.getParent(e.id,"form");u&&UR(u.elements,(function(t){return t.name!==e.id||(t.value=o,!1)}))}return i.element=r.element=n=null,!1!==i.set_dirty&&e.setDirty(!1),o}},{key:"setContent",value:function(t,e){return Gx(this,t,e)}},{key:"getContent",value:function(t){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=function(t,e){return s(s({},t),{},{format:e,get:!0,getInner:!0})}(e,e.format?e.format:"html");return ox(t,n).fold(H,(function(e){var n=function(t,e){return Px(t).editor.getContent(e)}(t,e);return ix(t,n,e)}))}(this,t)}},{key:"insertContent",value:function(t,e){e&&(t=zR({content:t},e)),this.execCommand("mceInsertContent",!1,t)}},{key:"resetContent",value:function(t){void 0===t?Gx(this,this.startContent,{format:"raw"}):Gx(this,t),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}},{key:"isDirty",value:function(){return!this.isNotDirty}},{key:"setDirty",value:function(t){var e=!this.isNotDirty;this.isNotDirty=!t,t&&t!==e&&this.dispatch("dirty")}},{key:"getContainer",value:function(){var t=this;return t.container||(t.container=t.editorContainer||jR.get(t.id+"_parent")),t.container}},{key:"getContentAreaContainer",value:function(){return this.contentAreaContainer}},{key:"getElement",value:function(){return this.targetElm||(this.targetElm=jR.get(this.id)),this.targetElm}},{key:"getWin",value:function(){var t=this;if(!t.contentWindow){var e=t.iframeElement;e&&(t.contentWindow=e.contentWindow)}return t.contentWindow}},{key:"getDoc",value:function(){var t=this;if(!t.contentDocument){var e=t.getWin();e&&(t.contentDocument=e.document)}return t.contentDocument}},{key:"getBody",value:function(){var t,e,n=this.getDoc();return null!==(e=null!==(t=this.bodyElement)&&void 0!==t?t:null==n?void 0:n.body)&&void 0!==e?e:null}},{key:"convertURL",value:function(t,e,n){var r=this,o=r.options.get,i=Ws(r);return I(i)?i.call(r,t,n,!0,e):!o("convert_urls")||"link"===n||O(n)&&"LINK"===n.nodeName||0===t.indexOf("file:")||0===t.length?t:o("relative_urls")?r.documentBaseURI.toRelative(t):t=r.documentBaseURI.toAbsolute(t,o("remove_script_host"))}},{key:"addVisual",value:function(t){(function(t,e){(function(t,e){Lx(t).editor.addVisual(e)})(t,e)})(this,t)}},{key:"remove",value:function(){(function(t){if(!t.removed){var e=t._selectionOverrides,n=t.editorUpload,r=t.getBody(),o=t.getElement();r&&t.save({is_removing:!0}),t.removed=!0,t.unbindAllNativeEvents(),t.hasHiddenInput&&M(null==o?void 0:o.nextSibling)&&iw.remove(o.nextSibling),function(t){t.dispatch("remove")}(t),t.editorManager.remove(t),!t.inline&&r&&function(t){iw.setStyle(t.id,"display",t.orgDisplay)}(t),function(t){t.dispatch("detach")}(t),iw.remove(t.getContainer()),uw(e),uw(n),t.destroy()}})(this)}},{key:"destroy",value:function(t){(function(t,e){var n=t.selection,r=t.dom;t.destroyed||(e||t.removed?(e||(t.editorManager.off("beforeunload",t._beforeUnload),t.theme&&t.theme.destroy&&t.theme.destroy(),uw(n),uw(r)),function(t){var e=t.formElement;e&&(e._mceOldSubmit&&(e.submit=e._mceOldSubmit,delete e._mceOldSubmit),iw.unbind(e,"submit reset",t.formEventDelegate))}(t),function(t){var e=t;e.contentAreaContainer=e.formElement=e.container=e.editorContainer=null,e.bodyElement=e.contentDocument=e.contentWindow=null,e.iframeElement=e.targetElm=null;var n=t.selection;if(n){var r=n.dom;e.selection=n.win=n.dom=r.doc=null}}(t),t.destroyed=!0):t.remove())})(this,t)}},{key:"uploadImages",value:function(){return this.editorUpload.uploadImages()}},{key:"_scanForImages",value:function(){return this.editorUpload.scanForImages()}}]),t}(),VR=zu.DOM,WR=Ge.each,$R=!1,qR=[],GR=function(t){var e=t.type;WR(JR.get(),(function(n){switch(e){case"scroll":n.dispatch("ScrollWindow",t);break;case"resize":n.dispatch("ResizeWindow",t)}}))},KR=function(t){if(t!==$R){var e=zu.DOM;t?(e.bind(window,"resize",GR),e.bind(window,"scroll",GR)):(e.unbind(window,"resize",GR),e.unbind(window,"scroll",GR)),$R=t}},YR=function(t){var e=qR;return qR=ct(qR,(function(e){return t!==e})),JR.activeEditor===t&&(JR.activeEditor=qR.length>0?qR[0]:null),JR.focusedEditor===t&&(JR.focusedEditor=null),e.length!==qR.length},XR="CSS1Compat"!==document.compatMode,JR=s(s({},xR),{},{baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"6",minorVersion:"4.2",releaseDate:"2023-04-26",i18n:Gu,activeEditor:null,focusedEditor:null,setup:function(){var t=this,e="",n="",r=Vy.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/"));var o,i=window.tinymce||window.tinyMCEPreInit;if(i)e=i.base||i.baseURL,n=i.suffix;else{for(var u=document.getElementsByTagName("script"),a=0;a<u.length;a++){var c=u[a].src||"";if(""!==c){var s=c.substring(c.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(c)){-1!==s.indexOf(".min")&&(n=".min"),e=c.substring(0,c.lastIndexOf("/"));break}}}if(!e&&document.currentScript){var f=document.currentScript.src;-1!==f.indexOf(".min")&&(n=".min"),e=f.substring(0,f.lastIndexOf("/"))}}t.baseURL=new Vy(r).toAbsolute(e),t.documentBaseURL=r,t.baseURI=new Vy(t.baseURL),t.suffix=n,(o=t).on("AddEditor",W(Cp,o)),o.on("RemoveEditor",W(Sp,o))},overrideDefaults:function(t){var e=t.base_url;e&&this._setBaseUrl(e);var n=t.suffix;n&&(this.suffix=n),this.defaultOptions=t;var r=t.plugin_base_urls;void 0!==r&&Tt(r,(function(t,e){Ku.PluginManager.urls[e]=t}))},init:function(t){var e,n=this,r=Ge.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),o=function(t){e=t},i=function e(){var i,u=0,a=[];VR.unbind(window,"ready",e),function(e){var r=t.onpageload;r&&r.apply(n,[])}(),i=function(t,e){for(var n=[],r=I(e)?function(t){return rt(n,(function(n){return e(n,t)}))}:function(t){return nt(n,t)},o=0,i=t.length;o<i;o++){var u=t[o];r(u)||n.push(u)}return n}(function(t){return Ve.browser.isIE()||Ve.browser.isEdge()?(Sw("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/6/support/#supportedwebbrowsers"),[]):XR?(Sw("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):E(t.selector)?VR.select(t.selector):M(t.target)?[t.target]:[]}(t)),Ge.each(i,(function(t){var e;(e=n.get(t.id))&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(YR(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0)})),i=Ge.grep(i,(function(t){return!n.get(t.id)})),0===i.length?o([]):WR(i,(function(e){!function(t,e){return t.inline&&e.tagName.toLowerCase()in r}(t,e)?function(t,e,r){var c=new HR(t,e,n);a.push(c),c.on("init",(function(){++u===i.length&&o(a)})),c.targetElm=c.targetElm||r,c.render()}(function(t){var e=t.id;return e||(e=Pt(t,"name").filter((function(t){return!VR.get(t)})).getOrThunk(VR.uniqueId),t.setAttribute("id",e)),e}(e),t,e):Sw("Could not initialize inline editor on invalid inline target element",e)}))};return VR.bind(window,"ready",i),new Promise((function(t){e?t(e):o=function(e){t(e)}}))},get:function(t){return 0===arguments.length?qR.slice(0):E(t)?dt(qR,(function(e){return e.id===t})).getOr(null):P(t)&&qR[t]?qR[t]:null},add:function(t){var e=this,n=e.get(t.id);return n===t||(null===n&&qR.push(t),KR(!0),e.activeEditor=t,e.dispatch("AddEditor",{editor:t}),yT||(yT=function(t){var n=e.dispatch("BeforeUnload");if(n.returnValue)return t.preventDefault(),t.returnValue=n.returnValue,n.returnValue},window.addEventListener("beforeunload",yT))),t},createEditor:function(t,e){return this.add(new HR(t,e,this))},remove:function(t){var e,n=this;if(t){if(!E(t))return e=t,R(n.get(e.id))?null:(YR(e)&&n.dispatch("RemoveEditor",{editor:e}),0===qR.length&&window.removeEventListener("beforeunload",yT),e.remove(),KR(qR.length>0),e);WR(VR.select(t),(function(t){e=n.get(t.id),e&&n.remove(e)}))}else for(var r=qR.length-1;r>=0;r--)n.remove(qR[r])},execCommand:function(t,e,n){var r,o=this,i=O(n)?null!==(r=n.id)&&void 0!==r?r:n.index:n;switch(t){case"mceAddEditor":if(!o.get(i)){var u=n.options;new HR(i,u,o).render()}return!0;case"mceRemoveEditor":var a=o.get(i);return a&&a.remove(),!0;case"mceToggleEditor":var c=o.get(i);return c?(c.isHidden()?c.show():c.hide(),!0):(o.execCommand("mceAddEditor",!1,n),!0)}return!!o.activeEditor&&o.activeEditor.execCommand(t,e,n)},triggerSave:function(){WR(qR,(function(t){t.save()}))},addI18n:function(t,e){Gu.add(t,e)},translate:function(t){return Gu.translate(t)},setActive:function(t){var e=this.activeEditor;this.activeEditor!==t&&(e&&e.dispatch("deactivate",{relatedTarget:t}),t.dispatch("activate",{relatedTarget:e})),this.activeEditor=t},_setBaseUrl:function(t){this.baseURL=new Vy(this.documentBaseURL).toAbsolute(t.replace(/\/+$/,"")),this.baseURI=new Vy(this.baseURL)}});JR.setup();var QR,ZR=function(){var t=Xu();return{FakeClipboardItem:function(t){return{items:t,types:Et(t),getType:function(e){return Pt(t,e).getOrUndefined()}}},write:function(e){t.set(e)},read:function(){return t.get().getOrUndefined()},clear:t.clear}}(),tN=Math.min,eN=Math.max,nN=Math.round,rN=function(t,e,n){var r=e.x,o=e.y,i=t.w,u=t.h,a=e.w,c=e.h,s=(n||"").split("");return"b"===s[0]&&(o+=c),"r"===s[1]&&(r+=a),"c"===s[0]&&(o+=nN(c/2)),"c"===s[1]&&(r+=nN(a/2)),"b"===s[3]&&(o-=u),"r"===s[4]&&(r-=i),"c"===s[3]&&(o-=nN(u/2)),"c"===s[4]&&(r-=nN(i/2)),oN(r,o,i,u)},oN=function(t,e,n,r){return{x:t,y:e,w:n,h:r}},iN={inflate:function(t,e,n){return oN(t.x-e,t.y-n,t.w+2*e,t.h+2*n)},relativePosition:rN,findBestRelativePosition:function(t,e,n,r){for(var o=0;o<r.length;o++){var i=rN(t,e,r[o]);if(i.x>=n.x&&i.x+i.w<=n.w+n.x&&i.y>=n.y&&i.y+i.h<=n.h+n.y)return r[o]}return null},intersect:function(t,e){var n=eN(t.x,e.x),r=eN(t.y,e.y),o=tN(t.x+t.w,e.x+e.w),i=tN(t.y+t.h,e.y+e.h);return o-n<0||i-r<0?null:oN(n,r,o-n,i-r)},clamp:function(t,e,n){var r=t.x,o=t.y,i=t.x+t.w,u=t.y+t.h,a=e.x+e.w,c=e.y+e.h,s=eN(0,e.x-r),f=eN(0,e.y-o),l=eN(0,i-a),d=eN(0,u-c);return r+=s,o+=f,n&&(i+=s,u+=f,r-=l,o-=d),i-=l,u-=d,oN(r,o,i-r,u-o)},create:oN,fromClientRect:function(t){return oN(t.left,t.top,t.width,t.height)}},uN=function(){var t={},e={};return{load:function(n,r){var o='Script at URL "'.concat(r,'" failed to load'),i='Script at URL "'.concat(r,"\" did not call `tinymce.Resource.add('").concat(n,"', data)` within 1 second");if(void 0!==t[n])return t[n];var u=new Promise((function(t,u){var a=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=!1,o=null,i=function(t){return function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];r||(r=!0,null!==o&&(clearTimeout(o),o=null),t.apply(null,n))}},u=i(t),a=i(e);return{start:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];r||null!==o||(o=setTimeout((function(){return a.apply(null,e)}),n))},resolve:u,reject:a}}(t,u);e[n]=a.resolve,Hu.ScriptLoader.loadScript(r).then((function(){return a.start(i)}),(function(){return a.reject(o)}))}));return t[n]=u,u},add:function(n,r){void 0!==e[n]&&(e[n](r),delete e[n]),t[n]=Promise.resolve(r)},unload:function(e){delete t[e]}}}();try{var aN="__storage_test__";QR=window.localStorage,QR.setItem(aN,aN),QR.removeItem(aN)}catch(e){QR=function(){var t={},e=[],n={getItem:function(e){return t[e]||null},setItem:function(n,r){e.push(n),t[n]=String(r)},key:function(t){return e[t]},removeItem:function(n){e=e.filter((function(t){return t===n})),delete t[n]},clear:function(){e=[],t={}},length:0};return Object.defineProperty(n,"length",{get:function(){return e.length},configurable:!1,enumerable:!1}),n}()}var cN={geom:{Rect:iN},util:{Delay:hp,Tools:Ge,VK:im,URI:Vy,EventDispatcher:bR,Observable:xR,I18n:Gu,LocalStorage:QR,ImageUploader:function(t){var e=Ew(),n=Rw(t,e);return{upload:function(e){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return n.upload(e,r?Aw(t):void 0)}}}},dom:{EventUtils:Ru,TreeWalker:Xr,TextSeeker:va,DOMUtils:zu,ScriptLoader:Hu,RangeUtils:Lm,Serializer:qx,StyleSheetLoader:Vi,ControlSelection:fm,BookmarkManager:Jd,Selection:Vx,Event:Ru.Event},html:{Styles:wu,Entities:au,Node:Hp,Schema:xu,DomParser:nx,Writer:Jp,Serializer:Qp},Env:Ve,AddOnManager:Ku,Annotator:Xd,Formatter:Hw,UndoManager:Ww,EditorCommands:sR,WindowManager:bw,NotificationManager:gw,EditorObservable:_R,Shortcuts:LR,Editor:HR,FocusManager:vp,EditorManager:JR,DOM:zu.DOM,ScriptLoader:Hu.ScriptLoader,PluginManager:vw,ThemeManager:hw,ModelManager:cw,IconManager:aw,Resource:uN,FakeClipboard:ZR,trim:Ge.trim,isArray:Ge.isArray,is:Ge.is,toArray:Ge.toArray,makeMap:Ge.makeMap,each:Ge.each,map:Ge.map,grep:Ge.grep,inArray:Ge.inArray,extend:Ge.extend,walk:Ge.walk,resolve:Ge.resolve,explode:Ge.explode,_addCacheSuffix:Ge._addCacheSuffix},sN=Ge.extend(JR,cN);(function(t){window.tinymce=t,window.tinyMCE=t})(sN),function(e){if("object"==p(t))try{t.exports=e}catch(e){}}(sN)}()},9662:function(t,e,n){var r=n(614),o=n(6330),i=TypeError;t.exports=function(t){if(r(t))return t;throw i(o(t)+" is not a function")}},9483:function(t,e,n){var r=n(4411),o=n(6330),i=TypeError;t.exports=function(t){if(r(t))return t;throw i(o(t)+" is not a constructor")}},6077:function(t,e,n){var r=n(614),o=String,i=TypeError;t.exports=function(t){if("object"==typeof t||r(t))return t;throw i("Can't set "+o(t)+" as a prototype")}},1223:function(t,e,n){var r=n(5112),o=n(30),i=n(3070).f,u=r("unscopables"),a=Array.prototype;void 0==a[u]&&i(a,u,{configurable:!0,value:o(null)}),t.exports=function(t){a[u][t]=!0}},1530:function(t,e,n){"use strict";var r=n(8710).charAt;t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},5787:function(t,e,n){var r=n(7976),o=TypeError;t.exports=function(t,e){if(r(e,t))return t;throw o("Incorrect invocation")}},9670:function(t,e,n){var r=n(111),o=String,i=TypeError;t.exports=function(t){if(r(t))return t;throw i(o(t)+" is not an object")}},3013:function(t){t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},7556:function(t,e,n){var r=n(7293);t.exports=r((function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}}))},260:function(t,e,n){"use strict";var r,o,i,u=n(3013),a=n(9781),c=n(7854),s=n(614),f=n(111),l=n(2597),d=n(648),m=n(6330),p=n(8880),g=n(8052),v=n(7045),h=n(7976),b=n(9518),y=n(7674),x=n(5112),w=n(9711),C=n(9909),S=C.enforce,k=C.get,_=c.Int8Array,E=_&&_.prototype,O=c.Uint8ClampedArray,T=O&&O.prototype,A=_&&b(_),R=E&&b(E),N=Object.prototype,D=c.TypeError,B=x("toStringTag"),M=w("TYPED_ARRAY_TAG"),I="TypedArrayConstructor",P=u&&!!y&&"Opera"!==d(c.opera),L=!1,F={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},j={BigInt64Array:8,BigUint64Array:8},z=function(t){if(!f(t))return!1;var e=d(t);return"DataView"===e||l(F,e)||l(j,e)},U=function(t){var e=b(t);if(f(e)){var n=k(e);return n&&l(n,I)?n[I]:U(e)}},H=function(t){if(!f(t))return!1;var e=d(t);return l(F,e)||l(j,e)},V=function(t){if(H(t))return t;throw D("Target is not a typed array")},W=function(t){if(s(t)&&(!y||h(A,t)))return t;throw D(m(t)+" is not a typed array constructor")},$=function(t,e,n,r){if(a){if(n)for(var o in F){var i=c[o];if(i&&l(i.prototype,t))try{delete i.prototype[t]}catch(u){try{i.prototype[t]=e}catch(s){}}}R[t]&&!n||g(R,t,n?e:P&&E[t]||e,r)}},q=function(t,e,n){var r,o;if(a){if(y){if(n)for(r in F)if(o=c[r],o&&l(o,t))try{delete o[t]}catch(i){}if(A[t]&&!n)return;try{return g(A,t,n?e:P&&A[t]||e)}catch(i){}}for(r in F)o=c[r],!o||o[t]&&!n||g(o,t,e)}};for(r in F)o=c[r],i=o&&o.prototype,i?S(i)[I]=o:P=!1;for(r in j)o=c[r],i=o&&o.prototype,i&&(S(i)[I]=o);if((!P||!s(A)||A===Function.prototype)&&(A=function(){throw D("Incorrect invocation")},P))for(r in F)c[r]&&y(c[r],A);if((!P||!R||R===N)&&(R=A.prototype,P))for(r in F)c[r]&&y(c[r].prototype,R);if(P&&b(T)!==R&&y(T,R),a&&!l(R,B))for(r in L=!0,v(R,B,{configurable:!0,get:function(){return f(this)?this[M]:void 0}}),F)c[r]&&p(c[r],M,r);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:P,TYPED_ARRAY_TAG:L&&M,aTypedArray:V,aTypedArrayConstructor:W,exportTypedArrayMethod:$,exportTypedArrayStaticMethod:q,getTypedArrayConstructor:U,isView:z,isTypedArray:H,TypedArray:A,TypedArrayPrototype:R}},3331:function(t,e,n){"use strict";var r=n(7854),o=n(1702),i=n(9781),u=n(3013),a=n(6530),c=n(8880),s=n(7045),f=n(9190),l=n(7293),d=n(5787),m=n(9303),p=n(7466),g=n(7067),v=n(1179),h=n(9518),b=n(7674),y=n(8006).f,x=n(1285),w=n(1589),C=n(8003),S=n(9909),k=a.PROPER,_=a.CONFIGURABLE,E="ArrayBuffer",O="DataView",T="prototype",A="Wrong length",R="Wrong index",N=S.getterFor(E),D=S.getterFor(O),B=S.set,M=r[E],I=M,P=I&&I[T],L=r[O],F=L&&L[T],j=Object.prototype,z=r.Array,U=r.RangeError,H=o(x),V=o([].reverse),W=v.pack,$=v.unpack,q=function(t){return[255&t]},G=function(t){return[255&t,t>>8&255]},K=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},Y=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},X=function(t){return W(t,23,4)},J=function(t){return W(t,52,8)},Q=function(t,e,n){s(t[T],e,{configurable:!0,get:function(){return n(this)[e]}})},Z=function(t,e,n,r){var o=g(n),i=D(t);if(o+e>i.byteLength)throw U(R);var u=i.bytes,a=o+i.byteOffset,c=w(u,a,a+e);return r?c:V(c)},tt=function(t,e,n,r,o,i){var u=g(n),a=D(t);if(u+e>a.byteLength)throw U(R);for(var c=a.bytes,s=u+a.byteOffset,f=r(+o),l=0;l<e;l++)c[s+l]=f[i?l:e-l-1]};if(u){var et=k&&M.name!==E;if(l((function(){M(1)}))&&l((function(){new M(-1)}))&&!l((function(){return new M,new M(1.5),new M(NaN),1!=M.length||et&&!_})))et&&_&&c(M,"name",E);else{I=function(t){return d(this,P),new M(g(t))},I[T]=P;for(var nt,rt=y(M),ot=0;rt.length>ot;)(nt=rt[ot++])in I||c(I,nt,M[nt]);P.constructor=I}b&&h(F)!==j&&b(F,j);var it=new L(new I(2)),ut=o(F.setInt8);it.setInt8(0,2147483648),it.setInt8(1,2147483649),!it.getInt8(0)&&it.getInt8(1)||f(F,{setInt8:function(t,e){ut(this,t,e<<24>>24)},setUint8:function(t,e){ut(this,t,e<<24>>24)}},{unsafe:!0})}else I=function(t){d(this,P);var e=g(t);B(this,{type:E,bytes:H(z(e),0),byteLength:e}),i||(this.byteLength=e,this.detached=!1)},P=I[T],L=function(t,e,n){d(this,F),d(t,P);var r=N(t),o=r.byteLength,u=m(e);if(u<0||u>o)throw U("Wrong offset");if(n=void 0===n?o-u:p(n),u+n>o)throw U(A);B(this,{type:O,buffer:t,byteLength:n,byteOffset:u,bytes:r.bytes}),i||(this.buffer=t,this.byteLength=n,this.byteOffset=u)},F=L[T],i&&(Q(I,"byteLength",N),Q(L,"buffer",D),Q(L,"byteLength",D),Q(L,"byteOffset",D)),f(F,{getInt8:function(t){return Z(this,1,t)[0]<<24>>24},getUint8:function(t){return Z(this,1,t)[0]},getInt16:function(t){var e=Z(this,2,t,arguments.length>1?arguments[1]:void 0);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=Z(this,2,t,arguments.length>1?arguments[1]:void 0);return e[1]<<8|e[0]},getInt32:function(t){return Y(Z(this,4,t,arguments.length>1?arguments[1]:void 0))},getUint32:function(t){return Y(Z(this,4,t,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(t){return $(Z(this,4,t,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(t){return $(Z(this,8,t,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(t,e){tt(this,1,t,q,e)},setUint8:function(t,e){tt(this,1,t,q,e)},setInt16:function(t,e){tt(this,2,t,G,e,arguments.length>2?arguments[2]:void 0)},setUint16:function(t,e){tt(this,2,t,G,e,arguments.length>2?arguments[2]:void 0)},setInt32:function(t,e){tt(this,4,t,K,e,arguments.length>2?arguments[2]:void 0)},setUint32:function(t,e){tt(this,4,t,K,e,arguments.length>2?arguments[2]:void 0)},setFloat32:function(t,e){tt(this,4,t,X,e,arguments.length>2?arguments[2]:void 0)},setFloat64:function(t,e){tt(this,8,t,J,e,arguments.length>2?arguments[2]:void 0)}});C(I,E),C(L,O),t.exports={ArrayBuffer:I,DataView:L}},1048:function(t,e,n){"use strict";var r=n(7908),o=n(1400),i=n(6244),u=n(5117),a=Math.min;t.exports=[].copyWithin||function(t,e){var n=r(this),c=i(n),s=o(t,c),f=o(e,c),l=arguments.length>2?arguments[2]:void 0,d=a((void 0===l?c:o(l,c))-f,c-s),m=1;f<s&&s<f+d&&(m=-1,f+=d-1,s+=d-1);while(d-- >0)f in n?n[s]=n[f]:u(n,s),s+=m,f+=m;return n}},1285:function(t,e,n){"use strict";var r=n(7908),o=n(1400),i=n(6244);t.exports=function(t){var e=r(this),n=i(e),u=arguments.length,a=o(u>1?arguments[1]:void 0,n),c=u>2?arguments[2]:void 0,s=void 0===c?n:o(c,n);while(s>a)e[a++]=t;return e}},8533:function(t,e,n){"use strict";var r=n(2092).forEach,o=n(2133),i=o("forEach");t.exports=i?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},7745:function(t,e,n){var r=n(6244);t.exports=function(t,e){var n=0,o=r(e),i=new t(o);while(o>n)i[n]=e[n++];return i}},8457:function(t,e,n){"use strict";var r=n(9974),o=n(6916),i=n(7908),u=n(3411),a=n(7659),c=n(4411),s=n(6244),f=n(6135),l=n(4121),d=n(1246),m=Array;t.exports=function(t){var e=i(t),n=c(this),p=arguments.length,g=p>1?arguments[1]:void 0,v=void 0!==g;v&&(g=r(g,p>2?arguments[2]:void 0));var h,b,y,x,w,C,S=d(e),k=0;if(!S||this===m&&a(S))for(h=s(e),b=n?new this(h):m(h);h>k;k++)C=v?g(e[k],k):e[k],f(b,k,C);else for(x=l(e,S),w=x.next,b=n?new this:[];!(y=o(w,x)).done;k++)C=v?u(x,g,[y.value,k],!0):y.value,f(b,k,C);return b.length=k,b}},1318:function(t,e,n){var r=n(5656),o=n(1400),i=n(6244),u=function(t){return function(e,n,u){var a,c=r(e),s=i(c),f=o(u,s);if(t&&n!=n){while(s>f)if(a=c[f++],a!=a)return!0}else for(;s>f;f++)if((t||f in c)&&c[f]===n)return t||f||0;return!t&&-1}};t.exports={includes:u(!0),indexOf:u(!1)}},9671:function(t,e,n){var r=n(9974),o=n(8361),i=n(7908),u=n(6244),a=function(t){var e=1==t;return function(n,a,c){var s,f,l=i(n),d=o(l),m=r(a,c),p=u(d);while(p-- >0)if(s=d[p],f=m(s,p,l),f)switch(t){case 0:return s;case 1:return p}return e?-1:void 0}};t.exports={findLast:a(0),findLastIndex:a(1)}},2092:function(t,e,n){var r=n(9974),o=n(1702),i=n(8361),u=n(7908),a=n(6244),c=n(5417),s=o([].push),f=function(t){var e=1==t,n=2==t,o=3==t,f=4==t,l=6==t,d=7==t,m=5==t||l;return function(p,g,v,h){for(var b,y,x=u(p),w=i(x),C=r(g,v),S=a(w),k=0,_=h||c,E=e?_(p,S):n||d?_(p,0):void 0;S>k;k++)if((m||k in w)&&(b=w[k],y=C(b,k,x),t))if(e)E[k]=y;else if(y)switch(t){case 3:return!0;case 5:return b;case 6:return k;case 2:s(E,b)}else switch(t){case 4:return!1;case 7:s(E,b)}return l?-1:o||f?f:E}};t.exports={forEach:f(0),map:f(1),filter:f(2),some:f(3),every:f(4),find:f(5),findIndex:f(6),filterReject:f(7)}},6583:function(t,e,n){"use strict";var r=n(2104),o=n(5656),i=n(9303),u=n(6244),a=n(2133),c=Math.min,s=[].lastIndexOf,f=!!s&&1/[1].lastIndexOf(1,-0)<0,l=a("lastIndexOf"),d=f||!l;t.exports=d?function(t){if(f)return r(s,this,arguments)||0;var e=o(this),n=u(e),a=n-1;for(arguments.length>1&&(a=c(a,i(arguments[1]))),a<0&&(a=n+a);a>=0;a--)if(a in e&&e[a]===t)return a||0;return-1}:s},1194:function(t,e,n){var r=n(7293),o=n(5112),i=n(7392),u=o("species");t.exports=function(t){return i>=51||!r((function(){var e=[],n=e.constructor={};return n[u]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},2133:function(t,e,n){"use strict";var r=n(7293);t.exports=function(t,e){var n=[][t];return!!n&&r((function(){n.call(null,e||function(){return 1},1)}))}},3671:function(t,e,n){var r=n(9662),o=n(7908),i=n(8361),u=n(6244),a=TypeError,c=function(t){return function(e,n,c,s){r(n);var f=o(e),l=i(f),d=u(f),m=t?d-1:0,p=t?-1:1;if(c<2)while(1){if(m in l){s=l[m],m+=p;break}if(m+=p,t?m<0:d<=m)throw a("Reduce of empty array with no initial value")}for(;t?m>=0:d>m;m+=p)m in l&&(s=n(s,l[m],m,f));return s}};t.exports={left:c(!1),right:c(!0)}},3658:function(t,e,n){"use strict";var r=n(9781),o=n(3157),i=TypeError,u=Object.getOwnPropertyDescriptor,a=r&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=a?function(t,e){if(o(t)&&!u(t,"length").writable)throw i("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e}},1589:function(t,e,n){var r=n(1400),o=n(6244),i=n(6135),u=Array,a=Math.max;t.exports=function(t,e,n){for(var c=o(t),s=r(e,c),f=r(void 0===n?c:n,c),l=u(a(f-s,0)),d=0;s<f;s++,d++)i(l,d,t[s]);return l.length=d,l}},206:function(t,e,n){var r=n(1702);t.exports=r([].slice)},4362:function(t,e,n){var r=n(1589),o=Math.floor,i=function(t,e){var n=t.length,c=o(n/2);return n<8?u(t,e):a(t,i(r(t,0,c),e),i(r(t,c),e),e)},u=function(t,e){var n,r,o=t.length,i=1;while(i<o){r=i,n=t[i];while(r&&e(t[r-1],n)>0)t[r]=t[--r];r!==i++&&(t[r]=n)}return t},a=function(t,e,n,r){var o=e.length,i=n.length,u=0,a=0;while(u<o||a<i)t[u+a]=u<o&&a<i?r(e[u],n[a])<=0?e[u++]:n[a++]:u<o?e[u++]:n[a++];return t};t.exports=i},7475:function(t,e,n){var r=n(3157),o=n(4411),i=n(111),u=n(5112),a=u("species"),c=Array;t.exports=function(t){var e;return r(t)&&(e=t.constructor,o(e)&&(e===c||r(e.prototype))?e=void 0:i(e)&&(e=e[a],null===e&&(e=void 0))),void 0===e?c:e}},5417:function(t,e,n){var r=n(7475);t.exports=function(t,e){return new(r(t))(0===e?0:e)}},1843:function(t,e,n){var r=n(6244);t.exports=function(t,e){for(var n=r(t),o=new e(n),i=0;i<n;i++)o[i]=t[n-i-1];return o}},1572:function(t,e,n){var r=n(6244),o=n(9303),i=RangeError;t.exports=function(t,e,n,u){var a=r(t),c=o(n),s=c<0?a+c:c;if(s>=a||s<0)throw i("Incorrect index");for(var f=new e(a),l=0;l<a;l++)f[l]=l===s?u:t[l];return f}},4170:function(t){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n={},r=0;r<66;r++)n[e.charAt(r)]=r;t.exports={itoc:e,ctoi:n}},3411:function(t,e,n){var r=n(9670),o=n(9212);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(u){o(t,"throw",u)}}},7072:function(t,e,n){var r=n(5112),o=r("iterator"),i=!1;try{var u=0,a={next:function(){return{done:!!u++}},return:function(){i=!0}};a[o]=function(){return this},Array.from(a,(function(){throw 2}))}catch(c){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var r={};r[o]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(c){}return n}},4326:function(t,e,n){var r=n(1702),o=r({}.toString),i=r("".slice);t.exports=function(t){return i(o(t),8,-1)}},648:function(t,e,n){var r=n(1694),o=n(614),i=n(4326),u=n(5112),a=u("toStringTag"),c=Object,s="Arguments"==i(function(){return arguments}()),f=function(t,e){try{return t[e]}catch(n){}};t.exports=r?i:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=f(e=c(t),a))?n:s?i(e):"Object"==(r=i(e))&&o(e.callee)?"Arguments":r}},5631:function(t,e,n){"use strict";var r=n(30),o=n(7045),i=n(9190),u=n(9974),a=n(5787),c=n(8554),s=n(408),f=n(1656),l=n(6178),d=n(6340),m=n(9781),p=n(2423).fastKey,g=n(9909),v=g.set,h=g.getterFor;t.exports={getConstructor:function(t,e,n,f){var l=t((function(t,o){a(t,d),v(t,{type:e,index:r(null),first:void 0,last:void 0,size:0}),m||(t.size=0),c(o)||s(o,t[f],{that:t,AS_ENTRIES:n})})),d=l.prototype,g=h(e),b=function(t,e,n){var r,o,i=g(t),u=y(t,e);return u?u.value=n:(i.last=u={index:o=p(e,!0),key:e,value:n,previous:r=i.last,next:void 0,removed:!1},i.first||(i.first=u),r&&(r.next=u),m?i.size++:t.size++,"F"!==o&&(i.index[o]=u)),t},y=function(t,e){var n,r=g(t),o=p(e);if("F"!==o)return r.index[o];for(n=r.first;n;n=n.next)if(n.key==e)return n};return i(d,{clear:function(){var t=this,e=g(t),n=e.index,r=e.first;while(r)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete n[r.index],r=r.next;e.first=e.last=void 0,m?e.size=0:t.size=0},delete:function(t){var e=this,n=g(e),r=y(e,t);if(r){var o=r.next,i=r.previous;delete n.index[r.index],r.removed=!0,i&&(i.next=o),o&&(o.previous=i),n.first==r&&(n.first=o),n.last==r&&(n.last=i),m?n.size--:e.size--}return!!r},forEach:function(t){var e,n=g(this),r=u(t,arguments.length>1?arguments[1]:void 0);while(e=e?e.next:n.first){r(e.value,e.key,this);while(e&&e.removed)e=e.previous}},has:function(t){return!!y(this,t)}}),i(d,n?{get:function(t){var e=y(this,t);return e&&e.value},set:function(t,e){return b(this,0===t?0:t,e)}}:{add:function(t){return b(this,t=0===t?0:t,t)}}),m&&o(d,"size",{configurable:!0,get:function(){return g(this).size}}),l},setStrong:function(t,e,n){var r=e+" Iterator",o=h(e),i=h(r);f(t,e,(function(t,e){v(this,{type:r,target:t,state:o(t),kind:e,last:void 0})}),(function(){var t=i(this),e=t.kind,n=t.last;while(n&&n.removed)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?l("keys"==e?n.key:"values"==e?n.value:[n.key,n.value],!1):(t.target=void 0,l(void 0,!0))}),n?"entries":"values",!n,!0),d(e)}}},9320:function(t,e,n){"use strict";var r=n(1702),o=n(9190),i=n(2423).getWeakData,u=n(5787),a=n(9670),c=n(8554),s=n(111),f=n(408),l=n(2092),d=n(2597),m=n(9909),p=m.set,g=m.getterFor,v=l.find,h=l.findIndex,b=r([].splice),y=0,x=function(t){return t.frozen||(t.frozen=new w)},w=function(){this.entries=[]},C=function(t,e){return v(t.entries,(function(t){return t[0]===e}))};w.prototype={get:function(t){var e=C(this,t);if(e)return e[1]},has:function(t){return!!C(this,t)},set:function(t,e){var n=C(this,t);n?n[1]=e:this.entries.push([t,e])},delete:function(t){var e=h(this.entries,(function(e){return e[0]===t}));return~e&&b(this.entries,e,1),!!~e}},t.exports={getConstructor:function(t,e,n,r){var l=t((function(t,o){u(t,m),p(t,{type:e,id:y++,frozen:void 0}),c(o)||f(o,t[r],{that:t,AS_ENTRIES:n})})),m=l.prototype,v=g(e),h=function(t,e,n){var r=v(t),o=i(a(e),!0);return!0===o?x(r).set(e,n):o[r.id]=n,t};return o(m,{delete:function(t){var e=v(this);if(!s(t))return!1;var n=i(t);return!0===n?x(e)["delete"](t):n&&d(n,e.id)&&delete n[e.id]},has:function(t){var e=v(this);if(!s(t))return!1;var n=i(t);return!0===n?x(e).has(t):n&&d(n,e.id)}}),o(m,n?{get:function(t){var e=v(this);if(s(t)){var n=i(t);return!0===n?x(e).get(t):n?n[e.id]:void 0}},set:function(t,e){return h(this,t,e)}}:{add:function(t){return h(this,t,!0)}}),l}}},7710:function(t,e,n){"use strict";var r=n(2109),o=n(7854),i=n(1702),u=n(4705),a=n(8052),c=n(2423),s=n(408),f=n(5787),l=n(614),d=n(8554),m=n(111),p=n(7293),g=n(7072),v=n(8003),h=n(9587);t.exports=function(t,e,n){var b=-1!==t.indexOf("Map"),y=-1!==t.indexOf("Weak"),x=b?"set":"add",w=o[t],C=w&&w.prototype,S=w,k={},_=function(t){var e=i(C[t]);a(C,t,"add"==t?function(t){return e(this,0===t?0:t),this}:"delete"==t?function(t){return!(y&&!m(t))&&e(this,0===t?0:t)}:"get"==t?function(t){return y&&!m(t)?void 0:e(this,0===t?0:t)}:"has"==t?function(t){return!(y&&!m(t))&&e(this,0===t?0:t)}:function(t,n){return e(this,0===t?0:t,n),this})},E=u(t,!l(w)||!(y||C.forEach&&!p((function(){(new w).entries().next()}))));if(E)S=n.getConstructor(e,t,b,x),c.enable();else if(u(t,!0)){var O=new S,T=O[x](y?{}:-0,1)!=O,A=p((function(){O.has(1)})),R=g((function(t){new w(t)})),N=!y&&p((function(){var t=new w,e=5;while(e--)t[x](e,e);return!t.has(-0)}));R||(S=e((function(t,e){f(t,C);var n=h(new w,t,S);return d(e)||s(e,n[x],{that:n,AS_ENTRIES:b}),n})),S.prototype=C,C.constructor=S),(A||N)&&(_("delete"),_("has"),b&&_("get")),(N||T)&&_(x),y&&C.clear&&delete C.clear}return k[t]=S,r({global:!0,constructor:!0,forced:S!=w},k),v(S,t),y||n.setStrong(S,t,b),S}},9920:function(t,e,n){var r=n(2597),o=n(3887),i=n(1236),u=n(3070);t.exports=function(t,e,n){for(var a=o(e),c=u.f,s=i.f,f=0;f<a.length;f++){var l=a[f];r(t,l)||n&&r(n,l)||c(t,l,s(e,l))}}},8544:function(t,e,n){var r=n(7293);t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},4230:function(t,e,n){var r=n(1702),o=n(4488),i=n(1340),u=/"/g,a=r("".replace);t.exports=function(t,e,n,r){var c=i(o(t)),s="<"+e;return""!==n&&(s+=" "+n+'="'+a(i(r),u,"&quot;")+'"'),s+">"+c+"</"+e+">"}},6178:function(t){t.exports=function(t,e){return{value:t,done:e}}},8880:function(t,e,n){var r=n(9781),o=n(3070),i=n(9114);t.exports=r?function(t,e,n){return o.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},9114:function(t){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},6135:function(t,e,n){"use strict";var r=n(4948),o=n(3070),i=n(9114);t.exports=function(t,e,n){var u=r(e);u in t?o.f(t,u,i(0,n)):t[u]=n}},8709:function(t,e,n){"use strict";var r=n(9670),o=n(2140),i=TypeError;t.exports=function(t){if(r(this),"string"===t||"default"===t)t="string";else if("number"!==t)throw i("Incorrect hint");return o(this,t)}},7045:function(t,e,n){var r=n(6339),o=n(3070);t.exports=function(t,e,n){return n.get&&r(n.get,e,{getter:!0}),n.set&&r(n.set,e,{setter:!0}),o.f(t,e,n)}},8052:function(t,e,n){var r=n(614),o=n(3070),i=n(6339),u=n(3072);t.exports=function(t,e,n,a){a||(a={});var c=a.enumerable,s=void 0!==a.name?a.name:e;if(r(n)&&i(n,s,a),a.global)c?t[e]=n:u(e,n);else{try{a.unsafe?t[e]&&(c=!0):delete t[e]}catch(f){}c?t[e]=n:o.f(t,e,{value:n,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return t}},9190:function(t,e,n){var r=n(8052);t.exports=function(t,e,n){for(var o in e)r(t,o,e[o],n);return t}},3072:function(t,e,n){var r=n(7854),o=Object.defineProperty;t.exports=function(t,e){try{o(r,t,{value:e,configurable:!0,writable:!0})}catch(n){r[t]=e}return e}},5117:function(t,e,n){"use strict";var r=n(6330),o=TypeError;t.exports=function(t,e){if(!delete t[e])throw o("Cannot delete property "+r(e)+" of "+r(t))}},9781:function(t,e,n){var r=n(7293);t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},4154:function(t){var e="object"==typeof document&&document.all,n="undefined"==typeof e&&void 0!==e;t.exports={all:e,IS_HTMLDDA:n}},317:function(t,e,n){var r=n(7854),o=n(111),i=r.document,u=o(i)&&o(i.createElement);t.exports=function(t){return u?i.createElement(t):{}}},7207:function(t){var e=TypeError,n=9007199254740991;t.exports=function(t){if(t>n)throw e("Maximum allowed index exceeded");return t}},3678:function(t){t.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},8324:function(t){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},8509:function(t,e,n){var r=n(317),o=r("span").classList,i=o&&o.constructor&&o.constructor.prototype;t.exports=i===Object.prototype?void 0:i},8886:function(t,e,n){var r=n(8113),o=r.match(/firefox\/(\d+)/i);t.exports=!!o&&+o[1]},7871:function(t,e,n){var r=n(3823),o=n(5268);t.exports=!r&&!o&&"object"==typeof window&&"object"==typeof document},9363:function(t){t.exports="function"==typeof Bun&&Bun&&"string"==typeof Bun.version},3823:function(t){t.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},256:function(t,e,n){var r=n(8113);t.exports=/MSIE|Trident/.test(r)},1528:function(t,e,n){var r=n(8113);t.exports=/ipad|iphone|ipod/i.test(r)&&"undefined"!=typeof Pebble},6833:function(t,e,n){var r=n(8113);t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},5268:function(t,e,n){var r=n(4326);t.exports="undefined"!=typeof process&&"process"==r(process)},1036:function(t,e,n){var r=n(8113);t.exports=/web0s(?!.*chrome)/i.test(r)},8113:function(t){t.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},7392:function(t,e,n){var r,o,i=n(7854),u=n(8113),a=i.process,c=i.Deno,s=a&&a.versions||c&&c.version,f=s&&s.v8;f&&(r=f.split("."),o=r[0]>0&&r[0]<4?1:+(r[0]+r[1])),!o&&u&&(r=u.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=u.match(/Chrome\/(\d+)/),r&&(o=+r[1]))),t.exports=o},8008:function(t,e,n){var r=n(8113),o=r.match(/AppleWebKit\/(\d+)\./);t.exports=!!o&&+o[1]},748:function(t){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},1060:function(t,e,n){var r=n(1702),o=Error,i=r("".replace),u=function(t){return String(o(t).stack)}("zxcasd"),a=/\n\s*at [^:]*:[^\n]*/,c=a.test(u);t.exports=function(t,e){if(c&&"string"==typeof t&&!o.prepareStackTrace)while(e--)t=i(t,a,"");return t}},5392:function(t,e,n){var r=n(8880),o=n(1060),i=n(2914),u=Error.captureStackTrace;t.exports=function(t,e,n,a){i&&(u?u(t,e):r(t,"stack",o(n,a)))}},2914:function(t,e,n){var r=n(7293),o=n(9114);t.exports=!r((function(){var t=Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",o(1,7)),7!==t.stack)}))},7762:function(t,e,n){"use strict";var r=n(9781),o=n(7293),i=n(9670),u=n(30),a=n(6277),c=Error.prototype.toString,s=o((function(){if(r){var t=u(Object.defineProperty({},"name",{get:function(){return this===t}}));if("true"!==c.call(t))return!0}return"2: 1"!==c.call({message:1,name:2})||"Error"!==c.call({})}));t.exports=s?function(){var t=i(this),e=a(t.name,"Error"),n=a(t.message);return e?n?e+": "+n:e:n}:c},2109:function(t,e,n){var r=n(7854),o=n(1236).f,i=n(8880),u=n(8052),a=n(3072),c=n(9920),s=n(4705);t.exports=function(t,e){var n,f,l,d,m,p,g=t.target,v=t.global,h=t.stat;if(f=v?r:h?r[g]||a(g,{}):(r[g]||{}).prototype,f)for(l in e){if(m=e[l],t.dontCallGetSet?(p=o(f,l),d=p&&p.value):d=f[l],n=s(v?l:g+(h?".":"#")+l,t.forced),!n&&void 0!==d){if(typeof m==typeof d)continue;c(m,d)}(t.sham||d&&d.sham)&&i(m,"sham",!0),u(f,l,m,t)}}},7293:function(t){t.exports=function(t){try{return!!t()}catch(e){return!0}}},7007:function(t,e,n){"use strict";n(4916);var r=n(1470),o=n(8052),i=n(2261),u=n(7293),a=n(5112),c=n(8880),s=a("species"),f=RegExp.prototype;t.exports=function(t,e,n,l){var d=a(t),m=!u((function(){var e={};return e[d]=function(){return 7},7!=""[t](e)})),p=m&&!u((function(){var e=!1,n=/a/;return"split"===t&&(n={},n.constructor={},n.constructor[s]=function(){return n},n.flags="",n[d]=/./[d]),n.exec=function(){return e=!0,null},n[d](""),!e}));if(!m||!p||n){var g=r(/./[d]),v=e(d,""[t],(function(t,e,n,o,u){var a=r(t),c=e.exec;return c===i||c===f.exec?m&&!u?{done:!0,value:g(e,n,o)}:{done:!0,value:a(n,e,o)}:{done:!1}}));o(String.prototype,t,v[0]),o(f,d,v[1])}l&&c(f[d],"sham",!0)}},6677:function(t,e,n){var r=n(7293);t.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},2104:function(t,e,n){var r=n(4374),o=Function.prototype,i=o.apply,u=o.call;t.exports="object"==typeof Reflect&&Reflect.apply||(r?u.bind(i):function(){return u.apply(i,arguments)})},9974:function(t,e,n){var r=n(1470),o=n(9662),i=n(4374),u=r(r.bind);t.exports=function(t,e){return o(t),void 0===e?t:i?u(t,e):function(){return t.apply(e,arguments)}}},4374:function(t,e,n){var r=n(7293);t.exports=!r((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},7065:function(t,e,n){"use strict";var r=n(1702),o=n(9662),i=n(111),u=n(2597),a=n(206),c=n(4374),s=Function,f=r([].concat),l=r([].join),d={},m=function(t,e,n){if(!u(d,e)){for(var r=[],o=0;o<e;o++)r[o]="a["+o+"]";d[e]=s("C,a","return new C("+l(r,",")+")")}return d[e](t,n)};t.exports=c?s.bind:function(t){var e=o(this),n=e.prototype,r=a(arguments,1),u=function(){var n=f(r,a(arguments));return this instanceof u?m(e,n.length,n):e.apply(t,n)};return i(n)&&(u.prototype=n),u}},6916:function(t,e,n){var r=n(4374),o=Function.prototype.call;t.exports=r?o.bind(o):function(){return o.apply(o,arguments)}},6530:function(t,e,n){var r=n(9781),o=n(2597),i=Function.prototype,u=r&&Object.getOwnPropertyDescriptor,a=o(i,"name"),c=a&&"something"===function(){}.name,s=a&&(!r||r&&u(i,"name").configurable);t.exports={EXISTS:a,PROPER:c,CONFIGURABLE:s}},5668:function(t,e,n){var r=n(1702),o=n(9662);t.exports=function(t,e,n){try{return r(o(Object.getOwnPropertyDescriptor(t,e)[n]))}catch(i){}}},1470:function(t,e,n){var r=n(4326),o=n(1702);t.exports=function(t){if("Function"===r(t))return o(t)}},1702:function(t,e,n){var r=n(4374),o=Function.prototype,i=o.call,u=r&&o.bind.bind(i,i);t.exports=r?u:function(t){return function(){return i.apply(t,arguments)}}},5005:function(t,e,n){var r=n(7854),o=n(614),i=function(t){return o(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?i(r[t]):r[t]&&r[t][e]}},1246:function(t,e,n){var r=n(648),o=n(8173),i=n(8554),u=n(7497),a=n(5112),c=a("iterator");t.exports=function(t){if(!i(t))return o(t,c)||o(t,"@@iterator")||u[r(t)]}},4121:function(t,e,n){var r=n(6916),o=n(9662),i=n(9670),u=n(6330),a=n(1246),c=TypeError;t.exports=function(t,e){var n=arguments.length<2?a(t):e;if(o(n))return i(r(n,t));throw c(u(t)+" is not iterable")}},8044:function(t,e,n){var r=n(1702),o=n(3157),i=n(614),u=n(4326),a=n(1340),c=r([].push);t.exports=function(t){if(i(t))return t;if(o(t)){for(var e=t.length,n=[],r=0;r<e;r++){var s=t[r];"string"==typeof s?c(n,s):"number"!=typeof s&&"Number"!=u(s)&&"String"!=u(s)||c(n,a(s))}var f=n.length,l=!0;return function(t,e){if(l)return l=!1,e;if(o(this))return e;for(var r=0;r<f;r++)if(n[r]===t)return e}}}},8173:function(t,e,n){var r=n(9662),o=n(8554);t.exports=function(t,e){var n=t[e];return o(n)?void 0:r(n)}},647:function(t,e,n){var r=n(1702),o=n(7908),i=Math.floor,u=r("".charAt),a=r("".replace),c=r("".slice),s=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,f=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,n,r,l,d){var m=n+t.length,p=r.length,g=f;return void 0!==l&&(l=o(l),g=s),a(d,g,(function(o,a){var s;switch(u(a,0)){case"$":return"$";case"&":return t;case"`":return c(e,0,n);case"'":return c(e,m);case"<":s=l[c(a,1,-1)];break;default:var f=+a;if(0===f)return o;if(f>p){var d=i(f/10);return 0===d?o:d<=p?void 0===r[d-1]?u(a,1):r[d-1]+u(a,1):o}s=r[f-1]}return void 0===s?"":s}))}},7854:function(t,e,n){var r=function(t){return t&&t.Math==Math&&t};t.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},2597:function(t,e,n){var r=n(1702),o=n(7908),i=r({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return i(o(t),e)}},3501:function(t){t.exports={}},842:function(t){t.exports=function(t,e){try{1==arguments.length?console.error(t):console.error(t,e)}catch(n){}}},490:function(t,e,n){var r=n(5005);t.exports=r("document","documentElement")},4664:function(t,e,n){var r=n(9781),o=n(7293),i=n(317);t.exports=!r&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},1179:function(t){var e=Array,n=Math.abs,r=Math.pow,o=Math.floor,i=Math.log,u=Math.LN2,a=function(t,a,c){var s,f,l,d=e(c),m=8*c-a-1,p=(1<<m)-1,g=p>>1,v=23===a?r(2,-24)-r(2,-77):0,h=t<0||0===t&&1/t<0?1:0,b=0;t=n(t),t!=t||t===1/0?(f=t!=t?1:0,s=p):(s=o(i(t)/u),l=r(2,-s),t*l<1&&(s--,l*=2),t+=s+g>=1?v/l:v*r(2,1-g),t*l>=2&&(s++,l/=2),s+g>=p?(f=0,s=p):s+g>=1?(f=(t*l-1)*r(2,a),s+=g):(f=t*r(2,g-1)*r(2,a),s=0));while(a>=8)d[b++]=255&f,f/=256,a-=8;s=s<<a|f,m+=a;while(m>0)d[b++]=255&s,s/=256,m-=8;return d[--b]|=128*h,d},c=function(t,e){var n,o=t.length,i=8*o-e-1,u=(1<<i)-1,a=u>>1,c=i-7,s=o-1,f=t[s--],l=127&f;f>>=7;while(c>0)l=256*l+t[s--],c-=8;n=l&(1<<-c)-1,l>>=-c,c+=e;while(c>0)n=256*n+t[s--],c-=8;if(0===l)l=1-a;else{if(l===u)return n?NaN:f?-1/0:1/0;n+=r(2,e),l-=a}return(f?-1:1)*n*r(2,l-e)};t.exports={pack:a,unpack:c}},8361:function(t,e,n){var r=n(1702),o=n(7293),i=n(4326),u=Object,a=r("".split);t.exports=o((function(){return!u("z").propertyIsEnumerable(0)}))?function(t){return"String"==i(t)?a(t,""):u(t)}:u},9587:function(t,e,n){var r=n(614),o=n(111),i=n(7674);t.exports=function(t,e,n){var u,a;return i&&r(u=e.constructor)&&u!==n&&o(a=u.prototype)&&a!==n.prototype&&i(t,a),t}},2788:function(t,e,n){var r=n(1702),o=n(614),i=n(5465),u=r(Function.toString);o(i.inspectSource)||(i.inspectSource=function(t){return u(t)}),t.exports=i.inspectSource},8340:function(t,e,n){var r=n(111),o=n(8880);t.exports=function(t,e){r(e)&&"cause"in e&&o(t,"cause",e.cause)}},2423:function(t,e,n){var r=n(2109),o=n(1702),i=n(3501),u=n(111),a=n(2597),c=n(3070).f,s=n(8006),f=n(1156),l=n(2050),d=n(9711),m=n(6677),p=!1,g=d("meta"),v=0,h=function(t){c(t,g,{value:{objectID:"O"+v++,weakData:{}}})},b=function(t,e){if(!u(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!a(t,g)){if(!l(t))return"F";if(!e)return"E";h(t)}return t[g].objectID},y=function(t,e){if(!a(t,g)){if(!l(t))return!0;if(!e)return!1;h(t)}return t[g].weakData},x=function(t){return m&&p&&l(t)&&!a(t,g)&&h(t),t},w=function(){C.enable=function(){},p=!0;var t=s.f,e=o([].splice),n={};n[g]=1,t(n).length&&(s.f=function(n){for(var r=t(n),o=0,i=r.length;o<i;o++)if(r[o]===g){e(r,o,1);break}return r},r({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:f.f}))},C=t.exports={enable:w,fastKey:b,getWeakData:y,onFreeze:x};i[g]=!0},9909:function(t,e,n){var r,o,i,u=n(4811),a=n(7854),c=n(111),s=n(8880),f=n(2597),l=n(5465),d=n(6200),m=n(3501),p="Object already initialized",g=a.TypeError,v=a.WeakMap,h=function(t){return i(t)?o(t):r(t,{})},b=function(t){return function(e){var n;if(!c(e)||(n=o(e)).type!==t)throw g("Incompatible receiver, "+t+" required");return n}};if(u||l.state){var y=l.state||(l.state=new v);y.get=y.get,y.has=y.has,y.set=y.set,r=function(t,e){if(y.has(t))throw g(p);return e.facade=t,y.set(t,e),e},o=function(t){return y.get(t)||{}},i=function(t){return y.has(t)}}else{var x=d("state");m[x]=!0,r=function(t,e){if(f(t,x))throw g(p);return e.facade=t,s(t,x,e),e},o=function(t){return f(t,x)?t[x]:{}},i=function(t){return f(t,x)}}t.exports={set:r,get:o,has:i,enforce:h,getterFor:b}},7659:function(t,e,n){var r=n(5112),o=n(7497),i=r("iterator"),u=Array.prototype;t.exports=function(t){return void 0!==t&&(o.Array===t||u[i]===t)}},3157:function(t,e,n){var r=n(4326);t.exports=Array.isArray||function(t){return"Array"==r(t)}},4067:function(t,e,n){var r=n(648);t.exports=function(t){var e=r(t);return"BigInt64Array"==e||"BigUint64Array"==e}},614:function(t,e,n){var r=n(4154),o=r.all;t.exports=r.IS_HTMLDDA?function(t){return"function"==typeof t||t===o}:function(t){return"function"==typeof t}},4411:function(t,e,n){var r=n(1702),o=n(7293),i=n(614),u=n(648),a=n(5005),c=n(2788),s=function(){},f=[],l=a("Reflect","construct"),d=/^\s*(?:class|function)\b/,m=r(d.exec),p=!d.exec(s),g=function(t){if(!i(t))return!1;try{return l(s,f,t),!0}catch(e){return!1}},v=function(t){if(!i(t))return!1;switch(u(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!m(d,c(t))}catch(e){return!0}};v.sham=!0,t.exports=!l||o((function(){var t;return g(g.call)||!g(Object)||!g((function(){t=!0}))||t}))?v:g},4705:function(t,e,n){var r=n(7293),o=n(614),i=/#|\.prototype\./,u=function(t,e){var n=c[a(t)];return n==f||n!=s&&(o(e)?r(e):!!e)},a=u.normalize=function(t){return String(t).replace(i,".").toLowerCase()},c=u.data={},s=u.NATIVE="N",f=u.POLYFILL="P";t.exports=u},5988:function(t,e,n){var r=n(111),o=Math.floor;t.exports=Number.isInteger||function(t){return!r(t)&&isFinite(t)&&o(t)===t}},8554:function(t){t.exports=function(t){return null===t||void 0===t}},111:function(t,e,n){var r=n(614),o=n(4154),i=o.all;t.exports=o.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:r(t)||t===i}:function(t){return"object"==typeof t?null!==t:r(t)}},1913:function(t){t.exports=!1},7850:function(t,e,n){var r=n(111),o=n(4326),i=n(5112),u=i("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[u])?!!e:"RegExp"==o(t))}},2190:function(t,e,n){var r=n(5005),o=n(614),i=n(7976),u=n(3307),a=Object;t.exports=u?function(t){return"symbol"==typeof t}:function(t){var e=r("Symbol");return o(e)&&i(e.prototype,a(t))}},408:function(t,e,n){var r=n(9974),o=n(6916),i=n(9670),u=n(6330),a=n(7659),c=n(6244),s=n(7976),f=n(4121),l=n(1246),d=n(9212),m=TypeError,p=function(t,e){this.stopped=t,this.result=e},g=p.prototype;t.exports=function(t,e,n){var v,h,b,y,x,w,C,S=n&&n.that,k=!(!n||!n.AS_ENTRIES),_=!(!n||!n.IS_RECORD),E=!(!n||!n.IS_ITERATOR),O=!(!n||!n.INTERRUPTED),T=r(e,S),A=function(t){return v&&d(v,"normal",t),new p(!0,t)},R=function(t){return k?(i(t),O?T(t[0],t[1],A):T(t[0],t[1])):O?T(t,A):T(t)};if(_)v=t.iterator;else if(E)v=t;else{if(h=l(t),!h)throw m(u(t)+" is not iterable");if(a(h)){for(b=0,y=c(t);y>b;b++)if(x=R(t[b]),x&&s(g,x))return x;return new p(!1)}v=f(t,h)}w=_?t.next:v.next;while(!(C=o(w,v)).done){try{x=R(C.value)}catch(N){d(v,"throw",N)}if("object"==typeof x&&x&&s(g,x))return x}return new p(!1)}},9212:function(t,e,n){var r=n(6916),o=n(9670),i=n(8173);t.exports=function(t,e,n){var u,a;o(t);try{if(u=i(t,"return"),!u){if("throw"===e)throw n;return n}u=r(u,t)}catch(c){a=!0,u=c}if("throw"===e)throw n;if(a)throw u;return o(u),n}},3061:function(t,e,n){"use strict";var r=n(3383).IteratorPrototype,o=n(30),i=n(9114),u=n(8003),a=n(7497),c=function(){return this};t.exports=function(t,e,n,s){var f=e+" Iterator";return t.prototype=o(r,{next:i(+!s,n)}),u(t,f,!1,!0),a[f]=c,t}},1656:function(t,e,n){"use strict";var r=n(2109),o=n(6916),i=n(1913),u=n(6530),a=n(614),c=n(3061),s=n(9518),f=n(7674),l=n(8003),d=n(8880),m=n(8052),p=n(5112),g=n(7497),v=n(3383),h=u.PROPER,b=u.CONFIGURABLE,y=v.IteratorPrototype,x=v.BUGGY_SAFARI_ITERATORS,w=p("iterator"),C="keys",S="values",k="entries",_=function(){return this};t.exports=function(t,e,n,u,p,v,E){c(n,e,u);var O,T,A,R=function(t){if(t===p&&I)return I;if(!x&&t in B)return B[t];switch(t){case C:return function(){return new n(this,t)};case S:return function(){return new n(this,t)};case k:return function(){return new n(this,t)}}return function(){return new n(this)}},N=e+" Iterator",D=!1,B=t.prototype,M=B[w]||B["@@iterator"]||p&&B[p],I=!x&&M||R(p),P="Array"==e&&B.entries||M;if(P&&(O=s(P.call(new t)),O!==Object.prototype&&O.next&&(i||s(O)===y||(f?f(O,y):a(O[w])||m(O,w,_)),l(O,N,!0,!0),i&&(g[N]=_))),h&&p==S&&M&&M.name!==S&&(!i&&b?d(B,"name",S):(D=!0,I=function(){return o(M,this)})),p)if(T={values:R(S),keys:v?I:R(C),entries:R(k)},E)for(A in T)(x||D||!(A in B))&&m(B,A,T[A]);else r({target:e,proto:!0,forced:x||D},T);return i&&!E||B[w]===I||m(B,w,I,{name:p}),g[e]=I,T}},3383:function(t,e,n){"use strict";var r,o,i,u=n(7293),a=n(614),c=n(111),s=n(30),f=n(9518),l=n(8052),d=n(5112),m=n(1913),p=d("iterator"),g=!1;[].keys&&(i=[].keys(),"next"in i?(o=f(f(i)),o!==Object.prototype&&(r=o)):g=!0);var v=!c(r)||u((function(){var t={};return r[p].call(t)!==t}));v?r={}:m&&(r=s(r)),a(r[p])||l(r,p,(function(){return this})),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:g}},7497:function(t){t.exports={}},6244:function(t,e,n){var r=n(7466);t.exports=function(t){return r(t.length)}},6339:function(t,e,n){var r=n(1702),o=n(7293),i=n(614),u=n(2597),a=n(9781),c=n(6530).CONFIGURABLE,s=n(2788),f=n(9909),l=f.enforce,d=f.get,m=String,p=Object.defineProperty,g=r("".slice),v=r("".replace),h=r([].join),b=a&&!o((function(){return 8!==p((function(){}),"length",{value:8}).length})),y=String(String).split("String"),x=t.exports=function(t,e,n){"Symbol("===g(m(e),0,7)&&(e="["+v(m(e),/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!u(t,"name")||c&&t.name!==e)&&(a?p(t,"name",{value:e,configurable:!0}):t.name=e),b&&n&&u(n,"arity")&&t.length!==n.arity&&p(t,"length",{value:n.arity});try{n&&u(n,"constructor")&&n.constructor?a&&p(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(o){}var r=l(t);return u(r,"source")||(r.source=h(y,"string"==typeof e?e:"")),t};Function.prototype.toString=x((function(){return i(this)&&d(this).source||s(this)}),"toString")},4758:function(t){var e=Math.ceil,n=Math.floor;t.exports=Math.trunc||function(t){var r=+t;return(r>0?n:e)(r)}},5948:function(t,e,n){var r,o,i,u,a,c=n(7854),s=n(9974),f=n(1236).f,l=n(261).set,d=n(8572),m=n(6833),p=n(1528),g=n(1036),v=n(5268),h=c.MutationObserver||c.WebKitMutationObserver,b=c.document,y=c.process,x=c.Promise,w=f(c,"queueMicrotask"),C=w&&w.value;if(!C){var S=new d,k=function(){var t,e;v&&(t=y.domain)&&t.exit();while(e=S.get())try{e()}catch(n){throw S.head&&r(),n}t&&t.enter()};m||v||g||!h||!b?!p&&x&&x.resolve?(u=x.resolve(void 0),u.constructor=x,a=s(u.then,u),r=function(){a(k)}):v?r=function(){y.nextTick(k)}:(l=s(l,c),r=function(){l(k)}):(o=!0,i=b.createTextNode(""),new h(k).observe(i,{characterData:!0}),r=function(){i.data=o=!o}),C=function(t){S.head||r(),S.add(t)}}t.exports=C},8523:function(t,e,n){"use strict";var r=n(9662),o=TypeError,i=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw o("Bad Promise constructor");e=t,n=r})),this.resolve=r(e),this.reject=r(n)};t.exports.f=function(t){return new i(t)}},6277:function(t,e,n){var r=n(1340);t.exports=function(t,e){return void 0===t?arguments.length<2?"":e:r(t)}},2814:function(t,e,n){var r=n(7854),o=n(7293),i=n(1702),u=n(1340),a=n(3111).trim,c=n(1361),s=i("".charAt),f=r.parseFloat,l=r.Symbol,d=l&&l.iterator,m=1/f(c+"-0")!==-1/0||d&&!o((function(){f(Object(d))}));t.exports=m?function(t){var e=a(u(t)),n=f(e);return 0===n&&"-"==s(e,0)?-0:n}:f},3009:function(t,e,n){var r=n(7854),o=n(7293),i=n(1702),u=n(1340),a=n(3111).trim,c=n(1361),s=r.parseInt,f=r.Symbol,l=f&&f.iterator,d=/^[+-]?0x/i,m=i(d.exec),p=8!==s(c+"08")||22!==s(c+"0x16")||l&&!o((function(){s(Object(l))}));t.exports=p?function(t,e){var n=a(u(t));return s(n,e>>>0||(m(d,n)?16:10))}:s},1574:function(t,e,n){"use strict";var r=n(9781),o=n(1702),i=n(6916),u=n(7293),a=n(1956),c=n(5181),s=n(5296),f=n(7908),l=n(8361),d=Object.assign,m=Object.defineProperty,p=o([].concat);t.exports=!d||u((function(){if(r&&1!==d({b:1},d(m({},"a",{enumerable:!0,get:function(){m(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol(),o="abcdefghijklmnopqrst";return t[n]=7,o.split("").forEach((function(t){e[t]=t})),7!=d({},t)[n]||a(d({},e)).join("")!=o}))?function(t,e){var n=f(t),o=arguments.length,u=1,d=c.f,m=s.f;while(o>u){var g,v=l(arguments[u++]),h=d?p(a(v),d(v)):a(v),b=h.length,y=0;while(b>y)g=h[y++],r&&!i(m,v,g)||(n[g]=v[g])}return n}:d},30:function(t,e,n){var r,o=n(9670),i=n(6048),u=n(748),a=n(3501),c=n(490),s=n(317),f=n(6200),l=">",d="<",m="prototype",p="script",g=f("IE_PROTO"),v=function(){},h=function(t){return d+p+l+t+d+"/"+p+l},b=function(t){t.write(h("")),t.close();var e=t.parentWindow.Object;return t=null,e},y=function(){var t,e=s("iframe"),n="java"+p+":";return e.style.display="none",c.appendChild(e),e.src=String(n),t=e.contentWindow.document,t.open(),t.write(h("document.F=Object")),t.close(),t.F},x=function(){try{r=new ActiveXObject("htmlfile")}catch(e){}x="undefined"!=typeof document?document.domain&&r?b(r):y():b(r);var t=u.length;while(t--)delete x[m][u[t]];return x()};a[g]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(v[m]=o(t),n=new v,v[m]=null,n[g]=t):n=x(),void 0===e?n:i.f(n,e)}},6048:function(t,e,n){var r=n(9781),o=n(3353),i=n(3070),u=n(9670),a=n(5656),c=n(1956);e.f=r&&!o?Object.defineProperties:function(t,e){u(t);var n,r=a(e),o=c(e),s=o.length,f=0;while(s>f)i.f(t,n=o[f++],r[n]);return t}},3070:function(t,e,n){var r=n(9781),o=n(4664),i=n(3353),u=n(9670),a=n(4948),c=TypeError,s=Object.defineProperty,f=Object.getOwnPropertyDescriptor,l="enumerable",d="configurable",m="writable";e.f=r?i?function(t,e,n){if(u(t),e=a(e),u(n),"function"===typeof t&&"prototype"===e&&"value"in n&&m in n&&!n[m]){var r=f(t,e);r&&r[m]&&(t[e]=n.value,n={configurable:d in n?n[d]:r[d],enumerable:l in n?n[l]:r[l],writable:!1})}return s(t,e,n)}:s:function(t,e,n){if(u(t),e=a(e),u(n),o)try{return s(t,e,n)}catch(r){}if("get"in n||"set"in n)throw c("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},1236:function(t,e,n){var r=n(9781),o=n(6916),i=n(5296),u=n(9114),a=n(5656),c=n(4948),s=n(2597),f=n(4664),l=Object.getOwnPropertyDescriptor;e.f=r?l:function(t,e){if(t=a(t),e=c(e),f)try{return l(t,e)}catch(n){}if(s(t,e))return u(!o(i.f,t,e),t[e])}},1156:function(t,e,n){var r=n(4326),o=n(5656),i=n(8006).f,u=n(1589),a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],c=function(t){try{return i(t)}catch(e){return u(a)}};t.exports.f=function(t){return a&&"Window"==r(t)?c(t):i(o(t))}},8006:function(t,e,n){var r=n(6324),o=n(748),i=o.concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},5181:function(t,e){e.f=Object.getOwnPropertySymbols},9518:function(t,e,n){var r=n(2597),o=n(614),i=n(7908),u=n(6200),a=n(8544),c=u("IE_PROTO"),s=Object,f=s.prototype;t.exports=a?s.getPrototypeOf:function(t){var e=i(t);if(r(e,c))return e[c];var n=e.constructor;return o(n)&&e instanceof n?n.prototype:e instanceof s?f:null}},2050:function(t,e,n){var r=n(7293),o=n(111),i=n(4326),u=n(7556),a=Object.isExtensible,c=r((function(){a(1)}));t.exports=c||u?function(t){return!!o(t)&&((!u||"ArrayBuffer"!=i(t))&&(!a||a(t)))}:a},7976:function(t,e,n){var r=n(1702);t.exports=r({}.isPrototypeOf)},6324:function(t,e,n){var r=n(1702),o=n(2597),i=n(5656),u=n(1318).indexOf,a=n(3501),c=r([].push);t.exports=function(t,e){var n,r=i(t),s=0,f=[];for(n in r)!o(a,n)&&o(r,n)&&c(f,n);while(e.length>s)o(r,n=e[s++])&&(~u(f,n)||c(f,n));return f}},1956:function(t,e,n){var r=n(6324),o=n(748);t.exports=Object.keys||function(t){return r(t,o)}},5296:function(t,e){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,o=r&&!n.call({1:2},1);e.f=o?function(t){var e=r(this,t);return!!e&&e.enumerable}:n},7674:function(t,e,n){var r=n(5668),o=n(9670),i=n(6077);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{t=r(Object.prototype,"__proto__","set"),t(n,[]),e=n instanceof Array}catch(u){}return function(n,r){return o(n),i(r),e?t(n,r):n.__proto__=r,n}}():void 0)},288:function(t,e,n){"use strict";var r=n(1694),o=n(648);t.exports=r?{}.toString:function(){return"[object "+o(this)+"]"}},2140:function(t,e,n){var r=n(6916),o=n(614),i=n(111),u=TypeError;t.exports=function(t,e){var n,a;if("string"===e&&o(n=t.toString)&&!i(a=r(n,t)))return a;if(o(n=t.valueOf)&&!i(a=r(n,t)))return a;if("string"!==e&&o(n=t.toString)&&!i(a=r(n,t)))return a;throw u("Can't convert object to primitive value")}},3887:function(t,e,n){var r=n(5005),o=n(1702),i=n(8006),u=n(5181),a=n(9670),c=o([].concat);t.exports=r("Reflect","ownKeys")||function(t){var e=i.f(a(t)),n=u.f;return n?c(e,n(t)):e}},857:function(t,e,n){var r=n(7854);t.exports=r},2534:function(t){t.exports=function(t){try{return{error:!1,value:t()}}catch(e){return{error:!0,value:e}}}},3702:function(t,e,n){var r=n(7854),o=n(2492),i=n(614),u=n(4705),a=n(2788),c=n(5112),s=n(7871),f=n(3823),l=n(1913),d=n(7392),m=o&&o.prototype,p=c("species"),g=!1,v=i(r.PromiseRejectionEvent),h=u("Promise",(function(){var t=a(o),e=t!==String(o);if(!e&&66===d)return!0;if(l&&(!m["catch"]||!m["finally"]))return!0;if(!d||d<51||!/native code/.test(t)){var n=new o((function(t){t(1)})),r=function(t){t((function(){}),(function(){}))},i=n.constructor={};if(i[p]=r,g=n.then((function(){}))instanceof r,!g)return!0}return!e&&(s||f)&&!v}));t.exports={CONSTRUCTOR:h,REJECTION_EVENT:v,SUBCLASSING:g}},2492:function(t,e,n){var r=n(7854);t.exports=r.Promise},9478:function(t,e,n){var r=n(9670),o=n(111),i=n(8523);t.exports=function(t,e){if(r(t),o(e)&&e.constructor===t)return e;var n=i.f(t),u=n.resolve;return u(e),n.promise}},612:function(t,e,n){var r=n(2492),o=n(7072),i=n(3702).CONSTRUCTOR;t.exports=i||!o((function(t){r.all(t).then(void 0,(function(){}))}))},2626:function(t,e,n){var r=n(3070).f;t.exports=function(t,e,n){n in t||r(t,n,{configurable:!0,get:function(){return e[n]},set:function(t){e[n]=t}})}},8572:function(t){var e=function(){this.head=null,this.tail=null};e.prototype={add:function(t){var e={item:t,next:null},n=this.tail;n?n.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t){var e=this.head=t.next;return null===e&&(this.tail=null),t.item}}},t.exports=e},7651:function(t,e,n){var r=n(6916),o=n(9670),i=n(614),u=n(4326),a=n(2261),c=TypeError;t.exports=function(t,e){var n=t.exec;if(i(n)){var s=r(n,t,e);return null!==s&&o(s),s}if("RegExp"===u(t))return r(a,t,e);throw c("RegExp#exec called on incompatible receiver")}},2261:function(t,e,n){"use strict";var r=n(6916),o=n(1702),i=n(1340),u=n(7066),a=n(2999),c=n(2309),s=n(30),f=n(9909).get,l=n(9441),d=n(7168),m=c("native-string-replace",String.prototype.replace),p=RegExp.prototype.exec,g=p,v=o("".charAt),h=o("".indexOf),b=o("".replace),y=o("".slice),x=function(){var t=/a/,e=/b*/g;return r(p,t,"a"),r(p,e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),w=a.BROKEN_CARET,C=void 0!==/()??/.exec("")[1],S=x||C||w||l||d;S&&(g=function(t){var e,n,o,a,c,l,d,S=this,k=f(S),_=i(t),E=k.raw;if(E)return E.lastIndex=S.lastIndex,e=r(g,E,_),S.lastIndex=E.lastIndex,e;var O=k.groups,T=w&&S.sticky,A=r(u,S),R=S.source,N=0,D=_;if(T&&(A=b(A,"y",""),-1===h(A,"g")&&(A+="g"),D=y(_,S.lastIndex),S.lastIndex>0&&(!S.multiline||S.multiline&&"\n"!==v(_,S.lastIndex-1))&&(R="(?: "+R+")",D=" "+D,N++),n=new RegExp("^(?:"+R+")",A)),C&&(n=new RegExp("^"+R+"$(?!\\s)",A)),x&&(o=S.lastIndex),a=r(p,T?n:S,D),T?a?(a.input=y(a.input,N),a[0]=y(a[0],N),a.index=S.lastIndex,S.lastIndex+=a[0].length):S.lastIndex=0:x&&a&&(S.lastIndex=S.global?a.index+a[0].length:o),C&&a&&a.length>1&&r(m,a[0],n,(function(){for(c=1;c<arguments.length-2;c++)void 0===arguments[c]&&(a[c]=void 0)})),a&&O)for(a.groups=l=s(null),c=0;c<O.length;c++)d=O[c],l[d[0]]=a[d[1]];return a}),t.exports=g},7066:function(t,e,n){"use strict";var r=n(9670);t.exports=function(){var t=r(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e}},4706:function(t,e,n){var r=n(6916),o=n(2597),i=n(7976),u=n(7066),a=RegExp.prototype;t.exports=function(t){var e=t.flags;return void 0!==e||"flags"in a||o(t,"flags")||!i(a,t)?e:r(u,t)}},2999:function(t,e,n){var r=n(7293),o=n(7854),i=o.RegExp,u=r((function(){var t=i("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),a=u||r((function(){return!i("a","y").sticky})),c=u||r((function(){var t=i("^r","gy");return t.lastIndex=2,null!=t.exec("str")}));t.exports={BROKEN_CARET:c,MISSED_STICKY:a,UNSUPPORTED_Y:u}},9441:function(t,e,n){var r=n(7293),o=n(7854),i=o.RegExp;t.exports=r((function(){var t=i(".","s");return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)}))},7168:function(t,e,n){var r=n(7293),o=n(7854),i=o.RegExp;t.exports=r((function(){var t=i("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}))},4488:function(t,e,n){var r=n(8554),o=TypeError;t.exports=function(t){if(r(t))throw o("Can't call method on "+t);return t}},1150:function(t){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},7152:function(t,e,n){"use strict";var r=n(7854),o=n(2104),i=n(614),u=n(9363),a=n(8113),c=n(206),s=n(8053),f=r.Function,l=/MSIE .\./.test(a)||u&&function(){var t=r.Bun.version.split(".");return t.length<3||0==t[0]&&(t[1]<3||3==t[1]&&0==t[2])}();t.exports=function(t,e){var n=e?2:1;return l?function(r,u){var a=s(arguments.length,1)>n,l=i(r)?r:f(r),d=a?c(arguments,n):[],m=a?function(){o(l,this,d)}:l;return e?t(m,u):t(m)}:t}},6340:function(t,e,n){"use strict";var r=n(5005),o=n(7045),i=n(5112),u=n(9781),a=i("species");t.exports=function(t){var e=r(t);u&&e&&!e[a]&&o(e,a,{configurable:!0,get:function(){return this}})}},8003:function(t,e,n){var r=n(3070).f,o=n(2597),i=n(5112),u=i("toStringTag");t.exports=function(t,e,n){t&&!n&&(t=t.prototype),t&&!o(t,u)&&r(t,u,{configurable:!0,value:e})}},6200:function(t,e,n){var r=n(2309),o=n(9711),i=r("keys");t.exports=function(t){return i[t]||(i[t]=o(t))}},5465:function(t,e,n){var r=n(7854),o=n(3072),i="__core-js_shared__",u=r[i]||o(i,{});t.exports=u},2309:function(t,e,n){var r=n(1913),o=n(5465);(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.30.1",mode:r?"pure":"global",copyright:"Â© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.30.1/LICENSE",source:"https://github.com/zloirock/core-js"})},6707:function(t,e,n){var r=n(9670),o=n(9483),i=n(8554),u=n(5112),a=u("species");t.exports=function(t,e){var n,u=r(t).constructor;return void 0===u||i(n=r(u)[a])?e:o(n)}},3429:function(t,e,n){var r=n(7293);t.exports=function(t){return r((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}},8710:function(t,e,n){var r=n(1702),o=n(9303),i=n(1340),u=n(4488),a=r("".charAt),c=r("".charCodeAt),s=r("".slice),f=function(t){return function(e,n){var r,f,l=i(u(e)),d=o(n),m=l.length;return d<0||d>=m?t?"":void 0:(r=c(l,d),r<55296||r>56319||d+1===m||(f=c(l,d+1))<56320||f>57343?t?a(l,d):r:t?s(l,d,d+2):f-56320+(r-55296<<10)+65536)}};t.exports={codeAt:f(!1),charAt:f(!0)}},3197:function(t,e,n){var r=n(1702),o=2147483647,i=36,u=1,a=26,c=38,s=700,f=72,l=128,d="-",m=/[^\0-\u007E]/,p=/[.\u3002\uFF0E\uFF61]/g,g="Overflow: input needs wider integers to process",v=i-u,h=RangeError,b=r(p.exec),y=Math.floor,x=String.fromCharCode,w=r("".charCodeAt),C=r([].join),S=r([].push),k=r("".replace),_=r("".split),E=r("".toLowerCase),O=function(t){var e=[],n=0,r=t.length;while(n<r){var o=w(t,n++);if(o>=55296&&o<=56319&&n<r){var i=w(t,n++);56320==(64512&i)?S(e,((1023&o)<<10)+(1023&i)+65536):(S(e,o),n--)}else S(e,o)}return e},T=function(t){return t+22+75*(t<26)},A=function(t,e,n){var r=0;t=n?y(t/s):t>>1,t+=y(t/e);while(t>v*a>>1)t=y(t/v),r+=i;return y(r+(v+1)*t/(t+c))},R=function(t){var e=[];t=O(t);var n,r,c=t.length,s=l,m=0,p=f;for(n=0;n<t.length;n++)r=t[n],r<128&&S(e,x(r));var v=e.length,b=v;v&&S(e,d);while(b<c){var w=o;for(n=0;n<t.length;n++)r=t[n],r>=s&&r<w&&(w=r);var k=b+1;if(w-s>y((o-m)/k))throw h(g);for(m+=(w-s)*k,s=w,n=0;n<t.length;n++){if(r=t[n],r<s&&++m>o)throw h(g);if(r==s){var _=m,E=i;while(1){var R=E<=p?u:E>=p+a?a:E-p;if(_<R)break;var N=_-R,D=i-R;S(e,x(T(R+N%D))),_=y(N/D),E+=i}S(e,x(T(_))),p=A(m,k,b==v),m=0,b++}}m++,s++}return C(e,"")};t.exports=function(t){var e,n,r=[],o=_(k(E(t),p,"."),".");for(e=0;e<o.length;e++)n=o[e],S(r,b(m,n)?"xn--"+R(n):n);return C(r,".")}},8415:function(t,e,n){"use strict";var r=n(9303),o=n(1340),i=n(4488),u=RangeError;t.exports=function(t){var e=o(i(this)),n="",a=r(t);if(a<0||a==1/0)throw u("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(e+=e))1&a&&(n+=e);return n}},6091:function(t,e,n){var r=n(6530).PROPER,o=n(7293),i=n(1361),u="âÂá ";t.exports=function(t){return o((function(){return!!i[t]()||u[t]()!==u||r&&i[t].name!==t}))}},3111:function(t,e,n){var r=n(1702),o=n(4488),i=n(1340),u=n(1361),a=r("".replace),c=RegExp("^["+u+"]+"),s=RegExp("(^|[^"+u+"])["+u+"]+$"),f=function(t){return function(e){var n=i(o(e));return 1&t&&(n=a(n,c,"")),2&t&&(n=a(n,s,"$1")),n}};t.exports={start:f(1),end:f(2),trim:f(3)}},6293:function(t,e,n){var r=n(7392),o=n(7293);t.exports=!!Object.getOwnPropertySymbols&&!o((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},6532:function(t,e,n){var r=n(6916),o=n(5005),i=n(5112),u=n(8052);t.exports=function(){var t=o("Symbol"),e=t&&t.prototype,n=e&&e.valueOf,a=i("toPrimitive");e&&!e[a]&&u(e,a,(function(t){return r(n,this)}),{arity:1})}},2015:function(t,e,n){var r=n(6293);t.exports=r&&!!Symbol["for"]&&!!Symbol.keyFor},261:function(t,e,n){var r,o,i,u,a=n(7854),c=n(2104),s=n(9974),f=n(614),l=n(2597),d=n(7293),m=n(490),p=n(206),g=n(317),v=n(8053),h=n(6833),b=n(5268),y=a.setImmediate,x=a.clearImmediate,w=a.process,C=a.Dispatch,S=a.Function,k=a.MessageChannel,_=a.String,E=0,O={},T="onreadystatechange";d((function(){r=a.location}));var A=function(t){if(l(O,t)){var e=O[t];delete O[t],e()}},R=function(t){return function(){A(t)}},N=function(t){A(t.data)},D=function(t){a.postMessage(_(t),r.protocol+"//"+r.host)};y&&x||(y=function(t){v(arguments.length,1);var e=f(t)?t:S(t),n=p(arguments,1);return O[++E]=function(){c(e,void 0,n)},o(E),E},x=function(t){delete O[t]},b?o=function(t){w.nextTick(R(t))}:C&&C.now?o=function(t){C.now(R(t))}:k&&!h?(i=new k,u=i.port2,i.port1.onmessage=N,o=s(u.postMessage,u)):a.addEventListener&&f(a.postMessage)&&!a.importScripts&&r&&"file:"!==r.protocol&&!d(D)?(o=D,a.addEventListener("message",N,!1)):o=T in g("script")?function(t){m.appendChild(g("script"))[T]=function(){m.removeChild(this),A(t)}}:function(t){setTimeout(R(t),0)}),t.exports={set:y,clear:x}},863:function(t,e,n){var r=n(1702);t.exports=r(1..valueOf)},1400:function(t,e,n){var r=n(9303),o=Math.max,i=Math.min;t.exports=function(t,e){var n=r(t);return n<0?o(n+e,0):i(n,e)}},4599:function(t,e,n){var r=n(7593),o=TypeError;t.exports=function(t){var e=r(t,"number");if("number"==typeof e)throw o("Can't convert number to bigint");return BigInt(e)}},7067:function(t,e,n){var r=n(9303),o=n(7466),i=RangeError;t.exports=function(t){if(void 0===t)return 0;var e=r(t),n=o(e);if(e!==n)throw i("Wrong length or index");return n}},5656:function(t,e,n){var r=n(8361),o=n(4488);t.exports=function(t){return r(o(t))}},9303:function(t,e,n){var r=n(4758);t.exports=function(t){var e=+t;return e!==e||0===e?0:r(e)}},7466:function(t,e,n){var r=n(9303),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},7908:function(t,e,n){var r=n(4488),o=Object;t.exports=function(t){return o(r(t))}},4590:function(t,e,n){var r=n(3002),o=RangeError;t.exports=function(t,e){var n=r(t);if(n%e)throw o("Wrong offset");return n}},3002:function(t,e,n){var r=n(9303),o=RangeError;t.exports=function(t){var e=r(t);if(e<0)throw o("The argument can't be less than 0");return e}},7593:function(t,e,n){var r=n(6916),o=n(111),i=n(2190),u=n(8173),a=n(2140),c=n(5112),s=TypeError,f=c("toPrimitive");t.exports=function(t,e){if(!o(t)||i(t))return t;var n,c=u(t,f);if(c){if(void 0===e&&(e="default"),n=r(c,t,e),!o(n)||i(n))return n;throw s("Can't convert object to primitive value")}return void 0===e&&(e="number"),a(t,e)}},4948:function(t,e,n){var r=n(7593),o=n(2190);t.exports=function(t){var e=r(t,"string");return o(e)?e:e+""}},1694:function(t,e,n){var r=n(5112),o=r("toStringTag"),i={};i[o]="z",t.exports="[object z]"===String(i)},1340:function(t,e,n){var r=n(648),o=String;t.exports=function(t){if("Symbol"===r(t))throw TypeError("Cannot convert a Symbol value to a string");return o(t)}},4038:function(t,e,n){var r=n(5268);t.exports=function(t){try{if(r)return Function('return require("'+t+'")')()}catch(e){}}},6330:function(t){var e=String;t.exports=function(t){try{return e(t)}catch(n){return"Object"}}},9843:function(t,e,n){"use strict";var r=n(2109),o=n(7854),i=n(6916),u=n(9781),a=n(3832),c=n(260),s=n(3331),f=n(5787),l=n(9114),d=n(8880),m=n(5988),p=n(7466),g=n(7067),v=n(4590),h=n(4948),b=n(2597),y=n(648),x=n(111),w=n(2190),C=n(30),S=n(7976),k=n(7674),_=n(8006).f,E=n(7321),O=n(2092).forEach,T=n(6340),A=n(7045),R=n(3070),N=n(1236),D=n(9909),B=n(9587),M=D.get,I=D.set,P=D.enforce,L=R.f,F=N.f,j=Math.round,z=o.RangeError,U=s.ArrayBuffer,H=U.prototype,V=s.DataView,W=c.NATIVE_ARRAY_BUFFER_VIEWS,$=c.TYPED_ARRAY_TAG,q=c.TypedArray,G=c.TypedArrayPrototype,K=c.aTypedArrayConstructor,Y=c.isTypedArray,X="BYTES_PER_ELEMENT",J="Wrong length",Q=function(t,e){K(t);var n=0,r=e.length,o=new t(r);while(r>n)o[n]=e[n++];return o},Z=function(t,e){A(t,e,{configurable:!0,get:function(){return M(this)[e]}})},tt=function(t){var e;return S(H,t)||"ArrayBuffer"==(e=y(t))||"SharedArrayBuffer"==e},et=function(t,e){return Y(t)&&!w(e)&&e in t&&m(+e)&&e>=0},nt=function(t,e){return e=h(e),et(t,e)?l(2,t[e]):F(t,e)},rt=function(t,e,n){return e=h(e),!(et(t,e)&&x(n)&&b(n,"value"))||b(n,"get")||b(n,"set")||n.configurable||b(n,"writable")&&!n.writable||b(n,"enumerable")&&!n.enumerable?L(t,e,n):(t[e]=n.value,t)};u?(W||(N.f=nt,R.f=rt,Z(G,"buffer"),Z(G,"byteOffset"),Z(G,"byteLength"),Z(G,"length")),r({target:"Object",stat:!0,forced:!W},{getOwnPropertyDescriptor:nt,defineProperty:rt}),t.exports=function(t,e,n){var u=t.match(/\d+/)[0]/8,c=t+(n?"Clamped":"")+"Array",s="get"+t,l="set"+t,m=o[c],h=m,b=h&&h.prototype,y={},w=function(t,e){var n=M(t);return n.view[s](e*u+n.byteOffset,!0)},S=function(t,e,r){var o=M(t);n&&(r=(r=j(r))<0?0:r>255?255:255&r),o.view[l](e*u+o.byteOffset,r,!0)},A=function(t,e){L(t,e,{get:function(){return w(this,e)},set:function(t){return S(this,e,t)},enumerable:!0})};W?a&&(h=e((function(t,e,n,r){return f(t,b),B(function(){return x(e)?tt(e)?void 0!==r?new m(e,v(n,u),r):void 0!==n?new m(e,v(n,u)):new m(e):Y(e)?Q(h,e):i(E,h,e):new m(g(e))}(),t,h)})),k&&k(h,q),O(_(m),(function(t){t in h||d(h,t,m[t])})),h.prototype=b):(h=e((function(t,e,n,r){f(t,b);var o,a,c,s=0,l=0;if(x(e)){if(!tt(e))return Y(e)?Q(h,e):i(E,h,e);o=e,l=v(n,u);var d=e.byteLength;if(void 0===r){if(d%u)throw z(J);if(a=d-l,a<0)throw z(J)}else if(a=p(r)*u,a+l>d)throw z(J);c=a/u}else c=g(e),a=c*u,o=new U(a);I(t,{buffer:o,byteOffset:l,byteLength:a,length:c,view:new V(o)});while(s<c)A(t,s++)})),k&&k(h,q),b=h.prototype=C(G)),b.constructor!==h&&d(b,"constructor",h),P(b).TypedArrayConstructor=h,$&&d(b,$,c);var R=h!=m;y[c]=h,r({global:!0,constructor:!0,forced:R,sham:!W},y),X in h||d(h,X,u),X in b||d(b,X,u),T(c)}):t.exports=function(){}},3832:function(t,e,n){var r=n(7854),o=n(7293),i=n(7072),u=n(260).NATIVE_ARRAY_BUFFER_VIEWS,a=r.ArrayBuffer,c=r.Int8Array;t.exports=!u||!o((function(){c(1)}))||!o((function(){new c(-1)}))||!i((function(t){new c,new c(null),new c(1.5),new c(t)}),!0)||o((function(){return 1!==new c(new a(2),1,void 0).length}))},3074:function(t,e,n){var r=n(7745),o=n(6304);t.exports=function(t,e){return r(o(t),e)}},7321:function(t,e,n){var r=n(9974),o=n(6916),i=n(9483),u=n(7908),a=n(6244),c=n(4121),s=n(1246),f=n(7659),l=n(4067),d=n(260).aTypedArrayConstructor,m=n(4599);t.exports=function(t){var e,n,p,g,v,h,b,y,x=i(this),w=u(t),C=arguments.length,S=C>1?arguments[1]:void 0,k=void 0!==S,_=s(w);if(_&&!f(_)){b=c(w,_),y=b.next,w=[];while(!(h=o(y,b)).done)w.push(h.value)}for(k&&C>2&&(S=r(S,arguments[2])),n=a(w),p=new(d(x))(n),g=l(p),e=0;n>e;e++)v=k?S(w[e],e):w[e],p[e]=g?m(v):+v;return p}},6304:function(t,e,n){var r=n(260),o=n(6707),i=r.aTypedArrayConstructor,u=r.getTypedArrayConstructor;t.exports=function(t){return i(o(t,u(t)))}},9711:function(t,e,n){var r=n(1702),o=0,i=Math.random(),u=r(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+u(++o+i,36)}},5143:function(t,e,n){var r=n(7293),o=n(5112),i=n(9781),u=n(1913),a=o("iterator");t.exports=!r((function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,n="";return t.pathname="c%20d",e.forEach((function(t,r){e["delete"]("b"),n+=r+t})),u&&!t.toJSON||!e.size&&(u||!i)||!e.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://ÑÐµÑÑ").host||"#%D0%B1"!==new URL("http://a#Ð±").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},3307:function(t,e,n){var r=n(6293);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:function(t,e,n){var r=n(9781),o=n(7293);t.exports=r&&o((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},8053:function(t){var e=TypeError;t.exports=function(t,n){if(t<n)throw e("Not enough arguments");return t}},4811:function(t,e,n){var r=n(7854),o=n(614),i=r.WeakMap;t.exports=o(i)&&/native code/.test(String(i))},6800:function(t,e,n){var r=n(857),o=n(2597),i=n(6061),u=n(3070).f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});o(e,t)||u(e,t,{value:i.f(t)})}},6061:function(t,e,n){var r=n(5112);e.f=r},5112:function(t,e,n){var r=n(7854),o=n(2309),i=n(2597),u=n(9711),a=n(6293),c=n(3307),s=r.Symbol,f=o("wks"),l=c?s["for"]||s:s&&s.withoutSetter||u;t.exports=function(t){return i(f,t)||(f[t]=a&&i(s,t)?s[t]:l("Symbol."+t)),f[t]}},1361:function(t){t.exports="\t\n\v\f\r Â áââââââââââââ¯âã\u2028\u2029\ufeff"},9191:function(t,e,n){"use strict";var r=n(5005),o=n(2597),i=n(8880),u=n(7976),a=n(7674),c=n(9920),s=n(2626),f=n(9587),l=n(6277),d=n(8340),m=n(5392),p=n(9781),g=n(1913);t.exports=function(t,e,n,v){var h="stackTraceLimit",b=v?2:1,y=t.split("."),x=y[y.length-1],w=r.apply(null,y);if(w){var C=w.prototype;if(!g&&o(C,"cause")&&delete C.cause,!n)return w;var S=r("Error"),k=e((function(t,e){var n=l(v?e:t,void 0),r=v?new w(t):new w;return void 0!==n&&i(r,"message",n),m(r,k,r.stack,2),this&&u(C,this)&&f(r,this,k),arguments.length>b&&d(r,arguments[b]),r}));if(k.prototype=C,"Error"!==x?a?a(k,S):c(k,S,{name:!0}):p&&h in w&&(s(k,w,h),s(k,w,"prepareStackTrace")),c(k,w),!g)try{C.name!==x&&i(C,"name",x),C.constructor=k}catch(_){}return k}}},9575:function(t,e,n){"use strict";var r=n(2109),o=n(1470),i=n(7293),u=n(3331),a=n(9670),c=n(1400),s=n(7466),f=n(6707),l=u.ArrayBuffer,d=u.DataView,m=d.prototype,p=o(l.prototype.slice),g=o(m.getUint8),v=o(m.setUint8),h=i((function(){return!new l(2).slice(1,void 0).byteLength}));r({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:h},{slice:function(t,e){if(p&&void 0===e)return p(a(this),t);var n=a(this).byteLength,r=c(t,n),o=c(void 0===e?n:e,n),i=new(f(this,l))(s(o-r)),u=new d(this),m=new d(i),h=0;while(r<o)v(m,h++,g(u,r++));return i}})},2222:function(t,e,n){"use strict";var r=n(2109),o=n(7293),i=n(3157),u=n(111),a=n(7908),c=n(6244),s=n(7207),f=n(6135),l=n(5417),d=n(1194),m=n(5112),p=n(7392),g=m("isConcatSpreadable"),v=p>=51||!o((function(){var t=[];return t[g]=!1,t.concat()[0]!==t})),h=function(t){if(!u(t))return!1;var e=t[g];return void 0!==e?!!e:i(t)},b=!v||!d("concat");r({target:"Array",proto:!0,arity:1,forced:b},{concat:function(t){var e,n,r,o,i,u=a(this),d=l(u,0),m=0;for(e=-1,r=arguments.length;e<r;e++)if(i=-1===e?u:arguments[e],h(i))for(o=c(i),s(m+o),n=0;n<o;n++,m++)n in i&&f(d,m,i[n]);else s(m+1),f(d,m++,i);return d.length=m,d}})},6541:function(t,e,n){"use strict";var r=n(2109),o=n(2092).every,i=n(2133),u=i("every");r({target:"Array",proto:!0,forced:!u},{every:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},7327:function(t,e,n){"use strict";var r=n(2109),o=n(2092).filter,i=n(1194),u=i("filter");r({target:"Array",proto:!0,forced:!u},{filter:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},9826:function(t,e,n){"use strict";var r=n(2109),o=n(2092).find,i=n(1223),u="find",a=!0;u in[]&&Array(1)[u]((function(){a=!1})),r({target:"Array",proto:!0,forced:a},{find:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),i(u)},9554:function(t,e,n){"use strict";var r=n(2109),o=n(8533);r({target:"Array",proto:!0,forced:[].forEach!=o},{forEach:o})},1038:function(t,e,n){var r=n(2109),o=n(8457),i=n(7072),u=!i((function(t){Array.from(t)}));r({target:"Array",stat:!0,forced:u},{from:o})},2772:function(t,e,n){"use strict";var r=n(2109),o=n(1470),i=n(1318).indexOf,u=n(2133),a=o([].indexOf),c=!!a&&1/a([1],1,-0)<0,s=c||!u("indexOf");r({target:"Array",proto:!0,forced:s},{indexOf:function(t){var e=arguments.length>1?arguments[1]:void 0;return c?a(this,t,e)||0:i(this,t,e)}})},6992:function(t,e,n){"use strict";var r=n(5656),o=n(1223),i=n(7497),u=n(9909),a=n(3070).f,c=n(1656),s=n(6178),f=n(1913),l=n(9781),d="Array Iterator",m=u.set,p=u.getterFor(d);t.exports=c(Array,"Array",(function(t,e){m(this,{type:d,target:r(t),index:0,kind:e})}),(function(){var t=p(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,s(void 0,!0)):s("keys"==n?r:"values"==n?e[r]:[r,e[r]],!1)}),"values");var g=i.Arguments=i.Array;if(o("keys"),o("values"),o("entries"),!f&&l&&"values"!==g.name)try{a(g,"name",{value:"values"})}catch(v){}},9600:function(t,e,n){"use strict";var r=n(2109),o=n(1702),i=n(8361),u=n(5656),a=n(2133),c=o([].join),s=i!=Object,f=s||!a("join",",");r({target:"Array",proto:!0,forced:f},{join:function(t){return c(u(this),void 0===t?",":t)}})},4986:function(t,e,n){var r=n(2109),o=n(6583);r({target:"Array",proto:!0,forced:o!==[].lastIndexOf},{lastIndexOf:o})},1249:function(t,e,n){"use strict";var r=n(2109),o=n(2092).map,i=n(1194),u=i("map");r({target:"Array",proto:!0,forced:!u},{map:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},7658:function(t,e,n){"use strict";var r=n(2109),o=n(7908),i=n(6244),u=n(3658),a=n(7207),c=n(7293),s=c((function(){return 4294967297!==[].push.call({length:4294967296},1)})),f=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}},l=s||!f();r({target:"Array",proto:!0,arity:1,forced:l},{push:function(t){var e=o(this),n=i(e),r=arguments.length;a(n+r);for(var c=0;c<r;c++)e[n]=arguments[c],n++;return u(e,n),n}})},5069:function(t,e,n){"use strict";var r=n(2109),o=n(1702),i=n(3157),u=o([].reverse),a=[1,2];r({target:"Array",proto:!0,forced:String(a)===String(a.reverse())},{reverse:function(){return i(this)&&(this.length=this.length),u(this)}})},7042:function(t,e,n){"use strict";var r=n(2109),o=n(3157),i=n(4411),u=n(111),a=n(1400),c=n(6244),s=n(5656),f=n(6135),l=n(5112),d=n(1194),m=n(206),p=d("slice"),g=l("species"),v=Array,h=Math.max;r({target:"Array",proto:!0,forced:!p},{slice:function(t,e){var n,r,l,d=s(this),p=c(d),b=a(t,p),y=a(void 0===e?p:e,p);if(o(d)&&(n=d.constructor,i(n)&&(n===v||o(n.prototype))?n=void 0:u(n)&&(n=n[g],null===n&&(n=void 0)),n===v||void 0===n))return m(d,b,y);for(r=new(void 0===n?v:n)(h(y-b,0)),l=0;b<y;b++,l++)b in d&&f(r,l,d[b]);return r.length=l,r}})},5212:function(t,e,n){"use strict";var r=n(2109),o=n(2092).some,i=n(2133),u=i("some");r({target:"Array",proto:!0,forced:!u},{some:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},2707:function(t,e,n){"use strict";var r=n(2109),o=n(1702),i=n(9662),u=n(7908),a=n(6244),c=n(5117),s=n(1340),f=n(7293),l=n(4362),d=n(2133),m=n(8886),p=n(256),g=n(7392),v=n(8008),h=[],b=o(h.sort),y=o(h.push),x=f((function(){h.sort(void 0)})),w=f((function(){h.sort(null)})),C=d("sort"),S=!f((function(){if(g)return g<70;if(!(m&&m>3)){if(p)return!0;if(v)return v<603;var t,e,n,r,o="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)h.push({k:e+r,v:n})}for(h.sort((function(t,e){return e.v-t.v})),r=0;r<h.length;r++)e=h[r].k.charAt(0),o.charAt(o.length-1)!==e&&(o+=e);return"DGBEFHACIJK"!==o}})),k=x||!w||!C||!S,_=function(t){return function(e,n){return void 0===n?-1:void 0===e?1:void 0!==t?+t(e,n)||0:s(e)>s(n)?1:-1}};r({target:"Array",proto:!0,forced:k},{sort:function(t){void 0!==t&&i(t);var e=u(this);if(S)return void 0===t?b(e):b(e,t);var n,r,o=[],s=a(e);for(r=0;r<s;r++)r in e&&y(o,e[r]);l(o,_(t)),n=a(o),r=0;while(r<n)e[r]=o[r++];while(r<s)c(e,r++);return e}})},561:function(t,e,n){"use strict";var r=n(2109),o=n(7908),i=n(1400),u=n(9303),a=n(6244),c=n(3658),s=n(7207),f=n(5417),l=n(6135),d=n(5117),m=n(1194),p=m("splice"),g=Math.max,v=Math.min;r({target:"Array",proto:!0,forced:!p},{splice:function(t,e){var n,r,m,p,h,b,y=o(this),x=a(y),w=i(t,x),C=arguments.length;for(0===C?n=r=0:1===C?(n=0,r=x-w):(n=C-2,r=v(g(u(e),0),x-w)),s(x+n-r),m=f(y,r),p=0;p<r;p++)h=w+p,h in y&&l(m,p,y[h]);if(m.length=r,n<r){for(p=w;p<x-r;p++)h=p+r,b=p+n,h in y?y[b]=y[h]:d(y,b);for(p=x;p>x-r+n;p--)d(y,p-1)}else if(n>r)for(p=x-r;p>w;p--)h=p+r-1,b=p+n-1,h in y?y[b]=y[h]:d(y,b);for(p=0;p<n;p++)y[p+w]=arguments[p+2];return c(y,x-r+n),m}})},541:function(t,e,n){"use strict";var r=n(2109),o=n(7908),i=n(6244),u=n(3658),a=n(5117),c=n(7207),s=1!==[].unshift(0),f=function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(t){return t instanceof TypeError}},l=s||!f();r({target:"Array",proto:!0,arity:1,forced:l},{unshift:function(t){var e=o(this),n=i(e),r=arguments.length;if(r){c(n+r);var s=n;while(s--){var f=s+r;s in e?e[f]=e[s]:a(e,f)}for(var l=0;l<r;l++)e[l]=arguments[l]}return u(e,n+r)}})},6078:function(t,e,n){var r=n(2597),o=n(8052),i=n(8709),u=n(5112),a=u("toPrimitive"),c=Date.prototype;r(c,a)||o(c,a,i)},1703:function(t,e,n){var r=n(2109),o=n(7854),i=n(2104),u=n(9191),a="WebAssembly",c=o[a],s=7!==Error("e",{cause:7}).cause,f=function(t,e){var n={};n[t]=u(t,e,s),r({global:!0,constructor:!0,arity:1,forced:s},n)},l=function(t,e){if(c&&c[t]){var n={};n[t]=u(a+"."+t,e,s),r({target:a,stat:!0,constructor:!0,arity:1,forced:s},n)}};f("Error",(function(t){return function(e){return i(t,this,arguments)}})),f("EvalError",(function(t){return function(e){return i(t,this,arguments)}})),f("RangeError",(function(t){return function(e){return i(t,this,arguments)}})),f("ReferenceError",(function(t){return function(e){return i(t,this,arguments)}})),f("SyntaxError",(function(t){return function(e){return i(t,this,arguments)}})),f("TypeError",(function(t){return function(e){return i(t,this,arguments)}})),f("URIError",(function(t){return function(e){return i(t,this,arguments)}})),l("CompileError",(function(t){return function(e){return i(t,this,arguments)}})),l("LinkError",(function(t){return function(e){return i(t,this,arguments)}})),l("RuntimeError",(function(t){return function(e){return i(t,this,arguments)}}))},6647:function(t,e,n){var r=n(8052),o=n(7762),i=Error.prototype;i.toString!==o&&r(i,"toString",o)},8309:function(t,e,n){var r=n(9781),o=n(6530).EXISTS,i=n(1702),u=n(7045),a=Function.prototype,c=i(a.toString),s=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,f=i(s.exec),l="name";r&&!o&&u(a,l,{configurable:!0,get:function(){try{return f(s,c(this))[1]}catch(t){return""}}})},8862:function(t,e,n){var r=n(2109),o=n(5005),i=n(2104),u=n(6916),a=n(1702),c=n(7293),s=n(614),f=n(2190),l=n(206),d=n(8044),m=n(6293),p=String,g=o("JSON","stringify"),v=a(/./.exec),h=a("".charAt),b=a("".charCodeAt),y=a("".replace),x=a(1..toString),w=/[\uD800-\uDFFF]/g,C=/^[\uD800-\uDBFF]$/,S=/^[\uDC00-\uDFFF]$/,k=!m||c((function(){var t=o("Symbol")();return"[null]"!=g([t])||"{}"!=g({a:t})||"{}"!=g(Object(t))})),_=c((function(){return'"\\udf06\\ud834"'!==g("\udf06\ud834")||'"\\udead"'!==g("\udead")})),E=function(t,e){var n=l(arguments),r=d(e);if(s(r)||void 0!==t&&!f(t))return n[1]=function(t,e){if(s(r)&&(e=u(r,this,p(t),e)),!f(e))return e},i(g,null,n)},O=function(t,e,n){var r=h(n,e-1),o=h(n,e+1);return v(C,t)&&!v(S,o)||v(S,t)&&!v(C,r)?"\\u"+x(b(t,0),16):t};g&&r({target:"JSON",stat:!0,arity:3,forced:k||_},{stringify:function(t,e,n){var r=l(arguments),o=i(k?E:g,null,r);return _&&"string"==typeof o?y(o,w,O):o}})},3706:function(t,e,n){var r=n(7854),o=n(8003);o(r.JSON,"JSON",!0)},2703:function(t,e,n){var r=n(8003);r(Math,"Math",!0)},9653:function(t,e,n){"use strict";var r=n(2109),o=n(1913),i=n(9781),u=n(7854),a=n(857),c=n(1702),s=n(4705),f=n(2597),l=n(9587),d=n(7976),m=n(2190),p=n(7593),g=n(7293),v=n(8006).f,h=n(1236).f,b=n(3070).f,y=n(863),x=n(3111).trim,w="Number",C=u[w],S=a[w],k=C.prototype,_=u.TypeError,E=c("".slice),O=c("".charCodeAt),T=function(t){var e=p(t,"number");return"bigint"==typeof e?e:A(e)},A=function(t){var e,n,r,o,i,u,a,c,s=p(t,"number");if(m(s))throw _("Cannot convert a Symbol value to a number");if("string"==typeof s&&s.length>2)if(s=x(s),e=O(s,0),43===e||45===e){if(n=O(s,2),88===n||120===n)return NaN}else if(48===e){switch(O(s,1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+s}for(i=E(s,2),u=i.length,a=0;a<u;a++)if(c=O(i,a),c<48||c>o)return NaN;return parseInt(i,r)}return+s},R=s(w,!C(" 0o1")||!C("0b1")||C("+0x1")),N=function(t){return d(k,t)&&g((function(){y(t)}))},D=function(t){var e=arguments.length<1?0:C(T(t));return N(this)?l(Object(e),this,D):e};D.prototype=k,R&&!o&&(k.constructor=D),r({global:!0,constructor:!0,wrap:!0,forced:R},{Number:D});var B=function(t,e){for(var n,r=i?v(e):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),o=0;r.length>o;o++)f(e,n=r[o])&&!f(t,n)&&b(t,n,h(e,n))};o&&S&&B(a[w],S),(R||o)&&B(a[w],C)},6977:function(t,e,n){"use strict";var r=n(2109),o=n(1702),i=n(9303),u=n(863),a=n(8415),c=n(7293),s=RangeError,f=String,l=Math.floor,d=o(a),m=o("".slice),p=o(1..toFixed),g=function(t,e,n){return 0===e?n:e%2===1?g(t,e-1,n*t):g(t*t,e/2,n)},v=function(t){var e=0,n=t;while(n>=4096)e+=12,n/=4096;while(n>=2)e+=1,n/=2;return e},h=function(t,e,n){var r=-1,o=n;while(++r<6)o+=e*t[r],t[r]=o%1e7,o=l(o/1e7)},b=function(t,e){var n=6,r=0;while(--n>=0)r+=t[n],t[n]=l(r/e),r=r%e*1e7},y=function(t){var e=6,n="";while(--e>=0)if(""!==n||0===e||0!==t[e]){var r=f(t[e]);n=""===n?r:n+d("0",7-r.length)+r}return n},x=c((function(){return"0.000"!==p(8e-5,3)||"1"!==p(.9,0)||"1.25"!==p(1.255,2)||"1000000000000000128"!==p(0xde0b6b3a7640080,0)}))||!c((function(){p({})}));r({target:"Number",proto:!0,forced:x},{toFixed:function(t){var e,n,r,o,a=u(this),c=i(t),l=[0,0,0,0,0,0],p="",x="0";if(c<0||c>20)throw s("Incorrect fraction digits");if(a!=a)return"NaN";if(a<=-1e21||a>=1e21)return f(a);if(a<0&&(p="-",a=-a),a>1e-21)if(e=v(a*g(2,69,1))-69,n=e<0?a*g(2,-e,1):a/g(2,e,1),n*=4503599627370496,e=52-e,e>0){h(l,0,n),r=c;while(r>=7)h(l,1e7,0),r-=7;h(l,g(10,r,1),0),r=e-1;while(r>=23)b(l,1<<23),r-=23;b(l,1<<r),h(l,1,1),b(l,2),x=y(l)}else h(l,0,n),h(l,1<<-e,0),x=y(l)+d("0",c);return c>0?(o=x.length,x=p+(o<=c?"0."+d("0",c-o)+x:m(x,0,o-c)+"."+m(x,o-c))):x=p+x,x}})},9601:function(t,e,n){var r=n(2109),o=n(1574);r({target:"Object",stat:!0,arity:2,forced:Object.assign!==o},{assign:o})},3321:function(t,e,n){var r=n(2109),o=n(9781),i=n(6048).f;r({target:"Object",stat:!0,forced:Object.defineProperties!==i,sham:!o},{defineProperties:i})},9070:function(t,e,n){var r=n(2109),o=n(9781),i=n(3070).f;r({target:"Object",stat:!0,forced:Object.defineProperty!==i,sham:!o},{defineProperty:i})},3371:function(t,e,n){var r=n(2109),o=n(6677),i=n(7293),u=n(111),a=n(2423).onFreeze,c=Object.freeze,s=i((function(){c(1)}));r({target:"Object",stat:!0,forced:s,sham:!o},{freeze:function(t){return c&&u(t)?c(a(t)):t}})},5003:function(t,e,n){var r=n(2109),o=n(7293),i=n(5656),u=n(1236).f,a=n(9781),c=!a||o((function(){u(1)}));r({target:"Object",stat:!0,forced:c,sham:!a},{getOwnPropertyDescriptor:function(t,e){return u(i(t),e)}})},9337:function(t,e,n){var r=n(2109),o=n(9781),i=n(3887),u=n(5656),a=n(1236),c=n(6135);r({target:"Object",stat:!0,sham:!o},{getOwnPropertyDescriptors:function(t){var e,n,r=u(t),o=a.f,s=i(r),f={},l=0;while(s.length>l)n=o(r,e=s[l++]),void 0!==n&&c(f,e,n);return f}})},9660:function(t,e,n){var r=n(2109),o=n(6293),i=n(7293),u=n(5181),a=n(7908),c=!o||i((function(){u.f(1)}));r({target:"Object",stat:!0,forced:c},{getOwnPropertySymbols:function(t){var e=u.f;return e?e(a(t)):[]}})},489:function(t,e,n){var r=n(2109),o=n(7293),i=n(7908),u=n(9518),a=n(8544),c=o((function(){u(1)}));r({target:"Object",stat:!0,forced:c,sham:!a},{getPrototypeOf:function(t){return u(i(t))}})},8410:function(t,e,n){var r=n(2109),o=n(7293),i=n(111),u=n(4326),a=n(7556),c=Object.isFrozen,s=a||o((function(){c(1)}));r({target:"Object",stat:!0,forced:s},{isFrozen:function(t){return!i(t)||(!(!a||"ArrayBuffer"!=u(t))||!!c&&c(t))}})},7941:function(t,e,n){var r=n(2109),o=n(7908),i=n(1956),u=n(7293),a=u((function(){i(1)}));r({target:"Object",stat:!0,forced:a},{keys:function(t){return i(o(t))}})},7987:function(t,e,n){"use strict";var r=n(9781),o=n(7045),i=n(111),u=n(7908),a=n(4488),c=Object.getPrototypeOf,s=Object.setPrototypeOf,f=Object.prototype,l="__proto__";if(r&&c&&s&&!(l in f))try{o(f,l,{configurable:!0,get:function(){return c(u(this))},set:function(t){var e=a(this);(i(t)||null===t)&&i(e)&&s(e,t)}})}catch(d){}},514:function(t,e,n){var r=n(2109),o=n(111),i=n(2423).onFreeze,u=n(6677),a=n(7293),c=Object.seal,s=a((function(){c(1)}));r({target:"Object",stat:!0,forced:s,sham:!u},{seal:function(t){return c&&o(t)?c(i(t)):t}})},8304:function(t,e,n){var r=n(2109),o=n(7674);r({target:"Object",stat:!0},{setPrototypeOf:o})},1539:function(t,e,n){var r=n(1694),o=n(8052),i=n(288);r||o(Object.prototype,"toString",i,{unsafe:!0})},4678:function(t,e,n){var r=n(2109),o=n(2814);r({global:!0,forced:parseFloat!=o},{parseFloat:o})},1058:function(t,e,n){var r=n(2109),o=n(3009);r({global:!0,forced:parseInt!=o},{parseInt:o})},7922:function(t,e,n){"use strict";var r=n(2109),o=n(6916),i=n(9662),u=n(8523),a=n(2534),c=n(408),s=n(612);r({target:"Promise",stat:!0,forced:s},{allSettled:function(t){var e=this,n=u.f(e),r=n.resolve,s=n.reject,f=a((function(){var n=i(e.resolve),u=[],a=0,s=1;c(t,(function(t){var i=a++,c=!1;s++,o(n,e,t).then((function(t){c||(c=!0,u[i]={status:"fulfilled",value:t},--s||r(u))}),(function(t){c||(c=!0,u[i]={status:"rejected",reason:t},--s||r(u))}))})),--s||r(u)}));return f.error&&s(f.value),n.promise}})},821:function(t,e,n){"use strict";var r=n(2109),o=n(6916),i=n(9662),u=n(8523),a=n(2534),c=n(408),s=n(612);r({target:"Promise",stat:!0,forced:s},{all:function(t){var e=this,n=u.f(e),r=n.resolve,s=n.reject,f=a((function(){var n=i(e.resolve),u=[],a=0,f=1;c(t,(function(t){var i=a++,c=!1;f++,o(n,e,t).then((function(t){c||(c=!0,u[i]=t,--f||r(u))}),s)})),--f||r(u)}));return f.error&&s(f.value),n.promise}})},4164:function(t,e,n){"use strict";var r=n(2109),o=n(1913),i=n(3702).CONSTRUCTOR,u=n(2492),a=n(5005),c=n(614),s=n(8052),f=u&&u.prototype;if(r({target:"Promise",proto:!0,forced:i,real:!0},{catch:function(t){return this.then(void 0,t)}}),!o&&c(u)){var l=a("Promise").prototype["catch"];f["catch"]!==l&&s(f,"catch",l,{unsafe:!0})}},3401:function(t,e,n){"use strict";var r,o,i,u,a=n(2109),c=n(1913),s=n(5268),f=n(7854),l=n(6916),d=n(8052),m=n(7674),p=n(8003),g=n(6340),v=n(9662),h=n(614),b=n(111),y=n(5787),x=n(6707),w=n(261).set,C=n(5948),S=n(842),k=n(2534),_=n(8572),E=n(9909),O=n(2492),T=n(3702),A=n(8523),R="Promise",N=T.CONSTRUCTOR,D=T.REJECTION_EVENT,B=T.SUBCLASSING,M=E.getterFor(R),I=E.set,P=O&&O.prototype,L=O,F=P,j=f.TypeError,z=f.document,U=f.process,H=A.f,V=H,W=!!(z&&z.createEvent&&f.dispatchEvent),$="unhandledrejection",q="rejectionhandled",G=0,K=1,Y=2,X=1,J=2,Q=function(t){var e;return!(!b(t)||!h(e=t.then))&&e},Z=function(t,e){var n,r,o,i=e.value,u=e.state==K,a=u?t.ok:t.fail,c=t.resolve,s=t.reject,f=t.domain;try{a?(u||(e.rejection===J&&ot(e),e.rejection=X),!0===a?n=i:(f&&f.enter(),n=a(i),f&&(f.exit(),o=!0)),n===t.promise?s(j("Promise-chain cycle")):(r=Q(n))?l(r,n,c,s):c(n)):s(i)}catch(d){f&&!o&&f.exit(),s(d)}},tt=function(t,e){t.notified||(t.notified=!0,C((function(){var n,r=t.reactions;while(n=r.get())Z(n,t);t.notified=!1,e&&!t.rejection&&nt(t)})))},et=function(t,e,n){var r,o;W?(r=z.createEvent("Event"),r.promise=e,r.reason=n,r.initEvent(t,!1,!0),f.dispatchEvent(r)):r={promise:e,reason:n},!D&&(o=f["on"+t])?o(r):t===$&&S("Unhandled promise rejection",n)},nt=function(t){l(w,f,(function(){var e,n=t.facade,r=t.value,o=rt(t);if(o&&(e=k((function(){s?U.emit("unhandledRejection",r,n):et($,n,r)})),t.rejection=s||rt(t)?J:X,e.error))throw e.value}))},rt=function(t){return t.rejection!==X&&!t.parent},ot=function(t){l(w,f,(function(){var e=t.facade;s?U.emit("rejectionHandled",e):et(q,e,t.value)}))},it=function(t,e,n){return function(r){t(e,r,n)}},ut=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=Y,tt(t,!0))},at=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw j("Promise can't be resolved itself");var r=Q(e);r?C((function(){var n={done:!1};try{l(r,e,it(at,n,t),it(ut,n,t))}catch(o){ut(n,o,t)}})):(t.value=e,t.state=K,tt(t,!1))}catch(o){ut({done:!1},o,t)}}};if(N&&(L=function(t){y(this,F),v(t),l(r,this);var e=M(this);try{t(it(at,e),it(ut,e))}catch(n){ut(e,n)}},F=L.prototype,r=function(t){I(this,{type:R,done:!1,notified:!1,parent:!1,reactions:new _,rejection:!1,state:G,value:void 0})},r.prototype=d(F,"then",(function(t,e){var n=M(this),r=H(x(this,L));return n.parent=!0,r.ok=!h(t)||t,r.fail=h(e)&&e,r.domain=s?U.domain:void 0,n.state==G?n.reactions.add(r):C((function(){Z(r,n)})),r.promise})),o=function(){var t=new r,e=M(t);this.promise=t,this.resolve=it(at,e),this.reject=it(ut,e)},A.f=H=function(t){return t===L||t===i?new o(t):V(t)},!c&&h(O)&&P!==Object.prototype)){u=P.then,B||d(P,"then",(function(t,e){var n=this;return new L((function(t,e){l(u,n,t,e)})).then(t,e)}),{unsafe:!0});try{delete P.constructor}catch(ct){}m&&m(P,F)}a({global:!0,constructor:!0,wrap:!0,forced:N},{Promise:L}),p(L,R,!1,!0),g(R)},7727:function(t,e,n){"use strict";var r=n(2109),o=n(1913),i=n(2492),u=n(7293),a=n(5005),c=n(614),s=n(6707),f=n(9478),l=n(8052),d=i&&i.prototype,m=!!i&&u((function(){d["finally"].call({then:function(){}},(function(){}))}));if(r({target:"Promise",proto:!0,real:!0,forced:m},{finally:function(t){var e=s(this,a("Promise")),n=c(t);return this.then(n?function(n){return f(e,t()).then((function(){return n}))}:t,n?function(n){return f(e,t()).then((function(){throw n}))}:t)}}),!o&&c(i)){var p=a("Promise").prototype["finally"];d["finally"]!==p&&l(d,"finally",p,{unsafe:!0})}},8674:function(t,e,n){n(3401),n(821),n(4164),n(6027),n(683),n(6294)},6027:function(t,e,n){"use strict";var r=n(2109),o=n(6916),i=n(9662),u=n(8523),a=n(2534),c=n(408),s=n(612);r({target:"Promise",stat:!0,forced:s},{race:function(t){var e=this,n=u.f(e),r=n.reject,s=a((function(){var u=i(e.resolve);c(t,(function(t){o(u,e,t).then(n.resolve,r)}))}));return s.error&&r(s.value),n.promise}})},683:function(t,e,n){"use strict";var r=n(2109),o=n(6916),i=n(8523),u=n(3702).CONSTRUCTOR;r({target:"Promise",stat:!0,forced:u},{reject:function(t){var e=i.f(this);return o(e.reject,void 0,t),e.promise}})},6294:function(t,e,n){"use strict";var r=n(2109),o=n(5005),i=n(1913),u=n(2492),a=n(3702).CONSTRUCTOR,c=n(9478),s=o("Promise"),f=i&&!a;r({target:"Promise",stat:!0,forced:i||a},{resolve:function(t){return c(f&&this===s?u:this,t)}})},6535:function(t,e,n){var r=n(2109),o=n(2104),i=n(9662),u=n(9670),a=n(7293),c=!a((function(){Reflect.apply((function(){}))}));r({target:"Reflect",stat:!0,forced:c},{apply:function(t,e,n){return o(i(t),e,u(n))}})},5706:function(t,e,n){var r=n(2109),o=n(5005),i=n(2104),u=n(7065),a=n(9483),c=n(9670),s=n(111),f=n(30),l=n(7293),d=o("Reflect","construct"),m=Object.prototype,p=[].push,g=l((function(){function t(){}return!(d((function(){}),[],t)instanceof t)})),v=!l((function(){d((function(){}))})),h=g||v;r({target:"Reflect",stat:!0,forced:h,sham:h},{construct:function(t,e){a(t),c(e);var n=arguments.length<3?t:a(arguments[2]);if(v&&!g)return d(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return i(p,r,e),new(i(u,t,r))}var o=n.prototype,l=f(s(o)?o:m),h=i(t,l,e);return s(h)?h:l}})},1299:function(t,e,n){var r=n(2109),o=n(7854),i=n(8003);r({global:!0},{Reflect:{}}),i(o.Reflect,"Reflect",!0)},4603:function(t,e,n){var r=n(9781),o=n(7854),i=n(1702),u=n(4705),a=n(9587),c=n(8880),s=n(8006).f,f=n(7976),l=n(7850),d=n(1340),m=n(4706),p=n(2999),g=n(2626),v=n(8052),h=n(7293),b=n(2597),y=n(9909).enforce,x=n(6340),w=n(5112),C=n(9441),S=n(7168),k=w("match"),_=o.RegExp,E=_.prototype,O=o.SyntaxError,T=i(E.exec),A=i("".charAt),R=i("".replace),N=i("".indexOf),D=i("".slice),B=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,M=/a/g,I=/a/g,P=new _(M)!==M,L=p.MISSED_STICKY,F=p.UNSUPPORTED_Y,j=r&&(!P||L||C||S||h((function(){return I[k]=!1,_(M)!=M||_(I)==I||"/a/i"!=_(M,"i")}))),z=function(t){for(var e,n=t.length,r=0,o="",i=!1;r<=n;r++)e=A(t,r),"\\"!==e?i||"."!==e?("["===e?i=!0:"]"===e&&(i=!1),o+=e):o+="[\\s\\S]":o+=e+A(t,++r);return o},U=function(t){for(var e,n=t.length,r=0,o="",i=[],u={},a=!1,c=!1,s=0,f="";r<=n;r++){if(e=A(t,r),"\\"===e)e+=A(t,++r);else if("]"===e)a=!1;else if(!a)switch(!0){case"["===e:a=!0;break;case"("===e:T(B,D(t,r+1))&&(r+=2,c=!0),o+=e,s++;continue;case">"===e&&c:if(""===f||b(u,f))throw new O("Invalid capture group name");u[f]=!0,i[i.length]=[f,s],c=!1,f="";continue}c?f+=e:o+=e}return[o,i]};if(u("RegExp",j)){for(var H=function(t,e){var n,r,o,i,u,s,p=f(E,this),g=l(t),v=void 0===e,h=[],b=t;if(!p&&g&&v&&t.constructor===H)return t;if((g||f(E,t))&&(t=t.source,v&&(e=m(b))),t=void 0===t?"":d(t),e=void 0===e?"":d(e),b=t,C&&"dotAll"in M&&(r=!!e&&N(e,"s")>-1,r&&(e=R(e,/s/g,""))),n=e,L&&"sticky"in M&&(o=!!e&&N(e,"y")>-1,o&&F&&(e=R(e,/y/g,""))),S&&(i=U(t),t=i[0],h=i[1]),u=a(_(t,e),p?this:E,H),(r||o||h.length)&&(s=y(u),r&&(s.dotAll=!0,s.raw=H(z(t),n)),o&&(s.sticky=!0),h.length&&(s.groups=h)),t!==b)try{c(u,"source",""===b?"(?:)":b)}catch(x){}return u},V=s(_),W=0;V.length>W;)g(H,_,V[W++]);E.constructor=H,H.prototype=E,v(o,"RegExp",H,{constructor:!0})}x("RegExp")},8450:function(t,e,n){var r=n(9781),o=n(9441),i=n(4326),u=n(7045),a=n(9909).get,c=RegExp.prototype,s=TypeError;r&&o&&u(c,"dotAll",{configurable:!0,get:function(){if(this!==c){if("RegExp"===i(this))return!!a(this).dotAll;throw s("Incompatible receiver, RegExp required")}}})},4916:function(t,e,n){"use strict";var r=n(2109),o=n(2261);r({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},8386:function(t,e,n){var r=n(9781),o=n(2999).MISSED_STICKY,i=n(4326),u=n(7045),a=n(9909).get,c=RegExp.prototype,s=TypeError;r&&o&&u(c,"sticky",{configurable:!0,get:function(){if(this!==c){if("RegExp"===i(this))return!!a(this).sticky;throw s("Incompatible receiver, RegExp required")}}})},7601:function(t,e,n){"use strict";n(4916);var r=n(2109),o=n(6916),i=n(614),u=n(9670),a=n(1340),c=function(){var t=!1,e=/[ac]/;return e.exec=function(){return t=!0,/./.exec.apply(this,arguments)},!0===e.test("abc")&&t}(),s=/./.test;r({target:"RegExp",proto:!0,forced:!c},{test:function(t){var e=u(this),n=a(t),r=e.exec;if(!i(r))return o(s,e,n);var c=o(r,e,n);return null!==c&&(u(c),!0)}})},9714:function(t,e,n){"use strict";var r=n(6530).PROPER,o=n(8052),i=n(9670),u=n(1340),a=n(7293),c=n(4706),s="toString",f=RegExp.prototype,l=f[s],d=a((function(){return"/a/b"!=l.call({source:"a",flags:"b"})})),m=r&&l.name!=s;(d||m)&&o(RegExp.prototype,s,(function(){var t=i(this),e=u(t.source),n=u(c(t));return"/"+e+"/"+n}),{unsafe:!0})},7227:function(t,e,n){"use strict";var r=n(7710),o=n(5631);r("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),o)},189:function(t,e,n){n(7227)},5218:function(t,e,n){"use strict";var r=n(2109),o=n(4230),i=n(3429);r({target:"String",proto:!0,forced:i("anchor")},{anchor:function(t){return o(this,"a","name",t)}})},9253:function(t,e,n){"use strict";var r=n(2109),o=n(4230),i=n(3429);r({target:"String",proto:!0,forced:i("fixed")},{fixed:function(){return o(this,"tt","","")}})},8783:function(t,e,n){"use strict";var r=n(8710).charAt,o=n(1340),i=n(9909),u=n(1656),a=n(6178),c="String Iterator",s=i.set,f=i.getterFor(c);u(String,"String",(function(t){s(this,{type:c,string:o(t),index:0})}),(function(){var t,e=f(this),n=e.string,o=e.index;return o>=n.length?a(void 0,!0):(t=r(n,o),e.index+=t.length,a(t,!1))}))},9254:function(t,e,n){"use strict";var r=n(2109),o=n(4230),i=n(3429);r({target:"String",proto:!0,forced:i("link")},{link:function(t){return o(this,"a","href",t)}})},6373:function(t,e,n){"use strict";var r=n(2109),o=n(6916),i=n(1470),u=n(3061),a=n(6178),c=n(4488),s=n(7466),f=n(1340),l=n(9670),d=n(8554),m=n(4326),p=n(7850),g=n(4706),v=n(8173),h=n(8052),b=n(7293),y=n(5112),x=n(6707),w=n(1530),C=n(7651),S=n(9909),k=n(1913),_=y("matchAll"),E="RegExp String",O=E+" Iterator",T=S.set,A=S.getterFor(O),R=RegExp.prototype,N=TypeError,D=i("".indexOf),B=i("".matchAll),M=!!B&&!b((function(){B("a",/./)})),I=u((function(t,e,n,r){T(this,{type:O,regexp:t,string:e,global:n,unicode:r,done:!1})}),E,(function(){var t=A(this);if(t.done)return a(void 0,!0);var e=t.regexp,n=t.string,r=C(e,n);return null===r?(t.done=!0,a(void 0,!0)):t.global?(""===f(r[0])&&(e.lastIndex=w(n,s(e.lastIndex),t.unicode)),a(r,!1)):(t.done=!0,a(r,!1))})),P=function(t){var e,n,r,o=l(this),i=f(t),u=x(o,RegExp),a=f(g(o));return e=new u(u===RegExp?o.source:o,a),n=!!~D(a,"g"),r=!!~D(a,"u"),e.lastIndex=s(o.lastIndex),new I(e,i,n,r)};r({target:"String",proto:!0,forced:M},{matchAll:function(t){var e,n,r,i,u=c(this);if(d(t)){if(M)return B(u,t)}else{if(p(t)&&(e=f(c(g(t))),!~D(e,"g")))throw N("`.matchAll` does not allow non-global regexes");if(M)return B(u,t);if(r=v(t,_),void 0===r&&k&&"RegExp"==m(t)&&(r=P),r)return o(r,t,u)}return n=f(u),i=new RegExp(t,"g"),k?o(P,i,n):i[_](n)}}),k||_ in R||h(R,_,P)},4723:function(t,e,n){"use strict";var r=n(6916),o=n(7007),i=n(9670),u=n(8554),a=n(7466),c=n(1340),s=n(4488),f=n(8173),l=n(1530),d=n(7651);o("match",(function(t,e,n){return[function(e){var n=s(this),o=u(e)?void 0:f(e,t);return o?r(o,e,n):new RegExp(e)[t](c(n))},function(t){var r=i(this),o=c(t),u=n(e,r,o);if(u.done)return u.value;if(!r.global)return d(r,o);var s=r.unicode;r.lastIndex=0;var f,m=[],p=0;while(null!==(f=d(r,o))){var g=c(f[0]);m[p]=g,""===g&&(r.lastIndex=l(o,a(r.lastIndex),s)),p++}return 0===p?null:m}]}))},5306:function(t,e,n){"use strict";var r=n(2104),o=n(6916),i=n(1702),u=n(7007),a=n(7293),c=n(9670),s=n(614),f=n(8554),l=n(9303),d=n(7466),m=n(1340),p=n(4488),g=n(1530),v=n(8173),h=n(647),b=n(7651),y=n(5112),x=y("replace"),w=Math.max,C=Math.min,S=i([].concat),k=i([].push),_=i("".indexOf),E=i("".slice),O=function(t){return void 0===t?t:String(t)},T=function(){return"$0"==="a".replace(/./,"$0")}(),A=function(){return!!/./[x]&&""===/./[x]("a","$0")}(),R=!a((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}));u("replace",(function(t,e,n){var i=A?"$":"$0";return[function(t,n){var r=p(this),i=f(t)?void 0:v(t,x);return i?o(i,t,r,n):o(e,m(r),t,n)},function(t,o){var u=c(this),a=m(t);if("string"==typeof o&&-1===_(o,i)&&-1===_(o,"$<")){var f=n(e,u,a,o);if(f.done)return f.value}var p=s(o);p||(o=m(o));var v=u.global;if(v){var y=u.unicode;u.lastIndex=0}var x=[];while(1){var T=b(u,a);if(null===T)break;if(k(x,T),!v)break;var A=m(T[0]);""===A&&(u.lastIndex=g(a,d(u.lastIndex),y))}for(var R="",N=0,D=0;D<x.length;D++){T=x[D];for(var B=m(T[0]),M=w(C(l(T.index),a.length),0),I=[],P=1;P<T.length;P++)k(I,O(T[P]));var L=T.groups;if(p){var F=S([B],I,M,a);void 0!==L&&k(F,L);var j=m(r(o,void 0,F))}else j=h(B,a,M,I,L,o);M>=N&&(R+=E(a,N,M)+j,N=M+B.length)}return R+E(a,N)}]}),!R||!T||A)},4765:function(t,e,n){"use strict";var r=n(6916),o=n(7007),i=n(9670),u=n(8554),a=n(4488),c=n(1150),s=n(1340),f=n(8173),l=n(7651);o("search",(function(t,e,n){return[function(e){var n=a(this),o=u(e)?void 0:f(e,t);return o?r(o,e,n):new RegExp(e)[t](s(n))},function(t){var r=i(this),o=s(t),u=n(e,r,o);if(u.done)return u.value;var a=r.lastIndex;c(a,0)||(r.lastIndex=0);var f=l(r,o);return c(r.lastIndex,a)||(r.lastIndex=a),null===f?-1:f.index}]}))},3123:function(t,e,n){"use strict";var r=n(2104),o=n(6916),i=n(1702),u=n(7007),a=n(9670),c=n(8554),s=n(7850),f=n(4488),l=n(6707),d=n(1530),m=n(7466),p=n(1340),g=n(8173),v=n(1589),h=n(7651),b=n(2261),y=n(2999),x=n(7293),w=y.UNSUPPORTED_Y,C=4294967295,S=Math.min,k=[].push,_=i(/./.exec),E=i(k),O=i("".slice),T=!x((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));u("split",(function(t,e,n){var i;return i="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var i=p(f(this)),u=void 0===n?C:n>>>0;if(0===u)return[];if(void 0===t)return[i];if(!s(t))return o(e,i,t,u);var a,c,l,d=[],m=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),g=0,h=new RegExp(t.source,m+"g");while(a=o(b,h,i)){if(c=h.lastIndex,c>g&&(E(d,O(i,g,a.index)),a.length>1&&a.index<i.length&&r(k,d,v(a,1)),l=a[0].length,g=c,d.length>=u))break;h.lastIndex===a.index&&h.lastIndex++}return g===i.length?!l&&_(h,"")||E(d,""):E(d,O(i,g)),d.length>u?v(d,0,u):d}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:o(e,this,t,n)}:e,[function(e,n){var r=f(this),u=c(e)?void 0:g(e,t);return u?o(u,e,r,n):o(i,p(r),e,n)},function(t,r){var o=a(this),u=p(t),c=n(i,o,u,r,i!==e);if(c.done)return c.value;var s=l(o,RegExp),f=o.unicode,g=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(w?"g":"y"),v=new s(w?"^(?:"+o.source+")":o,g),b=void 0===r?C:r>>>0;if(0===b)return[];if(0===u.length)return null===h(v,u)?[u]:[];var y=0,x=0,k=[];while(x<u.length){v.lastIndex=w?0:x;var _,T=h(v,w?O(u,x):u);if(null===T||(_=S(m(v.lastIndex+(w?x:0)),u.length))===y)x=d(u,x,f);else{if(E(k,O(u,y,x)),k.length===b)return k;for(var A=1;A<=T.length-1;A++)if(E(k,T[A]),k.length===b)return k;x=y=_}}return E(k,O(u,y)),k}]}),!T,w)},86:function(t,e,n){"use strict";var r=n(2109),o=n(4230),i=n(3429);r({target:"String",proto:!0,forced:i("sub")},{sub:function(){return o(this,"sub","","")}})},3210:function(t,e,n){"use strict";var r=n(2109),o=n(3111).trim,i=n(6091);r({target:"String",proto:!0,forced:i("trim")},{trim:function(){return o(this)}})},2443:function(t,e,n){var r=n(6800);r("asyncIterator")},4032:function(t,e,n){"use strict";var r=n(2109),o=n(7854),i=n(6916),u=n(1702),a=n(1913),c=n(9781),s=n(6293),f=n(7293),l=n(2597),d=n(7976),m=n(9670),p=n(5656),g=n(4948),v=n(1340),h=n(9114),b=n(30),y=n(1956),x=n(8006),w=n(1156),C=n(5181),S=n(1236),k=n(3070),_=n(6048),E=n(5296),O=n(8052),T=n(7045),A=n(2309),R=n(6200),N=n(3501),D=n(9711),B=n(5112),M=n(6061),I=n(6800),P=n(6532),L=n(8003),F=n(9909),j=n(2092).forEach,z=R("hidden"),U="Symbol",H="prototype",V=F.set,W=F.getterFor(U),$=Object[H],q=o.Symbol,G=q&&q[H],K=o.TypeError,Y=o.QObject,X=S.f,J=k.f,Q=w.f,Z=E.f,tt=u([].push),et=A("symbols"),nt=A("op-symbols"),rt=A("wks"),ot=!Y||!Y[H]||!Y[H].findChild,it=c&&f((function(){return 7!=b(J({},"a",{get:function(){return J(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=X($,e);r&&delete $[e],J(t,e,n),r&&t!==$&&J($,e,r)}:J,ut=function(t,e){var n=et[t]=b(G);return V(n,{type:U,tag:t,description:e}),c||(n.description=e),n},at=function(t,e,n){t===$&&at(nt,e,n),m(t);var r=g(e);return m(n),l(et,r)?(n.enumerable?(l(t,z)&&t[z][r]&&(t[z][r]=!1),n=b(n,{enumerable:h(0,!1)})):(l(t,z)||J(t,z,h(1,{})),t[z][r]=!0),it(t,r,n)):J(t,r,n)},ct=function(t,e){m(t);var n=p(e),r=y(n).concat(mt(n));return j(r,(function(e){c&&!i(ft,n,e)||at(t,e,n[e])})),t},st=function(t,e){return void 0===e?b(t):ct(b(t),e)},ft=function(t){var e=g(t),n=i(Z,this,e);return!(this===$&&l(et,e)&&!l(nt,e))&&(!(n||!l(this,e)||!l(et,e)||l(this,z)&&this[z][e])||n)},lt=function(t,e){var n=p(t),r=g(e);if(n!==$||!l(et,r)||l(nt,r)){var o=X(n,r);return!o||!l(et,r)||l(n,z)&&n[z][r]||(o.enumerable=!0),o}},dt=function(t){var e=Q(p(t)),n=[];return j(e,(function(t){l(et,t)||l(N,t)||tt(n,t)})),n},mt=function(t){var e=t===$,n=Q(e?nt:p(t)),r=[];return j(n,(function(t){!l(et,t)||e&&!l($,t)||tt(r,et[t])})),r};s||(q=function(){if(d(G,this))throw K("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?v(arguments[0]):void 0,e=D(t),n=function(t){this===$&&i(n,nt,t),l(this,z)&&l(this[z],e)&&(this[z][e]=!1),it(this,e,h(1,t))};return c&&ot&&it($,e,{configurable:!0,set:n}),ut(e,t)},G=q[H],O(G,"toString",(function(){return W(this).tag})),O(q,"withoutSetter",(function(t){return ut(D(t),t)})),E.f=ft,k.f=at,_.f=ct,S.f=lt,x.f=w.f=dt,C.f=mt,M.f=function(t){return ut(B(t),t)},c&&(T(G,"description",{configurable:!0,get:function(){return W(this).description}}),a||O($,"propertyIsEnumerable",ft,{unsafe:!0}))),r({global:!0,constructor:!0,wrap:!0,forced:!s,sham:!s},{Symbol:q}),j(y(rt),(function(t){I(t)})),r({target:U,stat:!0,forced:!s},{useSetter:function(){ot=!0},useSimple:function(){ot=!1}}),r({target:"Object",stat:!0,forced:!s,sham:!c},{create:st,defineProperty:at,defineProperties:ct,getOwnPropertyDescriptor:lt}),r({target:"Object",stat:!0,forced:!s},{getOwnPropertyNames:dt}),P(),L(q,U),N[z]=!0},1817:function(t,e,n){"use strict";var r=n(2109),o=n(9781),i=n(7854),u=n(1702),a=n(2597),c=n(614),s=n(7976),f=n(1340),l=n(7045),d=n(9920),m=i.Symbol,p=m&&m.prototype;if(o&&c(m)&&(!("description"in p)||void 0!==m().description)){var g={},v=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:f(arguments[0]),e=s(p,this)?new m(t):void 0===t?m():m(t);return""===t&&(g[e]=!0),e};d(v,m),v.prototype=p,p.constructor=v;var h="Symbol(test)"==String(m("test")),b=u(p.valueOf),y=u(p.toString),x=/^Symbol\((.*)\)[^)]+$/,w=u("".replace),C=u("".slice);l(p,"description",{configurable:!0,get:function(){var t=b(this);if(a(g,t))return"";var e=y(t),n=h?C(e,7,-1):w(e,x,"$1");return""===n?void 0:n}}),r({global:!0,constructor:!0,forced:!0},{Symbol:v})}},763:function(t,e,n){var r=n(2109),o=n(5005),i=n(2597),u=n(1340),a=n(2309),c=n(2015),s=a("string-to-symbol-registry"),f=a("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!c},{for:function(t){var e=u(t);if(i(s,e))return s[e];var n=o("Symbol")(e);return s[e]=n,f[n]=e,n}})},2165:function(t,e,n){var r=n(6800);r("iterator")},2526:function(t,e,n){n(4032),n(763),n(6620),n(8862),n(9660)},6620:function(t,e,n){var r=n(2109),o=n(2597),i=n(2190),u=n(6330),a=n(2309),c=n(2015),s=a("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!c},{keyFor:function(t){if(!i(t))throw TypeError(u(t)+" is not a symbol");if(o(s,t))return s[t]}})},6649:function(t,e,n){var r=n(6800),o=n(6532);r("toPrimitive"),o()},9341:function(t,e,n){var r=n(5005),o=n(6800),i=n(8003);o("toStringTag"),i(r("Symbol"),"Symbol")},8675:function(t,e,n){"use strict";var r=n(260),o=n(6244),i=n(9303),u=r.aTypedArray,a=r.exportTypedArrayMethod;a("at",(function(t){var e=u(this),n=o(e),r=i(t),a=r>=0?r:n+r;return a<0||a>=n?void 0:e[a]}))},2990:function(t,e,n){"use strict";var r=n(1702),o=n(260),i=n(1048),u=r(i),a=o.aTypedArray,c=o.exportTypedArrayMethod;c("copyWithin",(function(t,e){return u(a(this),t,e,arguments.length>2?arguments[2]:void 0)}))},8927:function(t,e,n){"use strict";var r=n(260),o=n(2092).every,i=r.aTypedArray,u=r.exportTypedArrayMethod;u("every",(function(t){return o(i(this),t,arguments.length>1?arguments[1]:void 0)}))},3105:function(t,e,n){"use strict";var r=n(260),o=n(1285),i=n(4599),u=n(648),a=n(6916),c=n(1702),s=n(7293),f=r.aTypedArray,l=r.exportTypedArrayMethod,d=c("".slice),m=s((function(){var t=0;return new Int8Array(2).fill({valueOf:function(){return t++}}),1!==t}));l("fill",(function(t){var e=arguments.length;f(this);var n="Big"===d(u(this),0,3)?i(t):+t;return a(o,this,n,e>1?arguments[1]:void 0,e>2?arguments[2]:void 0)}),m)},5035:function(t,e,n){"use strict";var r=n(260),o=n(2092).filter,i=n(3074),u=r.aTypedArray,a=r.exportTypedArrayMethod;a("filter",(function(t){var e=o(u(this),t,arguments.length>1?arguments[1]:void 0);return i(this,e)}))},7174:function(t,e,n){"use strict";var r=n(260),o=n(2092).findIndex,i=r.aTypedArray,u=r.exportTypedArrayMethod;u("findIndex",(function(t){return o(i(this),t,arguments.length>1?arguments[1]:void 0)}))},2958:function(t,e,n){"use strict";var r=n(260),o=n(9671).findLastIndex,i=r.aTypedArray,u=r.exportTypedArrayMethod;u("findLastIndex",(function(t){return o(i(this),t,arguments.length>1?arguments[1]:void 0)}))},3408:function(t,e,n){"use strict";var r=n(260),o=n(9671).findLast,i=r.aTypedArray,u=r.exportTypedArrayMethod;u("findLast",(function(t){return o(i(this),t,arguments.length>1?arguments[1]:void 0)}))},4345:function(t,e,n){"use strict";var r=n(260),o=n(2092).find,i=r.aTypedArray,u=r.exportTypedArrayMethod;u("find",(function(t){return o(i(this),t,arguments.length>1?arguments[1]:void 0)}))},2846:function(t,e,n){"use strict";var r=n(260),o=n(2092).forEach,i=r.aTypedArray,u=r.exportTypedArrayMethod;u("forEach",(function(t){o(i(this),t,arguments.length>1?arguments[1]:void 0)}))},4731:function(t,e,n){"use strict";var r=n(260),o=n(1318).includes,i=r.aTypedArray,u=r.exportTypedArrayMethod;u("includes",(function(t){return o(i(this),t,arguments.length>1?arguments[1]:void 0)}))},7209:function(t,e,n){"use strict";var r=n(260),o=n(1318).indexOf,i=r.aTypedArray,u=r.exportTypedArrayMethod;u("indexOf",(function(t){return o(i(this),t,arguments.length>1?arguments[1]:void 0)}))},6319:function(t,e,n){"use strict";var r=n(7854),o=n(7293),i=n(1702),u=n(260),a=n(6992),c=n(5112),s=c("iterator"),f=r.Uint8Array,l=i(a.values),d=i(a.keys),m=i(a.entries),p=u.aTypedArray,g=u.exportTypedArrayMethod,v=f&&f.prototype,h=!o((function(){v[s].call([1])})),b=!!v&&v.values&&v[s]===v.values&&"values"===v.values.name,y=function(){return l(p(this))};g("entries",(function(){return m(p(this))}),h),g("keys",(function(){return d(p(this))}),h),g("values",y,h||!b,{name:"values"}),g(s,y,h||!b,{name:"values"})},8867:function(t,e,n){"use strict";var r=n(260),o=n(1702),i=r.aTypedArray,u=r.exportTypedArrayMethod,a=o([].join);u("join",(function(t){return a(i(this),t)}))},7789:function(t,e,n){"use strict";var r=n(260),o=n(2104),i=n(6583),u=r.aTypedArray,a=r.exportTypedArrayMethod;a("lastIndexOf",(function(t){var e=arguments.length;return o(i,u(this),e>1?[t,arguments[1]]:[t])}))},3739:function(t,e,n){"use strict";var r=n(260),o=n(2092).map,i=n(6304),u=r.aTypedArray,a=r.exportTypedArrayMethod;a("map",(function(t){return o(u(this),t,arguments.length>1?arguments[1]:void 0,(function(t,e){return new(i(t))(e)}))}))},4483:function(t,e,n){"use strict";var r=n(260),o=n(3671).right,i=r.aTypedArray,u=r.exportTypedArrayMethod;u("reduceRight",(function(t){var e=arguments.length;return o(i(this),t,e,e>1?arguments[1]:void 0)}))},9368:function(t,e,n){"use strict";var r=n(260),o=n(3671).left,i=r.aTypedArray,u=r.exportTypedArrayMethod;u("reduce",(function(t){var e=arguments.length;return o(i(this),t,e,e>1?arguments[1]:void 0)}))},2056:function(t,e,n){"use strict";var r=n(260),o=r.aTypedArray,i=r.exportTypedArrayMethod,u=Math.floor;i("reverse",(function(){var t,e=this,n=o(e).length,r=u(n/2),i=0;while(i<r)t=e[i],e[i++]=e[--n],e[n]=t;return e}))},3462:function(t,e,n){"use strict";var r=n(7854),o=n(6916),i=n(260),u=n(6244),a=n(4590),c=n(7908),s=n(7293),f=r.RangeError,l=r.Int8Array,d=l&&l.prototype,m=d&&d.set,p=i.aTypedArray,g=i.exportTypedArrayMethod,v=!s((function(){var t=new Uint8ClampedArray(2);return o(m,t,{length:1,0:3},1),3!==t[1]})),h=v&&i.NATIVE_ARRAY_BUFFER_VIEWS&&s((function(){var t=new l(2);return t.set(1),t.set("2",1),0!==t[0]||2!==t[1]}));g("set",(function(t){p(this);var e=a(arguments.length>1?arguments[1]:void 0,1),n=c(t);if(v)return o(m,this,n,e);var r=this.length,i=u(n),s=0;if(i+e>r)throw f("Wrong length");while(s<i)this[e+s]=n[s++]}),!v||h)},678:function(t,e,n){"use strict";var r=n(260),o=n(6304),i=n(7293),u=n(206),a=r.aTypedArray,c=r.exportTypedArrayMethod,s=i((function(){new Int8Array(1).slice()}));c("slice",(function(t,e){var n=u(a(this),t,e),r=o(this),i=0,c=n.length,s=new r(c);while(c>i)s[i]=n[i++];return s}),s)},7462:function(t,e,n){"use strict";var r=n(260),o=n(2092).some,i=r.aTypedArray,u=r.exportTypedArrayMethod;u("some",(function(t){return o(i(this),t,arguments.length>1?arguments[1]:void 0)}))},3824:function(t,e,n){"use strict";var r=n(7854),o=n(1470),i=n(7293),u=n(9662),a=n(4362),c=n(260),s=n(8886),f=n(256),l=n(7392),d=n(8008),m=c.aTypedArray,p=c.exportTypedArrayMethod,g=r.Uint16Array,v=g&&o(g.prototype.sort),h=!!v&&!(i((function(){v(new g(2),null)}))&&i((function(){v(new g(2),{})}))),b=!!v&&!i((function(){if(l)return l<74;if(s)return s<67;if(f)return!0;if(d)return d<602;var t,e,n=new g(516),r=Array(516);for(t=0;t<516;t++)e=t%4,n[t]=515-t,r[t]=t-2*e+3;for(v(n,(function(t,e){return(t/4|0)-(e/4|0)})),t=0;t<516;t++)if(n[t]!==r[t])return!0})),y=function(t){return function(e,n){return void 0!==t?+t(e,n)||0:n!==n?-1:e!==e?1:0===e&&0===n?1/e>0&&1/n<0?1:-1:e>n}};p("sort",(function(t){return void 0!==t&&u(t),b?v(this,t):a(m(this),y(t))}),!b||h)},5021:function(t,e,n){"use strict";var r=n(260),o=n(7466),i=n(1400),u=n(6304),a=r.aTypedArray,c=r.exportTypedArrayMethod;c("subarray",(function(t,e){var n=a(this),r=n.length,c=i(t,r),s=u(n);return new s(n.buffer,n.byteOffset+c*n.BYTES_PER_ELEMENT,o((void 0===e?r:i(e,r))-c))}))},2974:function(t,e,n){"use strict";var r=n(7854),o=n(2104),i=n(260),u=n(7293),a=n(206),c=r.Int8Array,s=i.aTypedArray,f=i.exportTypedArrayMethod,l=[].toLocaleString,d=!!c&&u((function(){l.call(new c(1))})),m=u((function(){return[1,2].toLocaleString()!=new c([1,2]).toLocaleString()}))||!u((function(){c.prototype.toLocaleString.call([1,2])}));f("toLocaleString",(function(){return o(l,d?a(s(this)):s(this),a(arguments))}),m)},1439:function(t,e,n){"use strict";var r=n(1843),o=n(260),i=o.aTypedArray,u=o.exportTypedArrayMethod,a=o.getTypedArrayConstructor;u("toReversed",(function(){return r(i(this),a(this))}))},7585:function(t,e,n){"use strict";var r=n(260),o=n(1702),i=n(9662),u=n(7745),a=r.aTypedArray,c=r.getTypedArrayConstructor,s=r.exportTypedArrayMethod,f=o(r.TypedArrayPrototype.sort);s("toSorted",(function(t){void 0!==t&&i(t);var e=a(this),n=u(c(e),e);return f(n,t)}))},5016:function(t,e,n){"use strict";var r=n(260).exportTypedArrayMethod,o=n(7293),i=n(7854),u=n(1702),a=i.Uint8Array,c=a&&a.prototype||{},s=[].toString,f=u([].join);o((function(){s.call({})}))&&(s=function(){return f(this)});var l=c.toString!=s;r("toString",s,l)},2472:function(t,e,n){var r=n(9843);r("Uint8",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},5315:function(t,e,n){"use strict";var r=n(1572),o=n(260),i=n(4067),u=n(9303),a=n(4599),c=o.aTypedArray,s=o.getTypedArrayConstructor,f=o.exportTypedArrayMethod,l=!!function(){try{new Int8Array(1)["with"](2,{valueOf:function(){throw 8}})}catch(t){return 8===t}}();f("with",{with:function(t,e){var n=c(this),o=u(t),f=i(n)?a(e):+e;return r(n,s(n),o,f)}}["with"],!l)},1202:function(t,e,n){"use strict";var r,o=n(6677),i=n(7854),u=n(1702),a=n(9190),c=n(2423),s=n(7710),f=n(9320),l=n(111),d=n(9909).enforce,m=n(7293),p=n(4811),g=Object,v=Array.isArray,h=g.isExtensible,b=g.isFrozen,y=g.isSealed,x=g.freeze,w=g.seal,C={},S={},k=!i.ActiveXObject&&"ActiveXObject"in i,_=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},E=s("WeakMap",_,f),O=E.prototype,T=u(O.set),A=function(){return o&&m((function(){var t=x([]);return T(new E,t,1),!b(t)}))};if(p)if(k){r=f.getConstructor(_,"WeakMap",!0),c.enable();var R=u(O["delete"]),N=u(O.has),D=u(O.get);a(O,{delete:function(t){if(l(t)&&!h(t)){var e=d(this);return e.frozen||(e.frozen=new r),R(this,t)||e.frozen["delete"](t)}return R(this,t)},has:function(t){if(l(t)&&!h(t)){var e=d(this);return e.frozen||(e.frozen=new r),N(this,t)||e.frozen.has(t)}return N(this,t)},get:function(t){if(l(t)&&!h(t)){var e=d(this);return e.frozen||(e.frozen=new r),N(this,t)?D(this,t):e.frozen.get(t)}return D(this,t)},set:function(t,e){if(l(t)&&!h(t)){var n=d(this);n.frozen||(n.frozen=new r),N(this,t)?T(this,t,e):n.frozen.set(t,e)}else T(this,t,e);return this}})}else A()&&a(O,{set:function(t,e){var n;return v(t)&&(b(t)?n=C:y(t)&&(n=S)),T(this,t,e),n==C&&x(t),n==S&&w(t),this}})},4129:function(t,e,n){n(1202)},3767:function(t,e,n){n(1439)},8585:function(t,e,n){n(7585)},8696:function(t,e,n){n(5315)},5505:function(t,e,n){var r=n(2109),o=n(7854),i=n(5005),u=n(1702),a=n(6916),c=n(7293),s=n(1340),f=n(2597),l=n(8053),d=n(4170).ctoi,m=/[^\d+/a-z]/i,p=/[\t\n\f\r ]+/g,g=/[=]{1,2}$/,v=i("atob"),h=String.fromCharCode,b=u("".charAt),y=u("".replace),x=u(m.exec),w=c((function(){return""!==v(" ")})),C=!c((function(){v("a")})),S=!w&&!C&&!c((function(){v()})),k=!w&&!C&&1!==v.length;r({global:!0,bind:!0,enumerable:!0,forced:w||C||S||k},{atob:function(t){if(l(arguments.length,1),S||k)return a(v,o,t);var e,n,r=y(s(t),p,""),u="",c=0,w=0;if(r.length%4==0&&(r=y(r,g,"")),r.length%4==1||x(m,r))throw new(i("DOMException"))("The string is not correctly encoded","InvalidCharacterError");while(e=b(r,c++))f(d,e)&&(n=w%4?64*n+d[e]:d[e],w++%4&&(u+=h(255&n>>(-2*w&6))));return u}})},7479:function(t,e,n){var r=n(2109),o=n(7854),i=n(5005),u=n(1702),a=n(6916),c=n(7293),s=n(1340),f=n(8053),l=n(4170).itoc,d=i("btoa"),m=u("".charAt),p=u("".charCodeAt),g=!!d&&!c((function(){d()})),v=!!d&&c((function(){return"bnVsbA=="!==d(null)})),h=!!d&&1!==d.length;r({global:!0,bind:!0,enumerable:!0,forced:g||v||h},{btoa:function(t){if(f(arguments.length,1),g||v||h)return a(d,o,s(t));var e,n,r=s(t),u="",c=0,b=l;while(m(r,c)||(b="=",c%1)){if(n=p(r,c+=3/4),n>255)throw new(i("DOMException"))("The string contains characters outside of the Latin1 range","InvalidCharacterError");e=e<<8|n,u+=m(b,63&e>>8-c%1*8)}return u}})},4747:function(t,e,n){var r=n(7854),o=n(8324),i=n(8509),u=n(8533),a=n(8880),c=function(t){if(t&&t.forEach!==u)try{a(t,"forEach",u)}catch(e){t.forEach=u}};for(var s in o)o[s]&&c(r[s]&&r[s].prototype);c(i)},3948:function(t,e,n){var r=n(7854),o=n(8324),i=n(8509),u=n(6992),a=n(8880),c=n(5112),s=c("iterator"),f=c("toStringTag"),l=u.values,d=function(t,e){if(t){if(t[s]!==l)try{a(t,s,l)}catch(r){t[s]=l}if(t[f]||a(t,f,e),o[e])for(var n in u)if(t[n]!==u[n])try{a(t,n,u[n])}catch(r){t[n]=u[n]}}};for(var m in o)d(r[m]&&r[m].prototype,m);d(i,"DOMTokenList")},7714:function(t,e,n){"use strict";var r=n(2109),o=n(4038),i=n(5005),u=n(7293),a=n(30),c=n(9114),s=n(3070).f,f=n(8052),l=n(7045),d=n(2597),m=n(5787),p=n(9670),g=n(7762),v=n(6277),h=n(3678),b=n(1060),y=n(9909),x=n(9781),w=n(1913),C="DOMException",S="DATA_CLONE_ERR",k=i("Error"),_=i(C)||function(){try{var t=i("MessageChannel")||o("worker_threads").MessageChannel;(new t).port1.postMessage(new WeakMap)}catch(e){if(e.name==S&&25==e.code)return e.constructor}}(),E=_&&_.prototype,O=k.prototype,T=y.set,A=y.getterFor(C),R="stack"in k(C),N=function(t){return d(h,t)&&h[t].m?h[t].c:0},D=function(){m(this,B);var t=arguments.length,e=v(t<1?void 0:arguments[0]),n=v(t<2?void 0:arguments[1],"Error"),r=N(n);if(T(this,{type:C,name:n,message:e,code:r}),x||(this.name=n,this.message=e,this.code=r),R){var o=k(e);o.name=C,s(this,"stack",c(1,b(o.stack,1)))}},B=D.prototype=a(O),M=function(t){return{enumerable:!0,configurable:!0,get:t}},I=function(t){return M((function(){return A(this)[t]}))};x&&(l(B,"code",I("code")),l(B,"message",I("message")),l(B,"name",I("name"))),s(B,"constructor",c(1,D));var P=u((function(){return!(new _ instanceof k)})),L=P||u((function(){return O.toString!==g||"2: 1"!==String(new _(1,2))})),F=P||u((function(){return 25!==new _(1,"DataCloneError").code})),j=P||25!==_[S]||25!==E[S],z=w?L||F||j:P;r({global:!0,constructor:!0,forced:z},{DOMException:z?D:_});var U=i(C),H=U.prototype;for(var V in L&&(w||_===U)&&f(H,"toString",g),F&&x&&_===U&&l(H,"code",M((function(){return N(p(this).name)}))),h)if(d(h,V)){var W=h[V],$=W.s,q=c(6,W.c);d(U,$)||s(U,$,q),d(H,$)||s(H,$,q)}},2801:function(t,e,n){"use strict";var r=n(2109),o=n(7854),i=n(5005),u=n(9114),a=n(3070).f,c=n(2597),s=n(5787),f=n(9587),l=n(6277),d=n(3678),m=n(1060),p=n(9781),g=n(1913),v="DOMException",h=i("Error"),b=i(v),y=function(){s(this,x);var t=arguments.length,e=l(t<1?void 0:arguments[0]),n=l(t<2?void 0:arguments[1],"Error"),r=new b(e,n),o=h(e);return o.name=v,a(r,"stack",u(1,m(o.stack,1))),f(r,this,y),r},x=y.prototype=b.prototype,w="stack"in h(v),C="stack"in new b(1,2),S=b&&p&&Object.getOwnPropertyDescriptor(o,v),k=!!S&&!(S.writable&&S.configurable),_=w&&!k&&!C;r({global:!0,constructor:!0,forced:g||_},{DOMException:_?y:b});var E=i(v),O=E.prototype;if(O.constructor!==E)for(var T in g||a(O,"constructor",u(1,E)),d)if(c(d,T)){var A=d[T],R=A.s;c(E,R)||a(E,R,u(6,A.c))}},1174:function(t,e,n){var r=n(5005),o=n(8003),i="DOMException";o(r(i),i)},6815:function(t,e,n){var r=n(2109),o=n(7854),i=n(7152),u=i(o.setInterval,!0);r({global:!0,bind:!0,forced:o.setInterval!==u},{setInterval:u})},8417:function(t,e,n){var r=n(2109),o=n(7854),i=n(7152),u=i(o.setTimeout,!0);r({global:!0,bind:!0,forced:o.setTimeout!==u},{setTimeout:u})},2564:function(t,e,n){n(6815),n(8417)},5556:function(t,e,n){"use strict";n(6992);var r=n(2109),o=n(7854),i=n(6916),u=n(1702),a=n(9781),c=n(5143),s=n(8052),f=n(7045),l=n(9190),d=n(8003),m=n(3061),p=n(9909),g=n(5787),v=n(614),h=n(2597),b=n(9974),y=n(648),x=n(9670),w=n(111),C=n(1340),S=n(30),k=n(9114),_=n(4121),E=n(1246),O=n(8053),T=n(5112),A=n(4362),R=T("iterator"),N="URLSearchParams",D=N+"Iterator",B=p.set,M=p.getterFor(N),I=p.getterFor(D),P=Object.getOwnPropertyDescriptor,L=function(t){if(!a)return o[t];var e=P(o,t);return e&&e.value},F=L("fetch"),j=L("Request"),z=L("Headers"),U=j&&j.prototype,H=z&&z.prototype,V=o.RegExp,W=o.TypeError,$=o.decodeURIComponent,q=o.encodeURIComponent,G=u("".charAt),K=u([].join),Y=u([].push),X=u("".replace),J=u([].shift),Q=u([].splice),Z=u("".split),tt=u("".slice),et=/\+/g,nt=Array(4),rt=function(t){return nt[t-1]||(nt[t-1]=V("((?:%[\\da-f]{2}){"+t+"})","gi"))},ot=function(t){try{return $(t)}catch(e){return t}},it=function(t){var e=X(t,et," "),n=4;try{return $(e)}catch(r){while(n)e=X(e,rt(n--),ot);return e}},ut=/[!'()~]|%20/g,at={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},ct=function(t){return at[t]},st=function(t){return X(q(t),ut,ct)},ft=m((function(t,e){B(this,{type:D,iterator:_(M(t).entries),kind:e})}),"Iterator",(function(){var t=I(this),e=t.kind,n=t.iterator.next(),r=n.value;return n.done||(n.value="keys"===e?r.key:"values"===e?r.value:[r.key,r.value]),n}),!0),lt=function(t){this.entries=[],this.url=null,void 0!==t&&(w(t)?this.parseObject(t):this.parseQuery("string"==typeof t?"?"===G(t,0)?tt(t,1):t:C(t)))};lt.prototype={type:N,bindURL:function(t){this.url=t,this.update()},parseObject:function(t){var e,n,r,o,u,a,c,s=E(t);if(s){e=_(t,s),n=e.next;while(!(r=i(n,e)).done){if(o=_(x(r.value)),u=o.next,(a=i(u,o)).done||(c=i(u,o)).done||!i(u,o).done)throw W("Expected sequence with length 2");Y(this.entries,{key:C(a.value),value:C(c.value)})}}else for(var f in t)h(t,f)&&Y(this.entries,{key:f,value:C(t[f])})},parseQuery:function(t){if(t){var e,n,r=Z(t,"&"),o=0;while(o<r.length)e=r[o++],e.length&&(n=Z(e,"="),Y(this.entries,{key:it(J(n)),value:it(K(n,"="))}))}},serialize:function(){var t,e=this.entries,n=[],r=0;while(r<e.length)t=e[r++],Y(n,st(t.key)+"="+st(t.value));return K(n,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var dt=function(){g(this,mt);var t=arguments.length>0?arguments[0]:void 0,e=B(this,new lt(t));a||(this.length=e.entries.length)},mt=dt.prototype;if(l(mt,{append:function(t,e){O(arguments.length,2);var n=M(this);Y(n.entries,{key:C(t),value:C(e)}),a||this.length++,n.updateURL()},delete:function(t){O(arguments.length,1);var e=M(this),n=e.entries,r=C(t),o=0;while(o<n.length)n[o].key===r?Q(n,o,1):o++;a||(this.length=n.length),e.updateURL()},get:function(t){O(arguments.length,1);for(var e=M(this).entries,n=C(t),r=0;r<e.length;r++)if(e[r].key===n)return e[r].value;return null},getAll:function(t){O(arguments.length,1);for(var e=M(this).entries,n=C(t),r=[],o=0;o<e.length;o++)e[o].key===n&&Y(r,e[o].value);return r},has:function(t){O(arguments.length,1);var e=M(this).entries,n=C(t),r=0;while(r<e.length)if(e[r++].key===n)return!0;return!1},set:function(t,e){O(arguments.length,1);for(var n,r=M(this),o=r.entries,i=!1,u=C(t),c=C(e),s=0;s<o.length;s++)n=o[s],n.key===u&&(i?Q(o,s--,1):(i=!0,n.value=c));i||Y(o,{key:u,value:c}),a||(this.length=o.length),r.updateURL()},sort:function(){var t=M(this);A(t.entries,(function(t,e){return t.key>e.key?1:-1})),t.updateURL()},forEach:function(t){var e,n=M(this).entries,r=b(t,arguments.length>1?arguments[1]:void 0),o=0;while(o<n.length)e=n[o++],r(e.value,e.key,this)},keys:function(){return new ft(this,"keys")},values:function(){return new ft(this,"values")},entries:function(){return new ft(this,"entries")}},{enumerable:!0}),s(mt,R,mt.entries,{name:"entries"}),s(mt,"toString",(function(){return M(this).serialize()}),{enumerable:!0}),a&&f(mt,"size",{get:function(){return M(this).entries.length},configurable:!0,enumerable:!0}),d(dt,N),r({global:!0,constructor:!0,forced:!c},{URLSearchParams:dt}),!c&&v(z)){var pt=u(H.has),gt=u(H.set),vt=function(t){if(w(t)){var e,n=t.body;if(y(n)===N)return e=t.headers?new z(t.headers):new z,pt(e,"content-type")||gt(e,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),S(t,{body:k(0,C(n)),headers:k(0,e)})}return t};if(v(F)&&r({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(t){return F(t,arguments.length>1?vt(arguments[1]):{})}}),v(j)){var ht=function(t){return g(this,U),new j(t,arguments.length>1?vt(arguments[1]):{})};U.constructor=ht,ht.prototype=U,r({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:ht})}}t.exports={URLSearchParams:dt,getState:M}},1637:function(t,e,n){n(5556)},8789:function(t,e,n){"use strict";n(8783);var r,o=n(2109),i=n(9781),u=n(5143),a=n(7854),c=n(9974),s=n(1702),f=n(8052),l=n(7045),d=n(5787),m=n(2597),p=n(1574),g=n(8457),v=n(1589),h=n(8710).codeAt,b=n(3197),y=n(1340),x=n(8003),w=n(8053),C=n(5556),S=n(9909),k=S.set,_=S.getterFor("URL"),E=C.URLSearchParams,O=C.getState,T=a.URL,A=a.TypeError,R=a.parseInt,N=Math.floor,D=Math.pow,B=s("".charAt),M=s(/./.exec),I=s([].join),P=s(1..toString),L=s([].pop),F=s([].push),j=s("".replace),z=s([].shift),U=s("".split),H=s("".slice),V=s("".toLowerCase),W=s([].unshift),$="Invalid authority",q="Invalid scheme",G="Invalid host",K="Invalid port",Y=/[a-z]/i,X=/[\d+-.a-z]/i,J=/\d/,Q=/^0x/i,Z=/^[0-7]+$/,tt=/^\d+$/,et=/^[\da-f]+$/i,nt=/[\0\t\n\r #%/:<>?@[\\\]^|]/,rt=/[\0\t\n\r #/:<>?@[\\\]^|]/,ot=/^[\u0000-\u0020]+/,it=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,ut=/[\t\n\r]/g,at=function(t){var e,n,r,o,i,u,a,c=U(t,".");if(c.length&&""==c[c.length-1]&&c.length--,e=c.length,e>4)return t;for(n=[],r=0;r<e;r++){if(o=c[r],""==o)return t;if(i=10,o.length>1&&"0"==B(o,0)&&(i=M(Q,o)?16:8,o=H(o,8==i?1:2)),""===o)u=0;else{if(!M(10==i?tt:8==i?Z:et,o))return t;u=R(o,i)}F(n,u)}for(r=0;r<e;r++)if(u=n[r],r==e-1){if(u>=D(256,5-e))return null}else if(u>255)return null;for(a=L(n),r=0;r<n.length;r++)a+=n[r]*D(256,3-r);return a},ct=function(t){var e,n,r,o,i,u,a,c=[0,0,0,0,0,0,0,0],s=0,f=null,l=0,d=function(){return B(t,l)};if(":"==d()){if(":"!=B(t,1))return;l+=2,s++,f=s}while(d()){if(8==s)return;if(":"!=d()){e=n=0;while(n<4&&M(et,d()))e=16*e+R(d(),16),l++,n++;if("."==d()){if(0==n)return;if(l-=n,s>6)return;r=0;while(d()){if(o=null,r>0){if(!("."==d()&&r<4))return;l++}if(!M(J,d()))return;while(M(J,d())){if(i=R(d(),10),null===o)o=i;else{if(0==o)return;o=10*o+i}if(o>255)return;l++}c[s]=256*c[s]+o,r++,2!=r&&4!=r||s++}if(4!=r)return;break}if(":"==d()){if(l++,!d())return}else if(d())return;c[s++]=e}else{if(null!==f)return;l++,s++,f=s}}if(null!==f){u=s-f,s=7;while(0!=s&&u>0)a=c[s],c[s--]=c[f+u-1],c[f+--u]=a}else if(8!=s)return;return c},st=function(t){for(var e=null,n=1,r=null,o=0,i=0;i<8;i++)0!==t[i]?(o>n&&(e=r,n=o),r=null,o=0):(null===r&&(r=i),++o);return o>n&&(e=r,n=o),e},ft=function(t){var e,n,r,o;if("number"==typeof t){for(e=[],n=0;n<4;n++)W(e,t%256),t=N(t/256);return I(e,".")}if("object"==typeof t){for(e="",r=st(t),n=0;n<8;n++)o&&0===t[n]||(o&&(o=!1),r===n?(e+=n?":":"::",o=!0):(e+=P(t[n],16),n<7&&(e+=":")));return"["+e+"]"}return t},lt={},dt=p({},lt,{" ":1,'"':1,"<":1,">":1,"`":1}),mt=p({},dt,{"#":1,"?":1,"{":1,"}":1}),pt=p({},mt,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),gt=function(t,e){var n=h(t,0);return n>32&&n<127&&!m(e,t)?t:encodeURIComponent(t)},vt={ftp:21,file:null,http:80,https:443,ws:80,wss:443},ht=function(t,e){var n;return 2==t.length&&M(Y,B(t,0))&&(":"==(n=B(t,1))||!e&&"|"==n)},bt=function(t){var e;return t.length>1&&ht(H(t,0,2))&&(2==t.length||"/"===(e=B(t,2))||"\\"===e||"?"===e||"#"===e)},yt=function(t){return"."===t||"%2e"===V(t)},xt=function(t){return t=V(t),".."===t||"%2e."===t||".%2e"===t||"%2e%2e"===t},wt={},Ct={},St={},kt={},_t={},Et={},Ot={},Tt={},At={},Rt={},Nt={},Dt={},Bt={},Mt={},It={},Pt={},Lt={},Ft={},jt={},zt={},Ut={},Ht=function(t,e,n){var r,o,i,u=y(t);if(e){if(o=this.parse(u),o)throw A(o);this.searchParams=null}else{if(void 0!==n&&(r=new Ht(n,!0)),o=this.parse(u,null,r),o)throw A(o);i=O(new E),i.bindURL(this),this.searchParams=i}};Ht.prototype={type:"URL",parse:function(t,e,n){var o,i,u,a,c=this,s=e||wt,f=0,l="",d=!1,p=!1,h=!1;t=y(t),e||(c.scheme="",c.username="",c.password="",c.host=null,c.port=null,c.path=[],c.query=null,c.fragment=null,c.cannotBeABaseURL=!1,t=j(t,ot,""),t=j(t,it,"$1")),t=j(t,ut,""),o=g(t);while(f<=o.length){switch(i=o[f],s){case wt:if(!i||!M(Y,i)){if(e)return q;s=St;continue}l+=V(i),s=Ct;break;case Ct:if(i&&(M(X,i)||"+"==i||"-"==i||"."==i))l+=V(i);else{if(":"!=i){if(e)return q;l="",s=St,f=0;continue}if(e&&(c.isSpecial()!=m(vt,l)||"file"==l&&(c.includesCredentials()||null!==c.port)||"file"==c.scheme&&!c.host))return;if(c.scheme=l,e)return void(c.isSpecial()&&vt[c.scheme]==c.port&&(c.port=null));l="","file"==c.scheme?s=Mt:c.isSpecial()&&n&&n.scheme==c.scheme?s=kt:c.isSpecial()?s=Tt:"/"==o[f+1]?(s=_t,f++):(c.cannotBeABaseURL=!0,F(c.path,""),s=jt)}break;case St:if(!n||n.cannotBeABaseURL&&"#"!=i)return q;if(n.cannotBeABaseURL&&"#"==i){c.scheme=n.scheme,c.path=v(n.path),c.query=n.query,c.fragment="",c.cannotBeABaseURL=!0,s=Ut;break}s="file"==n.scheme?Mt:Et;continue;case kt:if("/"!=i||"/"!=o[f+1]){s=Et;continue}s=At,f++;break;case _t:if("/"==i){s=Rt;break}s=Ft;continue;case Et:if(c.scheme=n.scheme,i==r)c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=v(n.path),c.query=n.query;else if("/"==i||"\\"==i&&c.isSpecial())s=Ot;else if("?"==i)c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=v(n.path),c.query="",s=zt;else{if("#"!=i){c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=v(n.path),c.path.length--,s=Ft;continue}c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=v(n.path),c.query=n.query,c.fragment="",s=Ut}break;case Ot:if(!c.isSpecial()||"/"!=i&&"\\"!=i){if("/"!=i){c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,s=Ft;continue}s=Rt}else s=At;break;case Tt:if(s=At,"/"!=i||"/"!=B(l,f+1))continue;f++;break;case At:if("/"!=i&&"\\"!=i){s=Rt;continue}break;case Rt:if("@"==i){d&&(l="%40"+l),d=!0,u=g(l);for(var b=0;b<u.length;b++){var x=u[b];if(":"!=x||h){var w=gt(x,pt);h?c.password+=w:c.username+=w}else h=!0}l=""}else if(i==r||"/"==i||"?"==i||"#"==i||"\\"==i&&c.isSpecial()){if(d&&""==l)return $;f-=g(l).length+1,l="",s=Nt}else l+=i;break;case Nt:case Dt:if(e&&"file"==c.scheme){s=Pt;continue}if(":"!=i||p){if(i==r||"/"==i||"?"==i||"#"==i||"\\"==i&&c.isSpecial()){if(c.isSpecial()&&""==l)return G;if(e&&""==l&&(c.includesCredentials()||null!==c.port))return;if(a=c.parseHost(l),a)return a;if(l="",s=Lt,e)return;continue}"["==i?p=!0:"]"==i&&(p=!1),l+=i}else{if(""==l)return G;if(a=c.parseHost(l),a)return a;if(l="",s=Bt,e==Dt)return}break;case Bt:if(!M(J,i)){if(i==r||"/"==i||"?"==i||"#"==i||"\\"==i&&c.isSpecial()||e){if(""!=l){var C=R(l,10);if(C>65535)return K;c.port=c.isSpecial()&&C===vt[c.scheme]?null:C,l=""}if(e)return;s=Lt;continue}return K}l+=i;break;case Mt:if(c.scheme="file","/"==i||"\\"==i)s=It;else{if(!n||"file"!=n.scheme){s=Ft;continue}if(i==r)c.host=n.host,c.path=v(n.path),c.query=n.query;else if("?"==i)c.host=n.host,c.path=v(n.path),c.query="",s=zt;else{if("#"!=i){bt(I(v(o,f),""))||(c.host=n.host,c.path=v(n.path),c.shortenPath()),s=Ft;continue}c.host=n.host,c.path=v(n.path),c.query=n.query,c.fragment="",s=Ut}}break;case It:if("/"==i||"\\"==i){s=Pt;break}n&&"file"==n.scheme&&!bt(I(v(o,f),""))&&(ht(n.path[0],!0)?F(c.path,n.path[0]):c.host=n.host),s=Ft;continue;case Pt:if(i==r||"/"==i||"\\"==i||"?"==i||"#"==i){if(!e&&ht(l))s=Ft;else if(""==l){if(c.host="",e)return;s=Lt}else{if(a=c.parseHost(l),a)return a;if("localhost"==c.host&&(c.host=""),e)return;l="",s=Lt}continue}l+=i;break;case Lt:if(c.isSpecial()){if(s=Ft,"/"!=i&&"\\"!=i)continue}else if(e||"?"!=i)if(e||"#"!=i){if(i!=r&&(s=Ft,"/"!=i))continue}else c.fragment="",s=Ut;else c.query="",s=zt;break;case Ft:if(i==r||"/"==i||"\\"==i&&c.isSpecial()||!e&&("?"==i||"#"==i)){if(xt(l)?(c.shortenPath(),"/"==i||"\\"==i&&c.isSpecial()||F(c.path,"")):yt(l)?"/"==i||"\\"==i&&c.isSpecial()||F(c.path,""):("file"==c.scheme&&!c.path.length&&ht(l)&&(c.host&&(c.host=""),l=B(l,0)+":"),F(c.path,l)),l="","file"==c.scheme&&(i==r||"?"==i||"#"==i))while(c.path.length>1&&""===c.path[0])z(c.path);"?"==i?(c.query="",s=zt):"#"==i&&(c.fragment="",s=Ut)}else l+=gt(i,mt);break;case jt:"?"==i?(c.query="",s=zt):"#"==i?(c.fragment="",s=Ut):i!=r&&(c.path[0]+=gt(i,lt));break;case zt:e||"#"!=i?i!=r&&("'"==i&&c.isSpecial()?c.query+="%27":c.query+="#"==i?"%23":gt(i,lt)):(c.fragment="",s=Ut);break;case Ut:i!=r&&(c.fragment+=gt(i,dt));break}f++}},parseHost:function(t){var e,n,r;if("["==B(t,0)){if("]"!=B(t,t.length-1))return G;if(e=ct(H(t,1,-1)),!e)return G;this.host=e}else if(this.isSpecial()){if(t=b(t),M(nt,t))return G;if(e=at(t),null===e)return G;this.host=e}else{if(M(rt,t))return G;for(e="",n=g(t),r=0;r<n.length;r++)e+=gt(n[r],lt);this.host=e}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"==this.scheme},includesCredentials:function(){return""!=this.username||""!=this.password},isSpecial:function(){return m(vt,this.scheme)},shortenPath:function(){var t=this.path,e=t.length;!e||"file"==this.scheme&&1==e&&ht(t[0],!0)||t.length--},serialize:function(){var t=this,e=t.scheme,n=t.username,r=t.password,o=t.host,i=t.port,u=t.path,a=t.query,c=t.fragment,s=e+":";return null!==o?(s+="//",t.includesCredentials()&&(s+=n+(r?":"+r:"")+"@"),s+=ft(o),null!==i&&(s+=":"+i)):"file"==e&&(s+="//"),s+=t.cannotBeABaseURL?u[0]:u.length?"/"+I(u,"/"):"",null!==a&&(s+="?"+a),null!==c&&(s+="#"+c),s},setHref:function(t){var e=this.parse(t);if(e)throw A(e);this.searchParams.update()},getOrigin:function(){var t=this.scheme,e=this.port;if("blob"==t)try{return new Vt(t.path[0]).origin}catch(n){return"null"}return"file"!=t&&this.isSpecial()?t+"://"+ft(this.host)+(null!==e?":"+e:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(t){this.parse(y(t)+":",wt)},getUsername:function(){return this.username},setUsername:function(t){var e=g(y(t));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var n=0;n<e.length;n++)this.username+=gt(e[n],pt)}},getPassword:function(){return this.password},setPassword:function(t){var e=g(y(t));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var n=0;n<e.length;n++)this.password+=gt(e[n],pt)}},getHost:function(){var t=this.host,e=this.port;return null===t?"":null===e?ft(t):ft(t)+":"+e},setHost:function(t){this.cannotBeABaseURL||this.parse(t,Nt)},getHostname:function(){var t=this.host;return null===t?"":ft(t)},setHostname:function(t){this.cannotBeABaseURL||this.parse(t,Dt)},getPort:function(){var t=this.port;return null===t?"":y(t)},setPort:function(t){this.cannotHaveUsernamePasswordPort()||(t=y(t),""==t?this.port=null:this.parse(t,Bt))},getPathname:function(){var t=this.path;return this.cannotBeABaseURL?t[0]:t.length?"/"+I(t,"/"):""},setPathname:function(t){this.cannotBeABaseURL||(this.path=[],this.parse(t,Lt))},getSearch:function(){var t=this.query;return t?"?"+t:""},setSearch:function(t){t=y(t),""==t?this.query=null:("?"==B(t,0)&&(t=H(t,1)),this.query="",this.parse(t,zt)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var t=this.fragment;return t?"#"+t:""},setHash:function(t){t=y(t),""!=t?("#"==B(t,0)&&(t=H(t,1)),this.fragment="",this.parse(t,Ut)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var Vt=function(t){var e=d(this,Wt),n=w(arguments.length,1)>1?arguments[1]:void 0,r=k(e,new Ht(t,!1,n));i||(e.href=r.serialize(),e.origin=r.getOrigin(),e.protocol=r.getProtocol(),e.username=r.getUsername(),e.password=r.getPassword(),e.host=r.getHost(),e.hostname=r.getHostname(),e.port=r.getPort(),e.pathname=r.getPathname(),e.search=r.getSearch(),e.searchParams=r.getSearchParams(),e.hash=r.getHash())},Wt=Vt.prototype,$t=function(t,e){return{get:function(){return _(this)[t]()},set:e&&function(t){return _(this)[e](t)},configurable:!0,enumerable:!0}};if(i&&(l(Wt,"href",$t("serialize","setHref")),l(Wt,"origin",$t("getOrigin")),l(Wt,"protocol",$t("getProtocol","setProtocol")),l(Wt,"username",$t("getUsername","setUsername")),l(Wt,"password",$t("getPassword","setPassword")),l(Wt,"host",$t("getHost","setHost")),l(Wt,"hostname",$t("getHostname","setHostname")),l(Wt,"port",$t("getPort","setPort")),l(Wt,"pathname",$t("getPathname","setPathname")),l(Wt,"search",$t("getSearch","setSearch")),l(Wt,"searchParams",$t("getSearchParams")),l(Wt,"hash",$t("getHash","setHash"))),f(Wt,"toJSON",(function(){return _(this).serialize()}),{enumerable:!0}),f(Wt,"toString",(function(){return _(this).serialize()}),{enumerable:!0}),T){var qt=T.createObjectURL,Gt=T.revokeObjectURL;qt&&f(Vt,"createObjectURL",c(qt,T)),Gt&&f(Vt,"revokeObjectURL",c(Gt,T))}x(Vt,"URL"),o({global:!0,constructor:!0,forced:!u,sham:!i},{URL:Vt})},285:function(t,e,n){n(8789)},144:function(t,e,n){"use strict";n.d(e,{ZP:function(){return Xr}});
/*!
 * Vue.js v2.7.14
 * (c) 2014-2022 Evan You
 * Released under the MIT License.
 */
var r=Object.freeze({}),o=Array.isArray;function i(t){return void 0===t||null===t}function u(t){return void 0!==t&&null!==t}function a(t){return!0===t}function c(t){return!1===t}function s(t){return"string"===typeof t||"number"===typeof t||"symbol"===typeof t||"boolean"===typeof t}function f(t){return"function"===typeof t}function l(t){return null!==t&&"object"===typeof t}var d=Object.prototype.toString;function m(t){return"[object Object]"===d.call(t)}function p(t){return"[object RegExp]"===d.call(t)}function g(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}function v(t){return u(t)&&"function"===typeof t.then&&"function"===typeof t.catch}function h(t){return null==t?"":Array.isArray(t)||m(t)&&t.toString===d?JSON.stringify(t,null,2):String(t)}function b(t){var e=parseFloat(t);return isNaN(e)?t:e}function y(t,e){for(var n=Object.create(null),r=t.split(","),o=0;o<r.length;o++)n[r[o]]=!0;return e?function(t){return n[t.toLowerCase()]}:function(t){return n[t]}}y("slot,component",!0);var x=y("key,ref,slot,slot-scope,is");function w(t,e){var n=t.length;if(n){if(e===t[n-1])return void(t.length=n-1);var r=t.indexOf(e);if(r>-1)return t.splice(r,1)}}var C=Object.prototype.hasOwnProperty;function S(t,e){return C.call(t,e)}function k(t){var e=Object.create(null);return function(n){var r=e[n];return r||(e[n]=t(n))}}var _=/-(\w)/g,E=k((function(t){return t.replace(_,(function(t,e){return e?e.toUpperCase():""}))})),O=k((function(t){return t.charAt(0).toUpperCase()+t.slice(1)})),T=/\B([A-Z])/g,A=k((function(t){return t.replace(T,"-$1").toLowerCase()}));function R(t,e){function n(n){var r=arguments.length;return r?r>1?t.apply(e,arguments):t.call(e,n):t.call(e)}return n._length=t.length,n}function N(t,e){return t.bind(e)}var D=Function.prototype.bind?N:R;function B(t,e){e=e||0;var n=t.length-e,r=new Array(n);while(n--)r[n]=t[n+e];return r}function M(t,e){for(var n in e)t[n]=e[n];return t}function I(t){for(var e={},n=0;n<t.length;n++)t[n]&&M(e,t[n]);return e}function P(t,e,n){}var L=function(t,e,n){return!1},F=function(t){return t};function j(t,e){if(t===e)return!0;var n=l(t),r=l(e);if(!n||!r)return!n&&!r&&String(t)===String(e);try{var o=Array.isArray(t),i=Array.isArray(e);if(o&&i)return t.length===e.length&&t.every((function(t,n){return j(t,e[n])}));if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(o||i)return!1;var u=Object.keys(t),a=Object.keys(e);return u.length===a.length&&u.every((function(n){return j(t[n],e[n])}))}catch(c){return!1}}function z(t,e){for(var n=0;n<t.length;n++)if(j(t[n],e))return n;return-1}function U(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}function H(t,e){return t===e?0===t&&1/t!==1/e:t===t||e===e}var V="data-server-rendered",W=["component","directive","filter"],$=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch","renderTracked","renderTriggered"],q={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:L,isReservedAttr:L,isUnknownElement:L,getTagNamespace:P,parsePlatformTagName:F,mustUseProp:L,async:!0,_lifecycleHooks:$},G=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function K(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function Y(t,e,n,r){Object.defineProperty(t,e,{value:n,enumerable:!!r,writable:!0,configurable:!0})}var X=new RegExp("[^".concat(G.source,".$_\\d]"));function J(t){if(!X.test(t)){var e=t.split(".");return function(t){for(var n=0;n<e.length;n++){if(!t)return;t=t[e[n]]}return t}}}var Q="__proto__"in{},Z="undefined"!==typeof window,tt=Z&&window.navigator.userAgent.toLowerCase(),et=tt&&/msie|trident/.test(tt),nt=tt&&tt.indexOf("msie 9.0")>0,rt=tt&&tt.indexOf("edge/")>0;tt&&tt.indexOf("android");var ot=tt&&/iphone|ipad|ipod|ios/.test(tt);tt&&/chrome\/\d+/.test(tt),tt&&/phantomjs/.test(tt);var it,ut=tt&&tt.match(/firefox\/(\d+)/),at={}.watch,ct=!1;if(Z)try{var st={};Object.defineProperty(st,"passive",{get:function(){ct=!0}}),window.addEventListener("test-passive",null,st)}catch(Ju){}var ft=function(){return void 0===it&&(it=!Z&&"undefined"!==typeof n.g&&(n.g["process"]&&"server"===n.g["process"].env.VUE_ENV)),it},lt=Z&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function dt(t){return"function"===typeof t&&/native code/.test(t.toString())}var mt,pt="undefined"!==typeof Symbol&&dt(Symbol)&&"undefined"!==typeof Reflect&&dt(Reflect.ownKeys);mt="undefined"!==typeof Set&&dt(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var gt=null;function vt(t){void 0===t&&(t=null),t||gt&&gt._scope.off(),gt=t,t&&t._scope.on()}var ht=function(){function t(t,e,n,r,o,i,u,a){this.tag=t,this.data=e,this.children=n,this.text=r,this.elm=o,this.ns=void 0,this.context=i,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=u,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=a,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1}return Object.defineProperty(t.prototype,"child",{get:function(){return this.componentInstance},enumerable:!1,configurable:!0}),t}(),bt=function(t){void 0===t&&(t="");var e=new ht;return e.text=t,e.isComment=!0,e};function yt(t){return new ht(void 0,void 0,void 0,String(t))}function xt(t){var e=new ht(t.tag,t.data,t.children&&t.children.slice(),t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.fnContext=t.fnContext,e.fnOptions=t.fnOptions,e.fnScopeId=t.fnScopeId,e.asyncMeta=t.asyncMeta,e.isCloned=!0,e}var wt=0,Ct=[],St=function(){for(var t=0;t<Ct.length;t++){var e=Ct[t];e.subs=e.subs.filter((function(t){return t})),e._pending=!1}Ct.length=0},kt=function(){function t(){this._pending=!1,this.id=wt++,this.subs=[]}return t.prototype.addSub=function(t){this.subs.push(t)},t.prototype.removeSub=function(t){this.subs[this.subs.indexOf(t)]=null,this._pending||(this._pending=!0,Ct.push(this))},t.prototype.depend=function(e){t.target&&t.target.addDep(this)},t.prototype.notify=function(t){var e=this.subs.filter((function(t){return t}));for(var n=0,r=e.length;n<r;n++){var o=e[n];0,o.update()}},t}();kt.target=null;var _t=[];function Et(t){_t.push(t),kt.target=t}function Ot(){_t.pop(),kt.target=_t[_t.length-1]}var Tt=Array.prototype,At=Object.create(Tt),Rt=["push","pop","shift","unshift","splice","sort","reverse"];Rt.forEach((function(t){var e=Tt[t];Y(At,t,(function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o,i=e.apply(this,n),u=this.__ob__;switch(t){case"push":case"unshift":o=n;break;case"splice":o=n.slice(2);break}return o&&u.observeArray(o),u.dep.notify(),i}))}));var Nt=Object.getOwnPropertyNames(At),Dt={},Bt=!0;function Mt(t){Bt=t}var It={notify:P,depend:P,addSub:P,removeSub:P},Pt=function(){function t(t,e,n){if(void 0===e&&(e=!1),void 0===n&&(n=!1),this.value=t,this.shallow=e,this.mock=n,this.dep=n?It:new kt,this.vmCount=0,Y(t,"__ob__",this),o(t)){if(!n)if(Q)t.__proto__=At;else for(var r=0,i=Nt.length;r<i;r++){var u=Nt[r];Y(t,u,At[u])}e||this.observeArray(t)}else{var a=Object.keys(t);for(r=0;r<a.length;r++){u=a[r];Ft(t,u,Dt,void 0,e,n)}}}return t.prototype.observeArray=function(t){for(var e=0,n=t.length;e<n;e++)Lt(t[e],!1,this.mock)},t}();function Lt(t,e,n){return t&&S(t,"__ob__")&&t.__ob__ instanceof Pt?t.__ob__:!Bt||!n&&ft()||!o(t)&&!m(t)||!Object.isExtensible(t)||t.__v_skip||$t(t)||t instanceof ht?void 0:new Pt(t,e,n)}function Ft(t,e,n,r,i,u){var a=new kt,c=Object.getOwnPropertyDescriptor(t,e);if(!c||!1!==c.configurable){var s=c&&c.get,f=c&&c.set;s&&!f||n!==Dt&&2!==arguments.length||(n=t[e]);var l=!i&&Lt(n,!1,u);return Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=s?s.call(t):n;return kt.target&&(a.depend(),l&&(l.dep.depend(),o(e)&&Ut(e))),$t(e)&&!i?e.value:e},set:function(e){var r=s?s.call(t):n;if(H(r,e)){if(f)f.call(t,e);else{if(s)return;if(!i&&$t(r)&&!$t(e))return void(r.value=e);n=e}l=!i&&Lt(e,!1,u),a.notify()}}}),a}}function jt(t,e,n){if(!Wt(t)){var r=t.__ob__;return o(t)&&g(e)?(t.length=Math.max(t.length,e),t.splice(e,1,n),r&&!r.shallow&&r.mock&&Lt(n,!1,!0),n):e in t&&!(e in Object.prototype)?(t[e]=n,n):t._isVue||r&&r.vmCount?n:r?(Ft(r.value,e,n,void 0,r.shallow,r.mock),r.dep.notify(),n):(t[e]=n,n)}}function zt(t,e){if(o(t)&&g(e))t.splice(e,1);else{var n=t.__ob__;t._isVue||n&&n.vmCount||Wt(t)||S(t,e)&&(delete t[e],n&&n.dep.notify())}}function Ut(t){for(var e=void 0,n=0,r=t.length;n<r;n++)e=t[n],e&&e.__ob__&&e.__ob__.dep.depend(),o(e)&&Ut(e)}function Ht(t){return Vt(t,!0),Y(t,"__v_isShallow",!0),t}function Vt(t,e){if(!Wt(t)){Lt(t,e,ft());0}}function Wt(t){return!(!t||!t.__v_isReadonly)}function $t(t){return!(!t||!0!==t.__v_isRef)}function qt(t,e,n){Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:function(){var t=e[n];if($t(t))return t.value;var r=t&&t.__ob__;return r&&r.dep.depend(),t},set:function(t){var r=e[n];$t(r)&&!$t(t)?r.value=t:e[n]=t}})}var Gt="watcher";"".concat(Gt," callback"),"".concat(Gt," getter"),"".concat(Gt," cleanup");var Kt;var Yt=function(){function t(t){void 0===t&&(t=!1),this.detached=t,this.active=!0,this.effects=[],this.cleanups=[],this.parent=Kt,!t&&Kt&&(this.index=(Kt.scopes||(Kt.scopes=[])).push(this)-1)}return t.prototype.run=function(t){if(this.active){var e=Kt;try{return Kt=this,t()}finally{Kt=e}}else 0},t.prototype.on=function(){Kt=this},t.prototype.off=function(){Kt=this.parent},t.prototype.stop=function(t){if(this.active){var e=void 0,n=void 0;for(e=0,n=this.effects.length;e<n;e++)this.effects[e].teardown();for(e=0,n=this.cleanups.length;e<n;e++)this.cleanups[e]();if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].stop(!0);if(!this.detached&&this.parent&&!t){var r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this.active=!1}},t}();function Xt(t,e){void 0===e&&(e=Kt),e&&e.active&&e.effects.push(t)}function Jt(t){var e=t._provided,n=t.$parent&&t.$parent._provided;return n===e?t._provided=Object.create(n):e}var Qt=k((function(t){var e="&"===t.charAt(0);t=e?t.slice(1):t;var n="~"===t.charAt(0);t=n?t.slice(1):t;var r="!"===t.charAt(0);return t=r?t.slice(1):t,{name:t,once:n,capture:r,passive:e}}));function Zt(t,e){function n(){var t=n.fns;if(!o(t))return Ye(t,null,arguments,e,"v-on handler");for(var r=t.slice(),i=0;i<r.length;i++)Ye(r[i],null,arguments,e,"v-on handler")}return n.fns=t,n}function te(t,e,n,r,o,u){var c,s,f,l;for(c in t)s=t[c],f=e[c],l=Qt(c),i(s)||(i(f)?(i(s.fns)&&(s=t[c]=Zt(s,u)),a(l.once)&&(s=t[c]=o(l.name,s,l.capture)),n(l.name,s,l.capture,l.passive,l.params)):s!==f&&(f.fns=s,t[c]=f));for(c in e)i(t[c])&&(l=Qt(c),r(l.name,e[c],l.capture))}function ee(t,e,n){var r;t instanceof ht&&(t=t.data.hook||(t.data.hook={}));var o=t[e];function c(){n.apply(this,arguments),w(r.fns,c)}i(o)?r=Zt([c]):u(o.fns)&&a(o.merged)?(r=o,r.fns.push(c)):r=Zt([o,c]),r.merged=!0,t[e]=r}function ne(t,e,n){var r=e.options.props;if(!i(r)){var o={},a=t.attrs,c=t.props;if(u(a)||u(c))for(var s in r){var f=A(s);re(o,c,s,f,!0)||re(o,a,s,f,!1)}return o}}function re(t,e,n,r,o){if(u(e)){if(S(e,n))return t[n]=e[n],o||delete e[n],!0;if(S(e,r))return t[n]=e[r],o||delete e[r],!0}return!1}function oe(t){for(var e=0;e<t.length;e++)if(o(t[e]))return Array.prototype.concat.apply([],t);return t}function ie(t){return s(t)?[yt(t)]:o(t)?ae(t):void 0}function ue(t){return u(t)&&u(t.text)&&c(t.isComment)}function ae(t,e){var n,r,c,f,l=[];for(n=0;n<t.length;n++)r=t[n],i(r)||"boolean"===typeof r||(c=l.length-1,f=l[c],o(r)?r.length>0&&(r=ae(r,"".concat(e||"","_").concat(n)),ue(r[0])&&ue(f)&&(l[c]=yt(f.text+r[0].text),r.shift()),l.push.apply(l,r)):s(r)?ue(f)?l[c]=yt(f.text+r):""!==r&&l.push(yt(r)):ue(r)&&ue(f)?l[c]=yt(f.text+r.text):(a(t._isVList)&&u(r.tag)&&i(r.key)&&u(e)&&(r.key="__vlist".concat(e,"_").concat(n,"__")),l.push(r)));return l}function ce(t,e){var n,r,i,a,c=null;if(o(t)||"string"===typeof t)for(c=new Array(t.length),n=0,r=t.length;n<r;n++)c[n]=e(t[n],n);else if("number"===typeof t)for(c=new Array(t),n=0;n<t;n++)c[n]=e(n+1,n);else if(l(t))if(pt&&t[Symbol.iterator]){c=[];var s=t[Symbol.iterator](),f=s.next();while(!f.done)c.push(e(f.value,c.length)),f=s.next()}else for(i=Object.keys(t),c=new Array(i.length),n=0,r=i.length;n<r;n++)a=i[n],c[n]=e(t[a],a,n);return u(c)||(c=[]),c._isVList=!0,c}function se(t,e,n,r){var o,i=this.$scopedSlots[t];i?(n=n||{},r&&(n=M(M({},r),n)),o=i(n)||(f(e)?e():e)):o=this.$slots[t]||(f(e)?e():e);var u=n&&n.slot;return u?this.$createElement("template",{slot:u},o):o}function fe(t){return Sr(this.$options,"filters",t,!0)||F}function le(t,e){return o(t)?-1===t.indexOf(e):t!==e}function de(t,e,n,r,o){var i=q.keyCodes[e]||n;return o&&r&&!q.keyCodes[e]?le(o,r):i?le(i,t):r?A(r)!==e:void 0===t}function me(t,e,n,r,i){if(n)if(l(n)){o(n)&&(n=I(n));var u=void 0,a=function(o){if("class"===o||"style"===o||x(o))u=t;else{var a=t.attrs&&t.attrs.type;u=r||q.mustUseProp(e,a,o)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}var c=E(o),s=A(o);if(!(c in u)&&!(s in u)&&(u[o]=n[o],i)){var f=t.on||(t.on={});f["update:".concat(o)]=function(t){n[o]=t}}};for(var c in n)a(c)}else;return t}function pe(t,e){var n=this._staticTrees||(this._staticTrees=[]),r=n[t];return r&&!e||(r=n[t]=this.$options.staticRenderFns[t].call(this._renderProxy,this._c,this),ve(r,"__static__".concat(t),!1)),r}function ge(t,e,n){return ve(t,"__once__".concat(e).concat(n?"_".concat(n):""),!0),t}function ve(t,e,n){if(o(t))for(var r=0;r<t.length;r++)t[r]&&"string"!==typeof t[r]&&he(t[r],"".concat(e,"_").concat(r),n);else he(t,e,n)}function he(t,e,n){t.isStatic=!0,t.key=e,t.isOnce=n}function be(t,e){if(e)if(m(e)){var n=t.on=t.on?M({},t.on):{};for(var r in e){var o=n[r],i=e[r];n[r]=o?[].concat(o,i):i}}else;return t}function ye(t,e,n,r){e=e||{$stable:!n};for(var i=0;i<t.length;i++){var u=t[i];o(u)?ye(u,e,n):u&&(u.proxy&&(u.fn.proxy=!0),e[u.key]=u.fn)}return r&&(e.$key=r),e}function xe(t,e){for(var n=0;n<e.length;n+=2){var r=e[n];"string"===typeof r&&r&&(t[e[n]]=e[n+1])}return t}function we(t,e){return"string"===typeof t?e+t:t}function Ce(t){t._o=ge,t._n=b,t._s=h,t._l=ce,t._t=se,t._q=j,t._i=z,t._m=pe,t._f=fe,t._k=de,t._b=me,t._v=yt,t._e=bt,t._u=ye,t._g=be,t._d=xe,t._p=we}function Se(t,e){if(!t||!t.length)return{};for(var n={},r=0,o=t.length;r<o;r++){var i=t[r],u=i.data;if(u&&u.attrs&&u.attrs.slot&&delete u.attrs.slot,i.context!==e&&i.fnContext!==e||!u||null==u.slot)(n.default||(n.default=[])).push(i);else{var a=u.slot,c=n[a]||(n[a]=[]);"template"===i.tag?c.push.apply(c,i.children||[]):c.push(i)}}for(var s in n)n[s].every(ke)&&delete n[s];return n}function ke(t){return t.isComment&&!t.asyncFactory||" "===t.text}function _e(t){return t.isComment&&t.asyncFactory}function Ee(t,e,n,o){var i,u=Object.keys(n).length>0,a=e?!!e.$stable:!u,c=e&&e.$key;if(e){if(e._normalized)return e._normalized;if(a&&o&&o!==r&&c===o.$key&&!u&&!o.$hasNormal)return o;for(var s in i={},e)e[s]&&"$"!==s[0]&&(i[s]=Oe(t,n,s,e[s]))}else i={};for(var f in n)f in i||(i[f]=Te(n,f));return e&&Object.isExtensible(e)&&(e._normalized=i),Y(i,"$stable",a),Y(i,"$key",c),Y(i,"$hasNormal",u),i}function Oe(t,e,n,r){var i=function(){var e=gt;vt(t);var n=arguments.length?r.apply(null,arguments):r({});n=n&&"object"===typeof n&&!o(n)?[n]:ie(n);var i=n&&n[0];return vt(e),n&&(!i||1===n.length&&i.isComment&&!_e(i))?void 0:n};return r.proxy&&Object.defineProperty(e,n,{get:i,enumerable:!0,configurable:!0}),i}function Te(t,e){return function(){return t[e]}}function Ae(t){var e=t.$options,n=e.setup;if(n){var r=t._setupContext=Re(t);vt(t),Et();var o=Ye(n,null,[t._props||Ht({}),r],t,"setup");if(Ot(),vt(),f(o))e.render=o;else if(l(o))if(t._setupState=o,o.__sfc){var i=t._setupProxy={};for(var u in o)"__sfc"!==u&&qt(i,o,u)}else for(var u in o)K(u)||qt(t,o,u);else 0}}function Re(t){return{get attrs(){if(!t._attrsProxy){var e=t._attrsProxy={};Y(e,"_v_attr_proxy",!0),Ne(e,t.$attrs,r,t,"$attrs")}return t._attrsProxy},get listeners(){if(!t._listenersProxy){var e=t._listenersProxy={};Ne(e,t.$listeners,r,t,"$listeners")}return t._listenersProxy},get slots(){return Be(t)},emit:D(t.$emit,t),expose:function(e){e&&Object.keys(e).forEach((function(n){return qt(t,e,n)}))}}}function Ne(t,e,n,r,o){var i=!1;for(var u in e)u in t?e[u]!==n[u]&&(i=!0):(i=!0,De(t,u,r,o));for(var u in t)u in e||(i=!0,delete t[u]);return i}function De(t,e,n,r){Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){return n[r][e]}})}function Be(t){return t._slotsProxy||Me(t._slotsProxy={},t.$scopedSlots),t._slotsProxy}function Me(t,e){for(var n in e)t[n]=e[n];for(var n in t)n in e||delete t[n]}function Ie(t){t._vnode=null,t._staticTrees=null;var e=t.$options,n=t.$vnode=e._parentVnode,o=n&&n.context;t.$slots=Se(e._renderChildren,o),t.$scopedSlots=n?Ee(t.$parent,n.data.scopedSlots,t.$slots):r,t._c=function(e,n,r,o){return We(t,e,n,r,o,!1)},t.$createElement=function(e,n,r,o){return We(t,e,n,r,o,!0)};var i=n&&n.data;Ft(t,"$attrs",i&&i.attrs||r,null,!0),Ft(t,"$listeners",e._parentListeners||r,null,!0)}var Pe=null;function Le(t){Ce(t.prototype),t.prototype.$nextTick=function(t){return cn(t,this)},t.prototype._render=function(){var t,e=this,n=e.$options,r=n.render,i=n._parentVnode;i&&e._isMounted&&(e.$scopedSlots=Ee(e.$parent,i.data.scopedSlots,e.$slots,e.$scopedSlots),e._slotsProxy&&Me(e._slotsProxy,e.$scopedSlots)),e.$vnode=i;try{vt(e),Pe=e,t=r.call(e._renderProxy,e.$createElement)}catch(Ju){Ke(Ju,e,"render"),t=e._vnode}finally{Pe=null,vt()}return o(t)&&1===t.length&&(t=t[0]),t instanceof ht||(t=bt()),t.parent=i,t}}function Fe(t,e){return(t.__esModule||pt&&"Module"===t[Symbol.toStringTag])&&(t=t.default),l(t)?e.extend(t):t}function je(t,e,n,r,o){var i=bt();return i.asyncFactory=t,i.asyncMeta={data:e,context:n,children:r,tag:o},i}function ze(t,e){if(a(t.error)&&u(t.errorComp))return t.errorComp;if(u(t.resolved))return t.resolved;var n=Pe;if(n&&u(t.owners)&&-1===t.owners.indexOf(n)&&t.owners.push(n),a(t.loading)&&u(t.loadingComp))return t.loadingComp;if(n&&!u(t.owners)){var r=t.owners=[n],o=!0,c=null,s=null;n.$on("hook:destroyed",(function(){return w(r,n)}));var f=function(t){for(var e=0,n=r.length;e<n;e++)r[e].$forceUpdate();t&&(r.length=0,null!==c&&(clearTimeout(c),c=null),null!==s&&(clearTimeout(s),s=null))},d=U((function(n){t.resolved=Fe(n,e),o?r.length=0:f(!0)})),m=U((function(e){u(t.errorComp)&&(t.error=!0,f(!0))})),p=t(d,m);return l(p)&&(v(p)?i(t.resolved)&&p.then(d,m):v(p.component)&&(p.component.then(d,m),u(p.error)&&(t.errorComp=Fe(p.error,e)),u(p.loading)&&(t.loadingComp=Fe(p.loading,e),0===p.delay?t.loading=!0:c=setTimeout((function(){c=null,i(t.resolved)&&i(t.error)&&(t.loading=!0,f(!1))}),p.delay||200)),u(p.timeout)&&(s=setTimeout((function(){s=null,i(t.resolved)&&m(null)}),p.timeout)))),o=!1,t.loading?t.loadingComp:t.resolved}}function Ue(t){if(o(t))for(var e=0;e<t.length;e++){var n=t[e];if(u(n)&&(u(n.componentOptions)||_e(n)))return n}}var He=1,Ve=2;function We(t,e,n,r,i,u){return(o(n)||s(n))&&(i=r,r=n,n=void 0),a(u)&&(i=Ve),$e(t,e,n,r,i)}function $e(t,e,n,r,i){if(u(n)&&u(n.__ob__))return bt();if(u(n)&&u(n.is)&&(e=n.is),!e)return bt();var a,c;if(o(r)&&f(r[0])&&(n=n||{},n.scopedSlots={default:r[0]},r.length=0),i===Ve?r=ie(r):i===He&&(r=oe(r)),"string"===typeof e){var s=void 0;c=t.$vnode&&t.$vnode.ns||q.getTagNamespace(e),a=q.isReservedTag(e)?new ht(q.parsePlatformTagName(e),n,r,void 0,void 0,t):n&&n.pre||!u(s=Sr(t.$options,"components",e))?new ht(e,n,r,void 0,void 0,t):ur(s,n,t,r,e)}else a=ur(e,n,t,r);return o(a)?a:u(a)?(u(c)&&qe(a,c),u(n)&&Ge(n),a):bt()}function qe(t,e,n){if(t.ns=e,"foreignObject"===t.tag&&(e=void 0,n=!0),u(t.children))for(var r=0,o=t.children.length;r<o;r++){var c=t.children[r];u(c.tag)&&(i(c.ns)||a(n)&&"svg"!==c.tag)&&qe(c,e,n)}}function Ge(t){l(t.style)&&mn(t.style),l(t.class)&&mn(t.class)}function Ke(t,e,n){Et();try{if(e){var r=e;while(r=r.$parent){var o=r.$options.errorCaptured;if(o)for(var i=0;i<o.length;i++)try{var u=!1===o[i].call(r,t,e,n);if(u)return}catch(Ju){Xe(Ju,r,"errorCaptured hook")}}}Xe(t,e,n)}finally{Ot()}}function Ye(t,e,n,r,o){var i;try{i=n?t.apply(e,n):t.call(e),i&&!i._isVue&&v(i)&&!i._handled&&(i.catch((function(t){return Ke(t,r,o+" (Promise/async)")})),i._handled=!0)}catch(Ju){Ke(Ju,r,o)}return i}function Xe(t,e,n){if(q.errorHandler)try{return q.errorHandler.call(null,t,e,n)}catch(Ju){Ju!==t&&Je(Ju,null,"config.errorHandler")}Je(t,e,n)}function Je(t,e,n){if(!Z||"undefined"===typeof console)throw t;console.error(t)}var Qe,Ze=!1,tn=[],en=!1;function nn(){en=!1;var t=tn.slice(0);tn.length=0;for(var e=0;e<t.length;e++)t[e]()}if("undefined"!==typeof Promise&&dt(Promise)){var rn=Promise.resolve();Qe=function(){rn.then(nn),ot&&setTimeout(P)},Ze=!0}else if(et||"undefined"===typeof MutationObserver||!dt(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())Qe="undefined"!==typeof setImmediate&&dt(setImmediate)?function(){setImmediate(nn)}:function(){setTimeout(nn,0)};else{var on=1,un=new MutationObserver(nn),an=document.createTextNode(String(on));un.observe(an,{characterData:!0}),Qe=function(){on=(on+1)%2,an.data=String(on)},Ze=!0}function cn(t,e){var n;if(tn.push((function(){if(t)try{t.call(e)}catch(Ju){Ke(Ju,e,"nextTick")}else n&&n(e)})),en||(en=!0,Qe()),!t&&"undefined"!==typeof Promise)return new Promise((function(t){n=t}))}function sn(t){return function(e,n){if(void 0===n&&(n=gt),n)return fn(n,t,e)}}function fn(t,e,n){var r=t.$options;r[e]=gr(r[e],n)}sn("beforeMount"),sn("mounted"),sn("beforeUpdate"),sn("updated"),sn("beforeDestroy"),sn("destroyed"),sn("activated"),sn("deactivated"),sn("serverPrefetch"),sn("renderTracked"),sn("renderTriggered"),sn("errorCaptured");var ln="2.7.14";var dn=new mt;function mn(t){return pn(t,dn),dn.clear(),t}function pn(t,e){var n,r,i=o(t);if(!(!i&&!l(t)||t.__v_skip||Object.isFrozen(t)||t instanceof ht)){if(t.__ob__){var u=t.__ob__.dep.id;if(e.has(u))return;e.add(u)}if(i){n=t.length;while(n--)pn(t[n],e)}else if($t(t))pn(t.value,e);else{r=Object.keys(t),n=r.length;while(n--)pn(t[r[n]],e)}}}var gn,vn=0,hn=function(){function t(t,e,n,r,o){Xt(this,Kt&&!Kt._vm?Kt:t?t._scope:void 0),(this.vm=t)&&o&&(t._watcher=this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync,this.before=r.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++vn,this.active=!0,this.post=!1,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new mt,this.newDepIds=new mt,this.expression="",f(e)?this.getter=e:(this.getter=J(e),this.getter||(this.getter=P)),this.value=this.lazy?void 0:this.get()}return t.prototype.get=function(){var t;Et(this);var e=this.vm;try{t=this.getter.call(e,e)}catch(Ju){if(!this.user)throw Ju;Ke(Ju,e,'getter for watcher "'.concat(this.expression,'"'))}finally{this.deep&&mn(t),Ot(),this.cleanupDeps()}return t},t.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},t.prototype.cleanupDeps=function(){var t=this.deps.length;while(t--){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},t.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():Yn(this)},t.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||l(t)||this.deep){var e=this.value;if(this.value=t,this.user){var n='callback for watcher "'.concat(this.expression,'"');Ye(this.cb,this.vm,[t,e],this.vm,n)}else this.cb.call(this.vm,t,e)}}},t.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},t.prototype.depend=function(){var t=this.deps.length;while(t--)this.deps[t].depend()},t.prototype.teardown=function(){if(this.vm&&!this.vm._isBeingDestroyed&&w(this.vm._scope.effects,this),this.active){var t=this.deps.length;while(t--)this.deps[t].removeSub(this);this.active=!1,this.onStop&&this.onStop()}},t}();function bn(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&Cn(t,e)}function yn(t,e){gn.$on(t,e)}function xn(t,e){gn.$off(t,e)}function wn(t,e){var n=gn;return function r(){var o=e.apply(null,arguments);null!==o&&n.$off(t,r)}}function Cn(t,e,n){gn=t,te(e,n||{},yn,xn,wn,t),gn=void 0}function Sn(t){var e=/^hook:/;t.prototype.$on=function(t,n){var r=this;if(o(t))for(var i=0,u=t.length;i<u;i++)r.$on(t[i],n);else(r._events[t]||(r._events[t]=[])).push(n),e.test(t)&&(r._hasHookEvent=!0);return r},t.prototype.$once=function(t,e){var n=this;function r(){n.$off(t,r),e.apply(n,arguments)}return r.fn=e,n.$on(t,r),n},t.prototype.$off=function(t,e){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(o(t)){for(var r=0,i=t.length;r<i;r++)n.$off(t[r],e);return n}var u,a=n._events[t];if(!a)return n;if(!e)return n._events[t]=null,n;var c=a.length;while(c--)if(u=a[c],u===e||u.fn===e){a.splice(c,1);break}return n},t.prototype.$emit=function(t){var e=this,n=e._events[t];if(n){n=n.length>1?B(n):n;for(var r=B(arguments,1),o='event handler for "'.concat(t,'"'),i=0,u=n.length;i<u;i++)Ye(n[i],e,r,e,o)}return e}}var kn=null;function _n(t){var e=kn;return kn=t,function(){kn=e}}function En(t){var e=t.$options,n=e.parent;if(n&&!e.abstract){while(n.$options.abstract&&n.$parent)n=n.$parent;n.$children.push(t)}t.$parent=n,t.$root=n?n.$root:t,t.$children=[],t.$refs={},t._provided=n?n._provided:Object.create(null),t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}function On(t){t.prototype._update=function(t,e){var n=this,r=n.$el,o=n._vnode,i=_n(n);n._vnode=t,n.$el=o?n.__patch__(o,t):n.__patch__(n.$el,t,e,!1),i(),r&&(r.__vue__=null),n.$el&&(n.$el.__vue__=n);var u=n;while(u&&u.$vnode&&u.$parent&&u.$vnode===u.$parent._vnode)u.$parent.$el=u.$el,u=u.$parent},t.prototype.$forceUpdate=function(){var t=this;t._watcher&&t._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){Bn(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||w(e.$children,t),t._scope.stop(),t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),Bn(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}}}function Tn(t,e,n){var r;t.$el=e,t.$options.render||(t.$options.render=bt),Bn(t,"beforeMount"),r=function(){t._update(t._render(),n)};var o={before:function(){t._isMounted&&!t._isDestroyed&&Bn(t,"beforeUpdate")}};new hn(t,r,P,o,!0),n=!1;var i=t._preWatchers;if(i)for(var u=0;u<i.length;u++)i[u].run();return null==t.$vnode&&(t._isMounted=!0,Bn(t,"mounted")),t}function An(t,e,n,o,i){var u=o.data.scopedSlots,a=t.$scopedSlots,c=!!(u&&!u.$stable||a!==r&&!a.$stable||u&&t.$scopedSlots.$key!==u.$key||!u&&t.$scopedSlots.$key),s=!!(i||t.$options._renderChildren||c),f=t.$vnode;t.$options._parentVnode=o,t.$vnode=o,t._vnode&&(t._vnode.parent=o),t.$options._renderChildren=i;var l=o.data.attrs||r;t._attrsProxy&&Ne(t._attrsProxy,l,f.data&&f.data.attrs||r,t,"$attrs")&&(s=!0),t.$attrs=l,n=n||r;var d=t.$options._parentListeners;if(t._listenersProxy&&Ne(t._listenersProxy,n,d||r,t,"$listeners"),t.$listeners=t.$options._parentListeners=n,Cn(t,n,d),e&&t.$options.props){Mt(!1);for(var m=t._props,p=t.$options._propKeys||[],g=0;g<p.length;g++){var v=p[g],h=t.$options.props;m[v]=kr(v,h,e,t)}Mt(!0),t.$options.propsData=e}s&&(t.$slots=Se(i,o.context),t.$forceUpdate())}function Rn(t){while(t&&(t=t.$parent))if(t._inactive)return!0;return!1}function Nn(t,e){if(e){if(t._directInactive=!1,Rn(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var n=0;n<t.$children.length;n++)Nn(t.$children[n]);Bn(t,"activated")}}function Dn(t,e){if((!e||(t._directInactive=!0,!Rn(t)))&&!t._inactive){t._inactive=!0;for(var n=0;n<t.$children.length;n++)Dn(t.$children[n]);Bn(t,"deactivated")}}function Bn(t,e,n,r){void 0===r&&(r=!0),Et();var o=gt;r&&vt(t);var i=t.$options[e],u="".concat(e," hook");if(i)for(var a=0,c=i.length;a<c;a++)Ye(i[a],t,n||null,t,u);t._hasHookEvent&&t.$emit("hook:"+e),r&&vt(o),Ot()}var Mn=[],In=[],Pn={},Ln=!1,Fn=!1,jn=0;function zn(){jn=Mn.length=In.length=0,Pn={},Ln=Fn=!1}var Un=0,Hn=Date.now;if(Z&&!et){var Vn=window.performance;Vn&&"function"===typeof Vn.now&&Hn()>document.createEvent("Event").timeStamp&&(Hn=function(){return Vn.now()})}var Wn=function(t,e){if(t.post){if(!e.post)return 1}else if(e.post)return-1;return t.id-e.id};function $n(){var t,e;for(Un=Hn(),Fn=!0,Mn.sort(Wn),jn=0;jn<Mn.length;jn++)t=Mn[jn],t.before&&t.before(),e=t.id,Pn[e]=null,t.run();var n=In.slice(),r=Mn.slice();zn(),Kn(n),qn(r),St(),lt&&q.devtools&&lt.emit("flush")}function qn(t){var e=t.length;while(e--){var n=t[e],r=n.vm;r&&r._watcher===n&&r._isMounted&&!r._isDestroyed&&Bn(r,"updated")}}function Gn(t){t._inactive=!1,In.push(t)}function Kn(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,Nn(t[e],!0)}function Yn(t){var e=t.id;if(null==Pn[e]&&(t!==kt.target||!t.noRecurse)){if(Pn[e]=!0,Fn){var n=Mn.length-1;while(n>jn&&Mn[n].id>t.id)n--;Mn.splice(n+1,0,t)}else Mn.push(t);Ln||(Ln=!0,cn($n))}}function Xn(t){var e=t.$options.provide;if(e){var n=f(e)?e.call(t):e;if(!l(n))return;for(var r=Jt(t),o=pt?Reflect.ownKeys(n):Object.keys(n),i=0;i<o.length;i++){var u=o[i];Object.defineProperty(r,u,Object.getOwnPropertyDescriptor(n,u))}}}function Jn(t){var e=Qn(t.$options.inject,t);e&&(Mt(!1),Object.keys(e).forEach((function(n){Ft(t,n,e[n])})),Mt(!0))}function Qn(t,e){if(t){for(var n=Object.create(null),r=pt?Reflect.ownKeys(t):Object.keys(t),o=0;o<r.length;o++){var i=r[o];if("__ob__"!==i){var u=t[i].from;if(u in e._provided)n[i]=e._provided[u];else if("default"in t[i]){var a=t[i].default;n[i]=f(a)?a.call(e):a}else 0}}return n}}function Zn(t,e,n,i,u){var c,s=this,f=u.options;S(i,"_uid")?(c=Object.create(i),c._original=i):(c=i,i=i._original);var l=a(f._compiled),d=!l;this.data=t,this.props=e,this.children=n,this.parent=i,this.listeners=t.on||r,this.injections=Qn(f.inject,i),this.slots=function(){return s.$slots||Ee(i,t.scopedSlots,s.$slots=Se(n,i)),s.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return Ee(i,t.scopedSlots,this.slots())}}),l&&(this.$options=f,this.$slots=this.slots(),this.$scopedSlots=Ee(i,t.scopedSlots,this.$slots)),f._scopeId?this._c=function(t,e,n,r){var u=We(c,t,e,n,r,d);return u&&!o(u)&&(u.fnScopeId=f._scopeId,u.fnContext=i),u}:this._c=function(t,e,n,r){return We(c,t,e,n,r,d)}}function tr(t,e,n,i,a){var c=t.options,s={},f=c.props;if(u(f))for(var l in f)s[l]=kr(l,f,e||r);else u(n.attrs)&&nr(s,n.attrs),u(n.props)&&nr(s,n.props);var d=new Zn(n,s,a,i,t),m=c.render.call(null,d._c,d);if(m instanceof ht)return er(m,n,d.parent,c,d);if(o(m)){for(var p=ie(m)||[],g=new Array(p.length),v=0;v<p.length;v++)g[v]=er(p[v],n,d.parent,c,d);return g}}function er(t,e,n,r,o){var i=xt(t);return i.fnContext=n,i.fnOptions=r,e.slot&&((i.data||(i.data={})).slot=e.slot),i}function nr(t,e){for(var n in e)t[E(n)]=e[n]}function rr(t){return t.name||t.__name||t._componentTag}Ce(Zn.prototype);var or={init:function(t,e){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){var n=t;or.prepatch(n,n)}else{var r=t.componentInstance=ar(t,kn);r.$mount(e?t.elm:void 0,e)}},prepatch:function(t,e){var n=e.componentOptions,r=e.componentInstance=t.componentInstance;An(r,n.propsData,n.listeners,e,n.children)},insert:function(t){var e=t.context,n=t.componentInstance;n._isMounted||(n._isMounted=!0,Bn(n,"mounted")),t.data.keepAlive&&(e._isMounted?Gn(n):Nn(n,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?Dn(e,!0):e.$destroy())}},ir=Object.keys(or);function ur(t,e,n,r,o){if(!i(t)){var c=n.$options._base;if(l(t)&&(t=c.extend(t)),"function"===typeof t){var s;if(i(t.cid)&&(s=t,t=ze(s,c),void 0===t))return je(s,e,n,r,o);e=e||{},Kr(t),u(e.model)&&fr(t.options,e);var f=ne(e,t,o);if(a(t.options.functional))return tr(t,f,e,n,r);var d=e.on;if(e.on=e.nativeOn,a(t.options.abstract)){var m=e.slot;e={},m&&(e.slot=m)}cr(e);var p=rr(t.options)||o,g=new ht("vue-component-".concat(t.cid).concat(p?"-".concat(p):""),e,void 0,void 0,void 0,n,{Ctor:t,propsData:f,listeners:d,tag:o,children:r},s);return g}}}function ar(t,e){var n={_isComponent:!0,_parentVnode:t,parent:e},r=t.data.inlineTemplate;return u(r)&&(n.render=r.render,n.staticRenderFns=r.staticRenderFns),new t.componentOptions.Ctor(n)}function cr(t){for(var e=t.hook||(t.hook={}),n=0;n<ir.length;n++){var r=ir[n],o=e[r],i=or[r];o===i||o&&o._merged||(e[r]=o?sr(i,o):i)}}function sr(t,e){var n=function(n,r){t(n,r),e(n,r)};return n._merged=!0,n}function fr(t,e){var n=t.model&&t.model.prop||"value",r=t.model&&t.model.event||"input";(e.attrs||(e.attrs={}))[n]=e.model.value;var i=e.on||(e.on={}),a=i[r],c=e.model.callback;u(a)?(o(a)?-1===a.indexOf(c):a!==c)&&(i[r]=[c].concat(a)):i[r]=c}var lr=P,dr=q.optionMergeStrategies;function mr(t,e,n){if(void 0===n&&(n=!0),!e)return t;for(var r,o,i,u=pt?Reflect.ownKeys(e):Object.keys(e),a=0;a<u.length;a++)r=u[a],"__ob__"!==r&&(o=t[r],i=e[r],n&&S(t,r)?o!==i&&m(o)&&m(i)&&mr(o,i):jt(t,r,i));return t}function pr(t,e,n){return n?function(){var r=f(e)?e.call(n,n):e,o=f(t)?t.call(n,n):t;return r?mr(r,o):o}:e?t?function(){return mr(f(e)?e.call(this,this):e,f(t)?t.call(this,this):t)}:e:t}function gr(t,e){var n=e?t?t.concat(e):o(e)?e:[e]:t;return n?vr(n):n}function vr(t){for(var e=[],n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e}function hr(t,e,n,r){var o=Object.create(t||null);return e?M(o,e):o}dr.data=function(t,e,n){return n?pr(t,e,n):e&&"function"!==typeof e?t:pr(t,e)},$.forEach((function(t){dr[t]=gr})),W.forEach((function(t){dr[t+"s"]=hr})),dr.watch=function(t,e,n,r){if(t===at&&(t=void 0),e===at&&(e=void 0),!e)return Object.create(t||null);if(!t)return e;var i={};for(var u in M(i,t),e){var a=i[u],c=e[u];a&&!o(a)&&(a=[a]),i[u]=a?a.concat(c):o(c)?c:[c]}return i},dr.props=dr.methods=dr.inject=dr.computed=function(t,e,n,r){if(!t)return e;var o=Object.create(null);return M(o,t),e&&M(o,e),o},dr.provide=function(t,e){return t?function(){var n=Object.create(null);return mr(n,f(t)?t.call(this):t),e&&mr(n,f(e)?e.call(this):e,!1),n}:e};var br=function(t,e){return void 0===e?t:e};function yr(t,e){var n=t.props;if(n){var r,i,u,a={};if(o(n)){r=n.length;while(r--)i=n[r],"string"===typeof i&&(u=E(i),a[u]={type:null})}else if(m(n))for(var c in n)i=n[c],u=E(c),a[u]=m(i)?i:{type:i};else 0;t.props=a}}function xr(t,e){var n=t.inject;if(n){var r=t.inject={};if(o(n))for(var i=0;i<n.length;i++)r[n[i]]={from:n[i]};else if(m(n))for(var u in n){var a=n[u];r[u]=m(a)?M({from:u},a):{from:a}}else 0}}function wr(t){var e=t.directives;if(e)for(var n in e){var r=e[n];f(r)&&(e[n]={bind:r,update:r})}}function Cr(t,e,n){if(f(e)&&(e=e.options),yr(e,n),xr(e,n),wr(e),!e._base&&(e.extends&&(t=Cr(t,e.extends,n)),e.mixins))for(var r=0,o=e.mixins.length;r<o;r++)t=Cr(t,e.mixins[r],n);var i,u={};for(i in t)a(i);for(i in e)S(t,i)||a(i);function a(r){var o=dr[r]||br;u[r]=o(t[r],e[r],n,r)}return u}function Sr(t,e,n,r){if("string"===typeof n){var o=t[e];if(S(o,n))return o[n];var i=E(n);if(S(o,i))return o[i];var u=O(i);if(S(o,u))return o[u];var a=o[n]||o[i]||o[u];return a}}function kr(t,e,n,r){var o=e[t],i=!S(n,t),u=n[t],a=Ar(Boolean,o.type);if(a>-1)if(i&&!S(o,"default"))u=!1;else if(""===u||u===A(t)){var c=Ar(String,o.type);(c<0||a<c)&&(u=!0)}if(void 0===u){u=_r(r,o,t);var s=Bt;Mt(!0),Lt(u),Mt(s)}return u}function _r(t,e,n){if(S(e,"default")){var r=e.default;return t&&t.$options.propsData&&void 0===t.$options.propsData[n]&&void 0!==t._props[n]?t._props[n]:f(r)&&"Function"!==Or(e.type)?r.call(t):r}}var Er=/^\s*function (\w+)/;function Or(t){var e=t&&t.toString().match(Er);return e?e[1]:""}function Tr(t,e){return Or(t)===Or(e)}function Ar(t,e){if(!o(e))return Tr(e,t)?0:-1;for(var n=0,r=e.length;n<r;n++)if(Tr(e[n],t))return n;return-1}var Rr={enumerable:!0,configurable:!0,get:P,set:P};function Nr(t,e,n){Rr.get=function(){return this[e][n]},Rr.set=function(t){this[e][n]=t},Object.defineProperty(t,n,Rr)}function Dr(t){var e=t.$options;if(e.props&&Br(t,e.props),Ae(t),e.methods&&Ur(t,e.methods),e.data)Mr(t);else{var n=Lt(t._data={});n&&n.vmCount++}e.computed&&Lr(t,e.computed),e.watch&&e.watch!==at&&Hr(t,e.watch)}function Br(t,e){var n=t.$options.propsData||{},r=t._props=Ht({}),o=t.$options._propKeys=[],i=!t.$parent;i||Mt(!1);var u=function(i){o.push(i);var u=kr(i,e,n,t);Ft(r,i,u),i in t||Nr(t,"_props",i)};for(var a in e)u(a);Mt(!0)}function Mr(t){var e=t.$options.data;e=t._data=f(e)?Ir(e,t):e||{},m(e)||(e={});var n=Object.keys(e),r=t.$options.props,o=(t.$options.methods,n.length);while(o--){var i=n[o];0,r&&S(r,i)||K(i)||Nr(t,"_data",i)}var u=Lt(e);u&&u.vmCount++}function Ir(t,e){Et();try{return t.call(e,e)}catch(Ju){return Ke(Ju,e,"data()"),{}}finally{Ot()}}var Pr={lazy:!0};function Lr(t,e){var n=t._computedWatchers=Object.create(null),r=ft();for(var o in e){var i=e[o],u=f(i)?i:i.get;0,r||(n[o]=new hn(t,u||P,P,Pr)),o in t||Fr(t,o,i)}}function Fr(t,e,n){var r=!ft();f(n)?(Rr.get=r?jr(e):zr(n),Rr.set=P):(Rr.get=n.get?r&&!1!==n.cache?jr(e):zr(n.get):P,Rr.set=n.set||P),Object.defineProperty(t,e,Rr)}function jr(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),kt.target&&e.depend(),e.value}}function zr(t){return function(){return t.call(this,this)}}function Ur(t,e){t.$options.props;for(var n in e)t[n]="function"!==typeof e[n]?P:D(e[n],t)}function Hr(t,e){for(var n in e){var r=e[n];if(o(r))for(var i=0;i<r.length;i++)Vr(t,n,r[i]);else Vr(t,n,r)}}function Vr(t,e,n,r){return m(n)&&(r=n,n=n.handler),"string"===typeof n&&(n=t[n]),t.$watch(e,n,r)}function Wr(t){var e={get:function(){return this._data}},n={get:function(){return this._props}};Object.defineProperty(t.prototype,"$data",e),Object.defineProperty(t.prototype,"$props",n),t.prototype.$set=jt,t.prototype.$delete=zt,t.prototype.$watch=function(t,e,n){var r=this;if(m(e))return Vr(r,t,e,n);n=n||{},n.user=!0;var o=new hn(r,t,e,n);if(n.immediate){var i='callback for immediate watcher "'.concat(o.expression,'"');Et(),Ye(e,r,[o.value],r,i),Ot()}return function(){o.teardown()}}}var $r=0;function qr(t){t.prototype._init=function(t){var e=this;e._uid=$r++,e._isVue=!0,e.__v_skip=!0,e._scope=new Yt(!0),e._scope._vm=!0,t&&t._isComponent?Gr(e,t):e.$options=Cr(Kr(e.constructor),t||{},e),e._renderProxy=e,e._self=e,En(e),bn(e),Ie(e),Bn(e,"beforeCreate",void 0,!1),Jn(e),Dr(e),Xn(e),Bn(e,"created"),e.$options.el&&e.$mount(e.$options.el)}}function Gr(t,e){var n=t.$options=Object.create(t.constructor.options),r=e._parentVnode;n.parent=e.parent,n._parentVnode=r;var o=r.componentOptions;n.propsData=o.propsData,n._parentListeners=o.listeners,n._renderChildren=o.children,n._componentTag=o.tag,e.render&&(n.render=e.render,n.staticRenderFns=e.staticRenderFns)}function Kr(t){var e=t.options;if(t.super){var n=Kr(t.super),r=t.superOptions;if(n!==r){t.superOptions=n;var o=Yr(t);o&&M(t.extendOptions,o),e=t.options=Cr(n,t.extendOptions),e.name&&(e.components[e.name]=t)}}return e}function Yr(t){var e,n=t.options,r=t.sealedOptions;for(var o in n)n[o]!==r[o]&&(e||(e={}),e[o]=n[o]);return e}function Xr(t){this._init(t)}function Jr(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(t)>-1)return this;var n=B(arguments,1);return n.unshift(this),f(t.install)?t.install.apply(t,n):f(t)&&t.apply(null,n),e.push(t),this}}function Qr(t){t.mixin=function(t){return this.options=Cr(this.options,t),this}}function Zr(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var n=this,r=n.cid,o=t._Ctor||(t._Ctor={});if(o[r])return o[r];var i=rr(t)||rr(n.options);var u=function(t){this._init(t)};return u.prototype=Object.create(n.prototype),u.prototype.constructor=u,u.cid=e++,u.options=Cr(n.options,t),u["super"]=n,u.options.props&&to(u),u.options.computed&&eo(u),u.extend=n.extend,u.mixin=n.mixin,u.use=n.use,W.forEach((function(t){u[t]=n[t]})),i&&(u.options.components[i]=u),u.superOptions=n.options,u.extendOptions=t,u.sealedOptions=M({},u.options),o[r]=u,u}}function to(t){var e=t.options.props;for(var n in e)Nr(t.prototype,"_props",n)}function eo(t){var e=t.options.computed;for(var n in e)Fr(t.prototype,n,e[n])}function no(t){W.forEach((function(e){t[e]=function(t,n){return n?("component"===e&&m(n)&&(n.name=n.name||t,n=this.options._base.extend(n)),"directive"===e&&f(n)&&(n={bind:n,update:n}),this.options[e+"s"][t]=n,n):this.options[e+"s"][t]}}))}function ro(t){return t&&(rr(t.Ctor.options)||t.tag)}function oo(t,e){return o(t)?t.indexOf(e)>-1:"string"===typeof t?t.split(",").indexOf(e)>-1:!!p(t)&&t.test(e)}function io(t,e){var n=t.cache,r=t.keys,o=t._vnode;for(var i in n){var u=n[i];if(u){var a=u.name;a&&!e(a)&&uo(n,i,r,o)}}}function uo(t,e,n,r){var o=t[e];!o||r&&o.tag===r.tag||o.componentInstance.$destroy(),t[e]=null,w(n,e)}qr(Xr),Wr(Xr),Sn(Xr),On(Xr),Le(Xr);var ao=[String,RegExp,Array],co={name:"keep-alive",abstract:!0,props:{include:ao,exclude:ao,max:[String,Number]},methods:{cacheVNode:function(){var t=this,e=t.cache,n=t.keys,r=t.vnodeToCache,o=t.keyToCache;if(r){var i=r.tag,u=r.componentInstance,a=r.componentOptions;e[o]={name:ro(a),tag:i,componentInstance:u},n.push(o),this.max&&n.length>parseInt(this.max)&&uo(e,n[0],n,this._vnode),this.vnodeToCache=null}}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)uo(this.cache,t,this.keys)},mounted:function(){var t=this;this.cacheVNode(),this.$watch("include",(function(e){io(t,(function(t){return oo(e,t)}))})),this.$watch("exclude",(function(e){io(t,(function(t){return!oo(e,t)}))}))},updated:function(){this.cacheVNode()},render:function(){var t=this.$slots.default,e=Ue(t),n=e&&e.componentOptions;if(n){var r=ro(n),o=this,i=o.include,u=o.exclude;if(i&&(!r||!oo(i,r))||u&&r&&oo(u,r))return e;var a=this,c=a.cache,s=a.keys,f=null==e.key?n.Ctor.cid+(n.tag?"::".concat(n.tag):""):e.key;c[f]?(e.componentInstance=c[f].componentInstance,w(s,f),s.push(f)):(this.vnodeToCache=e,this.keyToCache=f),e.data.keepAlive=!0}return e||t&&t[0]}},so={KeepAlive:co};function fo(t){var e={get:function(){return q}};Object.defineProperty(t,"config",e),t.util={warn:lr,extend:M,mergeOptions:Cr,defineReactive:Ft},t.set=jt,t.delete=zt,t.nextTick=cn,t.observable=function(t){return Lt(t),t},t.options=Object.create(null),W.forEach((function(e){t.options[e+"s"]=Object.create(null)})),t.options._base=t,M(t.options.components,so),Jr(t),Qr(t),Zr(t),no(t)}fo(Xr),Object.defineProperty(Xr.prototype,"$isServer",{get:ft}),Object.defineProperty(Xr.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(Xr,"FunctionalRenderContext",{value:Zn}),Xr.version=ln;var lo=y("style,class"),mo=y("input,textarea,option,select,progress"),po=function(t,e,n){return"value"===n&&mo(t)&&"button"!==e||"selected"===n&&"option"===t||"checked"===n&&"input"===t||"muted"===n&&"video"===t},go=y("contenteditable,draggable,spellcheck"),vo=y("events,caret,typing,plaintext-only"),ho=function(t,e){return Co(e)||"false"===e?"false":"contenteditable"===t&&vo(e)?e:"true"},bo=y("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),yo="http://www.w3.org/1999/xlink",xo=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},wo=function(t){return xo(t)?t.slice(6,t.length):""},Co=function(t){return null==t||!1===t};function So(t){var e=t.data,n=t,r=t;while(u(r.componentInstance))r=r.componentInstance._vnode,r&&r.data&&(e=ko(r.data,e));while(u(n=n.parent))n&&n.data&&(e=ko(e,n.data));return _o(e.staticClass,e.class)}function ko(t,e){return{staticClass:Eo(t.staticClass,e.staticClass),class:u(t.class)?[t.class,e.class]:e.class}}function _o(t,e){return u(t)||u(e)?Eo(t,Oo(e)):""}function Eo(t,e){return t?e?t+" "+e:t:e||""}function Oo(t){return Array.isArray(t)?To(t):l(t)?Ao(t):"string"===typeof t?t:""}function To(t){for(var e,n="",r=0,o=t.length;r<o;r++)u(e=Oo(t[r]))&&""!==e&&(n&&(n+=" "),n+=e);return n}function Ao(t){var e="";for(var n in t)t[n]&&(e&&(e+=" "),e+=n);return e}var Ro={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},No=y("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),Do=y("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),Bo=function(t){return No(t)||Do(t)};function Mo(t){return Do(t)?"svg":"math"===t?"math":void 0}var Io=Object.create(null);function Po(t){if(!Z)return!0;if(Bo(t))return!1;if(t=t.toLowerCase(),null!=Io[t])return Io[t];var e=document.createElement(t);return t.indexOf("-")>-1?Io[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:Io[t]=/HTMLUnknownElement/.test(e.toString())}var Lo=y("text,number,password,search,email,tel,url");function Fo(t){if("string"===typeof t){var e=document.querySelector(t);return e||document.createElement("div")}return t}function jo(t,e){var n=document.createElement(t);return"select"!==t||e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n}function zo(t,e){return document.createElementNS(Ro[t],e)}function Uo(t){return document.createTextNode(t)}function Ho(t){return document.createComment(t)}function Vo(t,e,n){t.insertBefore(e,n)}function Wo(t,e){t.removeChild(e)}function $o(t,e){t.appendChild(e)}function qo(t){return t.parentNode}function Go(t){return t.nextSibling}function Ko(t){return t.tagName}function Yo(t,e){t.textContent=e}function Xo(t,e){t.setAttribute(e,"")}var Jo=Object.freeze({__proto__:null,createElement:jo,createElementNS:zo,createTextNode:Uo,createComment:Ho,insertBefore:Vo,removeChild:Wo,appendChild:$o,parentNode:qo,nextSibling:Go,tagName:Ko,setTextContent:Yo,setStyleScope:Xo}),Qo={create:function(t,e){Zo(e)},update:function(t,e){t.data.ref!==e.data.ref&&(Zo(t,!0),Zo(e))},destroy:function(t){Zo(t,!0)}};function Zo(t,e){var n=t.data.ref;if(u(n)){var r=t.context,i=t.componentInstance||t.elm,a=e?null:i,c=e?void 0:i;if(f(n))Ye(n,r,[a],r,"template ref function");else{var s=t.data.refInFor,l="string"===typeof n||"number"===typeof n,d=$t(n),m=r.$refs;if(l||d)if(s){var p=l?m[n]:n.value;e?o(p)&&w(p,i):o(p)?p.includes(i)||p.push(i):l?(m[n]=[i],ti(r,n,m[n])):n.value=[i]}else if(l){if(e&&m[n]!==i)return;m[n]=c,ti(r,n,a)}else if(d){if(e&&n.value!==i)return;n.value=a}else 0}}}function ti(t,e,n){var r=t._setupState;r&&S(r,e)&&($t(r[e])?r[e].value=n:r[e]=n)}var ei=new ht("",{},[]),ni=["create","activate","update","remove","destroy"];function ri(t,e){return t.key===e.key&&t.asyncFactory===e.asyncFactory&&(t.tag===e.tag&&t.isComment===e.isComment&&u(t.data)===u(e.data)&&oi(t,e)||a(t.isAsyncPlaceholder)&&i(e.asyncFactory.error))}function oi(t,e){if("input"!==t.tag)return!0;var n,r=u(n=t.data)&&u(n=n.attrs)&&n.type,o=u(n=e.data)&&u(n=n.attrs)&&n.type;return r===o||Lo(r)&&Lo(o)}function ii(t,e,n){var r,o,i={};for(r=e;r<=n;++r)o=t[r].key,u(o)&&(i[o]=r);return i}function ui(t){var e,n,r={},c=t.modules,f=t.nodeOps;for(e=0;e<ni.length;++e)for(r[ni[e]]=[],n=0;n<c.length;++n)u(c[n][ni[e]])&&r[ni[e]].push(c[n][ni[e]]);function l(t){return new ht(f.tagName(t).toLowerCase(),{},[],void 0,t)}function d(t,e){function n(){0===--n.listeners&&m(t)}return n.listeners=e,n}function m(t){var e=f.parentNode(t);u(e)&&f.removeChild(e,t)}function p(t,e,n,r,o,i,c){if(u(t.elm)&&u(i)&&(t=i[c]=xt(t)),t.isRootInsert=!o,!g(t,e,n,r)){var s=t.data,l=t.children,d=t.tag;u(d)?(t.elm=t.ns?f.createElementNS(t.ns,d):f.createElement(d,t),S(t),x(t,l,e),u(s)&&C(t,e),b(n,t.elm,r)):a(t.isComment)?(t.elm=f.createComment(t.text),b(n,t.elm,r)):(t.elm=f.createTextNode(t.text),b(n,t.elm,r))}}function g(t,e,n,r){var o=t.data;if(u(o)){var i=u(t.componentInstance)&&o.keepAlive;if(u(o=o.hook)&&u(o=o.init)&&o(t,!1),u(t.componentInstance))return v(t,e),b(n,t.elm,r),a(i)&&h(t,e,n,r),!0}}function v(t,e){u(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,w(t)?(C(t,e),S(t)):(Zo(t),e.push(t))}function h(t,e,n,o){var i,a=t;while(a.componentInstance)if(a=a.componentInstance._vnode,u(i=a.data)&&u(i=i.transition)){for(i=0;i<r.activate.length;++i)r.activate[i](ei,a);e.push(a);break}b(n,t.elm,o)}function b(t,e,n){u(t)&&(u(n)?f.parentNode(n)===t&&f.insertBefore(t,e,n):f.appendChild(t,e))}function x(t,e,n){if(o(e)){0;for(var r=0;r<e.length;++r)p(e[r],n,t.elm,null,!0,e,r)}else s(t.text)&&f.appendChild(t.elm,f.createTextNode(String(t.text)))}function w(t){while(t.componentInstance)t=t.componentInstance._vnode;return u(t.tag)}function C(t,n){for(var o=0;o<r.create.length;++o)r.create[o](ei,t);e=t.data.hook,u(e)&&(u(e.create)&&e.create(ei,t),u(e.insert)&&n.push(t))}function S(t){var e;if(u(e=t.fnScopeId))f.setStyleScope(t.elm,e);else{var n=t;while(n)u(e=n.context)&&u(e=e.$options._scopeId)&&f.setStyleScope(t.elm,e),n=n.parent}u(e=kn)&&e!==t.context&&e!==t.fnContext&&u(e=e.$options._scopeId)&&f.setStyleScope(t.elm,e)}function k(t,e,n,r,o,i){for(;r<=o;++r)p(n[r],i,t,e,!1,n,r)}function _(t){var e,n,o=t.data;if(u(o))for(u(e=o.hook)&&u(e=e.destroy)&&e(t),e=0;e<r.destroy.length;++e)r.destroy[e](t);if(u(e=t.children))for(n=0;n<t.children.length;++n)_(t.children[n])}function E(t,e,n){for(;e<=n;++e){var r=t[e];u(r)&&(u(r.tag)?(O(r),_(r)):m(r.elm))}}function O(t,e){if(u(e)||u(t.data)){var n,o=r.remove.length+1;for(u(e)?e.listeners+=o:e=d(t.elm,o),u(n=t.componentInstance)&&u(n=n._vnode)&&u(n.data)&&O(n,e),n=0;n<r.remove.length;++n)r.remove[n](t,e);u(n=t.data.hook)&&u(n=n.remove)?n(t,e):e()}else m(t.elm)}function T(t,e,n,r,o){var a,c,s,l,d=0,m=0,g=e.length-1,v=e[0],h=e[g],b=n.length-1,y=n[0],x=n[b],w=!o;while(d<=g&&m<=b)i(v)?v=e[++d]:i(h)?h=e[--g]:ri(v,y)?(R(v,y,r,n,m),v=e[++d],y=n[++m]):ri(h,x)?(R(h,x,r,n,b),h=e[--g],x=n[--b]):ri(v,x)?(R(v,x,r,n,b),w&&f.insertBefore(t,v.elm,f.nextSibling(h.elm)),v=e[++d],x=n[--b]):ri(h,y)?(R(h,y,r,n,m),w&&f.insertBefore(t,h.elm,v.elm),h=e[--g],y=n[++m]):(i(a)&&(a=ii(e,d,g)),c=u(y.key)?a[y.key]:A(y,e,d,g),i(c)?p(y,r,t,v.elm,!1,n,m):(s=e[c],ri(s,y)?(R(s,y,r,n,m),e[c]=void 0,w&&f.insertBefore(t,s.elm,v.elm)):p(y,r,t,v.elm,!1,n,m)),y=n[++m]);d>g?(l=i(n[b+1])?null:n[b+1].elm,k(t,l,n,m,b,r)):m>b&&E(e,d,g)}function A(t,e,n,r){for(var o=n;o<r;o++){var i=e[o];if(u(i)&&ri(t,i))return o}}function R(t,e,n,o,c,s){if(t!==e){u(e.elm)&&u(o)&&(e=o[c]=xt(e));var l=e.elm=t.elm;if(a(t.isAsyncPlaceholder))u(e.asyncFactory.resolved)?B(t.elm,e,n):e.isAsyncPlaceholder=!0;else if(a(e.isStatic)&&a(t.isStatic)&&e.key===t.key&&(a(e.isCloned)||a(e.isOnce)))e.componentInstance=t.componentInstance;else{var d,m=e.data;u(m)&&u(d=m.hook)&&u(d=d.prepatch)&&d(t,e);var p=t.children,g=e.children;if(u(m)&&w(e)){for(d=0;d<r.update.length;++d)r.update[d](t,e);u(d=m.hook)&&u(d=d.update)&&d(t,e)}i(e.text)?u(p)&&u(g)?p!==g&&T(l,p,g,n,s):u(g)?(u(t.text)&&f.setTextContent(l,""),k(l,null,g,0,g.length-1,n)):u(p)?E(p,0,p.length-1):u(t.text)&&f.setTextContent(l,""):t.text!==e.text&&f.setTextContent(l,e.text),u(m)&&u(d=m.hook)&&u(d=d.postpatch)&&d(t,e)}}}function N(t,e,n){if(a(n)&&u(t.parent))t.parent.data.pendingInsert=e;else for(var r=0;r<e.length;++r)e[r].data.hook.insert(e[r])}var D=y("attrs,class,staticClass,staticStyle,key");function B(t,e,n,r){var o,i=e.tag,c=e.data,s=e.children;if(r=r||c&&c.pre,e.elm=t,a(e.isComment)&&u(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(u(c)&&(u(o=c.hook)&&u(o=o.init)&&o(e,!0),u(o=e.componentInstance)))return v(e,n),!0;if(u(i)){if(u(s))if(t.hasChildNodes())if(u(o=c)&&u(o=o.domProps)&&u(o=o.innerHTML)){if(o!==t.innerHTML)return!1}else{for(var f=!0,l=t.firstChild,d=0;d<s.length;d++){if(!l||!B(l,s[d],n,r)){f=!1;break}l=l.nextSibling}if(!f||l)return!1}else x(e,s,n);if(u(c)){var m=!1;for(var p in c)if(!D(p)){m=!0,C(e,n);break}!m&&c["class"]&&mn(c["class"])}}else t.data!==e.text&&(t.data=e.text);return!0}return function(t,e,n,o){if(!i(e)){var c=!1,s=[];if(i(t))c=!0,p(e,s);else{var d=u(t.nodeType);if(!d&&ri(t,e))R(t,e,s,null,null,o);else{if(d){if(1===t.nodeType&&t.hasAttribute(V)&&(t.removeAttribute(V),n=!0),a(n)&&B(t,e,s))return N(e,s,!0),t;t=l(t)}var m=t.elm,g=f.parentNode(m);if(p(e,s,m._leaveCb?null:g,f.nextSibling(m)),u(e.parent)){var v=e.parent,h=w(e);while(v){for(var b=0;b<r.destroy.length;++b)r.destroy[b](v);if(v.elm=e.elm,h){for(var y=0;y<r.create.length;++y)r.create[y](ei,v);var x=v.data.hook.insert;if(x.merged)for(var C=1;C<x.fns.length;C++)x.fns[C]()}else Zo(v);v=v.parent}}u(g)?E([t],0,0):u(t.tag)&&_(t)}}return N(e,s,c),e.elm}u(t)&&_(t)}}var ai={create:ci,update:ci,destroy:function(t){ci(t,ei)}};function ci(t,e){(t.data.directives||e.data.directives)&&si(t,e)}function si(t,e){var n,r,o,i=t===ei,u=e===ei,a=li(t.data.directives,t.context),c=li(e.data.directives,e.context),s=[],f=[];for(n in c)r=a[n],o=c[n],r?(o.oldValue=r.value,o.oldArg=r.arg,mi(o,"update",e,t),o.def&&o.def.componentUpdated&&f.push(o)):(mi(o,"bind",e,t),o.def&&o.def.inserted&&s.push(o));if(s.length){var l=function(){for(var n=0;n<s.length;n++)mi(s[n],"inserted",e,t)};i?ee(e,"insert",l):l()}if(f.length&&ee(e,"postpatch",(function(){for(var n=0;n<f.length;n++)mi(f[n],"componentUpdated",e,t)})),!i)for(n in a)c[n]||mi(a[n],"unbind",t,t,u)}var fi=Object.create(null);function li(t,e){var n,r,o=Object.create(null);if(!t)return o;for(n=0;n<t.length;n++){if(r=t[n],r.modifiers||(r.modifiers=fi),o[di(r)]=r,e._setupState&&e._setupState.__sfc){var i=r.def||Sr(e,"_setupState","v-"+r.name);r.def="function"===typeof i?{bind:i,update:i}:i}r.def=r.def||Sr(e.$options,"directives",r.name,!0)}return o}function di(t){return t.rawName||"".concat(t.name,".").concat(Object.keys(t.modifiers||{}).join("."))}function mi(t,e,n,r,o){var i=t.def&&t.def[e];if(i)try{i(n.elm,t,n,r,o)}catch(Ju){Ke(Ju,n.context,"directive ".concat(t.name," ").concat(e," hook"))}}var pi=[Qo,ai];function gi(t,e){var n=e.componentOptions;if((!u(n)||!1!==n.Ctor.options.inheritAttrs)&&(!i(t.data.attrs)||!i(e.data.attrs))){var r,o,c,s=e.elm,f=t.data.attrs||{},l=e.data.attrs||{};for(r in(u(l.__ob__)||a(l._v_attr_proxy))&&(l=e.data.attrs=M({},l)),l)o=l[r],c=f[r],c!==o&&vi(s,r,o,e.data.pre);for(r in(et||rt)&&l.value!==f.value&&vi(s,"value",l.value),f)i(l[r])&&(xo(r)?s.removeAttributeNS(yo,wo(r)):go(r)||s.removeAttribute(r))}}function vi(t,e,n,r){r||t.tagName.indexOf("-")>-1?hi(t,e,n):bo(e)?Co(n)?t.removeAttribute(e):(n="allowfullscreen"===e&&"EMBED"===t.tagName?"true":e,t.setAttribute(e,n)):go(e)?t.setAttribute(e,ho(e,n)):xo(e)?Co(n)?t.removeAttributeNS(yo,wo(e)):t.setAttributeNS(yo,e,n):hi(t,e,n)}function hi(t,e,n){if(Co(n))t.removeAttribute(e);else{if(et&&!nt&&"TEXTAREA"===t.tagName&&"placeholder"===e&&""!==n&&!t.__ieph){var r=function(e){e.stopImmediatePropagation(),t.removeEventListener("input",r)};t.addEventListener("input",r),t.__ieph=!0}t.setAttribute(e,n)}}var bi={create:gi,update:gi};function yi(t,e){var n=e.elm,r=e.data,o=t.data;if(!(i(r.staticClass)&&i(r.class)&&(i(o)||i(o.staticClass)&&i(o.class)))){var a=So(e),c=n._transitionClasses;u(c)&&(a=Eo(a,Oo(c))),a!==n._prevClass&&(n.setAttribute("class",a),n._prevClass=a)}}var xi,wi={create:yi,update:yi},Ci="__r",Si="__c";function ki(t){if(u(t[Ci])){var e=et?"change":"input";t[e]=[].concat(t[Ci],t[e]||[]),delete t[Ci]}u(t[Si])&&(t.change=[].concat(t[Si],t.change||[]),delete t[Si])}function _i(t,e,n){var r=xi;return function o(){var i=e.apply(null,arguments);null!==i&&Ti(t,o,n,r)}}var Ei=Ze&&!(ut&&Number(ut[1])<=53);function Oi(t,e,n,r){if(Ei){var o=Un,i=e;e=i._wrapper=function(t){if(t.target===t.currentTarget||t.timeStamp>=o||t.timeStamp<=0||t.target.ownerDocument!==document)return i.apply(this,arguments)}}xi.addEventListener(t,e,ct?{capture:n,passive:r}:n)}function Ti(t,e,n,r){(r||xi).removeEventListener(t,e._wrapper||e,n)}function Ai(t,e){if(!i(t.data.on)||!i(e.data.on)){var n=e.data.on||{},r=t.data.on||{};xi=e.elm||t.elm,ki(n),te(n,r,Oi,Ti,_i,e.context),xi=void 0}}var Ri,Ni={create:Ai,update:Ai,destroy:function(t){return Ai(t,ei)}};function Di(t,e){if(!i(t.data.domProps)||!i(e.data.domProps)){var n,r,o=e.elm,c=t.data.domProps||{},s=e.data.domProps||{};for(n in(u(s.__ob__)||a(s._v_attr_proxy))&&(s=e.data.domProps=M({},s)),c)n in s||(o[n]="");for(n in s){if(r=s[n],"textContent"===n||"innerHTML"===n){if(e.children&&(e.children.length=0),r===c[n])continue;1===o.childNodes.length&&o.removeChild(o.childNodes[0])}if("value"===n&&"PROGRESS"!==o.tagName){o._value=r;var f=i(r)?"":String(r);Bi(o,f)&&(o.value=f)}else if("innerHTML"===n&&Do(o.tagName)&&i(o.innerHTML)){Ri=Ri||document.createElement("div"),Ri.innerHTML="<svg>".concat(r,"</svg>");var l=Ri.firstChild;while(o.firstChild)o.removeChild(o.firstChild);while(l.firstChild)o.appendChild(l.firstChild)}else if(r!==c[n])try{o[n]=r}catch(Ju){}}}}function Bi(t,e){return!t.composing&&("OPTION"===t.tagName||Mi(t,e)||Ii(t,e))}function Mi(t,e){var n=!0;try{n=document.activeElement!==t}catch(Ju){}return n&&t.value!==e}function Ii(t,e){var n=t.value,r=t._vModifiers;if(u(r)){if(r.number)return b(n)!==b(e);if(r.trim)return n.trim()!==e.trim()}return n!==e}var Pi={create:Di,update:Di},Li=k((function(t){var e={},n=/;(?![^(]*\))/g,r=/:(.+)/;return t.split(n).forEach((function(t){if(t){var n=t.split(r);n.length>1&&(e[n[0].trim()]=n[1].trim())}})),e}));function Fi(t){var e=ji(t.style);return t.staticStyle?M(t.staticStyle,e):e}function ji(t){return Array.isArray(t)?I(t):"string"===typeof t?Li(t):t}function zi(t,e){var n,r={};if(e){var o=t;while(o.componentInstance)o=o.componentInstance._vnode,o&&o.data&&(n=Fi(o.data))&&M(r,n)}(n=Fi(t.data))&&M(r,n);var i=t;while(i=i.parent)i.data&&(n=Fi(i.data))&&M(r,n);return r}var Ui,Hi=/^--/,Vi=/\s*!important$/,Wi=function(t,e,n){if(Hi.test(e))t.style.setProperty(e,n);else if(Vi.test(n))t.style.setProperty(A(e),n.replace(Vi,""),"important");else{var r=qi(e);if(Array.isArray(n))for(var o=0,i=n.length;o<i;o++)t.style[r]=n[o];else t.style[r]=n}},$i=["Webkit","Moz","ms"],qi=k((function(t){if(Ui=Ui||document.createElement("div").style,t=E(t),"filter"!==t&&t in Ui)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<$i.length;n++){var r=$i[n]+e;if(r in Ui)return r}}));function Gi(t,e){var n=e.data,r=t.data;if(!(i(n.staticStyle)&&i(n.style)&&i(r.staticStyle)&&i(r.style))){var o,a,c=e.elm,s=r.staticStyle,f=r.normalizedStyle||r.style||{},l=s||f,d=ji(e.data.style)||{};e.data.normalizedStyle=u(d.__ob__)?M({},d):d;var m=zi(e,!0);for(a in l)i(m[a])&&Wi(c,a,"");for(a in m)o=m[a],o!==l[a]&&Wi(c,a,null==o?"":o)}}var Ki={create:Gi,update:Gi},Yi=/\s+/;function Xi(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(Yi).forEach((function(e){return t.classList.add(e)})):t.classList.add(e);else{var n=" ".concat(t.getAttribute("class")||""," ");n.indexOf(" "+e+" ")<0&&t.setAttribute("class",(n+e).trim())}}function Ji(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(Yi).forEach((function(e){return t.classList.remove(e)})):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{var n=" ".concat(t.getAttribute("class")||""," "),r=" "+e+" ";while(n.indexOf(r)>=0)n=n.replace(r," ");n=n.trim(),n?t.setAttribute("class",n):t.removeAttribute("class")}}function Qi(t){if(t){if("object"===typeof t){var e={};return!1!==t.css&&M(e,Zi(t.name||"v")),M(e,t),e}return"string"===typeof t?Zi(t):void 0}}var Zi=k((function(t){return{enterClass:"".concat(t,"-enter"),enterToClass:"".concat(t,"-enter-to"),enterActiveClass:"".concat(t,"-enter-active"),leaveClass:"".concat(t,"-leave"),leaveToClass:"".concat(t,"-leave-to"),leaveActiveClass:"".concat(t,"-leave-active")}})),tu=Z&&!nt,eu="transition",nu="animation",ru="transition",ou="transitionend",iu="animation",uu="animationend";tu&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(ru="WebkitTransition",ou="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(iu="WebkitAnimation",uu="webkitAnimationEnd"));var au=Z?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()};function cu(t){au((function(){au(t)}))}function su(t,e){var n=t._transitionClasses||(t._transitionClasses=[]);n.indexOf(e)<0&&(n.push(e),Xi(t,e))}function fu(t,e){t._transitionClasses&&w(t._transitionClasses,e),Ji(t,e)}function lu(t,e,n){var r=mu(t,e),o=r.type,i=r.timeout,u=r.propCount;if(!o)return n();var a=o===eu?ou:uu,c=0,s=function(){t.removeEventListener(a,f),n()},f=function(e){e.target===t&&++c>=u&&s()};setTimeout((function(){c<u&&s()}),i+1),t.addEventListener(a,f)}var du=/\b(transform|all)(,|$)/;function mu(t,e){var n,r=window.getComputedStyle(t),o=(r[ru+"Delay"]||"").split(", "),i=(r[ru+"Duration"]||"").split(", "),u=pu(o,i),a=(r[iu+"Delay"]||"").split(", "),c=(r[iu+"Duration"]||"").split(", "),s=pu(a,c),f=0,l=0;e===eu?u>0&&(n=eu,f=u,l=i.length):e===nu?s>0&&(n=nu,f=s,l=c.length):(f=Math.max(u,s),n=f>0?u>s?eu:nu:null,l=n?n===eu?i.length:c.length:0);var d=n===eu&&du.test(r[ru+"Property"]);return{type:n,timeout:f,propCount:l,hasTransform:d}}function pu(t,e){while(t.length<e.length)t=t.concat(t);return Math.max.apply(null,e.map((function(e,n){return gu(e)+gu(t[n])})))}function gu(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function vu(t,e){var n=t.elm;u(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var r=Qi(t.data.transition);if(!i(r)&&!u(n._enterCb)&&1===n.nodeType){var o=r.css,a=r.type,c=r.enterClass,s=r.enterToClass,d=r.enterActiveClass,m=r.appearClass,p=r.appearToClass,g=r.appearActiveClass,v=r.beforeEnter,h=r.enter,y=r.afterEnter,x=r.enterCancelled,w=r.beforeAppear,C=r.appear,S=r.afterAppear,k=r.appearCancelled,_=r.duration,E=kn,O=kn.$vnode;while(O&&O.parent)E=O.context,O=O.parent;var T=!E._isMounted||!t.isRootInsert;if(!T||C||""===C){var A=T&&m?m:c,R=T&&g?g:d,N=T&&p?p:s,D=T&&w||v,B=T&&f(C)?C:h,M=T&&S||y,I=T&&k||x,P=b(l(_)?_.enter:_);0;var L=!1!==o&&!nt,F=yu(B),j=n._enterCb=U((function(){L&&(fu(n,N),fu(n,R)),j.cancelled?(L&&fu(n,A),I&&I(n)):M&&M(n),n._enterCb=null}));t.data.show||ee(t,"insert",(function(){var e=n.parentNode,r=e&&e._pending&&e._pending[t.key];r&&r.tag===t.tag&&r.elm._leaveCb&&r.elm._leaveCb(),B&&B(n,j)})),D&&D(n),L&&(su(n,A),su(n,R),cu((function(){fu(n,A),j.cancelled||(su(n,N),F||(bu(P)?setTimeout(j,P):lu(n,a,j)))}))),t.data.show&&(e&&e(),B&&B(n,j)),L||F||j()}}}function hu(t,e){var n=t.elm;u(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var r=Qi(t.data.transition);if(i(r)||1!==n.nodeType)return e();if(!u(n._leaveCb)){var o=r.css,a=r.type,c=r.leaveClass,s=r.leaveToClass,f=r.leaveActiveClass,d=r.beforeLeave,m=r.leave,p=r.afterLeave,g=r.leaveCancelled,v=r.delayLeave,h=r.duration,y=!1!==o&&!nt,x=yu(m),w=b(l(h)?h.leave:h);0;var C=n._leaveCb=U((function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[t.key]=null),y&&(fu(n,s),fu(n,f)),C.cancelled?(y&&fu(n,c),g&&g(n)):(e(),p&&p(n)),n._leaveCb=null}));v?v(S):S()}function S(){C.cancelled||(!t.data.show&&n.parentNode&&((n.parentNode._pending||(n.parentNode._pending={}))[t.key]=t),d&&d(n),y&&(su(n,c),su(n,f),cu((function(){fu(n,c),C.cancelled||(su(n,s),x||(bu(w)?setTimeout(C,w):lu(n,a,C)))}))),m&&m(n,C),y||x||C())}}function bu(t){return"number"===typeof t&&!isNaN(t)}function yu(t){if(i(t))return!1;var e=t.fns;return u(e)?yu(Array.isArray(e)?e[0]:e):(t._length||t.length)>1}function xu(t,e){!0!==e.data.show&&vu(e)}var wu=Z?{create:xu,activate:xu,remove:function(t,e){!0!==t.data.show?hu(t,e):e()}}:{},Cu=[bi,wi,Ni,Pi,Ki,wu],Su=Cu.concat(pi),ku=ui({nodeOps:Jo,modules:Su});nt&&document.addEventListener("selectionchange",(function(){var t=document.activeElement;t&&t.vmodel&&Du(t,"input")}));var _u={inserted:function(t,e,n,r){"select"===n.tag?(r.elm&&!r.elm._vOptions?ee(n,"postpatch",(function(){_u.componentUpdated(t,e,n)})):Eu(t,e,n.context),t._vOptions=[].map.call(t.options,Au)):("textarea"===n.tag||Lo(t.type))&&(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("compositionstart",Ru),t.addEventListener("compositionend",Nu),t.addEventListener("change",Nu),nt&&(t.vmodel=!0)))},componentUpdated:function(t,e,n){if("select"===n.tag){Eu(t,e,n.context);var r=t._vOptions,o=t._vOptions=[].map.call(t.options,Au);if(o.some((function(t,e){return!j(t,r[e])}))){var i=t.multiple?e.value.some((function(t){return Tu(t,o)})):e.value!==e.oldValue&&Tu(e.value,o);i&&Du(t,"change")}}}};function Eu(t,e,n){Ou(t,e,n),(et||rt)&&setTimeout((function(){Ou(t,e,n)}),0)}function Ou(t,e,n){var r=e.value,o=t.multiple;if(!o||Array.isArray(r)){for(var i,u,a=0,c=t.options.length;a<c;a++)if(u=t.options[a],o)i=z(r,Au(u))>-1,u.selected!==i&&(u.selected=i);else if(j(Au(u),r))return void(t.selectedIndex!==a&&(t.selectedIndex=a));o||(t.selectedIndex=-1)}}function Tu(t,e){return e.every((function(e){return!j(e,t)}))}function Au(t){return"_value"in t?t._value:t.value}function Ru(t){t.target.composing=!0}function Nu(t){t.target.composing&&(t.target.composing=!1,Du(t.target,"input"))}function Du(t,e){var n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}function Bu(t){return!t.componentInstance||t.data&&t.data.transition?t:Bu(t.componentInstance._vnode)}var Mu={bind:function(t,e,n){var r=e.value;n=Bu(n);var o=n.data&&n.data.transition,i=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;r&&o?(n.data.show=!0,vu(n,(function(){t.style.display=i}))):t.style.display=r?i:"none"},update:function(t,e,n){var r=e.value,o=e.oldValue;if(!r!==!o){n=Bu(n);var i=n.data&&n.data.transition;i?(n.data.show=!0,r?vu(n,(function(){t.style.display=t.__vOriginalDisplay})):hu(n,(function(){t.style.display="none"}))):t.style.display=r?t.__vOriginalDisplay:"none"}},unbind:function(t,e,n,r,o){o||(t.style.display=t.__vOriginalDisplay)}},Iu={model:_u,show:Mu},Pu={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function Lu(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?Lu(Ue(e.children)):t}function Fu(t){var e={},n=t.$options;for(var r in n.propsData)e[r]=t[r];var o=n._parentListeners;for(var r in o)e[E(r)]=o[r];return e}function ju(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}function zu(t){while(t=t.parent)if(t.data.transition)return!0}function Uu(t,e){return e.key===t.key&&e.tag===t.tag}var Hu=function(t){return t.tag||_e(t)},Vu=function(t){return"show"===t.name},Wu={name:"transition",props:Pu,abstract:!0,render:function(t){var e=this,n=this.$slots.default;if(n&&(n=n.filter(Hu),n.length)){0;var r=this.mode;0;var o=n[0];if(zu(this.$vnode))return o;var i=Lu(o);if(!i)return o;if(this._leaving)return ju(t,o);var u="__transition-".concat(this._uid,"-");i.key=null==i.key?i.isComment?u+"comment":u+i.tag:s(i.key)?0===String(i.key).indexOf(u)?i.key:u+i.key:i.key;var a=(i.data||(i.data={})).transition=Fu(this),c=this._vnode,f=Lu(c);if(i.data.directives&&i.data.directives.some(Vu)&&(i.data.show=!0),f&&f.data&&!Uu(i,f)&&!_e(f)&&(!f.componentInstance||!f.componentInstance._vnode.isComment)){var l=f.data.transition=M({},a);if("out-in"===r)return this._leaving=!0,ee(l,"afterLeave",(function(){e._leaving=!1,e.$forceUpdate()})),ju(t,o);if("in-out"===r){if(_e(i))return c;var d,m=function(){d()};ee(a,"afterEnter",m),ee(a,"enterCancelled",m),ee(l,"delayLeave",(function(t){d=t}))}}return o}}},$u=M({tag:String,moveClass:String},Pu);delete $u.mode;var qu={props:$u,beforeMount:function(){var t=this,e=this._update;this._update=function(n,r){var o=_n(t);t.__patch__(t._vnode,t.kept,!1,!0),t._vnode=t.kept,o(),e.call(t,n,r)}},render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),r=this.prevChildren=this.children,o=this.$slots.default||[],i=this.children=[],u=Fu(this),a=0;a<o.length;a++){var c=o[a];if(c.tag)if(null!=c.key&&0!==String(c.key).indexOf("__vlist"))i.push(c),n[c.key]=c,(c.data||(c.data={})).transition=u;else;}if(r){var s=[],f=[];for(a=0;a<r.length;a++){c=r[a];c.data.transition=u,c.data.pos=c.elm.getBoundingClientRect(),n[c.key]?s.push(c):f.push(c)}this.kept=t(e,null,s),this.removed=f}return t(e,null,i)},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,e)&&(t.forEach(Gu),t.forEach(Ku),t.forEach(Yu),this._reflow=document.body.offsetHeight,t.forEach((function(t){if(t.data.moved){var n=t.elm,r=n.style;su(n,e),r.transform=r.WebkitTransform=r.transitionDuration="",n.addEventListener(ou,n._moveCb=function t(r){r&&r.target!==n||r&&!/transform$/.test(r.propertyName)||(n.removeEventListener(ou,t),n._moveCb=null,fu(n,e))})}})))},methods:{hasMove:function(t,e){if(!tu)return!1;if(this._hasMove)return this._hasMove;var n=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach((function(t){Ji(n,t)})),Xi(n,e),n.style.display="none",this.$el.appendChild(n);var r=mu(n);return this.$el.removeChild(n),this._hasMove=r.hasTransform}}};function Gu(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function Ku(t){t.data.newPos=t.elm.getBoundingClientRect()}function Yu(t){var e=t.data.pos,n=t.data.newPos,r=e.left-n.left,o=e.top-n.top;if(r||o){t.data.moved=!0;var i=t.elm.style;i.transform=i.WebkitTransform="translate(".concat(r,"px,").concat(o,"px)"),i.transitionDuration="0s"}}var Xu={Transition:Wu,TransitionGroup:qu};Xr.config.mustUseProp=po,Xr.config.isReservedTag=Bo,Xr.config.isReservedAttr=lo,Xr.config.getTagNamespace=Mo,Xr.config.isUnknownElement=Po,M(Xr.options.directives,Iu),M(Xr.options.components,Xu),Xr.prototype.__patch__=Z?ku:P,Xr.prototype.$mount=function(t,e){return t=t&&Z?Fo(t):void 0,Tn(this,t,e)},Z&&setTimeout((function(){q.devtools&&lt&&lt.emit("init",Xr)}),0)},2419:function(t){function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}t.exports=e,t.exports.__esModule=!0,t.exports["default"]=t.exports},2384:function(t){function e(t){if(Array.isArray(t))return t}t.exports=e,t.exports.__esModule=!0,t.exports["default"]=t.exports},4024:function(t,e,n){var r=n(2419);function o(t){if(Array.isArray(t))return r(t)}t.exports=o,t.exports.__esModule=!0,t.exports["default"]=t.exports},2468:function(t,e,n){function r(t,e,n,r,o,i,u){try{var a=t[i](u),c=a.value}catch(s){return void n(s)}a.done?e(c):Promise.resolve(c).then(r,o)}function o(t){return function(){var e=this,n=arguments;return new Promise((function(o,i){var u=t.apply(e,n);function a(t){r(u,o,i,a,c,"next",t)}function c(t){r(u,o,i,a,c,"throw",t)}a(void 0)}))}}n(1539),t.exports=o,t.exports.__esModule=!0,t.exports["default"]=t.exports},6728:function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n(1703),n(6647),t.exports=r,t.exports.__esModule=!0,t.exports["default"]=t.exports},2046:function(t,e,n){n(9070);var r=n(2944);function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,r(o.key),o)}}function i(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}t.exports=i,t.exports.__esModule=!0,t.exports["default"]=t.exports},598:function(t,e,n){n(2526),n(1817),n(1539),n(2165),n(8783),n(3948),n(1703),n(6647);var r=n(7979);function o(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=r(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var o=0,i=function(){};return{s:i,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,u=t},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(c)throw u}}}}t.exports=o,t.exports.__esModule=!0,t.exports["default"]=t.exports},8853:function(t,e,n){n(9070);var r=n(2944);function o(t,e,n){return e=r(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}t.exports=o,t.exports.__esModule=!0,t.exports["default"]=t.exports},1933:function(t,e,n){function r(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}n(2526),n(1817),n(1539),n(2165),n(8783),n(3948),n(1038),t.exports=r,t.exports.__esModule=!0,t.exports["default"]=t.exports},2628:function(t,e,n){function r(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,u,a=[],c=!0,s=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(f){s=!0,o=f}finally{try{if(!c&&null!=n["return"]&&(u=n["return"](),Object(u)!==u))return}finally{if(s)throw o}}return a}}n(2526),n(1817),n(1539),n(2165),n(8783),n(3948),n(7658),t.exports=r,t.exports.__esModule=!0,t.exports["default"]=t.exports},2795:function(t,e,n){function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n(1703),n(6647),t.exports=r,t.exports.__esModule=!0,t.exports["default"]=t.exports},5141:function(t,e,n){function r(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n(1703),n(6647),t.exports=r,t.exports.__esModule=!0,t.exports["default"]=t.exports},2214:function(t,e,n){n(7941),n(2526),n(7327),n(1539),n(5003),n(7658),n(9554),n(4747),n(9337),n(3321),n(9070);var r=n(8853);function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}t.exports=i,t.exports.__esModule=!0,t.exports["default"]=t.exports},22:function(t,e,n){n(2526),n(2772);var r=n(621);function o(t,e){if(null==t)return{};var n,o,i=r(t,e);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);for(o=0;o<u.length;o++)n=u[o],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}t.exports=o,t.exports.__esModule=!0,t.exports["default"]=t.exports},621:function(t,e,n){function r(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}n(7941),n(2772),t.exports=r,t.exports.__esModule=!0,t.exports["default"]=t.exports},5409:function(t,e,n){n(9070),n(2526),n(1817),n(1539),n(2165),n(8783),n(3948),n(2443),n(9341),n(3706),n(2703),n(489),n(9554),n(1703),n(6647),n(7658),n(4747),n(8309),n(8304),n(7987),n(5069),n(7042);var r=n(1692)["default"];function o(){"use strict";
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */t.exports=o=function(){return e},t.exports.__esModule=!0,t.exports["default"]=t.exports;var e={},n=Object.prototype,i=n.hasOwnProperty,u=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},c=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",f=a.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(N){l=function(t,e,n){return t[e]=n}}function d(t,e,n,r){var o=e&&e.prototype instanceof g?e:g,i=Object.create(o.prototype),a=new T(r||[]);return u(i,"_invoke",{value:k(t,n,a)}),i}function m(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(N){return{type:"throw",arg:N}}}e.wrap=d;var p={};function g(){}function v(){}function h(){}var b={};l(b,c,(function(){return this}));var y=Object.getPrototypeOf,x=y&&y(y(A([])));x&&x!==n&&i.call(x,c)&&(b=x);var w=h.prototype=g.prototype=Object.create(b);function C(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function n(o,u,a,c){var s=m(t[o],t,u);if("throw"!==s.type){var f=s.arg,l=f.value;return l&&"object"==r(l)&&i.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,c)}),(function(t){n("throw",t,a,c)})):e.resolve(l).then((function(t){f.value=t,a(f)}),(function(t){return n("throw",t,a,c)}))}c(s.arg)}var o;u(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}})}function k(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return R()}for(n.method=o,n.arg=i;;){var u=n.delegate;if(u){var a=_(u,n);if(a){if(a===p)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=m(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===p)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function _(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator["return"]&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=m(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function A(t){if(t){var e=t[c];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(i.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return r.next=r}}return{next:R}}function R(){return{value:void 0,done:!0}}return v.prototype=h,u(w,"constructor",{value:h,configurable:!0}),u(h,"constructor",{value:v,configurable:!0}),v.displayName=l(h,f,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,l(t,f,"GeneratorFunction")),t.prototype=Object.create(w),t},e.awrap=function(t){return{__await:t}},C(S.prototype),l(S.prototype,s,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var u=new S(d(t,n,r,o),i);return e.isGeneratorFunction(n)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},C(w),l(w,f,"Generator"),l(w,c,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=A,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,r){return u.type="throw",u.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],u=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var a=i.call(o,"catchLoc"),c=i.call(o,"finallyLoc");if(a&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var u=o?o.completion:{};return u.type=t,u.arg=e,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(u)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;O(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:A(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}t.exports=o,t.exports.__esModule=!0,t.exports["default"]=t.exports},1551:function(t,e,n){var r=n(2384),o=n(2628),i=n(7979),u=n(2795);function a(t,e){return r(t)||o(t,e)||i(t,e)||u()}t.exports=a,t.exports.__esModule=!0,t.exports["default"]=t.exports},4573:function(t,e,n){var r=n(2384),o=n(1933),i=n(7979),u=n(2795);function a(t){return r(t)||o(t)||i(t)||u()}t.exports=a,t.exports.__esModule=!0,t.exports["default"]=t.exports},4982:function(t,e,n){var r=n(4024),o=n(1933),i=n(7979),u=n(5141);function a(t){return r(t)||o(t)||i(t)||u()}t.exports=a,t.exports.__esModule=!0,t.exports["default"]=t.exports},6857:function(t,e,n){n(6649),n(6078),n(2526),n(1817),n(1539),n(1703),n(6647),n(9653);var r=n(1692)["default"];function o(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!==r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}t.exports=o,t.exports.__esModule=!0,t.exports["default"]=t.exports},2944:function(t,e,n){var r=n(1692)["default"],o=n(6857);function i(t){var e=o(t,"string");return"symbol"===r(e)?e:String(e)}t.exports=i,t.exports.__esModule=!0,t.exports["default"]=t.exports},1692:function(t,e,n){function r(e){return t.exports=r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports["default"]=t.exports,r(e)}n(2526),n(1817),n(1539),n(2165),n(8783),n(3948),t.exports=r,t.exports.__esModule=!0,t.exports["default"]=t.exports},7979:function(t,e,n){n(7042),n(1539),n(8309),n(1038),n(8783),n(4916),n(7601);var r=n(2419);function o(t,e){if(t){if("string"===typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}t.exports=o,t.exports.__esModule=!0,t.exports["default"]=t.exports}}]);