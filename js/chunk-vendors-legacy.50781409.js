(self["webpackChunktinymce6_vue"]=self["webpackChunktinymce6_vue"]||[]).push([[998],{396:function(t,e,n){"use strict";n.d(e,{Z:function(){return O}});var r=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],o=function(t){return-1!==r.map((function(t){return t.toLowerCase()})).indexOf(t.toLowerCase())},i=function(t,e,n){Object.keys(e).filter(o).forEach((function(r){var o=e[r];"function"===typeof o&&("onInit"===r?o(t,n):n.on(r.substring(2),(function(t){return o(t,n)})))}))},a=function(t,e){var n=t.$props.modelEvents?t.$props.modelEvents:null,r=Array.isArray(n)?n.join(" "):n;e.on(r||"change input undo redo",(function(){t.$emit("input",e.getContent({format:t.$props.outputFormat}))}))},u=function(t,e,n){var r=e.$props.value?e.$props.value:"",o=e.$props.initialValue?e.$props.initialValue:"";n.setContent(r||(e.initialized?e.cache:o)),e.$watch("value",(function(t,r){n&&"string"===typeof t&&t!==r&&t!==n.getContent({format:e.$props.outputFormat})&&n.setContent(t)})),e.$listeners.input&&a(e,n),i(t,e.$listeners,n),e.initialized=!0},c=0,s=function(t){var e=Date.now(),n=Math.floor(1e9*Math.random());return c++,t+"_"+n+c+String(e)},l=function(t){return null!==t&&"textarea"===t.tagName.toLowerCase()},f=function(t){return"undefined"===typeof t||""===t?[]:Array.isArray(t)?t:t.split(" ")},d=function(t,e){return f(t).concat(f(e))},p=function(t){return null===t||void 0===t},m=function(){return{listeners:[],scriptId:s("tiny-script"),scriptLoaded:!1}},h=function(){var t=m(),e=function(t,e,n,r){var o=e.createElement("script");o.referrerPolicy="origin",o.type="application/javascript",o.id=t,o.src=n;var i=function(){o.removeEventListener("load",i),r()};o.addEventListener("load",i),e.head&&e.head.appendChild(o)},n=function(n,r,o){t.scriptLoaded?o():(t.listeners.push(o),n.getElementById(t.scriptId)||e(t.scriptId,n,r,(function(){t.listeners.forEach((function(t){return t()})),t.scriptLoaded=!0})))},r=function(){t=m()};return{load:n,reinitialize:r}},v=h(),g=function(){return"undefined"!==typeof window?window:n.g},b=function(){var t=g();return t&&t.tinymce?t.tinymce:null},y={apiKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],value:String,disabled:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(t){return"html"===t||"text"===t}}},x=function(){return x=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},x.apply(this,arguments)},w=function(t,e,n){return t(n||"div",{attrs:{id:e}})},_=function(t,e){return t("textarea",{attrs:{id:e},style:{visibility:"hidden"}})},C=function(t){return function(){var e=x(x({},t.$props.init),{readonly:t.$props.disabled,selector:"#"+t.elementId,plugins:d(t.$props.init&&t.$props.init.plugins,t.$props.plugins),toolbar:t.$props.toolbar||t.$props.init&&t.$props.init.toolbar,inline:t.inlineEditor,setup:function(e){t.editor=e,e.on("init",(function(n){return u(n,t,e)})),t.$props.init&&"function"===typeof t.$props.init.setup&&t.$props.init.setup(e)}});l(t.element)&&(t.element.style.visibility="",t.element.style.display=""),b().init(e)}},k={props:y,created:function(){this.elementId=this.$props.id||s("tiny-vue"),this.inlineEditor=this.$props.init&&this.$props.init.inline||this.$props.inline,this.initialized=!1},watch:{disabled:function(){this.editor.setMode(this.disabled?"readonly":"design")}},mounted:function(){if(this.element=this.$el,null!==b())C(this)();else if(this.element&&this.element.ownerDocument){var t=this.$props.cloudChannel?this.$props.cloudChannel:"5",e=this.$props.apiKey?this.$props.apiKey:"no-api-key",n=p(this.$props.tinymceScriptSrc)?"https://cdn.tiny.cloud/1/"+e+"/tinymce/"+t+"/tinymce.min.js":this.$props.tinymceScriptSrc;v.load(this.element.ownerDocument,n,C(this))}},beforeDestroy:function(){null!==b()&&b().remove(this.editor)},deactivated:function(){var t;this.inlineEditor||(this.cache=this.editor.getContent(),null===(t=b())||void 0===t||t.remove(this.editor))},activated:function(){!this.inlineEditor&&this.initialized&&C(this)()},render:function(t){return this.inlineEditor?w(t,this.elementId,this.$props.tagName):_(t,this.elementId)}},O=k},1001:function(t,e,n){"use strict";function r(t,e,n,r,o,i,a,u){var c,s="function"===typeof t?t.options:t;if(e&&(s.render=e,s.staticRenderFns=n,s._compiled=!0),r&&(s.functional=!0),i&&(s._scopeId="data-v-"+i),a?(c=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},s._ssrRegister=c):o&&(c=u?function(){o.call(this,(s.functional?this.parent:this).$root.$options.shadowRoot)}:o),c)if(s.functional){s._injectStyles=c;var l=s.render;s.render=function(t,e){return c.call(e),l(t,e)}}else{var f=s.beforeCreate;s.beforeCreate=f?[].concat(f,c):[c]}return{exports:t,options:s}}n.d(e,{Z:function(){return r}})},604:function(t,e,n){n(8407)},8407:function(t,e,n){var r=n(8853)["default"],o=n(2214)["default"],i=n(4982)["default"],a=n(6728)["default"],u=n(2046)["default"],c=n(1692)["default"];n(8309),n(2222),n(1703),n(6647),n(5212),n(1539),n(7042),n(2772),n(7658),n(5069),n(2707),n(7941),n(489),n(4916),n(7601),n(1249),n(5306),n(4678),n(7327),n(1058),n(9600),n(9653),n(4765),n(4723),n(9714),n(4603),n(8450),n(8386),n(3210),n(86),n(2564),function(){"use strict";var t=tinymce.util.Tools.resolve("tinymce.ModelManager"),e=function(t,e,n){var r;return!!n(t,e.prototype)||(null===(r=t.constructor)||void 0===r?void 0:r.name)===e.name},n=function(t){var n=c(t);return null===t?"null":"object"===n&&Array.isArray(t)?"array":"object"===n&&e(t,String,(function(t,e){return e.isPrototypeOf(t)}))?"string":n},s=function(t){return function(e){return n(e)===t}},l=function(t){return function(e){return c(e)===t}},f=function(t){return function(e){return t===e}},d=s("string"),p=s("object"),m=s("array"),h=f(null),v=l("boolean"),g=f(void 0),b=function(t){return null===t||void 0===t},y=function(t){return!b(t)},x=l("function"),w=l("number"),_=function(){},C=function(t,e){return function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t(e.apply(null,r))}},k=function(t,e){return function(n){return t(e(n))}},O=function(t){return function(){return t}},S=function(t){return t},E=function(t,e){return t===e};function T(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];var i=n.concat(r);return t.apply(null,i)}}var A=function(t){return function(e){return!t(e)}},N=function(t){return function(){throw new Error(t)}},R=function(t){return t()},D=O(!1),P=O(!0),M=function(){function t(e,n){a(this,t),this.tag=e,this.value=n}return u(t,[{key:"fold",value:function(t,e){return this.tag?e(this.value):t()}},{key:"isSome",value:function(){return this.tag}},{key:"isNone",value:function(){return!this.tag}},{key:"map",value:function(e){return this.tag?t.some(e(this.value)):t.none()}},{key:"bind",value:function(e){return this.tag?e(this.value):t.none()}},{key:"exists",value:function(t){return this.tag&&t(this.value)}},{key:"forall",value:function(t){return!this.tag||t(this.value)}},{key:"filter",value:function(e){return!this.tag||e(this.value)?this:t.none()}},{key:"getOr",value:function(t){return this.tag?this.value:t}},{key:"or",value:function(t){return this.tag?this:t}},{key:"getOrThunk",value:function(t){return this.tag?this.value:t()}},{key:"orThunk",value:function(t){return this.tag?this:t()}},{key:"getOrDie",value:function(t){if(this.tag)return this.value;throw new Error(null!==t&&void 0!==t?t:"Called getOrDie on None")}},{key:"getOrNull",value:function(){return this.tag?this.value:null}},{key:"getOrUndefined",value:function(){return this.value}},{key:"each",value:function(t){this.tag&&t(this.value)}},{key:"toArray",value:function(){return this.tag?[this.value]:[]}},{key:"toString",value:function(){return this.tag?"some(".concat(this.value,")"):"none()"}}],[{key:"some",value:function(e){return new t(!0,e)}},{key:"none",value:function(){return t.singletonNone}},{key:"from",value:function(e){return y(e)?t.some(e):t.none()}}]),t}();M.singletonNone=new M(!1);var B=Array.prototype.slice,L=Array.prototype.indexOf,I=Array.prototype.push,j=function(t,e){return L.call(t,e)},F=function(t,e){return j(t,e)>-1},q=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n];if(e(o,n))return!0}return!1},z=function(t,e){for(var n=[],r=0;r<t;r++)n.push(e(r));return n},U=function(t,e){for(var n=t.length,r=new Array(n),o=0;o<n;o++){var i=t[o];r[o]=e(i,o)}return r},H=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n];e(o,n)}},V=function(t,e){for(var n=t.length-1;n>=0;n--){var r=t[n];e(r,n)}},W=function(t,e){for(var n=[],r=[],o=0,i=t.length;o<i;o++){var a=t[o],u=e(a,o)?n:r;u.push(a)}return{pass:n,fail:r}},$=function(t,e){for(var n=[],r=0,o=t.length;r<o;r++){var i=t[r];e(i,r)&&n.push(i)}return n},G=function(t,e,n){return V(t,(function(t,r){n=e(n,t,r)})),n},K=function(t,e,n){return H(t,(function(t,r){n=e(n,t,r)})),n},Y=function(t,e,n){for(var r=0,o=t.length;r<o;r++){var i=t[r];if(e(i,r))return M.some(i);if(n(i,r))break}return M.none()},X=function(t,e){return Y(t,e,D)},Z=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n];if(e(o,n))return M.some(n)}return M.none()},J=function(t){for(var e=[],n=0,r=t.length;n<r;++n){if(!m(t[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+t);I.apply(e,t[n])}return e},Q=function(t,e){return J(U(t,e))},tt=function(t,e){for(var n=0,r=t.length;n<r;++n){var o=t[n];if(!0!==e(o,n))return!1}return!0},et=function(t){var e=B.call(t,0);return e.reverse(),e},nt=function(t,e){for(var n={},r=0,o=t.length;r<o;r++){var i=t[r];n[String(i)]=e(i,r)}return n},rt=function(t,e){var n=B.call(t,0);return n.sort(e),n},ot=function(t,e){return e>=0&&e<t.length?M.some(t[e]):M.none()},it=function(t){return ot(t,0)},at=function(t){return ot(t,t.length-1)},ut=function(t,e){for(var n=0;n<t.length;n++){var r=e(t[n],n);if(r.isSome())return r}return M.none()},ct=Object.keys,st=Object.hasOwnProperty,lt=function(t,e){for(var n=ct(t),r=0,o=n.length;r<o;r++){var i=n[r],a=t[i];e(a,i)}},ft=function(t,e){return dt(t,(function(t,n){return{k:n,v:e(t,n)}}))},dt=function(t,e){var n={};return lt(t,(function(t,r){var o=e(t,r);n[o.k]=o.v})),n},pt=function(t){return function(e,n){t[n]=e}},mt=function(t,e,n,r){lt(t,(function(t,o){(e(t,o)?n:r)(t,o)}))},ht=function(t,e){var n={};return mt(t,e,pt(n),_),n},vt=function(t,e){var n=[];return lt(t,(function(t,r){n.push(e(t,r))})),n},gt=function(t){return vt(t,S)},bt=function(t,e){return yt(t,e)?M.from(t[e]):M.none()},yt=function(t,e){return st.call(t,e)},xt=function(t,e){return yt(t,e)&&void 0!==t[e]&&null!==t[e]},wt=function(t){for(var e in t)if(st.call(t,e))return!1;return!0},_t="undefined"!==typeof window?window:Function("return this;")(),Ct=function(t,e){for(var n=void 0!==e&&null!==e?e:_t,r=0;r<t.length&&void 0!==n&&null!==n;++r)n=n[t[r]];return n},kt=function(t,e){var n=t.split(".");return Ct(n,e)},Ot=function(t,e){return kt(t,e)},St=function(t,e){var n=Ot(t,e);if(void 0===n||null===n)throw new Error(t+" not available on this browser");return n},Et=Object.getPrototypeOf,Tt=function(t){return St("HTMLElement",t)},At=function(t){var e=kt("ownerDocument.defaultView",t);return p(t)&&(Tt(e).prototype.isPrototypeOf(t)||/^HTML\w*Element$/.test(Et(t).constructor.name))},Nt=8,Rt=9,Dt=11,Pt=1,Mt=3,Bt=function(t){var e=t.dom.nodeName;return e.toLowerCase()},Lt=function(t){return t.dom.nodeType},It=function(t){return function(e){return Lt(e)===t}},jt=function(t){return Lt(t)===Nt||"#comment"===Bt(t)},Ft=function(t){return qt(t)&&At(t.dom)},qt=It(Pt),zt=It(Mt),Ut=It(Rt),Ht=It(Dt),Vt=function(t){return function(e){return qt(e)&&Bt(e)===t}},Wt=function(t,e,n){if(!(d(n)||v(n)||w(n)))throw console.error("Invalid call to Attribute.set. Key ",e,":: Value ",n,":: Element ",t),new Error("Attribute value was not simple");t.setAttribute(e,n+"")},$t=function(t,e,n){Wt(t.dom,e,n)},Gt=function(t,e){var n=t.dom;lt(e,(function(t,e){Wt(n,e,t)}))},Kt=function(t,e){lt(e,(function(e,n){e.fold((function(){Zt(t,n)}),(function(e){Wt(t.dom,n,e)}))}))},Yt=function(t,e){var n=t.dom.getAttribute(e);return null===n?void 0:n},Xt=function(t,e){return M.from(Yt(t,e))},Zt=function(t,e){t.dom.removeAttribute(e)},Jt=function(t){return K(t.dom.attributes,(function(t,e){return t[e.name]=e.value,t}),{})},Qt=function(t,e){var n=e||document,r=n.createElement("div");if(r.innerHTML=t,!r.hasChildNodes()||r.childNodes.length>1){var o="HTML does not have a single root node";throw console.error(o,t),new Error(o)}return ne(r.childNodes[0])},te=function(t,e){var n=e||document,r=n.createElement(t);return ne(r)},ee=function(t,e){var n=e||document,r=n.createTextNode(t);return ne(r)},ne=function(t){if(null===t||void 0===t)throw new Error("Node cannot be null or undefined");return{dom:t}},re=function(t,e,n){return M.from(t.dom.elementFromPoint(e,n)).map(ne)},oe={fromHtml:Qt,fromTag:te,fromText:ee,fromDom:ne,fromPoint:re},ie=function(t,e){var n=t.dom;if(n.nodeType!==Pt)return!1;var r=n;if(void 0!==r.matches)return r.matches(e);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(e);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(e);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(e);throw new Error("Browser lacks native selectors")},ae=function(t){return t.nodeType!==Pt&&t.nodeType!==Rt&&t.nodeType!==Dt||0===t.childElementCount},ue=function(t,e){var n=void 0===e?document:e.dom;return ae(n)?[]:U(n.querySelectorAll(t),oe.fromDom)},ce=function(t,e){var n=void 0===e?document:e.dom;return ae(n)?M.none():M.from(n.querySelector(t)).map(oe.fromDom)},se=function(t,e){return t.dom===e.dom},le=function(t,e){var n=t.dom,r=e.dom;return n!==r&&n.contains(r)},fe=ie,de=function(t){return oe.fromDom(t.dom.ownerDocument)},pe=function(t){return Ut(t)?t:de(t)},me=function(t){return oe.fromDom(pe(t).dom.documentElement)},he=function(t){return oe.fromDom(pe(t).dom.defaultView)},ve=function(t){return M.from(t.dom.parentNode).map(oe.fromDom)},ge=function(t){return M.from(t.dom.parentElement).map(oe.fromDom)},be=function(t,e){var n=x(e)?e:D,r=t.dom,o=[];while(null!==r.parentNode&&void 0!==r.parentNode){var i=r.parentNode,a=oe.fromDom(i);if(o.push(a),!0===n(a))break;r=i}return o},ye=function(t){return M.from(t.dom.previousSibling).map(oe.fromDom)},xe=function(t){return M.from(t.dom.nextSibling).map(oe.fromDom)},we=function(t){return U(t.dom.childNodes,oe.fromDom)},_e=function(t,e){var n=t.dom.childNodes;return M.from(n[e]).map(oe.fromDom)},Ce=function(t){return _e(t,0)},ke=function(t,e){var n=ve(t);n.each((function(n){n.dom.insertBefore(e.dom,t.dom)}))},Oe=function(t,e){var n=xe(t);n.fold((function(){var n=ve(t);n.each((function(t){Ee(t,e)}))}),(function(t){ke(t,e)}))},Se=function(t,e){var n=Ce(t);n.fold((function(){Ee(t,e)}),(function(n){t.dom.insertBefore(e.dom,n.dom)}))},Ee=function(t,e){t.dom.appendChild(e.dom)},Te=function(t,e,n){_e(t,n).fold((function(){Ee(t,e)}),(function(t){ke(t,e)}))},Ae=function(t,e){ke(t,e),Ee(e,t)},Ne=function(t,e){H(e,(function(n,r){var o=0===r?t:e[r-1];Oe(o,n)}))},Re=function(t,e){H(e,(function(e){Ee(t,e)}))},De=function(t){t.dom.textContent="",H(we(t),(function(t){Pe(t)}))},Pe=function(t){var e=t.dom;null!==e.parentNode&&e.parentNode.removeChild(e)},Me=function(t){var e=we(t);e.length>0&&Ne(t,e),Pe(t)},Be=function(t,e){return oe.fromDom(t.dom.cloneNode(e))},Le=function(t){return Be(t,!1)},Ie=function(t){return Be(t,!0)},je=function(t,e){var n=oe.fromTag(e),r=Jt(t);return Gt(n,r),n},Fe=function(t,e){var n=je(t,e),r=we(Ie(t));return Re(n,r),n},qe=function(t,e){var n=je(t,e);Oe(t,n);var r=we(t);return Re(n,r),Pe(t),n},ze=["tfoot","thead","tbody","colgroup"],Ue=function(t){return F(ze,t)},He=function(t,e){return{rows:t,columns:e}},Ve=function(t,e){return{row:t,column:e}},We=function(t,e,n){return{element:t,rowspan:e,colspan:n}},$e=function(t,e,n,r){return{element:t,rowspan:e,colspan:n,isNew:r}},Ge=function(t,e,n,r,o,i){return{element:t,rowspan:e,colspan:n,row:r,column:o,isLocked:i}},Ke=function(t,e,n){return{element:t,cells:e,section:n}},Ye=function(t,e,n,r){return{element:t,cells:e,section:n,isNew:r}},Xe=function(t,e,n){return{element:t,isNew:e,isLocked:n}},Ze=function(t,e,n,r){return{element:t,cells:e,section:n,isNew:r}},Je=function(t,e,n,r){return{startRow:t,startCol:e,finishRow:n,finishCol:r}},Qe=function(t,e,n){return{element:t,colspan:e,column:n}},tn=function(t,e){return{element:t,columns:e}},en=function(t){return Ht(t)&&y(t.dom.host)},nn=x(Element.prototype.attachShadow)&&x(Node.prototype.getRootNode),rn=O(nn),on=nn?function(t){return oe.fromDom(t.dom.getRootNode())}:pe,an=function(t){var e=on(t);return en(e)?M.some(e):M.none()},un=function(t){return oe.fromDom(t.dom.host)},cn=function(t){if(rn()&&y(t.target)){var e=oe.fromDom(t.target);if(qt(e)&&sn(e)&&t.composed&&t.composedPath){var n=t.composedPath();if(n)return it(n)}}return M.from(t.target)},sn=function(t){return y(t.dom.shadowRoot)},ln=function t(e){var n=zt(e)?e.dom.parentNode:e.dom;if(void 0===n||null===n||null===n.ownerDocument)return!1;var r=n.ownerDocument;return an(oe.fromDom(n)).fold((function(){return r.body.contains(n)}),k(t,un))},fn=function(){return dn(oe.fromDom(document))},dn=function(t){var e=t.dom.body;if(null===e||void 0===e)throw new Error("Body is not available yet");return oe.fromDom(e)},pn=function(t,e,n){return $(be(t,n),e)},mn=function(t,e){return $(we(t),e)},hn=function t(e,n){var r=[];return H(we(e),(function(e){n(e)&&(r=r.concat([e])),r=r.concat(t(e,n))})),r},vn=function(t,e,n){return pn(t,(function(t){return ie(t,e)}),n)},gn=function(t,e){return mn(t,(function(t){return ie(t,e)}))},bn=function(t,e){return ue(e,t)},yn=function(t,e,n,r,o){return t(n,r)?M.some(n):x(o)&&o(n)?M.none():e(n,r,o)},xn=function(t,e,n){var r=t.dom,o=x(n)?n:D;while(r.parentNode){r=r.parentNode;var i=oe.fromDom(r);if(e(i))return M.some(i);if(o(i))break}return M.none()},wn=function(t,e,n){var r=function(t,e){return e(t)};return yn(r,xn,t,e,n)},_n=function(t,e){var n=function(t){return e(oe.fromDom(t))},r=X(t.dom.childNodes,n);return r.map(oe.fromDom)},Cn=function(t,e){var n=function t(n){for(var r=0;r<n.childNodes.length;r++){var o=oe.fromDom(n.childNodes[r]);if(e(o))return M.some(o);var i=t(n.childNodes[r]);if(i.isSome())return i}return M.none()};return n(t.dom)},kn=function(t,e,n){return xn(t,(function(t){return ie(t,e)}),n)},On=function(t,e){return _n(t,(function(t){return ie(t,e)}))},Sn=function(t,e){return ce(e,t)},En=function(t,e,n){var r=function(t,e){return ie(t,e)};return yn(r,kn,t,e,n)},Tn=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:E;return t.exists((function(t){return n(t,e)}))},An=function(t){for(var e=[],n=function(t){e.push(t)},r=0;r<t.length;r++)t[r].each(n);return e},Nn=function(t,e){return void 0!==t&&null!==t?e(t):M.none()},Rn=function(t,e){return t?M.some(e):M.none()},Dn=function(t,e,n){return""===e||t.length>=e.length&&t.substr(n,n+e.length)===e},Pn=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3?arguments[3]:void 0,o=t.indexOf(e,n);return-1!==o&&(!!g(r)||o+e.length<=r)},Mn=function(t,e){return Dn(t,e,0)},Bn=function(t,e){return Dn(t,e,t.length-e.length)},Ln=function(t){return function(e){return e.replace(t,"")}},In=Ln(/^\s+|\s+$/g),jn=function(t){return t.length>0},Fn=function(t){var e=parseFloat(t);return isNaN(e)?M.none():M.some(e)},qn=function(t){return void 0!==t.style&&x(t.style.getPropertyValue)},zn=function(t,e,n){if(!d(n))throw console.error("Invalid call to CSS.set. Property ",e,":: Value ",n,":: Element ",t),new Error("CSS value must be a string: "+n);qn(t)&&t.style.setProperty(e,n)},Un=function(t,e){qn(t)&&t.style.removeProperty(e)},Hn=function(t,e,n){var r=t.dom;zn(r,e,n)},Vn=function(t,e){var n=t.dom;lt(e,(function(t,e){zn(n,e,t)}))},Wn=function(t,e){var n=t.dom,r=window.getComputedStyle(n),o=r.getPropertyValue(e);return""!==o||ln(t)?o:$n(n,e)},$n=function(t,e){return qn(t)?t.style.getPropertyValue(e):""},Gn=function(t,e){var n=t.dom,r=$n(n,e);return M.from(r).filter((function(t){return t.length>0}))},Kn=function(t,e){var n=t.dom;Un(n,e),Tn(Xt(t,"style").map(In),"")&&Zt(t,"style")},Yn=function(t,e){var n=t.dom,r=e.dom;qn(n)&&qn(r)&&(r.style.cssText=n.style.cssText)},Xn=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Xt(t,e).map((function(t){return parseInt(t,10)})).getOr(n)},Zn=function(t,e){return Xn(t,e,1)},Jn=function(t){return Vt("col")(t)?Xn(t,"span",1)>1:Zn(t,"colspan")>1},Qn=function(t){return Zn(t,"rowspan")>1},tr=function(t,e){return parseInt(Wn(t,e),10)},er=O(10),nr=O(10),rr=function(t,e){return or(t,e,P)},or=function t(e,n,r){return Q(we(e),(function(e){return ie(e,n)?r(e)?[e]:[]:t(e,n,r)}))},ir=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:D;if(n(e))return M.none();if(F(t,Bt(e)))return M.some(e);var r=function(t){return ie(t,"table")||n(t)};return kn(e,t.join(","),r)},ar=function(t,e){return ir(["td","th"],t,e)},ur=function(t){return rr(t,"th,td")},cr=function(t){return ie(t,"colgroup")?gn(t,"col"):Q(fr(t),(function(t){return gn(t,"col")}))},sr=function(t,e){return En(t,"table",e)},lr=function(t){return rr(t,"tr")},fr=function(t){return sr(t).fold(O([]),(function(t){return gn(t,"colgroup")}))},dr=function(t,e){return U(t,(function(t){if("colgroup"===Bt(t)){var n=U(cr(t),(function(t){var e=Xn(t,"span",1);return We(t,1,e)}));return Ke(t,n,"colgroup")}var r=U(ur(t),(function(t){var e=Xn(t,"rowspan",1),n=Xn(t,"colspan",1);return We(t,e,n)}));return Ke(t,r,e(t))}))},pr=function(t){return ve(t).map((function(t){var e=Bt(t);return Ue(e)?e:"tbody"})).getOr("tbody")},mr=function(t){var e=lr(t),n=fr(t),r=[].concat(i(n),i(e));return dr(r,pr)},hr=function(t,e){return dr(t,(function(){return e}))},vr=function(t){var e,n=!1;return function(){if(!n){n=!0;for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];e=t.apply(null,o)}return e}},gr=function(t,e,n,r){var o=t.isiOS()&&!0===/ipad/i.test(n),i=t.isiOS()&&!o,a=t.isiOS()||t.isAndroid(),u=a||r("(pointer:coarse)"),c=o||!i&&a&&r("(min-device-width:768px)"),s=i||a&&!c,l=e.isSafari()&&t.isiOS()&&!1===/safari/i.test(n),f=!s&&!c&&!l;return{isiPad:O(o),isiPhone:O(i),isTablet:O(c),isPhone:O(s),isTouch:O(u),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:O(l),isDesktop:O(f)}},br=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r.test(e))return r}},yr=function(t,e){var n=br(t,e);if(!n)return{major:0,minor:0};var r=function(t){return Number(e.replace(n,"$"+t))};return _r(r(1),r(2))},xr=function(t,e){var n=String(e).toLowerCase();return 0===t.length?wr():yr(t,n)},wr=function(){return _r(0,0)},_r=function(t,e){return{major:t,minor:e}},Cr={nu:_r,detect:xr,unknown:wr},kr=function(t,e){return ut(e.brands,(function(e){var n=e.brand.toLowerCase();return X(t,(function(t){var e;return n===(null===(e=t.brand)||void 0===e?void 0:e.toLowerCase())})).map((function(t){return{current:t.name,version:Cr.nu(parseInt(e.version,10),0)}}))}))},Or=function(t,e){var n=String(e).toLowerCase();return X(t,(function(t){return t.search(n)}))},Sr=function(t,e){return Or(t,e).map((function(t){var n=Cr.detect(t.versionRegexes,e);return{current:t.name,version:n}}))},Er=function(t,e){return Or(t,e).map((function(t){var n=Cr.detect(t.versionRegexes,e);return{current:t.name,version:n}}))},Tr=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Ar=function(t){return function(e){return Pn(e,t)}},Nr=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(t){return Pn(t,"edge/")&&Pn(t,"chrome")&&Pn(t,"safari")&&Pn(t,"applewebkit")}},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Tr],search:function(t){return Pn(t,"chrome")&&!Pn(t,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(t){return Pn(t,"msie")||Pn(t,"trident")}},{name:"Opera",versionRegexes:[Tr,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Ar("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Ar("firefox")},{name:"Safari",versionRegexes:[Tr,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(t){return(Pn(t,"safari")||Pn(t,"mobile/"))&&Pn(t,"applewebkit")}}],Rr=[{name:"Windows",search:Ar("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(t){return Pn(t,"iphone")||Pn(t,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Ar("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Ar("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Ar("linux"),versionRegexes:[]},{name:"Solaris",search:Ar("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Ar("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Ar("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Dr={browsers:O(Nr),oses:O(Rr)},Pr="Edge",Mr="Chromium",Br="IE",Lr="Opera",Ir="Firefox",jr="Safari",Fr=function(){return qr({current:void 0,version:Cr.unknown()})},qr=function(t){var e=t.current,n=t.version,r=function(t){return function(){return e===t}};return{current:e,version:n,isEdge:r(Pr),isChromium:r(Mr),isIE:r(Br),isOpera:r(Lr),isFirefox:r(Ir),isSafari:r(jr)}},zr={unknown:Fr,nu:qr,edge:O(Pr),chromium:O(Mr),ie:O(Br),opera:O(Lr),firefox:O(Ir),safari:O(jr)},Ur="Windows",Hr="iOS",Vr="Android",Wr="Linux",$r="macOS",Gr="Solaris",Kr="FreeBSD",Yr="ChromeOS",Xr=function(){return Zr({current:void 0,version:Cr.unknown()})},Zr=function(t){var e=t.current,n=t.version,r=function(t){return function(){return e===t}};return{current:e,version:n,isWindows:r(Ur),isiOS:r(Hr),isAndroid:r(Vr),isMacOS:r($r),isLinux:r(Wr),isSolaris:r(Gr),isFreeBSD:r(Kr),isChromeOS:r(Yr)}},Jr={unknown:Xr,nu:Zr,windows:O(Ur),ios:O(Hr),android:O(Vr),linux:O(Wr),macos:O($r),solaris:O(Gr),freebsd:O(Kr),chromeos:O(Yr)},Qr=function(t,e,n){var r=Dr.browsers(),o=Dr.oses(),i=e.bind((function(t){return kr(r,t)})).orThunk((function(){return Sr(r,t)})).fold(zr.unknown,zr.nu),a=Er(o,t).fold(Jr.unknown,Jr.nu),u=gr(a,i,t,n);return{browser:i,os:a,deviceType:u}},to={detect:Qr},eo=function(t){return window.matchMedia(t).matches},no=vr((function(){return to.detect(navigator.userAgent,M.from(navigator.userAgentData),eo)})),ro=function(){return no()},oo=function(t,e){var n=function(e,n){if(!w(n)&&!n.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+n);var r=e.dom;qn(r)&&(r.style[t]=n+"px")},r=function(n){var r=e(n);if(r<=0||null===r){var o=Wn(n,t);return parseFloat(o)||0}return r},o=r,i=function(t,e){return K(e,(function(e,n){var r=Wn(t,n),o=void 0===r?0:parseInt(r,10);return isNaN(o)?e:e+o}),0)},a=function(t,e,n){var r=i(t,n),o=e>r?e-r:0;return o};return{set:n,get:r,getOuter:o,aggregate:i,max:a}},io=function(t,e){return Fn(t).getOr(e)},ao=function(t,e,n){return io(Wn(t,e),n)},uo=function(t,e,n,r){var o=ao(t,"padding-".concat(n),0),i=ao(t,"padding-".concat(r),0),a=ao(t,"border-".concat(n,"-width"),0),u=ao(t,"border-".concat(r,"-width"),0);return e-o-i-a-u},co=function(t,e){var n=t.dom,r=n.getBoundingClientRect().width||n.offsetWidth;return"border-box"===e?r:uo(t,r,"left","right")},so=function(t){return ao(t,"height",t.dom.offsetHeight)},lo=function(t){return ao(t,"width",t.dom.offsetWidth)},fo=function(t){return co(t,"content-box")},po=oo("width",(function(t){return t.dom.offsetWidth})),mo=function(t){return po.get(t)},ho=function(t){return po.getOuter(t)},vo=fo,go=lo,bo=function(t,e,n){var r=t.cells,o=r.slice(0,e),i=r.slice(e),a=o.concat(n).concat(i);return wo(t,a)},yo=function(t,e,n){return bo(t,e,[n])},xo=function(t,e,n){var r=t.cells;r[e]=n},wo=function(t,e){return Ze(t.element,e,t.section,t.isNew)},_o=function(t,e){var n=t.cells,r=U(n,e);return Ze(t.element,r,t.section,t.isNew)},Co=function(t,e){return t.cells[e]},ko=function(t,e){return Co(t,e).element},Oo=function(t){return t.cells.length},So=function(t){var e=W(t,(function(t){return"colgroup"===t.section}));return{rows:e.fail,cols:e.pass}},Eo=function(t,e,n){var r=U(t.cells,n);return Ze(e(t.element),r,t.section,!0)},To="data-snooker-locked-cols",Ao=function(t){return Xt(t,To).bind((function(t){return M.from(t.match(/\d+/g))})).map((function(t){return nt(t,P)}))},No=function(t){var e=K(So(t).rows,(function(t,e){return H(e.cells,(function(e,n){e.isLocked&&(t[n]=!0)})),t}),{}),n=vt(e,(function(t,e){return parseInt(e,10)}));return rt(n)},Ro=function(t,e){return t+","+e},Do=function(t,e,n){return M.from(t.access[Ro(e,n)])},Po=function(t,e,n){var r=Mo(t,(function(t){return n(e,t.element)}));return r.length>0?M.some(r[0]):M.none()},Mo=function(t,e){var n=Q(t.all,(function(t){return t.cells}));return $(n,e)},Bo=function(t){var e={},n=0;return H(t.cells,(function(t){var r=t.colspan;z(r,(function(o){var i=n+o;e[i]=Qe(t.element,r,i)})),n+=r})),e},Lo=function(t){var e={},n=[],r=it(t).map((function(t){return t.element})).bind(sr),o=r.bind(Ao).getOr({}),i=0,a=0,u=0,c=W(t,(function(t){return"colgroup"===t.section})),s=c.pass,l=c.fail;H(l,(function(t){var r=[];H(t.cells,(function(t){var n=0;while(void 0!==e[Ro(u,n)])n++;for(var i=xt(o,n.toString()),c=Ge(t.element,t.rowspan,t.colspan,u,n,i),s=0;s<t.colspan;s++)for(var l=0;l<t.rowspan;l++){var f=u+l,d=n+s,p=Ro(f,d);e[p]=c,a=Math.max(a,d+1)}r.push(c)})),i++,n.push(Ke(t.element,r,t.section)),u++}));var f=at(s).map((function(t){var e=Bo(t),n=tn(t.element,gt(e));return{colgroups:[n],columns:e}})).getOrThunk((function(){return{colgroups:[],columns:{}}})),d=f.columns,p=f.colgroups,m=He(i,a);return{grid:m,access:e,all:n,columns:d,colgroups:p}},Io=function(t){var e=mr(t);return Lo(e)},jo=function(t){return Q(t.all,(function(t){return t.cells}))},Fo=function(t){return gt(t.columns)},qo=function(t){return ct(t.columns).length>0},zo=function(t,e){return M.from(t.columns[e])},Uo={fromTable:Io,generate:Lo,getAt:Do,findItem:Po,filterItems:Mo,justCells:jo,justColumns:Fo,hasColumns:qo,getColumnAt:zo},Ho=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:P,n=t.grid,r=z(n.columns,S),o=z(n.rows,S);return U(r,(function(n){var r=function(){return Q(o,(function(e){return Uo.getAt(t,e,n).filter((function(t){return t.column===n})).toArray()}))},i=function(t){return 1===t.colspan&&e(t.element)},a=function(){return Uo.getAt(t,0,n)};return Vo(r,i,a)}))},Vo=function(t,e,n){var r=t(),o=X(r,e),i=o.orThunk((function(){return M.from(r[0]).orThunk(n)}));return i.map((function(t){return t.element}))},Wo=function(t){var e=t.grid,n=z(e.rows,S),r=z(e.columns,S);return U(n,(function(e){var n=function(){return Q(r,(function(n){return Uo.getAt(t,e,n).filter((function(t){return t.row===e})).fold(O([]),(function(t){return[t]}))}))},o=function(t){return 1===t.rowspan},i=function(){return Uo.getAt(t,e,0)};return Vo(n,o,i)}))},$o=function(t,e){if(e<0||e>=t.length-1)return M.none();var n=t[e].fold((function(){var n=et(t.slice(0,e));return ut(n,(function(t,e){return t.map((function(t){return{value:t,delta:e+1}}))}))}),(function(t){return M.some({value:t,delta:0})})),r=t[e+1].fold((function(){var n=t.slice(e+1);return ut(n,(function(t,e){return t.map((function(t){return{value:t,delta:e+1}}))}))}),(function(t){return M.some({value:t,delta:1})}));return n.bind((function(t){return r.map((function(e){var n=e.delta+t.delta;return Math.abs(e.value-t.value)/n}))}))},Go=function(t,e){return function(n){return"rtl"===Ko(n)?e:t}},Ko=function(t){return"rtl"===Wn(t,"direction")?"rtl":"ltr"},Yo=oo("height",(function(t){var e=t.dom;return ln(t)?e.getBoundingClientRect().height:e.offsetHeight})),Xo=function(t){return Yo.get(t)},Zo=function(t){return Yo.getOuter(t)},Jo=so,Qo=function t(e,n){var r=function(r,o){return t(e+r,n+o)};return{left:e,top:n,translate:r}},ti=Qo,ei=function(t){var e=t.getBoundingClientRect();return ti(e.left,e.top)},ni=function(t,e){return void 0!==t?t:void 0!==e?e:0},ri=function(t){var e=t.dom.ownerDocument,n=e.body,r=e.defaultView,o=e.documentElement;if(n===t.dom)return ti(n.offsetLeft,n.offsetTop);var i=ni(null===r||void 0===r?void 0:r.pageYOffset,o.scrollTop),a=ni(null===r||void 0===r?void 0:r.pageXOffset,o.scrollLeft),u=ni(o.clientTop,n.clientTop),c=ni(o.clientLeft,n.clientLeft);return oi(t).translate(a-c,i-u)},oi=function(t){var e=t.dom,n=e.ownerDocument,r=n.body;return r===e?ti(r.offsetLeft,r.offsetTop):ln(t)?ei(e):ti(0,0)},ii=function(t,e){return{row:t,y:e}},ai=function(t,e){return{col:t,x:e}},ui=function(t){var e=ri(t);return e.left+ho(t)},ci=function(t){return ri(t).left},si=function(t,e){return ai(t,ci(e))},li=function(t,e){return ai(t,ui(e))},fi=function(t){return ri(t).top},di=function(t,e){return ii(t,fi(e))},pi=function(t,e){return ii(t,fi(e)+Zo(e))},mi=function(t,e,n){if(0===n.length)return[];var r=U(n.slice(1),(function(e,n){return e.map((function(e){return t(n,e)}))})),o=n[n.length-1].map((function(t){return e(n.length-1,t)}));return r.concat([o])},hi=function(t){return-t},vi={delta:S,positions:function(t){return mi(di,pi,t)},edge:fi},gi={delta:S,edge:ci,positions:function(t){return mi(si,li,t)}},bi={delta:hi,edge:ui,positions:function(t){return mi(li,si,t)}},yi=Go(gi,bi),xi={delta:function(t,e){return yi(e).delta(t,e)},positions:function(t,e){return yi(e).positions(t,e)},edge:function(t){return yi(t).edge(t)}},wi={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},_i=function(){var t="[0-9]+",e="[+-]?"+t,n="[eE]"+e,r="\\.",o=function(t){return"(?:".concat(t,")?")},i=["Infinity",t+r+o(t)+o(n),r+t+o(n),t+o(n)].join("|"),a="[+-]?(?:".concat(i,")");return new RegExp("^(".concat(a,")(.*)$"))}(),Ci=function(t,e){return q(e,(function(e){return q(wi[e],(function(e){return t===e}))}))},ki=function(t,e){var n=M.from(_i.exec(t));return n.bind((function(t){var n=Number(t[1]),r=t[2];return Ci(r,e)?M.some({value:n,unit:r}):M.none()}))},Oi=/(\d+(\.\d+)?)%/,Si=/(\d+(\.\d+)?)px|em/,Ei=Vt("col"),Ti=function(t,e,n){var r=ge(t).getOrThunk((function(){return dn(de(t))}));return e(t)/n(r)*100},Ai=function(t,e){Hn(t,"width",e+"px")},Ni=function(t,e){Hn(t,"width",e+"%")},Ri=function(t,e){Hn(t,"height",e+"px")},Di=function(t){return Jo(t)+"px"},Pi=function(t,e,n,r){var o=sr(t).map((function(t){var r=n(t);return Math.floor(e/100*r)})).getOr(e);return r(t,o),o},Mi=function(t,e,n,r){var o=parseFloat(t);return Bn(t,"%")&&"table"!==Bt(e)?Pi(e,o,n,r):o},Bi=function(t){var e=Di(t);return e?Mi(e,t,Xo,Ri):Xo(t)},Li=function(t,e,n){var r=n(t),o=Zn(t,e);return r/o},Ii=function(t,e){return Gn(t,e).orThunk((function(){return Xt(t,e).map((function(t){return t+"px"}))}))},ji=function(t){return Ii(t,"width")},Fi=function(t){return Ii(t,"height")},qi=function(t){return Ti(t,mo,vo)},zi=function(t){return Ei(t)?mo(t):go(t)},Ui=function(t){return Li(t,"rowspan",Bi)},Hi=function(t){var e=ji(t);return e.bind((function(t){return ki(t,["fixed","relative","empty"])}))},Vi=function(t,e,n){Hn(t,"width",e+n)},Wi=function(t){return mo(t)+"px"},$i=function(t){return Ti(t,mo,vo)+"%"},Gi=function(t){return ji(t).exists((function(t){return Oi.test(t)}))},Ki=function(t){return ji(t).exists((function(t){return Si.test(t)}))},Yi=function(t){return ji(t).isNone()},Xi=O(Oi),Zi=Vt("col"),Ji=function(t){return ji(t).getOrThunk((function(){return zi(t)+"px"}))},Qi=function(t){return Fi(t).getOrThunk((function(){return Ui(t)+"px"}))},ta=function(t){return U(Uo.justColumns(t),(function(t){return M.from(t.element)}))},ea=function(t){var e=ro().browser,n=e.isChromium()||e.isFirefox();return!Zi(t)||n},na=function(t,e,n,r,o,i){return t.filter(r).fold((function(){return i($o(n,e))}),(function(t){return o(t)}))},ra=function(t,e,n,r){var o=Ho(t),i=Uo.hasColumns(t)?ta(t):o,a=[M.some(xi.edge(e))].concat(U(xi.positions(o,e),(function(t){return t.map((function(t){return t.x}))}))),u=A(Jn);return U(i,(function(t,e){return na(t,e,a,u,(function(t){if(ea(t))return n(t);var i=Nn(o[e],S);return na(i,e,a,u,(function(t){return r(M.some(mo(t)))}),r)}),r)}))},oa=function(t){return t.map((function(t){return t+"px"})).getOr("")},ia=function(t,e){return ra(t,e,Ji,oa)},aa=function(t,e,n){return ra(t,e,qi,(function(t){return t.fold((function(){return n.minCellWidth()}),(function(t){return t/n.pixelWidth()*100}))}))},ua=function(t,e,n){return ra(t,e,zi,(function(t){return t.getOrThunk(n.minCellWidth)}))},ca=function(t,e,n,r,o){var i=Wo(t),a=[M.some(n.edge(e))].concat(U(n.positions(i,e),(function(t){return t.map((function(t){return t.y}))})));return U(i,(function(t,e){return na(t,e,a,A(Qn),r,o)}))},sa=function(t,e,n){return ca(t,e,n,Ui,(function(t){return t.getOrThunk(nr)}))},la=function(t,e,n){return ca(t,e,n,Qi,oa)},fa=function(t,e){return function(){return ln(t)?e(t):parseFloat(Gn(t,"width").getOr("0"))}},da=function(t){var e=fa(t,mo),n=O(0),r=function(e,n){return ua(e,t,n)};return{width:e,pixelWidth:e,getWidths:r,getCellDelta:n,singleColumnWidth:O([0]),minCellWidth:n,setElementWidth:_,adjustTableWidth:_,isRelative:!0,label:"none"}},pa=function(t){var e=fa(t,(function(t){return parseFloat($i(t))})),n=fa(t,mo),r=function(t){return t/n()*100},o=function(t,e){return[100-t]},i=function(){return er()/n()*100},a=function(n){var r=e(),o=n/100*r,i=r+o;Ni(t,i)},u=function(e,n){return aa(e,t,n)};return{width:e,pixelWidth:n,getWidths:u,getCellDelta:r,singleColumnWidth:o,minCellWidth:i,setElementWidth:Ni,adjustTableWidth:a,isRelative:!0,label:"percent"}},ma=function(t){var e=fa(t,mo),n=S,r=function(t,e){var n=Math.max(er(),t+e);return[n-t]},o=function(n){var r=e()+n;Ai(t,r)},i=function(e,n){return ua(e,t,n)};return{width:e,pixelWidth:e,getWidths:i,getCellDelta:n,singleColumnWidth:r,minCellWidth:er,setElementWidth:Ai,adjustTableWidth:o,isRelative:!1,label:"pixel"}},ha=function(t,e){var n=Xi().exec(e);return null!==n?pa(t):ma(t)},va=function(t){var e=ji(t);return e.fold((function(){return da(t)}),(function(e){return ha(t,e)}))},ga={getTableSize:va,pixelSize:ma,percentageSize:pa,noneSize:da},ba=function(t,e,n,r,o,i){return{minRow:t,minCol:e,maxRow:n,maxCol:r,allCells:o,selectedCells:i}},ya=function(t,e){var n=t.grid.columns,r=t.grid.rows,o=r,i=n,a=0,u=0,c=[],s=[];return lt(t.access,(function(t){if(c.push(t),e(t)){s.push(t);var n=t.row,r=n+t.rowspan-1,l=t.column,f=l+t.colspan-1;n<o?o=n:r>a&&(a=r),l<i?i=l:f>u&&(u=f)}})),ba(o,i,a,u,c,s)},xa=function(t,e,n){var r=t[n].element,o=oe.fromTag("td");Ee(o,oe.fromTag("br"));var i=e?Ee:Se;i(r,o)},wa=function(t,e,n,r){for(var o=$(t,(function(t){return"colgroup"!==t.section})),i=e.grid.columns,a=e.grid.rows,u=0;u<a;u++)for(var c=!1,s=0;s<i;s++)if(!(u<n.minRow||u>n.maxRow||s<n.minCol||s>n.maxCol)){var l=Uo.getAt(e,u,s).filter(r).isNone();l?xa(o,c,u):c=!0}},_a=function(t,e,n,r){lt(n.columns,(function(t){(t.column<e.minCol||t.column>e.maxCol)&&Pe(t.element)}));var o=$(rr(t,"tr"),(function(t){return 0===t.dom.childElementCount}));H(o,Pe),e.minCol!==e.maxCol&&e.minRow!==e.maxRow||H(rr(t,"th,td"),(function(t){Zt(t,"rowspan"),Zt(t,"colspan")})),Zt(t,To),Zt(t,"data-snooker-col-series");var i=ga.getTableSize(t);i.adjustTableWidth(r)},Ca=function(t,e,n,r){if(0===r.minCol&&e.grid.columns===r.maxCol+1)return 0;var o=ua(e,t,n),i=K(o,(function(t,e){return t+e}),0),a=K(o.slice(r.minCol,r.maxCol+1),(function(t,e){return t+e}),0),u=a/i*n.pixelWidth(),c=u-n.pixelWidth();return n.getCellDelta(c)},ka=function(t,e){var n=function(t){return ie(t.element,e)},r=Ie(t),o=mr(r),i=ga.getTableSize(t),a=Uo.generate(o),u=ya(a,n),c="th:not("+e+"),td:not("+e+")",s=or(r,"th,td",(function(t){return ie(t,c)}));H(s,Pe),wa(o,a,u,n);var l=Uo.fromTable(t),f=Ca(t,l,i,u);return _a(r,u,a,f),r},Oa=" ",Sa=function(t,e){var n=function(n){if(!t(n))throw new Error("Can only get "+e+" value of a "+e+" node");return r(n).getOr("")},r=function(e){return t(e)?M.from(e.dom.nodeValue):M.none()},o=function(n,r){if(!t(n))throw new Error("Can only set raw "+e+" value of a "+e+" node");n.dom.nodeValue=r};return{get:n,getOption:r,set:o}},Ea=Sa(zt,"text"),Ta=function(t){return Ea.get(t)},Aa=function(t){return Ea.getOption(t)},Na=function(t,e){return Ea.set(t,e)},Ra=function(t){return"img"===Bt(t)?1:Aa(t).fold((function(){return we(t).length}),(function(t){return t.length}))},Da=function(t){return Aa(t).filter((function(t){return 0!==t.trim().length||t.indexOf(Oa)>-1})).isSome()},Pa=function(t){return Ft(t)&&"false"===Yt(t,"contenteditable")},Ma=["img","br"],Ba=function(t){var e=Da(t);return e||F(Ma,Bt(t))||Pa(t)},La=function(t){return Cn(t,Ba)},Ia=function(t){return ja(t,Ba)},ja=function(t,e){var n=function t(n){for(var r=we(n),o=r.length-1;o>=0;o--){var i=r[o];if(e(i))return M.some(i);var a=t(i);if(a.isSome())return a}return M.none()};return n(t)},Fa={scope:["row","col"]},qa=function(t){return function(){var e=oe.fromTag("td",t.dom);return Ee(e,oe.fromTag("br",t.dom)),e}},za=function(t){return function(){return oe.fromTag("col",t.dom)}},Ua=function(t){return function(){return oe.fromTag("colgroup",t.dom)}},Ha=function(t){return function(){return oe.fromTag("tr",t.dom)}},Va=function(t,e,n){var r=Fe(t,e);return lt(n,(function(t,e){null===t?Zt(r,e):$t(r,e,t)})),r},Wa=function(t){return t},$a=function(t,e,n){var r=La(t);return r.map((function(r){var o=n.join(","),i=vn(r,o,(function(e){return se(e,t)}));return G(i,(function(t,e){var n=Le(e);return Ee(t,n),n}),e)})).getOr(e)},Ga=function(t,e){lt(Fa,(function(n,r){return Xt(t,r).filter((function(t){return F(n,t)})).each((function(t){return $t(e,r,t)}))}))},Ka=function(t,e,n){var r=function(t,e){Yn(t.element,e),Kn(e,"height"),1!==t.colspan&&Kn(e,"width")},o=function(o){var i=oe.fromTag(Bt(o.element),e.dom),a=n.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),u=a.length>0?$a(o.element,i,a):i;return Ee(u,oe.fromTag("br")),r(o,i),Ga(o.element,i),t(o.element,i),i},i=function(n){var o=oe.fromTag(Bt(n.element),e.dom);return r(n,o),t(n.element,o),o};return{col:i,colgroup:Ua(e),row:Ha(e),cell:o,replace:Va,colGap:za(e),gap:qa(e)}},Ya=function(t){return{col:za(t),colgroup:Ua(t),row:Ha(t),cell:qa(t),replace:Wa,colGap:za(t),gap:qa(t)}},Xa=function(t,e){var n=e||document,r=n.createElement("div");return r.innerHTML=t,we(oe.fromDom(r))},Za=function(t){return U(t,oe.fromDom)},Ja=function(t){return En(t,"[contenteditable]")},Qa=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return ln(t)?t.dom.isContentEditable:Ja(t).fold(O(e),(function(t){return"true"===tu(t)}))},tu=function(t){return t.dom.contentEditable},eu=function(t){return oe.fromDom(t.getBody())},nu=function(t){return function(e){return se(e,eu(t))}},ru=function(t){Zt(t,"data-mce-style");var e=function(t){return Zt(t,"data-mce-style")};H(ur(t),e),H(cr(t),e),H(lr(t),e)},ou=function(t){return oe.fromDom(t.selection.getStart())},iu=function(t){return t.getBoundingClientRect().width},au=function(t){return t.getBoundingClientRect().height},uu=function(t,e){var n=t.dom.getStyle(e,"width")||t.dom.getAttrib(e,"width");return M.from(n).filter(jn)},cu=function(t){return/^(\d+(\.\d+)?)%$/.test(t)},su=function(t){return/^(\d+(\.\d+)?)px$/.test(t)},lu=function(t){return wn(t,Vt("table")).exists(Qa)},fu=function(t,e){var n=e.column,r=e.column+e.colspan-1,o=e.row,i=e.row+e.rowspan-1;return n<=t.finishCol&&r>=t.startCol&&o<=t.finishRow&&i>=t.startRow},du=function(t,e){return e.column>=t.startCol&&e.column+e.colspan-1<=t.finishCol&&e.row>=t.startRow&&e.row+e.rowspan-1<=t.finishRow},pu=function(t,e){for(var n=!0,r=T(du,e),o=e.startRow;o<=e.finishRow;o++)for(var i=e.startCol;i<=e.finishCol;i++)n=n&&Uo.getAt(t,o,i).exists(r);return n?M.some(e):M.none()},mu=function(t,e){return Je(Math.min(t.row,e.row),Math.min(t.column,e.column),Math.max(t.row+t.rowspan-1,e.row+e.rowspan-1),Math.max(t.column+t.colspan-1,e.column+e.colspan-1))},hu=function(t,e,n){var r=Uo.findItem(t,e,se),o=Uo.findItem(t,n,se);return r.bind((function(t){return o.map((function(e){return mu(t,e)}))}))},vu=function(t,e,n){return hu(t,e,n).bind((function(e){return pu(t,e)}))},gu=function(t,e,n,r){return Uo.findItem(t,e,se).bind((function(e){var o=n>0?e.row+e.rowspan-1:e.row,i=r>0?e.column+e.colspan-1:e.column,a=Uo.getAt(t,o+n,i+r);return a.map((function(t){return t.element}))}))},bu=function(t,e,n){return hu(t,e,n).map((function(e){var n=Uo.filterItems(t,T(fu,e));return U(n,(function(t){return t.element}))}))},yu=function(t,e){var n=function(t,e){return le(e,t)};return Uo.findItem(t,e,n).map((function(t){return t.element}))},xu=function(t,e,n){return sr(t).bind((function(r){var o=ku(r);return gu(o,t,e,n)}))},wu=function(t,e,n){var r=ku(t);return bu(r,e,n)},_u=function(t,e,n,r,o){var i=ku(t),a=se(t,n)?M.some(e):yu(i,e),u=se(t,o)?M.some(r):yu(i,r);return a.bind((function(t){return u.bind((function(e){return bu(i,t,e)}))}))},Cu=function(t,e,n){var r=ku(t);return vu(r,e,n)},ku=Uo.fromTable,Ou=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Su=function(){var t=function(t){return oe.fromDom(t.dom.cloneNode(!1))},e=function(t){return pe(t).dom},n=function(t){return!!qt(t)&&("body"===Bt(t)||F(Ou,Bt(t)))},r=function(t){return!!qt(t)&&F(["br","img","hr","input"],Bt(t))},o=function(t){return qt(t)&&"false"===Yt(t,"contenteditable")},i=function(t,e){return t.dom.compareDocumentPosition(e.dom)},a=function(t,e){var n=Jt(t);Gt(e,n)},u=function(t){var e=Bt(t);return F(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],e)},c=function(t){return qt(t)?Xt(t,"lang"):M.none()};return{up:O({selector:kn,closest:En,predicate:xn,all:be}),down:O({selector:bn,predicate:hn}),styles:O({get:Wn,getRaw:Gn,set:Hn,remove:Kn}),attrs:O({get:Yt,set:$t,remove:Zt,copyTo:a}),insert:O({before:ke,after:Oe,afterAll:Ne,append:Ee,appendAll:Re,prepend:Se,wrap:Ae}),remove:O({unwrap:Me,remove:Pe}),create:O({nu:oe.fromTag,clone:t,text:oe.fromText}),query:O({comparePosition:i,prevSibling:ye,nextSibling:xe}),property:O({children:we,name:Bt,parent:ve,document:e,isText:zt,isComment:jt,isElement:qt,isSpecial:u,getLanguage:c,getText:Ta,setText:Na,isBoundary:n,isEmptyTag:r,isNonEditable:o}),eq:se,is:fe}},Eu=function(t,e,n,r){var o=n[0],i=n.slice(1);return r(t,e,o,i)},Tu=function(t,e,n){return n.length>0?Eu(t,e,n,Au):M.none()},Au=function(t,e,n,r){var o=e(t,n);return G(r,(function(n,r){var o=e(t,r);return Nu(t,n,o)}),o)},Nu=function(t,e,n){return e.bind((function(e){return n.filter(T(t.eq,e))}))},Ru=function(t,e){return T(t.eq,e)},Du=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:D,o=[e].concat(t.up().all(e)),i=[n].concat(t.up().all(n)),a=function(t){var e=Z(t,r);return e.fold((function(){return t}),(function(e){return t.slice(0,e+1)}))},u=a(o),c=a(i),s=X(u,(function(e){return q(c,Ru(t,e))}));return{firstpath:u,secondpath:c,shared:s}},Pu=Tu,Mu=Du,Bu=Su(),Lu=function(t,e){return Pu(Bu,(function(e,n){return t(n)}),e)},Iu=function(t,e,n){return Mu(Bu,t,e,n)},ju=function(t){return kn(t,"table")},Fu=function(t,e,n){var r=function(t){return function(e){return void 0!==n&&n(e)||se(e,t)}};return se(t,e)?M.some({boxes:M.some([t]),start:t,finish:e}):ju(t).bind((function(o){return ju(e).bind((function(i){if(se(o,i))return M.some({boxes:wu(o,t,e),start:t,finish:e});if(le(o,i)){var a=vn(e,"td,th",r(o)),u=a.length>0?a[a.length-1]:e;return M.some({boxes:_u(o,t,o,e,i),start:t,finish:u})}if(le(i,o)){var c=vn(t,"td,th",r(i)),s=c.length>0?c[c.length-1]:t;return M.some({boxes:_u(i,t,o,e,i),start:t,finish:s})}return Iu(t,e).shared.bind((function(a){return En(a,"table",n).bind((function(n){var a=vn(e,"td,th",r(n)),u=a.length>0?a[a.length-1]:e,c=vn(t,"td,th",r(n)),s=c.length>0?c[c.length-1]:t;return M.some({boxes:_u(n,t,o,e,i),start:s,finish:u})}))}))}))}))},qu=function(t,e){var n=bn(t,e);return n.length>0?M.some(n):M.none()},zu=function(t,e){return X(t,(function(t){return ie(t,e)}))},Uu=function(t,e,n){return Sn(t,e).bind((function(e){return Sn(t,n).bind((function(t){return Lu(ju,[e,t]).map((function(n){return{first:e,last:t,table:n}}))}))}))},Hu=function(t,e){return kn(t,"table").bind((function(n){return Sn(n,e).bind((function(e){return Fu(e,t).bind((function(t){return t.boxes.map((function(e){return{boxes:e,start:t.start,finish:t.finish}}))}))}))}))},Vu=function(t,e,n,r,o){return zu(t,o).bind((function(t){return xu(t,e,n).bind((function(t){return Hu(t,r)}))}))},Wu=function(t,e){return qu(t,e)},$u=function(t,e,n){return Uu(t,e,n).bind((function(e){var n=function(e){return se(t,e)},r="thead,tfoot,tbody,table",o=kn(e.first,r,n),i=kn(e.last,r,n);return o.bind((function(t){return i.bind((function(n){return se(t,n)?Cu(e.table,e.first,e.last):M.none()}))}))}))},Gu=S,Ku=function(t){var e=function(t,e){return Xt(t,e).exists((function(t){return parseInt(t,10)>1}))},n=function(t){return e(t,"rowspan")||e(t,"colspan")};return t.length>0&&tt(t,n)?M.some(t):M.none()},Yu=function(t,e,n){return e.length<=1?M.none():$u(t,n.firstSelectedSelector,n.lastSelectedSelector).map((function(t){return{bounds:t,cells:e}}))},Xu="data-mce-selected",Zu="td["+Xu+"],th["+Xu+"]",Ju="["+Xu+"]",Qu="data-mce-first-selected",tc="td["+Qu+"],th["+Qu+"]",ec="data-mce-last-selected",nc="td["+ec+"],th["+ec+"]",rc=Ju,oc={selected:Xu,selectedSelector:Zu,firstSelected:Qu,firstSelectedSelector:tc,lastSelected:ec,lastSelectedSelector:nc},ic=function(t,e,n){return{element:n,mergable:Yu(e,t,oc),unmergable:Ku(t),selection:Gu(t)}},ac=function(t,e,n){return{element:t,clipboard:e,generators:n}},uc=function(t,e,n,r){return{selection:Gu(t),clipboard:n,generators:r}},cc=function(t){return sr(t).bind((function(t){return Wu(t,oc.firstSelectedSelector)})).fold(O(t),(function(t){return t[0]}))},sc=function(t){return function(e,n){var r=Bt(e),o="col"===r||"colgroup"===r?cc(e):e;return En(o,t,n)}},lc=sc("th,td,caption"),fc=sc("th,td"),dc=function(t){return Za(t.model.table.getSelectedCells())},pc=function(t){return $(dc(t),(function(t){return ie(t,oc.selectedSelector)}))},mc=function(t){return sr(t[0]).map((function(t){var e=ka(t,rc);return ru(e),[e]}))},hc=function(t,e){return U(e,(function(e){return t.selection.serializer.serialize(e.dom,{})})).join("")},vc=function(t){return U(t,(function(t){return t.dom.innerText})).join("")},gc=function(t,e){t.on("BeforeGetContent",(function(e){var n=function(n){e.preventDefault(),mc(n).each((function(n){e.content="text"===e.format?vc(n):hc(t,n)}))};if(!0===e.selection){var r=pc(t);r.length>=1&&n(r)}})),t.on("BeforeSetContent",(function(n){if(!0===n.selection&&!0===n.paste){var r=dc(t);it(r).each((function(r){sr(r).each((function(o){var i=$(Xa(n.content),(function(t){return"meta"!==Bt(t)})),a=Vt("table");if(1===i.length&&a(i[0])){n.preventDefault();var u=oe.fromDom(t.getDoc()),c=Ya(u),s=ac(r,i[0],c);e.pasteCells(o,s).each((function(){t.focus()}))}}))}))}}))},bc=function(t,e){return{element:t,offset:e}},yc=function t(e,n,r){return e.property().isText(n)&&0===e.property().getText(n).trim().length||e.property().isComment(n)?r(n).bind((function(n){return t(e,n,r).orThunk((function(){return M.some(n)}))})):M.none()},xc=function(t,e){if(t.property().isText(e))return t.property().getText(e).length;var n=t.property().children(e);return n.length},wc=function t(e,n){var r=yc(e,n,e.query().prevSibling).getOr(n);if(e.property().isText(r))return bc(r,xc(e,r));var o=e.property().children(r);return o.length>0?t(e,o[o.length-1]):bc(r,xc(e,r))},_c=wc,Cc=Su(),kc=function(t){return _c(Cc,t)},Oc=function(t,e){if(!Jn(t)){var n=Hi(t);n.each((function(n){var r=n.value/2;Vi(t,r,n.unit),Vi(e,r,n.unit)}))}},Sc=function(t){return U(t,O(0))},Ec=function(t,e,n,r,o){return o(t.slice(0,e)).concat(r).concat(o(t.slice(n)))},Tc=function(t){return function(e,n,r,o){if(t(r)){var i=Math.max(o,e[n]-Math.abs(r)),a=Math.abs(i-e[n]);return r>=0?a:-a}return r}},Ac=Tc((function(t){return t<0})),Nc=Tc(P),Rc=function(){var t=function(t,e,n,r,o){var i=Ac(t,e,r,o);return Ec(t,e,n+1,[i,0],Sc)},e=function(t,e,n,r){var o=(100+n)/100,i=Math.max(r,(t[e]+n)/o);return U(t,(function(t,n){var r=n===e?i:t/o;return r-t}))},n=function(n,r,o,i,a,u){return u?e(n,r,i,a):t(n,r,o,i,a)},r=function(t,e,r,o,i,a,u){return n(t,r,o,i,a,u)},o=function(t,e){return t(e)},i=function(t,n,r,o,i,a){if(a)return e(t,r,o,i);var u=Ac(t,r,o,i);return Sc(t.slice(0,r)).concat([u])},a=function(t,e,n,r){if(r){var o=e+n,i=o/e,a=U(t,(function(t){return t/i}));return{delta:100*i-100,newSizes:a}}return{delta:n,newSizes:t}};return{resizeTable:o,clampTableDelta:Ac,calcLeftEdgeDeltas:n,calcMiddleDeltas:r,calcRightEdgeDeltas:i,calcRedestributedWidths:a}},Dc=function(){var t=function(t,e,n,r,o){var i=r>=0?n:e,a=Nc(t,i,r,o);return Ec(t,e,n+1,[a,-a],Sc)},e=function(e,n,r,o,i,a){return t(e,r,o,i,a)},n=function(t,e,n){n&&t(e)},r=function(t,e,n,r,o,i){if(i)return Sc(t);var a=r/t.length;return U(t,O(a))},o=function(t,e,n,r,o){if(o){if(n>=0)return n;var i=K(t,(function(t,e){return t+e-r}),0);return Math.max(-i,n)}return Ac(t,e,n,r)},i=function(t,e,n,r){return{delta:0,newSizes:t}};return{resizeTable:n,clampTableDelta:o,calcLeftEdgeDeltas:t,calcMiddleDeltas:e,calcRightEdgeDeltas:r,calcRedestributedWidths:i}},Pc=function(t){var e=Uo.fromTable(t);return e.grid},Mc=Vt("th"),Bc=function(t){return tt(t,(function(t){return Mc(t.element)}))},Lc=function(t,e){return t&&e?"sectionCells":t?"section":"cells"},Ic=function(t){var e="thead"===t.section,n=Tn(jc(t.cells),"th");return"tfoot"===t.section?{type:"footer"}:e||n?{type:"header",subType:Lc(e,n)}:{type:"body"}},jc=function(t){var e=$(t,(function(t){return Mc(t.element)}));return 0===e.length?M.some("td"):e.length===t.length?M.some("th"):M.none()},Fc=function(t){var e=U(t,(function(t){return Ic(t).type})),n=F(e,"header"),r=F(e,"footer");if(n||r){var o=F(e,"body");return!n||o||r?n||o||!r?M.none():M.some("footer"):M.some("header")}return M.some("body")},qc=function(t){return ut(t.all,(function(t){var e=Ic(t);return"header"===e.type?M.from(e.subType):M.none()}))},zc=function(t,e,n){return Xe(n(t.element,e),!0,t.isLocked)},Uc=function(t,e){return t.section!==e?Ze(t.element,t.cells,e,t.isNew):t},Hc=function(){return{transformRow:Uc,transformCell:function(t,e,n){var r=n(t.element,e),o="td"!==Bt(r)?qe(r,"td"):r;return Xe(o,t.isNew,t.isLocked)}}},Vc=function(){return{transformRow:Uc,transformCell:zc}},Wc=function(){return{transformRow:function(t,e){var n="thead"===e?"tbody":e;return Uc(t,n)},transformCell:zc}},$c=function(){return{transformRow:S,transformCell:zc}},Gc=function(t,e){var n=Uo.fromTable(t),r=qc(n).getOr(e);switch(r){case"section":return Hc();case"sectionCells":return Vc();case"cells":return Wc()}},Kc={getTableSectionType:Gc,section:Hc,sectionCells:Vc,cells:Wc,fallback:$c},Yc=function(t,e,n,r){n===r?Zt(t,e):$t(t,e,n)},Xc=function(t,e,n){at(gn(t,e)).fold((function(){return Se(t,n)}),(function(t){return Oe(t,n)}))},Zc=function(t,e){var n=On(t,e).getOrThunk((function(){var n=oe.fromTag(e,de(t).dom);return"thead"===e?Xc(t,"caption,colgroup",n):"colgroup"===e?Xc(t,"caption",n):Ee(t,n),n}));return De(n),n},Jc=function(t,e){var n=[],r=[],o=function(t){return U(t,(function(t){t.isNew&&n.push(t.element);var e=t.element;return De(e),H(t.cells,(function(t){t.isNew&&r.push(t.element),Yc(t.element,"colspan",t.colspan,1),Yc(t.element,"rowspan",t.rowspan,1),Ee(e,t.element)})),e}))},i=function(t){return Q(t,(function(t){return U(t.cells,(function(t){return Yc(t.element,"span",t.colspan,1),t.element}))}))},a=function(e,n){var r=Zc(t,n),a="colgroup"===n?i:o,u=a(e);Re(r,u)},u=function(e){On(t,e).each(Pe)},c=function(t,e){t.length>0?a(t,e):u(e)},s=[],l=[],f=[],d=[];return H(e,(function(t){switch(t.section){case"thead":s.push(t);break;case"tbody":l.push(t);break;case"tfoot":f.push(t);break;case"colgroup":d.push(t);break}})),c(d,"colgroup"),c(s,"thead"),c(l,"tbody"),c(f,"tfoot"),{newRows:n,newCells:r}},Qc=function(t){return U(t,(function(t){var e=Le(t.element);return H(t.cells,(function(t){var n=Ie(t.element);Yc(n,"colspan",t.colspan,1),Yc(n,"rowspan",t.rowspan,1),Ee(e,n)})),e}))},ts=function(t,e){return U(t,(function(t){return Co(t,e)}))},es=function(t,e){return t[e]},ns=function(t,e){if(0===t.length)return 0;var n=t[0],r=Z(t,(function(t){return!e(n.element,t.element)}));return r.getOr(t.length)},rs=function(t,e,n,r){var o=es(t,e),i="colgroup"===o.section,a=ns(o.cells.slice(n),r),u=i?1:ns(ts(t.slice(e),n),r);return{colspan:a,rowspan:u}},os=function(t,e){var n=U(t,(function(t){return U(t.cells,D)})),r=function(t,e,r,o){for(var i=t;i<t+r;i++)for(var a=e;a<e+o;a++)n[i][a]=!0};return U(t,(function(o,i){var a=Q(o.cells,(function(o,a){if(!1===n[i][a]){var u=rs(t,i,a,e);return r(i,a,u.rowspan,u.colspan),[$e(o.element,u.rowspan,u.colspan,o.isNew)]}return[]}));return Ye(o.element,a,o.section,o.isNew)}))},is=function(t,e,n){var r=[];H(t.colgroups,(function(o){for(var i=[],a=0;a<t.grid.columns;a++){var u=Uo.getColumnAt(t,a).map((function(t){return Xe(t.element,n,!1)})).getOrThunk((function(){return Xe(e.colGap(),!0,!1)}));i.push(u)}r.push(Ze(o.element,i,"colgroup",n))}));for(var o=0;o<t.grid.rows;o++){for(var i=[],a=0;a<t.grid.columns;a++){var u=Uo.getAt(t,o,a).map((function(t){return Xe(t.element,n,t.isLocked)})).getOrThunk((function(){return Xe(e.gap(),!0,!1)}));i.push(u)}var c=t.all[o],s=Ze(c.element,i,c.section,n);r.push(s)}return r},as=function(t,e){return is(t,e,!1)},us=function(t){return os(t,se)},cs=function(t,e){return ut(t.all,(function(t){return X(t.cells,(function(t){return se(e,t.element)}))}))},ss=function(t,e,n){var r=U(e.selection,(function(e){return ar(e).bind((function(e){return cs(t,e)})).filter(n)})),o=An(r);return Rn(o.length>0,o)},ls=function(t,e,n,r,o){return function(i,a,u,c){var s=Uo.fromTable(i),l=M.from(null===c||void 0===c?void 0:c.section).getOrThunk(Kc.fallback),f=e(s,a).map((function(e){var n=as(s,u),r=t(n,e,se,o(u),l),i=No(r.grid),a=us(r.grid);return{info:e,grid:a,cursor:r.cursor,lockedColumns:i}}));return f.bind((function(t){var e=Jc(i,t.grid),o=M.from(null===c||void 0===c?void 0:c.sizing).getOrThunk((function(){return ga.getTableSize(i)})),a=M.from(null===c||void 0===c?void 0:c.resize).getOrThunk(Dc);return n(i,t.grid,t.info,{sizing:o,resize:a,section:l}),r(i),Zt(i,To),t.lockedColumns.length>0&&$t(i,To,t.lockedColumns.join(",")),M.some({cursor:t.cursor,newRows:e.newRows,newCells:e.newCells})}))}},fs=function(t,e){return ar(e.element).bind((function(n){return cs(t,n).map((function(t){var n=o(o({},t),{},{generators:e.generators,clipboard:e.clipboard});return n}))}))},ds=function(t,e){return ss(t,e,P).map((function(t){return{cells:t,generators:e.generators,clipboard:e.clipboard}}))},ps=function(t,e){return e.mergable},ms=function(t,e){return e.unmergable},hs=function(t,e){return ss(t,e,P)},vs=function(t,e){return ss(t,e,(function(t){return!t.isLocked}))},gs=function(t,e){return cs(t,e).exists((function(t){return!t.isLocked}))},bs=function(t,e){return tt(e,(function(e){return gs(t,e)}))},ys=function(t,e){return ps(t,e).filter((function(e){return bs(t,e.cells)}))},xs=function(t,e){return ms(t,e).filter((function(e){return bs(t,e)}))},ws=function(t,e,n,r){var o=So(t).rows;if(0===o.length)return t;for(var i=e.startRow;i<=e.finishRow;i++)for(var a=e.startCol;a<=e.finishCol;a++){var u=o[i],c=Co(u,a).isLocked;xo(u,a,Xe(r(),!1,c))}return t},_s=function(t,e,n,r){for(var o=So(t).rows,i=!0,a=0;a<o.length;a++)for(var u=0;u<Oo(o[0]);u++){var c=o[a],s=Co(c,u),l=s.element,f=n(l,e);f&&!i?xo(c,u,Xe(r(),!0,s.isLocked)):f&&(i=!1)}return t},Cs=function(t,e){return K(t,(function(t,n){return q(t,(function(t){return e(t.element,n.element)}))?t:t.concat([n])}),[])},ks=function(t,e,n,r){return e>0&&e<t[0].cells.length&&H(t,(function(t){var o=t.cells[e-1],i=0,a=r();while(t.cells.length>e+i&&n(o.element,t.cells[e+i].element))xo(t,e+i,Xe(a,!0,t.cells[e+i].isLocked)),i++})),t},Os=function(t,e,n,r){var o=So(t).rows;if(e>0&&e<o.length){var i=o[e-1].cells,a=Cs(i,n);H(a,(function(t){for(var i=M.none(),a=e;a<o.length;a++)for(var u=function(e){var u=o[a],c=Co(u,e),s=n(c.element,t.element);s&&(i.isNone()&&(i=M.some(r())),i.each((function(t){xo(u,e,Xe(t,!0,c.isLocked))})))},c=0;c<Oo(o[0]);c++)u(c)}))}return t},Ss=function(t){var e=function(e){return e(t)},n=O(t),r=function(){return o},o={tag:!0,inner:t,fold:function(e,n){return n(t)},isValue:P,isError:D,map:function(e){return As.value(e(t))},mapError:r,bind:e,exists:e,forall:e,getOr:n,or:r,getOrThunk:n,orThunk:r,getOrDie:n,each:function(e){e(t)},toOptional:function(){return M.some(t)}};return o},Es=function(t){var e=function(){return n},n={tag:!1,inner:t,fold:function(e,n){return e(t)},isValue:D,isError:P,map:e,mapError:function(e){return As.error(e(t))},bind:e,exists:D,forall:P,getOr:S,or:S,getOrThunk:R,orThunk:R,getOrDie:N(String(t)),each:_,toOptional:M.none};return n},Ts=function(t,e){return t.fold((function(){return Es(e)}),Ss)},As={value:Ss,error:Es,fromOption:Ts},Ns=function(t,e,n){if(t.row>=e.length||t.column>Oo(e[0]))return As.error("invalid start address out of table bounds, row: "+t.row+", column: "+t.column);var r=e.slice(t.row),o=r[0].cells.slice(t.column),i=Oo(n[0]),a=n.length;return As.value({rowDelta:r.length-a,colDelta:o.length-i})},Rs=function(t,e){var n=Oo(t[0]),r=Oo(e[0]);return{rowDelta:0,colDelta:n-r}},Ds=function(t,e){var n=t.length,r=e.length;return{rowDelta:n-r,colDelta:0}},Ps=function(t,e,n,r){var o="colgroup"===e.section?n.col:n.cell;return z(t,(function(t){return Xe(o(),!0,r(t))}))},Ms=function(t,e,n,r){var o=t[t.length-1];return t.concat(z(e,(function(){var t="colgroup"===o.section?n.colgroup:n.row,e=Eo(o,t,S),i=Ps(e.cells.length,e,n,(function(t){return yt(r,t.toString())}));return wo(e,i)})))},Bs=function(t,e,n,r){return U(t,(function(t){var o=Ps(e,t,n,D);return bo(t,r,o)}))},Ls=function(t,e,n){return U(t,(function(t){return K(n,(function(n,r){var o=Ps(1,t,e,P)[0];return yo(n,r,o)}),t)}))},Is=function(t,e,n){var r=e.colDelta<0?Bs:S,o=e.rowDelta<0?Ms:S,i=No(t),a=Oo(t[0]),u=q(i,(function(t){return t===a-1})),c=r(t,Math.abs(e.colDelta),n,u?a-1:a),s=No(c);return o(c,Math.abs(e.rowDelta),n,nt(s,P))},js=function(t,e,n,r){var o=Co(t[e],n),i=T(r,o.element),a=t[e];return t.length>1&&Oo(a)>1&&(n>0&&i(ko(a,n-1))||n<a.cells.length-1&&i(ko(a,n+1))||e>0&&i(ko(t[e-1],n))||e<t.length-1&&i(ko(t[e+1],n)))},Fs=function(t,e,n,r,o,i){for(var a=t.row,u=t.column,c=n.length,s=Oo(n[0]),l=a+c,f=u+s+i.length,d=nt(i,P),p=a;p<l;p++)for(var m=0,h=u;h<f;h++)if(d[h])m++;else{js(e,p,h,o)&&_s(e,ko(e[p],h),o,r.cell);var v=h-u-m,g=Co(n[p-a],v),b=g.element,y=r.replace(b);xo(e[p],h,Xe(y,!0,g.isLocked))}return e},qs=function(t,e,n){var r=Oo(e[0]),o=So(e).cols.length+t.row,i=z(r-t.column,(function(e){return e+t.column})),a=X(i,(function(t){return tt(n,(function(e){return e!==t}))})).getOr(r-1);return{row:o,column:a}},zs=function(t,e,n){return $(n,(function(n){return n>=t.column&&n<=Oo(e[0])+t.column}))},Us=function(t,e,n,r,i){var a=No(e),u=qs(t,e,a),c=So(n).rows,s=zs(u,c,a),l=Ns(u,e,c);return l.map((function(t){var n=o(o({},t),{},{colDelta:t.colDelta-s.length}),a=Is(e,n,r),l=No(a),f=zs(u,c,l);return Fs(u,a,c,r,i,f)}))},Hs=function(t,e,n,r,o){ks(e,t,o,r.cell);var i=Ds(n,e),a=Is(n,i,r),u=Ds(e,a),c=Is(e,u,r);return U(c,(function(e,n){return bo(e,t,a[n].cells)}))},Vs=function(t,e,n,r,a){Os(e,t,a,r.cell);var u=No(e),c=Rs(e,n),s=o(o({},c),{},{colDelta:c.colDelta-u.length}),l=Is(e,s,r),f=So(l),d=f.cols,p=f.rows,m=No(l),h=Rs(n,e),v=o(o({},h),{},{colDelta:h.colDelta+m.length}),g=Ls(n,r,m),b=Is(g,v,r);return[].concat(i(d),i(p.slice(0,t)),i(b),i(p.slice(t,p.length)))},Ws=function(t,e,n,r){return Eo(t,(function(t){return r(t,n)}),e)},$s=function(t,e,n,r,o){var a=So(t),u=a.rows,c=a.cols,s=u.slice(0,e),l=u.slice(e),f=Ws(u[n],(function(t,n){var i=e>0&&e<u.length&&r(ko(u[e-1],n),ko(u[e],n)),a=i?Co(u[e],n):Xe(o(t.element,r),!0,t.isLocked);return a}),r,o);return[].concat(i(c),i(s),[f],i(l))},Gs=function(t,e,n,r,o,i,a){if("colgroup"!==n&&r)return Co(t,e);var u=Co(t,o);return Xe(a(u.element,i),!0,!1)},Ks=function(t,e,n,r,o){return U(t,(function(t){var i=e>0&&e<Oo(t)&&r(ko(t,e-1),ko(t,e)),a=Gs(t,e,t.section,i,n,r,o);return yo(t,e,a)}))},Ys=function(t,e){return Q(t,(function(t){var n=t.cells,r=G(e,(function(t,e){return e>=0&&e<t.length?t.slice(0,e).concat(t.slice(e+1)):t}),n);return r.length>0?[Ze(t.element,r,t.section,t.isNew)]:[]}))},Xs=function(t,e,n){var r=So(t),o=r.rows,a=r.cols;return[].concat(i(a),i(o.slice(0,e)),i(o.slice(n+1)))},Zs=function(t,e,n,r){return void 0!==ko(t[e],n)&&e>0&&r(ko(t[e-1],n),ko(t[e],n))},Js=function(t,e,n){return e>0&&n(ko(t,e-1),ko(t,e))},Qs=function(t,e,n,r){return Zs(t,e,n,r)||Js(t[e],n,r)},tl=function(t,e){var n=tt(e,S)&&Bc(t.cells);return n?P:function(t,n,r){var o=Bt(t.element);return!("th"===o&&e[r])}},el=function(t,e){var n=tt(e,S)&&Bc(t);return n?P:function(t,n,r){var o=Bt(t.element);return!("th"===o&&e[n])}},nl=function(t,e,n,r){var o=function(t){return"row"===t?Qn(e):Jn(e)},i=function(t){return o(t)?"".concat(t,"group"):t};if(t)return Mc(e)?i(n):null;if(r&&Mc(e)){var a="row"===n?"col":"row";return i(a)}return null},rl=function(t,e){return function(n,r,o){return M.some(nl(t,n.element,"col",e[o]))}},ol=function(t,e){return function(n,r){return M.some(nl(t,n.element,"row",e[r]))}},il=function(t,e,n){return Xe(n(t.element,e),!0,t.isLocked)},al=function(t,e,n,r,o,i,a){var u=function(t){return q(e,(function(e){return n(t.element,e.element)}))};return U(t,(function(t,e){return _o(t,(function(t,c){if(u(t)){var s=a(t,e,c)?o(t,n,r):t;return i(s,e,c).each((function(t){Kt(s.element,{scope:M.from(t)})})),s}return t}))}))},ul=function(t,e,n){return Q(t,(function(r,o){return Qs(t,o,e,n)?[]:[Co(r,e)]}))},cl=function(t,e,n){var r=t[e];return Q(r.cells,(function(r,o){return Qs(t,e,o,n)?[]:[r]}))},sl=function(t,e,n,r,o){var i=So(t).rows,a=Q(e,(function(t){return ul(i,t,r)})),u=U(i,(function(t){return Bc(t.cells)})),c=el(a,u),s=ol(n,u);return al(t,a,r,o,il,s,c)},ll=function(t,e,n,r,o,a,u){var c=So(t),s=c.cols,l=c.rows,f=l[e[0]],d=Q(e,(function(t){return cl(l,t,o)})),p=U(f.cells,(function(t,e){return Bc(ul(l,e,o))})),m=i(l);H(e,(function(t){m[t]=u.transformRow(l[t],n)}));var h=[].concat(i(s),i(m)),v=tl(f,p),g=rl(r,p);return al(h,d,o,a,u.transformCell,g,v)},fl=function(t,e,n,r){var o=So(t).rows,i=U(e,(function(t){return Co(o[t.row],t.column)}));return al(t,i,n,r,il,M.none,P)},dl=function(t){if(!m(t))throw new Error("cases must be an array");if(0===t.length)throw new Error("there must be at least one case");var e=[],n={};return H(t,(function(r,o){var i=ct(r);if(1!==i.length)throw new Error("one and only one name per case");var a=i[0],u=r[a];if(void 0!==n[a])throw new Error("duplicate key detected:"+a);if("cata"===a)throw new Error("cannot have a case named cata (sorry)");if(!m(u))throw new Error("case arguments must be an array");e.push(a),n[a]=function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var c=r.length;if(c!==u.length)throw new Error("Wrong number of arguments to case "+a+". Expected "+u.length+" ("+u+"), got "+c);var s=function(t){var n=ct(t);if(e.length!==n.length)throw new Error("Wrong number of arguments to match. Expected: "+e.join(",")+"\nActual: "+n.join(","));var o=tt(e,(function(t){return F(n,t)}));if(!o)throw new Error("Not all branches were specified when using match. Specified: "+n.join(", ")+"\nRequired: "+e.join(", "));return t[a].apply(null,r)};return{fold:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];if(n.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+n.length);var a=n[o];return a.apply(null,r)},match:s,log:function(t){console.log(t,{constructors:e,constructor:a,params:r})}}}})),n},pl={generate:dl},ml=pl.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}]),hl=o({},ml),vl=function(t,e){return 0===t.length?hl.none():1===t.length?hl.only(0):0===e?hl.left(0,1):e===t.length-1?hl.right(e-1,e):e>0&&e<t.length-1?hl.middle(e-1,e,e+1):hl.none()},gl=function(t,e,n,r,o){var i=t.slice(0),a=vl(t,e),u=O(U(i,O(0))),c=function(t){return r.singleColumnWidth(i[t],n)},s=function(t,e){return o.calcLeftEdgeDeltas(i,t,e,n,r.minCellWidth(),r.isRelative)},l=function(t,e,a){return o.calcMiddleDeltas(i,t,e,a,n,r.minCellWidth(),r.isRelative)},f=function(t,e){return o.calcRightEdgeDeltas(i,t,e,n,r.minCellWidth(),r.isRelative)};return a.fold(u,c,s,l,f)},bl=function(t,e,n){for(var r=0,o=t;o<e;o++)r+=void 0!==n[o]?n[o]:0;return r},yl=function(t,e){var n=Uo.justCells(t);return U(n,(function(t){var n=bl(t.column,t.column+t.colspan,e);return{element:t.element,width:n,colspan:t.colspan}}))},xl=function(t,e){var n=Uo.justColumns(t);return U(n,(function(t,n){return{element:t.element,width:e[n],colspan:t.colspan}}))},wl=function(t,e){var n=Uo.justCells(t);return U(n,(function(t){var n=bl(t.row,t.row+t.rowspan,e);return{element:t.element,height:n,rowspan:t.rowspan}}))},_l=function(t,e){return U(t.all,(function(t,n){return{element:t.element,height:e[n]}}))},Cl=function(t){return G(t,(function(t,e){return t+e}),0)},kl=function(t,e){return Uo.hasColumns(t)?xl(t,e):yl(t,e)},Ol=function(t,e,n){var r=kl(t,e);H(r,(function(t){n.setElementWidth(t.element,t.width)}))},Sl=function(t,e,n,r,o){var i=Uo.fromTable(t),a=o.getCellDelta(e),u=o.getWidths(i,o),c=n===i.grid.columns-1,s=r.clampTableDelta(u,n,a,o.minCellWidth(),c),l=gl(u,n,s,o,r),f=U(l,(function(t,e){return t+u[e]}));Ol(i,f,o),r.resizeTable(o.adjustTableWidth,s,c)},El=function(t,e,n,r){var o=Uo.fromTable(t),i=sa(o,t,r),a=U(i,(function(t,r){return n===r?Math.max(e+t,nr()):t})),u=wl(o,a),c=_l(o,a);H(c,(function(t){Ri(t.element,t.height)})),H(u,(function(t){Ri(t.element,t.height)}));var s=Cl(a);Ri(t,s)},Tl=function(t,e,n,r,o){var i=Uo.generate(e),a=r.getWidths(i,r),u=r.pixelWidth(),c=o.calcRedestributedWidths(a,u,n.pixelDelta,r.isRelative),s=c.newSizes,l=c.delta;Ol(i,s,r),r.adjustTableWidth(l)},Al=function(t,e,n,r){var o=Uo.generate(e),i=r.getWidths(o,r);Ol(o,i,r)},Nl=function(t){var e=function(t,e){var n=q(t,(function(t){return t.column===e.column}));return n?t:t.concat([e])};return K(t,e,[]).sort((function(t,e){return t.column-e.column}))},Rl=Vt("col"),Dl=Vt("colgroup"),Pl=function(t){return"tr"===Bt(t)||Dl(t)},Ml=function(t){var e=Xn(t,"colspan",1),n=Xn(t,"rowspan",1);return{element:t,colspan:e,rowspan:n}},Bl=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ml,n=function(e){return Rl(e.element)?t.col(e):t.cell(e)},r=function(e){return Dl(e.element)?t.colgroup(e):t.row(e)},o=function(t){if(Pl(t))return r({element:t});var o=t,a=n(e(o));return i=M.some({item:o,replacement:a}),a},i=M.none(),a=function(t,e){return i.fold((function(){return o(t)}),(function(n){return e(t,n.item)?n.replacement:o(t)}))};return{getOrInit:a}},Ll=function(t){return function(e){var n=[],r=function(t,e){return X(n,(function(n){return e(n.item,t)}))},o=function(r){var o="td"===t?{scope:null}:{},i=e.replace(r,t,o);return n.push({item:r,sub:i}),i},i=function(t,e){if(Pl(t)||Rl(t))return t;var n=t;return r(n,e).fold((function(){return o(n)}),(function(r){return e(t,r.item)?r.sub:o(n)}))};return{replaceOrInit:i}}},Il=function(t){return Xt(t,"scope").map((function(t){return t.substr(0,3)}))},jl=function(t){var e=function(e){var n=Il(e);return n.each((function(t){return $t(e,"scope",t)})),function(){var r=t.cell({element:e,colspan:1,rowspan:1});return Kn(r,"width"),Kn(e,"width"),n.each((function(t){return $t(r,"scope",t)})),r}},n=function(t){var e=function(){var e=An(U(t,Il));if(0===e.length)return M.none();var n=e[0],r=["row","col"],o=q(e,(function(t){return t!==n&&F(r,t)}));return o?M.none():M.from(n)};return Kn(t[0],"width"),e().fold((function(){return Zt(t[0],"scope")}),(function(e){return $t(t[0],"scope",e+"group")})),O(t[0])};return{unmerge:e,merge:n}},Fl={modification:Bl,transform:Ll,merging:jl},ql=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],zl=function(t,e){var n=t.property().name(e);return F(["ol","ul"],n)},Ul=function(t,e){var n=t.property().name(e);return F(ql,n)},Hl=function(t,e){return F(["br","img","hr","input"],t.property().name(e))},Vl=Su(),Wl=function(t){return Ul(Vl,t)},$l=function(t){return zl(Vl,t)},Gl=function(t){return Hl(Vl,t)},Kl=function(t){var e=Vt("br"),n=function(t){return tt(t,(function(t){return e(t)||zt(t)&&0===Ta(t).trim().length}))},r=function(t){return"li"===Bt(t)||xn(t,$l).isSome()},o=function(t){return xe(t).map((function(t){return!!Wl(t)||!!Gl(t)&&"img"!==Bt(t)})).getOr(!1)},i=function(t){return Ia(t).bind((function(n){var i=o(n);return ve(n).map((function(o){return!0===i||r(o)||e(n)||Wl(o)&&!se(t,o)?[]:[oe.fromTag("br")]}))})).getOr([])},a=function(){var e=Q(t,(function(t){var e=we(t);return n(e)?[]:e.concat(i(t))}));return 0===e.length?[oe.fromTag("br")]:e},u=a();De(t[0]),Re(t[0],u)},Yl=function(t){return Qa(t,!0)},Xl=function(t){var e=ur(t);0===e.length&&Pe(t)},Zl=function(t,e){return{grid:t,cursor:e}},Jl=function(t){return ut(t,(function(t){return ut(t.cells,(function(t){var e=t.element;return Rn(Yl(e),e)}))}))},Ql=function(t,e,n){var r,o,i=So(t).rows;return M.from(null===(o=null===(r=i[e])||void 0===r?void 0:r.cells[n])||void 0===o?void 0:o.element).filter(Yl).orThunk((function(){return Jl(i)}))},tf=function(t,e,n){var r=Ql(t,e,n);return Zl(t,r)},ef=function(t){var e=function(t,e){var n=q(t,(function(t){return t.row===e.row}));return n?t:t.concat([e])};return K(t,e,[]).sort((function(t,e){return t.row-e.row}))},nf=function(t,e,n,r){var o=e[0].row,i=ef(e),a=G(i,(function(t,e){var i=$s(t.grid,o,e.row+t.delta,n,r.getOrInit);return{grid:i,delta:t.delta+1}}),{grid:t,delta:0}).grid;return tf(a,o,e[0].column)},rf=function(t,e,n,r){var o=ef(e),i=o[o.length-1],a=i.row+i.rowspan,u=G(o,(function(t,e){return $s(t,a,e.row,n,r.getOrInit)}),t);return tf(u,a,e[0].column)},of=function(t,e,n,r){var o=e.details,i=Nl(o),a=i[0].column,u=G(i,(function(t,e){var o=Ks(t.grid,a,e.column+t.delta,n,r.getOrInit);return{grid:o,delta:t.delta+1}}),{grid:t,delta:0}).grid;return tf(u,o[0].row,a)},af=function(t,e,n,r){var o=e.details,i=o[o.length-1],a=i.column+i.colspan,u=Nl(o),c=G(u,(function(t,e){return Ks(t,a,e.column,n,r.getOrInit)}),t);return tf(c,o[0].row,a)},uf=function(t,e,n,r){var o=Nl(e),i=U(o,(function(t){return t.column})),a=sl(t,i,!0,n,r.replaceOrInit);return tf(a,e[0].row,e[0].column)},cf=function(t,e,n,r){var o=fl(t,e,n,r.replaceOrInit);return tf(o,e[0].row,e[0].column)},sf=function(t,e,n,r){var o=Nl(e),i=U(o,(function(t){return t.column})),a=sl(t,i,!1,n,r.replaceOrInit);return tf(a,e[0].row,e[0].column)},lf=function(t,e,n,r){var o=fl(t,e,n,r.replaceOrInit);return tf(o,e[0].row,e[0].column)},ff=function(t,e){return function(n,r,o,i,a){var u=ef(r),c=U(u,(function(t){return t.row})),s=ll(n,c,t,e,o,i.replaceOrInit,a);return tf(s,r[0].row,r[0].column)}},df=ff("thead",!0),pf=ff("tbody",!1),mf=ff("tfoot",!1),hf=function(t,e,n,r){var o=Nl(e.details),i=Ys(t,U(o,(function(t){return t.column}))),a=i.length>0?i[0].cells.length-1:0;return tf(i,o[0].row,Math.min(o[0].column,a))},vf=function(t,e,n,r){var o=ef(e),i=Xs(t,o[0].row,o[o.length-1].row),a=i.length>0?i.length-1:0;return tf(i,Math.min(e[0].row,a),e[0].column)},gf=function(t,e,n,r){var o=e.cells;Kl(o);var i=ws(t,e.bounds,n,r.merge(o));return Zl(i,M.from(o[0]))},bf=function(t,e,n,r){var o=function(t,e){return _s(t,e,n,r.unmerge(e))},i=G(e,o,t);return Zl(i,M.from(e[0]))},yf=function(t,e,n,r){var o=function(t,e){var n=Uo.fromTable(t);return is(n,e,!0)},i=o(e.clipboard,e.generators),a=Ve(e.row,e.column),u=Us(a,t,i,e.generators,n);return u.fold((function(){return Zl(t,M.some(e.element))}),(function(t){return tf(t,e.row,e.column)}))},xf=function(t,e,n){var r=hr(t,n.section),o=Uo.generate(r);return is(o,e,!0)},wf=function(t,e,n,r){var o=So(t).rows,i=e.cells[0].column,a=o[e.cells[0].row],u=xf(e.clipboard,e.generators,a),c=Hs(i,t,u,e.generators,n);return tf(c,e.cells[0].row,e.cells[0].column)},_f=function(t,e,n,r){var o=So(t).rows,i=e.cells[e.cells.length-1].column+e.cells[e.cells.length-1].colspan,a=o[e.cells[0].row],u=xf(e.clipboard,e.generators,a),c=Hs(i,t,u,e.generators,n);return tf(c,e.cells[0].row,e.cells[0].column)},Cf=function(t,e,n,r){var o=So(t).rows,i=e.cells[0].row,a=o[i],u=xf(e.clipboard,e.generators,a),c=Vs(i,t,u,e.generators,n);return tf(c,e.cells[0].row,e.cells[0].column)},kf=function(t,e,n,r){var o=So(t).rows,i=e.cells[e.cells.length-1].row+e.cells[e.cells.length-1].rowspan,a=o[e.cells[0].row],u=xf(e.clipboard,e.generators,a),c=Vs(i,t,u,e.generators,n);return tf(c,e.cells[0].row,e.cells[0].column)},Of=function(t,e){var n=Uo.fromTable(t),r=hs(n,e);return r.bind((function(t){var e=t[t.length-1],r=t[0].column,o=e.column+e.colspan,i=J(U(n.all,(function(t){return $(t.cells,(function(t){return t.column>=r&&t.column<o}))})));return jc(i)})).getOr("")},Sf=function(t,e){var n=Uo.fromTable(t),r=hs(n,e);return r.bind(jc).getOr("")},Ef=function(t,e){var n=Uo.fromTable(t),r=hs(n,e);return r.bind((function(t){var e=t[t.length-1],r=t[0].row,o=e.row+e.rowspan,i=n.all.slice(r,o);return Fc(i)})).getOr("")},Tf=function(t,e,n,r){return Al(t,e,n,r.sizing)},Af=function(t,e,n,r){return Tl(t,e,n,r.sizing,r.resize)},Nf=function(t,e){return q(e,(function(t){return 0===t.column&&t.isLocked}))},Rf=function(t,e){return q(e,(function(e){return e.column+e.colspan>=t.grid.columns&&e.isLocked}))},Df=function(t,e){var n=Ho(t),r=Nl(e);return K(r,(function(t,e){var r=n[e.column],o=r.map(ho).getOr(0);return t+o}),0)},Pf=function(t){return function(e,n){return hs(e,n).filter((function(n){var r=t?Nf:Rf;return!r(e,n)})).map((function(t){return{details:t,pixelDelta:Df(e,t)}}))}},Mf=function(t,e){return vs(t,e).map((function(e){return{details:e,pixelDelta:-Df(t,e)}}))},Bf=function(t){return function(e,n){return ds(e,n).filter((function(n){var r=t?Nf:Rf;return!r(e,n.cells)}))}},Lf=Fl.transform("th"),If=Fl.transform("td"),jf=ls(nf,hs,_,_,Fl.modification),Ff=ls(rf,hs,_,_,Fl.modification),qf=ls(of,Pf(!0),Af,_,Fl.modification),zf=ls(af,Pf(!1),Af,_,Fl.modification),Uf=ls(hf,Mf,Af,Xl,Fl.modification),Hf=ls(vf,hs,_,Xl,Fl.modification),Vf=ls(uf,vs,_,_,Lf),Wf=ls(sf,vs,_,_,If),$f=ls(df,vs,_,_,Lf),Gf=ls(pf,vs,_,_,If),Kf=ls(mf,vs,_,_,If),Yf=ls(cf,vs,_,_,Lf),Xf=ls(lf,vs,_,_,If),Zf=ls(gf,ys,Tf,_,Fl.merging),Jf=ls(bf,xs,Tf,_,Fl.merging),Qf=ls(yf,fs,Tf,_,Fl.modification),td=ls(wf,Bf(!0),_,_,Fl.modification),ed=ls(_f,Bf(!1),_,_,Fl.modification),nd=ls(Cf,ds,_,_,Fl.modification),rd=ls(kf,ds,_,_,Fl.modification),od=Of,id=Sf,ad=Ef,ud=function(t,e){return t.dispatch("NewRow",{node:e})},cd=function(t,e){return t.dispatch("NewCell",{node:e})},sd=function(t,e,n){t.dispatch("TableModified",o(o({},n),{},{table:e}))},ld=function(t,e,n,r,o){t.dispatch("TableSelectionChange",{cells:e,start:n,finish:r,otherCells:o})},fd=function(t){t.dispatch("TableSelectionClear")},dd=function(t,e,n,r,o){t.dispatch("ObjectResizeStart",{target:e,width:n,height:r,origin:o})},pd=function(t,e,n,r,o){t.dispatch("ObjectResized",{target:e,width:n,height:r,origin:o})},md={structure:!1,style:!0},hd={structure:!0,style:!1},vd={structure:!0,style:!0},gd=function(t){return function(e){return e.options.get(t)}},bd="100%",yd=function(t){var e,n=t.dom,r=null!==(e=n.getParent(t.selection.getStart(),n.isBlock))&&void 0!==e?e:t.getBody();return vo(oe.fromDom(r))+"px"},xd=function(t,e){return Dd(t)||!Md(t)?e:Rd(t)?o(o({},e),{},{width:yd(t)}):o(o({},e),{},{width:bd})},wd=function(t,e){return Dd(t)||Md(t)?e:Rd(t)?o(o({},e),{},{width:yd(t)}):o(o({},e),{},{width:bd})},_d=function(t){var e=t.options.register;e("table_clone_elements",{processor:"string[]"}),e("table_use_colgroups",{processor:"boolean",default:!0}),e("table_header_type",{processor:function(t){var e=F(["section","cells","sectionCells","auto"],t);return e?{value:t,valid:e}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),e("table_sizing_mode",{processor:"string",default:"auto"}),e("table_default_attributes",{processor:"object",default:{border:"1"}}),e("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),e("table_column_resizing",{processor:function(t){var e=F(["preservetable","resizetable"],t);return e?{value:t,valid:e}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),e("table_resize_bars",{processor:"boolean",default:!0}),e("table_style_by_css",{processor:"boolean",default:!0})},Cd=function(t){return M.from(t.options.get("table_clone_elements"))},kd=function(t){var e=t.options.get("object_resizing");return F(e.split(","),"table")},Od=gd("table_header_type"),Sd=gd("table_column_resizing"),Ed=function(t){return"preservetable"===Sd(t)},Td=function(t){return"resizetable"===Sd(t)},Ad=gd("table_sizing_mode"),Nd=function(t){return"relative"===Ad(t)},Rd=function(t){return"fixed"===Ad(t)},Dd=function(t){return"responsive"===Ad(t)},Pd=gd("table_resize_bars"),Md=gd("table_style_by_css"),Bd=function(t){var e=t.options,n=e.get("table_default_attributes");return e.isSet("table_default_attributes")?n:wd(t,n)},Ld=function(t){var e=t.options,n=e.get("table_default_styles");return e.isSet("table_default_styles")?n:xd(t,n)},Id=gd("table_use_colgroups"),jd=function(t,e){return Nd(t)?ga.percentageSize(e):Rd(t)?ga.pixelSize(e):ga.getTableSize(e)},Fd=function(t,e,n){var r=function(t){return"table"===Bt(eu(t))},o=function(e){return!r(t)||Pc(e).rows>1},i=function(e){return!r(t)||Pc(e).columns>1},a=Cd(t),u=Td(t)?_:Oc,c=function(e){switch(Od(t)){case"section":return Kc.section();case"sectionCells":return Kc.sectionCells();case"cells":return Kc.cells();default:return Kc.getTableSectionType(e,"section")}},s=function(e,r){return r.cursor.fold((function(){var r=ur(e);return it(r).filter(ln).map((function(r){n.clearSelectedCells(e.dom);var o=t.dom.createRng();return o.selectNode(r.dom),t.selection.setRng(o),$t(r,"data-mce-selected","1"),o}))}),(function(r){var o=kc(r),i=t.dom.createRng();return i.setStart(o.element.dom,o.offset),i.setEnd(o.element.dom,o.offset),t.selection.setRng(i),n.clearSelectedCells(e.dom),M.some(i)}))},l=function(n,r,o,i){return function(u,l){var f=arguments.length>2&&void 0!==arguments[2]&&arguments[2];ru(u);var d=oe.fromDom(t.getDoc()),p=Ka(o,d,a),m={sizing:jd(t,u),resize:Td(t)?Rc():Dc(),section:c(u)};return r(u)?n(u,l,p,m).bind((function(n){e.refresh(u.dom),H(n.newRows,(function(e){ud(t,e.dom)})),H(n.newCells,(function(e){cd(t,e.dom)}));var r=s(u,n);return ln(u)&&(ru(u),f||sd(t,u.dom,i)),r.map((function(t){return{rng:t,effect:i}}))})):M.none()}},f=l(Hf,o,_,hd),d=l(Uf,i,_,hd),p=l(jf,P,_,hd),m=l(Ff,P,_,hd),h=l(qf,P,u,hd),v=l(zf,P,u,hd),g=l(Zf,P,_,hd),b=l(Jf,P,_,hd),y=l(td,P,_,hd),x=l(ed,P,_,hd),w=l(nd,P,_,hd),C=l(rd,P,_,hd),k=l(Qf,P,_,vd),O=l(Yf,P,_,hd),S=l(Xf,P,_,hd),E=l(Vf,P,_,hd),T=l(Wf,P,_,hd),A=l($f,P,_,hd),N=l(Gf,P,_,hd),R=l(Kf,P,_,hd),D=id,B=od,L=ad;return{deleteRow:f,deleteColumn:d,insertRowsBefore:p,insertRowsAfter:m,insertColumnsBefore:h,insertColumnsAfter:v,mergeCells:g,unmergeCells:b,pasteColsBefore:y,pasteColsAfter:x,pasteRowsBefore:w,pasteRowsAfter:C,pasteCells:k,makeCellsHeader:O,unmakeCellsHeader:S,makeColumnsHeader:E,unmakeColumnsHeader:T,makeRowsHeader:A,makeRowsBody:N,makeRowsFooter:R,getTableRowType:L,getTableCellType:D,getTableColType:B}},qd=function(t,e,n){var r=Xn(t,e,1);1===n||r<=1?Zt(t,e):$t(t,e,Math.min(n,r))},zd=function(t,e){return function(n){var r=n.column+n.colspan-1,o=n.column;return r>=t&&o<e}},Ud=function(t,e,n){if(Uo.hasColumns(t)){var r=$(Uo.justColumns(t),zd(e,n)),o=U(r,(function(t){var r=Ie(t.element);return qd(r,"span",n-e),r})),i=oe.fromTag("colgroup");return Re(i,o),[i]}return[]},Hd=function(t,e,n){return U(t.all,(function(t){var r=$(t.cells,zd(e,n)),o=U(r,(function(t){var r=Ie(t.element);return qd(r,"colspan",n-e),r})),i=oe.fromTag("tr");return Re(i,o),i}))},Vd=function(t,e){var n=Uo.fromTable(t),r=vs(n,e);return r.map((function(t){var e=t[t.length-1],r=t[0].column,o=e.column+e.colspan,a=Ud(n,r,o),u=Hd(n,r,o);return[].concat(i(a),i(u))}))},Wd=function(t,e,n){var r=Uo.fromTable(t),i=hs(r,e);return i.bind((function(t){var e=is(r,n,!1),i=So(e).rows,a=i.slice(t[0].row,t[t.length-1].row+t[t.length-1].rowspan),u=Q(a,(function(t){var e=$(t.cells,(function(t){return!t.isLocked}));return e.length>0?[o(o({},t),{},{cells:e})]:[]})),c=us(u);return Rn(c.length>0,c)})).map((function(t){return Qc(t)}))},$d=pl.generate([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),Gd=function(t,e,n){var r=n.substring(0,n.length-t.length),o=parseFloat(r);return r===o.toString()?e(o):$d.invalid(n)},Kd=function(t){return Bn(t,"%")?Gd("%",$d.percent,t):Bn(t,"px")?Gd("px",$d.pixels,t):$d.invalid(t)},Yd=o(o({},$d),{},{from:Kd}),Xd=function(t,e){return U(t,(function(t){var n=Yd.from(t);return n.fold((function(){return t}),(function(t){var n=t/e*100;return n+"%"}),(function(t){return t+"%"}))}))},Zd=function(t,e,n){var r=n/e;return U(t,(function(t){var e=Yd.from(t);return e.fold((function(){return t}),(function(t){return t*r+"px"}),(function(t){return t/100*n+"px"}))}))},Jd=function(t,e){var n=t.fold((function(){return O("")}),(function(t){var n=t/e;return O(n+"px")}),(function(){var t=100/e;return O(t+"%")}));return z(e,n)},Qd=function(t,e,n){return t.fold((function(){return e}),(function(t){return Zd(e,n,t)}),(function(t){return Xd(e,n)}))},tp=function(t,e,n){var r=Yd.from(n),o=tt(t,(function(t){return"0px"===t}))?Jd(r,t.length):Qd(r,t,e);return op(o)},ep=function(t,e){return 0===t.length?e:G(t,(function(t,e){return Yd.from(e).fold(O(0),S,S)+t}),0)},np=function(t,e){var n=Math.floor(t);return{value:n+e,remainder:t-n}},rp=function(t,e){return Yd.from(t).fold(O(t),(function(t){return t+e+"px"}),(function(t){return t+e+"%"}))},op=function(t){if(0===t.length)return t;var e=G(t,(function(t,e){var n=Yd.from(e).fold((function(){return{value:e,remainder:0}}),(function(t){return np(t,"px")}),(function(t){return{value:t+"%",remainder:0}}));return{output:[n.value].concat(t.output),remainder:t.remainder+n.remainder}}),{output:[],remainder:0}),n=e.output;return n.slice(0,n.length-1).concat([rp(n[n.length-1],Math.round(e.remainder))])},ip=Yd.from,ap=function(t,e,n){H(e,(function(e){var r=t.slice(e.column,e.colspan+e.column),o=ep(r,er());Hn(e.element,"width",o+n)}))},up=function(t,e,n){H(e,(function(e,r){var o=ep([t[r]],er());Hn(e.element,"width",o+n)}))},cp=function(t,e,n,r){H(n,(function(e){var n=t.slice(e.row,e.rowspan+e.row),o=ep(n,nr());Hn(e.element,"height",o+r)})),H(e,(function(e,n){Hn(e.element,"height",t[n])}))},sp=function(t){return ip(t).fold(O("px"),O("px"),O("%"))},lp=function(t,e,n){var r=Uo.fromTable(t),o=r.all,i=Uo.justCells(r),a=Uo.justColumns(r);e.each((function(e){var n=sp(e),o=mo(t),u=ia(r,t),c=tp(u,o,e);Uo.hasColumns(r)?up(c,a,n):ap(c,i,n),Hn(t,"width",e)})),n.each((function(e){var n=sp(e),a=Xo(t),u=la(r,t,vi),c=tp(u,a,e);cp(c,o,i,n),Hn(t,"height",e)}))},fp=Gi,dp=Ki,pp=Yi,mp=function(t){Zt(t,"width")},hp=function(t){var e=$i(t);lp(t,M.some(e),M.none()),mp(t)},vp=function(t){var e=Wi(t);lp(t,M.some(e),M.none()),mp(t)},gp=function(t){Kn(t,"width");var e=cr(t),n=e.length>0?e:ur(t);H(n,(function(t){Kn(t,"width"),mp(t)})),mp(t)},bp={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},yp=function(){return oe.fromTag("th")},xp=function(){return oe.fromTag("td")},wp=function(){return oe.fromTag("col")},_p=function(t,e,n,r){for(var o=oe.fromTag("tr"),i=0;i<t;i++){var a=r<e||i<n?yp():xp();i<n&&$t(a,"scope","row"),r<e&&$t(a,"scope","col"),Ee(a,oe.fromTag("br")),Ee(o,a)}return o},Cp=function(t){var e=oe.fromTag("colgroup");return z(t,(function(){return Ee(e,wp())})),e},kp=function(t,e,n,r){return z(t,(function(t){return _p(e,n,r,t)}))},Op=function(t,e,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:bp,a=oe.fromTag("table"),u="cells"!==o;Vn(a,i.styles),Gt(a,i.attributes),i.colGroups&&Ee(a,Cp(e));var c=Math.min(t,n);if(u&&n>0){var s=oe.fromTag("thead");Ee(a,s);var l="sectionCells"===o?c:0,f=kp(n,e,l,r);Re(s,f)}var d=oe.fromTag("tbody");Ee(a,d);var p=u?t-c:t,m=u?0:n,h=kp(p,e,m,r);return Re(d,h),a},Sp=function(t){return t.dom.innerHTML},Ep=function(t){var e=oe.fromTag("div"),n=oe.fromDom(t.dom.cloneNode(!0));return Ee(e,n),Sp(e)},Tp=function(t,e){t.selection.select(e.dom,!0),t.selection.collapse(!0)},Ap=function(t,e){Sn(e,"td,th").each(T(Tp,t))},Np=function(t,e){H(bn(e,"tr"),(function(e){ud(t,e.dom),H(bn(e,"th,td"),(function(e){cd(t,e.dom)}))}))},Rp=function(t){return d(t)&&-1!==t.indexOf("%")},Dp=function(t,e,n,r,o){var i=Ld(t),a={styles:i,attributes:Bd(t),colGroups:Id(t)};return t.undoManager.ignore((function(){var i=Op(n,e,o,r,Od(t),a);$t(i,"data-mce-id","__mce");var u=Ep(i);t.insertContent(u),t.addVisual()})),Sn(eu(t),'table[data-mce-id="__mce"]').map((function(e){return Rd(t)?vp(e):Dd(t)?gp(e):(Nd(t)||Rp(i.width))&&hp(e),ru(e),Zt(e,"data-mce-id"),Np(t,e),Ap(t,e),e.dom})).getOrNull()},Pp=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=function(t){return w(t)&&t>0};if(o(e)&&o(n)){var i=r.headerRows||0,a=r.headerColumns||0;return Dp(t,n,e,a,i)}return console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table."),null},Mp=tinymce.util.Tools.resolve("tinymce.FakeClipboard"),Bp="x-tinymce/dom-table-",Lp=Bp+"rows",Ip=Bp+"columns",jp=function(t){var e=Mp.FakeClipboardItem(t);Mp.write([e])},Fp=function(t){var e,n=null!==(e=Mp.read())&&void 0!==e?e:[];return ut(n,(function(e){return M.from(e.getType(t))}))},qp=function(t){Fp(t).isSome()&&Mp.clear()},zp=function(t){t.fold(Hp,(function(t){return jp(r({},Lp,t))}))},Up=function(){return Fp(Lp)},Hp=function(){return qp(Lp)},Vp=function(t){t.fold($p,(function(t){return jp(r({},Ip,t))}))},Wp=function(){return Fp(Ip)},$p=function(){return qp(Ip)},Gp=function(t){return lc(ou(t),nu(t)).filter(lu)},Kp=function(t){return fc(ou(t),nu(t)).filter(lu)},Yp=function(t,e){var n=nu(t),r=function(){return Gp(t).each((function(e){sr(e,n).filter(A(n)).each((function(e){var n=oe.fromText("");if(Oe(e,n),Pe(e),t.dom.isEmpty(t.getBody()))t.setContent(""),t.selection.setCursorLocation();else{var r=t.dom.createRng();r.setStart(n.dom,0),r.setEnd(n.dom,0),t.selection.setRng(r),t.nodeChanged()}}))}))},o=function(e){return Gp(t).each((function(r){var o=Dd(t)||Rd(t)||Nd(t);o||sr(r,n).each((function(n){"relative"!==e||fp(n)?"fixed"!==e||dp(n)?"responsive"!==e||pp(n)||gp(n):vp(n):hp(n),ru(n),sd(t,n.dom,hd)}))}))},i=function(t){return sr(t,n)},a=function(e){return Kp(t).bind((function(t){return i(t).map((function(n){return e(n,t)}))}))},u=function(e,n){a((function(e){t.formatter.toggle("tableclass",{value:n},e.dom),sd(t,e.dom,md)}))},c=function(e,n){a((function(e){var r=dc(t),o=tt(r,(function(e){return t.formatter.match("tablecellclass",{value:n},e.dom)})),i=o?t.formatter.remove:t.formatter.apply;H(r,(function(t){return i("tablecellclass",{value:n},t.dom)})),sd(t,e.dom,md)}))},s=function(){Gp(t).each((function(e){sr(e,n).each((function(n){On(n,"caption").fold((function(){var e=oe.fromTag("caption");Ee(e,oe.fromText("Caption")),Te(n,e,0),t.selection.setCursorLocation(e.dom,0)}),(function(r){Vt("caption")(e)&&ce("td",n).each((function(e){return t.selection.setCursorLocation(e.dom,0)})),Pe(r)})),sd(t,n.dom,hd)}))}))},l=function(e){t.focus()},f=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return a((function(r,o){var i=ic(dc(t),r,o);e(r,i,n).each(l)}))},m=function(){return a((function(e,n){var r=ic(dc(t),e,n),o=Ka(_,oe.fromDom(t.getDoc()),M.none());return Wd(e,r,o)}))},h=function(){return a((function(e,n){var r=ic(dc(t),e,n);return Vd(e,r)}))},v=function(e,n){return n().each((function(n){var r=U(n,(function(t){return Ie(t)}));a((function(n,o){var i=Ya(oe.fromDom(t.getDoc())),a=uc(dc(t),o,r,i);e(n,a).each(l)}))}))},g=function(t){return function(e,n){return bt(n,"type").each((function(e){f(t(e),n.no_events)}))}};lt({mceTableSplitCells:function(){return f(e.unmergeCells)},mceTableMergeCells:function(){return f(e.mergeCells)},mceTableInsertRowBefore:function(){return f(e.insertRowsBefore)},mceTableInsertRowAfter:function(){return f(e.insertRowsAfter)},mceTableInsertColBefore:function(){return f(e.insertColumnsBefore)},mceTableInsertColAfter:function(){return f(e.insertColumnsAfter)},mceTableDeleteCol:function(){return f(e.deleteColumn)},mceTableDeleteRow:function(){return f(e.deleteRow)},mceTableCutCol:function(){return h().each((function(t){Vp(t),f(e.deleteColumn)}))},mceTableCutRow:function(){return m().each((function(t){zp(t),f(e.deleteRow)}))},mceTableCopyCol:function(){return h().each((function(t){return Vp(t)}))},mceTableCopyRow:function(){return m().each((function(t){return zp(t)}))},mceTablePasteColBefore:function(){return v(e.pasteColsBefore,Wp)},mceTablePasteColAfter:function(){return v(e.pasteColsAfter,Wp)},mceTablePasteRowBefore:function(){return v(e.pasteRowsBefore,Up)},mceTablePasteRowAfter:function(){return v(e.pasteRowsAfter,Up)},mceTableDelete:r,mceTableCellToggleClass:c,mceTableToggleClass:u,mceTableToggleCaption:s,mceTableSizingMode:function(t,e){return o(e)},mceTableCellType:g((function(t){return"th"===t?e.makeCellsHeader:e.unmakeCellsHeader})),mceTableColType:g((function(t){return"th"===t?e.makeColumnsHeader:e.unmakeColumnsHeader})),mceTableRowType:g((function(t){switch(t){case"header":return e.makeRowsHeader;case"footer":return e.makeRowsFooter;default:return e.makeRowsBody}}))},(function(e,n){return t.addCommand(n,e)})),t.addCommand("mceInsertTable",(function(e,n){Pp(t,n.rows,n.columns,n.options)})),t.addCommand("mceTableApplyCellStyle",(function(e,n){var r=function(t){return"tablecell"+t.toLowerCase().replace("-","")};if(p(n)){var o=$(dc(t),lu);if(0!==o.length){var a=ht(n,(function(e,n){return t.formatter.has(r(n))&&d(e)}));wt(a)||(lt(a,(function(e,n){var i=r(n);H(o,(function(n){""===e?t.formatter.remove(i,{value:null},n.dom,!0):t.formatter.apply(i,{value:e},n.dom)}))})),i(o[0]).each((function(e){return sd(t,e.dom,md)})))}}}))},Xp=function(t,e){var n=nu(t),r=function(e){return fc(ou(t)).bind((function(r){return sr(r,n).map((function(n){var o=ic(dc(t),n,r);return e(n,o)}))})).getOr("")};lt({mceTableRowType:function(){return r(e.getTableRowType)},mceTableCellType:function(){return r(e.getTableCellType)},mceTableColType:function(){return r(e.getTableColType)}},(function(e,n){return t.addQueryValueHandler(n,e)}))},Zp=pl.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Jp=function(t,e,n,r){return t.fold(e,n,r)},Qp=function(t){return t.fold(S,S,S)},tm=Zp.before,em=Zp.on,nm=Zp.after,rm={before:tm,on:em,after:nm,cata:Jp,getStart:Qp},om=function(t,e){return{selection:t,kill:e}},im={create:om},am=function(t,e){var n=t.document.createRange();return n.selectNode(e.dom),n},um=function(t,e){var n=t.document.createRange();return cm(n,e),n},cm=function(t,e){return t.selectNodeContents(e.dom)},sm=function(t,e){e.fold((function(e){t.setStartBefore(e.dom)}),(function(e,n){t.setStart(e.dom,n)}),(function(e){t.setStartAfter(e.dom)}))},lm=function(t,e){e.fold((function(e){t.setEndBefore(e.dom)}),(function(e,n){t.setEnd(e.dom,n)}),(function(e){t.setEndAfter(e.dom)}))},fm=function(t,e,n){var r=t.document.createRange();return sm(r,e),lm(r,n),r},dm=function(t,e,n,r,o){var i=t.document.createRange();return i.setStart(e.dom,n),i.setEnd(r.dom,o),i},pm=function(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom,width:t.width,height:t.height}},mm=function(t){var e=t.getClientRects(),n=e.length>0?e[0]:t.getBoundingClientRect();return n.width>0||n.height>0?M.some(n).map(pm):M.none()},hm=pl.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),vm=function(t,e,n){return e(oe.fromDom(n.startContainer),n.startOffset,oe.fromDom(n.endContainer),n.endOffset)},gm=function(t,e){return e.match({domRange:function(t){return{ltr:O(t),rtl:M.none}},relative:function(e,n){return{ltr:vr((function(){return fm(t,e,n)})),rtl:vr((function(){return M.some(fm(t,n,e))}))}},exact:function(e,n,r,o){return{ltr:vr((function(){return dm(t,e,n,r,o)})),rtl:vr((function(){return M.some(dm(t,r,o,e,n))}))}}})},bm=function(t,e){var n=e.ltr();if(n.collapsed){var r=e.rtl().filter((function(t){return!1===t.collapsed}));return r.map((function(t){return hm.rtl(oe.fromDom(t.endContainer),t.endOffset,oe.fromDom(t.startContainer),t.startOffset)})).getOrThunk((function(){return vm(t,hm.ltr,n)}))}return vm(t,hm.ltr,n)},ym=function(t,e){var n=gm(t,e);return bm(t,n)},xm=function(t,e){var n=ym(t,e);return n.match({ltr:function(e,n,r,o){var i=t.document.createRange();return i.setStart(e.dom,n),i.setEnd(r.dom,o),i},rtl:function(e,n,r,o){var i=t.document.createRange();return i.setStart(r.dom,o),i.setEnd(e.dom,n),i}})};hm.ltr,hm.rtl;var wm=function(t,e,n,r){return{start:t,soffset:e,finish:n,foffset:r}},_m={create:wm},Cm=function(t,e,n,r){return{start:rm.on(t,e),finish:rm.on(n,r)}},km={create:Cm},Om=function(t,e){var n=xm(t,e);return _m.create(oe.fromDom(n.startContainer),n.startOffset,oe.fromDom(n.endContainer),n.endOffset)},Sm=km.create,Em=function(t,e,n,r,o,i,a){return se(n,o)&&r===i?M.none():En(n,"td,th",e).bind((function(n){return En(o,"td,th",e).bind((function(r){return Tm(t,e,n,r,a)}))}))},Tm=function(t,e,n,r,o){return se(n,r)?M.none():Fu(n,r,e).bind((function(e){var r=e.boxes.getOr([]);return r.length>1?(o(t,r,e.start,e.finish),M.some(im.create(M.some(Sm(n,0,n,Ra(n))),!0))):M.none()}))},Am=function(t,e,n,r,o){var i=function(t){return o.clearBeforeUpdate(n),o.selectRange(n,t.boxes,t.start,t.finish),t.boxes};return Vu(r,t,e,o.firstSelectedSelector,o.lastSelectedSelector).map(i)},Nm=function(t,e){return{item:t,mode:e}},Rm=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Dm;return t.property().parent(e).map((function(t){return Nm(t,r)}))},Dm=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Pm;return n.sibling(t,e).map((function(t){return Nm(t,r)}))},Pm=function t(e,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t,i=e.property().children(n),a=r.first(i);return a.map((function(t){return Nm(t,o)}))},Mm=[{current:Rm,next:Dm,fallback:M.none()},{current:Dm,next:Pm,fallback:M.some(Rm)},{current:Pm,next:Pm,fallback:M.some(Dm)}],Bm=function t(e,n,r,o){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Mm,a=X(i,(function(t){return t.current===r}));return a.bind((function(r){return r.current(e,n,o,r.next).orThunk((function(){return r.fallback.bind((function(r){return t(e,n,r,o)}))}))}))},Lm=function(){var t=function(t,e){return t.query().prevSibling(e)},e=function(t){return t.length>0?M.some(t[t.length-1]):M.none()};return{sibling:t,first:e}},Im=function(){var t=function(t,e){return t.query().nextSibling(e)},e=function(t){return t.length>0?M.some(t[0]):M.none()};return{sibling:t,first:e}},jm={left:Lm,right:Im},Fm=function t(e,n,r,o,i,a){var u=Bm(e,n,o,i);return u.bind((function(n){return a(n.item)?M.none():r(n.item)?M.some(n.item):t(e,n.item,r,n.mode,i,a)}))},qm=function(t,e,n,r){return Fm(t,e,n,Dm,jm.left(),r)},zm=function(t,e,n,r){return Fm(t,e,n,Dm,jm.right(),r)},Um=function(t){return function(e){return 0===t.property().children(e).length}},Hm=function(t,e,n){return Wm(t,e,Um(t),n)},Vm=function(t,e,n){return $m(t,e,Um(t),n)},Wm=qm,$m=zm,Gm=Su(),Km=function(t,e){return Hm(Gm,t,e)},Ym=function(t,e){return Vm(Gm,t,e)},Xm=function(t,e,n){return Wm(Gm,t,e,n)},Zm=function(t,e,n){return $m(Gm,t,e,n)},Jm=function(t,e,n){return xn(t,e,n).isSome()},Qm=pl.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),th=function(t,e,n){var r=t.getRect(e),o=t.getRect(n);return o.right>r.left&&o.left<r.right},eh=function(t){return En(t,"tr")},nh=function(t,e,n,r,o,i,a){return En(r,"td,th",a).bind((function(n){return En(e,"td,th",a).map((function(e){return se(n,e)?se(r,n)&&Ra(n)===o?i(e):Qm.none("in same cell"):Lu(eh,[n,e]).fold((function(){return th(t,e,n)?Qm.success():i(e)}),(function(t){return i(e)}))}))})).getOr(Qm.none("default"))},rh=function(t,e,n,r,o){return t.fold(e,n,r,o)},oh=o(o({},Qm),{},{verify:nh,cata:rh}),ih=function(t,e,n,r){return{parent:t,children:e,element:n,index:r}},ah=function(t){return ve(t).bind((function(e){var n=we(e);return uh(n,t).map((function(r){return ih(e,n,t,r)}))}))},uh=function(t,e){return Z(t,T(se,e))},ch=Vt("br"),sh=function t(e,n,r){return n(e,r).bind((function(e){return zt(e)&&0===Ta(e).trim().length?t(e,n,r):M.some(e)}))},lh=function(t,e,n){return n.traverse(e).orThunk((function(){return sh(e,n.gather,t)})).map(n.relative)},fh=function(t,e){return _e(t,e).filter(ch).orThunk((function(){return _e(t,e-1).filter(ch)}))},dh=function(t,e,n,r){return fh(e,n).bind((function(e){return r.traverse(e).fold((function(){return sh(e,r.gather,t).map(r.relative)}),(function(t){return ah(t).map((function(t){return rm.on(t.parent,t.index)}))}))}))},ph=function(t,e,n,r){var o=ch(e)?lh(t,e,r):dh(t,e,n,r);return o.map((function(t){return{start:t,finish:t}}))},mh=function(t){return oh.cata(t,(function(t){return M.none()}),(function(){return M.none()}),(function(t){return M.some(bc(t,0))}),(function(t){return M.some(bc(t,Ra(t)))}))},hh=function(t,e){return{left:t.left,top:t.top+e,right:t.right,bottom:t.bottom+e}},vh=function(t,e){return{left:t.left,top:t.top-e,right:t.right,bottom:t.bottom-e}},gh=function(t,e,n){return{left:t.left+e,top:t.top+n,right:t.right+e,bottom:t.bottom+n}},bh=function(t){return t.top},yh=function(t){return t.bottom},xh=function(t,e,n){return n>=0&&n<Ra(e)?t.getRangedRect(e,n,e,n+1):n>0?t.getRangedRect(e,n-1,e,n):M.none()},wh=function(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom}},_h=function(t,e){return M.some(t.getRect(e))},Ch=function(t,e,n){return qt(e)?_h(t,e).map(wh):zt(e)?xh(t,e,n).map(wh):M.none()},kh=function(t,e){return qt(e)?_h(t,e).map(wh):zt(e)?t.getRangedRect(e,0,e,Ra(e)).map(wh):M.none()},Oh=5,Sh=100,Eh=pl.generate([{none:[]},{retry:["caret"]}]),Th=function(t,e){return t.left<e.left||Math.abs(e.right-t.left)<1||t.left>e.right},Ah=function(t,e,n){return wn(e,Wl).fold(D,(function(e){return kh(t,e).exists((function(t){return Th(n,t)}))}))},Nh=function(t,e,n,r,o){var i=hh(o,Oh);return Math.abs(n.bottom-r.bottom)<1||n.top>o.bottom?Eh.retry(i):n.top===o.bottom?Eh.retry(hh(o,1)):Ah(t,e,o)?Eh.retry(gh(i,Oh,0)):Eh.none()},Rh=function(t,e,n,r,o){var i=vh(o,Oh);return Math.abs(n.top-r.top)<1||n.bottom<o.top?Eh.retry(i):n.bottom===o.top?Eh.retry(vh(o,1)):Ah(t,e,o)?Eh.retry(gh(i,Oh,0)):Eh.none()},Dh={point:bh,adjuster:Rh,move:vh,gather:Km},Ph={point:yh,adjuster:Nh,move:hh,gather:Ym},Mh=function(t,e,n){return t.elementFromPoint(e,n).filter((function(t){return"table"===Bt(t)})).isSome()},Bh=function(t,e,n,r,o){return Lh(t,e,n,e.move(r,Oh),o)},Lh=function t(e,n,r,o,i){return 0===i?M.some(o):Mh(e,o.left,n.point(o))?Bh(e,n,r,o,i-1):e.situsFromPoint(o.left,n.point(o)).bind((function(a){return a.start.fold(M.none,(function(a){return kh(e,a).bind((function(u){return n.adjuster(e,a,u,r,o).fold(M.none,(function(o){return t(e,n,r,o,i-1)}))})).orThunk((function(){return M.some(o)}))}),M.none)}))},Ih=function(t,e,n){return t.point(e)>n.getInnerHeight()?M.some(t.point(e)-n.getInnerHeight()):t.point(e)<0?M.some(-t.point(e)):M.none()},jh=function(t,e,n){var r=t.move(n,Oh),o=Lh(e,t,n,r,Sh).getOr(r);return Ih(t,o,e).fold((function(){return e.situsFromPoint(o.left,t.point(o))}),(function(n){return e.scrollBy(0,n),e.situsFromPoint(o.left,t.point(o)-n)}))},Fh={tryUp:T(jh,Dh),tryDown:T(jh,Ph),getJumpSize:O(Oh)},qh=20,zh=function(t,e,n){return t.getSelection().bind((function(r){return ph(e,r.finish,r.foffset,n).fold((function(){return M.some(bc(r.finish,r.foffset))}),(function(o){var i=t.fromSitus(o),a=oh.verify(t,r.finish,r.foffset,i.finish,i.foffset,n.failure,e);return mh(a)}))}))},Uh=function t(e,n,r,o,i,a){return 0===a?M.none():Wh(e,n,r,o,i).bind((function(u){var c=e.fromSitus(u),s=oh.verify(e,r,o,c.finish,c.foffset,i.failure,n);return oh.cata(s,(function(){return M.none()}),(function(){return M.some(u)}),(function(u){return se(r,u)&&0===o?Hh(e,r,o,vh,i):t(e,n,u,0,i,a-1)}),(function(u){return se(r,u)&&o===Ra(u)?Hh(e,r,o,hh,i):t(e,n,u,Ra(u),i,a-1)}))}))},Hh=function(t,e,n,r,o){return Ch(t,e,n).bind((function(e){return Vh(t,o,r(e,Fh.getJumpSize()))}))},Vh=function(t,e,n){var r=ro().browser;return r.isChromium()||r.isSafari()||r.isFirefox()?e.retry(t,n):M.none()},Wh=function(t,e,n,r,o){return Ch(t,n,r).bind((function(e){return Vh(t,o,e)}))},$h=function(t,e,n){return zh(t,e,n).bind((function(r){return Uh(t,e,r.element,r.offset,n,qh).map(t.fromSitus)}))},Gh=function(t,e){return Jm(t,(function(t){return ve(t).exists((function(t){return se(t,e)}))}))},Kh=function(t,e,n,r,o){return En(r,"td,th",e).bind((function(r){return En(r,"table",e).bind((function(i){return Gh(o,i)?$h(t,e,n).bind((function(t){return En(t.finish,"td,th",e).map((function(e){return{start:r,finish:e,range:t}}))})):M.none()}))}))},Yh=function(t,e,n,r,o,i){return i(r,e).orThunk((function(){return Kh(t,e,n,r,o).map((function(t){var e=t.range;return im.create(M.some(Sm(e.start,e.soffset,e.finish,e.foffset)),!0)}))}))},Xh=function(t,e){return En(t,"tr",e).bind((function(t){return En(t,"table",e).bind((function(n){var r=bn(n,"tr");return se(t,r[0])?Xm(n,(function(t){return Ia(t).isSome()}),e).map((function(t){var e=Ra(t);return im.create(M.some(Sm(t,e,t,e)),!0)})):M.none()}))}))},Zh=function(t,e){return En(t,"tr",e).bind((function(t){return En(t,"table",e).bind((function(n){var r=bn(n,"tr");return se(t,r[r.length-1])?Zm(n,(function(t){return La(t).isSome()}),e).map((function(t){return im.create(M.some(Sm(t,0,t,0)),!0)})):M.none()}))}))},Jh=function(t,e,n,r,o,i,a){return Kh(t,n,r,o,i).bind((function(t){return Tm(e,n,t.start,t.finish,a)}))},Qh=function(t){var e=t,n=function(){return e},r=function(t){e=t};return{get:n,set:r}},tv=function(t){var e=Qh(M.none()),n=function(){return e.get().each(t)},r=function(){n(),e.set(M.none())},o=function(){return e.get().isSome()},i=function(){return e.get()},a=function(t){n(),e.set(M.some(t))};return{clear:r,isSet:o,get:i,set:a}},ev=function(){var t=tv(_),e=function(e){return t.get().each(e)};return o(o({},t),{},{on:e})},nv=function(t,e){return En(t,"td,th",e)},rv=function(t){return ge(t).exists(Qa)},ov=function(t,e,n,r){var o=ev(),i=o.clear,a=function(i){o.on((function(o){r.clearBeforeUpdate(e),nv(i.target,n).each((function(a){Fu(o,a,n).each((function(n){var o=n.boxes.getOr([]);if(1===o.length){var u=o[0],c="false"===tu(u),s=Tn(Ja(i.target),u,se);c&&s&&(r.selectRange(e,o,u,u),t.selectContents(u))}else o.length>1&&(r.selectRange(e,o,n.start,n.finish),t.selectContents(a))}))}))}))},u=function(t){r.clear(e),nv(t.target,n).filter(rv).each(o.set)},c=function(t){a(t)},s=function(t){a(t),i()};return{clearstate:i,mousedown:u,mouseover:c,mouseup:s}},iv={traverse:xe,gather:Ym,relative:rm.before,retry:Fh.tryDown,failure:oh.failedDown},av={traverse:ye,gather:Km,relative:rm.before,retry:Fh.tryUp,failure:oh.failedUp},uv=function(t){return function(e){return e===t}},cv=uv(38),sv=uv(40),lv=function(t){return t>=37&&t<=40},fv={isBackward:uv(37),isForward:uv(39)},dv={isBackward:uv(39),isForward:uv(37)},pv=function(t){var e=void 0!==t?t.dom:document,n=e.body.scrollLeft||e.documentElement.scrollLeft,r=e.body.scrollTop||e.documentElement.scrollTop;return ti(n,r)},mv=function(t,e,n){var r=void 0!==n?n.dom:document,o=r.defaultView;o&&o.scrollBy(t,e)},hv=pl.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),vv=function(t){return hv.exact(t.start,t.soffset,t.finish,t.foffset)},gv=function(t){return t.match({domRange:function(t){return oe.fromDom(t.startContainer)},relative:function(t,e){return rm.getStart(t)},exact:function(t,e,n,r){return t}})},bv=hv.domRange,yv=hv.relative,xv=hv.exact,wv=function(t){var e=gv(t);return he(e)},_v=_m.create,Cv={domRange:bv,relative:yv,exact:xv,exactFromRange:vv,getWin:wv,range:_v},kv=function(t,e,n){var r,o;return M.from(null===(o=(r=t.dom).caretPositionFromPoint)||void 0===o?void 0:o.call(r,e,n)).bind((function(e){if(null===e.offsetNode)return M.none();var n=t.dom.createRange();return n.setStart(e.offsetNode,e.offset),n.collapse(),M.some(n)}))},Ov=function(t,e,n){var r,o;return M.from(null===(o=(r=t.dom).caretRangeFromPoint)||void 0===o?void 0:o.call(r,e,n))},Sv=function(){return document.caretPositionFromPoint?kv:document.caretRangeFromPoint?Ov:M.none}(),Ev=function(t,e,n){var r=oe.fromDom(t.document);return Sv(r,e,n).map((function(t){return _m.create(oe.fromDom(t.startContainer),t.startOffset,oe.fromDom(t.endContainer),t.endOffset)}))},Tv=function(t,e){var n=Bt(t);return"input"===n?rm.after(t):F(["br","img"],n)?0===e?rm.before(t):rm.after(t):rm.on(t,e)},Av=function(t,e){var n=t.fold(rm.before,Tv,rm.after),r=e.fold(rm.before,Tv,rm.after);return Cv.relative(n,r)},Nv=function(t,e,n,r){var o=Tv(t,e),i=Tv(n,r);return Cv.relative(o,i)},Rv=function(t,e,n,r){var o=de(t),i=o.dom.createRange();return i.setStart(t.dom,e),i.setEnd(n.dom,r),i},Dv=function(t,e,n,r){var o=Rv(t,e,n,r),i=se(t,n)&&e===r;return o.collapsed&&!i},Pv=function(t){return M.from(t.getSelection())},Mv=function(t,e){Pv(t).each((function(t){t.removeAllRanges(),t.addRange(e)}))},Bv=function(t,e,n,r,o){var i=dm(t,e,n,r,o);Mv(t,i)},Lv=function(t,e,n,r,o,i){e.collapse(n.dom,r),e.extend(o.dom,i)},Iv=function(t,e){return ym(t,e).match({ltr:function(e,n,r,o){Bv(t,e,n,r,o)},rtl:function(e,n,r,o){Pv(t).each((function(i){if(i.setBaseAndExtent)i.setBaseAndExtent(e.dom,n,r.dom,o);else if(i.extend)try{Lv(t,i,e,n,r,o)}catch(a){Bv(t,r,o,e,n)}else Bv(t,r,o,e,n)}))}})},jv=function(t,e,n,r,o){var i=Nv(e,n,r,o);Iv(t,i)},Fv=function(t,e,n){var r=Av(e,n);Iv(t,r)},qv=function(t){if(t.rangeCount>0){var e=t.getRangeAt(0),n=t.getRangeAt(t.rangeCount-1);return M.some(_m.create(oe.fromDom(e.startContainer),e.startOffset,oe.fromDom(n.endContainer),n.endOffset))}return M.none()},zv=function(t){if(null===t.anchorNode||null===t.focusNode)return qv(t);var e=oe.fromDom(t.anchorNode),n=oe.fromDom(t.focusNode);return Dv(e,t.anchorOffset,n,t.focusOffset)?M.some(_m.create(e,t.anchorOffset,n,t.focusOffset)):qv(t)},Uv=function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=n?um:am,o=r(t,e);Mv(t,o)},Hv=function(t){return Pv(t).filter((function(t){return t.rangeCount>0})).bind(zv)},Vv=function(t){return Hv(t).map((function(t){return Cv.exact(t.start,t.soffset,t.finish,t.foffset)}))},Wv=function(t,e){var n=xm(t,e);return mm(n)},$v=function(t,e,n){return Ev(t,e,n)},Gv=function(t){Pv(t).each((function(t){return t.removeAllRanges()}))},Kv=function(t){var e=function(e,n){return oe.fromPoint(oe.fromDom(t.document),e,n)},n=function(t){return t.dom.getBoundingClientRect()},r=function(e,n,r,o){var i=Cv.exact(e,n,r,o);return Wv(t,i)},o=function(){return Vv(t).map((function(e){return Om(t,e)}))},i=function(e){var n=Cv.relative(e.start,e.finish);return Om(t,n)},a=function(e,n){return $v(t,e,n).map((function(t){return km.create(t.start,t.soffset,t.finish,t.foffset)}))},u=function(){Gv(t)},c=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Vv(t).each((function(n){return n.fold((function(t){return t.collapse(e)}),(function(n,r){var o=e?n:r;Fv(t,o,o)}),(function(n,r,o,i){var a=e?n:o,u=e?r:i;jv(t,a,u,a,u)}))}))},s=function(e){Uv(t,e,!1)},l=function(e){Uv(t,e)},f=function(e){jv(t,e.start,e.soffset,e.finish,e.foffset)},d=function(e,n){Fv(t,e,n)},p=function(){return t.innerHeight},m=function(){var e=pv(oe.fromDom(t.document));return e.top},h=function(e,n){mv(e,n,oe.fromDom(t.document))};return{elementFromPoint:e,getRect:n,getRangedRect:r,getSelection:o,fromSitus:i,situsFromPoint:a,clearSelection:u,collapseSelection:c,setSelection:f,setRelativeSelection:d,selectNode:s,selectContents:l,getInnerHeight:p,getScrollY:m,scrollBy:h}},Yv=function(t,e){return{rows:t,cols:e}},Xv=function(t,e,n,r){var o=Kv(t),i=ov(o,e,n,r);return{clearstate:i.clearstate,mousedown:i.mousedown,mouseover:i.mouseover,mouseup:i.mouseup}},Zv=function(t){return wn(t,Ft).exists(Qa)},Jv=function(t,e){return Zv(t)||Zv(e)},Qv=function(t,e,n,r){var o=Kv(t),i=function(){return r.clear(e),M.none()},a=function(t,a,u,c,s,l){var f=t.raw,d=f.which,p=!0===f.shiftKey,m=qu(e,r.selectedSelector).fold((function(){return lv(d)&&!p&&r.clearBeforeUpdate(e),lv(d)&&p&&!Jv(a,c)?M.none:sv(d)&&p?T(Jh,o,e,n,iv,c,a,r.selectRange):cv(d)&&p?T(Jh,o,e,n,av,c,a,r.selectRange):sv(d)?T(Yh,o,n,iv,c,a,Zh):cv(d)?T(Yh,o,n,av,c,a,Xh):M.none}),(function(t){var n=function(n){return function(){var i=ut(n,(function(n){return Am(n.rows,n.cols,e,t,r)}));return i.fold((function(){return Uu(e,r.firstSelectedSelector,r.lastSelectedSelector).map((function(t){var n=sv(d)||l.isForward(d)?rm.after:rm.before;return o.setRelativeSelection(rm.on(t.first,0),n(t.table)),r.clear(e),im.create(M.none(),!0)}))}),(function(t){return M.some(im.create(M.none(),!0))}))}};return lv(d)&&p&&!Jv(a,c)?M.none:sv(d)&&p?n([Yv(1,0)]):cv(d)&&p?n([Yv(-1,0)]):l.isBackward(d)&&p?n([Yv(0,-1),Yv(-1,0)]):l.isForward(d)&&p?n([Yv(0,1),Yv(1,0)]):lv(d)&&!p?i:M.none}));return m()},u=function(t,o,i,a,u){return qu(e,r.selectedSelector).fold((function(){var c=t.raw,s=c.which,l=!0===c.shiftKey;return l&&lv(s)&&Jv(o,a)?Em(e,n,o,i,a,u,r.selectRange):M.none()}),M.none)};return{keydown:a,keyup:u}},tg=function(t,e,n,r){var o=Kv(t);return function(t,i){r.clearBeforeUpdate(e),Fu(t,i,n).each((function(t){var n=t.boxes.getOr([]);r.selectRange(e,n,t.start,t.finish),o.selectContents(i),o.collapseSelection()}))}},eg=function(t,e){var n=Yt(t,e);return void 0===n||""===n?[]:n.split(" ")},ng=function(t,e,n){var r=eg(t,e),o=r.concat([n]);return $t(t,e,o.join(" ")),!0},rg=function(t,e,n){var r=$(eg(t,e),(function(t){return t!==n}));return r.length>0?$t(t,e,r.join(" ")):Zt(t,e),!1},og=function(t){return void 0!==t.dom.classList},ig=function(t){return eg(t,"class")},ag=function(t,e){return ng(t,"class",e)},ug=function(t,e){return rg(t,"class",e)},cg=function(t,e){og(t)?t.dom.classList.add(e):ag(t,e)},sg=function(t){var e=og(t)?t.dom.classList:ig(t);0===e.length&&Zt(t,"class")},lg=function(t,e){if(og(t)){var n=t.dom.classList;n.remove(e)}else ug(t,e);sg(t)},fg=function(t,e){return og(t)&&t.dom.classList.contains(e)},dg=function(t,e){H(e,(function(e){lg(t,e)}))},pg=function(t){return function(e){cg(e,t)}},mg=function(t){return function(e){dg(e,t)}},hg=function(t){var e=pg(t.selected),n=mg([t.selected,t.lastSelected,t.firstSelected]),r=function(e){var r=bn(e,t.selectedSelector);H(r,n)},o=function(n,o,i,a){r(n),H(o,e),cg(i,t.firstSelected),cg(a,t.lastSelected)};return{clearBeforeUpdate:r,clear:r,selectRange:o,selectedSelector:t.selectedSelector,firstSelectedSelector:t.firstSelectedSelector,lastSelectedSelector:t.lastSelectedSelector}},vg=function(t,e,n){var r=function(e){Zt(e,t.selected),Zt(e,t.firstSelected),Zt(e,t.lastSelected)},o=function(e){$t(e,t.selected,"1")},i=function(t){a(t),n()},a=function(e){var n=bn(e,"".concat(t.selectedSelector,",").concat(t.firstSelectedSelector,",").concat(t.lastSelectedSelector));H(n,r)},u=function(n,r,a,u){i(n),H(r,o),$t(a,t.firstSelected,"1"),$t(u,t.lastSelected,"1"),e(r,a,u)};return{clearBeforeUpdate:a,clear:i,selectRange:u,selectedSelector:t.selectedSelector,firstSelectedSelector:t.firstSelectedSelector,lastSelectedSelector:t.lastSelectedSelector}},gg={byClass:hg,byAttr:vg},bg=function(t,e,n,r){switch(t.tag){case"none":return e();case"single":return r(t.element);case"multiple":return n(t.elements)}},yg=function(){return{tag:"none"}},xg=function(t){return{tag:"multiple",elements:t}},wg=function(t){return{tag:"single",element:t}},_g=function(t,e,n){var r=function(){return Wu(t(),n).fold((function(){return e().fold(yg,wg)}),xg)};return{get:r}},Cg=function(t,e){var n=t.slice(0,e[e.length-1].row+1),r=us(n);return Q(r,(function(t){var n=t.cells.slice(0,e[e.length-1].column+1);return U(n,(function(t){return t.element}))}))},kg=function(t,e){var n=t.slice(e[0].row+e[0].rowspan-1,t.length),r=us(n);return Q(r,(function(t){var n=t.cells.slice(e[0].column+e[0].colspan-1,t.cells.length);return U(n,(function(t){return t.element}))}))},Og=function(t,e,n){var r=Uo.fromTable(t),o=hs(r,e);return o.map((function(t){var e=is(r,n,!1),o=So(e),i=o.rows,a=Cg(i,t),u=kg(i,t);return{upOrLeftCells:a,downOrRightCells:u}}))},Sg=function(t,e,n,r,o,i,a){return{target:t,x:e,y:n,stop:r,prevent:o,kill:i,raw:a}},Eg=function(t){var e=oe.fromDom(cn(t).getOr(t.target)),n=function(){return t.stopPropagation()},r=function(){return t.preventDefault()},o=C(r,n);return Sg(e,t.clientX,t.clientY,n,r,o,t)},Tg=function(t,e){return function(n){t(n)&&e(Eg(n))}},Ag=function(t,e,n,r,o){var i=Tg(n,r);return t.dom.addEventListener(e,i,o),{unbind:T(Rg,t,e,i,o)}},Ng=function(t,e,n,r){return Ag(t,e,n,r,!1)},Rg=function(t,e,n,r){t.dom.removeEventListener(e,n,r)},Dg=P,Pg=function(t,e,n){return Ng(t,e,Dg,n)},Mg=Eg,Bg=function(t){return!fg(oe.fromDom(t.target),"ephox-snooker-resizer-bar")},Lg=function(t,e){var n=_g((function(){return oe.fromDom(t.getBody())}),(function(){return fc(ou(t),nu(t))}),oc.selectedSelector),r=function(e,n,r){var o=sr(n);o.each((function(o){var i=Cd(t),a=Ka(_,oe.fromDom(t.getDoc()),i),u=dc(t),c=Og(o,{selection:u},a);ld(t,e,n,r,c)}))},o=function(){return fd(t)},i=gg.byAttr(oc,r,o);t.on("init",(function(n){var r=t.getWin(),o=eu(t),a=nu(t),u=function(){var e=t.selection,n=oe.fromDom(e.getStart()),r=oe.fromDom(e.getEnd()),a=Lu(sr,[n,r]);a.fold((function(){return i.clear(o)}),_)},c=Xv(r,o,a,i),s=Qv(r,o,a,i),l=tg(r,o,a,i),f=function(t){return!0===t.raw.shiftKey};t.on("TableSelectorChange",(function(t){return l(t.start,t.finish)}));var d=function(e,n){f(e)&&(n.kill&&e.kill(),n.selection.each((function(e){var n=Cv.relative(e.start,e.finish),o=xm(r,n);t.selection.setRng(o)})))},p=function(e){var n=Mg(e);if(n.raw.shiftKey&&lv(n.raw.which)){var r=t.selection.getRng(),o=oe.fromDom(r.startContainer),i=oe.fromDom(r.endContainer);s.keyup(n,o,r.startOffset,i,r.endOffset).each((function(t){d(n,t)}))}},m=function(n){var r=Mg(n);e.hide();var o=t.selection.getRng(),i=oe.fromDom(o.startContainer),a=oe.fromDom(o.endContainer),u=Go(fv,dv)(oe.fromDom(t.selection.getStart()));s.keydown(r,i,o.startOffset,a,o.endOffset,u).each((function(t){d(r,t)})),e.show()},h=function(t){return 0===t.button},v=function(t){return void 0===t.buttons||0!==(1&t.buttons)},g=function(t){c.clearstate()},b=function(t){h(t)&&Bg(t)&&c.mousedown(Mg(t))},y=function(t){v(t)&&Bg(t)&&c.mouseover(Mg(t))},x=function(t){h(t)&&Bg(t)&&c.mouseup(Mg(t))},w=function(){var t=Qh(oe.fromDom(o)),e=Qh(0),n=function(n){var r=oe.fromDom(n.target);if(Vt("td")(r)||Vt("th")(r)){var o=t.get(),i=e.get();se(o,r)&&n.timeStamp-i<300&&(n.preventDefault(),l(r,r))}t.set(r),e.set(n.timeStamp)};return{touchEnd:n}},C=w();t.on("dragstart",g),t.on("mousedown",b),t.on("mouseover",y),t.on("mouseup",x),t.on("touchend",C.touchEnd),t.on("keyup",p),t.on("keydown",m),t.on("NodeChange",u)})),t.on("PreInit",(function(){t.serializer.addTempAttr(oc.firstSelected),t.serializer.addTempAttr(oc.lastSelected)}));var a=function(t){return i.clear(oe.fromDom(t))},u=function(){return bg(n.get(),O([]),(function(t){return U(t,(function(t){return t.dom}))}),(function(t){return[t.dom]}))};return{getSelectedCells:u,clearSelectedCells:a}},Ig=function(t){var e=[],n=function(t){if(void 0===t)throw new Error("Event bind error: undefined handler");e.push(t)},r=function(t){e=$(e,(function(e){return e!==t}))},o=function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];var i={};H(t,(function(t,e){i[t]=r[e]})),H(e,(function(t){t(i)}))};return{bind:n,unbind:r,trigger:o}},jg=function(t){var e=ft(t,(function(t){return{bind:t.bind,unbind:t.unbind}})),n=ft(t,(function(t){return t.trigger}));return{registry:e,trigger:n}},Fg=function(t,e){var n=null,r=function(){h(n)||(clearTimeout(n),n=null)},o=function(){for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];r(),n=setTimeout((function(){n=null,t.apply(null,i)}),e)};return{cancel:r,throttle:o}},qg=function(t){return t.slice(0).sort()},zg=function(t,e){throw new Error("All required keys ("+qg(t).join(", ")+") were not specified. Specified keys were: "+qg(e).join(", ")+".")},Ug=function(t){throw new Error("Unsupported keys for object: "+qg(t).join(", "))},Hg=function(t,e){if(!m(e))throw new Error("The "+t+" fields must be an array. Was: "+e+".");H(e,(function(e){if(!d(e))throw new Error("The value "+e+" in the "+t+" fields was not a string.")}))},Vg=function(t,e){throw new Error("All values need to be of type: "+e+". Keys ("+qg(t).join(", ")+") were not.")},Wg=function(t){var e=qg(t),n=X(e,(function(t,n){return n<e.length-1&&t===e[n+1]}));n.each((function(t){throw new Error("The field: "+t+" occurs more than once in the combined fields: ["+e.join(", ")+"].")}))},$g=function(t,e){return Gg(t,e,{validate:x,label:"function"})},Gg=function(t,e,n){if(0===e.length)throw new Error("You must specify at least one required field.");return Hg("required",e),Wg(e),function(r){var o=ct(r),i=tt(e,(function(t){return F(o,t)}));i||zg(e,o),t(e,o);var a=$(e,(function(t){return!n.validate(r[t],t)}));return a.length>0&&Vg(a,n.label),r}},Kg=function(t,e){var n=$(e,(function(e){return!F(t,e)}));n.length>0&&Ug(n)},Yg=function(t){return $g(Kg,t)},Xg=Yg(["compare","extract","mutate","sink"]),Zg=Yg(["element","start","stop","destroy"]),Jg=Yg(["forceDrop","drop","move","delayDrop"]),Qg=function(){var t=M.none(),e=function(){t=M.none()},n=function(e,n){var r=t.map((function(t){return e.compare(t,n)}));return t=M.some(n),r},r=function(t,e){var r=e.extract(t);r.each((function(t){var r=n(e,t);r.each((function(t){o.trigger.move(t)}))}))},o=jg({move:Ig(["info"])});return{onEvent:r,reset:e,events:o.registry}},tb=function(){var t=jg({move:Ig(["info"])});return{onEvent:_,reset:_,events:t.registry}},eb=function(){var t=tb(),e=Qg(),n=t,r=function(){n.reset(),n=e},o=function(){n.reset(),n=t},i=function(t,e){n.onEvent(t,e)},a=function(){return n===e};return{on:r,off:o,isOn:a,onEvent:i,events:e.events}},nb=function(t,e,n){var r=!1,o=jg({start:Ig([]),stop:Ig([])}),i=eb(),a=function(){m.stop(),i.isOn()&&(i.off(),o.trigger.stop())},u=Fg(a,200),c=function(t){m.start(t),i.on(),o.trigger.start()},s=function(t){u.cancel(),i.onEvent(t,e)};i.events.move.bind((function(n){e.mutate(t,n.info)}));var l=function(){r=!0},f=function(){r=!1},d=function(){return r},p=function(t){return function(){if(r){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];t.apply(null,n)}}},m=e.sink(Jg({forceDrop:a,drop:p(a),move:p(s),delayDrop:p(u.throttle)}),n),h=function(){m.destroy()};return{element:m.element,go:c,on:l,off:f,isActive:d,destroy:h,events:o.registry}},rb=function(t){var e=t.replace(/\./g,"-"),n=function(t){return e+"-"+t};return{resolve:n}},ob=rb("ephox-dragster"),ib=ob.resolve,ab=function(t){var e=o({layerClass:ib("blocker")},t),n=oe.fromTag("div");$t(n,"role","presentation"),Vn(n,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),cg(n,ib("blocker")),cg(n,e.layerClass);var r=O(n),i=function(){Pe(n)};return{element:r,destroy:i}},ub=function(t,e){return ti(e.left-t.left,e.top-t.top)},cb=function(t){return M.some(ti(t.x,t.y))},sb=function(t,e){t.mutate(e.left,e.top)},lb=function(t,e){var n=ab(e),r=Pg(n.element(),"mousedown",t.forceDrop),o=Pg(n.element(),"mouseup",t.drop),i=Pg(n.element(),"mousemove",t.move),a=Pg(n.element(),"mouseout",t.delayDrop),u=function(){n.destroy(),o.unbind(),i.unbind(),a.unbind(),r.unbind()},c=function(t){Ee(t,n.element())},s=function(){Pe(n.element())};return Zg({element:n.element,start:c,stop:s,destroy:u})},fb=Xg({compare:ub,extract:cb,sink:lb,mutate:sb}),db=function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null!==(e=n.mode)&&void 0!==e?e:fb;return nb(t,r,n)},pb=rb("ephox-snooker"),mb=pb.resolve,hb=function(){var t=jg({drag:Ig(["xDelta","yDelta"])}),e=function(e,n){t.trigger.drag(e,n)};return{mutate:e,events:t.registry}},vb=function(){var t=jg({drag:Ig(["xDelta","yDelta","target"])}),e=M.none(),n=hb();n.events.drag.bind((function(n){e.each((function(e){t.trigger.drag(n.xDelta,n.yDelta,e)}))}));var r=function(t){e=M.some(t)},o=function(){return e};return{assign:r,get:o,mutate:n.mutate,events:t.registry}},gb=function(t,e,n,r,o){var i=oe.fromTag("div");return Vn(i,{position:"absolute",left:e-r/2+"px",top:n+"px",height:o+"px",width:r+"px"}),Gt(i,{"data-column":t,role:"presentation"}),i},bb=function(t,e,n,r,o){var i=oe.fromTag("div");return Vn(i,{position:"absolute",left:e+"px",top:n-o/2+"px",height:o+"px",width:r+"px"}),Gt(i,{"data-row":t,role:"presentation"}),i},yb=mb("resizer-bar"),xb=mb("resizer-rows"),wb=mb("resizer-cols"),_b=7,Cb=function(t,e){return Q(t.all,(function(t,n){return e(t.element)?[n]:[]}))},kb=function(t,e){var n=[];return z(t.grid.columns,(function(r){var o=Uo.getColumnAt(t,r).map((function(t){return t.element}));o.forall(e)&&n.push(r)})),$(n,(function(n){var r=Uo.filterItems(t,(function(t){return t.column===n}));return tt(r,(function(t){return e(t.element)}))}))},Ob=function(t){var e=bn(t.parent(),"."+yb);H(e,Pe)},Sb=function(t,e,n){var r=t.origin();H(e,(function(e){e.each((function(e){var o=n(r,e);cg(o,yb),Ee(t.parent(),o)}))}))},Eb=function(t,e,n,r){Sb(t,e,(function(t,e){var o=gb(e.col,e.x-t.left,n.top-t.top,_b,r);return cg(o,wb),o}))},Tb=function(t,e,n,r){Sb(t,e,(function(t,e){var o=bb(e.row,n.left-t.left,e.y-t.top,r,_b);return cg(o,xb),o}))},Ab=function(t,e,n,r,o){var i=ri(n),a=e.isResizable,u=r.length>0?vi.positions(r,n):[],c=u.length>0?Cb(t,a):[],s=$(u,(function(t,e){return q(c,(function(t){return e===t}))}));Tb(e,s,i,ho(n));var l=o.length>0?xi.positions(o,n):[],f=l.length>0?kb(t,a):[],d=$(l,(function(t,e){return q(f,(function(t){return e===t}))}));Eb(e,d,i,Zo(n))},Nb=function(t,e){if(Ob(t),t.isResizable(e)){var n=Uo.fromTable(e),r=Wo(n),o=Ho(n);Ab(n,t,e,r,o)}},Rb=function(t,e){var n=bn(t.parent(),"."+yb);H(n,e)},Db=function(t){Rb(t,(function(t){Hn(t,"display","none")}))},Pb=function(t){Rb(t,(function(t){Hn(t,"display","block")}))},Mb=function(t){return fg(t,xb)},Bb=function(t){return fg(t,wb)},Lb=mb("resizer-bar-dragging"),Ib=function(t){var e=vb(),n=db(e,{}),r=M.none(),o=function(t,e){return M.from(Yt(t,e))};e.events.drag.bind((function(t){o(t.target,"data-row").each((function(e){var n=tr(t.target,"top");Hn(t.target,"top",n+t.yDelta+"px")})),o(t.target,"data-column").each((function(e){var n=tr(t.target,"left");Hn(t.target,"left",n+t.xDelta+"px")}))}));var i=function(t,e){var n=tr(t,e),r=Xn(t,"data-initial-"+e,0);return n-r};n.events.stop.bind((function(){e.get().each((function(e){r.each((function(n){o(e,"data-row").each((function(t){var r=i(e,"top");Zt(e,"data-initial-top"),p.trigger.adjustHeight(n,r,parseInt(t,10))})),o(e,"data-column").each((function(t){var r=i(e,"left");Zt(e,"data-initial-left"),p.trigger.adjustWidth(n,r,parseInt(t,10))})),Nb(t,n)}))}))}));var a=function(r,o){p.trigger.startAdjust(),e.assign(r),$t(r,"data-initial-"+o,tr(r,o)),cg(r,Lb),Hn(r,"opacity","0.2"),n.go(t.parent())},u=Pg(t.parent(),"mousedown",(function(t){Mb(t.target)&&a(t.target,"top"),Bb(t.target)&&a(t.target,"left")})),c=function(e){return se(e,t.view())},s=function(t){return En(t,"table",c).filter(Qa)},l=Pg(t.view(),"mouseover",(function(e){s(e.target).fold((function(){ln(e.target)&&Ob(t)}),(function(e){n.isActive()&&(r=M.some(e),Nb(t,e))}))})),f=function(){u.unbind(),l.unbind(),n.destroy(),Ob(t)},d=function(e){Nb(t,e)},p=jg({adjustHeight:Ig(["table","delta","row"]),adjustWidth:Ig(["table","delta","column"]),startAdjust:Ig([])});return{destroy:f,refresh:d,on:n.on,off:n.off,hideBars:T(Db,t),showBars:T(Pb,t),events:p.registry}},jb=function(t,e,n){var r=vi,o=xi,i=Ib(t),a=jg({beforeResize:Ig(["table","type"]),afterResize:Ig(["table","type"]),startDrag:Ig([])});return i.events.adjustHeight.bind((function(t){var e=t.table;a.trigger.beforeResize(e,"row");var n=r.delta(t.delta,e);El(e,n,t.row,r),a.trigger.afterResize(e,"row")})),i.events.startAdjust.bind((function(t){a.trigger.startDrag()})),i.events.adjustWidth.bind((function(t){var r=t.table;a.trigger.beforeResize(r,"col");var i=o.delta(t.delta,r),u=n(r);Sl(r,i,t.column,e,u),a.trigger.afterResize(r,"col")})),{on:i.on,off:i.off,refreshBars:i.refresh,hideBars:i.hideBars,showBars:i.showBars,destroy:i.destroy,events:a.registry}},Fb={create:jb},qb=function(t,e){var n=Ut(t)?me(t):t;return{parent:O(n),view:O(t),origin:O(ti(0,0)),isResizable:e}},zb=function(t,e,n){var r=function(){return ri(e)};return{parent:O(e),view:O(t),origin:r,isResizable:n}},Ub=function(t,e,n){return{parent:O(e),view:O(t),origin:O(ti(0,0)),isResizable:n}},Hb={only:qb,detached:zb,body:Ub},Vb=function(){var t=oe.fromTag("div");return Vn(t,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),Ee(fn(),t),t},Wb=function(t,e){return t.inline?Hb.body(oe.fromDom(t.getBody()),Vb(),e):Hb.only(oe.fromDom(t.getDoc()),e)},$b=function(t,e){t.inline&&Pe(e.parent())},Gb=function(t){return y(t)&&"TABLE"===t.nodeName},Kb="bar-",Yb=function(t){return"false"!==Yt(t,"data-mce-resize")},Xb=function(t){var e=Uo.fromTable(t);Uo.hasColumns(e)||H(ur(t),(function(t){var e=Wn(t,"width");Hn(t,"width",e),Zt(t,"width")}))},Zb=function(t){var e,n,r=ev(),o=ev(),i=ev(),a=function(e){return jd(t,e)},u=function(){return Ed(t)?Dc():Rc()},c=function(t){return Pc(t).columns},s=function(r,o,i){var s=Bn(o,"e");if(""===n&&hp(r),i!==e&&""!==n){Hn(r,"width",n);var l=u(),f=a(r),d=Ed(t)||s?c(r)-1:0;Sl(r,i-e,d,l,f)}else if(cu(n)){var p=parseFloat(n.replace("%","")),m=i*p/e;Hn(r,"width",m+"%")}su(n)&&Xb(r)},l=function(){o.on((function(t){t.destroy()})),i.on((function(e){$b(t,e)}))};t.on("init",(function(){var e=Wb(t,Yb);if(i.set(e),kd(t)&&Pd(t)){var n=u(),c=Fb.create(e,n,a);c.on(),c.events.startDrag.bind((function(e){r.set(t.selection.getRng())})),c.events.beforeResize.bind((function(e){var n=e.table.dom;dd(t,n,iu(n),au(n),Kb+e.type)})),c.events.afterResize.bind((function(e){var n=e.table,o=n.dom;ru(n),r.on((function(e){t.selection.setRng(e),t.focus()})),pd(t,o,iu(o),au(o),Kb+e.type),t.undoManager.add()})),o.set(c)}})),t.on("ObjectResizeStart",(function(r){var o=r.target;if(Gb(o)){var i=oe.fromDom(o);H(t.dom.select(".mce-clonedresizable"),(function(e){t.dom.addClass(e,"mce-"+Sd(t)+"-columns")})),!dp(i)&&Rd(t)?vp(i):!fp(i)&&Nd(t)&&hp(i),pp(i)&&Mn(r.origin,Kb)&&hp(i),e=r.width,n=Dd(t)?"":uu(t,o).getOr("")}})),t.on("ObjectResized",(function(e){var n=e.target;if(Gb(n)){var r=oe.fromDom(n),o=e.origin;Mn(o,"corner-")&&s(r,o,e.width),ru(r),sd(t,r.dom,md)}})),t.on("SwitchMode",(function(){o.on((function(e){t.mode.isReadOnly()?e.hideBars():e.showBars()}))})),t.on("dragstart dragend",(function(t){o.on((function(e){"dragstart"===t.type?(e.hideBars(),e.off()):(e.on(),e.showBars())}))})),t.on("remove",(function(){l()}));var f=function(t){o.on((function(e){return e.refreshBars(oe.fromDom(t))}))},d=function(){o.on((function(t){return t.hideBars()}))},p=function(){o.on((function(t){return t.showBars()}))};return{refresh:f,hide:d,show:p}},Jb=function(t){_d(t);var e=Zb(t),n=Lg(t,e),r=Fd(t,e,n);return Yp(t,r),Xp(t,r),gc(t,r),{getSelectedCells:n.getSelectedCells,clearSelectedCells:n.clearSelectedCells}},Qb=function(t){var e=Jb(t);return{table:e}},ty=function(){t.add("dom",Qb)};ty()}()},345:function(t,e,n){n(9097)},9097:function(t,e,n){var r=n(5409)["default"],o=n(2468)["default"],i=n(22)["default"],a=n(2214)["default"],u=n(8853)["default"],c=n(4982)["default"],s=n(598)["default"],l=n(6728)["default"],f=n(2046)["default"],d=n(1692)["default"],p=["class","style"],m=["events"],h=["attributes"],v=["primary"],g=["primary"];n(489),n(8309),n(2222),n(1703),n(6647),n(5212),n(1539),n(7042),n(2772),n(7658),n(5069),n(2707),n(1038),n(8783),n(7941),n(4916),n(5306),n(1249),n(7601),n(7327),n(4723),n(4678),n(1058),n(9653),n(4765),n(3371),n(3948),n(8862),n(9600),n(9714),n(6541),n(9070),n(3123),n(9253),n(6977),n(2564),n(5218),n(9826),n(3210),n(4603),n(8450),n(8386),n(541),n(561),n(9254),n(2526),n(1817),n(2165),n(8304),n(7987),n(1299),n(5706),n(8410),n(5003),n(514),n(6535),n(9554),function(){"use strict";var t,e,n=Object.getPrototypeOf,b=function(t,e,n){var r;return!!n(t,e.prototype)||(null===(r=t.constructor)||void 0===r?void 0:r.name)===e.name},y=function(t){var e=d(t);return null===t?"null":"object"===e&&Array.isArray(t)?"array":"object"===e&&b(t,String,(function(t,e){return e.isPrototypeOf(t)}))?"string":e},x=function(t){return function(e){return y(e)===t}},w=function(t){return function(e){return d(e)===t}},_=function(t){return function(e){return t===e}},C=function(t,e){return O(t)&&b(t,e,(function(t,e){return n(t)===e}))},k=x("string"),O=x("object"),S=function(t){return C(t,Object)},E=x("array"),T=_(null),A=w("boolean"),N=_(void 0),R=function(t){return null===t||void 0===t},D=function(t){return!R(t)},P=w("function"),M=w("number"),B=function(t,e){if(E(t)){for(var n=0,r=t.length;n<r;++n)if(!e(t[n]))return!1;return!0}return!1},L=function(){},I=function(t){return function(){return t()}},j=function(t,e){return function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t(e.apply(null,r))}},F=function(t,e){return function(n){return t(e(n))}},q=function(t){return function(){return t}},z=function(t){return t},U=function(t,e){return t===e};function H(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];var i=n.concat(r);return t.apply(null,i)}}var V=function(t){return function(e){return!t(e)}},W=function(t){return function(){throw new Error(t)}},$=function(t){return t()},G=q(!1),K=q(!0),Y=function(){function t(e,n){l(this,t),this.tag=e,this.value=n}return f(t,[{key:"fold",value:function(t,e){return this.tag?e(this.value):t()}},{key:"isSome",value:function(){return this.tag}},{key:"isNone",value:function(){return!this.tag}},{key:"map",value:function(e){return this.tag?t.some(e(this.value)):t.none()}},{key:"bind",value:function(e){return this.tag?e(this.value):t.none()}},{key:"exists",value:function(t){return this.tag&&t(this.value)}},{key:"forall",value:function(t){return!this.tag||t(this.value)}},{key:"filter",value:function(e){return!this.tag||e(this.value)?this:t.none()}},{key:"getOr",value:function(t){return this.tag?this.value:t}},{key:"or",value:function(t){return this.tag?this:t}},{key:"getOrThunk",value:function(t){return this.tag?this.value:t()}},{key:"orThunk",value:function(t){return this.tag?this:t()}},{key:"getOrDie",value:function(t){if(this.tag)return this.value;throw new Error(null!==t&&void 0!==t?t:"Called getOrDie on None")}},{key:"getOrNull",value:function(){return this.tag?this.value:null}},{key:"getOrUndefined",value:function(){return this.value}},{key:"each",value:function(t){this.tag&&t(this.value)}},{key:"toArray",value:function(){return this.tag?[this.value]:[]}},{key:"toString",value:function(){return this.tag?"some(".concat(this.value,")"):"none()"}}],[{key:"some",value:function(e){return new t(!0,e)}},{key:"none",value:function(){return t.singletonNone}},{key:"from",value:function(e){return D(e)?t.some(e):t.none()}}]),t}();Y.singletonNone=new Y(!1);var X,Z=Array.prototype.slice,J=Array.prototype.indexOf,Q=Array.prototype.push,tt=function(t,e){return J.call(t,e)},et=function(t,e){var n=tt(t,e);return-1===n?Y.none():Y.some(n)},nt=function(t,e){return tt(t,e)>-1},rt=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n];if(e(o,n))return!0}return!1},ot=function(t,e){for(var n=[],r=0;r<t;r++)n.push(e(r));return n},it=function(t,e){for(var n=[],r=0;r<t.length;r+=e){var o=Z.call(t,r,r+e);n.push(o)}return n},at=function(t,e){for(var n=t.length,r=new Array(n),o=0;o<n;o++){var i=t[o];r[o]=e(i,o)}return r},ut=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n];e(o,n)}},ct=function(t,e){for(var n=t.length-1;n>=0;n--){var r=t[n];e(r,n)}},st=function(t,e){for(var n=[],r=[],o=0,i=t.length;o<i;o++){var a=t[o],u=e(a,o)?n:r;u.push(a)}return{pass:n,fail:r}},lt=function(t,e){for(var n=[],r=0,o=t.length;r<o;r++){var i=t[r];e(i,r)&&n.push(i)}return n},ft=function(t,e,n){return ct(t,(function(t,r){n=e(n,t,r)})),n},dt=function(t,e,n){return ut(t,(function(t,r){n=e(n,t,r)})),n},pt=function(t,e,n){for(var r=0,o=t.length;r<o;r++){var i=t[r];if(e(i,r))return Y.some(i);if(n(i,r))break}return Y.none()},mt=function(t,e){return pt(t,e,G)},ht=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n];if(e(o,n))return Y.some(n)}return Y.none()},vt=function(t){for(var e=[],n=0,r=t.length;n<r;++n){if(!E(t[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+t);Q.apply(e,t[n])}return e},gt=function(t,e){return vt(at(t,e))},bt=function(t,e){for(var n=0,r=t.length;n<r;++n){var o=t[n];if(!0!==e(o,n))return!1}return!0},yt=function(t){var e=Z.call(t,0);return e.reverse(),e},xt=function(t,e){return lt(t,(function(t){return!nt(e,t)}))},wt=function(t,e){for(var n={},r=0,o=t.length;r<o;r++){var i=t[r];n[String(i)]=e(i,r)}return n},_t=function(t){return[t]},Ct=function(t,e){var n=Z.call(t,0);return n.sort(e),n},kt=function(t,e){return e>=0&&e<t.length?Y.some(t[e]):Y.none()},Ot=function(t){return kt(t,0)},St=function(t){return kt(t,t.length-1)},Et=P(Array.from)?Array.from:function(t){return Z.call(t)},Tt=function(t,e){for(var n=0;n<t.length;n++){var r=e(t[n],n);if(r.isSome())return r}return Y.none()},At=Object.keys,Nt=Object.hasOwnProperty,Rt=function(t,e){for(var n=At(t),r=0,o=n.length;r<o;r++){var i=n[r],a=t[i];e(a,i)}},Dt=function(t,e){return Pt(t,(function(t,n){return{k:n,v:e(t,n)}}))},Pt=function(t,e){var n={};return Rt(t,(function(t,r){var o=e(t,r);n[o.k]=o.v})),n},Mt=function(t){return function(e,n){t[n]=e}},Bt=function(t,e,n,r){Rt(t,(function(t,o){(e(t,o)?n:r)(t,o)}))},Lt=function(t,e){var n={},r={};return Bt(t,e,Mt(n),Mt(r)),{t:n,f:r}},It=function(t,e){var n={};return Bt(t,e,Mt(n),L),n},jt=function(t,e){var n=[];return Rt(t,(function(t,r){n.push(e(t,r))})),n},Ft=function(t,e){for(var n=At(t),r=0,o=n.length;r<o;r++){var i=n[r],a=t[i];if(e(a,i,t))return Y.some(a)}return Y.none()},qt=function(t){return jt(t,z)},zt=function(t,e){return Ut(t,e)?Y.from(t[e]):Y.none()},Ut=function(t,e){return Nt.call(t,e)},Ht=function(t,e){return Ut(t,e)&&void 0!==t[e]&&null!==t[e]},Vt=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:U;return t.exists((function(t){return n(t,e)}))},Wt=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:U;return Kt(t,e,n).getOr(t.isNone()&&e.isNone())},$t=function(t){for(var e=[],n=function(t){e.push(t)},r=0;r<t.length;r++)t[r].each(n);return e},Gt=function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];if(!r.isSome())return Y.none();e.push(r.getOrDie())}return Y.some(e)},Kt=function(t,e,n){return t.isSome()&&e.isSome()?Y.some(n(t.getOrDie(),e.getOrDie())):Y.none()},Yt=function(t,e,n,r){return t.isSome()&&e.isSome()&&n.isSome()?Y.some(r(t.getOrDie(),e.getOrDie(),n.getOrDie())):Y.none()},Xt=function(t,e){return void 0!==t&&null!==t?Y.some(e(t)):Y.none()},Zt=function(t,e){return t?Y.some(e):Y.none()},Jt=function(t,e){return t+e},Qt=function(t,e){return t.substring(e)},te=function(t,e,n){return""===e||t.length>=e.length&&t.substr(n,n+e.length)===e},ee=function(t,e){return oe(t,e)?Qt(t,e.length):t},ne=function(t,e){return ie(t,e)?t:Jt(t,e)},re=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3?arguments[3]:void 0,o=t.indexOf(e,n);return-1!==o&&(!!N(r)||o+e.length<=r)},oe=function(t,e){return te(t,e,0)},ie=function(t,e){return te(t,e,t.length-e.length)},ae=function(t){return function(e){return e.replace(t,"")}},ue=ae(/^\s+|\s+$/g),ce=function(t){return t.length>0},se=function(t){return!ce(t)},le=function(t){return void 0!==t.style&&P(t.style.getPropertyValue)},fe=function(t,e){var n=e||document,r=n.createElement("div");if(r.innerHTML=t,!r.hasChildNodes()||r.childNodes.length>1){var o="HTML does not have a single root node";throw console.error(o,t),new Error(o)}return me(r.childNodes[0])},de=function(t,e){var n=e||document,r=n.createElement(t);return me(r)},pe=function(t,e){var n=e||document,r=n.createTextNode(t);return me(r)},me=function(t){if(null===t||void 0===t)throw new Error("Node cannot be null or undefined");return{dom:t}},he=function(t,e,n){return Y.from(t.dom.elementFromPoint(e,n)).map(me)},ve={fromHtml:fe,fromTag:de,fromText:pe,fromDom:me,fromPoint:he},ge="undefined"!==typeof window?window:Function("return this;")(),be=function(t,e){for(var n=void 0!==e&&null!==e?e:ge,r=0;r<t.length&&void 0!==n&&null!==n;++r)n=n[t[r]];return n},ye=function(t,e){var n=t.split(".");return be(n,e)},xe=function(t,e){return ye(t,e)},we=function(t,e){var n=xe(t,e);if(void 0===n||null===n)throw new Error(t+" not available on this browser");return n},_e=Object.getPrototypeOf,Ce=function(t){return we("HTMLElement",t)},ke=function(t){var e=ye("ownerDocument.defaultView",t);return O(t)&&(Ce(e).prototype.isPrototypeOf(t)||/^HTML\w*Element$/.test(_e(t).constructor.name))},Oe=9,Se=11,Ee=1,Te=3,Ae=function(t){var e=t.dom.nodeName;return e.toLowerCase()},Ne=function(t){return t.dom.nodeType},Re=function(t){return function(e){return Ne(e)===t}},De=function(t){return Pe(t)&&ke(t.dom)},Pe=Re(Ee),Me=Re(Te),Be=Re(Oe),Le=Re(Se),Ie=function(t){return function(e){return Pe(e)&&Ae(e)===t}},je=function(t,e){var n=t.dom;if(n.nodeType!==Ee)return!1;var r=n;if(void 0!==r.matches)return r.matches(e);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(e);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(e);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(e);throw new Error("Browser lacks native selectors")},Fe=function(t){return t.nodeType!==Ee&&t.nodeType!==Oe&&t.nodeType!==Se||0===t.childElementCount},qe=function(t,e){var n=void 0===e?document:e.dom;return Fe(n)?[]:at(n.querySelectorAll(t),ve.fromDom)},ze=function(t,e){var n=void 0===e?document:e.dom;return Fe(n)?Y.none():Y.from(n.querySelector(t)).map(ve.fromDom)},Ue=function(t,e){return t.dom===e.dom},He=function(t,e){var n=t.dom,r=e.dom;return n!==r&&n.contains(r)},Ve=function(t){return ve.fromDom(t.dom.ownerDocument)},We=function(t){return Be(t)?t:Ve(t)},$e=function(t){return ve.fromDom(We(t).dom.documentElement)},Ge=function(t){return ve.fromDom(We(t).dom.defaultView)},Ke=function(t){return Y.from(t.dom.parentNode).map(ve.fromDom)},Ye=function(t){return Y.from(t.dom.parentElement).map(ve.fromDom)},Xe=function(t,e){var n=P(e)?e:G,r=t.dom,o=[];while(null!==r.parentNode&&void 0!==r.parentNode){var i=r.parentNode,a=ve.fromDom(i);if(o.push(a),!0===n(a))break;r=i}return o},Ze=function(t){return Y.from(t.dom.offsetParent).map(ve.fromDom)},Je=function(t){return Y.from(t.dom.nextSibling).map(ve.fromDom)},Qe=function(t){return at(t.dom.childNodes,ve.fromDom)},tn=function(t,e){var n=t.dom.childNodes;return Y.from(n[e]).map(ve.fromDom)},en=function(t){return tn(t,0)},nn=function(t,e){return{element:t,offset:e}},rn=function(t,e){var n=Qe(t);return n.length>0&&e<n.length?nn(n[e],0):nn(t,e)},on=function(t){return Le(t)&&D(t.dom.host)},an=P(Element.prototype.attachShadow)&&P(Node.prototype.getRootNode),un=q(an),cn=an?function(t){return ve.fromDom(t.dom.getRootNode())}:We,sn=function(t){return on(t)?t:ve.fromDom(We(t).dom.body)},ln=function(t){return fn(t).isSome()},fn=function(t){var e=cn(t);return on(e)?Y.some(e):Y.none()},dn=function(t){return ve.fromDom(t.dom.host)},pn=function(t){if(un()&&D(t.target)){var e=ve.fromDom(t.target);if(Pe(e)&&mn(e)&&t.composed&&t.composedPath){var n=t.composedPath();if(n)return Ot(n)}}return Y.from(t.target)},mn=function(t){return D(t.dom.shadowRoot)},hn=function t(e){var n=Me(e)?e.dom.parentNode:e.dom;if(void 0===n||null===n||null===n.ownerDocument)return!1;var r=n.ownerDocument;return fn(ve.fromDom(n)).fold((function(){return r.body.contains(n)}),F(t,dn))},vn=function(){return gn(ve.fromDom(document))},gn=function(t){var e=t.dom.body;if(null===e||void 0===e)throw new Error("Body is not available yet");return ve.fromDom(e)},bn=function(t,e,n){if(!(k(n)||A(n)||M(n)))throw console.error("Invalid call to Attribute.set. Key ",e,":: Value ",n,":: Element ",t),new Error("Attribute value was not simple");t.setAttribute(e,n+"")},yn=function(t,e,n){bn(t.dom,e,n)},xn=function(t,e){var n=t.dom;Rt(e,(function(t,e){bn(n,e,t)}))},wn=function(t,e){var n=t.dom.getAttribute(e);return null===n?void 0:n},_n=function(t,e){return Y.from(wn(t,e))},Cn=function(t,e){var n=t.dom;return!(!n||!n.hasAttribute)&&n.hasAttribute(e)},kn=function(t,e){t.dom.removeAttribute(e)},On=function(t){return dt(t.dom.attributes,(function(t,e){return t[e.name]=e.value,t}),{})},Sn=function(t,e,n){if(!k(n))throw console.error("Invalid call to CSS.set. Property ",e,":: Value ",n,":: Element ",t),new Error("CSS value must be a string: "+n);le(t)&&t.style.setProperty(e,n)},En=function(t,e){le(t)&&t.style.removeProperty(e)},Tn=function(t,e,n){var r=t.dom;Sn(r,e,n)},An=function(t,e){var n=t.dom;Rt(e,(function(t,e){Sn(n,e,t)}))},Nn=function(t,e){var n=t.dom;Rt(e,(function(t,e){t.fold((function(){En(n,e)}),(function(t){Sn(n,e,t)}))}))},Rn=function(t,e){var n=t.dom,r=window.getComputedStyle(n),o=r.getPropertyValue(e);return""!==o||hn(t)?o:Dn(n,e)},Dn=function(t,e){return le(t)?t.style.getPropertyValue(e):""},Pn=function(t,e){var n=t.dom,r=Dn(n,e);return Y.from(r).filter((function(t){return t.length>0}))},Mn=function(t){var e={},n=t.dom;if(le(n))for(var r=0;r<n.style.length;r++){var o=n.style.item(r);e[o]=n.style[o]}return e},Bn=function(t,e,n){var r=ve.fromTag(t);Tn(r,e,n);var o=Pn(r,e);return o.isSome()},Ln=function(t,e){var n=t.dom;En(n,e),Vt(_n(t,"style").map(ue),"")&&kn(t,"style")},In=function(t){return t.dom.offsetWidth},jn=function(t,e){var n=function(e,n){if(!M(n)&&!n.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+n);var r=e.dom;le(r)&&(r.style[t]=n+"px")},r=function(n){var r=e(n);if(r<=0||null===r){var o=Rn(n,t);return parseFloat(o)||0}return r},o=r,i=function(t,e){return dt(e,(function(e,n){var r=Rn(t,n),o=void 0===r?0:parseInt(r,10);return isNaN(o)?e:e+o}),0)},a=function(t,e,n){var r=i(t,n),o=e>r?e-r:0;return o};return{set:n,get:r,getOuter:o,aggregate:i,max:a}},Fn=jn("height",(function(t){var e=t.dom;return hn(t)?e.getBoundingClientRect().height:e.offsetHeight})),qn=function(t){return Fn.get(t)},zn=function(t){return Fn.getOuter(t)},Un=function(t,e){var n=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"],r=Fn.max(t,e,n);Tn(t,"max-height",r+"px")},Hn=function t(e,n){var r=function(r,o){return t(e+r,n+o)};return{left:e,top:n,translate:r}},Vn=Hn,Wn=function(t){var e=t.getBoundingClientRect();return Vn(e.left,e.top)},$n=function(t,e){return void 0!==t?t:void 0!==e?e:0},Gn=function(t){var e=t.dom.ownerDocument,n=e.body,r=e.defaultView,o=e.documentElement;if(n===t.dom)return Vn(n.offsetLeft,n.offsetTop);var i=$n(null===r||void 0===r?void 0:r.pageYOffset,o.scrollTop),a=$n(null===r||void 0===r?void 0:r.pageXOffset,o.scrollLeft),u=$n(o.clientTop,n.clientTop),c=$n(o.clientLeft,n.clientLeft);return Kn(t).translate(a-c,i-u)},Kn=function(t){var e=t.dom,n=e.ownerDocument,r=n.body;return r===e?Vn(r.offsetLeft,r.offsetTop):hn(t)?Wn(e):Vn(0,0)},Yn=jn("width",(function(t){return t.dom.offsetWidth})),Xn=function(t,e){return Yn.set(t,e)},Zn=function(t){return Yn.get(t)},Jn=function(t){return Yn.getOuter(t)},Qn=function(t,e){var n=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"],r=Yn.max(t,e,n);Tn(t,"max-width",r+"px")},tr=function(t){var e,n=!1;return function(){if(!n){n=!0;for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];e=t.apply(null,o)}return e}},er=function(t,e,n,r){var o=t.isiOS()&&!0===/ipad/i.test(n),i=t.isiOS()&&!o,a=t.isiOS()||t.isAndroid(),u=a||r("(pointer:coarse)"),c=o||!i&&a&&r("(min-device-width:768px)"),s=i||a&&!c,l=e.isSafari()&&t.isiOS()&&!1===/safari/i.test(n),f=!s&&!c&&!l;return{isiPad:q(o),isiPhone:q(i),isTablet:q(c),isPhone:q(s),isTouch:q(u),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:q(l),isDesktop:q(f)}},nr=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r.test(e))return r}},rr=function(t,e){var n=nr(t,e);if(!n)return{major:0,minor:0};var r=function(t){return Number(e.replace(n,"$"+t))};return ar(r(1),r(2))},or=function(t,e){var n=String(e).toLowerCase();return 0===t.length?ir():rr(t,n)},ir=function(){return ar(0,0)},ar=function(t,e){return{major:t,minor:e}},ur={nu:ar,detect:or,unknown:ir},cr=function(t,e){return Tt(e.brands,(function(e){var n=e.brand.toLowerCase();return mt(t,(function(t){var e;return n===(null===(e=t.brand)||void 0===e?void 0:e.toLowerCase())})).map((function(t){return{current:t.name,version:ur.nu(parseInt(e.version,10),0)}}))}))},sr=function(t,e){var n=String(e).toLowerCase();return mt(t,(function(t){return t.search(n)}))},lr=function(t,e){return sr(t,e).map((function(t){var n=ur.detect(t.versionRegexes,e);return{current:t.name,version:n}}))},fr=function(t,e){return sr(t,e).map((function(t){var n=ur.detect(t.versionRegexes,e);return{current:t.name,version:n}}))},dr=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,pr=function(t){return function(e){return re(e,t)}},mr=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(t){return re(t,"edge/")&&re(t,"chrome")&&re(t,"safari")&&re(t,"applewebkit")}},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,dr],search:function(t){return re(t,"chrome")&&!re(t,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(t){return re(t,"msie")||re(t,"trident")}},{name:"Opera",versionRegexes:[dr,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:pr("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:pr("firefox")},{name:"Safari",versionRegexes:[dr,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(t){return(re(t,"safari")||re(t,"mobile/"))&&re(t,"applewebkit")}}],hr=[{name:"Windows",search:pr("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(t){return re(t,"iphone")||re(t,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:pr("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:pr("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:pr("linux"),versionRegexes:[]},{name:"Solaris",search:pr("sunos"),versionRegexes:[]},{name:"FreeBSD",search:pr("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:pr("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],vr={browsers:q(mr),oses:q(hr)},gr="Edge",br="Chromium",yr="IE",xr="Opera",wr="Firefox",_r="Safari",Cr=function(){return kr({current:void 0,version:ur.unknown()})},kr=function(t){var e=t.current,n=t.version,r=function(t){return function(){return e===t}};return{current:e,version:n,isEdge:r(gr),isChromium:r(br),isIE:r(yr),isOpera:r(xr),isFirefox:r(wr),isSafari:r(_r)}},Or={unknown:Cr,nu:kr,edge:q(gr),chromium:q(br),ie:q(yr),opera:q(xr),firefox:q(wr),safari:q(_r)},Sr="Windows",Er="iOS",Tr="Android",Ar="Linux",Nr="macOS",Rr="Solaris",Dr="FreeBSD",Pr="ChromeOS",Mr=function(){return Br({current:void 0,version:ur.unknown()})},Br=function(t){var e=t.current,n=t.version,r=function(t){return function(){return e===t}};return{current:e,version:n,isWindows:r(Sr),isiOS:r(Er),isAndroid:r(Tr),isMacOS:r(Nr),isLinux:r(Ar),isSolaris:r(Rr),isFreeBSD:r(Dr),isChromeOS:r(Pr)}},Lr={unknown:Mr,nu:Br,windows:q(Sr),ios:q(Er),android:q(Tr),linux:q(Ar),macos:q(Nr),solaris:q(Rr),freebsd:q(Dr),chromeos:q(Pr)},Ir=function(t,e,n){var r=vr.browsers(),o=vr.oses(),i=e.bind((function(t){return cr(r,t)})).orThunk((function(){return lr(r,t)})).fold(Or.unknown,Or.nu),a=fr(o,t).fold(Lr.unknown,Lr.nu),u=er(a,i,t,n);return{browser:i,os:a,deviceType:u}},jr={detect:Ir},Fr=function(t){return window.matchMedia(t).matches},qr=tr((function(){return jr.detect(navigator.userAgent,Y.from(navigator.userAgentData),Fr)})),zr=function(){return qr()},Ur=function(t,e,n,r,o,i,a){return{target:t,x:e,y:n,stop:r,prevent:o,kill:i,raw:a}},Hr=function(t){var e=ve.fromDom(pn(t).getOr(t.target)),n=function(){return t.stopPropagation()},r=function(){return t.preventDefault()},o=j(r,n);return Ur(e,t.clientX,t.clientY,n,r,o,t)},Vr=function(t,e){return function(n){t(n)&&e(Hr(n))}},Wr=function(t,e,n,r,o){var i=Vr(n,r);return t.dom.addEventListener(e,i,o),{unbind:H(Kr,t,e,i,o)}},$r=function(t,e,n,r){return Wr(t,e,n,r,!1)},Gr=function(t,e,n,r){return Wr(t,e,n,r,!0)},Kr=function(t,e,n,r){t.dom.removeEventListener(e,n,r)},Yr=function(t,e){var n=Ke(t);n.each((function(n){n.dom.insertBefore(e.dom,t.dom)}))},Xr=function(t,e){var n=Je(t);n.fold((function(){var n=Ke(t);n.each((function(t){Jr(t,e)}))}),(function(t){Yr(t,e)}))},Zr=function(t,e){var n=en(t);n.fold((function(){Jr(t,e)}),(function(n){t.dom.insertBefore(e.dom,n.dom)}))},Jr=function(t,e){t.dom.appendChild(e.dom)},Qr=function(t,e,n){tn(t,n).fold((function(){Jr(t,e)}),(function(t){Yr(t,e)}))},to=function(t,e){ut(e,(function(e){Jr(t,e)}))},eo=function(t){t.dom.textContent="",ut(Qe(t),(function(t){no(t)}))},no=function(t){var e=t.dom;null!==e.parentNode&&e.parentNode.removeChild(e)},ro=function(t){var e=void 0!==t?t.dom:document,n=e.body.scrollLeft||e.documentElement.scrollLeft,r=e.body.scrollTop||e.documentElement.scrollTop;return Vn(n,r)},oo=function(t,e,n){var r=void 0!==n?n.dom:document,o=r.defaultView;o&&o.scrollTo(t,e)},io=function(t){var e=void 0===t?window:t;return zr().browser.isFirefox()?Y.none():Y.from(e.visualViewport)},ao=function(t,e,n,r){return{x:t,y:e,width:n,height:r,right:t+n,bottom:e+r}},uo=function(t){var e=void 0===t?window:t,n=e.document,r=ro(ve.fromDom(n));return io(e).fold((function(){var t=e.document.documentElement,n=t.clientWidth,o=t.clientHeight;return ao(r.left,r.top,n,o)}),(function(t){return ao(Math.max(t.pageLeft,r.left),Math.max(t.pageTop,r.top),t.width,t.height)}))},co=function(){return ve.fromDom(document)},so=function t(e,n){var r=e.view(n);return r.fold(q([]),(function(n){var r=e.owner(n),o=t(e,r);return[n].concat(o)}))},lo=function(t,e){var n=e.owner(t),r=so(e,n);return Y.some(r)},fo=function(t){var e,n=t.dom===document?Y.none():Y.from(null===(e=t.dom.defaultView)||void 0===e?void 0:e.frameElement);return n.map(ve.fromDom)},po=function(t){return Ve(t)},mo=Object.freeze({__proto__:null,view:fo,owner:po}),ho=function(t){var e=co(),n=ro(e),r=lo(t,mo);return r.fold(H(Gn,t),(function(e){var r=Kn(t),o=ft(e,(function(t,e){var n=Kn(e);return{left:t.left+n.left,top:t.top+n.top}}),{left:0,top:0});return Vn(o.left+r.left+n.left,o.top+r.top+n.top)}))},vo=function(t,e,n){return{point:t,width:e,height:n}},go=function(t,e,n,r){return{x:t,y:e,width:n,height:r}},bo=function(t,e,n,r){return{x:t,y:e,width:n,height:r,right:t+n,bottom:e+r}},yo=function(t){var e=Gn(t),n=Jn(t),r=zn(t);return bo(e.left,e.top,n,r)},xo=function(t){var e=ho(t),n=Jn(t),r=zn(t);return bo(e.left,e.top,n,r)},wo=function(t,e){var n=Math.max(t.x,e.x),r=Math.max(t.y,e.y),o=Math.min(t.right,e.right),i=Math.min(t.bottom,e.bottom),a=o-n,u=i-r;return bo(n,r,a,u)},_o=function(t,e){return dt(e,(function(t,e){return wo(t,e)}),t)},Co=function(){return uo(window)},ko=tinymce.util.Tools.resolve("tinymce.ThemeManager"),Oo=function(t){var e=function(e){return e(t)},n=q(t),r=function(){return o},o={tag:!0,inner:t,fold:function(e,n){return n(t)},isValue:K,isError:G,map:function(e){return To.value(e(t))},mapError:r,bind:e,exists:e,forall:e,getOr:n,or:r,getOrThunk:n,orThunk:r,getOrDie:n,each:function(e){e(t)},toOptional:function(){return Y.some(t)}};return o},So=function(t){var e=function(){return n},n={tag:!1,inner:t,fold:function(e,n){return e(t)},isValue:G,isError:K,map:e,mapError:function(e){return To.error(e(t))},bind:e,exists:G,forall:K,getOr:z,or:z,getOrThunk:$,orThunk:$,getOrDie:W(String(t)),each:L,toOptional:Y.none};return n},Eo=function(t,e){return t.fold((function(){return So(e)}),Oo)},To={value:Oo,error:So,fromOption:Eo};(function(t){t[t["Error"]=0]="Error",t[t["Value"]=1]="Value"})(X||(X={}));var Ao=function(t,e,n){return t.stype===X.Error?e(t.serror):n(t.svalue)},No=function(t){var e=[],n=[];return ut(t,(function(t){Ao(t,(function(t){return n.push(t)}),(function(t){return e.push(t)}))})),{values:e,errors:n}},Ro=function(t,e){return t.stype===X.Error?{stype:X.Error,serror:e(t.serror)}:t},Do=function(t,e){return t.stype===X.Value?{stype:X.Value,svalue:e(t.svalue)}:t},Po=function(t,e){return t.stype===X.Value?e(t.svalue):t},Mo=function(t,e){return t.stype===X.Error?e(t.serror):t},Bo=function(t){return{stype:X.Value,svalue:t}},Lo=function(t){return{stype:X.Error,serror:t}},Io=function(t){return Ao(t,To.error,To.value)},jo=function(t){return t.fold(Lo,Bo)},Fo={fromResult:jo,toResult:Io,svalue:Bo,partition:No,serror:Lo,bind:Po,bindError:Mo,map:Do,mapError:Ro,fold:Ao},qo=function(t,e,n,r){return{tag:"field",key:t,newKey:e,presence:n,prop:r}},zo=function(t,e){return{tag:"custom",newKey:t,instantiator:e}},Uo=function(t,e,n){switch(t.tag){case"field":return e(t.key,t.newKey,t.presence,t.prop);case"custom":return n(t.newKey,t.instantiator)}},Ho=function(t,e){return e},Vo=function(t,e){var n=S(t)&&S(e);return n?$o(t,e):e},Wo=function(t){return function(){if(0===arguments.length)throw new Error("Can't merge zero objects");for(var e={},n=0;n<arguments.length;n++){var r=n<0||arguments.length<=n?void 0:arguments[n];for(var o in r)Ut(r,o)&&(e[o]=t(e[o],r[o]))}return e}},$o=Wo(Vo),Go=Wo(Ho),Ko=function(){return{tag:"required",process:{}}},Yo=function(t){return{tag:"defaultedThunk",process:t}},Xo=function(t){return Yo(q(t))},Zo=function(){return{tag:"option",process:{}}},Jo=function(t){return{tag:"mergeWithThunk",process:t}},Qo=function(t){return Jo(q(t))},ti=function(t,e){return t.length>0?Fo.svalue($o(e,Go.apply(void 0,t))):Fo.svalue(e)},ei=function(t){return j(Fo.serror,vt)(t)},ni=function(t,e){var n=Fo.partition(t);return n.errors.length>0?ei(n.errors):ti(n.values,e)},ri=function(t){var e=Fo.partition(t);return e.errors.length>0?ei(e.errors):Fo.svalue(e.values)},oi={consolidateObj:ni,consolidateArr:ri},ii=function(t){return O(t)&&At(t).length>100?" removed due to size":JSON.stringify(t,null,2)},ai=function(t){var e=t.length>10?t.slice(0,10).concat([{path:[],getErrorInfo:q("... (only showing first ten failures)")}]):t;return at(e,(function(t){return"Failed path: ("+t.path.join(" > ")+")\n"+t.getErrorInfo()}))},ui=function(t,e){return Fo.serror([{path:t,getErrorInfo:e}])},ci=function(t,e,n){return ui(t,(function(){return'Could not find valid *required* value for "'+e+'" in '+ii(n)}))},si=function(t,e){return ui(t,(function(){return'Choice schema did not contain choice key: "'+e+'"'}))},li=function(t,e,n){return ui(t,(function(){return'The chosen schema: "'+n+'" did not exist in branches: '+ii(e)}))},fi=function(t,e){return ui(t,(function(){return"There are unsupported fields: ["+e.join(", ")+"] specified"}))},di=function(t,e){return ui(t,q(e))},pi=function(t){var e=function(e,n){return Fo.bindError(t(n),(function(t){return di(e,t)}))},n=q("val");return{extract:e,toString:n}},mi=pi(Fo.svalue),hi=function(t,e,n,r){return zt(e,n).fold((function(){return ci(t,n,e)}),r)},vi=function(t,e,n,r){var o=zt(t,e).getOrThunk((function(){return n(t)}));return r(o)},gi=function(t,e,n){return n(zt(t,e))},bi=function(t,e,n,r){var o=zt(t,e).map((function(e){return!0===e?n(t):e}));return r(o)},yi=function(t,e,n,r,o){var i=function(t){return o.extract(e.concat([r]),t)},a=function(t){return t.fold((function(){return Fo.svalue(Y.none())}),(function(t){var n=o.extract(e.concat([r]),t);return Fo.map(n,Y.some)}))};switch(t.tag){case"required":return hi(e,n,r,i);case"defaultedThunk":return vi(n,r,t.process,i);case"option":return gi(n,r,a);case"defaultedOptionThunk":return bi(n,r,t.process,a);case"mergeWithThunk":return vi(n,r,q({}),(function(e){var r=$o(t.process(n),e);return i(r)}))}},xi=function(t,e,n){var r,o={},i=[],a=s(n);try{for(a.s();!(r=a.n()).done;){var u=r.value;Uo(u,(function(n,r,a,u){var s=yi(a,t,e,n,u);Fo.fold(s,(function(t){i.push.apply(i,c(t))}),(function(t){o[r]=t}))}),(function(t,n){o[t]=n(e)}))}}catch(l){a.e(l)}finally{a.f()}return i.length>0?Fo.serror(i):Fo.svalue(o)},wi=function(t){var e=function(e,n){return t().extract(e,n)},n=function(){return t().toString()};return{extract:e,toString:n}},_i=function(t){return At(It(t,D))},Ci=function(t){var e=ki(t),n=ft(t,(function(t,e){return Uo(e,(function(e){return $o(t,u({},e,!0))}),q(t))}),{}),r=function(t,r){var o=A(r)?[]:_i(r),i=lt(o,(function(t){return!Ht(n,t)}));return 0===i.length?e.extract(t,r):fi(t,i)};return{extract:r,toString:e.toString}},ki=function(t){var e=function(e,n){return xi(e,n,t)},n=function(){var e=at(t,(function(t){return Uo(t,(function(t,e,n,r){return t+" -> "+r.toString()}),(function(t,e){return"state("+t+")"}))}));return"obj{\n"+e.join("\n")+"}"};return{extract:e,toString:n}},Oi=function(t){var e=function(e,n){var r=at(n,(function(n,r){return t.extract(e.concat(["["+r+"]"]),n)}));return oi.consolidateArr(r)},n=function(){return"array("+t.toString()+")"};return{extract:e,toString:n}},Si=function(t,e){var n=void 0!==e?e:z,r=function(e,r){var o,i=[],a=s(t);try{for(a.s();!(o=a.n()).done;){var u=o.value,c=u.extract(e,r);if(c.stype===X.Value)return{stype:X.Value,svalue:n(c.svalue)};i.push(c)}}catch(l){a.e(l)}finally{a.f()}return oi.consolidateArr(i)},o=function(){return"oneOf("+at(t,(function(t){return t.toString()})).join(", ")+")"};return{extract:r,toString:o}},Ei=function(t,e){var n=function(e,n){return Oi(pi(t)).extract(e,n)},r=function(t,r){var o=At(r),i=n(t,o);return Fo.bind(i,(function(n){var o=at(n,(function(t){return qo(t,t,Ko(),e)}));return ki(o).extract(t,r)}))},o=function(){return"setOf("+e.toString()+")"};return{extract:r,toString:o}},Ti=function(t,e){var n=tr(e),r=function(t,e){return n().extract(t,e)},o=function(){return n().toString()};return{extract:r,toString:o}},Ai=j(Oi,ki),Ni=q(mi),Ri=function(t,e){return pi((function(n){var r=d(n);return t(n)?Fo.svalue(n):Fo.serror("Expected type: ".concat(e," but got: ").concat(r))}))},Di=Ri(M,"number"),Pi=Ri(k,"string"),Mi=Ri(A,"boolean"),Bi=Ri(P,"function"),Li=function t(e){if(Object(e)!==e)return!0;switch({}.toString.call(e).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(e).every((function(n){return t(e[n])}));default:return!1}},Ii=pi((function(t){return Li(t)?Fo.svalue(t):Fo.serror("Expected value to be acceptable for sending via postMessage")})),ji=function(t,e,n,r){var o=zt(n,r);return o.fold((function(){return li(t,n,r)}),(function(n){return n.extract(t.concat(["branch: "+r]),e)}))},Fi=function(t,e){var n=function(n,r){var o=zt(r,t);return o.fold((function(){return si(n,t)}),(function(t){return ji(n,r,e,t)}))},r=function(){return"chooseOn("+t+"). Possible values: "+At(e)};return{extract:n,toString:r}},qi=function(){return Oi(mi)},zi=function(t){return pi((function(e){return t(e).fold(Fo.serror,Fo.svalue)}))},Ui=function(t,e){return Ei((function(e){return Fo.fromResult(t(e))}),e)},Hi=function(t,e,n){var r=e.extract([t],n);return Fo.mapError(r,(function(t){return{input:n,errors:t}}))},Vi=function(t,e,n){return Fo.toResult(Hi(t,e,n))},Wi=function(t){return t.fold((function(t){throw new Error(Gi(t))}),z)},$i=function(t,e,n){return Wi(Vi(t,e,n))},Gi=function(t){return"Errors: \n"+ai(t.errors).join("\n")+"\n\nInput object: "+ii(t.input)},Ki=function(t,e){return Fi(t,Dt(e,ki))},Yi=function(t,e){return Ti(t,e)},Xi=qo,Zi=zo,Ji=function(t){return zi((function(e){return nt(t,e)?To.value(e):To.error('Unsupported value: "'.concat(e,'", choose one of "').concat(t.join(", "),'".'))}))},Qi=function(t){return Xi(t,t,Ko(),Ni())},ta=function(t,e){return Xi(t,t,Ko(),e)},ea=function(t){return ta(t,Di)},na=function(t){return ta(t,Pi)},ra=function(t,e){return Xi(t,t,Ko(),Ji(e))},oa=function(t){return ta(t,Mi)},ia=function(t){return ta(t,Bi)},aa=function(t,e){return Xi(t,t,Zo(),pi((function(n){return Fo.serror("The field: "+t+" is forbidden. "+e)})))},ua=function(t,e){return Xi(t,t,Ko(),ki(e))},ca=function(t,e){return Xi(t,t,Ko(),Ai(e))},sa=function(t,e){return Xi(t,t,Ko(),Oi(e))},la=function(t){return Xi(t,t,Zo(),Ni())},fa=function(t,e){return Xi(t,t,Zo(),e)},da=function(t){return fa(t,Di)},pa=function(t){return fa(t,Pi)},ma=function(t,e){return fa(t,Ji(e))},ha=function(t){return fa(t,Bi)},va=function(t,e){return fa(t,Oi(e))},ga=function(t,e){return fa(t,ki(e))},ba=function(t,e){return fa(t,Ci(e))},ya=function(t,e){return Xi(t,t,Xo(e),Ni())},xa=function(t,e,n){return Xi(t,t,Xo(e),n)},wa=function(t,e){return xa(t,e,Di)},_a=function(t,e){return xa(t,e,Pi)},Ca=function(t,e,n){return xa(t,e,Ji(n))},ka=function(t,e){return xa(t,e,Mi)},Oa=function(t,e){return xa(t,e,Bi)},Sa=function(t,e){return xa(t,e,Ii)},Ea=function(t,e,n){return xa(t,e,Oi(n))},Ta=function(t,e,n){return xa(t,e,ki(n))},Aa=function(t){var e=t,n=function(){return e},r=function(t){e=t};return{get:n,set:r}},Na=function(t){if(!E(t))throw new Error("cases must be an array");if(0===t.length)throw new Error("there must be at least one case");var e=[],n={};return ut(t,(function(r,o){var i=At(r);if(1!==i.length)throw new Error("one and only one name per case");var a=i[0],u=r[a];if(void 0!==n[a])throw new Error("duplicate key detected:"+a);if("cata"===a)throw new Error("cannot have a case named cata (sorry)");if(!E(u))throw new Error("case arguments must be an array");e.push(a),n[a]=function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var c=r.length;if(c!==u.length)throw new Error("Wrong number of arguments to case "+a+". Expected "+u.length+" ("+u+"), got "+c);var s=function(t){var n=At(t);if(e.length!==n.length)throw new Error("Wrong number of arguments to match. Expected: "+e.join(",")+"\nActual: "+n.join(","));var o=bt(e,(function(t){return nt(n,t)}));if(!o)throw new Error("Not all branches were specified when using match. Specified: "+n.join(", ")+"\nRequired: "+e.join(", "));return t[a].apply(null,r)};return{fold:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];if(n.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+n.length);var a=n[o];return a.apply(null,r)},match:s,log:function(t){console.log(t,{constructors:e,constructor:a,params:r})}}}})),n},Ra={generate:Na};Ra.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var Da,Pa=function(t){var e=[],n=[];return ut(t,(function(t){t.fold((function(t){e.push(t)}),(function(t){n.push(t)}))})),{errors:e,values:n}},Ma=function(t,e){var n={};return Rt(t,(function(t,r){nt(e,r)||(n[r]=t)})),n},Ba=function(t,e){return u({},t,e)},La=function(t){var e={};return ut(t,(function(t){e[t.key]=t.value})),e},Ia=function(t,e){return Ma(t,e)},ja=function(t,e){return Ba(t,e)},Fa=function(t){return La(t)},qa=function(t,e){return 0===t.length?To.value(e):To.value($o(e,Go.apply(void 0,t)))},za=function(t){return To.error(vt(t))},Ua=function(t,e){var n=Pa(t);return n.errors.length>0?za(n.errors):qa(n.values,e)},Ha=function(t){return P(t)?t:G},Va=function(t,e,n){var r=t.dom,o=Ha(n);while(r.parentNode){r=r.parentNode;var i=ve.fromDom(r),a=e(i);if(a.isSome())return a;if(o(i))break}return Y.none()},Wa=function(t,e,n){var r=e(t),o=Ha(n);return r.orThunk((function(){return o(t)?Y.none():Va(t,e,o)}))},$a=function(t,e){return Ue(t.element,e.event.target)},Ga={can:K,abort:G,run:L},Ka=function(t){if(!Ht(t,"can")&&!Ht(t,"abort")&&!Ht(t,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(t,null,2)+" does not have can, abort, or run!");return a(a({},Ga),t)},Ya=function(t,e){return function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return dt(t,(function(t,n){return t&&e(n).apply(void 0,r)}),!0)}},Xa=function(t,e){return function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return dt(t,(function(t,n){return t||e(n).apply(void 0,r)}),!1)}},Za=function(t){return P(t)?{can:K,abort:G,run:t}:t},Ja=function(t){var e=Ya(t,(function(t){return t.can})),n=Xa(t,(function(t){return t.abort})),r=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];ut(t,(function(t){t.run.apply(void 0,n)}))};return{can:e,abort:n,run:r}},Qa=q,tu=Qa("touchstart"),eu=Qa("touchmove"),nu=Qa("touchend"),ru=Qa("touchcancel"),ou=Qa("mousedown"),iu=Qa("mousemove"),au=Qa("mouseout"),uu=Qa("mouseup"),cu=Qa("mouseover"),su=Qa("focusin"),lu=Qa("focusout"),fu=Qa("keydown"),du=Qa("keyup"),pu=Qa("input"),mu=Qa("change"),hu=Qa("click"),vu=Qa("transitioncancel"),gu=Qa("transitionend"),bu=Qa("transitionstart"),yu=Qa("selectstart"),xu=function(t){return q("alloy."+t)},wu={tap:xu("tap")},_u=xu("focus"),Cu=xu("blur.post"),ku=xu("paste.post"),Ou=xu("receive"),Su=xu("execute"),Eu=xu("focus.item"),Tu=wu.tap,Au=xu("longpress"),Nu=xu("sandbox.close"),Ru=xu("typeahead.cancel"),Du=xu("system.init"),Pu=xu("system.touchmove"),Mu=xu("system.touchend"),Bu=xu("system.scroll"),Lu=xu("system.resize"),Iu=xu("system.attached"),ju=xu("system.detached"),Fu=xu("system.dismissRequested"),qu=xu("system.repositionRequested"),zu=xu("focusmanager.shifted"),Uu=xu("slotcontainer.visibility"),Hu=xu("system.external.element.scroll"),Vu=xu("change.tab"),Wu=xu("dismiss.tab"),$u=xu("highlight"),Gu=xu("dehighlight"),Ku=function(t,e){Ju(t,t.element,e,{})},Yu=function(t,e,n){Ju(t,t.element,e,n)},Xu=function(t){Ku(t,Su())},Zu=function(t,e,n){Ju(t,e,n,{})},Ju=function(t,e,n,r){var o=a({target:e},r);t.getSystem().triggerEvent(n,e,o)},Qu=function(t,e,n,r){var o=a(a({},r),{},{target:e});t.getSystem().triggerEvent(n,e,o)},tc=function(t,e,n,r){t.getSystem().triggerEvent(n,e,r.event)},ec=function(t){return Fa(t)},nc=function(t,e){return{key:t,value:Ka({abort:e})}},rc=function(t,e){return{key:t,value:Ka({can:e})}},oc=function(t){return{key:t,value:Ka({run:function(t,e){e.event.prevent()}})}},ic=function(t,e){return{key:t,value:Ka({run:e})}},ac=function(t,e,n){return{key:t,value:Ka({run:function(t,r){e.apply(void 0,[t,r].concat(n))}})}},uc=function(t){return function(e){return ic(t,e)}},cc=function(t){return function(e){return{key:t,value:Ka({run:function(t,n){$a(t,n)&&e(t,n)}})}}},sc=function(t,e){return ic(t,(function(n,r){n.getSystem().getByUid(e).each((function(e){tc(e,e.element,t,r)}))}))},lc=function(t,e,n){var r=e.partUids[n];return sc(t,r)},fc=function(t,e){return ic(t,(function(t,n){var r=n.event,o=t.getSystem().getByDom(r.target).getOrThunk((function(){var e=Wa(r.target,(function(e){return t.getSystem().getByDom(e).toOptional()}),G);return e.getOr(t)}));e(t,o,n)}))},dc=function(t){return ic(t,(function(t,e){e.cut()}))},pc=function(t){return ic(t,(function(t,e){e.stop()}))},mc=function(t,e){return cc(t)(e)},hc=cc(Iu()),vc=cc(ju()),gc=cc(Du()),bc=uc(Su()),yc=function(t,e){var n=e||document,r=n.createElement("div");return r.innerHTML=t,Qe(ve.fromDom(r))},xc=function(t){return t.dom.innerHTML},wc=function(t,e){var n=Ve(t),r=n.dom,o=ve.fromDom(r.createDocumentFragment()),i=yc(e,r);to(o,i),eo(t),Jr(t,o)},_c=function(t){var e=ve.fromTag("div"),n=ve.fromDom(t.dom.cloneNode(!0));return Jr(e,n),xc(e)},Cc=function(t,e){return ve.fromDom(t.dom.cloneNode(e))},kc=function(t){return Cc(t,!1)},Oc=function(t){if(on(t))return"#shadow-root";var e=kc(t);return _c(e)},Sc=function(t){return Oc(t)},Ec=function(t,e,n){return Ue(e,t.element)&&!Ue(e,n)},Tc=ec([rc(_u(),(function(t,e){var n=e.event,r=n.originator,o=n.target;return!Ec(t,r,o)||(console.warn(_u()+" did not get interpreted by the desired target. \nOriginator: "+Sc(r)+"\nTarget: "+Sc(o)+"\nCheck the "+_u()+" event handlers"),!1)}))]),Ac=Object.freeze({__proto__:null,events:Tc}),Nc=0,Rc=function(t){var e=new Date,n=e.getTime(),r=Math.floor(1e9*Math.random());return Nc++,t+"_"+r+Nc+String(n)},Dc=q("alloy-id-"),Pc=q("data-alloy-id"),Mc=Dc(),Bc=Pc(),Lc=function(t,e){var n=Rc(Mc+t);return Ic(e,n),n},Ic=function(t,e){Object.defineProperty(t.dom,Bc,{value:e,writable:!0})},jc=function(t){var e=Pe(t)?t.dom[Bc]:null;return Y.from(e)},Fc=function(t){return Rc(t)},qc=z,zc=function(t){var e=function(e){return"The component must be in a context to execute: ".concat(e)+(t?"\n"+Sc(t().element)+" is not in context.":"")},n=function(t){return function(){throw new Error(e(t))}},r=function(t){return function(){console.warn(e(t))}};return{debugInfo:q("fake"),triggerEvent:r("triggerEvent"),triggerFocus:r("triggerFocus"),triggerEscape:r("triggerEscape"),broadcast:r("broadcast"),broadcastOn:r("broadcastOn"),broadcastEvent:r("broadcastEvent"),build:n("build"),buildOrPatch:n("buildOrPatch"),addToWorld:n("addToWorld"),removeFromWorld:n("removeFromWorld"),addToGui:n("addToGui"),removeFromGui:n("removeFromGui"),getByUid:n("getByUid"),getByDom:n("getByDom"),isConnected:G}},Uc=zc(),Hc=function(t,e,n){var r=n.toString(),o=r.indexOf(")")+1,i=r.indexOf("("),a=r.substring(i+1,o-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:e,parameters:Vc(a.slice(0,1).concat(a.slice(3)))}},t},Vc=function(t){return at(t,(function(t){return ie(t,"/*")?t.substring(0,t.length-2):t}))},Wc=function(t,e){var n=t.toString(),r=n.indexOf(")")+1,o=n.indexOf("("),i=n.substring(o+1,r-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:e,parameters:Vc(i)}},t},$c=function(t,e){var n=e.toString(),r=n.indexOf(")")+1,o=n.indexOf("("),i=n.substring(o+1,r-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:"OVERRIDE",parameters:Vc(i.slice(1))}},t},Gc=Rc("alloy-premade"),Kc=function(t){return Object.defineProperty(t.element.dom,Gc,{value:t.uid,writable:!0}),ja(Gc,t)},Yc=function(t){return Ut(t.dom,Gc)},Xc=function(t){return zt(t,Gc)},Zc=function(t){return $c((function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return t.apply(void 0,[e.getApis(),e].concat(r))}),t)},Jc={init:function(){return Qc({readState:q("No State required")})}},Qc=function(t){return t},ts=function(t,e){var n=at(e,(function(t){return ga(t.name(),[Qi("config"),ya("state",Jc)])})),r=Vi("component.behaviours",ki(n),t.behaviours).fold((function(e){throw new Error(Gi(e)+"\nComplete spec:\n"+JSON.stringify(t,null,2))}),z);return{list:e,data:Dt(r,(function(t){var e=t.map((function(t){return{config:t.config,state:t.state.init(t.config)}}));return q(e)}))}},es=function(t){return t.list},ns=function(t){return t.data},rs=function(t,e){var n={};return Rt(t,(function(t,r){Rt(t,(function(t,o){var i=zt(n,o).getOr([]);n[o]=i.concat([e(r,t)])}))})),n},os=function(t){return{classes:N(t.classes)?[]:t.classes,attributes:N(t.attributes)?{}:t.attributes,styles:N(t.styles)?{}:t.styles}},is=function(t,e){return a(a({},t),{},{attributes:a(a({},t.attributes),e.attributes),styles:a(a({},t.styles),e.styles),classes:t.classes.concat(e.classes)})},as=function(t,e,n,r){var o=a({},e);ut(n,(function(e){o[e.name()]=e.exhibit(t,r)}));var i=rs(o,(function(t,e){return{name:t,modification:e}})),u=function(t){return ft(t,(function(t,e){return a(a({},e.modification),t)}),{})},c=ft(i.classes,(function(t,e){return e.modification.concat(t)}),[]),s=u(i.attributes),l=u(i.styles);return os({classes:c,attributes:s,styles:l})},us=function(t,e,n,r){try{var o=Ct(n,(function(n,o){var i=n[e],a=o[e],u=r.indexOf(i),c=r.indexOf(a);if(-1===u)throw new Error("The ordering for "+t+" does not have an entry for "+i+".\nOrder specified: "+JSON.stringify(r,null,2));if(-1===c)throw new Error("The ordering for "+t+" does not have an entry for "+a+".\nOrder specified: "+JSON.stringify(r,null,2));return u<c?-1:c<u?1:0}));return To.value(o)}catch(i){return To.error([i])}},cs=function(t,e){return{handler:t,purpose:e}},ss=function(t,e){return{cHandler:t,purpose:e}},ls=function(t,e){return ss(H.apply(void 0,[t.handler].concat(e)),t.purpose)},fs=function(t){return t.cHandler},ds=function(t,e){return{name:t,handler:e}},ps=function(t,e){var n={};return ut(t,(function(t){n[t.name()]=t.handlers(e)})),n},ms=function(t,e,n){var r=a(a({},n),ps(e,t));return rs(r,ds)},hs=function(t,e,n,r){var o=ms(t,n,r);return ys(o,e)},vs=function(t){var e=Za(t);return function(t,n){for(var r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];var a=[t,n].concat(o);e.abort.apply(void 0,a)?n.stop():e.can.apply(void 0,a)&&e.run.apply(void 0,a)}},gs=function(t,e){return To.error(["The event ("+t+') has more than one behaviour that listens to it.\nWhen this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).\nThe behaviours that can trigger it are: '+JSON.stringify(at(e,(function(t){return t.name})),null,2)])},bs=function(t,e,n){var r=e[n];return r?us("Event: "+n,"name",t,r).map((function(t){var e=at(t,(function(t){return t.handler}));return Ja(e)})):gs(n,t)},ys=function(t,e){var n=jt(t,(function(t,n){var r=1===t.length?To.value(t[0].handler):bs(t,e,n);return r.map((function(r){var o=vs(r),i=t.length>1?lt(e[n],(function(e){return rt(t,(function(t){return t.name===e}))})).join(" > "):t[0].name;return ja(n,cs(o,i))}))}));return Ua(n,{})},xs="alloy.base.behaviour",ws=ki([Xi("dom","dom",Ko(),ki([Qi("tag"),ya("styles",{}),ya("classes",[]),ya("attributes",{}),la("value"),la("innerHtml")])),Qi("components"),Qi("uid"),ya("events",{}),ya("apis",{}),Xi("eventOrder","eventOrder",Qo((t={},u(t,Su(),["disabling",xs,"toggling","typeaheadevents"]),u(t,_u(),[xs,"focusing","keying"]),u(t,Du(),[xs,"disabling","toggling","representing"]),u(t,pu(),[xs,"representing","streaming","invalidating"]),u(t,ju(),[xs,"representing","item-events","tooltipping"]),u(t,ou(),["focusing",xs,"item-type-events"]),u(t,tu(),["focusing",xs,"item-type-events"]),u(t,cu(),["item-type-events","tooltipping"]),u(t,Ou(),["receiving","reflecting","tooltipping"]),t)),Ni()),la("domModification")]),_s=function(t){return Vi("custom.definition",ws,t)},Cs=function(t){return a(a({},t.dom),{},{uid:t.uid,domChildren:at(t.components,(function(t){return t.element}))})},ks=function(t){return t.domModification.fold((function(){return os({})}),os)},Os=function(t){return t.events},Ss=function(t,e){var n=wn(t,e);return void 0===n||""===n?[]:n.split(" ")},Es=function(t,e,n){var r=Ss(t,e),o=r.concat([n]);return yn(t,e,o.join(" ")),!0},Ts=function(t,e,n){var r=lt(Ss(t,e),(function(t){return t!==n}));return r.length>0?yn(t,e,r.join(" ")):kn(t,e),!1},As=function(t){return void 0!==t.dom.classList},Ns=function(t){return Ss(t,"class")},Rs=function(t,e){return Es(t,"class",e)},Ds=function(t,e){return Ts(t,"class",e)},Ps=function(t,e){As(t)?t.dom.classList.add(e):Rs(t,e)},Ms=function(t){var e=As(t)?t.dom.classList:Ns(t);0===e.length&&kn(t,"class")},Bs=function(t,e){if(As(t)){var n=t.dom.classList;n.remove(e)}else Ds(t,e);Ms(t)},Ls=function(t,e){return As(t)&&t.dom.classList.contains(e)},Is=function(t,e){ut(e,(function(e){Ps(t,e)}))},js=function(t,e){ut(e,(function(e){Bs(t,e)}))},Fs=function(t,e){return bt(e,(function(e){return Ls(t,e)}))},qs=function(t){for(var e=t.dom.classList,n=new Array(e.length),r=0;r<e.length;r++){var o=e.item(r);null!==o&&(n[r]=o)}return n},zs=function(t){return As(t)?qs(t):Ns(t)},Us=function(t){return t.dom.value},Hs=function(t,e){if(void 0===e)throw new Error("Value.set was undefined");t.dom.value=e},Vs=function(t,e,n){var r=tn(t,e);return r.map((function(t){var e=n.exists((function(e){return!Ue(e,t)}));if(e){var r=n.map(Ae).getOr("span"),o=ve.fromTag(r);return Yr(t,o),o}return t}))},Ws=function(t,e,n){n.fold((function(){return Jr(t,e)}),(function(t){Ue(t,e)||(Yr(t,e),no(t))}))},$s=function(t,e,n){var r=at(e,n),o=Qe(t);return ut(o.slice(r.length),no),r},Gs=function(t,e,n,r){var o=tn(t,e),i=r(n,o),a=Vs(t,e,o);return Ws(t,i.element,a),i},Ks=function(t,e,n){return $s(t,e,(function(e,r){return Gs(t,r,e,n)}))},Ys=function(t,e){return $s(t,e,(function(e,n){var r=tn(t,n);return Ws(t,e,r),e}))},Xs=function(t,e){var n=At(t),r=At(e),o=xt(r,n),i=Lt(t,(function(t,n){return!Ut(e,n)||t!==e[n]})).t;return{toRemove:o,toSet:i}},Zs=function(t,e){var n=On(e),r=(n.class,n.style,i(n,p)),o=Xs(t.attributes,r),a=o.toSet,u=o.toRemove,c=function(){ut(u,(function(t){return kn(e,t)})),xn(e,a)},s=Mn(e),l=Xs(t.styles,s),f=l.toSet,d=l.toRemove,m=function(){ut(d,(function(t){return Ln(e,t)})),An(e,f)},h=zs(e),v=xt(h,t.classes),g=xt(t.classes,h),b=function(){Is(e,g),js(e,v)},y=function(t){wc(e,t)},x=function(){var n=t.domChildren;Ys(e,n)},w=function(){var n=e,r=t.value.getOrUndefined();r!==Us(n)&&Hs(n,null!==r&&void 0!==r?r:"")};return c(),b(),m(),t.innerHtml.fold(x,y),w(),e},Js=function(t){var e=ve.fromTag(t.tag);xn(e,t.attributes),Is(e,t.classes),An(e,t.styles),t.innerHtml.each((function(t){return wc(e,t)}));var n=t.domChildren;return to(e,n),t.value.each((function(t){Hs(e,t)})),e},Qs=function(t,e){try{var n=Zs(t,e);return Y.some(n)}catch(r){return Y.none()}},tl=function(t){return t.innerHtml.isSome()&&t.domChildren.length>0},el=function(t,e){var n=function(e){return Ae(e)===t.tag&&!tl(t)&&!Yc(e)},r=e.filter(n).bind((function(e){return Qs(t,e)})).getOrThunk((function(){return Js(t)}));return Ic(r,t.uid),r},nl=function(t){var e=zt(t,"behaviours").getOr({});return gt(At(e),(function(t){var n=e[t];return D(n)?[n.me]:[]}))},rl=function(t,e){return ts(t,e)},ol=function(t){var e=nl(t);return rl(t,e)},il=function(t,e,n){var r=Cs(t),o=ks(t),i={"alloy.base.modification":o},a=e.length>0?as(n,i,e,r):o;return is(r,a)},al=function(t,e,n){var r={"alloy.base.behaviour":Os(t)};return hs(n,t.eventOrder,e,r).getOrDie()},ul=function(t,e){var n=function(){return y},r=Aa(Uc),o=Wi(_s(t)),i=ol(t),a=es(i),u=ns(i),c=il(o,a,u),s=el(c,e),l=al(o,a,u),f=Aa(o.components),d=function(t){r.set(t)},p=function(){r.set(zc(n))},m=function(){var t=Qe(s),e=gt(t,(function(t){return r.get().getByDom(t).fold((function(){return[]}),_t)}));f.set(e)},h=function(e){var n=u,r=P(n[e.name()])?n[e.name()]:function(){throw new Error("Could not find "+e.name()+" in "+JSON.stringify(t,null,2))};return r()},v=function(t){return P(u[t.name()])},g=function(){return o.apis},b=function(t){return u[t]().map((function(t){return t.state.readState()})).getOr("not enabled")},y={uid:t.uid,getSystem:r.get,config:h,hasConfigured:v,spec:t,readState:b,getApis:g,connect:d,disconnect:p,element:s,syncComponents:m,components:f.get,events:l};return y},cl=function(t,e){var n=zt(t,"components").getOr([]);return e.fold((function(){return at(n,hl)}),(function(t){return at(n,(function(e,n){return ml(e,tn(t,n))}))}))},sl=function(t,e){var n=qc(t),r=n.events,o=i(n,m),u=cl(o,e),c=a(a({},o),{},{events:a(a({},Ac),r),components:u});return To.value(ul(c,e))},ll=function(t){var e=ve.fromText(t);return fl({element:e})},fl=function(t){var e=$i("external.component",Ci([Qi("element"),la("uid")]),t),n=Aa(zc()),r=function(t){n.set(t)},o=function(){n.set(zc((function(){return a})))},i=e.uid.getOrThunk((function(){return Fc("external")}));Ic(e.element,i);var a={uid:i,getSystem:n.get,config:Y.none,hasConfigured:G,connect:r,disconnect:o,getApis:function(){return{}},element:e.element,spec:t,readState:q("No state"),syncComponents:L,components:q([]),events:{}};return Kc(a)},dl=Fc,pl=function(t){return Ut(t,"uid")},ml=function(t,e){return Xc(t).getOrThunk((function(){var n=pl(t)?t:a({uid:dl("")},t);return sl(n,e).getOrDie()}))},hl=function(t){return ml(t,Y.none())},vl=Kc,gl=function(t,e,n,r,o){return t(n,r)?Y.some(n):P(o)&&o(n)?Y.none():e(n,r,o)},bl=function(t,e,n){var r=t.dom,o=P(n)?n:G;while(r.parentNode){r=r.parentNode;var i=ve.fromDom(r);if(e(i))return Y.some(i);if(o(i))break}return Y.none()},yl=function(t,e,n){var r=function(t,e){return e(t)};return gl(r,bl,t,e,n)},xl=function(t,e){var n=function(t){return e(ve.fromDom(t))},r=mt(t.dom.childNodes,n);return r.map(ve.fromDom)},wl=function(t,e){var n=function t(n){for(var r=0;r<n.childNodes.length;r++){var o=ve.fromDom(n.childNodes[r]);if(e(o))return Y.some(o);var i=t(n.childNodes[r]);if(i.isSome())return i}return Y.none()};return n(t.dom)},_l=function(t,e,n){return yl(t,e,n).isSome()},Cl=function(t,e,n){return bl(t,(function(t){return je(t,e)}),n)},kl=function(t,e){return xl(t,(function(t){return je(t,e)}))},Ol=function(t,e){return ze(e,t)},Sl=function(t,e,n){var r=function(t,e){return je(t,e)};return gl(r,Cl,t,e,n)},El="aria-controls",Tl=function(t){var e=yl(t,(function(t){if(!Pe(t))return!1;var e=wn(t,"id");return void 0!==e&&e.indexOf(El)>-1}));return e.bind((function(t){var e=wn(t,"id"),n=cn(t);return Ol(n,"[".concat(El,'="').concat(e,'"]'))}))},Al=function(){var t=Rc(El),e=function(e){yn(e,El,t)},n=function(t){kn(t,El)};return{id:t,link:e,unlink:n}},Nl=function(t,e){return Tl(e).exists((function(e){return Rl(t,e)}))},Rl=function(t,e){return _l(e,(function(e){return Ue(e,t.element)}),G)||Nl(t,e)},Dl="unknown";(function(t){t[t["STOP"]=0]="STOP",t[t["NORMAL"]=1]="NORMAL",t[t["LOGGING"]=2]="LOGGING"})(Da||(Da={}));var Pl=Aa({}),Ml=function(t,e){var n=[],r=(new Date).getTime();return{logEventCut:function(t,e,r){n.push({outcome:"cut",target:e,purpose:r})},logEventStopped:function(t,e,r){n.push({outcome:"stopped",target:e,purpose:r})},logNoParent:function(t,e,r){n.push({outcome:"no-parent",target:e,purpose:r})},logEventNoHandlers:function(t,e){n.push({outcome:"no-handlers-left",target:e})},logEventResponse:function(t,e,r){n.push({outcome:"response",purpose:r,target:e})},write:function(){var o=(new Date).getTime();nt(["mousemove","mouseover","mouseout",Du()],t)||console.log(t,{event:t,time:o-r,target:e.dom,sequence:at(n,(function(t){return nt(["cut","stopped","response"],t.outcome)?"{"+t.purpose+"} "+t.outcome+" at ("+Sc(t.target)+")":t.outcome}))})}}},Bl=function(t,e,n){var r=zt(Pl.get(),t).orThunk((function(){var e=At(Pl.get());return Tt(e,(function(e){return t.indexOf(e)>-1?Y.some(Pl.get()[e]):Y.none()}))})).getOr(Da.NORMAL);switch(r){case Da.NORMAL:return n(ql());case Da.LOGGING:var o=Ml(t,e),i=n(o);return o.write(),i;case Da.STOP:return!0}},Ll=["alloy/data/Fields","alloy/debugging/Debugging"],Il=function(){var t=new Error;if(void 0!==t.stack){var e=t.stack.split("\n");return mt(e,(function(t){return t.indexOf("alloy")>0&&!rt(Ll,(function(e){return t.indexOf(e)>-1}))})).getOr(Dl)}return Dl},jl={logEventCut:L,logEventStopped:L,logNoParent:L,logEventNoHandlers:L,logEventResponse:L,write:L},Fl=function(t,e,n){return Bl(t,e,n)},ql=q(jl),zl=q([Qi("menu"),Qi("selectedMenu")]),Ul=q([Qi("item"),Qi("selectedItem")]);q(ki(Ul().concat(zl())));var Hl=q(ki(Ul())),Vl=ua("initSize",[Qi("numColumns"),Qi("numRows")]),Wl=function(){return ta("markers",Hl())},$l=function(){return ua("markers",[Qi("backgroundMenu")].concat(zl()).concat(Ul()))},Gl=function(t){return ua("markers",at(t,Qi))},Kl=function(t,e,n){return Il(),Xi(e,e,n,zi((function(t){return To.value((function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.apply(void 0,n)}))})))},Yl=function(t){return Kl("onHandler",t,Xo(L))},Xl=function(t){return Kl("onKeyboardHandler",t,Xo(Y.none))},Zl=function(t){return Kl("onHandler",t,Ko())},Jl=function(t){return Kl("onKeyboardHandler",t,Ko())},Ql=function(t,e){return Zi(t,q(e))},tf=function(t){return Zi(t,z)},ef=q(Vl),nf=function(t,e,n,r,o,i,a){var u=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return{x:t,y:e,bubble:n,direction:r,placement:o,restriction:i,label:"".concat(a,"-").concat(o),alwaysFit:u}},rf=Ra.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),of=function(t,e,n,r,o,i,a,u,c){return t.fold(e,n,r,o,i,a,u,c)},af=function(t,e,n,r){return t.fold(e,e,r,r,e,r,n,n)},uf=function(t,e,n,r){return t.fold(e,r,e,r,n,n,e,r)},cf=rf.southeast,sf=rf.southwest,lf=rf.northeast,ff=rf.northwest,df=rf.south,pf=rf.north,mf=rf.east,hf=rf.west,vf=function(t,e,n,r){var o=t+e;return o>r?n:o<n?r:o},gf=function(t,e,n){return Math.min(Math.max(t,e),n)},bf=function(t,e){switch(e){case 1:return t.x;case 0:return t.x+t.width;case 2:return t.y;case 3:return t.y+t.height}},yf=function(t,e){return wt(["left","right","top","bottom"],(function(n){return zt(e,n).map((function(e){return bf(t,e)}))}))},xf=function(t,e,n){var r=function(r,o){return e[r].map((function(e){var i="top"===r||"bottom"===r,a=i?n.top:n.left,u="left"===r||"top"===r?Math.max:Math.min,c=u(e,o)+a;return i?gf(c,t.y,t.bottom):gf(c,t.x,t.right)})).getOr(o)},o=r("left",t.x),i=r("top",t.y),a=r("right",t.right),u=r("bottom",t.bottom);return bo(o,i,a-o,u-i)},wf="layout",_f=function(t){return t.x},Cf=function(t,e){return t.x+t.width/2-e.width/2},kf=function(t,e){return t.x+t.width-e.width},Of=function(t,e){return t.y-e.height},Sf=function(t){return t.y+t.height},Ef=function(t,e){return t.y+t.height/2-e.height/2},Tf=function(t){return t.x+t.width},Af=function(t,e){return t.x-e.width},Nf=function(t,e,n){return nf(_f(t),Sf(t),n.southeast(),cf(),"southeast",yf(t,{left:1,top:3}),wf)},Rf=function(t,e,n){return nf(kf(t,e),Sf(t),n.southwest(),sf(),"southwest",yf(t,{right:0,top:3}),wf)},Df=function(t,e,n){return nf(_f(t),Of(t,e),n.northeast(),lf(),"northeast",yf(t,{left:1,bottom:2}),wf)},Pf=function(t,e,n){return nf(kf(t,e),Of(t,e),n.northwest(),ff(),"northwest",yf(t,{right:0,bottom:2}),wf)},Mf=function(t,e,n){return nf(Cf(t,e),Of(t,e),n.north(),pf(),"north",yf(t,{bottom:2}),wf)},Bf=function(t,e,n){return nf(Cf(t,e),Sf(t),n.south(),df(),"south",yf(t,{top:3}),wf)},Lf=function(t,e,n){return nf(Tf(t),Ef(t,e),n.east(),mf(),"east",yf(t,{left:0}),wf)},If=function(t,e,n){return nf(Af(t,e),Ef(t,e),n.west(),hf(),"west",yf(t,{right:1}),wf)},jf=function(){return[Nf,Rf,Df,Pf,Bf,Mf,Lf,If]},Ff=function(){return[Rf,Nf,Pf,Df,Bf,Mf,Lf,If]},qf=function(){return[Df,Pf,Nf,Rf,Mf,Bf]},zf=function(){return[Pf,Df,Rf,Nf,Mf,Bf]},Uf=function(){return[Nf,Rf,Df,Pf,Bf,Mf]},Hf=function(){return[Rf,Nf,Pf,Df,Bf,Mf]},Vf=function(t,e){return e.universal?t:lt(t,(function(t){return nt(e.channels,t)}))},Wf=function(t){return ec([ic(Ou(),(function(e,n){var r=t.channels,o=At(r),i=n,a=Vf(o,i);ut(a,(function(t){var n=r[t],o=n.schema,a=$i("channel["+t+"] data\nReceiver: "+Sc(e.element),o,i.data);n.onReceive(e,a)}))}))])},$f=Object.freeze({__proto__:null,events:Wf}),Gf=[ta("channels",Ui(To.value,Ci([Zl("onReceive"),ya("schema",Ni())])))],Kf=function(t,e,n){return bc((function(r){n(r,t,e)}))},Yf=function(t,e,n){return gc((function(r,o){n(r,t,e)}))},Xf=function(t,e,n,r,o,i){var a=Ci(t),u=ga(e,[ba("config",t)]);return td(a,u,e,n,r,o,i)},Zf=function(t,e,n,r,o,i){var a=t,u=ga(e,[fa("config",t)]);return td(a,u,e,n,r,o,i)},Jf=function(t,e,n){var r=function(r){for(var o=arguments.length,i=new Array(o>1?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];var u=[r].concat(i);return r.config({name:q(t)}).fold((function(){throw new Error("We could not find any behaviour configuration for: "+t+". Using API: "+n)}),(function(t){var n=Array.prototype.slice.call(u,1);return e.apply(void 0,[r,t.config,t.state].concat(n))}))};return Hc(r,n,e)},Qf=function(t){return{key:t,value:void 0}},td=function(t,e,n,r,o,i,u){var c=function(t){return Ht(t,n)?t[n]():Y.none()},s=Dt(o,(function(t,e){return Jf(n,t,e)})),l=Dt(i,(function(t,e){return Wc(t,e)})),f=a(a(a({},l),s),{},{revoke:H(Qf,n),config:function(e){var r=$i(n+"-config",t,e);return{key:n,value:{config:r,me:f,configAsRaw:tr((function(){return $i(n+"-config",t,e)})),initialConfig:e,state:u}}},schema:q(e),exhibit:function(t,e){return Kt(c(t),zt(r,"exhibit"),(function(t,n){return n(e,t.config,t.state)})).getOrThunk((function(){return os({})}))},name:q(n),handlers:function(t){return c(t).map((function(t){var e=zt(r,"events").getOr((function(){return{}}));return e(t.config,t.state)})).getOr({})}});return f},ed=function(t){return Fa(t)},nd=Ci([Qi("fields"),Qi("name"),ya("active",{}),ya("apis",{}),ya("state",Jc),ya("extra",{})]),rd=function(t){var e=$i("Creating behaviour: "+t.name,nd,t);return Xf(e.fields,e.name,e.active,e.apis,e.extra,e.state)},od=Ci([Qi("branchKey"),Qi("branches"),Qi("name"),ya("active",{}),ya("apis",{}),ya("state",Jc),ya("extra",{})]),id=function(t){var e=$i("Creating behaviour: "+t.name,od,t);return Zf(Ki(e.branchKey,e.branches),e.name,e.active,e.apis,e.extra,e.state)},ad=q(void 0),ud=rd({fields:Gf,name:"receiving",active:$f}),cd=function(t,e){return os({classes:[],styles:e.useFixed()?{}:{position:"relative"}})},sd=Object.freeze({__proto__:null,exhibit:cd}),ld=function(t){return t.dom.focus()},fd=function(t){return t.dom.blur()},dd=function(t){var e=cn(t).dom;return t.dom===e.activeElement},pd=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:co();return Y.from(t.dom.activeElement).map(ve.fromDom)},md=function(t){return pd(cn(t)).filter((function(e){return t.dom.contains(e.dom)}))},hd=function(t,e){var n=cn(e),r=pd(n).bind((function(t){var n=function(e){return Ue(t,e)};return n(e)?Y.some(e):wl(e,n)})),o=t(e);return r.each((function(t){pd(n).filter((function(e){return Ue(e,t)})).fold((function(){ld(t)}),L)})),o},vd=function(t,e,n,r,o){var i=function(t){return t+"px"};return{position:t,left:e.map(i),top:n.map(i),right:r.map(i),bottom:o.map(i)}},gd=function(t){return a(a({},t),{},{position:Y.some(t.position)})},bd=function(t,e){Nn(t,gd(e))},yd=Ra.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),xd=function(t,e,n,r,o,i){var a=e.rect,u=a.x-n,c=a.y-r,s=a.width,l=a.height,f=o-(u+s),d=i-(c+l),p=Y.some(u),m=Y.some(c),h=Y.some(f),v=Y.some(d),g=Y.none();return of(e.direction,(function(){return vd(t,p,m,g,g)}),(function(){return vd(t,g,m,h,g)}),(function(){return vd(t,p,g,g,v)}),(function(){return vd(t,g,g,h,v)}),(function(){return vd(t,p,m,g,g)}),(function(){return vd(t,p,g,g,v)}),(function(){return vd(t,p,m,g,g)}),(function(){return vd(t,g,m,h,g)}))},wd=function(t,e){return t.fold((function(){var t=e.rect;return vd("absolute",Y.some(t.x),Y.some(t.y),Y.none(),Y.none())}),(function(t,n,r,o){return xd("absolute",e,t,n,r,o)}),(function(t,n,r,o){return xd("fixed",e,t,n,r,o)}))},_d=function(t,e){var n=H(ho,e),r=t.fold(n,n,(function(){var t=ro();return ho(e).translate(-t.left,-t.top)})),o=Jn(e),i=zn(e);return bo(r.left,r.top,o,i)},Cd=function(t,e){return e.fold((function(){return t.fold(Co,Co,bo)}),(function(e){return t.fold(q(e),q(e),(function(){var n=kd(t,e.x,e.y);return bo(n.left,n.top,e.width,e.height)}))}))},kd=function(t,e,n){var r=Vn(e,n),o=function(){var t=ro();return r.translate(-t.left,-t.top)};return t.fold(q(r),q(r),o)},Od=function(t,e,n,r){return t.fold(e,n,r)};yd.none;var Sd,Ed=yd.relative,Td=yd.fixed,Ad=function(t,e){return{anchorBox:t,origin:e}},Nd=function(t,e){return Ad(t,e)},Rd="data-alloy-placement",Dd=function(t,e){yn(t,Rd,e)},Pd=function(t){return _n(t,Rd)},Md=function(t){return kn(t,Rd)},Bd=Ra.generate([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),Ld=function(t,e){var n=e.x,r=e.y,o=e.right,i=e.bottom,a=t.x,u=t.y,c=t.right,s=t.bottom,l=t.width,f=t.height,d=a>=n&&a<=o,p=u>=r&&u<=i,m=d&&p,h=c<=o&&c>=n,v=s<=i&&s>=r,g=h&&v,b=Math.min(l,a>=n?o-a:c-n),y=Math.min(f,u>=r?i-u:s-r);return{originInBounds:m,sizeInBounds:g,visibleW:b,visibleH:y}},Id=function(t,e){var n=e.x,r=e.y,o=e.right,i=e.bottom,a=t.x,u=t.y,c=t.width,s=t.height,l=Math.max(n,o-c),f=Math.max(r,i-s),d=gf(a,n,l),p=gf(u,r,f),m=Math.min(d+c,o)-d,h=Math.min(p+s,i)-p;return bo(d,p,m,h)},jd=function(t,e,n){var r=q(e.bottom-n.y),o=q(n.bottom-e.y),i=af(t,o,o,r),a=q(e.right-n.x),u=q(n.right-e.x),c=uf(t,u,u,a);return{maxWidth:c,maxHeight:i}},Fd=function(t,e,n,r){var o=t.bubble,i=o.offset,a=xf(r,t.restriction,i),u=t.x+i.left,c=t.y+i.top,s=bo(u,c,e,n),l=Ld(s,a),f=l.originInBounds,d=l.sizeInBounds,p=l.visibleW,m=l.visibleH,h=f&&d,v=h?s:Id(s,a),g=v.width>0&&v.height>0,b=jd(t.direction,v,r),y=b.maxWidth,x=b.maxHeight,w={rect:v,maxHeight:x,maxWidth:y,direction:t.direction,placement:t.placement,classes:{on:o.classesOn,off:o.classesOff},layout:t.label,testY:c};return h||t.alwaysFit?Bd.fit(w):Bd.nofit(w,p,m,g)},qd=function(t,e,n,r,o,i){var a=r.width,u=r.height,c=function(e,c,s,l,f){var d=e(n,r,o,t,i),p=Fd(d,a,u,i);return p.fold(q(p),(function(t,e,n,r){var o=f===r?n>l||e>s:!f&&r;return o?p:Bd.nofit(c,s,l,f)}))},s=dt(e,(function(t,e){var n=H(c,e);return t.fold(q(t),n)}),Bd.nofit({rect:n,maxHeight:r.height,maxWidth:r.width,direction:cf(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:n.y},-1,-1,!1));return s.fold(z,z)},zd=function(t){var e=Aa(Y.none()),n=function(){return e.get().each(t)},r=function(){n(),e.set(Y.none())},o=function(){return e.get().isSome()},i=function(){return e.get()},a=function(t){n(),e.set(Y.some(t))};return{clear:r,isSet:o,get:i,set:a}},Ud=function(){return zd((function(t){return t.destroy()}))},Hd=function(){return zd((function(t){return t.unbind()}))},Vd=function(){var t=zd(L),e=function(e){return t.get().each(e)};return a(a({},t),{},{on:e})},Wd=K,$d=function(t,e,n){return $r(t,e,Wd,n)},Gd=function(t,e,n){return Gr(t,e,Wd,n)},Kd=Hr,Yd=["top","bottom","right","left"],Xd="data-alloy-transition-timer",Zd=function(t,e){return Fs(t,e.classes)},Jd=function(t,e,n){return n.exists((function(n){var r=t.mode;return"all"===r||n[r]!==e[r]}))},Qd=function(t,e){var n=function(t){return parseFloat(t).toFixed(3)};return Ft(e,(function(e,r){var o=t[r].map(n),i=e.map(n);return!Wt(o,i)})).isSome()},tp=function(t){var e=function(e){var n=Rn(t,e),r=n.split(/\s*,\s*/);return lt(r,ce)},n=function(t){if(k(t)&&/^[\d.]+/.test(t)){var e=parseFloat(t);return ie(t,"ms")?e:1e3*e}return 0},r=e("transition-delay"),o=e("transition-duration");return dt(o,(function(t,e,o){var i=n(r[o])+n(e);return Math.max(t,i)}),0)},ep=function(t,e){var n,r=Hd(),o=Hd(),i=function(e){var n,r=null!==(n=e.raw.pseudoElement)&&void 0!==n?n:"";return Ue(e.target,t)&&se(r)&&nt(Yd,e.raw.propertyName)},a=function(a){if(R(a)||i(a)){r.clear(),o.clear();var u=null===a||void 0===a?void 0:a.raw.type;(R(u)||u===gu())&&(clearTimeout(n),kn(t,Xd),js(t,e.classes))}},u=$d(t,bu(),(function(e){i(e)&&(u.unbind(),r.set($d(t,gu(),a)),o.set($d(t,vu(),a)))})),c=tp(t);requestAnimationFrame((function(){n=setTimeout(a,c+17),yn(t,Xd,n)}))},np=function(t,e){Is(t,e.classes),_n(t,Xd).each((function(e){clearTimeout(parseInt(e,10)),kn(t,Xd)})),ep(t,e)},rp=function(t,e,n,r,o,i){var u=Jd(r,o,i);if(u||Zd(t,r)){Tn(t,"position",n.position);var c=_d(e,t),s=wd(e,a(a({},o),{},{rect:c})),l=wt(Yd,(function(t){return s[t]}));Qd(n,l)&&(Nn(t,l),u&&np(t,r),In(t))}else js(t,r.classes)},op=function(t){return{width:Jn(t),height:zn(t)}},ip=function(t,e,n,r){Ln(e,"max-height"),Ln(e,"max-width");var o=op(e);return qd(e,r.preference,t,o,n,r.bounds)},ap=function(t,e){var n=e.classes;js(t,n.off),Is(t,n.on)},up=function(t,e,n){var r=n.maxHeightFunction;r(t,e.maxHeight)},cp=function(t,e,n){var r=n.maxWidthFunction;r(t,e.maxWidth)},sp=function(t,e,n){var r=wd(n.origin,e);n.transition.each((function(o){rp(t,n.origin,r,o,e,n.lastPlacement)})),bd(t,r)},lp=function(t,e){Dd(t,e.placement)},fp=function(t,e){Un(t,Math.floor(e))},dp=q((function(t,e){fp(t,e),An(t,{"overflow-x":"hidden","overflow-y":"auto"})})),pp=q((function(t,e){fp(t,e)})),mp=function(t,e,n){return void 0===t[e]?n:t[e]},hp=function(t,e,n,r,o,i,a,u){var c=mp(a,"maxHeightFunction",dp()),s=mp(a,"maxWidthFunction",L),l=t.anchorBox,f=t.origin,d={bounds:Cd(f,i),origin:f,preference:r,maxHeightFunction:c,maxWidthFunction:s,lastPlacement:o,transition:u};return vp(l,e,n,d)},vp=function(t,e,n,r){var o=ip(t,e,n,r);return sp(e,o,r),lp(e,o),ap(e,o),up(e,o,r),cp(e,o,r),{layout:o.layout,placement:o.placement}},gp=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],bp=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=t*r,i=e*r,a=function(t){return zt(n,t).getOr([])},u=function(t,e,n){var r=xt(gp,n);return{offset:Vn(t,e),classesOn:gt(n,a),classesOff:gt(r,a)}};return{southeast:function(){return u(-t,e,["top","alignLeft"])},southwest:function(){return u(t,e,["top","alignRight"])},south:function(){return u(-t/2,e,["top","alignCentre"])},northeast:function(){return u(-t,-e,["bottom","alignLeft"])},northwest:function(){return u(t,-e,["bottom","alignRight"])},north:function(){return u(-t/2,-e,["bottom","alignCentre"])},east:function(){return u(t,-e/2,["valignCentre","left"])},west:function(){return u(-t,-e/2,["valignCentre","right"])},insetNortheast:function(){return u(o,i,["top","alignLeft","inset"])},insetNorthwest:function(){return u(-o,i,["top","alignRight","inset"])},insetNorth:function(){return u(-o/2,i,["top","alignCentre","inset"])},insetSoutheast:function(){return u(o,-i,["bottom","alignLeft","inset"])},insetSouthwest:function(){return u(-o,-i,["bottom","alignRight","inset"])},insetSouth:function(){return u(-o/2,-i,["bottom","alignCentre","inset"])},insetEast:function(){return u(-o,-i/2,["valignCentre","right","inset"])},insetWest:function(){return u(o,-i/2,["valignCentre","left","inset"])}}},yp=function(){return bp(0,0,{})},xp=z,wp=function(t,e){return function(n){return"rtl"===_p(n)?e:t}},_p=function(t){return"rtl"===Rn(t,"direction")?"rtl":"ltr"};(function(t){t["TopToBottom"]="toptobottom",t["BottomToTop"]="bottomtotop"})(Sd||(Sd={}));var Cp="data-alloy-vertical-dir",kp=function(t){return _l(t,(function(t){return Pe(t)&&wn(t,"data-alloy-vertical-dir")===Sd.BottomToTop}))},Op=function(){return ga("layouts",[Qi("onLtr"),Qi("onRtl"),la("onBottomLtr"),la("onBottomRtl")])},Sp=function(t,e,n,r,o,i,a){var u=a.map(kp).getOr(!1),c=e.layouts.map((function(e){return e.onLtr(t)})),s=e.layouts.map((function(e){return e.onRtl(t)})),l=u?e.layouts.bind((function(e){return e.onBottomLtr.map((function(e){return e(t)}))})).or(c).getOr(o):c.getOr(n),f=u?e.layouts.bind((function(e){return e.onBottomRtl.map((function(e){return e(t)}))})).or(s).getOr(i):s.getOr(r),d=wp(l,f);return d(t)},Ep=function(t,e,n){var r=e.hotspot,o=_d(n,r.element),i=Sp(t.element,e,Uf(),Hf(),qf(),zf(),Y.some(e.hotspot.element));return Y.some(xp({anchorBox:o,bubble:e.bubble.getOr(yp()),overrides:e.overrides,layouts:i}))},Tp=[Qi("hotspot"),la("bubble"),ya("overrides",{}),Op(),Ql("placement",Ep)],Ap=function(t,e,n){var r=kd(n,e.x,e.y),o=bo(r.left,r.top,e.width,e.height),i=Sp(t.element,e,jf(),Ff(),jf(),Ff(),Y.none());return Y.some(xp({anchorBox:o,bubble:e.bubble,overrides:e.overrides,layouts:i}))},Np=[Qi("x"),Qi("y"),ya("height",0),ya("width",0),ya("bubble",yp()),ya("overrides",{}),Op(),Ql("placement",Ap)],Rp=Ra.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),Dp=function(t){return t.fold(z,(function(t,e,n){return t.translate(-e,-n)}))},Pp=function(t){return t.fold(z,z)},Mp=function(t){return dt(t,(function(t,e){return t.translate(e.left,e.top)}),Vn(0,0))},Bp=function(t){var e=at(t,Dp);return Mp(e)},Lp=function(t){var e=at(t,Pp);return Mp(e)},Ip=Rp.screen,jp=Rp.absolute,Fp=function(t,e,n){var r=Ge(n.root).dom,o=function(e){var n=Ve(e),r=Ve(t.element);return Ue(n,r)};return Y.from(r.frameElement).map(ve.fromDom).filter(o).map(Gn)},qp=function(t,e,n){var r=Ve(t.element),o=ro(r),i=Fp(t,e,n).getOr(o);return jp(i,o.left,o.top)},zp=function(t,e,n,r){var o=Ip(Vn(t,e));return Y.some(vo(o,n,r))},Up=function(t,e,n,r,o){return t.map((function(t){var i=[e,t.point],a=Od(r,(function(){return Lp(i)}),(function(){return Lp(i)}),(function(){return Bp(i)})),u=go(a.left,a.top,t.width,t.height),c=n.showAbove?qf():Uf(),s=n.showAbove?zf():Hf(),l=Sp(o,n,c,s,c,s,Y.none());return xp({anchorBox:u,bubble:n.bubble.getOr(yp()),overrides:n.overrides,layouts:l})}))},Hp=function(t,e,n){var r=qp(t,n,e);return e.node.filter(hn).bind((function(o){var i=o.dom.getBoundingClientRect(),a=zp(i.left,i.top,i.width,i.height),u=e.node.getOr(t.element);return Up(a,r,e,n,u)}))},Vp=[Qi("node"),Qi("root"),la("bubble"),Op(),ya("overrides",{}),ya("showAbove",!1),Ql("placement",Hp)],Wp="\ufeff",$p=" ",Gp=function(t,e,n,r){return{start:t,soffset:e,finish:n,foffset:r}},Kp={create:Gp},Yp=Ra.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Xp=function(t,e,n,r){return t.fold(e,n,r)},Zp=function(t){return t.fold(z,z,z)},Jp=Yp.before,Qp=Yp.on,tm=Yp.after,em={before:Jp,on:Qp,after:tm,cata:Xp,getStart:Zp},nm=Ra.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),rm=function(t){return nm.exact(t.start,t.soffset,t.finish,t.foffset)},om=function(t){return t.match({domRange:function(t){return ve.fromDom(t.startContainer)},relative:function(t,e){return em.getStart(t)},exact:function(t,e,n,r){return t}})},im=nm.domRange,am=nm.relative,um=nm.exact,cm=function(t){var e=om(t);return Ge(e)},sm=Kp.create,lm={domRange:im,relative:am,exact:um,exactFromRange:rm,getWin:cm,range:sm},fm=function(t,e){e.fold((function(e){t.setStartBefore(e.dom)}),(function(e,n){t.setStart(e.dom,n)}),(function(e){t.setStartAfter(e.dom)}))},dm=function(t,e){e.fold((function(e){t.setEndBefore(e.dom)}),(function(e,n){t.setEnd(e.dom,n)}),(function(e){t.setEndAfter(e.dom)}))},pm=function(t,e,n){var r=t.document.createRange();return fm(r,e),dm(r,n),r},mm=function(t,e,n,r,o){var i=t.document.createRange();return i.setStart(e.dom,n),i.setEnd(r.dom,o),i},hm=function(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom,width:t.width,height:t.height}},vm=function(t){var e=t.getClientRects(),n=e.length>0?e[0]:t.getBoundingClientRect();return n.width>0||n.height>0?Y.some(n).map(hm):Y.none()},gm=function(t){var e=t.getBoundingClientRect();return e.width>0||e.height>0?Y.some(e).map(hm):Y.none()},bm=Ra.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),ym=function(t,e,n){return e(ve.fromDom(n.startContainer),n.startOffset,ve.fromDom(n.endContainer),n.endOffset)},xm=function(t,e){return e.match({domRange:function(t){return{ltr:q(t),rtl:Y.none}},relative:function(e,n){return{ltr:tr((function(){return pm(t,e,n)})),rtl:tr((function(){return Y.some(pm(t,n,e))}))}},exact:function(e,n,r,o){return{ltr:tr((function(){return mm(t,e,n,r,o)})),rtl:tr((function(){return Y.some(mm(t,r,o,e,n))}))}}})},wm=function(t,e){var n=e.ltr();if(n.collapsed){var r=e.rtl().filter((function(t){return!1===t.collapsed}));return r.map((function(t){return bm.rtl(ve.fromDom(t.endContainer),t.endOffset,ve.fromDom(t.startContainer),t.startOffset)})).getOrThunk((function(){return ym(t,bm.ltr,n)}))}return ym(t,bm.ltr,n)},_m=function(t,e){var n=xm(t,e);return wm(t,n)},Cm=function(t,e){var n=_m(t,e);return n.match({ltr:function(e,n,r,o){var i=t.document.createRange();return i.setStart(e.dom,n),i.setEnd(r.dom,o),i},rtl:function(e,n,r,o){var i=t.document.createRange();return i.setStart(r.dom,o),i.setEnd(e.dom,n),i}})};bm.ltr,bm.rtl;var km,Om=function(t,e,n){return lt(Xe(t,n),e)},Sm=function(t,e){return qe(e,t)},Em=function(t,e,n,r){var o=Ve(t),i=o.dom.createRange();return i.setStart(t.dom,e),i.setEnd(n.dom,r),i},Tm=function(t,e,n,r){var o=Em(t,e,n,r),i=Ue(t,n)&&e===r;return o.collapsed&&!i},Am=function(t){return Y.from(t.getSelection())},Nm=function(t){if(t.rangeCount>0){var e=t.getRangeAt(0),n=t.getRangeAt(t.rangeCount-1);return Y.some(Kp.create(ve.fromDom(e.startContainer),e.startOffset,ve.fromDom(n.endContainer),n.endOffset))}return Y.none()},Rm=function(t){if(null===t.anchorNode||null===t.focusNode)return Nm(t);var e=ve.fromDom(t.anchorNode),n=ve.fromDom(t.focusNode);return Tm(e,t.anchorOffset,n,t.focusOffset)?Y.some(Kp.create(e,t.anchorOffset,n,t.focusOffset)):Nm(t)},Dm=function(t){return Am(t).filter((function(t){return t.rangeCount>0})).bind(Rm)},Pm=function(t,e){var n=Cm(t,e);return vm(n)},Mm=function(t,e){var n=Cm(t,e);return gm(n)},Bm=function(t,e){var n=function(n){if(!t(n))throw new Error("Can only get "+e+" value of a "+e+" node");return r(n).getOr("")},r=function(e){return t(e)?Y.from(e.dom.nodeValue):Y.none()},o=function(n,r){if(!t(n))throw new Error("Can only set raw "+e+" value of a "+e+" node");n.dom.nodeValue=r};return{get:n,getOption:r,set:o}},Lm=Bm(Me,"text"),Im=function(t){return Lm.get(t)},jm=function(t,e){return{element:t,offset:e}},Fm=function(t,e){var n=Qe(t);if(0===n.length)return jm(t,e);if(e<n.length)return jm(n[e],0);var r=n[n.length-1],o=Me(r)?Im(r).length:Qe(r).length;return jm(r,o)},qm=function(t,e){return Me(t)?jm(t,e):Fm(t,e)},zm=function(t,e){var n=e.getSelection.getOrThunk((function(){return function(){return Dm(t)}}));return n().map((function(t){var e=qm(t.start,t.soffset),n=qm(t.finish,t.foffset);return lm.range(e.element,e.offset,n.element,n.offset)}))},Um=function(t,e,n){var r=Ge(e.root).dom,o=qp(t,n,e),i=zm(r,e).bind((function(t){var e=Mm(r,lm.exactFromRange(t)).orThunk((function(){var e=ve.fromText(Wp);Yr(t.start,e);var n=Pm(r,lm.exact(e,0,e,1));return no(e),n}));return e.bind((function(t){return zp(t.left,t.top,t.width,t.height)}))})),a=zm(r,e).bind((function(t){return Pe(t.start)?Y.some(t.start):Ye(t.start)})),u=a.getOr(t.element);return Up(i,o,e,n,u)},Hm=[la("getSelection"),Qi("root"),la("bubble"),Op(),ya("overrides",{}),ya("showAbove",!1),Ql("placement",Um)],Vm="link-layout",Wm=function(t){return t.x+t.width},$m=function(t,e){return t.x-e.width},Gm=function(t,e){return t.y-e.height+t.height},Km=function(t){return t.y},Ym=function(t,e,n){return nf(Wm(t),Km(t),n.southeast(),cf(),"southeast",yf(t,{left:0,top:2}),Vm)},Xm=function(t,e,n){return nf($m(t,e),Km(t),n.southwest(),sf(),"southwest",yf(t,{right:1,top:2}),Vm)},Zm=function(t,e,n){return nf(Wm(t),Gm(t,e),n.northeast(),lf(),"northeast",yf(t,{left:0,bottom:3}),Vm)},Jm=function(t,e,n){return nf($m(t,e),Gm(t,e),n.northwest(),ff(),"northwest",yf(t,{right:1,bottom:3}),Vm)},Qm=function(){return[Ym,Xm,Zm,Jm]},th=function(){return[Xm,Ym,Jm,Zm]},eh=function(t,e,n){var r=_d(n,e.item.element),o=Sp(t.element,e,Qm(),th(),Qm(),th(),Y.none());return Y.some(xp({anchorBox:r,bubble:yp(),overrides:e.overrides,layouts:o}))},nh=[Qi("item"),Op(),ya("overrides",{}),Ql("placement",eh)],rh=Ki("type",{selection:Hm,node:Vp,hotspot:Tp,submenu:nh,makeshift:Np}),oh=[sa("classes",Pi),Ca("mode","all",["all","layout","placement"])],ih=[ya("useFixed",G),la("getBounds")],ah=[ta("anchor",rh),ga("transition",oh)],uh=function(){var t=document.documentElement;return Td(0,0,t.clientWidth,t.clientHeight)},ch=function(t){var e=Gn(t.element),n=t.element.dom.getBoundingClientRect();return Ed(e.left,e.top,n.width,n.height)},sh=function(t,e,n,r,o,i){var a=Nd(e.anchorBox,t);return hp(a,r.element,e.bubble,e.layouts,o,n,e.overrides,i)},lh=function(t,e,n,r,o){var i=Y.none();fh(t,e,n,r,o,i)},fh=function(t,e,n,r,o,i){var a=$i("placement.info",ki(ah),o),u=a.anchor,c=r.element,s=n.get(r.uid);hd((function(){Tn(c,"position","fixed");var o=Pn(c,"visibility");Tn(c,"visibility","hidden");var l=e.useFixed()?uh():ch(t);u.placement(t,u,l).each((function(t){var o=i.orThunk((function(){return e.getBounds.map($)})),u=sh(l,t,o,r,s,a.transition);n.set(r.uid,u)})),o.fold((function(){Ln(c,"visibility")}),(function(t){Tn(c,"visibility",t)})),Pn(c,"left").isNone()&&Pn(c,"top").isNone()&&Pn(c,"right").isNone()&&Pn(c,"bottom").isNone()&&Vt(Pn(c,"position"),"fixed")&&Ln(c,"position")}),c)},dh=function(t,e,n){return e.useFixed()?"fixed":"absolute"},ph=function(t,e,n,r){var o=r.element;ut(["position","left","right","top","bottom"],(function(t){return Ln(o,t)})),Md(o),n.clear(r.uid)},mh=Object.freeze({__proto__:null,position:lh,positionWithinBounds:fh,getMode:dh,reset:ph}),hh=function(){var t={},e=function(e,n){t[e]=n},n=function(e){return zt(t,e)},r=function(e){D(e)?delete t[e]:t={}};return Qc({readState:function(){return t},clear:r,set:e,get:n})},vh=Object.freeze({__proto__:null,init:hh}),gh=rd({fields:ih,name:"positioning",active:sd,apis:mh,state:vh}),bh=function(t){return t.getSystem().isConnected()},yh=function t(e){Ku(e,ju());var n=e.components();ut(n,t)},xh=function t(e){var n=e.components();ut(n,t),Ku(e,Iu())},wh=function(t,e){t.getSystem().addToWorld(e),hn(t.element)&&xh(e)},_h=function(t){yh(t),t.getSystem().removeFromWorld(t)},Ch=function(t,e){Jr(t.element,e.element)},kh=function(t){ut(t.components(),(function(t){return no(t.element)})),eo(t.element),t.syncComponents()},Oh=function(t,e,n){var r=t.components();kh(t);var o=n(e),i=xt(r,o);ut(i,(function(e){yh(e),t.getSystem().removeFromWorld(e)})),ut(o,(function(e){bh(e)?Ch(t,e):(t.getSystem().addToWorld(e),Ch(t,e),hn(t.element)&&xh(e))})),t.syncComponents()},Sh=function(t,e,n){var r=t.components(),o=gt(e,(function(t){return Xc(t).toArray()}));ut(r,(function(t){nt(o,t)||_h(t)}));var i=n(e),a=xt(r,i);ut(a,(function(t){bh(t)&&_h(t)})),ut(i,(function(e){bh(e)||wh(t,e)})),t.syncComponents()},Eh=function(t,e){Th(t,e,Jr)},Th=function(t,e,n){t.getSystem().addToWorld(e),n(t.element,e.element),hn(t.element)&&xh(e),t.syncComponents()},Ah=function(t){yh(t),no(t.element),t.getSystem().removeFromWorld(t)},Nh=function(t){var e=Ke(t.element).bind((function(e){return t.getSystem().getByDom(e).toOptional()}));Ah(t),e.each((function(t){t.syncComponents()}))},Rh=function(t){var e=t.components();ut(e,Ah),eo(t.element),t.syncComponents()},Dh=function(t,e){Mh(t,e,Jr)},Ph=function(t,e){Mh(t,e,Xr)},Mh=function(t,e,n){n(t,e.element);var r=Qe(e.element);ut(r,(function(t){e.getByDom(t).each(xh)}))},Bh=function(t){var e=Qe(t.element);ut(e,(function(e){t.getByDom(e).each(yh)})),no(t.element)},Lh=function(t,e,n,r){n.get().each((function(e){Rh(t)}));var o=e.getAttachPoint(t);Eh(o,t);var i=t.getSystem().build(r);return Eh(t,i),n.set(i),i},Ih=function(t,e,n,r){var o=Lh(t,e,n,r);return e.onOpen(t,o),o},jh=function(t,e,n,r){return n.get().map((function(){return Lh(t,e,n,r)}))},Fh=function(t,e,n,r,o){$h(t,e),Ih(t,e,n,r),o(),Kh(t,e)},qh=function(t,e,n){n.get().each((function(r){Rh(t),Nh(t),e.onClose(t,r),n.clear()}))},zh=function(t,e,n){return n.isOpen()},Uh=function(t,e,n,r){return zh(t,e,n)&&n.get().exists((function(n){return e.isPartOf(t,n,r)}))},Hh=function(t,e,n){return n.get()},Vh=function(t,e,n,r){Pn(t.element,e).fold((function(){kn(t.element,n)}),(function(e){yn(t.element,n,e)})),Tn(t.element,e,r)},Wh=function(t,e,n){_n(t.element,n).fold((function(){return Ln(t.element,e)}),(function(n){return Tn(t.element,e,n)}))},$h=function(t,e,n){var r=e.getAttachPoint(t);Tn(t.element,"position",gh.getMode(r)),Vh(t,"visibility",e.cloakVisibilityAttr,"hidden")},Gh=function(t){return rt(["top","left","right","bottom"],(function(e){return Pn(t,e).isSome()}))},Kh=function(t,e,n){Gh(t.element)||Ln(t.element,"position"),Wh(t,"visibility",e.cloakVisibilityAttr)},Yh=Object.freeze({__proto__:null,cloak:$h,decloak:Kh,open:Ih,openWhileCloaked:Fh,close:qh,isOpen:zh,isPartOf:Uh,getState:Hh,setContent:jh}),Xh=function(t,e){return ec([ic(Nu(),(function(n,r){qh(n,t,e)}))])},Zh=Object.freeze({__proto__:null,events:Xh}),Jh=[Yl("onOpen"),Yl("onClose"),Qi("isPartOf"),Qi("getAttachPoint"),ya("cloakVisibilityAttr","data-precloak-visibility")],Qh=function(){var t=Vd(),e=q("not-implemented");return Qc({readState:e,isOpen:t.isSet,clear:t.clear,set:t.set,get:t.get})},tv=Object.freeze({__proto__:null,init:Qh}),ev=rd({fields:Jh,name:"sandboxing",active:Zh,apis:Yh,state:tv}),nv=q("dismiss.popups"),rv=q("reposition.popups"),ov=q("mouse.released"),iv=Ci([ya("isExtraPart",G),ga("fireEventInstead",[ya("event",Fu())])]),av=function(t){var e=$i("Dismissal",iv,t);return u({},nv(),{schema:Ci([Qi("target")]),onReceive:function(t,n){if(ev.isOpen(t)){var r=ev.isPartOf(t,n.target)||e.isExtraPart(t,n.target);r||e.fireEventInstead.fold((function(){return ev.close(t)}),(function(e){return Ku(t,e.event)}))}}})},uv=Ci([ga("fireEventInstead",[ya("event",qu())]),ia("doReposition")]),cv=function(t){var e=$i("Reposition",uv,t);return u({},rv(),{onReceive:function(t){ev.isOpen(t)&&e.fireEventInstead.fold((function(){return e.doReposition(t)}),(function(e){return Ku(t,e.event)}))}})},sv=function(t,e,n){e.store.manager.onLoad(t,e,n)},lv=function(t,e,n){e.store.manager.onUnload(t,e,n)},fv=function(t,e,n,r){e.store.manager.setValue(t,e,n,r)},dv=function(t,e,n){return e.store.manager.getValue(t,e,n)},pv=function(t,e,n){return n},mv=Object.freeze({__proto__:null,onLoad:sv,onUnload:lv,setValue:fv,getValue:dv,getState:pv}),hv=function(t,e){var n=t.resetOnDom?[hc((function(n,r){sv(n,t,e)})),vc((function(n,r){lv(n,t,e)}))]:[Yf(t,e,sv)];return ec(n)},vv=Object.freeze({__proto__:null,events:hv}),gv=function(){var t=Aa(null),e=function(){return{mode:"memory",value:t.get()}},n=function(){return null===t.get()},r=function(){t.set(null)};return Qc({set:t.set,get:t.get,isNotSet:n,clear:r,readState:e})},bv=function(){var t=L;return Qc({readState:t})},yv=function(){var t=Aa({}),e=Aa({}),n=function(){return{mode:"dataset",dataByValue:t.get(),dataByText:e.get()}},r=function(){t.set({}),e.set({})},o=function(n){return zt(t.get(),n).orThunk((function(){return zt(e.get(),n)}))},i=function(n){var r=t.get(),o=e.get(),i={},u={};ut(n,(function(t){i[t.value]=t,zt(t,"meta").each((function(e){zt(e,"text").each((function(e){u[e]=t}))}))})),t.set(a(a({},r),i)),e.set(a(a({},o),u))};return Qc({readState:n,lookup:o,update:i,clear:r})},xv=function(t){return t.store.manager.state(t)},wv=Object.freeze({__proto__:null,memory:gv,dataset:yv,manual:bv,init:xv}),_v=function(t,e,n,r){var o=e.store;n.update([r]),o.setValue(t,r),e.onSetValue(t,r)},Cv=function(t,e,n){var r=e.store,o=r.getDataKey(t);return n.lookup(o).getOrThunk((function(){return r.getFallbackEntry(o)}))},kv=function(t,e,n){var r=e.store;r.initialValue.each((function(r){_v(t,e,n,r)}))},Ov=function(t,e,n){n.clear()},Sv=[la("initialValue"),Qi("getFallbackEntry"),Qi("getDataKey"),Qi("setValue"),Ql("manager",{setValue:_v,getValue:Cv,onLoad:kv,onUnload:Ov,state:yv})],Ev=function(t,e,n){return e.store.getValue(t)},Tv=function(t,e,n,r){e.store.setValue(t,r),e.onSetValue(t,r)},Av=function(t,e,n){e.store.initialValue.each((function(n){e.store.setValue(t,n)}))},Nv=[Qi("getValue"),ya("setValue",L),la("initialValue"),Ql("manager",{setValue:Tv,getValue:Ev,onLoad:Av,onUnload:L,state:Jc.init})],Rv=function(t,e,n,r){n.set(r),e.onSetValue(t,r)},Dv=function(t,e,n){return n.get()},Pv=function(t,e,n){e.store.initialValue.each((function(t){n.isNotSet()&&n.set(t)}))},Mv=function(t,e,n){n.clear()},Bv=[la("initialValue"),Ql("manager",{setValue:Rv,getValue:Dv,onLoad:Pv,onUnload:Mv,state:gv})],Lv=[xa("store",{mode:"memory"},Ki("mode",{memory:Bv,manual:Nv,dataset:Sv})),Yl("onSetValue"),ya("resetOnDom",!1)],Iv=rd({fields:Lv,name:"representing",active:vv,apis:mv,extra:{setValueFrom:function(t,e){var n=Iv.getValue(e);Iv.setValue(t,n)}},state:wv}),jv=function(t,e){return Ta(t,{},at(e,(function(e){return aa(e.name(),"Cannot configure "+e.name()+" for "+t)})).concat([Zi("dump",z)]))},Fv=function(t){return t.dump},qv=function(t,e){return a(a({},ed(e)),t.dump)},zv={field:jv,augment:qv,get:Fv},Uv="placeholder",Hv=Ra.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),Vv=function(t){return Ut(t,"uiType")},Wv=function(t,e,n,r){return t.exists((function(t){return t!==n.owner}))?Hv.single(!0,q(n)):zt(r,n.name).fold((function(){throw new Error("Unknown placeholder component: "+n.name+"\nKnown: ["+At(r)+"]\nNamespace: "+t.getOr("none")+"\nSpec: "+JSON.stringify(n,null,2))}),(function(t){return t.replace()}))},$v=function(t,e,n,r){return Vv(n)&&n.uiType===Uv?Wv(t,e,n,r):Hv.single(!1,q(n))},Gv=function t(e,n,r,o){var i=$v(e,n,r,o);return i.fold((function(i,u){var c=Vv(r)?u(n,r.config,r.validated):u(n),s=zt(c,"components").getOr([]),l=gt(s,(function(r){return t(e,n,r,o)}));return[a(a({},c),{},{components:l})]}),(function(t,e){if(Vv(r)){var o=e(n,r.config,r.validated),i=r.validated.preprocess.getOr(z);return i(o)}return e(n)}))},Kv=function(t,e,n,r){return gt(n,(function(n){return Gv(t,e,n,r)}))},Yv=function(t,e){var n=!1,r=function(){return n},o=function(){if(n)throw new Error("Trying to use the same placeholder more than once: "+t);return n=!0,e},i=function(){return e.fold((function(t,e){return t}),(function(t,e){return t}))};return{name:q(t),required:i,used:r,replace:o}},Xv=function(t,e,n,r){var o=Dt(r,(function(t,e){return Yv(e,t)})),i=Kv(t,e,n,o);return Rt(o,(function(n){if(!1===n.used()&&n.required())throw new Error("Placeholder: "+n.name()+" was not found in components list\nNamespace: "+t.getOr("none")+"\nComponents: "+JSON.stringify(e.components,null,2))})),i},Zv=Hv.single,Jv=Hv.multiple,Qv=q(Uv),tg=Ra.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),eg=ya("factory",{sketch:z}),ng=ya("schema",[]),rg=Qi("name"),og=Xi("pname","pname",Yo((function(t){return"<alloy."+Rc(t.name)+">"})),Ni()),ig=Zi("schema",(function(){return[la("preprocess")]})),ag=ya("defaults",q({})),ug=ya("overrides",q({})),cg=ki([eg,ng,rg,og,ag,ug]),sg=ki([eg,ng,rg,ag,ug]),lg=ki([eg,ng,rg,og,ag,ug]),fg=ki([eg,ig,rg,Qi("unit"),og,ag,ug]),dg=function(t){return t.fold(Y.some,Y.none,Y.some,Y.some)},pg=function(t){var e=function(t){return t.name};return t.fold(e,e,e,e)},mg=function(t){return t.fold(z,z,z,z)},hg=function(t,e){return function(n){var r=$i("Converting part type",e,n);return t(r)}},vg=hg(tg.required,cg),gg=hg(tg.external,sg),bg=hg(tg.optional,lg),yg=hg(tg.group,fg),xg=q("entirety"),wg=Object.freeze({__proto__:null,required:vg,external:gg,optional:bg,group:yg,asNamedPart:dg,name:pg,asCommon:mg,original:xg}),_g=function(t,e,n,r){return $o(e.defaults(t,n,r),n,{uid:t.partUids[e.name]},e.overrides(t,n,r))},Cg=function(t,e,n){var r={},o={};return ut(n,(function(t){t.fold((function(t){r[t.pname]=Zv(!0,(function(e,n,r){return t.factory.sketch(_g(e,t,n,r))}))}),(function(t){var n=e.parts[t.name];o[t.name]=q(t.factory.sketch(_g(e,t,n[xg()]),n))}),(function(t){r[t.pname]=Zv(!1,(function(e,n,r){return t.factory.sketch(_g(e,t,n,r))}))}),(function(t){r[t.pname]=Jv(!0,(function(e,n,r){var o=e[t.name];return at(o,(function(n){return t.factory.sketch($o(t.defaults(e,n,r),n,t.overrides(e,n)))}))}))}))})),{internals:q(r),externals:q(o)}},kg=function(t,e){var n={};return ut(e,(function(e){dg(e).each((function(e){var r=Og(t,e.pname);n[e.name]=function(n){var o=$i("Part: "+e.name+" in "+t,ki(e.schema),n);return a(a({},r),{},{config:n,validated:o})}}))})),n},Og=function(t,e){return{uiType:Qv(),owner:t,name:e}},Sg=function(t,e,n){return{uiType:Qv(),owner:t,name:e,config:n,validated:{}}},Eg=function(t){return gt(t,(function(t){return t.fold(Y.none,Y.some,Y.none,Y.none).map((function(t){return ua(t.name,t.schema.concat([tf(xg())]))})).toArray()}))},Tg=function(t){return at(t,pg)},Ag=function(t,e,n){return Cg(t,e,n)},Ng=function(t,e,n){return Xv(Y.some(t),e,e.components,n)},Rg=function(t,e,n){var r=e.partUids[n];return t.getSystem().getByUid(r).toOptional()},Dg=function(t,e,n){return Rg(t,e,n).getOrDie("Could not find part: "+n)},Pg=function(t,e,n){var r={},o=e.partUids,i=t.getSystem();return ut(n,(function(t){r[t]=q(i.getByUid(o[t]))})),r},Mg=function(t,e){var n=t.getSystem();return Dt(e.partUids,(function(t,e){return q(n.getByUid(t))}))},Bg=function(t){return At(t.partUids)},Lg=function(t,e,n){var r={},o=e.partUids,i=t.getSystem();return ut(n,(function(t){r[t]=q(i.getByUid(o[t]).getOrDie())})),r},Ig=function(t,e){var n=Tg(e);return Fa(at(n,(function(e){return{key:e,value:t+"-"+e}})))},jg=function(t){return Xi("partUids","partUids",Jo((function(e){return Ig(e.uid,t)})),Ni())},Fg=Object.freeze({__proto__:null,generate:kg,generateOne:Sg,schemas:Eg,names:Tg,substitutes:Ag,components:Ng,defaultUids:Ig,defaultUidsSchema:jg,getAllParts:Mg,getAllPartNames:Bg,getPart:Rg,getPartOrDie:Dg,getParts:Pg,getPartsOrDie:Lg}),qg=function(t,e){var n=t.length>0?[ua("parts",t)]:[];return n.concat([Qi("uid"),ya("dom",{}),ya("components",[]),tf("originalSpec"),ya("debug.sketcher",{})]).concat(e)},zg=function(t,e,n,r,o){var i=qg(r,o);return $i(t+" [SpecSchema]",Ci(i.concat(e)),n)},Ug=function(t,e,n,r){var o=Wg(r),i=zg(t,e,o,[],[]);return n(i,o)},Hg=function(t,e,n,r,o){var i=Wg(o),a=Eg(n),u=jg(n),c=zg(t,e,i,a,[u]),s=Ag(t,c,n),l=Ng(t,c,s.internals());return r(c,l,i,s.externals())},Vg=function(t){return Ut(t,"uid")},Wg=function(t){return Vg(t)?t:a(a({},t),{},{uid:Fc("uid")})},$g=function(t){return void 0!==t.uid},Gg=Ci([Qi("name"),Qi("factory"),Qi("configFields"),ya("apis",{}),ya("extraApis",{})]),Kg=Ci([Qi("name"),Qi("factory"),Qi("configFields"),Qi("partFields"),ya("apis",{}),ya("extraApis",{})]),Yg=function(t){var e=$i("Sketcher for "+t.name,Gg,t),n=function(t){return Ug(e.name,e.configFields,e.factory,t)},r=Dt(e.apis,Zc),o=Dt(e.extraApis,(function(t,e){return Wc(t,e)}));return a(a({name:e.name,configFields:e.configFields,sketch:n},r),o)},Xg=function(t){var e=$i("Sketcher for "+t.name,Kg,t),n=function(t){return Hg(e.name,e.configFields,e.partFields,e.factory,t)},r=kg(e.name,e.partFields),o=Dt(e.apis,Zc),i=Dt(e.extraApis,(function(t,e){return Wc(t,e)}));return a(a({name:e.name,partFields:e.partFields,configFields:e.configFields,sketch:n,parts:r},o),i)},Zg=function(t){return Ie("input")(t)&&"radio"!==wn(t,"type")||Ie("textarea")(t)},Jg=function(t,e,n){return e.find(t)},Qg=Object.freeze({__proto__:null,getCurrent:Jg}),tb=[Qi("find")],eb=rd({fields:tb,name:"composing",apis:Qg}),nb=["input","button","textarea","select"],rb=function(t,e,n){var r=e.disabled()?fb:db;r(t,e)},ob=function(t,e){return!0===e.useNative&&nt(nb,Ae(t.element))},ib=function(t){return Cn(t.element,"disabled")},ab=function(t){yn(t.element,"disabled","disabled")},ub=function(t){kn(t.element,"disabled")},cb=function(t){return"true"===wn(t.element,"aria-disabled")},sb=function(t){yn(t.element,"aria-disabled","true")},lb=function(t){yn(t.element,"aria-disabled","false")},fb=function(t,e,n){e.disableClass.each((function(e){Ps(t.element,e)}));var r=ob(t,e)?ab:sb;r(t),e.onDisabled(t)},db=function(t,e,n){e.disableClass.each((function(e){Bs(t.element,e)}));var r=ob(t,e)?ub:lb;r(t),e.onEnabled(t)},pb=function(t,e){return ob(t,e)?ib(t):cb(t)},mb=function(t,e,n,r){var o=r?fb:db;o(t,e)},hb=Object.freeze({__proto__:null,enable:db,disable:fb,isDisabled:pb,onLoad:rb,set:mb}),vb=function(t,e){return os({classes:e.disabled()?e.disableClass.toArray():[]})},gb=function(t,e){return ec([nc(Su(),(function(e,n){return pb(e,t)})),Yf(t,e,rb)])},bb=Object.freeze({__proto__:null,exhibit:vb,events:gb}),yb=[Oa("disabled",G),ya("useNative",!0),la("disableClass"),Yl("onDisabled"),Yl("onEnabled")],xb=rd({fields:yb,name:"disabling",active:bb,apis:hb}),wb=function(t,e,n,r){var o=Sm(t.element,"."+e.highlightClass);ut(o,(function(n){var o=rt(r,(function(t){return Ue(t.element,n)}));o||(Bs(n,e.highlightClass),t.getSystem().getByDom(n).each((function(n){e.onDehighlight(t,n),Ku(n,Gu())})))}))},_b=function(t,e,n){return wb(t,e,n,[])},Cb=function(t,e,n,r){Ab(t,e,n,r)&&(Bs(r.element,e.highlightClass),e.onDehighlight(t,r),Ku(r,Gu()))},kb=function(t,e,n,r){wb(t,e,n,[r]),Ab(t,e,n,r)||(Ps(r.element,e.highlightClass),e.onHighlight(t,r),Ku(r,$u()))},Ob=function(t,e,n){Db(t,e).each((function(r){kb(t,e,n,r)}))},Sb=function(t,e,n){Pb(t,e).each((function(r){kb(t,e,n,r)}))},Eb=function(t,e,n,r){Rb(t,e,n,r).fold((function(t){throw t}),(function(r){kb(t,e,n,r)}))},Tb=function(t,e,n,r){var o=Ib(t,e),i=mt(o,r);i.each((function(r){kb(t,e,n,r)}))},Ab=function(t,e,n,r){return Ls(r.element,e.highlightClass)},Nb=function(t,e,n){return Ol(t.element,"."+e.highlightClass).bind((function(e){return t.getSystem().getByDom(e).toOptional()}))},Rb=function(t,e,n,r){var o=Sm(t.element,"."+e.itemClass);return Y.from(o[r]).fold((function(){return To.error(new Error("No element found with index "+r))}),t.getSystem().getByDom)},Db=function(t,e,n){return Ol(t.element,"."+e.itemClass).bind((function(e){return t.getSystem().getByDom(e).toOptional()}))},Pb=function(t,e,n){var r=Sm(t.element,"."+e.itemClass),o=r.length>0?Y.some(r[r.length-1]):Y.none();return o.bind((function(e){return t.getSystem().getByDom(e).toOptional()}))},Mb=function(t,e,n,r){var o=Sm(t.element,"."+e.itemClass),i=ht(o,(function(t){return Ls(t,e.highlightClass)}));return i.bind((function(e){var n=vf(e,r,0,o.length-1);return t.getSystem().getByDom(o[n]).toOptional()}))},Bb=function(t,e,n){return Mb(t,e,n,-1)},Lb=function(t,e,n){return Mb(t,e,n,1)},Ib=function(t,e,n){var r=Sm(t.element,"."+e.itemClass);return $t(at(r,(function(e){return t.getSystem().getByDom(e).toOptional()})))},jb=Object.freeze({__proto__:null,dehighlightAll:_b,dehighlight:Cb,highlight:kb,highlightFirst:Ob,highlightLast:Sb,highlightAt:Eb,highlightBy:Tb,isHighlighted:Ab,getHighlighted:Nb,getFirst:Db,getLast:Pb,getPrevious:Bb,getNext:Lb,getCandidates:Ib}),Fb=[Qi("highlightClass"),Qi("itemClass"),Yl("onHighlight"),Yl("onDehighlight")],qb=rd({fields:Fb,name:"highlighting",apis:jb}),zb=[8],Ub=[9],Hb=[13],Vb=[27],Wb=[32],$b=[37],Gb=[38],Kb=[39],Yb=[40],Xb=function(t,e,n){var r=yt(t.slice(0,e)),o=yt(t.slice(e+1));return mt(r.concat(o),n)},Zb=function(t,e,n){var r=yt(t.slice(0,e));return mt(r,n)},Jb=function(t,e,n){var r=t.slice(0,e),o=t.slice(e+1);return mt(o.concat(r),n)},Qb=function(t,e,n){var r=t.slice(e+1);return mt(r,n)},ty=function(t){return function(e){var n=e.raw;return nt(t,n.which)}},ey=function(t){return function(e){return bt(t,(function(t){return t(e)}))}},ny=function(t){var e=t.raw;return!0===e.shiftKey},ry=function(t){var e=t.raw;return!0===e.ctrlKey},oy=V(ny),iy=function(t,e){return{matches:t,classification:e}},ay=function(t,e){var n=mt(t,(function(t){return t.matches(e)}));return n.map((function(t){return t.classification}))},uy=function(t,e,n){var r=e.exists((function(t){return n.exists((function(e){return Ue(e,t)}))}));r||Yu(t,zu(),{prevFocus:e,newFocus:n})},cy=function(){var t=function(t){return md(t.element)},e=function(e,n){var r=t(e);e.getSystem().triggerFocus(n,e.element);var o=t(e);uy(e,r,o)};return{get:t,set:e}},sy=function(){var t=function(t){return qb.getHighlighted(t).map((function(t){return t.element}))},e=function(e,n){var r=t(e);e.getSystem().getByDom(n).fold(L,(function(t){qb.highlight(e,t)}));var o=t(e);uy(e,r,o)};return{get:t,set:e}};(function(t){t["OnFocusMode"]="onFocus",t["OnEnterOrSpaceMode"]="onEnterOrSpace",t["OnApiMode"]="onApi"})(km||(km={}));var ly,fy=function(t,e,n,r,o){var i=function(){return t.concat([ya("focusManager",cy()),xa("focusInside","onFocus",zi((function(t){return nt(["onFocus","onEnterOrSpace","onApi"],t)?To.value(t):To.error("Invalid value for focusInside")}))),Ql("handler",c),Ql("state",e),Ql("sendFocusIn",o)])},a=function(t,e,n,r,o){var i=n(t,e,r,o);return ay(i,e.event).bind((function(n){return n(t,e,r,o)}))},u=function(t,e){var i=t.focusInside!==km.OnFocusMode?Y.none():o(t).map((function(n){return ic(_u(),(function(r,o){n(r,t,e),o.stop()}))})),u=function(n,r){var i=ty(Wb.concat(Hb))(r.event);t.focusInside===km.OnEnterOrSpaceMode&&i&&$a(n,r)&&o(t).each((function(o){o(n,t,e),r.stop()}))},c=[ic(fu(),(function(r,o){a(r,o,n,t,e).fold((function(){u(r,o)}),(function(t){o.stop()}))})),ic(du(),(function(n,o){a(n,o,r,t,e).each((function(t){o.stop()}))}))];return ec(i.toArray().concat(c))},c={schema:i,processKey:a,toEvents:u};return c},dy=function(t){var e=[la("onEscape"),la("onEnter"),ya("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),ya("firstTabstop",0),ya("useTabstopAt",K),la("visibilitySelector")].concat([t]),n=function(t,e){var n=t.visibilitySelector.bind((function(t){return Sl(e,t)})).getOr(e);return qn(n)>0},r=function(t,e){var r=Sm(t.element,e.selector),o=lt(r,(function(t){return n(e,t)}));return Y.from(o[e.firstTabstop])},o=function(t,e){return e.focusManager.get(t).bind((function(t){return Sl(t,e.selector)}))},i=function(t,e){return n(t,e)&&t.useTabstopAt(e)},a=function(t,e,n){r(t,e).each((function(n){e.focusManager.set(t,n)}))},u=function(t,e,n,r,o){return o(e,n,(function(t){return i(r,t)})).fold((function(){return r.cyclic?Y.some(!0):Y.none()}),(function(e){return r.focusManager.set(t,e),Y.some(!0)}))},c=function(t,e,n,r){var i=Sm(t.element,n.selector);return o(t,n).bind((function(e){var o=ht(i,H(Ue,e));return o.bind((function(e){return u(t,i,e,n,r)}))}))},s=function(t,e,n){var r=n.cyclic?Xb:Zb;return c(t,e,n,r)},l=function(t,e,n){var r=n.cyclic?Jb:Qb;return c(t,e,n,r)},f=function(t,e,n){return n.onEnter.bind((function(n){return n(t,e)}))},d=function(t,e,n){return n.onEscape.bind((function(n){return n(t,e)}))},p=q([iy(ey([ny,ty(Ub)]),s),iy(ty(Ub),l),iy(ey([oy,ty(Hb)]),f)]),m=q([iy(ty(Vb),d)]);return fy(e,Jc.init,p,m,(function(){return Y.some(a)}))},py=dy(Zi("cyclic",G)),my=dy(Zi("cyclic",K)),hy=function(t,e,n){return Zu(t,n,Su()),Y.some(!0)},vy=function(t,e,n){var r=Zg(n)&&ty(Wb)(e.event);return r?Y.none():hy(t,e,n)},gy=function(t,e){return Y.some(!0)},by=[ya("execute",vy),ya("useSpace",!1),ya("useEnter",!0),ya("useControlEnter",!1),ya("useDown",!1)],yy=function(t,e,n){return n.execute(t,e,t.element)},xy=function(t,e,n,r){var o=n.useSpace&&!Zg(t.element)?Wb:[],i=n.useEnter?Hb:[],a=n.useDown?Yb:[],u=o.concat(i).concat(a);return[iy(ty(u),yy)].concat(n.useControlEnter?[iy(ey([ry,ty(Hb)]),yy)]:[])},wy=function(t,e,n,r){return n.useSpace&&!Zg(t.element)?[iy(ty(Wb),gy)]:[]},_y=fy(by,Jc.init,xy,wy,(function(){return Y.none()})),Cy=function(){var t=Vd(),e=function(e,n){t.set({numRows:e,numColumns:n})},n=function(){return t.get().map((function(t){return t.numRows}))},r=function(){return t.get().map((function(t){return t.numColumns}))};return Qc({readState:function(){return t.get().map((function(t){return{numRows:String(t.numRows),numColumns:String(t.numColumns)}})).getOr({numRows:"?",numColumns:"?"})},setGridSize:e,getNumRows:n,getNumColumns:r})},ky=function(t){return t.state(t)},Oy=Object.freeze({__proto__:null,flatgrid:Cy,init:ky}),Sy=function(t){return function(e,n,r,o){var i=t(e.element);return Ny(i,e,n,r,o)}},Ey=function(t,e){var n=wp(t,e);return Sy(n)},Ty=function(t,e){var n=wp(e,t);return Sy(n)},Ay=function(t){return function(e,n,r,o){return Ny(t,e,n,r,o)}},Ny=function(t,e,n,r,o){var i=r.focusManager.get(e).bind((function(n){return t(e.element,n,r,o)}));return i.map((function(t){return r.focusManager.set(e,t),!0}))},Ry=Ay,Dy=Ay,Py=Ay,My=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0},By=function(t){return!My(t.dom)},Ly=function(t,e){return ht(t,e).map((function(e){return{index:e,candidates:t}}))},Iy=function(t,e,n){var r=function(t){return Ue(t,e)},o=Sm(t,n),i=lt(o,By);return Ly(i,r)},jy=function(t,e){return ht(t,(function(t){return Ue(e,t)}))},Fy=function(t,e,n,r){var o=Math.floor(e/n),i=e%n;return r(o,i).bind((function(e){var r=e.row*n+e.column;return r>=0&&r<t.length?Y.some(t[r]):Y.none()}))},qy=function(t,e,n,r,o){return Fy(t,e,r,(function(e,i){var a=e===n-1,u=a?t.length-e*r:r,c=vf(i,o,0,u-1);return Y.some({row:e,column:c})}))},zy=function(t,e,n,r,o){return Fy(t,e,r,(function(e,i){var a=vf(e,o,0,n-1),u=a===n-1,c=u?t.length-a*r:r,s=gf(i,0,c-1);return Y.some({row:a,column:s})}))},Uy=function(t,e,n,r){return qy(t,e,n,r,1)},Hy=function(t,e,n,r){return qy(t,e,n,r,-1)},Vy=function(t,e,n,r){return zy(t,e,n,r,-1)},Wy=function(t,e,n,r){return zy(t,e,n,r,1)},$y=[Qi("selector"),ya("execute",vy),Xl("onEscape"),ya("captureTab",!1),ef()],Gy=function(t,e,n){Ol(t.element,e.selector).each((function(n){e.focusManager.set(t,n)}))},Ky=function(t,e){return e.focusManager.get(t).bind((function(t){return Sl(t,e.selector)}))},Yy=function(t,e,n,r){return Ky(t,n).bind((function(r){return n.execute(t,e,r)}))},Xy=function(t){return function(e,n,r,o){return Iy(e,n,r.selector).bind((function(e){return t(e.candidates,e.index,o.getNumRows().getOr(r.initSize.numRows),o.getNumColumns().getOr(r.initSize.numColumns))}))}},Zy=function(t,e,n){return n.captureTab?Y.some(!0):Y.none()},Jy=function(t,e,n){return n.onEscape(t,e)},Qy=Xy(Hy),tx=Xy(Uy),ex=Xy(Vy),nx=Xy(Wy),rx=q([iy(ty($b),Ey(Qy,tx)),iy(ty(Kb),Ty(Qy,tx)),iy(ty(Gb),Ry(ex)),iy(ty(Yb),Dy(nx)),iy(ey([ny,ty(Ub)]),Zy),iy(ey([oy,ty(Ub)]),Zy),iy(ty(Wb.concat(Hb)),Yy)]),ox=q([iy(ty(Vb),Jy),iy(ty(Wb),gy)]),ix=fy($y,Cy,rx,ox,(function(){return Y.some(Gy)})),ax=function(t,e,n,r,o){var i=function(t){return"button"===Ae(t)&&"disabled"===wn(t,"disabled")},a=function t(e,n,a){return o(e,n,r,0,a.length-1,a[n],(function(n){return i(a[n])?t(e,n,a):Y.from(a[n])}))};return Iy(t,n,e).bind((function(t){var e=t.index,n=t.candidates;return a(e,e,n)}))},ux=function(t,e,n,r){return ax(t,e,n,r,(function(t,e,n,r,o,i,a){var u=gf(e+n,r,o);return u===t?Y.from(i):a(u)}))},cx=function(t,e,n,r){return ax(t,e,n,r,(function(t,e,n,r,o,i,a){var u=vf(e,n,r,o);return u===t?Y.none():a(u)}))},sx=[Qi("selector"),ya("getInitial",Y.none),ya("execute",vy),Xl("onEscape"),ya("executeOnMove",!1),ya("allowVertical",!0),ya("allowHorizontal",!0),ya("cycles",!0)],lx=function(t,e){return e.focusManager.get(t).bind((function(t){return Sl(t,e.selector)}))},fx=function(t,e,n){return lx(t,n).bind((function(r){return n.execute(t,e,r)}))},dx=function(t,e,n){e.getInitial(t).orThunk((function(){return Ol(t.element,e.selector)})).each((function(n){e.focusManager.set(t,n)}))},px=function(t,e,n){return(n.cycles?cx:ux)(t,n.selector,e,-1)},mx=function(t,e,n){return(n.cycles?cx:ux)(t,n.selector,e,1)},hx=function(t){return function(e,n,r,o){return t(e,n,r,o).bind((function(){return r.executeOnMove?fx(e,n,r):Y.some(!0)}))}},vx=function(t,e,n){return n.onEscape(t,e)},gx=function(t,e,n,r){var o=c(n.allowHorizontal?$b:[]).concat(n.allowVertical?Gb:[]),i=c(n.allowHorizontal?Kb:[]).concat(n.allowVertical?Yb:[]);return[iy(ty(o),hx(Ey(px,mx))),iy(ty(i),hx(Ty(px,mx))),iy(ty(Hb),fx),iy(ty(Wb),fx)]},bx=q([iy(ty(Wb),gy),iy(ty(Vb),vx)]),yx=fy(sx,Jc.init,gx,bx,(function(){return Y.some(dx)})),xx=function(t,e,n){return Y.from(t[e]).bind((function(t){return Y.from(t[n]).map((function(t){return{rowIndex:e,columnIndex:n,cell:t}}))}))},wx=function(t,e,n,r){var o=t[e],i=o.length,a=vf(n,r,0,i-1);return xx(t,e,a)},_x=function(t,e,n,r){var o=vf(n,r,0,t.length-1),i=t[o].length,a=gf(e,0,i-1);return xx(t,o,a)},Cx=function(t,e,n,r){var o=t[e],i=o.length,a=gf(n+r,0,i-1);return xx(t,e,a)},kx=function(t,e,n,r){var o=gf(n+r,0,t.length-1),i=t[o].length,a=gf(e,0,i-1);return xx(t,o,a)},Ox=function(t,e,n){return wx(t,e,n,1)},Sx=function(t,e,n){return wx(t,e,n,-1)},Ex=function(t,e,n){return _x(t,n,e,-1)},Tx=function(t,e,n){return _x(t,n,e,1)},Ax=function(t,e,n){return Cx(t,e,n,-1)},Nx=function(t,e,n){return Cx(t,e,n,1)},Rx=function(t,e,n){return kx(t,n,e,-1)},Dx=function(t,e,n){return kx(t,n,e,1)},Px=[ua("selectors",[Qi("row"),Qi("cell")]),ya("cycles",!0),ya("previousSelector",Y.none),ya("execute",vy)],Mx=function(t,e,n){var r=e.previousSelector(t).orThunk((function(){var n=e.selectors;return Ol(t.element,n.cell)}));r.each((function(n){e.focusManager.set(t,n)}))},Bx=function(t,e,n){return md(t.element).bind((function(r){return n.execute(t,e,r)}))},Lx=function(t,e){return at(t,(function(t){return Sm(t,e.selectors.cell)}))},Ix=function(t,e){return function(n,r,o){var i=o.cycles?t:e;return Sl(r,o.selectors.row).bind((function(t){var e=Sm(t,o.selectors.cell);return jy(e,r).bind((function(e){var r=Sm(n,o.selectors.row);return jy(r,t).bind((function(t){var n=Lx(r,o);return i(n,t,e).map((function(t){return t.cell}))}))}))}))}},jx=Ix(Sx,Ax),Fx=Ix(Ox,Nx),qx=Ix(Ex,Rx),zx=Ix(Tx,Dx),Ux=q([iy(ty($b),Ey(jx,Fx)),iy(ty(Kb),Ty(jx,Fx)),iy(ty(Gb),Ry(qx)),iy(ty(Yb),Dy(zx)),iy(ty(Wb.concat(Hb)),Bx)]),Hx=q([iy(ty(Wb),gy)]),Vx=fy(Px,Jc.init,Ux,Hx,(function(){return Y.some(Mx)})),Wx=[Qi("selector"),ya("execute",vy),ya("moveOnTab",!1)],$x=function(t,e,n){return n.focusManager.get(t).bind((function(r){return n.execute(t,e,r)}))},Gx=function(t,e,n){Ol(t.element,e.selector).each((function(n){e.focusManager.set(t,n)}))},Kx=function(t,e,n){return cx(t,n.selector,e,-1)},Yx=function(t,e,n){return cx(t,n.selector,e,1)},Xx=function(t,e,n,r){return n.moveOnTab?Py(Kx)(t,e,n,r):Y.none()},Zx=function(t,e,n,r){return n.moveOnTab?Py(Yx)(t,e,n,r):Y.none()},Jx=q([iy(ty(Gb),Py(Kx)),iy(ty(Yb),Py(Yx)),iy(ey([ny,ty(Ub)]),Xx),iy(ey([oy,ty(Ub)]),Zx),iy(ty(Hb),$x),iy(ty(Wb),$x)]),Qx=q([iy(ty(Wb),gy)]),tw=fy(Wx,Jc.init,Jx,Qx,(function(){return Y.some(Gx)})),ew=[Xl("onSpace"),Xl("onEnter"),Xl("onShiftEnter"),Xl("onLeft"),Xl("onRight"),Xl("onTab"),Xl("onShiftTab"),Xl("onUp"),Xl("onDown"),Xl("onEscape"),ya("stopSpaceKeyup",!1),la("focusIn")],nw=function(t,e,n){return[iy(ty(Wb),n.onSpace),iy(ey([oy,ty(Hb)]),n.onEnter),iy(ey([ny,ty(Hb)]),n.onShiftEnter),iy(ey([ny,ty(Ub)]),n.onShiftTab),iy(ey([oy,ty(Ub)]),n.onTab),iy(ty(Gb),n.onUp),iy(ty(Yb),n.onDown),iy(ty($b),n.onLeft),iy(ty(Kb),n.onRight),iy(ty(Wb),n.onSpace)]},rw=function(t,e,n){return[].concat(c(n.stopSpaceKeyup?[iy(ty(Wb),gy)]:[]),[iy(ty(Vb),n.onEscape)])},ow=fy(ew,Jc.init,nw,rw,(function(t){return t.focusIn})),iw=py.schema(),aw=my.schema(),uw=yx.schema(),cw=ix.schema(),sw=Vx.schema(),lw=_y.schema(),fw=tw.schema(),dw=ow.schema(),pw=Object.freeze({__proto__:null,acyclic:iw,cyclic:aw,flow:uw,flatgrid:cw,matrix:sw,execution:lw,menu:fw,special:dw}),mw=function(t){return Ht(t,"setGridSize")},hw=id({branchKey:"mode",branches:pw,name:"keying",active:{events:function(t,e){var n=t.handler;return n.toEvents(t,e)}},apis:{focusIn:function(t,e,n){e.sendFocusIn(e).fold((function(){t.getSystem().triggerFocus(t.element,t.element)}),(function(r){r(t,e,n)}))},setGridSize:function(t,e,n,r,o){mw(n)?n.setGridSize(r,o):console.error("Layout does not support setGridSize")}},state:Oy}),vw=function(t,e){hd((function(){Oh(t,e,(function(){return at(e,t.getSystem().build)}))}),t.element)},gw=function(t,e){hd((function(){Sh(t,e,(function(){return Ks(t.element,e,t.getSystem().buildOrPatch)}))}),t.element)},bw=function(t,e,n,r){_h(e);var o=Gs(t.element,n,r,t.getSystem().buildOrPatch);wh(t,o),t.syncComponents()},yw=function(t,e,n){var r=t.getSystem().build(n);Th(t,r,e)},xw=function(t,e,n,r){Nh(e),yw(t,(function(t,e){return Qr(t,e,n)}),r)},ww=function(t,e,n,r){var o=e.reuseDom?gw:vw;return o(t,r)},_w=function(t,e,n,r){yw(t,Jr,r)},Cw=function(t,e,n,r){yw(t,Zr,r)},kw=function(t,e,n,r){var o=Ow(t),i=mt(o,(function(t){return Ue(r.element,t.element)}));i.each(Nh)},Ow=function(t,e){return t.components()},Sw=function(t,e,n,r,o){var i=Ow(t);return Y.from(i[r]).map((function(n){return o.fold((function(){return Nh(n)}),(function(o){var i=e.reuseDom?bw:xw;i(t,n,r,o)})),n}))},Ew=function(t,e,n,r,o){var i=Ow(t);return ht(i,r).bind((function(r){return Sw(t,e,n,r,o)}))},Tw=Object.freeze({__proto__:null,append:_w,prepend:Cw,remove:kw,replaceAt:Sw,replaceBy:Ew,set:ww,contents:Ow}),Aw=rd({fields:[ka("reuseDom",!0)],name:"replacing",apis:Tw}),Nw=function(t,e){var n=ec(e);return rd({fields:[Qi("enabled")],name:t,active:{events:q(n)}})},Rw=function(t,e){var n=Nw(t,e);return{key:t,value:{config:{},me:n,configAsRaw:q({}),initialConfig:{},state:Jc}}},Dw=function(t,e){e.ignore||(ld(t.element),e.onFocus(t))},Pw=function(t,e){e.ignore||fd(t.element)},Mw=function(t){return dd(t.element)},Bw=Object.freeze({__proto__:null,focus:Dw,blur:Pw,isFocused:Mw}),Lw=function(t,e){var n=e.ignore?{}:{attributes:{tabindex:"-1"}};return os(n)},Iw=function(t){return ec([ic(_u(),(function(e,n){Dw(e,t),n.stop()}))].concat(t.stopMousedown?[ic(ou(),(function(t,e){e.event.prevent()}))]:[]))},jw=Object.freeze({__proto__:null,exhibit:Lw,events:Iw}),Fw=[Yl("onFocus"),ya("stopMousedown",!1),ya("ignore",!1)],qw=rd({fields:Fw,name:"focusing",active:jw,apis:Bw}),zw=function(t){var e=function(){var e=Aa(t),n=function(){return e.get()},r=function(t){return e.set(t)},o=function(){return e.set(t)},i=function(){return e.get()};return{get:n,set:r,clear:o,readState:i}};return{init:e}},Uw=function(t,e,n){var r=e.aria;r.update(t,r,n.get())},Hw=function(t,e,n){e.toggleClass.each((function(e){n.get()?Ps(t.element,e):Bs(t.element,e)}))},Vw=function(t,e,n,r){var o=n.get();n.set(r),Hw(t,e,n),Uw(t,e,n),o!==r&&e.onToggled(t,r)},Ww=function(t,e,n){Vw(t,e,n,!n.get())},$w=function(t,e,n){Vw(t,e,n,!0)},Gw=function(t,e,n){Vw(t,e,n,!1)},Kw=function(t,e,n){return n.get()},Yw=function(t,e,n){Vw(t,e,n,e.selected)},Xw=Object.freeze({__proto__:null,onLoad:Yw,toggle:Ww,isOn:Kw,on:$w,off:Gw,set:Vw}),Zw=function(){return os({})},Jw=function(t,e){var n=Kf(t,e,Ww),r=Yf(t,e,Yw);return ec(vt([t.toggleOnExecute?[n]:[],[r]]))},Qw=Object.freeze({__proto__:null,exhibit:Zw,events:Jw}),t_=function(t,e,n){yn(t.element,"aria-pressed",n),e.syncWithExpanded&&r_(t,e,n)},e_=function(t,e,n){yn(t.element,"aria-selected",n)},n_=function(t,e,n){yn(t.element,"aria-checked",n)},r_=function(t,e,n){yn(t.element,"aria-expanded",n)},o_=[ya("selected",!1),la("toggleClass"),ya("toggleOnExecute",!0),Yl("onToggled"),xa("aria",{mode:"none"},Ki("mode",{pressed:[ya("syncWithExpanded",!1),Ql("update",t_)],checked:[Ql("update",n_)],expanded:[Ql("update",r_)],selected:[Ql("update",e_)],none:[Ql("update",L)]}))],i_=rd({fields:o_,name:"toggling",active:Qw,apis:Xw,state:zw(!1)}),a_=function(){var t=function(t,e){e.stop(),Xu(t)};return[ic(hu(),t),ic(Tu(),t),dc(tu()),dc(ou())]},u_=function(t){var e=function(t){return bc((function(e,n){t(e),n.stop()}))};return ec(vt([t.map(e).toArray(),a_()]))},c_="alloy.item-hover",s_="alloy.item-focus",l_="alloy.item-toggled",f_=function(t){(md(t.element).isNone()||qw.isFocused(t))&&(qw.isFocused(t)||qw.focus(t),Yu(t,c_,{item:t}))},d_=function(t){Yu(t,s_,{item:t})},p_=function(t,e){Yu(t,l_,{item:t,state:e})},m_=q(c_),h_=q(s_),v_=q(l_),g_=function(t){return t.toggling.map((function(t){return t.exclusive?"menuitemradio":"menuitemcheckbox"})).getOr("menuitem")},b_=function(t){return a(a({aria:{mode:"checked"}},It(t,(function(t,e){return"exclusive"!==e}))),{},{onToggled:function(e,n){P(t.onToggled)&&t.onToggled(e,n),p_(e,n)}})},y_=function(t){return{dom:t.dom,domModification:a(a({},t.domModification),{},{attributes:a(a({role:g_(t)},t.domModification.attributes),{},{"aria-haspopup":t.hasSubmenu},t.hasSubmenu?{"aria-expanded":!1}:{})}),behaviours:zv.augment(t.itemBehaviours,[t.toggling.fold(i_.revoke,(function(t){return i_.config(b_(t))})),qw.config({ignore:t.ignoreFocus,stopMousedown:t.ignoreFocus,onFocus:function(t){d_(t)}}),hw.config({mode:"execution"}),Iv.config({store:{mode:"memory",initialValue:t.data}}),Rw("item-type-events",[].concat(c(a_()),[ic(cu(),f_),ic(Eu(),qw.focus)]))]),components:t.components,eventOrder:t.eventOrder}},x_=[Qi("data"),Qi("components"),Qi("dom"),ya("hasSubmenu",!1),la("toggling"),zv.field("itemBehaviours",[i_,qw,hw,Iv]),ya("ignoreFocus",!1),ya("domModification",{}),Ql("builder",y_),ya("eventOrder",{})],w_=function(t){return{dom:t.dom,components:t.components,events:ec([pc(Eu())])}},__=[Qi("dom"),Qi("components"),Ql("builder",w_)],C_=q("item-widget"),k_=q([vg({name:"widget",overrides:function(t){return{behaviours:ed([Iv.config({store:{mode:"manual",getValue:function(e){return t.data},setValue:L}})])}}})]),O_=function(t){var e=Ag(C_(),t,k_()),n=Ng(C_(),t,e.internals()),r=function(e){return Rg(e,t,"widget").map((function(t){return hw.focusIn(t),t}))},o=function(e,n){return Zg(n.event.target)?Y.none():function(){return t.autofocus?(n.setSource(e.element),Y.none()):Y.none()}()};return{dom:t.dom,components:n,domModification:t.domModification,events:ec([bc((function(t,e){r(t).each((function(t){e.stop()}))})),ic(cu(),f_),ic(Eu(),(function(e,n){t.autofocus?r(e):qw.focus(e)}))]),behaviours:zv.augment(t.widgetBehaviours,[Iv.config({store:{mode:"memory",initialValue:t.data}}),qw.config({ignore:t.ignoreFocus,onFocus:function(t){d_(t)}}),hw.config({mode:"special",focusIn:t.autofocus?function(t){r(t)}:ad(),onLeft:o,onRight:o,onEscape:function(e,n){return qw.isFocused(e)||t.autofocus?t.autofocus?(n.setSource(e.element),Y.none()):Y.none():(qw.focus(e),Y.some(!0))}})])}},S_=[Qi("uid"),Qi("data"),Qi("components"),Qi("dom"),ya("autofocus",!1),ya("ignoreFocus",!1),zv.field("widgetBehaviours",[Iv,qw,hw]),ya("domModification",{}),jg(k_()),Ql("builder",O_)],E_=Ki("type",{widget:S_,item:x_,separator:__}),T_=function(t,e){return{mode:"flatgrid",selector:"."+t.markers.item,initSize:{numColumns:e.initSize.numColumns,numRows:e.initSize.numRows},focusManager:t.focusManager}},A_=function(t,e){return{mode:"matrix",selectors:{row:e.rowSelector,cell:"."+t.markers.item},previousSelector:e.previousSelector,focusManager:t.focusManager}},N_=function(t,e){return{mode:"menu",selector:"."+t.markers.item,moveOnTab:e.moveOnTab,focusManager:t.focusManager}},R_=q([yg({factory:{sketch:function(t){var e=$i("menu.spec item",E_,t);return e.builder(e)}},name:"items",unit:"item",defaults:function(t,e){return Ut(e,"uid")?e:a(a({},e),{},{uid:Fc("item")})},overrides:function(t,e){return{type:e.type,ignoreFocus:t.fakeFocus,domModification:{classes:[t.markers.item]}}}})]),D_=q([Qi("value"),Qi("items"),Qi("dom"),Qi("components"),ya("eventOrder",{}),jv("menuBehaviours",[qb,Iv,eb,hw]),xa("movement",{mode:"menu",moveOnTab:!0},Ki("mode",{grid:[ef(),Ql("config",T_)],matrix:[Ql("config",A_),Qi("rowSelector"),ya("previousSelector",Y.none)],menu:[ya("moveOnTab",!0),Ql("config",N_)]})),Wl(),ya("fakeFocus",!1),ya("focusManager",cy()),Yl("onHighlight"),Yl("onDehighlight")]),P_=q("alloy.menu-focus"),M_=function(t,e){var n=Sm(t.element,'[role="menuitemradio"][aria-checked="true"]');ut(n,(function(n){Ue(n,e.element)||t.getSystem().getByDom(n).each((function(t){i_.off(t)}))}))},B_=function(t,e,n,r){return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:qv(t.menuBehaviours,[qb.config({highlightClass:t.markers.selectedItem,itemClass:t.markers.item,onHighlight:t.onHighlight,onDehighlight:t.onDehighlight}),Iv.config({store:{mode:"memory",initialValue:t.value}}),eb.config({find:Y.some}),hw.config(t.movement.config(t,t.movement))]),events:ec([ic(h_(),(function(t,e){var n=e.event;t.getSystem().getByDom(n.target).each((function(n){qb.highlight(t,n),e.stop(),Yu(t,P_(),{menu:t,item:n})}))})),ic(m_(),(function(t,e){var n=e.event.item;qb.highlight(t,n)})),ic(v_(),(function(t,e){var n=e.event,r=n.item,o=n.state;o&&"menuitemradio"===wn(r.element,"role")&&M_(t,r)}))]),components:e,eventOrder:t.eventOrder,domModification:{attributes:{role:"menu"}}}},L_=Xg({name:"Menu",configFields:D_(),partFields:R_(),factory:B_}),I_=function(t){return Pt(t,(function(t,e){return{k:t,v:e}}))},j_=function t(e,n,r,o){return zt(r,o).bind((function(o){return zt(e,o).bind((function(o){var i=t(e,n,r,o);return Y.some([o].concat(i))}))})).getOr([])},F_=function(t,e){var n={};Rt(t,(function(t,e){ut(t,(function(t){n[t]=e}))}));var r=e,o=I_(e),i=Dt(o,(function(t,e){return[e].concat(j_(n,r,o,e))}));return Dt(n,(function(t){return zt(i,t).getOr([t])}))},q_=function(){var t=Aa({}),e=Aa({}),n=Aa({}),r=Vd(),o=Aa({}),i=function(){t.set({}),e.set({}),n.set({}),r.clear()},c=function(){return r.get().isNone()},s=function(t,n){e.set(a(a({},e.get()),{},u({},t,{type:"prepared",menu:n})))},l=function(i,a,u,c){r.set(i),t.set(u),e.set(a),o.set(c);var s=F_(c,u);n.set(s)},f=function(e){return Ft(t.get(),(function(t,n){return t===e}))},d=function(t,e,n){return g(t).bind((function(r){return f(t).bind((function(t){return e(t).map((function(t){return{triggeredMenu:r,triggeringItem:t,triggeringPath:n}}))}))}))},p=function(t,e){var o=lt(y(t).toArray(),(function(t){return g(t).isSome()}));return zt(n.get(),t).bind((function(t){var n=yt(o.concat(t)),i=gt(n,(function(t,o){return d(t,e,n.slice(0,o+1)).fold((function(){return Vt(r.get(),t)?[]:[Y.none()]}),(function(t){return[Y.some(t)]}))}));return Gt(i)}))},m=function(e){return zt(t.get(),e).map((function(t){var r=zt(n.get(),e).getOr([]);return[t].concat(r)}))},h=function(t){return zt(n.get(),t).bind((function(t){return t.length>1?Y.some(t.slice(1)):Y.none()}))},v=function(t){return zt(n.get(),t)},g=function(t){return b(t).bind(z_)},b=function(t){return zt(e.get(),t)},y=function(e){return zt(t.get(),e)},x=function(t){var e=o.get();return xt(At(e),t)},w=function(){return r.get().bind(g)},_=function(){return e.get()};return{setMenuBuilt:s,setContents:l,expand:m,refresh:v,collapse:h,lookupMenu:b,lookupItem:y,otherMenus:x,getPrimary:w,getMenus:_,clear:i,isClear:c,getTriggeringPath:p}},z_=function(t){return"prepared"===t.type?Y.some(t.menu):Y.none()},U_={init:q_,extractPreparedMenu:z_},H_=Rc("tiered-menu-item-highlight"),V_=Rc("tiered-menu-item-dehighlight");(function(t){t[t["HighlightMenuAndItem"]=0]="HighlightMenuAndItem",t[t["HighlightJustMenu"]=1]="HighlightJustMenu",t[t["HighlightNone"]=2]="HighlightNone"})(ly||(ly={}));var W_,$_,G_=function(t,e){var n,r=Vd(),o=function(e,n,r){return Dt(r,(function(r,o){var i=function(){return L_.sketch(a(a({},r),{},{value:o,markers:t.markers,fakeFocus:t.fakeFocus,onHighlight:function(t,e){var n={menuComp:t,itemComp:e};Yu(t,H_,n)},onDehighlight:function(t,e){var n={menuComp:t,itemComp:e};Yu(t,V_,n)},focusManager:t.fakeFocus?sy():cy()}))};return o===n?{type:"prepared",menu:e.getSystem().build(i())}:{type:"notbuilt",nbMenu:i}}))},i=U_.init(),u=function(e){var n=o(e,t.data.primary,t.data.menus),r=f();return i.setContents(t.data.primary,n,t.data.expansions,r),i.getPrimary()},s=function(t){return Iv.getValue(t).value},l=function(t,e,n){return Tt(e,(function(t){if(!t.getSystem().isConnected())return Y.none();var e=qb.getCandidates(t);return mt(e,(function(t){return s(t)===n}))}))},f=function(e){return Dt(t.data.menus,(function(t,e){return gt(t.items,(function(t){return"separator"===t.type?[]:[t.data.value]}))}))},d=qb.highlight,p=function(e,n){d(e,n),qb.getHighlighted(n).orThunk((function(){return qb.getFirst(n)})).each((function(r){t.fakeFocus?qb.highlight(n,r):Zu(e,r.element,Eu())}))},m=function(t,e){return $t(at(e,(function(e){return t.lookupMenu(e).bind((function(t){return"prepared"===t.type?Y.some(t.menu):Y.none()}))})))},h=function(e,n,r){var o=m(n,n.otherMenus(r));ut(o,(function(n){js(n.element,[t.markers.backgroundMenu]),t.stayInDom||Aw.remove(e,n)}))},v=function(e){return r.get().getOrThunk((function(){var n={},o=Sm(e.element,".".concat(t.markers.item)),i=lt(o,(function(t){return"true"===wn(t,"aria-haspopup")}));return ut(i,(function(t){e.getSystem().getByDom(t).each((function(t){var e=s(t);n[e]=t}))})),r.set(n),n}))},g=function(t,e){var n=v(t);Rt(n,(function(t,n){var r=nt(e,n);yn(t.element,"aria-expanded",r)}))},b=function(e,n,r){return Y.from(r[0]).bind((function(o){return n.lookupMenu(o).bind((function(o){if("notbuilt"===o.type)return Y.none();var i=o.menu,a=m(n,r.slice(1));return ut(a,(function(e){Ps(e.element,t.markers.backgroundMenu)})),hn(i.element)||Aw.append(e,vl(i)),js(i.element,[t.markers.backgroundMenu]),p(e,i),h(e,n,r),Y.some(i)}))}))};(function(t){t[t["HighlightSubmenu"]=0]="HighlightSubmenu",t[t["HighlightParent"]=1]="HighlightParent"})(n||(n={}));var y=function(t,e,n){if("notbuilt"===n.type){var r=t.getSystem().build(n.nbMenu());return i.setMenuBuilt(e,r),r}return n.menu},x=function(e,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n.HighlightSubmenu;if(r.hasConfigured(xb)&&xb.isDisabled(r))return Y.some(r);var a=s(r);return i.expand(a).bind((function(a){return g(e,a),Y.from(a[0]).bind((function(u){return i.lookupMenu(u).bind((function(c){var s=y(e,u,c);return hn(s.element)||Aw.append(e,vl(s)),t.onOpenSubmenu(e,r,s,yt(a)),o===n.HighlightSubmenu?(qb.highlightFirst(s),b(e,i,a)):(qb.dehighlightAll(s),Y.some(r))}))}))}))},w=function(e,n){var r=s(n);return i.collapse(r).bind((function(r){return g(e,r),b(e,i,r).map((function(r){return t.onCollapseMenu(e,n,r),r}))}))},_=function(t,e){var n=s(e);return i.refresh(n).bind((function(e){return g(t,e),b(t,i,e)}))},C=function(t,e){return Zg(e.element)?Y.none():x(t,e,n.HighlightSubmenu)},k=function(t,e){return Zg(e.element)?Y.none():w(t,e)},O=function(e,n){return w(e,n).orThunk((function(){return t.onEscape(e,n).map((function(){return e}))}))},S=function(e){return function(n,r){return Sl(r.getSource(),".".concat(t.markers.item)).bind((function(t){return n.getSystem().getByDom(t).toOptional().bind((function(t){return e(n,t).map(K)}))}))}},E=ec([ic(P_(),(function(t,e){var n=e.event.item;i.lookupItem(s(n)).each((function(){var n=e.event.menu;qb.highlight(t,n);var r=s(e.event.item);i.refresh(r).each((function(e){return h(t,i,e)}))}))})),bc((function(e,r){var o=r.event.target;e.getSystem().getByDom(o).each((function(r){var o=s(r);0===o.indexOf("collapse-item")&&w(e,r),x(e,r,n.HighlightSubmenu).fold((function(){t.onExecute(e,r)}),L)}))})),hc((function(e,n){u(e).each((function(n){Aw.append(e,vl(n)),t.onOpenMenu(e,n),t.highlightOnOpen===ly.HighlightMenuAndItem?p(e,n):t.highlightOnOpen===ly.HighlightJustMenu&&d(e,n)}))})),ic(H_,(function(e,n){t.onHighlightItem(e,n.event.menuComp,n.event.itemComp)})),ic(V_,(function(e,n){t.onDehighlightItem(e,n.event.menuComp,n.event.itemComp)}))].concat(c(t.navigateOnHover?[ic(m_(),(function(e,r){var o=r.event.item;_(e,o),x(e,o,n.HighlightParent),t.onHover(e,o)}))]:[]))),T=function(t){return qb.getHighlighted(t).bind(qb.getHighlighted)},A=function(t){T(t).each((function(e){w(t,e)}))},N=function(t){i.getPrimary().each((function(e){p(t,e)}))},R=function(t){return Y.from(t.components()[0]).filter((function(t){return"menu"===wn(t.element,"role")}))},D=function(e){var n=i.getPrimary().bind((function(t){return T(e).bind((function(t){var n=s(t),r=qt(i.getMenus()),o=$t(at(r,U_.extractPreparedMenu));return i.getTriggeringPath(n,(function(t){return l(e,o,t)}))})).map((function(e){return{primary:t,triggeringPath:e}}))}));n.fold((function(){R(e).each((function(n){t.onRepositionMenu(e,n,[])}))}),(function(n){var r=n.primary,o=n.triggeringPath;t.onRepositionMenu(e,r,o)}))},P={collapseMenu:A,highlightPrimary:N,repositionMenus:D};return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:qv(t.tmenuBehaviours,[hw.config({mode:"special",onRight:S(C),onLeft:S(k),onEscape:S(O),focusIn:function(t,e){i.getPrimary().each((function(e){Zu(t,e.element,Eu())}))}}),qb.config({highlightClass:t.markers.selectedMenu,itemClass:t.markers.menu}),eb.config({find:function(t){return qb.getHighlighted(t)}}),Aw.config({})]),eventOrder:t.eventOrder,apis:P,events:E}},K_=q("collapse-item"),Y_=function(t,e,n){return{primary:t,menus:e,expansions:n}},X_=function(t,e){return{primary:t,menus:ja(t,e),expansions:{}}},Z_=function(t){return{value:Rc(K_()),meta:{text:t}}},J_=Yg({name:"TieredMenu",configFields:[Jl("onExecute"),Jl("onEscape"),Zl("onOpenMenu"),Zl("onOpenSubmenu"),Yl("onRepositionMenu"),Yl("onCollapseMenu"),ya("highlightOnOpen",ly.HighlightMenuAndItem),ua("data",[Qi("primary"),Qi("menus"),Qi("expansions")]),ya("fakeFocus",!1),Yl("onHighlightItem"),Yl("onDehighlightItem"),Yl("onHover"),$l(),Qi("dom"),ya("navigateOnHover",!0),ya("stayInDom",!1),jv("tmenuBehaviours",[hw,qb,eb,Aw]),ya("eventOrder",{})],apis:{collapseMenu:function(t,e){t.collapseMenu(e)},highlightPrimary:function(t,e){t.highlightPrimary(e)},repositionMenus:function(t,e){t.repositionMenus(e)}},factory:G_,extraApis:{tieredData:Y_,singleData:X_,collapseItem:Z_}}),Q_=function(t,e,n,r,o){var i=function(){return t.lazySink(e)},u="horizontal"===r.type?{layouts:{onLtr:function(){return Uf()},onRtl:function(){return Hf()}}}:{},c=function(t){return 2===t.length},s=function(t){return c(t)?u:{}};return J_.sketch({dom:{tag:"div"},data:r.data,markers:r.menu.markers,highlightOnOpen:r.menu.highlightOnOpen,fakeFocus:r.menu.fakeFocus,onEscape:function(){return ev.close(e),t.onEscape.map((function(t){return t(e)})),Y.some(!0)},onExecute:function(){return Y.some(!0)},onOpenMenu:function(t,e){gh.positionWithinBounds(i().getOrDie(),e,n,o())},onOpenSubmenu:function(t,e,n,r){var o=i().getOrDie();gh.position(o,n,{anchor:a({type:"submenu",item:e},s(r))})},onRepositionMenu:function(t,e,r){var u=i().getOrDie();gh.positionWithinBounds(u,e,n,o()),ut(r,(function(t){var e=s(t.triggeringPath);gh.position(u,t.triggeredMenu,{anchor:a({type:"submenu",item:t.triggeringItem},e)})}))}})},tC=function(t,e){var n=function(e,n){var r=t.getRelated(e);return r.exists((function(t){return Rl(t,n)}))},r=function(t,e){ev.setContent(t,e)},o=function(t,e,n){var r=Y.none;i(t,e,n,r)},i=function(e,n,r,o){var i=t.lazySink(e).getOrDie();ev.openWhileCloaked(e,n,(function(){return gh.positionWithinBounds(i,e,r,o())})),Iv.setValue(e,Y.some({mode:"position",config:r,getBounds:o}))},u=function(t,e,n){c(t,e,n,Y.none)},c=function(e,n,r,o){var i=Q_(t,e,n,r,o);ev.open(e,i),Iv.setValue(e,Y.some({mode:"menu",menu:i}))},s=function(t){ev.isOpen(t)&&(Iv.setValue(t,Y.none()),ev.close(t))},l=function(t){return ev.getState(t)},f=function(e){ev.isOpen(e)&&Iv.getValue(e).each((function(n){switch(n.mode){case"menu":ev.getState(e).each(J_.repositionMenus);break;case"position":var r=t.lazySink(e).getOrDie();gh.positionWithinBounds(r,e,n.config,n.getBounds());break}}))},d={setContent:r,showAt:o,showWithinBounds:i,showMenuAt:u,showMenuWithinBounds:c,hide:s,getContent:l,reposition:f,isOpen:ev.isOpen};return{uid:t.uid,dom:t.dom,behaviours:qv(t.inlineBehaviours,[ev.config({isPartOf:function(t,e,r){return Rl(e,r)||n(t,r)},getAttachPoint:function(e){return t.lazySink(e).getOrDie()},onOpen:function(e){t.onShow(e)},onClose:function(e){t.onHide(e)}}),Iv.config({store:{mode:"memory",initialValue:Y.none()}}),ud.config({channels:a(a({},av(a({isExtraPart:e.isExtraPart},t.fireDismissalEventInstead.map((function(t){return{fireEventInstead:{event:t.event}}})).getOr({})))),cv(a(a({},t.fireRepositionEventInstead.map((function(t){return{fireEventInstead:{event:t.event}}})).getOr({})),{},{doReposition:f})))})]),eventOrder:t.eventOrder,apis:d}},eC=Yg({name:"InlineView",configFields:[Qi("lazySink"),Yl("onShow"),Yl("onHide"),ha("onEscape"),jv("inlineBehaviours",[ev,Iv,ud]),ga("fireDismissalEventInstead",[ya("event",Fu())]),ga("fireRepositionEventInstead",[ya("event",qu())]),ya("getRelated",Y.none),ya("isExtraPart",G),ya("eventOrder",Y.none)],factory:tC,apis:{showAt:function(t,e,n,r){t.showAt(e,n,r)},showWithinBounds:function(t,e,n,r,o){t.showWithinBounds(e,n,r,o)},showMenuAt:function(t,e,n,r){t.showMenuAt(e,n,r)},showMenuWithinBounds:function(t,e,n,r,o){t.showMenuWithinBounds(e,n,r,o)},hide:function(t,e){t.hide(e)},isOpen:function(t,e){return t.isOpen(e)},getContent:function(t,e){return t.getContent(e)},setContent:function(t,e,n){t.setContent(e,n)},reposition:function(t,e){t.reposition(e)}}}),nC=tinymce.util.Tools.resolve("tinymce.util.Delay"),rC=function(t){var e=u_(t.action),n=t.dom.tag,r=function(e){return zt(t.dom,"attributes").bind((function(t){return zt(t,e)}))},o=function(){if("button"===n){var e=r("type").getOr("button"),o=r("role").map((function(t){return{role:t}})).getOr({});return a({type:e},o)}var i=t.role.getOr(r("role").getOr("button"));return{role:i}};return{uid:t.uid,dom:t.dom,components:t.components,events:e,behaviours:zv.augment(t.buttonBehaviours,[qw.config({}),hw.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:o()},eventOrder:t.eventOrder}},oC=Yg({name:"Button",factory:rC,configFields:[ya("uid",void 0),Qi("dom"),ya("components",[]),zv.field("buttonBehaviours",[qw,hw]),la("action"),la("role"),ya("eventOrder",{})]}),iC=function(t){var e=$g(t)&&Ht(t,"uid")?t.uid:Fc("memento"),n=function(t){return t.getSystem().getByUid(e).getOrDie()},r=function(t){return t.getSystem().getByUid(e).toOptional()},o=function(){return a(a({},t),{},{uid:e})};return{get:n,getOpt:r,asSpec:o}},aC=tinymce.util.Tools.resolve("tinymce.util.I18n"),uC={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},cC="temporary-placeholder",sC=function(t){return function(){return zt(t,cC).getOr("!not found!")}},lC=function(t,e){var n=t.toLowerCase();if(aC.isRtl()){var r=ne(n,"-rtl");return Ut(e,r)?r:n}return n},fC=function(t,e){return zt(e,lC(t,e))},dC=function(t,e){var n=e();return fC(t,n).getOrThunk(sC(n))},pC=function(t,e,n){var r=e();return fC(t,r).or(n).getOrThunk(sC(r))},mC=function(t){return!!aC.isRtl()&&Ut(uC,t)},hC=function(){return Rw("add-focusable",[hc((function(t){kl(t.element,"svg").each((function(t){return yn(t,"focusable","false")}))}))])},vC=function(t,e,n,r){var o,i,a=mC(e)?["tox-icon--flip"]:[],u=zt(n,lC(e,n)).or(r).getOrThunk(sC(n));return{dom:{tag:t.tag,attributes:null!==(o=t.attributes)&&void 0!==o?o:{},classes:t.classes.concat(a),innerHtml:u},behaviours:ed([].concat(c(null!==(i=t.behaviours)&&void 0!==i?i:[]),[hC()]))}},gC=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Y.none();return vC(e,t,n(),r)},bC=function(t,e,n){var r=n(),o=mt(t,(function(t){return Ut(r,lC(t,r))}));return vC(e,o.getOr(cC),r,Y.none())},yC={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},xC=function(t){var e=iC({dom:{tag:"p",innerHtml:t.translationProvider(t.text)},behaviours:ed([Aw.config({})])}),n=function(t){return{dom:{tag:"div",classes:["tox-bar"],styles:{width:"".concat(t,"%")}}}},r=function(t){return{dom:{tag:"div",classes:["tox-text"],innerHtml:"".concat(t,"%")}}},o=iC({dom:{tag:"div",classes:t.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[n(0)]},r(0)],behaviours:ed([Aw.config({})])}),i=function(t,e){t.getSystem().isConnected()&&o.getOpt(t).each((function(t){Aw.set(t,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[n(e)]},r(e)])}))},a=function(t,n){if(t.getSystem().isConnected()){var r=e.get(t);Aw.set(r,[ll(n)])}},u={updateProgress:i,updateText:a},c=vt([t.icon.toArray(),t.level.toArray(),t.level.bind((function(t){return Y.from(yC[t])})).toArray()]),s=iC(oC.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[gC("close",{tag:"div",classes:["tox-icon"],attributes:{"aria-label":t.translationProvider("Close")}},t.iconProvider)],action:function(e){t.onAction(e)}})),l=bC(c,{tag:"div",classes:["tox-notification__icon"]},t.iconProvider),f={dom:{tag:"div",classes:["tox-notification__body"]},components:[e.asSpec()],behaviours:ed([Aw.config({})])},d=[l,f];return{uid:t.uid,dom:{tag:"div",attributes:{role:"alert"},classes:t.level.map((function(t){return["tox-notification","tox-notification--in","tox-notification--".concat(t)]})).getOr(["tox-notification","tox-notification--in"])},behaviours:ed([qw.config({}),Rw("notification-events",[ic(su(),(function(t){s.getOpt(t).each(qw.focus)}))])]),components:d.concat(t.progress?[o.asSpec()]:[]).concat(t.closeButton?[s.asSpec()]:[]),apis:u}},wC=Yg({name:"Notification",factory:xC,configFields:[la("level"),Qi("progress"),la("icon"),Qi("onAction"),Qi("text"),Qi("iconProvider"),Qi("translationProvider"),ka("closeButton",!0)],apis:{updateProgress:function(t,e,n){t.updateProgress(e,n)},updateText:function(t,e,n){t.updateText(e,n)}}}),_C=function(t,e,n){var r=e.backstage.shared,o=function(){var e=yo(ve.fromDom(t.getContentAreaContainer())),n=Co(),r=gf(n.x,e.x,e.right),o=gf(n.y,e.y,e.bottom),i=Math.max(e.right,n.right),a=Math.max(e.bottom,n.bottom);return Y.some(bo(r,o,i-r,a-o))},i=function(e,i){var u=function(){i(),eC.hide(s)},c=hl(wC.sketch({text:e.text,level:nt(["success","error","warning","warn","info"],e.type)?e.type:void 0,progress:!0===e.progressBar,icon:e.icon,closeButton:e.closeButton,onAction:u,iconProvider:r.providers.icons,translationProvider:r.providers.translate})),s=hl(eC.sketch(a({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:r.getSink,fireDismissalEventInstead:{}},r.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}})));n.add(s),M(e.timeout)&&e.timeout>0&&nC.setEditorTimeout(t,(function(){u()}),e.timeout);var l=function(){var e=vl(c),n={maxHeightFunction:pp()},i=t.notificationManager.getNotifications();if(i[0]===f){var u=a(a({},r.anchors.banner()),{},{overrides:n});eC.showWithinBounds(s,e,{anchor:u},o)}else et(i,f).each((function(t){var r=i[t-1].getEl(),a={type:"node",root:vn(),node:Y.some(ve.fromDom(r)),overrides:n,layouts:{onRtl:function(){return[Bf]},onLtr:function(){return[Bf]}}};eC.showWithinBounds(s,e,{anchor:a},o)}))},f={close:u,reposition:l,text:function(t){wC.updateText(c,t)},settings:e,getEl:function(){return c.element.dom},progressBar:{value:function(t){wC.updateProgress(c,t)}}};return f},u=function(t){t.close()},c=function(t){return t.settings};return{open:i,close:u,getArgs:c}},CC=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),kC=tinymce.util.Tools.resolve("tinymce.EditorManager"),OC=tinymce.util.Tools.resolve("tinymce.Env");(function(t){t["default"]="wrap",t["floating"]="floating",t["sliding"]="sliding",t["scrolling"]="scrolling"})(W_||(W_={})),function(t){t["auto"]="auto",t["top"]="top",t["bottom"]="bottom"}($_||($_={}));var SC,EC=function(t){return function(e){return e.options.get(t)}},TC=function(t){return function(e){return Y.from(t(e))}},AC=function(t){var e=OC.deviceType.isPhone(),n=OC.deviceType.isTablet()||e,r=t.options.register,o=function(t){return k(t)||!1===t},i=function(t){return k(t)||M(t)};r("skin",{processor:function(t){return k(t)||!1===t},default:"oxide"}),r("skin_url",{processor:"string"}),r("height",{processor:i,default:Math.max(t.getElement().offsetHeight,400)}),r("width",{processor:i,default:CC.DOM.getStyle(t.getElement(),"width")}),r("min_height",{processor:"number",default:100}),r("min_width",{processor:"number"}),r("max_height",{processor:"number"}),r("max_width",{processor:"number"}),r("style_formats",{processor:"object[]"}),r("style_formats_merge",{processor:"boolean",default:!1}),r("style_formats_autohide",{processor:"boolean",default:!1}),r("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),r("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),r("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),r("font_size_input_default_unit",{processor:"string",default:"pt"}),r("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),r("content_langs",{processor:"object[]"}),r("removed_menuitems",{processor:"string",default:""}),r("menubar",{processor:function(t){return k(t)||A(t)},default:!e}),r("menu",{processor:"object",default:{}}),r("toolbar",{processor:function(t){return A(t)||k(t)||E(t)?{value:t,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."}},default:!0}),ot(9,(function(t){r("toolbar"+(t+1),{processor:"string"})})),r("toolbar_mode",{processor:"string",default:n?"scrolling":"floating"}),r("toolbar_groups",{processor:"object",default:{}}),r("toolbar_location",{processor:"string",default:$_.auto}),r("toolbar_persist",{processor:"boolean",default:!1}),r("toolbar_sticky",{processor:"boolean",default:t.inline}),r("toolbar_sticky_offset",{processor:"number",default:0}),r("fixed_toolbar_container",{processor:"string",default:""}),r("fixed_toolbar_container_target",{processor:"object"}),r("ui_mode",{processor:"string",default:"combined"}),r("file_picker_callback",{processor:"function"}),r("file_picker_validator_handler",{processor:"function"}),r("file_picker_types",{processor:"string"}),r("typeahead_urls",{processor:"boolean",default:!0}),r("anchor_top",{processor:o,default:"#top"}),r("anchor_bottom",{processor:o,default:"#bottom"}),r("draggable_modal",{processor:"boolean",default:!1}),r("statusbar",{processor:"boolean",default:!0}),r("elementpath",{processor:"boolean",default:!0}),r("branding",{processor:"boolean",default:!0}),r("promotion",{processor:"boolean",default:!0}),r("resize",{processor:function(t){return"both"===t||A(t)},default:!OC.deviceType.isTouch()}),r("sidebar_show",{processor:"string"})},NC=EC("readonly"),RC=EC("height"),DC=EC("width"),PC=TC(EC("min_width")),MC=TC(EC("min_height")),BC=TC(EC("max_width")),LC=TC(EC("max_height")),IC=TC(EC("style_formats")),jC=EC("style_formats_merge"),FC=EC("style_formats_autohide"),qC=EC("content_langs"),zC=EC("removed_menuitems"),UC=EC("toolbar_mode"),HC=EC("toolbar_groups"),VC=EC("toolbar_location"),WC=EC("fixed_toolbar_container"),$C=EC("fixed_toolbar_container_target"),GC=EC("toolbar_persist"),KC=EC("toolbar_sticky_offset"),YC=EC("menubar"),XC=EC("toolbar"),ZC=EC("file_picker_callback"),JC=EC("file_picker_validator_handler"),QC=EC("font_size_input_default_unit"),tk=EC("file_picker_types"),ek=EC("typeahead_urls"),nk=EC("anchor_top"),rk=EC("anchor_bottom"),ok=EC("draggable_modal"),ik=EC("statusbar"),ak=EC("elementpath"),uk=EC("branding"),ck=EC("resize"),sk=EC("paste_as_text"),lk=EC("sidebar_show"),fk=EC("promotion"),dk=function(t){return!1===t.options.get("skin")},pk=function(t){return!1!==t.options.get("menubar")},mk=function(t){var e=t.options.get("skin_url");if(dk(t))return e;if(e)return t.documentBaseURI.toAbsolute(e);var n=t.options.get("skin");return kC.baseURL+"/skins/ui/"+n},hk=function(t){return t.options.get("line_height_formats").split(" ")},vk=function(t){var e=XC(t),n=k(e),r=E(e)&&e.length>0;return!bk(t)&&(r||n||!0===e)},gk=function(t){var e=ot(9,(function(e){return t.options.get("toolbar"+(e+1))})),n=lt(e,k);return Zt(n.length>0,n)},bk=function(t){return gk(t).fold((function(){var e=XC(t);return B(e,k)&&e.length>0}),K)},yk=function(t){return VC(t)===$_.bottom},xk=function(t){var e;if(!t.inline)return Y.none();var n=null!==(e=WC(t))&&void 0!==e?e:"";if(n.length>0)return Ol(vn(),n);var r=$C(t);return D(r)?Y.some(ve.fromDom(r)):Y.none()},wk=function(t){return t.inline&&xk(t).isSome()},_k=function(t){var e=xk(t);return e.getOrThunk((function(){return sn(cn(ve.fromDom(t.getElement())))}))},Ck=function(t){return t.inline&&!pk(t)&&!vk(t)&&!bk(t)},kk=function(t){var e=t.options.get("toolbar_sticky");return(e||t.inline)&&!wk(t)&&!Ck(t)},Ok=function(t){return!wk(t)&&"split"===t.options.get("ui_mode")},Sk=function(t){var e=t.options.get("menu");return Dt(e,(function(t){return a(a({},t),{},{items:t.items})}))},Ek=Object.freeze({__proto__:null,get ToolbarMode(){return W_},get ToolbarLocation(){return $_},register:AC,getSkinUrl:mk,isReadOnly:NC,isSkinDisabled:dk,getHeightOption:RC,getWidthOption:DC,getMinWidthOption:PC,getMinHeightOption:MC,getMaxWidthOption:BC,getMaxHeightOption:LC,getUserStyleFormats:IC,shouldMergeStyleFormats:jC,shouldAutoHideStyleFormats:FC,getLineHeightFormats:hk,getContentLanguages:qC,getRemovedMenuItems:zC,isMenubarEnabled:pk,isMultipleToolbars:bk,isToolbarEnabled:vk,isToolbarPersist:GC,getMultipleToolbarsOption:gk,getUiContainer:_k,useFixedContainer:wk,isSplitUiMode:Ok,getToolbarMode:UC,isDraggableModal:ok,isDistractionFree:Ck,isStickyToolbar:kk,getStickyToolbarOffset:KC,getToolbarLocation:VC,isToolbarLocationBottom:yk,getToolbarGroups:HC,getMenus:Sk,getMenubar:YC,getToolbar:XC,getFilePickerCallback:ZC,getFilePickerTypes:tk,useTypeaheadUrls:ek,getAnchorTop:nk,getAnchorBottom:rk,getFilePickerValidatorHandler:JC,getFontSizeInputDefaultUnit:QC,useStatusBar:ik,useElementPath:ak,promotionEnabled:fk,useBranding:uk,getResize:ck,getPasteAsText:sk,getSidebarShow:lk}),Tk="[data-mce-autocompleter]",Ak=function(t){return Sl(t,Tk)},Nk=function(t){return Ol(t,Tk)},Rk=function(t,e){var n=function(t,e){Yu(t,fu(),{raw:e})},r=function(){return t.getMenu().bind(qb.getHighlighted)};e.on("keydown",(function(e){var o=e.which;t.isActive()&&(t.isMenuOpen()?13===o?(r().each(Xu),e.preventDefault()):40===o?(r().fold((function(){t.getMenu().each(qb.highlightFirst)}),(function(t){n(t,e)})),e.preventDefault(),e.stopImmediatePropagation()):37!==o&&38!==o&&39!==o||r().each((function(t){n(t,e),e.preventDefault(),e.stopImmediatePropagation()})):13!==o&&38!==o&&40!==o||t.cancelIfNecessary())})),e.on("NodeChange",(function(e){t.isActive()&&!t.isProcessingAction()&&Ak(ve.fromDom(e.element)).isNone()&&t.cancelIfNecessary()}))},Dk={setup:Rk};(function(t){t[t["CLOSE_ON_EXECUTE"]=0]="CLOSE_ON_EXECUTE",t[t["BUBBLE_TO_SANDBOX"]=1]="BUBBLE_TO_SANDBOX"})(SC||(SC={}));var Pk,Mk=SC,Bk="tox-menu-nav__js",Lk="tox-collection__item",Ik="tox-swatch",jk={normal:Bk,color:Ik},Fk="tox-collection__item--enabled",qk="tox-collection__group-heading",zk="tox-collection__item-icon",Uk="tox-collection__item-label",Hk="tox-collection__item-accessory",Vk="tox-collection__item-caret",Wk="tox-collection__item-checkmark",$k="tox-collection__item--active",Gk="tox-collection__item-container",Kk="tox-collection__item-container--column",Yk="tox-collection__item-container--row",Xk="tox-collection__item-container--align-right",Zk="tox-collection__item-container--align-left",Jk="tox-collection__item-container--valign-top",Qk="tox-collection__item-container--valign-middle",tO="tox-collection__item-container--valign-bottom",eO=function(t){return zt(jk,t).getOr(Bk)},nO=function(t){return"color"===t?"tox-swatches":"tox-menu"},rO=function(t){return{backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:nO(t),tieredMenu:"tox-tiered-menu"}},oO=function(t){var e=rO(t);return{backgroundMenu:e.backgroundMenu,selectedMenu:e.selectedMenu,menu:e.menu,selectedItem:e.selectedItem,item:eO(t)}},iO=function(t,e,n){var r=rO(n);return{tag:"div",classes:vt([[r.menu,"tox-menu-".concat(e,"-column")],t?[r.hasIcons]:[]])}},aO=[L_.parts.items({})],uO=function(t,e,n){var r=rO(n),o={tag:"div",classes:vt([[r.tieredMenu]])};return{dom:o,markers:oO(n)}},cO=q([la("data"),ya("inputAttributes",{}),ya("inputStyles",{}),ya("tag","input"),ya("inputClasses",[]),Yl("onSetValue"),ya("styles",{}),ya("eventOrder",{}),jv("inputBehaviours",[Iv,qw]),ya("selectOnFocus",!0)]),sO=function(t){return ed([qw.config({onFocus:t.selectOnFocus?function(t){var e=t.element,n=Us(e);e.dom.setSelectionRange(0,n.length)}:L})])},lO=function(t){return a(a({},sO(t)),qv(t.inputBehaviours,[Iv.config({store:a(a({mode:"manual"},t.data.map((function(t){return{initialValue:t}})).getOr({})),{},{getValue:function(t){return Us(t.element)},setValue:function(t,e){var n=Us(t.element);n!==e&&Hs(t.element,e)}}),onSetValue:t.onSetValue})]))},fO=function(t){return{tag:t.tag,attributes:a({type:"text"},t.inputAttributes),styles:t.inputStyles,classes:t.inputClasses}},dO=function(t,e){return{uid:t.uid,dom:fO(t),components:[],behaviours:lO(t),eventOrder:t.eventOrder}},pO=Yg({name:"Input",configFields:cO(),factory:dO}),mO=Rc("refetch-trigger-event"),hO=Rc("redirect-menu-item-interaction"),vO="tox-menu__searcher",gO=function(t){return Ol(t.element,".".concat(vO)).bind((function(e){return t.getSystem().getByDom(e).toOptional()}))},bO=gO,yO=function(t,e){Iv.setValue(t,e.fetchPattern),t.element.dom.selectionStart=e.selectionStart,t.element.dom.selectionEnd=e.selectionEnd},xO=function(t){var e=Iv.getValue(t),n=t.element.dom.selectionStart,r=t.element.dom.selectionEnd;return{fetchPattern:e,selectionStart:n,selectionEnd:r}},wO=function(t,e){_n(e.element,"id").each((function(e){return yn(t.element,"aria-activedescendant",e)}))},_O=function(t){var e=function(t,e){return e.cut(),Y.none()},n=function(t,e){var n={interactionEvent:e.event,eventType:e.event.raw.type};return Yu(t,hO,n),Y.some(!0)},r="searcher-events";return{dom:{tag:"div",classes:[Lk]},components:[pO.sketch({inputClasses:[vO,"tox-textfield"],inputAttributes:a(a({},t.placeholder.map((function(e){return{placeholder:t.i18n(e)}})).getOr({})),{},{type:"search","aria-autocomplete":"list"}),inputBehaviours:ed([Rw(r,[ic(pu(),(function(t){Ku(t,mO)})),ic(fu(),(function(t,e){"Escape"===e.event.raw.key&&e.stop()}))]),hw.config({mode:"special",onLeft:e,onRight:e,onSpace:e,onEnter:n,onEscape:n,onUp:n,onDown:n})]),eventOrder:{keydown:[r,hw.name()]}})]}},CO="tox-collection--results__js",kO=function(t){var e;return t.dom?a(a({},t),{},{dom:a(a({},t.dom),{},{attributes:a(a({},null!==(e=t.dom.attributes)&&void 0!==e?e:{}),{},{id:Rc("aria-item-search-result-id"),"aria-selected":"false"})})}):t},OO=function(t,e){return function(n){var r=it(n,e);return at(r,(function(e){return{dom:t,components:e}}))}},SO=function(t){return{dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[L_.parts.items({preprocess:"auto"!==t?OO({tag:"div",classes:["tox-swatches__row"]},t):z})]}]}},EO=function(t){return{dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[L_.parts.items({preprocess:OO({tag:"div",classes:["tox-collection__group"]},t)})]}},TO=function(t,e){var n=[],r=[];return ut(t,(function(t,o){e(t,o)?(r.length>0&&n.push(r),r=[],(Ut(t.dom,"innerHtml")||t.components&&t.components.length>0)&&r.push(t)):r.push(t)})),r.length>0&&n.push(r),at(n,(function(t){return{dom:{tag:"div",classes:["tox-collection__group"]},components:t}}))},AO=function(t,e,n){return L_.parts.items({preprocess:function(r){var o=at(r,n);return"auto"!==t&&t>1?OO({tag:"div",classes:["tox-collection__group"]},t)(o):TO(o,(function(t,n){return"separator"===e[n].type}))}})},NO=function(t,e){return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(1===t?["tox-collection--list"]:["tox-collection--grid"])},components:[AO(t,e,z)]}},RO=function(t,e){var n=Rc("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",CO].concat(1===t?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:n}},components:[AO(t,e,kO)]}},DO=function(t,e,n){var r=Rc("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(1===t?["tox-collection--list"]:["tox-collection--grid"])},components:[_O({i18n:aC.translate,placeholder:n.placeholder}),{dom:{tag:"div",classes:[].concat(c(1===t?["tox-collection--list"]:["tox-collection--grid"]),[CO]),attributes:{id:r}},components:[AO(t,e,kO)]}]}},PO=function(t){return{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[L_.parts.items({preprocess:function(e){return TO(e,(function(e,n){return"separator"===t[n].type}))}})]}},MO=function(t){return rt(t,(function(t){return"icon"in t&&void 0!==t.icon}))},BO=function(t){return console.error(Gi(t)),console.log(t),Y.none()},LO=function(t,e,n,r,o){var i=PO(n);return{value:t,dom:i.dom,components:i.components,items:n}},IO=function(t,e,n,r,o){var i=function(){return"searchable"!==o.menuType?NO(r,n):"search-with-field"===o.searchMode.searchMode?DO(r,n,o.searchMode):RO(r,n)};if("color"===o.menuType){var a=SO(r);return{value:t,dom:a.dom,components:a.components,items:n}}if("normal"===o.menuType&&"auto"===r){var u=NO(r,n);return{value:t,dom:u.dom,components:u.components,items:n}}if("normal"===o.menuType||"searchable"===o.menuType){var c=i();return{value:t,dom:c.dom,components:c.components,items:n}}if("listpreview"===o.menuType&&"auto"!==r){var s=EO(r);return{value:t,dom:s.dom,components:s.components,items:n}}return{value:t,dom:iO(e,r,o.menuType),components:aO,items:n}},jO=na("type"),FO=na("name"),qO=na("label"),zO=na("text"),UO=na("title"),HO=na("icon"),VO=na("value"),WO=ia("fetch"),$O=ia("getSubmenuItems"),GO=ia("onAction"),KO=ia("onItemAction"),YO=Oa("onSetup",(function(){return L})),XO=pa("name"),ZO=pa("text"),JO=pa("icon"),QO=pa("tooltip"),tS=pa("label"),eS=pa("shortcut"),nS=ha("select"),rS=ka("active",!1),oS=ka("borderless",!1),iS=ka("enabled",!0),aS=ka("primary",!1),uS=function(t){return ya("columns",t)},cS=ya("meta",{}),sS=Oa("onAction",L),lS=function(t){return _a("type",t)},fS=function(t){return Xi("name","name",Yo((function(){return Rc("".concat(t,"-name"))})),Pi)},dS=function(t){return Xi("value","value",Yo((function(){return Rc("".concat(t,"-value"))})),Ni())},pS=ki([jO,ZO]),mS=function(t){return Vi("separatormenuitem",pS,t)},hS=ki([lS("autocompleteitem"),rS,iS,cS,VO,ZO,JO]),vS=function(t){return Vi("Autocompleter.Separator",pS,t)},gS=function(t){return Vi("Autocompleter.Item",hS,t)},bS=[iS,QO,JO,ZO,YO],yS=ki([jO,GO].concat(bS)),xS=function(t){return Vi("toolbarbutton",yS,t)},wS=[rS].concat(bS),_S=ki(wS.concat([jO,GO])),CS=function(t){return Vi("ToggleButton",_S,t)},kS=[Oa("predicate",G),Ca("scope","node",["node","editor"]),Ca("position","selection",["node","selection","line"])],OS=bS.concat([lS("contextformbutton"),aS,GO,Zi("original",z)]),SS=wS.concat([lS("contextformbutton"),aS,GO,Zi("original",z)]),ES=bS.concat([lS("contextformbutton")]),TS=wS.concat([lS("contextformtogglebutton")]),AS=Ki("type",{contextformbutton:OS,contextformtogglebutton:SS}),NS=ki([lS("contextform"),Oa("initValue",q("")),tS,sa("commands",AS),fa("launch",Ki("type",{contextformbutton:ES,contextformtogglebutton:TS}))].concat(kS)),RS=function(t){return Vi("ContextForm",NS,t)},DS=ki([lS("contexttoolbar"),na("items")].concat(kS)),PS=function(t){return Vi("ContextToolbar",DS,t)},MS=[jO,na("src"),pa("alt"),Ea("classes",[],Pi)],BS=ki(MS),LS=[jO,zO,XO,Ea("classes",["tox-collection__item-label"],Pi)],IS=ki(LS),jS=wi((function(){return Fi("type",{cardimage:BS,cardtext:IS,cardcontainer:FS})})),FS=ki([jO,_a("direction","horizontal"),_a("align","left"),_a("valign","middle"),sa("items",jS)]),qS=[iS,ZO,eS,dS("menuitem"),cS],zS=ki([jO,tS,sa("items",jS),YO,sS].concat(qS)),US=function(t){return Vi("cardmenuitem",zS,t)},HS=ki([jO,rS,JO].concat(qS)),VS=function(t){return Vi("choicemenuitem",HS,t)},WS=[jO,na("fancytype"),sS],$S=[ya("initData",{})].concat(WS),GS=[ha("select"),Ta("initData",{},[ka("allowCustomColors",!0),_a("storageKey","default"),va("colors",Ni())])].concat(WS),KS=Ki("fancytype",{inserttable:$S,colorswatch:GS}),YS=function(t){return Vi("fancymenuitem",KS,t)},XS=ki([jO,YO,sS,JO].concat(qS)),ZS=function(t){return Vi("menuitem",XS,t)},JS=ki([jO,$O,YO,JO].concat(qS)),QS=function(t){return Vi("nestedmenuitem",JS,t)},tE=ki([jO,JO,rS,YO,GO].concat(qS)),eE=function(t){return Vi("togglemenuitem",tE,t)},nE=function(t,e,n){var r=Sm(t.element,"."+n);if(r.length>0){var o=ht(r,(function(t){var n=t.dom.getBoundingClientRect().top,o=r[0].dom.getBoundingClientRect().top;return Math.abs(n-o)>e})).getOr(r.length);return Y.some({numColumns:o,numRows:Math.ceil(r.length/o)})}return Y.none()},rE=function(t,e){return ed([Rw(t,e)])},oE=function(t){return rE(Rc("unnamed-events"),t)},iE={namedEvents:rE,unnamedEvents:oE},aE=Rc("tooltip.exclusive"),uE=Rc("tooltip.show"),cE=Rc("tooltip.hide"),sE=function(t,e,n){t.getSystem().broadcastOn([aE],{})},lE=function(t,e,n,r){n.getTooltip().each((function(t){t.getSystem().isConnected()&&Aw.set(t,r)}))},fE=Object.freeze({__proto__:null,hideAllExclusive:sE,setComponents:lE}),dE=function(t,e){var n=function(n){e.getTooltip().each((function(r){Nh(r),t.onHide(n,r),e.clearTooltip()})),e.clearTimer()},r=function(n){if(!e.isShowing()){sE(n);var r=t.lazySink(n).getOrDie(),o=n.getSystem().build({dom:t.tooltipDom,components:t.tooltipComponents,events:ec("normal"===t.mode?[ic(cu(),(function(t){Ku(n,uE)})),ic(au(),(function(t){Ku(n,cE)}))]:[]),behaviours:ed([Aw.config({})])});e.setTooltip(o),Eh(r,o),t.onShow(n,o),gh.position(r,o,{anchor:t.anchor(n)})}};return ec(vt([[ic(uE,(function(n){e.resetTimer((function(){r(n)}),t.delay)})),ic(cE,(function(r){e.resetTimer((function(){n(r)}),t.delay)})),ic(Ou(),(function(t,e){var r=e;r.universal||nt(r.channels,aE)&&n(t)})),vc((function(t){n(t)}))],"normal"===t.mode?[ic(su(),(function(t){Ku(t,uE)})),ic(Cu(),(function(t){Ku(t,cE)})),ic(cu(),(function(t){Ku(t,uE)})),ic(au(),(function(t){Ku(t,cE)}))]:[ic($u(),(function(t,e){Ku(t,uE)})),ic(Gu(),(function(t){Ku(t,cE)}))]]))},pE=Object.freeze({__proto__:null,events:dE}),mE=[Qi("lazySink"),Qi("tooltipDom"),ya("exclusive",!0),ya("tooltipComponents",[]),ya("delay",300),Ca("mode","normal",["normal","follow-highlight"]),ya("anchor",(function(t){return{type:"hotspot",hotspot:t,layouts:{onLtr:q([Bf,Mf,Nf,Df,Rf,Pf]),onRtl:q([Bf,Mf,Nf,Df,Rf,Pf])}}})),Yl("onHide"),Yl("onShow")],hE=function(){var t=Vd(),e=Vd(),n=function(){t.on(clearTimeout)},r=function(e,r){n(),t.set(setTimeout(e,r))},o=q("not-implemented");return Qc({getTooltip:e.get,isShowing:e.isSet,setTooltip:e.set,clearTooltip:e.clear,clearTimer:n,resetTimer:r,readState:o})},vE=Object.freeze({__proto__:null,init:hE}),gE=rd({fields:mE,name:"tooltipping",active:pE,state:vE,apis:fE}),bE=function(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},yE="silver.readonly",xE=ki([oa("readonly")]),wE=function(t,e){var n=t.mainUi.outerContainer,r=n.element,o=[t.mainUi.mothership].concat(c(t.uiMotherships));e&&ut(o,(function(t){t.broadcastOn([nv()],{target:r})})),ut(o,(function(t){t.broadcastOn([yE],{readonly:e})}))},_E=function(t,e){t.on("init",(function(){t.mode.isReadOnly()&&wE(e,!0)})),t.on("SwitchMode",(function(){return wE(e,t.mode.isReadOnly())})),NC(t)&&t.mode.set("readonly")},CE=function(){return ud.config({channels:u({},yE,{schema:xE,onReceive:function(t,e){xb.set(t,e.readonly)}})})},kE=function(t){return xb.config({disabled:t,disableClass:"tox-collection__item--state-disabled"})},OE=function(t){return xb.config({disabled:t})},SE=function(t){return xb.config({disabled:t,disableClass:"tox-tbtn--disabled"})},EE=function(t){return xb.config({disabled:t,disableClass:"tox-tbtn--disabled",useNative:!1})},TE={item:kE,button:OE,splitButton:SE,toolbarButton:EE},AE=function(t,e){var n=t.getApi(e);return function(t){t(n)}},NE=function(t,e){return hc((function(n){var r=AE(t,n);r((function(n){var r=t.onSetup(n);P(r)&&e.set(r)}))}))},RE=function(t,e){return vc((function(n){return AE(t,n)(e.get())}))},DE=function(t,e){return bc((function(n,r){AE(t,n)(t.onAction),t.triggersSubmenu||e!==Mk.CLOSE_ON_EXECUTE||(n.getSystem().isConnected()&&Ku(n,Nu()),r.stop())}))},PE=u({},Su(),["disabling","alloy.base.behaviour","toggling","item-events"]),ME=$t,BE=function(t,e,n,r){var o=Aa(L);return{type:"item",dom:e.dom,components:ME(e.optComponents),data:t.data,eventOrder:PE,hasSubmenu:t.triggersSubmenu,itemBehaviours:ed([Rw("item-events",[DE(t,n),NE(t,o),RE(t,o)]),TE.item((function(){return!t.enabled||r.isDisabled()})),CE(),Aw.config({})].concat(t.itemBehaviours))}},LE=function(t){return{value:t.value,meta:a({text:t.text.getOr("")},t.meta)}},IE=function(t){var e=OC.os.isMacOS()||OC.os.isiOS(),n={alt:"⌥",ctrl:"⌃",shift:"⇧",meta:"⌘",access:"⌃⌥"},r={meta:"Ctrl",access:"Shift+Alt"},o=e?n:r,i=t.split("+"),a=at(i,(function(t){var e=t.toLowerCase().trim();return Ut(o,e)?o[e]:t}));return e?a.join(""):a.join("+")},jE=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[zk];return gC(t,{tag:"div",classes:n},e)},FE=function(t){return{dom:{tag:"div",classes:[Uk]},components:[ll(aC.translate(t))]}},qE=function(t,e){return{dom:{tag:"div",classes:e,innerHtml:t}}},zE=function(t,e){return{dom:{tag:"div",classes:[Uk]},components:[{dom:{tag:t.tag,styles:t.styles},components:[ll(aC.translate(e))]}]}},UE=function(t){return{dom:{tag:"div",classes:[Hk]},components:[ll(IE(t))]}},HE=function(t){return jE("checkmark",t,[Wk])},VE=function(t){return jE("chevron-right",t,[Vk])},WE=function(t){return jE("chevron-down",t,[Vk])},$E=function(t,e){var n="vertical"===t.direction?Kk:Yk,r="left"===t.align?Zk:Xk,o=function(){switch(t.valign){case"top":return Jk;case"middle":return Qk;case"bottom":return tO}};return{dom:{tag:"div",classes:[Gk,n,r,o()]},components:e}},GE=function(t,e,n){return{dom:{tag:"img",classes:e,attributes:{src:t,alt:n.getOr("")}}}},KE=function(t,e,n){var r="custom",o="remove",i=t.ariaLabel,u=t.value,s=t.iconContent.map((function(t){return pC(t,e.icons,n)})),l=function(){var t=Ik,n=s.getOr(""),l=i.map((function(t){return{title:e.translate(t)}})).getOr({}),f={tag:"div",attributes:l,classes:[t]};return u===r?a(a({},f),{},{tag:"button",classes:[].concat(c(f.classes),["tox-swatches__picker-btn"]),innerHtml:n}):u===o?a(a({},f),{},{classes:[].concat(c(f.classes),["tox-swatch--remove"]),innerHtml:n}):D(u)?a(a({},f),{},{attributes:a(a({},f.attributes),{},{"data-mce-color":u}),styles:{"background-color":u},innerHtml:n}):f};return{dom:l(),optComponents:[]}},YE=function(t){var e=t.map((function(t){return{attributes:{title:aC.translate(t)}}})).getOr({});return a({tag:"div",classes:[Bk,Lk]},e)},XE=function(t,e,n,r){var o={tag:"div",classes:[zk]},i=function(t){return gC(t,o,e.icons,r)},a=function(){return Y.some({dom:o})},u=n?t.iconContent.map(i).orThunk(a):Y.none(),c=t.checkMark,s=Y.from(t.meta).fold((function(){return FE}),(function(t){return Ut(t,"style")?H(zE,t.style):FE})),l=t.htmlContent.fold((function(){return t.textContent.map(s)}),(function(t){return Y.some(qE(t,[Uk]))})),f={dom:YE(t.ariaLabel),optComponents:[u,l,t.shortcutContent.map(UE),c,t.caret]};return f},ZE=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Y.none();return"color"===t.presets?KE(t,e,r):XE(t,e,n,r)},JE=function(t,e){return zt(t,"tooltipWorker").map((function(t){return[gE.config({lazySink:e.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:function(t){return{type:"submenu",item:t,overrides:{maxHeightFunction:pp}}},mode:"follow-highlight",onShow:function(e,n){t((function(t){gE.setComponents(e,[fl({element:ve.fromDom(t)})])}))}})]})).getOr([])},QE=function(t){return CC.DOM.encode(t)},tT=function(t,e){var n=aC.translate(t),r=QE(n);if(e.length>0){var o=new RegExp(bE(e),"gi");return r.replace(o,(function(t){return'<span class="tox-autocompleter-highlight">'.concat(t,"</span>")}))}return r},eT=function(t,e,n,r,o,i,a){var u=!(arguments.length>7&&void 0!==arguments[7])||arguments[7],c=ZE({presets:r,textContent:Y.none(),htmlContent:n?t.text.map((function(t){return tT(t,e)})):Y.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:Y.none(),checkMark:Y.none(),caret:Y.none(),value:t.value},a.providers,u,t.icon);return BE({data:LE(t),enabled:t.enabled,getApi:q({}),onAction:function(e){return o(t.value,t.meta)},onSetup:q(L),triggersSubmenu:!1,itemBehaviours:JE(t.meta,a)},c,i,a.providers)},nT=function t(e,n){return at(e,(function(e){switch(e.type){case"cardcontainer":return $E(e,t(e.items,n));case"cardimage":return GE(e.src,e.classes,e.alt);case"cardtext":var r=e.name.exists((function(t){return nt(n.cardText.highlightOn,t)})),o=r?Y.from(n.cardText.matchText).getOr(""):"";return qE(tT(e.text,o),e.classes)}}))},rT=function(t,e,n,r){var o=function(t){return{isEnabled:function(){return!xb.isDisabled(t)},setEnabled:function(e){xb.set(t,!e),ut(Sm(t.element,"*"),(function(n){t.getSystem().getByDom(n).each((function(t){t.hasConfigured(xb)&&xb.set(t,!e)}))}))}}},i={dom:YE(t.label),optComponents:[Y.some({dom:{tag:"div",classes:[Gk,Yk]},components:nT(t.items,r)})]};return BE({data:LE(a({text:Y.none()},t)),enabled:t.enabled,getApi:o,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:Y.from(r.itemBehaviours).getOr([])},i,e,n.providers)},oT=function(t,e,n,r,o,i,a){var u=!(arguments.length>7&&void 0!==arguments[7])||arguments[7],c=function(t){return{setActive:function(e){i_.set(t,e)},isActive:function(){return i_.isOn(t)},isEnabled:function(){return!xb.isDisabled(t)},setEnabled:function(e){return xb.set(t,!e)}}},s=ZE({presets:n,textContent:e?t.text:Y.none(),htmlContent:Y.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:e?t.shortcut:Y.none(),checkMark:e?Y.some(HE(a.icons)):Y.none(),caret:Y.none(),value:t.value},a,u);return $o(BE({data:LE(t),enabled:t.enabled,getApi:c,onAction:function(e){return r(t.value)},onSetup:function(t){return t.setActive(o),L},triggersSubmenu:!1,itemBehaviours:[]},s,i,a),{toggling:{toggleClass:Fk,toggleOnExecute:!1,selected:t.active,exclusive:!0}})},iT=kg(C_(),k_()),aT=function(t){return{value:lT(t)}},uT=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,cT=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,sT=function(t){return uT.test(t)||cT.test(t)},lT=function(t){return ee(t,"#").toUpperCase()},fT=function(t){return sT(t)?Y.some({value:lT(t)}):Y.none()},dT=function(t){var e=t.value.replace(uT,(function(t,e,n,r){return e+e+n+n+r+r}));return{value:e}},pT=function(t){var e=dT(t),n=cT.exec(e.value);return null===n?["FFFFFF","FF","FF","FF"]:n},mT=function(t){var e=t.toString(16);return(1===e.length?"0"+e:e).toUpperCase()},hT=function(t){var e=mT(t.red)+mT(t.green)+mT(t.blue);return aT(e)},vT=Math.min,gT=Math.max,bT=Math.round,yT=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,xT=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,wT=function(t,e,n,r){return{red:t,green:e,blue:n,alpha:r}},_T=function(t){var e=parseInt(t,10);return e.toString()===t&&e>=0&&e<=255},CT=function(t){var e,n,r,o=(t.hue||0)%360,i=t.saturation/100,a=t.value/100;if(i=gT(0,vT(i,1)),a=gT(0,vT(a,1)),0===i)return e=n=r=bT(255*a),wT(e,n,r,1);var u=o/60,c=a*i,s=c*(1-Math.abs(u%2-1)),l=a-c;switch(Math.floor(u)){case 0:e=c,n=s,r=0;break;case 1:e=s,n=c,r=0;break;case 2:e=0,n=c,r=s;break;case 3:e=0,n=s,r=c;break;case 4:e=s,n=0,r=c;break;case 5:e=c,n=0,r=s;break;default:e=n=r=0}return e=bT(255*(e+l)),n=bT(255*(n+l)),r=bT(255*(r+l)),wT(e,n,r,1)},kT=function(t){var e=pT(t),n=parseInt(e[1],16),r=parseInt(e[2],16),o=parseInt(e[3],16);return wT(n,r,o,1)},OT=function(t,e,n,r){var o=parseInt(t,10),i=parseInt(e,10),a=parseInt(n,10),u=parseFloat(r);return wT(o,i,a,u)},ST=function(t){if("transparent"===t)return Y.some(wT(0,0,0,0));var e=yT.exec(t);if(null!==e)return Y.some(OT(e[1],e[2],e[3],"1"));var n=xT.exec(t);return null!==n?Y.some(OT(n[1],n[2],n[3],n[4])):Y.none()},ET=function(t){return"rgba(".concat(t.red,",").concat(t.green,",").concat(t.blue,",").concat(t.alpha,")")},TT=wT(255,0,0,1),AT=function(t){t.dispatch("SkinLoaded")},NT=function(t,e){t.dispatch("SkinLoadError",e)},RT=function(t){t.dispatch("ResizeEditor")},DT=function(t,e){t.dispatch("ResizeContent",e)},PT=function(t,e){t.dispatch("ScrollContent",e)},MT=function(t,e){t.dispatch("TextColorChange",e)},BT=function(t,e){t.dispatch("AfterProgressState",{state:e})},LT=function(t,e){return t.dispatch("ResolveName",{name:e.nodeName.toLowerCase(),target:e})},IT=function(t,e){t.dispatch("ToggleToolbarDrawer",{state:e})},jT=tinymce.util.Tools.resolve("tinymce.util.LocalStorage"),FT={},qT=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=jT.getItem(t),r=k(n)?JSON.parse(n):[],o=function(t){var n=e-t.length;return n<0?t.slice(0,e):t},i=o(r),a=function(n){et(i,n).each(u),i.unshift(n),i.length>e&&i.pop(),jT.setItem(t,JSON.stringify(i))},u=function(t){i.splice(t,1)},c=function(){return i.slice(0)};return{add:a,state:c}},zT=function(t){return zt(FT,t).getOrThunk((function(){var e="tinymce-custom-colors-".concat(t),n=jT.getItem(e);if(R(n)){var r=jT.getItem("tinymce-custom-colors");jT.setItem(e,D(r)?r:"[]")}var o=qT(e,10);return FT[t]=o,o}))},UT=function(t){return at(zT(t).state(),(function(t){return{type:"choiceitem",text:t,icon:"checkmark",value:t}}))},HT=function(t,e){zT(t).add(e)},VT=function(t,e,n){return{hue:t,saturation:e,value:n}},WT=function(t){var e=0,n=0,r=0,o=t.red/255,i=t.green/255,a=t.blue/255,u=Math.min(o,Math.min(i,a)),c=Math.max(o,Math.max(i,a));if(u===c)return r=u,VT(0,0,100*r);var s=o===u?i-a:a===u?o-i:a-o;return e=o===u?3:a===u?1:5,e=60*(e-s/(c-u)),n=(c-u)/c,r=c,VT(Math.round(e),Math.round(100*n),Math.round(100*r))},$T=function(t){return WT(kT(t))},GT=function(t){return hT(CT(t))},KT=function(t){return fT(t).orThunk((function(){return ST(t).map(hT)})).getOrThunk((function(){var e=document.createElement("canvas");e.height=1,e.width=1;var n=e.getContext("2d");n.clearRect(0,0,e.width,e.height),n.fillStyle="#FFFFFF",n.fillStyle=t,n.fillRect(0,0,1,1);var r=n.getImageData(0,0,1,1).data,o=r[0],i=r[1],a=r[2],u=r[3];return hT(wT(o,i,a,u))}))},YT="forecolor",XT="hilitecolor",ZT=5,JT=function(t){return Math.max(ZT,Math.ceil(Math.sqrt(t)))},QT=function(t,e){var n=JT(e),r=eA("color_cols")(t);return ZT===n?r:n},tA=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push({text:t[n+1],value:"#"+KT(t[n]).value,icon:"checkmark",type:"choiceitem"});return e},eA=function(t){return function(e){return e.options.get(t)}},nA="#000000",rA=function(t){var e=t.options.register,n=function(t){return B(t,k)?{value:tA(t),valid:!0}:{valid:!1,message:"Must be an array of strings."}};e("color_map",{processor:n,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),e("color_map_background",{processor:n}),e("color_map_foreground",{processor:n}),e("color_cols",{processor:"number",default:JT(uA(t,"default").length)}),e("color_cols_foreground",{processor:"number",default:QT(t,uA(t,YT).length)}),e("color_cols_background",{processor:"number",default:QT(t,uA(t,XT).length)}),e("custom_colors",{processor:"boolean",default:!0}),e("color_default_foreground",{processor:"string",default:nA}),e("color_default_background",{processor:"string",default:nA})},oA=function(t,e){return e===YT?eA("color_cols_foreground")(t):e===XT?eA("color_cols_background")(t):eA("color_cols")(t)},iA=function(t,e){var n=oA(t,e);return n>0?n:ZT},aA=eA("custom_colors"),uA=function(t,e){return e===YT&&t.options.isSet("color_map_foreground")?eA("color_map_foreground")(t):e===XT&&t.options.isSet("color_map_background")?eA("color_map_background")(t):eA("color_map")(t)},cA=eA("color_default_foreground"),sA=eA("color_default_background"),lA="rgba(0, 0, 0, 0)",fA=function(t){return ST(t).exists((function(t){return 0!==t.alpha}))},dA=function(t){return Wa(t,(function(t){if(Pe(t)){var e=Rn(t,"background-color");return Zt(fA(e),e)}return Y.none()})).getOr(lA)},pA=function(t,e){var n=ve.fromDom(t.selection.getStart()),r="hilitecolor"===e?dA(n):Rn(n,"color");return ST(r).map((function(t){return"#"+hT(t).value}))},mA=function(t,e,n){t.undoManager.transact((function(){t.focus(),t.formatter.apply(e,{value:n}),t.nodeChanged()}))},hA=function(t,e){t.undoManager.transact((function(){t.focus(),t.formatter.remove(e,{value:null},void 0,!0),t.nodeChanged()}))},vA=function(t){t.addCommand("mceApplyTextcolor",(function(e,n){mA(t,e,n)})),t.addCommand("mceRemoveTextcolor",(function(e){hA(t,e)}))},gA=function(t){var e="choiceitem",n={type:e,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"},r={type:e,text:"Custom color",icon:"color-picker",value:"custom"};return t?[n,r]:[n]},bA=function(t,e,n,r){if("custom"===n){var o=OA(t);o((function(n){n.each((function(n){HT(e,n),t.execCommand("mceApplyTextcolor",e,n),r(n)}))}),pA(t,e).getOr(nA))}else"remove"===n?(r(""),t.execCommand("mceRemoveTextcolor",e)):(r(n),t.execCommand("mceApplyTextcolor",e,n))},yA=function(t,e,n){return t.concat(UT(e).concat(gA(n)))},xA=function(t,e,n){return function(r){r(yA(t,e,n))}},wA=function(t,e,n){var r="forecolor"===e?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";t.setIconFill(r,n)},_A=function(t,e){return function(n){var r=pA(t,e);return Vt(r,n.toUpperCase())}},CA=function(t,e,n,r,o){t.ui.registry.addSplitButton(e,{tooltip:r,presets:"color",icon:"forecolor"===e?"text-color":"highlight-bg-color",select:_A(t,n),columns:iA(t,n),fetch:xA(uA(t,n),n,aA(t)),onAction:function(e){bA(t,n,o.get(),L)},onItemAction:function(r,i){bA(t,n,i,(function(n){o.set(n),MT(t,{name:e,color:n})}))},onSetup:function(n){wA(n,e,o.get());var r=function(t){t.name===e&&wA(n,t.name,t.color)};return t.on("TextColorChange",r),function(){t.off("TextColorChange",r)}}})},kA=function(t,e,n,r,o){t.ui.registry.addNestedMenuItem(e,{text:r,icon:"forecolor"===e?"text-color":"highlight-bg-color",onSetup:function(t){return wA(t,e,o.get()),L},getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"colorswatch",select:_A(t,n),initData:{storageKey:n},onAction:function(r){bA(t,n,r.value,(function(n){o.set(n),MT(t,{name:e,color:n})}))}}]}})},OA=function(t){return function(e,n){var r=!1,o=function(n){var o=n.getData(),i=o.colorpicker;r?(e(Y.from(i)),n.close()):t.windowManager.alert(t.translate(["Invalid hex color code: {0}",i]))},i=function(t,e){"hex-valid"===e.name&&(r=e.value)},a={colorpicker:n};t.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:a,onAction:i,onSubmit:o,onClose:L,onCancel:function(){e(Y.none())}})}},SA=function(t){vA(t);var e=cA(t),n=sA(t),r=Aa(e),o=Aa(n);CA(t,"forecolor","forecolor","Text color",r),CA(t,"backcolor","hilitecolor","Background color",o),kA(t,"forecolor","forecolor","Text color",r),kA(t,"backcolor","hilitecolor","Background color",o)},EA=function(t,e,n,r,o,i,a,u){var c=MO(e),s="color"!==o?"normal":"color",l=TA(e,n,r,s,i,a,u),f={menuType:o};return IO(t,c,l,r,f)},TA=function(t,e,n,r,o,i,a){return $t(at(t,(function(u){return"choiceitem"===u.type?VS(u).fold(BO,(function(u){return Y.some(oT(u,1===n,r,e,i(u.value),o,a,MO(t)))})):Y.none()})))},AA=function(t,e){var n=oO(e);if(1===t)return{mode:"menu",moveOnTab:!0};if("auto"===t)return{mode:"grid",selector:"."+n.item,initSize:{numColumns:1,numRows:1}};var r="color"===e?"tox-swatches__row":"tox-collection__group";return{mode:"matrix",rowSelector:"."+r,previousSelector:function(t){return"color"===e?Ol(t.element,"[aria-checked=true]"):Y.none()}}},NA=function(t,e){return 1===t?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:"auto"===t?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:"color"===e?".tox-swatches__row":".tox-collection__group",cell:".".concat("color"===e?Ik:Lk)}}},RA=function(t,e){var n=DA(t,e),r=e.colorinput.getColorCols(t.initData.storageKey),o="color",i=EA(Rc("menu-value"),n,(function(e){t.onAction({value:e})}),r,o,Mk.CLOSE_ON_EXECUTE,t.select.getOr(G),e.shared.providers),u=a(a({},i),{},{markers:oO(o),movement:AA(r,o)});return{type:"widget",data:{value:Rc("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[iT.widget(L_.sketch(u))]}},DA=function(t,e){var n=t.initData.allowCustomColors&&e.colorinput.hasCustomColors();return t.initData.colors.fold((function(){return yA(e.colorinput.getColors(t.initData.storageKey),t.initData.storageKey,n)}),(function(t){return t.concat(gA(n))}))},PA=Rc("cell-over"),MA=Rc("cell-execute"),BA=function(t,e,n){var r=function(n){return Yu(n,PA,{row:t,col:e})},o=function(n){return Yu(n,MA,{row:t,col:e})},i=function(t,e){e.stop(),o(t)};return hl({dom:{tag:"div",attributes:u({role:"button"},"aria-labelledby",n)},behaviours:ed([Rw("insert-table-picker-cell",[ic(cu(),qw.focus),ic(Su(),o),ic(hu(),i),ic(Tu(),i)]),i_.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),qw.config({onFocus:r})])})},LA=function(t,e,n){for(var r=[],o=0;o<e;o++){for(var i=[],a=0;a<n;a++)i.push(BA(o,a,t));r.push(i)}return r},IA=function(t,e,n,r,o){for(var i=0;i<r;i++)for(var a=0;a<o;a++)i_.set(t[i][a],i<=e&&a<=n)},jA=function(t){return gt(t,(function(t){return at(t,vl)}))},FA=function(t,e){return ll("".concat(e,"x").concat(t))},qA=function(t){var e=10,n=10,r=Rc("size-label"),o=LA(r,e,n),i=FA(0,0),a=iC({dom:{tag:"span",classes:["tox-insert-table-picker__label"],attributes:{id:r}},components:[i],behaviours:ed([Aw.config({})])});return{type:"widget",data:{value:Rc("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[iT.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:jA(o).concat(a.asSpec()),behaviours:ed([Rw("insert-table-picker",[hc((function(t){Aw.set(a.get(t),[i])})),fc(PA,(function(t,r,i){var u=i.event,c=u.row,s=u.col;IA(o,c,s,e,n),Aw.set(a.get(t),[FA(c+1,s+1)])})),fc(MA,(function(e,n,r){var o=r.event,i=o.row,a=o.col;t.onAction({numRows:i+1,numColumns:a+1}),Ku(e,Nu())}))]),hw.config({initSize:{numRows:e,numColumns:n},mode:"flatgrid",selector:'[role="button"]'})])})]}},zA={inserttable:qA,colorswatch:RA},UA=function(t,e){return zt(zA,t.fancytype).map((function(n){return n(t,e)}))},HA=function(t,e,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=o?WE(n.icons):VE(n.icons),a=function(t){return{isEnabled:function(){return!xb.isDisabled(t)},setEnabled:function(e){return xb.set(t,!e)},setIconFill:function(e,n){Ol(t.element,'svg path[id="'.concat(e,'"], rect[id="').concat(e,'"]')).each((function(t){yn(t,"fill",n)}))}}},u=ZE({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:Y.none(),ariaLabel:t.text,caret:Y.some(i),checkMark:Y.none(),shortcutContent:t.shortcut},n,r);return BE({data:LE(t),getApi:a,enabled:t.enabled,onAction:L,onSetup:t.onSetup,triggersSubmenu:!0,itemBehaviours:[]},u,e,n)},VA=function(t,e,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=function(t){return{isEnabled:function(){return!xb.isDisabled(t)},setEnabled:function(e){return xb.set(t,!e)}}},i=ZE({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:Y.none(),ariaLabel:t.text,caret:Y.none(),checkMark:Y.none(),shortcutContent:t.shortcut},n,r);return BE({data:LE(t),getApi:o,enabled:t.enabled,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},i,e,n)},WA=function(t){return{type:"separator",dom:{tag:"div",classes:[Lk,qk]},components:t.text.map(ll).toArray()}},$A=function(t,e,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=function(t){return{setActive:function(e){i_.set(t,e)},isActive:function(){return i_.isOn(t)},isEnabled:function(){return!xb.isDisabled(t)},setEnabled:function(e){return xb.set(t,!e)}}},i=ZE({iconContent:t.icon,textContent:t.text,htmlContent:Y.none(),ariaLabel:t.text,checkMark:Y.some(HE(n.icons)),caret:Y.none(),shortcutContent:t.shortcut,presets:"normal",meta:t.meta},n,r);return $o(BE({data:LE(t),enabled:t.enabled,getApi:o,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},i,e,n),{toggling:{toggleClass:Fk,toggleOnExecute:!1,selected:t.active}})},GA=eT,KA=WA,YA=VA,XA=HA,ZA=$A,JA=UA,QA=rT,tN=function(t,e,n,r){return n.getOrCreate(t,e,r)},eN=function(t,e,n,r){return n.getExisting(t,e,r)},nN=Object.freeze({__proto__:null,getCoupled:tN,getExistingCoupled:eN}),rN=[ta("others",Ui(To.value,Ni()))],oN=function(){var t={},e=function(e,n){var r=At(e.others);if(0===r.length)throw new Error("Cannot find any known coupled components");return zt(t,n)},n=function(n,r,o){return e(r,o).getOrThunk((function(){var e=zt(r.others,o).getOrDie("No information found for coupled component: "+o),i=e(n),a=n.getSystem().build(i);return t[o]=a,a}))},r=function(t,n,r){return e(n,r).orThunk((function(){return zt(n.others,r).getOrDie("No information found for coupled component: "+r),Y.none()}))},o=q({});return Qc({readState:o,getExisting:r,getOrCreate:n})},iN=Object.freeze({__proto__:null,init:oN}),aN=rd({fields:rN,name:"coupling",apis:nN,state:iN}),uN=function t(e){var n=Y.none(),r=[],o=function(e){return t((function(t){i((function(n){t(e(n))}))}))},i=function(t){u()?s(t):r.push(t)},a=function(t){u()||(n=Y.some(t),c(r),r=[])},u=function(){return n.isSome()},c=function(t){ut(t,s)},s=function(t){n.each((function(e){setTimeout((function(){t(e)}),0)}))};return e(a),{get:i,map:o,isReady:u}},cN=function(t){return uN((function(e){e(t)}))},sN={nu:uN,pure:cN},lN=function(t){setTimeout((function(){throw t}),0)},fN=function t(e){var n=function(t){e().then(t,lN)},r=function(n){return t((function(){return e().then(n)}))},o=function(n){return t((function(){return e().then((function(t){return n(t).toPromise()}))}))},i=function(n){return t((function(){return e().then((function(){return n.toPromise()}))}))},a=function(){return sN.nu(n)},u=function(){var n=null;return t((function(){return null===n&&(n=e()),n}))},c=e;return{map:r,bind:o,anonBind:i,toLazy:a,toCached:u,toPromise:c,get:n}},dN=function(t){return fN((function(){return new Promise(t)}))},pN=function(t){return fN((function(){return Promise.resolve(t)}))},mN={nu:dN,pure:pN},hN=q("sink"),vN=q(bg({name:hN(),overrides:q({dom:{tag:"div"},behaviours:ed([gh.config({useFixed:K})]),events:ec([dc(fu()),dc(ou()),dc(hu())])})})),gN=function(t,e){var n=t.getHotspot(e).getOr(e),r="hotspot",o=t.getAnchorOverrides();return t.layouts.fold((function(){return{type:r,hotspot:n,overrides:o}}),(function(t){return{type:r,hotspot:n,overrides:o,layouts:t}}))},bN=function(t,e,n){var r=t.fetch;return r(n).map(e)},yN=function(t,e,n,r,o,i,u){var c=bN(t,e,r),s=kN(r,t);return c.map((function(t){return t.bind((function(t){return Y.from(J_.sketch(a(a({},i.menu()),{},{uid:Fc(""),data:t,highlightOnOpen:u,onOpenMenu:function(t,e){var r=s().getOrDie();gh.position(r,e,{anchor:n}),ev.decloak(o)},onOpenSubmenu:function(t,e,n){var r=s().getOrDie();gh.position(r,n,{anchor:{type:"submenu",item:e}}),ev.decloak(o)},onRepositionMenu:function(t,e,r){var o=s().getOrDie();gh.position(o,e,{anchor:n}),ut(r,(function(t){gh.position(o,t.triggeredMenu,{anchor:{type:"submenu",item:t.triggeringItem}})}))},onEscape:function(){return qw.focus(r),ev.close(o),Y.some(!0)}})))}))}))},xN=function(t,e,n,r,o,i,a){var u=gN(t,n),c=yN(t,e,u,n,r,o,a);return c.map((function(t){return t.fold((function(){ev.isOpen(r)&&ev.close(r)}),(function(t){ev.cloak(r),ev.open(r,t),i(r)})),r}))},wN=function(t,e,n,r,o,i,a){return ev.close(r),mN.pure(r)},_N=function(t,e,n,r,o,i){var a=aN.getCoupled(n,"sandbox"),u=ev.isOpen(a),c=u?wN:xN;return c(t,e,n,a,r,o,i)},CN=function(t,e,n){var r=eb.getCurrent(e).getOr(e),o=Zn(t.element);n?Tn(r.element,"min-width",o+"px"):Xn(r.element,o)},kN=function(t,e){return t.getSystem().getByUid(e.uid+"-"+hN()).map((function(t){return function(){return To.value(t)}})).getOrThunk((function(){return e.lazySink.fold((function(){return function(){return To.error(new Error("No internal sink is specified, nor could an external sink be found"))}}),(function(e){return function(){return e(t)}}))}))},ON=function(t){ev.getState(t).each((function(t){J_.repositionMenus(t)}))},SN=function(t,e,n){var r=Al(),o=function(o,i){var a=gN(t,e);r.link(e.element),t.matchWidth&&CN(a.hotspot,i,t.useMinWidth),t.onOpen(a,o,i),void 0!==n&&void 0!==n.onOpen&&n.onOpen(o,i)},i=function(t,o){r.unlink(e.element),void 0!==n&&void 0!==n.onClose&&n.onClose(t,o)},u=kN(e,t);return{dom:{tag:"div",classes:t.sandboxClasses,attributes:{id:r.id,role:"listbox"}},behaviours:zv.augment(t.sandboxBehaviours,[Iv.config({store:{mode:"memory",initialValue:e}}),ev.config({onOpen:o,onClose:i,isPartOf:function(t,n,r){return Rl(n,r)||Rl(e,r)},getAttachPoint:function(){return u().getOrDie()}}),eb.config({find:function(t){return ev.getState(t).bind((function(t){return eb.getCurrent(t)}))}}),ud.config({channels:a(a({},av({isExtraPart:G})),cv({doReposition:ON}))})])}},EN=function(t){var e=aN.getCoupled(t,"sandbox");ON(e)},TN=function(){return[ya("sandboxClasses",[]),zv.field("sandboxBehaviours",[eb,ud,ev,Iv])]},AN=q([Qi("dom"),Qi("fetch"),Yl("onOpen"),Xl("onExecute"),ya("getHotspot",Y.some),ya("getAnchorOverrides",q({})),Op(),jv("dropdownBehaviours",[i_,aN,hw,qw]),Qi("toggleClass"),ya("eventOrder",{}),la("lazySink"),ya("matchWidth",!1),ya("useMinWidth",!1),la("role")].concat(TN())),NN=q([gg({schema:[$l(),ya("fakeFocus",!1)],name:"menu",defaults:function(t){return{onExecute:t.onExecute}}}),vN()]),RN=function(t,e,n,r){var o=function(e){return zt(t.dom,"attributes").bind((function(t){return zt(t,e)}))},i=function(t){ev.getState(t).each((function(t){J_.highlightPrimary(t)}))},c=function(e,n,o){return _N(t,z,e,r,n,o)},s=function(t){var e=i;c(t,e,ly.HighlightMenuAndItem).get(L)},l={expand:function(t){i_.isOn(t)||c(t,L,ly.HighlightNone).get(L)},open:function(t){i_.isOn(t)||c(t,L,ly.HighlightMenuAndItem).get(L)},refetch:function(e){var n=aN.getExistingCoupled(e,"sandbox");return n.fold((function(){return c(e,L,ly.HighlightMenuAndItem).map(L)}),(function(n){return xN(t,z,e,n,r,L,ly.HighlightMenuAndItem).map(L)}))},isOpen:i_.isOn,close:function(t){i_.isOn(t)&&c(t,L,ly.HighlightMenuAndItem).get(L)},repositionMenus:function(t){i_.isOn(t)&&EN(t)}},f=function(t,e){return Xu(t),Y.some(!0)};return{uid:t.uid,dom:t.dom,components:e,behaviours:qv(t.dropdownBehaviours,[i_.config({toggleClass:t.toggleClass,aria:{mode:"expanded"}}),aN.config({others:{sandbox:function(e){return SN(t,e,{onOpen:function(){return i_.on(e)},onClose:function(){return i_.off(e)}})}}}),hw.config({mode:"special",onSpace:f,onEnter:f,onDown:function(t,e){if(DN.isOpen(t)){var n=aN.getCoupled(t,"sandbox");i(n)}else DN.open(t);return Y.some(!0)},onEscape:function(t,e){return DN.isOpen(t)?(DN.close(t),Y.some(!0)):Y.none()}}),qw.config({})]),events:u_(Y.some(s)),eventOrder:a(a({},t.eventOrder),{},u({},Su(),["disabling","toggling","alloy.base.behaviour"])),apis:l,domModification:{attributes:a(a({"aria-haspopup":"true"},t.role.fold((function(){return{}}),(function(t){return{role:t}}))),"button"===t.dom.tag?{type:o("type").getOr("button")}:{})}}},DN=Xg({name:"Dropdown",configFields:AN(),partFields:NN(),factory:RN,apis:{open:function(t,e){return t.open(e)},refetch:function(t,e){return t.refetch(e)},expand:function(t,e){return t.expand(e)},close:function(t,e){return t.close(e)},isOpen:function(t,e){return t.isOpen(e)},repositionMenus:function(t,e){return t.repositionMenus(e)}}}),PN=function(t){switch(t.searchMode){case"no-search":return{menuType:"normal"};default:return{menuType:"searchable",searchMode:t}}},MN=function(t){var e=Iv.getValue(t),n=gO(t).map(xO);DN.refetch(e).get((function(){var t=aN.getCoupled(e,"sandbox");n.each((function(e){return gO(t).each((function(t){return yO(t,e)}))}))}))},BN=function(t,e){LN(t).each((function(n){Qu(t,n.element,e.event.eventType,e.event.interactionEvent)}))},LN=function(t){return ev.getState(t).bind(qb.getHighlighted).bind(qb.getHighlighted)},IN=function(t){return Ls(t.element,CO)?Y.some(t.element):Ol(t.element,"."+CO)},jN=function(t,e,n){bO(t).each((function(t){wO(t,n);var r=IN(e);r.each((function(e){_n(e,"id").each((function(e){return yn(t.element,"aria-controls",e)}))}))})),yn(n.element,"aria-selected","true")},FN=function(t,e,n){yn(n.element,"aria-selected","false")},qN=function(t){bO(t).each((function(t){return qw.focus(t)}))},zN=function(t){var e=aN.getExistingCoupled(t,"sandbox");return e.bind(gO).map(xO).map((function(t){return t.fetchPattern})).getOr("")};(function(t){t[t["ContentFocus"]=0]="ContentFocus",t[t["UiFocus"]=1]="UiFocus"})(Pk||(Pk={}));var UN,HN=function(t,e,n,r,o){var i=n.shared.providers,u=function(t){return o?a(a({},t),{},{shortcut:Y.none(),icon:t.text.isSome()?Y.none():t.icon}):t};switch(t.type){case"menuitem":return ZS(t).fold(BO,(function(t){return Y.some(YA(u(t),e,i,r))}));case"nestedmenuitem":return QS(t).fold(BO,(function(t){return Y.some(XA(u(t),e,i,r,o))}));case"togglemenuitem":return eE(t).fold(BO,(function(t){return Y.some(ZA(u(t),e,i,r))}));case"separator":return mS(t).fold(BO,(function(t){return Y.some(KA(t))}));case"fancymenuitem":return YS(t).fold(BO,(function(t){return JA(t,n)}));default:return console.error("Unknown item in general menu",t),Y.none()}},VN=function(t,e,n,r,o,i,u){var c=1===r,s=!c||MO(t);return $t(at(t,(function(t){switch(t.type){case"separator":return vS(t).fold(BO,(function(t){return Y.some(KA(t))}));case"cardmenuitem":return US(t).fold(BO,(function(t){return Y.some(QA(a(a({},t),{},{onAction:function(e){t.onAction(e),n(t.value,t.meta)}}),o,i,{itemBehaviours:JE(t.meta,i),cardText:{matchText:e,highlightOn:u}}))}));case"autocompleteitem":default:return gS(t).fold(BO,(function(t){return Y.some(GA(t,e,c,"normal",n,o,i,s))}))}})))},WN=function(t,e,n,r,o,i){var u=MO(e),c=$t(at(e,(function(t){var e=function(t){return o?!Ut(t,"text"):u},i=function(t){return HN(t,n,r,e(t),o)};return"nestedmenuitem"===t.type&&t.getSubmenuItems().length<=0?i(a(a({},t),{},{enabled:!1})):i(t)}))),s=PN(i),l=o?LO:IO;return l(t,u,c,1,s)},$N=function(t){return J_.singleData(t.value,t)},GN=function(t,e,n,r){var o=AA(e,r),i=oO(r);return{data:$N(a(a({},t),{},{movement:o,menuBehaviours:iE.unnamedEvents("auto"!==e?[]:[hc((function(t,e){nE(t,4,i.item).each((function(e){var n=e.numColumns,r=e.numRows;hw.setGridSize(t,r,n)}))}))])})),menu:{markers:oO(r),fakeFocus:n===Pk.ContentFocus}}},KN=function(t,e){return Ak(ve.fromDom(e.startContainer)).map((function(e){var n=t.createRng();return n.selectNode(e.dom),n}))},YN=function(t,e){var n=Aa(!1),r=Aa(!1),o=hl(eC.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:ed([Rw("dismissAutocompleter",[ic(Fu(),(function(){return s()}))])]),lazySink:e.getSink})),i=function(){return eC.isOpen(o)},a=r.get,u=function(){i()&&eC.hide(o)},c=function(){return eC.getContent(o).bind((function(t){return kt(t.components(),0)}))},s=function(){return t.execCommand("mceAutocompleterClose")},l=function(r){var o=Tt(r,(function(t){return Y.from(t.columns)})).getOr(1);return gt(r,(function(r){var i=r.items;return VN(i,r.matchText,(function(e,o){var i=t.selection.getRng();KN(t.dom,i).each((function(i){var a={hide:function(){return s()},reload:function(e){u(),t.execCommand("mceAutocompleterReload",!1,{fetchOptions:e})}};n.set(!0),r.onAction(a,i,e,o),n.set(!1)}))}),o,Mk.BUBBLE_TO_SANDBOX,e,r.highlightOn)}))},f=function(e,n){Nk(ve.fromDom(t.getBody())).each((function(r){var i=Tt(e,(function(t){return Y.from(t.columns)})).getOr(1);eC.showMenuAt(o,{anchor:{type:"node",root:ve.fromDom(t.getBody()),node:Y.from(r)}},GN(IO("autocompleter-value",!0,n,i,{menuType:"normal"}),i,Pk.ContentFocus,"normal"))})),c().each(qb.highlightFirst)},d=function(t){var e=l(t);e.length>0?f(t,e):u()};t.on("AutocompleterStart",(function(t){var e=t.lookupData;r.set(!0),n.set(!1),d(e)})),t.on("AutocompleterUpdate",(function(t){var e=t.lookupData;return d(e)})),t.on("AutocompleterEnd",(function(){u(),r.set(!1),n.set(!1)}));var p={cancelIfNecessary:s,isMenuOpen:i,isActive:a,isProcessingAction:n.get,getMenu:c};Dk.setup(p,t)},XN={register:YN},ZN=["visible","hidden"],JN=function(t){if(De(t)){var e=Rn(t,"overflow");return ue(e).length>0&&!nt(ZN,e)}return!1},QN=function(t){var e=Om(t,JN);return Ot(e).map((function(t){return{element:t,others:e.slice(1)}}))},tR=function(t,e){return Ok(t)?QN(e):Y.none()},eR=function(t){var e=[].concat(c(at(t.others,yo)),[Co()]);return _o(yo(t.element),e)},nR=function(t,e,n){return Sl(t,e,n).isSome()},rR=function(t,e){var n=null,r=function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];n=setTimeout((function(){t.apply(null,o),n=null}),e)},o=function(){null!==n&&(clearTimeout(n),n=null)};return{cancel:o,schedule:r}},oR=5,iR=400,aR=function(t){var e=t.raw;return void 0===e.touches||1!==e.touches.length?Y.none():Y.some(e.touches[0])},uR=function(t,e){var n=Math.abs(t.clientX-e.x),r=Math.abs(t.clientY-e.y);return n>oR||r>oR},cR=function(t){var e=Vd(),n=Aa(!1),r=rR((function(e){t.triggerEvent(Au(),e),n.set(!0)}),iR),o=function(t){return aR(t).each((function(o){r.cancel();var i={x:o.clientX,y:o.clientY,target:t.target};r.schedule(t),n.set(!1),e.set(i)})),Y.none()},i=function(t){return r.cancel(),aR(t).each((function(t){e.on((function(n){uR(t,n)&&e.clear()}))})),Y.none()},a=function(o){r.cancel();var i=function(t){return Ue(t.target,o.target)};return e.get().filter(i).map((function(e){return n.get()?(o.prevent(),!1):t.triggerEvent(Tu(),o)}))},u=Fa([{key:tu(),value:o},{key:eu(),value:i},{key:nu(),value:a}]),c=function(t,e){return zt(u,e).bind((function(e){return e(t)}))};return{fireIfReady:c}},sR=function(t){var e=t.raw;return e.which===zb[0]&&!nt(["input","textarea"],Ae(t.target))&&!nR(t.target,'[contenteditable="true"]')},lR=function(t,e){var n=a({stopBackspace:!0},e),r=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"],o=cR(n),i=at(r.concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),(function(e){return $d(t,e,(function(t){o.fireIfReady(t,e).each((function(e){e&&t.kill()}));var r=n.triggerEvent(e,t);r&&t.kill()}))})),u=Vd(),c=$d(t,"paste",(function(t){o.fireIfReady(t,"paste").each((function(e){e&&t.kill()}));var e=n.triggerEvent("paste",t);e&&t.kill(),u.set(setTimeout((function(){n.triggerEvent(ku(),t)}),0))})),s=$d(t,"keydown",(function(t){var e=n.triggerEvent("keydown",t);e?t.kill():n.stopBackspace&&sR(t)&&t.prevent()})),l=$d(t,"focusin",(function(t){var e=n.triggerEvent("focusin",t);e&&t.kill()})),f=Vd(),d=$d(t,"focusout",(function(t){var e=n.triggerEvent("focusout",t);e&&t.kill(),f.set(setTimeout((function(){n.triggerEvent(Cu(),t)}),0))})),p=function(){ut(i,(function(t){t.unbind()})),s.unbind(),l.unbind(),d.unbind(),c.unbind(),u.on(clearTimeout),f.on(clearTimeout)};return{unbind:p}},fR=function(t,e){var n=zt(t,"target").getOr(e);return Aa(n)},dR=function(t,e){var n=Aa(!1),r=Aa(!1),o=function(){n.set(!0)},i=function(){r.set(!0)};return{stop:o,cut:i,isStopped:n.get,isCut:r.get,event:t,setSource:e.set,getSource:e.get}},pR=function(t){var e=Aa(!1),n=function(){e.set(!0)};return{stop:n,cut:L,isStopped:e.get,isCut:G,event:t,setSource:W("Cannot set source of a broadcasted event"),getSource:W("Cannot get source of a broadcasted event")}},mR=Ra.generate([{stopped:[]},{resume:["element"]},{complete:[]}]),hR=function(t,e,n,r,o,i){var a=t(e,r),u=dR(n,o);return a.fold((function(){return i.logEventNoHandlers(e,r),mR.complete()}),(function(t){var n=t.descHandler,r=fs(n);return r(u),u.isStopped()?(i.logEventStopped(e,t.element,n.purpose),mR.stopped()):u.isCut()?(i.logEventCut(e,t.element,n.purpose),mR.complete()):Ke(t.element).fold((function(){return i.logNoParent(e,t.element,n.purpose),mR.complete()}),(function(r){return i.logEventResponse(e,t.element,n.purpose),mR.resume(r)}))}))},vR=function t(e,n,r,o,i,a){return hR(e,n,r,o,i,a).fold(K,(function(o){return t(e,n,r,o,i,a)}),G)},gR=function(t,e,n,r,o){var i=fR(n,r);return hR(t,e,n,r,i,o)},bR=function(t,e,n){var r=pR(e);return ut(t,(function(t){var e=t.descHandler,n=fs(e);n(r)})),r.isStopped()},yR=function(t,e,n,r){return xR(t,e,n,n.target,r)},xR=function(t,e,n,r,o){var i=fR(n,r);return vR(t,e,n,r,i,o)},wR=function(t,e){return{element:t,descHandler:e}},_R=function(t,e){return{id:t,descHandler:e}},CR=function(){var t={},e=function(e,n,r){Rt(r,(function(r,o){var i=void 0!==t[o]?t[o]:{};i[n]=ls(r,e),t[o]=i}))},n=function(t,e){return jc(e).bind((function(e){return zt(t,e)})).map((function(t){return wR(e,t)}))},r=function(e){return zt(t,e).map((function(t){return jt(t,(function(t,e){return _R(e,t)}))})).getOr([])},o=function(e,r,o){return zt(t,r).bind((function(t){return Wa(o,(function(e){return n(t,e)}),e)}))},i=function(e){Rt(t,(function(t,n){Ut(t,e)&&delete t[e]}))};return{registerId:e,unregisterId:i,filterByType:r,find:o}},kR=function(){var t=CR(),e={},n=function(t){var e=t.element;return jc(e).getOrThunk((function(){return Lc("uid-",t.element)}))},r=function(t,n){var r=e[n];if(r!==t)throw new Error('The tagId "'+n+'" is already used by: '+Sc(r.element)+"\nCannot use it for: "+Sc(t.element)+"\nThe conflicting element is"+(hn(r.element)?" ":" not ")+"already in the DOM");i(t)},o=function(o){var i=n(o);Ht(e,i)&&r(o,i);var a=[o];t.registerId(a,i,o.events),e[i]=o},i=function(n){jc(n.element).each((function(n){delete e[n],t.unregisterId(n)}))},a=function(e){return t.filterByType(e)},u=function(e,n,r){return t.find(e,n,r)},c=function(t){return zt(e,t)};return{find:u,filter:a,register:o,unregister:i,getById:c}},OR=function(t){var e=t.dom,n=e.attributes,r=i(e,h);return{uid:t.uid,dom:a({tag:"div",attributes:a({role:"presentation"},n)},r),components:t.components,behaviours:Fv(t.containerBehaviours),events:t.events,domModification:t.domModification,eventOrder:t.eventOrder}},SR=Yg({name:"Container",factory:OR,configFields:[ya("components",[]),jv("containerBehaviours",[]),ya("events",{}),ya("domModification",{}),ya("eventOrder",{})]}),ER=function(t){var e=function(e){return Ke(t.element).fold(K,(function(t){return Ue(e,t)}))},n=kR(),r=function(t,r){return n.find(e,t,r)},o=lR(t.element,{triggerEvent:function(t,e){return Fl(t,e.target,(function(n){return yR(r,t,e,n)}))}}),i={debugInfo:q("real"),triggerEvent:function(t,e,n){Fl(t,e,(function(o){return xR(r,t,n,e,o)}))},triggerFocus:function(t,e){jc(t).fold((function(){ld(t)}),(function(n){Fl(_u(),t,(function(n){return gR(r,_u(),{originator:e,kill:L,prevent:L,target:t},t,n),!1}))}))},triggerEscape:function(t,e){i.triggerEvent("keydown",t.element,e.event)},getByUid:function(t){return h(t)},getByDom:function(t){return v(t)},build:hl,buildOrPatch:ml,addToGui:function(t){c(t)},removeFromGui:function(t){s(t)},addToWorld:function(t){a(t)},removeFromWorld:function(t){u(t)},broadcast:function(t){d(t)},broadcastOn:function(t,e){p(t,e)},broadcastEvent:function(t,e){m(t,e)},isConnected:K},a=function t(e){e.connect(i),Me(e.element)||(n.register(e),ut(e.components(),t),i.triggerEvent(Du(),e.element,{target:e.element}))},u=function t(e){Me(e.element)||(ut(e.components(),t),n.unregister(e)),e.disconnect()},c=function(e){Eh(t,e)},s=function(t){Nh(t)},l=function(){o.unbind(),no(t.element)},f=function(t){var e=n.filter(Ou());ut(e,(function(e){var n=e.descHandler,r=fs(n);r(t)}))},d=function(t){f({universal:!0,data:t})},p=function(t,e){f({universal:!1,channels:t,data:e})},m=function(t,e){var r=n.filter(t);return bR(r,e)},h=function(t){return n.getById(t).fold((function(){return To.error(new Error('Could not find component with uid: "'+t+'" in system.'))}),To.value)},v=function(t){var e=jc(t).getOr("not found");return h(e)};return a(t),{root:t,element:t.element,destroy:l,add:c,remove:s,getByUid:h,getByDom:v,addToWorld:a,removeFromWorld:u,broadcast:d,broadcastOn:p,broadcastEvent:m}},TR=function(t,e){return{dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:at(t.items,e.interpreter)}},AR=q([ya("prefix","form-field"),jv("fieldBehaviours",[eb,Iv])]),NR=q([bg({schema:[Qi("dom")],name:"label"}),bg({factory:{sketch:function(t){return{uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}}}},schema:[Qi("text")],name:"aria-descriptor"}),vg({factory:{sketch:function(t){var e=Ia(t,["factory"]);return t.factory.sketch(e)}},schema:[Qi("factory")],name:"field"})]),RR=function(t,e,n,r){var o=qv(t.fieldBehaviours,[eb.config({find:function(e){return Rg(e,t,"field")}}),Iv.config({store:{mode:"manual",getValue:function(t){return eb.getCurrent(t).bind(Iv.getValue)},setValue:function(t,e){eb.getCurrent(t).each((function(t){Iv.setValue(t,e)}))}}})]),i=ec([hc((function(e,n){var r=Pg(e,t,["label","field","aria-descriptor"]);r.field().each((function(e){var n=Rc(t.prefix);r.label().each((function(t){yn(t.element,"for",n),yn(e.element,"id",n)})),r["aria-descriptor"]().each((function(n){var r=Rc(t.prefix);yn(n.element,"id",r),yn(e.element,"aria-describedby",r)}))}))}))]),a={getField:function(e){return Rg(e,t,"field")},getLabel:function(e){return Rg(e,t,"label")}};return{uid:t.uid,dom:t.dom,components:e,behaviours:o,events:i,apis:a}},DR=Xg({name:"FormField",configFields:AR(),partFields:NR(),factory:RR,apis:{getField:function(t,e){return t.getField(e)},getLabel:function(t,e){return t.getLabel(e)}}}),PR=function(t,e){return os({attributes:Fa([{key:e.tabAttr,value:"true"}])})},MR=Object.freeze({__proto__:null,exhibit:PR}),BR=[ya("tabAttr","data-alloy-tabstop")],LR=rd({fields:BR,name:"tabstopping",active:MR}),IR=tinymce.util.Tools.resolve("tinymce.html.Entities"),jR=function(t,e,n,r){var o=qR(t,e,n,r);return DR.sketch(o)},FR=function(t,e){return jR(t,e,[],[])},qR=function(t,e,n,r){return{dom:UR(n),components:t.toArray().concat([e]),fieldBehaviours:ed(r)}},zR=function(){return UR([])},UR=function(t){return{tag:"div",classes:["tox-form__group"].concat(t)}},HR=function(t,e){return DR.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[ll(e.translate(t))]})},VR=Rc("form-component-change"),WR=Rc("form-close"),$R=Rc("form-cancel"),GR=Rc("form-action"),KR=Rc("form-submit"),YR=Rc("form-block"),XR=Rc("form-unblock"),ZR=Rc("form-tabchange"),JR=Rc("form-resize"),QR=function(t,e,n){var r=t.label.map((function(t){return HR(t,e)})),o=function(t){return function(e,n){Sl(n.event.target,"[data-collection-item-value]").each((function(r){t(e,n,r,wn(r,"data-collection-item-value"))}))}},i=function(n,r){var o=at(r,(function(n){var r=aC.translate(n.text),o=1===t.columns?'<div class="tox-collection__item-label">'.concat(r,"</div>"):"",i='<div class="tox-collection__item-icon">'.concat(n.icon,"</div>"),a={_:" "," - ":" ","-":" "},u=r.replace(/\_| \- |\-/g,(function(t){return a[t]})),c=e.isDisabled()?" tox-collection__item--state-disabled":"";return'<div class="tox-collection__item'.concat(c,'" tabindex="-1" data-collection-item-value="').concat(IR.encodeAllRaw(n.value),'" title="').concat(u,'" aria-label="').concat(u,'">').concat(i).concat(o,"</div>")})),i="auto"!==t.columns&&t.columns>1?it(o,t.columns):[o],a=at(i,(function(t){return'<div class="tox-collection__group">'.concat(t.join(""),"</div>")}));wc(n.element,a.join(""))},a=o((function(n,r,o,i){r.stop(),e.isDisabled()||Yu(n,GR,{name:t.name,value:i})})),c=[ic(cu(),o((function(t,e,n){ld(n)}))),ic(hu(),a),ic(Tu(),a),ic(su(),o((function(t,e,n){Ol(t.element,"."+$k).each((function(t){Bs(t,$k)})),Ps(n,$k)}))),ic(lu(),o((function(t){Ol(t.element,"."+$k).each((function(t){Bs(t,$k)}))}))),bc(o((function(e,n,r,o){Yu(e,GR,{name:t.name,value:o})})))],s=function(t,e){return at(Sm(t.element,".tox-collection__item"),e)},l=DR.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(1!==t.columns?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:z},behaviours:ed([xb.config({disabled:e.isDisabled,onDisabled:function(t){s(t,(function(t){Ps(t,"tox-collection__item--state-disabled"),yn(t,"aria-disabled",!0)}))},onEnabled:function(t){s(t,(function(t){Bs(t,"tox-collection__item--state-disabled"),kn(t,"aria-disabled")}))}}),CE(),Aw.config({}),Iv.config({store:{mode:"memory",initialValue:n.getOr([])},onSetValue:function(e,n){i(e,n),"auto"===t.columns&&nE(e,5,"tox-collection__item").each((function(t){var n=t.numRows,r=t.numColumns;hw.setGridSize(e,n,r)})),Ku(e,JR)}}),LR.config({}),hw.config(NA(t.columns,"normal")),Rw("collection-events",c)]),eventOrder:u({},Su(),["disabling","alloy.base.behaviour","collection-events"])}),f=["tox-form__group--collection"];return jR(r,l,f,[])},tD=["input","textarea"],eD=function(t){var e=Ae(t);return nt(tD,e)},nD=function(t,e){var n=e.getRoot(t).getOr(t.element);Bs(n,e.invalidClass),e.notify.each((function(e){eD(t.element)&&yn(t.element,"aria-invalid",!1),e.getContainer(t).each((function(t){wc(t,e.validHtml)})),e.onValid(t)}))},rD=function(t,e,n,r){var o=e.getRoot(t).getOr(t.element);Ps(o,e.invalidClass),e.notify.each((function(e){eD(t.element)&&yn(t.element,"aria-invalid",!0),e.getContainer(t).each((function(t){wc(t,r)})),e.onInvalid(t,r)}))},oD=function(t,e,n){return e.validator.fold((function(){return mN.pure(To.value(!0))}),(function(e){return e.validate(t)}))},iD=function(t,e,n){return e.notify.each((function(e){e.onValidate(t)})),oD(t,e).map((function(r){return t.getSystem().isConnected()?r.fold((function(r){return rD(t,e,n,r),To.error(r)}),(function(n){return nD(t,e),To.value(n)})):To.error("No longer in system")}))},aD=function(t,e){var n=e.getRoot(t).getOr(t.element);return Ls(n,e.invalidClass)},uD=Object.freeze({__proto__:null,markValid:nD,markInvalid:rD,query:oD,run:iD,isInvalid:aD}),cD=function(t,e){return t.validator.map((function(n){return ec([ic(n.onEvent,(function(n){iD(n,t,e).get(z)}))].concat(n.validateOnLoad?[hc((function(n){iD(n,t,e).get(L)}))]:[]))})).getOr({})},sD=Object.freeze({__proto__:null,events:cD}),lD=[Qi("invalidClass"),ya("getRoot",Y.none),ga("notify",[ya("aria","alert"),ya("getContainer",Y.none),ya("validHtml",""),Yl("onValid"),Yl("onInvalid"),Yl("onValidate")]),ga("validator",[Qi("validate"),ya("onEvent","input"),ya("validateOnLoad",!0)])],fD=rd({fields:lD,name:"invalidating",active:sD,apis:uD,extra:{validation:function(t){return function(e){var n=Iv.getValue(e);return mN.pure(t(n))}}}}),dD=function(){return os({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})},pD=function(){return ec([nc(yu(),K)])},mD=Object.freeze({__proto__:null,events:pD,exhibit:dD}),hD=rd({fields:[],name:"unselecting",active:mD}),vD=function(t,e){return DN.sketch({dom:t.dom,components:t.components,toggleClass:"mce-active",dropdownBehaviours:ed([TE.button(e.providers.isDisabled),CE(),hD.config({}),LR.config({})]),layouts:t.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:e.getSink,fetch:function(n){return mN.nu((function(e){return t.fetch(e)})).map((function(r){return Y.from($N($o(EA(Rc("menu-value"),r,(function(e){t.onItemAction(n,e)}),t.columns,t.presets,Mk.CLOSE_ON_EXECUTE,G,e.providers),{movement:AA(t.columns,t.presets)})))}))},parts:{menu:uO(!1,1,t.presets)}})},gD=Rc("color-input-change"),bD=Rc("color-swatch-change"),yD=Rc("color-picker-cancel"),xD=function(t,e,n,r){var o=DR.parts.field({factory:pO,inputClasses:["tox-textfield"],data:r,onSetValue:function(t){return fD.run(t).get(L)},inputBehaviours:ed([xb.config({disabled:e.providers.isDisabled}),CE(),LR.config({}),fD.config({invalidClass:"tox-textbox-field-invalid",getRoot:function(t){return Ye(t.element)},notify:{onValid:function(t){var e=Iv.getValue(t);Yu(t,gD,{color:e})}},validator:{validateOnLoad:!1,validate:function(t){var e=Iv.getValue(t);if(0===e.length)return mN.pure(To.value(!0));var n=ve.fromTag("span");Tn(n,"background-color",e);var r=Pn(n,"background-color").fold((function(){return To.error("blah")}),(function(t){return To.value(e)}));return mN.pure(r)}}})]),selectOnFocus:!1}),i=t.label.map((function(t){return HR(t,e.providers)})),a=function(t,e){Yu(t,bD,{value:e})},u=function(e,r){c.getOpt(e).each((function(e){"custom"===r?n.colorPicker((function(n){n.fold((function(){return Ku(e,yD)}),(function(n){a(e,n),HT(t.storageKey,n)}))}),"#ffffff"):a(e,"remove"===r?"":r)}))},c=iC(vD({dom:{tag:"span",attributes:{"aria-label":e.providers.translate("Color swatch")}},layouts:{onRtl:function(){return[Rf,Nf,Bf]},onLtr:function(){return[Nf,Rf,Bf]}},components:[],fetch:xA(n.getColors(t.storageKey),t.storageKey,n.hasCustomColors()),columns:n.getColorCols(t.storageKey),presets:"color",onItemAction:u},e));return DR.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:i.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[o,c.asSpec()]}]),fieldBehaviours:ed([Rw("form-field-events",[ic(gD,(function(e,n){c.getOpt(e).each((function(t){Tn(t.element,"background-color",n.event.color)})),Yu(e,VR,{name:t.name})})),ic(bD,(function(t,e){DR.getField(t).each((function(n){Iv.setValue(n,e.event.value),eb.getCurrent(t).each(qw.focus)}))})),ic(yD,(function(t,e){DR.getField(t).each((function(e){eb.getCurrent(t).each(qw.focus)}))}))])])})},wD=bg({schema:[Qi("dom")],name:"label"}),_D=function(t){return bg({name:t+"-edge",overrides:function(e){var n=e.model.manager.edgeActions[t];return n.fold((function(){return{}}),(function(t){return{events:ec([ac(tu(),(function(e,n,r){return t(e,r)}),[e]),ac(ou(),(function(e,n,r){return t(e,r)}),[e]),ac(iu(),(function(e,n,r){r.mouseIsDown.get()&&t(e,r)}),[e])])}}))}})},CD=_D("top-left"),kD=_D("top"),OD=_D("top-right"),SD=_D("right"),ED=_D("bottom-right"),TD=_D("bottom"),AD=_D("bottom-left"),ND=_D("left"),RD=vg({name:"thumb",defaults:q({dom:{styles:{position:"absolute"}}}),overrides:function(t){return{events:ec([lc(tu(),t,"spectrum"),lc(eu(),t,"spectrum"),lc(nu(),t,"spectrum"),lc(ou(),t,"spectrum"),lc(iu(),t,"spectrum"),lc(uu(),t,"spectrum")])}}}),DD=vg({schema:[Zi("mouseIsDown",(function(){return Aa(!1)}))],name:"spectrum",overrides:function(t){var e=t.model,n=e.manager,r=function(e,r){return n.getValueFromEvent(r).map((function(r){return n.setValueFrom(e,t,r)}))};return{behaviours:ed([hw.config({mode:"special",onLeft:function(e){return n.onLeft(e,t)},onRight:function(e){return n.onRight(e,t)},onUp:function(e){return n.onUp(e,t)},onDown:function(e){return n.onDown(e,t)}}),qw.config({})]),events:ec([ic(tu(),r),ic(eu(),r),ic(ou(),r),ic(iu(),(function(e,n){t.mouseIsDown.get()&&r(e,n)}))])}}}),PD=[wD,ND,SD,kD,TD,CD,OD,AD,ED,RD,DD],MD="slider.change.value",BD=q(MD),LD=function(t){return-1!==t.type.indexOf("touch")},ID=function(t){var e=t.event.raw;if(LD(e)){var n=e;return void 0!==n.touches&&1===n.touches.length?Y.some(n.touches[0]).map((function(t){return Vn(t.clientX,t.clientY)})):Y.none()}var r=e;return void 0!==r.clientX?Y.some(r).map((function(t){return Vn(t.clientX,t.clientY)})):Y.none()},jD="top",FD="right",qD="bottom",zD="left",UD=function(t){return t.model.minX},HD=function(t){return t.model.minY},VD=function(t){return t.model.minX-1},WD=function(t){return t.model.minY-1},$D=function(t){return t.model.maxX},GD=function(t){return t.model.maxY},KD=function(t){return t.model.maxX+1},YD=function(t){return t.model.maxY+1},XD=function(t,e,n){return e(t)-n(t)},ZD=function(t){return XD(t,$D,UD)},JD=function(t){return XD(t,GD,HD)},QD=function(t){return ZD(t)/2},tP=function(t){return JD(t)/2},eP=function(t){return t.stepSize},nP=function(t){return t.snapToGrid},rP=function(t){return t.snapStart},oP=function(t){return t.rounded},iP=function(t,e){return void 0!==t[e+"-edge"]},aP=function(t){return iP(t,zD)},uP=function(t){return iP(t,FD)},cP=function(t){return iP(t,jD)},sP=function(t){return iP(t,qD)},lP=function(t){return t.model.value.get()},fP=function(t,e){return{x:t,y:e}},dP=function(t,e){Yu(t,BD(),{value:e})},pP=function(t,e){dP(t,fP(VD(e),WD(e)))},mP=function(t,e){dP(t,WD(e))},hP=function(t,e){dP(t,fP(QD(e),WD(e)))},vP=function(t,e){dP(t,fP(KD(e),WD(e)))},gP=function(t,e){dP(t,KD(e))},bP=function(t,e){dP(t,fP(KD(e),tP(e)))},yP=function(t,e){dP(t,fP(KD(e),YD(e)))},xP=function(t,e){dP(t,YD(e))},wP=function(t,e){dP(t,fP(QD(e),YD(e)))},_P=function(t,e){dP(t,fP(VD(e),YD(e)))},CP=function(t,e){dP(t,VD(e))},kP=function(t,e){dP(t,fP(VD(e),tP(e)))},OP=function(t,e,n,r){return t<e?t:t>n?n:t===e?e-1:Math.max(e,t-r)},SP=function(t,e,n,r){return t>n?t:t<e?e:t===n?n+1:Math.min(n,t+r)},EP=function(t,e,n){return Math.max(e,Math.min(n,t))},TP=function(t,e,n,r,o){return o.fold((function(){var o=t-e,i=Math.round(o/r)*r;return EP(e+i,e-1,n+1)}),(function(e){var o=(t-e)%r,i=Math.round(o/r),a=Math.floor((t-e)/r),u=Math.floor((n-e)/r),c=Math.min(u,a+i),s=e+c*r;return Math.max(e,s)}))},AP=function(t,e,n){return Math.min(n,Math.max(t,e))-e},NP=function(t){var e=t.min,n=t.max,r=t.range,o=t.value,i=t.step,a=t.snap,u=t.snapStart,c=t.rounded,s=t.hasMinEdge,l=t.hasMaxEdge,f=t.minBound,d=t.maxBound,p=t.screenRange,m=s?e-1:e,h=l?n+1:n;if(o<f)return m;if(o>d)return h;var v=AP(o,f,d),g=EP(v/p*r+e,m,h);return a&&g>=e&&g<=n?TP(g,e,n,i,u):c?Math.round(g):g},RP=function(t){var e=t.min,n=t.max,r=t.range,o=t.value,i=t.hasMinEdge,a=t.hasMaxEdge,u=t.maxBound,c=t.maxOffset,s=t.centerMinEdge,l=t.centerMaxEdge;return o<e?i?0:s:o>n?a?u:l:(o-e)/r*c},DP="top",PP="right",MP="bottom",BP="left",LP="width",IP="height",jP=function(t){return t.element.dom.getBoundingClientRect()},FP=function(t,e){return t[e]},qP=function(t){var e=jP(t);return FP(e,BP)},zP=function(t){var e=jP(t);return FP(e,PP)},UP=function(t){var e=jP(t);return FP(e,DP)},HP=function(t){var e=jP(t);return FP(e,MP)},VP=function(t){var e=jP(t);return FP(e,LP)},WP=function(t){var e=jP(t);return FP(e,IP)},$P=function(t,e,n){return(t+e)/2-n},GP=function(t,e){var n=jP(t),r=jP(e),o=FP(n,BP),i=FP(n,PP),a=FP(r,BP);return $P(o,i,a)},KP=function(t,e){var n=jP(t),r=jP(e),o=FP(n,DP),i=FP(n,MP),a=FP(r,DP);return $P(o,i,a)},YP=function(t,e){Yu(t,BD(),{value:e})},XP=function(t,e,n){var r={min:UD(e),max:$D(e),range:ZD(e),value:n,step:eP(e),snap:nP(e),snapStart:rP(e),rounded:oP(e),hasMinEdge:aP(e),hasMaxEdge:uP(e),minBound:qP(t),maxBound:zP(t),screenRange:VP(t)};return NP(r)},ZP=function(t,e,n){var r=XP(t,e,n),o=r;return YP(t,o),r},JP=function(t,e){var n=UD(e);YP(t,n)},QP=function(t,e){var n=$D(e);YP(t,n)},tM=function(t,e,n){var r=t>0?SP:OP,o=r(lP(n),UD(n),$D(n),eP(n));return YP(e,o),Y.some(o)},eM=function(t){return function(e,n){return tM(t,e,n).map(K)}},nM=function(t){var e=ID(t);return e.map((function(t){return t.left}))},rM=function(t,e,n,r,o){var i=0,a=VP(t),u=r.bind((function(e){return Y.some(GP(e,t))})).getOr(i),c=o.bind((function(e){return Y.some(GP(e,t))})).getOr(a),s={min:UD(e),max:$D(e),range:ZD(e),value:n,hasMinEdge:aP(e),hasMaxEdge:uP(e),minBound:qP(t),minOffset:i,maxBound:zP(t),maxOffset:a,centerMinEdge:u,centerMaxEdge:c};return RP(s)},oM=function(t,e,n,r,o,i){var a=rM(e,i,n,r,o);return qP(e)-qP(t)+a},iM=function(t,e,n,r){var o=lP(n),i=oM(t,r.getSpectrum(t),o,r.getLeftEdge(t),r.getRightEdge(t),n),a=Zn(e.element)/2;Tn(e.element,"left",i-a+"px")},aM=eM(-1),uM=eM(1),cM=Y.none,sM=Y.none,lM={"top-left":Y.none(),top:Y.none(),"top-right":Y.none(),right:Y.some(gP),"bottom-right":Y.none(),bottom:Y.none(),"bottom-left":Y.none(),left:Y.some(CP)},fM=Object.freeze({__proto__:null,setValueFrom:ZP,setToMin:JP,setToMax:QP,findValueOfOffset:XP,getValueFromEvent:nM,findPositionOfValue:oM,setPositionFromValue:iM,onLeft:aM,onRight:uM,onUp:cM,onDown:sM,edgeActions:lM}),dM=function(t,e){Yu(t,BD(),{value:e})},pM=function(t,e,n){var r={min:HD(e),max:GD(e),range:JD(e),value:n,step:eP(e),snap:nP(e),snapStart:rP(e),rounded:oP(e),hasMinEdge:cP(e),hasMaxEdge:sP(e),minBound:UP(t),maxBound:HP(t),screenRange:WP(t)};return NP(r)},mM=function(t,e,n){var r=pM(t,e,n),o=r;return dM(t,o),r},hM=function(t,e){var n=HD(e);dM(t,n)},vM=function(t,e){var n=GD(e);dM(t,n)},gM=function(t,e,n){var r=t>0?SP:OP,o=r(lP(n),HD(n),GD(n),eP(n));return dM(e,o),Y.some(o)},bM=function(t){return function(e,n){return gM(t,e,n).map(K)}},yM=function(t){var e=ID(t);return e.map((function(t){return t.top}))},xM=function(t,e,n,r,o){var i=0,a=WP(t),u=r.bind((function(e){return Y.some(KP(e,t))})).getOr(i),c=o.bind((function(e){return Y.some(KP(e,t))})).getOr(a),s={min:HD(e),max:GD(e),range:JD(e),value:n,hasMinEdge:cP(e),hasMaxEdge:sP(e),minBound:UP(t),minOffset:i,maxBound:HP(t),maxOffset:a,centerMinEdge:u,centerMaxEdge:c};return RP(s)},wM=function(t,e,n,r,o,i){var a=xM(e,i,n,r,o);return UP(e)-UP(t)+a},_M=function(t,e,n,r){var o=lP(n),i=wM(t,r.getSpectrum(t),o,r.getTopEdge(t),r.getBottomEdge(t),n),a=qn(e.element)/2;Tn(e.element,"top",i-a+"px")},CM=Y.none,kM=Y.none,OM=bM(-1),SM=bM(1),EM={"top-left":Y.none(),top:Y.some(mP),"top-right":Y.none(),right:Y.none(),"bottom-right":Y.none(),bottom:Y.some(xP),"bottom-left":Y.none(),left:Y.none()},TM=Object.freeze({__proto__:null,setValueFrom:mM,setToMin:hM,setToMax:vM,findValueOfOffset:pM,getValueFromEvent:yM,findPositionOfValue:wM,setPositionFromValue:_M,onLeft:CM,onRight:kM,onUp:OM,onDown:SM,edgeActions:EM}),AM=function(t,e){Yu(t,BD(),{value:e})},NM=function(t,e){return{x:t,y:e}},RM=function(t,e,n){var r=XP(t,e,n.left),o=pM(t,e,n.top),i=NM(r,o);return AM(t,i),i},DM=function(t,e,n,r){var o=t>0?SP:OP,i=e?lP(r).x:o(lP(r).x,UD(r),$D(r),eP(r)),a=e?o(lP(r).y,HD(r),GD(r),eP(r)):lP(r).y;return AM(n,NM(i,a)),Y.some(i)},PM=function(t,e){return function(n,r){return DM(t,e,n,r).map(K)}},MM=function(t,e){var n=UD(e),r=HD(e);AM(t,NM(n,r))},BM=function(t,e){var n=$D(e),r=GD(e);AM(t,NM(n,r))},LM=function(t){return ID(t)},IM=function(t,e,n,r){var o=lP(n),i=oM(t,r.getSpectrum(t),o.x,r.getLeftEdge(t),r.getRightEdge(t),n),a=wM(t,r.getSpectrum(t),o.y,r.getTopEdge(t),r.getBottomEdge(t),n),u=Zn(e.element)/2,c=qn(e.element)/2;Tn(e.element,"left",i-u+"px"),Tn(e.element,"top",a-c+"px")},jM=PM(-1,!1),FM=PM(1,!1),qM=PM(-1,!0),zM=PM(1,!0),UM={"top-left":Y.some(pP),top:Y.some(hP),"top-right":Y.some(vP),right:Y.some(bP),"bottom-right":Y.some(yP),bottom:Y.some(wP),"bottom-left":Y.some(_P),left:Y.some(kP)},HM=Object.freeze({__proto__:null,setValueFrom:RM,setToMin:MM,setToMax:BM,getValueFromEvent:LM,setPositionFromValue:IM,onLeft:jM,onRight:FM,onUp:qM,onDown:zM,edgeActions:UM}),VM=[ya("stepSize",1),ya("onChange",L),ya("onChoose",L),ya("onInit",L),ya("onDragStart",L),ya("onDragEnd",L),ya("snapToGrid",!1),ya("rounded",!0),la("snapStart"),ta("model",Ki("mode",{x:[ya("minX",0),ya("maxX",100),Zi("value",(function(t){return Aa(t.mode.minX)})),Qi("getInitialValue"),Ql("manager",fM)],y:[ya("minY",0),ya("maxY",100),Zi("value",(function(t){return Aa(t.mode.minY)})),Qi("getInitialValue"),Ql("manager",TM)],xy:[ya("minX",0),ya("maxX",100),ya("minY",0),ya("maxY",100),Zi("value",(function(t){return Aa({x:t.mode.minX,y:t.mode.minY})})),Qi("getInitialValue"),Ql("manager",HM)]})),jv("sliderBehaviours",[hw,Iv]),Zi("mouseIsDown",(function(){return Aa(!1)}))],WM=function(t,e,n,r){var o=function(e){return Dg(e,t,"thumb")},i=function(e){return Dg(e,t,"spectrum")},a=function(e){return Rg(e,t,"left-edge")},c=function(e){return Rg(e,t,"right-edge")},s=function(e){return Rg(e,t,"top-edge")},l=function(e){return Rg(e,t,"bottom-edge")},f=t.model,d=f.manager,p=function(e,n){d.setPositionFromValue(e,n,t,{getLeftEdge:a,getRightEdge:c,getTopEdge:s,getBottomEdge:l,getSpectrum:i})},m=function(t,e){f.value.set(e);var n=o(t);p(t,n)},h=function(e,n){m(e,n);var r=o(e);return t.onChange(e,r,n),Y.some(!0)},v=function(e){d.setToMin(e,t)},g=function(e){d.setToMax(e,t)},b=function(e){var n=function(){Rg(e,t,"thumb").each((function(n){var r=f.value.get();t.onChoose(e,n,r)}))},r=t.mouseIsDown.get();t.mouseIsDown.set(!1),r&&n()},y=function(e,n){n.stop(),t.mouseIsDown.set(!0),t.onDragStart(e,o(e))},x=function(e,n){n.stop(),t.onDragEnd(e,o(e)),b(e)};return{uid:t.uid,dom:t.dom,components:e,behaviours:qv(t.sliderBehaviours,[hw.config({mode:"special",focusIn:function(e){return Rg(e,t,"spectrum").map(hw.focusIn).map(K)}}),Iv.config({store:{mode:"manual",getValue:function(t){return f.value.get()},setValue:m}}),ud.config({channels:u({},ov(),{onReceive:b})})]),events:ec([ic(BD(),(function(t,e){h(t,e.event.value)})),hc((function(e,n){var r=f.getInitialValue();f.value.set(r);var a=o(e);p(e,a);var u=i(e);t.onInit(e,a,u,f.value.get())})),ic(tu(),y),ic(nu(),x),ic(ou(),y),ic(uu(),x)]),apis:{resetToMin:v,resetToMax:g,setValue:m,refresh:p},domModification:{styles:{position:"relative"}}}},$M=Xg({name:"Slider",configFields:VM,partFields:PD,factory:WM,apis:{setValue:function(t,e,n){t.setValue(e,n)},resetToMin:function(t,e){t.resetToMin(e)},resetToMax:function(t,e){t.resetToMax(e)},refresh:function(t,e){t.refresh(e)}}}),GM=Rc("rgb-hex-update"),KM=Rc("slider-update"),YM=Rc("palette-update"),XM=function(t,e){var n=$M.parts.spectrum({dom:{tag:"div",classes:[e("hue-slider-spectrum")],attributes:{role:"presentation"}}}),r=$M.parts.thumb({dom:{tag:"div",classes:[e("hue-slider-thumb")],attributes:{role:"presentation"}}});return $M.sketch({dom:{tag:"div",classes:[e("hue-slider")],attributes:{role:"presentation"}},rounded:!1,model:{mode:"y",getInitialValue:q(0)},components:[n,r],sliderBehaviours:ed([qw.config({})]),onChange:function(t,e,n){Yu(t,KM,{value:n})}})},ZM="form",JM=[jv("formBehaviours",[Iv])],QM=function(t){return"<alloy.field."+t+">"},tB=function(t){var e=function(){var t=[],e=function(e,n){return t.push(e),Sg(ZM,QM(e),n)};return{field:e,record:q(t)}}(),n=t(e),r=e.record(),o=at(r,(function(t){return vg({name:t,pname:QM(t)})}));return Hg(ZM,JM,o,nB,n)},eB=function(t,e){return t.fold((function(){return To.error(e)}),To.value)},nB=function(t,e){return{uid:t.uid,dom:t.dom,components:e,behaviours:qv(t.formBehaviours,[Iv.config({store:{mode:"manual",getValue:function(e){var n=Mg(e,t);return Dt(n,(function(t,e){return t().bind((function(t){var n=eb.getCurrent(t);return eB(n,new Error("Cannot find a current component to extract the value from for form part '".concat(e,"': ")+Sc(t.element)))})).map(Iv.getValue)}))},setValue:function(e,n){Rt(n,(function(n,r){Rg(e,t,r).each((function(t){eb.getCurrent(t).each((function(t){Iv.setValue(t,n)}))}))}))}}})]),apis:{getField:function(e,n){return Rg(e,t,n).bind(eb.getCurrent)}}}},rB={getField:Zc((function(t,e,n){return t.getField(e,n)})),sketch:tB},oB=Rc("valid-input"),iB=Rc("invalid-input"),aB=Rc("validating-input"),uB="colorcustom.rgb.",cB=function(t,e,n,r){var o=function(n,r){return fD.config({invalidClass:e("invalid"),notify:{onValidate:function(t){Yu(t,aB,{type:n})},onValid:function(t){Yu(t,oB,{type:n,value:Iv.getValue(t)})},onInvalid:function(t){Yu(t,iB,{type:n,value:Iv.getValue(t)})}},validator:{validate:function(e){var n=Iv.getValue(e),o=r(n)?To.value(!0):To.error(t("aria.input.invalid"));return mN.pure(o)},validateOnLoad:!1}})},i=function(n,r,i,u,c){var s=t(uB+"range"),l=DR.parts.label({dom:{tag:"label",attributes:{"aria-label":u}},components:[ll(i)]}),f=DR.parts.field({data:c,factory:pO,inputAttributes:a({type:"text"},"hex"===r?{"aria-live":"polite"}:{}),inputClasses:[e("textfield")],inputBehaviours:ed([o(r,n),LR.config({})]),onSetValue:function(t){if(fD.isInvalid(t)){var e=fD.run(t);e.get(L)}}}),d=[l,f],p="hex"!==r?[DR.parts["aria-descriptor"]({text:s})]:[],m=d.concat(p);return{dom:{tag:"div",attributes:{role:"presentation"}},components:m}},u=function(t,e){var n=hT(e);return rB.getField(t,"hex").each((function(e){qw.isFocused(e)||Iv.setValue(t,{hex:n.value})})),n},c=function(t,e){var n=e.red,r=e.green,o=e.blue;Iv.setValue(t,{red:n,green:r,blue:o})},s=iC({dom:{tag:"div",classes:[e("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),l=function(t,e){s.getOpt(t).each((function(t){Tn(t.element,"background-color","#"+e.value)}))},f=function(){var o={red:Aa(Y.some(255)),green:Aa(Y.some(255)),blue:Aa(Y.some(255)),hex:Aa(Y.some("ffffff"))},a=function(t,e){var n=kT(e);c(t,n),m(n)},f=function(t){return o[t].get()},d=function(t,e){o[t].set(e)},p=function(){return f("red").bind((function(t){return f("green").bind((function(e){return f("blue").map((function(n){return wT(t,e,n,1)}))}))}))},m=function(t){var e=t.red,n=t.green,r=t.blue;d("red",Y.some(e)),d("green",Y.some(n)),d("blue",Y.some(r))},h=function(t,e){var n=e.event;"hex"!==n.type?d(n.type,Y.none()):r(t)},v=function(t,e){n(t);var r=aT(e);d("hex",Y.some(r.value));var o=kT(r);c(t,o),m(o),Yu(t,GM,{hex:r}),l(t,r)},g=function(t,e,n){var r=parseInt(n,10);d(e,Y.some(r)),p().each((function(e){var n=u(t,e);Yu(t,GM,{hex:n}),l(t,n)}))},b=function(t){return"hex"===t.type},y=function(t,e){var n=e.event;b(n)?v(t,n.value):g(t,n.type,n.value)},x=function(e){return{label:t(uB+e+".label"),description:t(uB+e+".description")}},w=x("red"),_=x("green"),C=x("blue"),k=x("hex");return $o(rB.sketch((function(n){return{dom:{tag:"form",classes:[e("rgb-form")],attributes:{"aria-label":t("aria.color.picker")}},components:[n.field("red",DR.sketch(i(_T,"red",w.label,w.description,255))),n.field("green",DR.sketch(i(_T,"green",_.label,_.description,255))),n.field("blue",DR.sketch(i(_T,"blue",C.label,C.description,255))),n.field("hex",DR.sketch(i(sT,"hex",k.label,k.description,"ffffff"))),s.asSpec()],formBehaviours:ed([fD.config({invalidClass:e("form-invalid")}),Rw("rgb-form-events",[ic(oB,y),ic(iB,h),ic(aB,h)])])}})),{apis:{updateHex:function(t,e){Iv.setValue(t,{hex:e.value}),a(t,e),l(t,e)}}})},d=Yg({factory:f,name:"RgbForm",configFields:[],apis:{updateHex:function(t,e,n){t.updateHex(e,n)}},extraApis:{}});return d},sB=function(t,e){var n=$M.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[e("sv-palette-spectrum")]}}),r=$M.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[e("sv-palette-thumb")],innerHtml:"<div class=".concat(e("sv-palette-inner-thumb"),' role="presentation"></div>')}}),o=function(t,e){var n=t.width,r=t.height,o=t.getContext("2d");if(null!==o){o.fillStyle=e,o.fillRect(0,0,n,r);var i=o.createLinearGradient(0,0,n,0);i.addColorStop(0,"rgba(255,255,255,1)"),i.addColorStop(1,"rgba(255,255,255,0)"),o.fillStyle=i,o.fillRect(0,0,n,r);var a=o.createLinearGradient(0,0,0,r);a.addColorStop(0,"rgba(0,0,0,0)"),a.addColorStop(1,"rgba(0,0,0,1)"),o.fillStyle=a,o.fillRect(0,0,n,r)}},i=function(t,e){var n=t.components()[0].element.dom,r=VT(e,100,100),i=CT(r);o(n,ET(i))},a=function(t,e){var n=WT(kT(e));$M.setValue(t,{x:n.saturation,y:100-n.value})},u=function(t){var i=q({x:0,y:0}),a=function(t,e,n){Yu(t,YM,{value:n})},u=function(t,e,n,r){o(n.element.dom,ET(TT))},c=ed([eb.config({find:Y.some}),qw.config({})]);return $M.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[e("sv-palette")]},model:{mode:"xy",getInitialValue:i},rounded:!1,components:[n,r],onChange:a,onInit:u,sliderBehaviours:c})},c=Yg({factory:u,name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:function(t,e,n){i(e,n)},setThumb:function(t,e,n){a(e,n)}},extraApis:{}});return c},lB=function(t,e){var n=function(n){var r=cB(t,e,n.onValidHex,n.onInvalidHex),o=sB(t,e),i=function(t){return(100-t)/100*360},a=function(t){return 100-t/360*100},u={paletteRgba:Aa(TT),paletteHue:Aa(0)},c=iC(XM(t,e)),s=iC(o.sketch({})),l=iC(r.sketch({})),f=function(t,e,n){s.getOpt(t).each((function(t){o.setHue(t,n)}))},d=function(t,e){l.getOpt(t).each((function(t){r.updateHex(t,e)}))},p=function(t,e,n){c.getOpt(t).each((function(t){$M.setValue(t,a(n))}))},m=function(t,e){s.getOpt(t).each((function(t){o.setThumb(t,e)}))},h=function(t,e){var n=kT(t);u.paletteRgba.set(n),u.paletteHue.set(e)},v=function(t,e,n,r){h(e,n),ut(r,(function(r){r(t,e,n)}))},g=function(){var t=[d];return function(e,n){var r=n.event.value,o=u.paletteHue.get(),i=VT(o,r.x,100-r.y),a=GT(i);v(e,a,o,t)}},b=function(){var t=[f,d];return function(e,n){var r=i(n.event.value),o=u.paletteRgba.get(),a=WT(o),c=VT(r,a.saturation,a.value),s=GT(c);v(e,s,r,t)}},y=function(){var t=[f,p,m];return function(e,n){var r=n.event.hex,o=$T(r);v(e,r,o.hue,t)}};return{uid:n.uid,dom:n.dom,components:[s.asSpec(),c.asSpec(),l.asSpec()],behaviours:ed([Rw("colour-picker-events",[ic(GM,y()),ic(YM,g()),ic(KM,b())]),eb.config({find:function(t){return l.getOpt(t)}}),hw.config({mode:"acyclic"})])}},r=Yg({name:"ColourPicker",configFields:[Qi("dom"),ya("onValidHex",L),ya("onInvalidHex",L)],factory:n});return r},fB=function(){return eb.config({find:Y.some})},dB=function(t){return eb.config({find:t.getOpt})},pB=function(t){return eb.config({find:function(e){return tn(e.element,t).bind((function(t){return e.getSystem().getByDom(t).toOptional()}))}})},mB={self:fB,memento:dB,childAt:pB},hB=ki([ya("preprocess",z),ya("postprocess",z)]),vB=function(t,e){var n=$i("RepresentingConfigs.memento processors",hB,e);return Iv.config({store:{mode:"manual",getValue:function(e){var r=t.get(e),o=Iv.getValue(r);return n.postprocess(o)},setValue:function(e,r){var o=n.preprocess(r),i=t.get(e);Iv.setValue(i,o)}}})},gB=function(t,e,n){return Iv.config({store:a(a({mode:"manual"},t.map((function(t){return{initialValue:t}})).getOr({})),{},{getValue:e,setValue:n})})},bB=function(t,e,n){return gB(t,(function(t){return e(t.element)}),(function(t,e){return n(t.element,e)}))},yB=function(t){return bB(t,Us,Hs)},xB=function(t){return bB(t,xc,wc)},wB=function(t){return Iv.config({store:{mode:"memory",initialValue:t}})},_B={memento:vB,withElement:bB,withComp:gB,domValue:yB,domHtml:xB,memory:wB},CB={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},kB=function(t){return function(e){return t.translate(CB[e])}},OB=function(t,e,n){var r=function(t){return"tox-"+t},o=lB(kB(e),r),i=function(t){Yu(t,GR,{name:"hex-valid",value:!0})},a=function(t){Yu(t,GR,{name:"hex-valid",value:!1})},u=iC(o.sketch({dom:{tag:"div",classes:[r("color-picker-container")],attributes:{role:"presentation"}},onValidHex:i,onInvalidHex:a}));return{dom:{tag:"div"},components:[u.asSpec()],behaviours:ed([_B.withComp(n,(function(t){var e=u.get(t),n=eb.getCurrent(e),r=n.bind((function(t){var e=Iv.getValue(t);return e.hex}));return r.map((function(t){return"#"+ee(t,"#")})).getOr("")}),(function(t,e){var n=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/,r=Y.from(n.exec(e)).bind((function(t){return kt(t,1)})),o=u.get(t),i=eb.getCurrent(o);i.fold((function(){console.log("Can not find form")}),(function(t){Iv.setValue(t,{hex:r.getOr("")}),rB.getField(t,"hex").each((function(t){Ku(t,pu())}))}))})),mB.self()])}},SB=tinymce.util.Tools.resolve("tinymce.Resource"),EB=function(t){return Ut(t,"init")},TB=function(t){var e=Vd(),n=iC({dom:{tag:t.tag}}),r=Vd();return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:ed([Rw("custom-editor-events",[hc((function(o){n.getOpt(o).each((function(n){(EB(t)?t.init(n.element.dom):SB.load(t.scriptId,t.scriptUrl).then((function(e){return e(n.element.dom,t.settings)}))).then((function(t){r.on((function(e){t.setValue(e)})),r.clear(),e.set(t)}))}))}))]),_B.withComp(Y.none(),(function(){return e.get().fold((function(){return r.get().getOr("")}),(function(t){return t.getValue()}))}),(function(t,n){e.get().fold((function(){return r.set(n)}),(function(t){return t.setValue(n)}))})),mB.self()]),components:[n.asSpec()]}},AB=tinymce.util.Tools.resolve("tinymce.util.Tools"),NB=function(t,e){var n=AB.explode(e.getOption("images_file_types")),r=function(t){return rt(n,(function(e){return ie(t.name.toLowerCase(),".".concat(e.toLowerCase()))}))};return lt(Et(t),r)},RB=function(t,e,n){var r=function(t,e){e.stop()},o=function(t){return function(e,n){ut(t,(function(t){t(e,n)}))}},i=function(t,e){var n;if(!xb.isDisabled(t)){var r=e.event.raw;u(t,null===(n=r.dataTransfer)||void 0===n?void 0:n.files)}},a=function(t,e){var n=e.event.raw.target;u(t,n.files)},u=function(n,r){r&&(Iv.setValue(n,NB(r,e)),Yu(n,VR,{name:t.name}))},c=iC({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:ed([Rw("input-file-events",[dc(hu()),dc(Tu())])])}),s=function(t){return{uid:t.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:ed([_B.memory(n.getOr([])),mB.self(),xb.config({}),i_.config({toggleClass:"dragenter",toggleOnExecute:!1}),Rw("dropzone-events",[ic("dragenter",o([r,i_.toggle])),ic("dragleave",o([r,i_.toggle])),ic("dragover",r),ic("drop",o([r,i])),ic(mu(),a)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[ll(e.translate("Drop an image here"))]},oC.sketch({dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[ll(e.translate("Browse for an image")),c.asSpec()],action:function(t){var e=c.get(t);e.element.dom.click()},buttonBehaviours:ed([LR.config({}),TE.button(e.isDisabled),CE()])})]}]}},l=t.label.map((function(t){return HR(t,e)})),f=DR.parts.field({factory:{sketch:s}});return jR(l,f,["tox-form__group--stretched"],[])},DB=function(t,e){return{dom:{tag:"div",classes:["tox-form__grid","tox-form__grid--".concat(t.columns,"col")]},components:at(t.items,e.interpreter)}},PB=Rc("alloy-fake-before-tabstop"),MB=Rc("alloy-fake-after-tabstop"),BB=function(t){return{dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:t},behaviours:ed([qw.config({ignore:!0}),LR.config({})])}},LB=function(t){return{dom:{tag:"div",classes:["tox-navobj"]},components:[BB([PB]),t,BB([MB])],behaviours:ed([mB.childAt(1)])}},IB=function(t,e){Yu(t,fu(),{raw:{which:9,shiftKey:e}})},jB=function(t,e){var n=e.element;Ls(n,PB)?IB(t,!0):Ls(n,MB)&&IB(t,!1)},FB=function(t){return nR(t,["."+PB,"."+MB].join(","),G)},qB=function(t){var e=Aa(t.getOr(""));return{getValue:function(t){return e.get()},setValue:function(t,n){e.get()!==n&&yn(t.element,"srcdoc",n),e.set(n)}}},zB=function(t,e,n){var r=t.sandboxed,o=t.transparent,i="tox-dialog__iframe",u=a(a(a({},t.label.map((function(t){return{title:t}})).getOr({})),n.map((function(t){return{srcdoc:t}})).getOr({})),r?{sandbox:"allow-scripts allow-same-origin"}:{}),c=qB(n),s=t.label.map((function(t){return HR(t,e)})),l=function(t){return LB({uid:t.uid,dom:{tag:"iframe",attributes:u,classes:o?[i]:[i,"".concat(i,"--opaque")]},behaviours:ed([LR.config({}),qw.config({}),_B.withComp(n,c.getValue,c.setValue)])})},f=DR.parts.field({factory:{sketch:l}});return jR(s,f,["tox-form__group--stretched"],[])},UB=function(t){return new Promise((function(e,n){var r=function(){i(),e(t)},o=[$d(t,"load",r),$d(t,"error",(function(){i(),n("Unable to load data from image: "+t.dom.src)}))],i=function(){return ut(o,(function(t){return t.unbind()}))};t.dom.complete&&r()}))},HB=function(t,e,n,r,o){var i=n*o,a=r*o,u=Math.max(0,t/2-i/2),c=Math.max(0,e/2-a/2);return{left:u.toString()+"px",top:c.toString()+"px",width:i.toString()+"px",height:a.toString()+"px"}},VB=function(t,e,n){var r=Zn(t),o=qn(t);return Math.min(r/e,o/n,1)},WB=function(t,e){var n=Aa(e.getOr({url:""})),r=iC({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:e.map((function(t){return{src:t.url}})).getOr({})}}),o=iC({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[r.asSpec()]}),i=function(t,e){var i={url:e.url};e.zoom.each((function(t){return i.zoom=t})),e.cachedWidth.each((function(t){return i.cachedWidth=t})),e.cachedHeight.each((function(t){return i.cachedHeight=t})),n.set(i);var a=function(){var e=i.cachedWidth,n=i.cachedHeight,r=i.zoom;if(!N(e)&&!N(n)){if(N(r)){var a=VB(t.element,e,n);i.zoom=a}var u=HB(Zn(t.element),qn(t.element),e,n,i.zoom);o.getOpt(t).each((function(t){An(t.element,u)}))}};r.getOpt(t).each((function(n){var r=n.element;e.url!==wn(r,"src")&&(yn(r,"src",e.url),Bs(t.element,"tox-imagepreview__loaded")),a(),UB(r).then((function(e){t.getSystem().isConnected()&&(Ps(t.element,"tox-imagepreview__loaded"),i.cachedWidth=e.dom.naturalWidth,i.cachedHeight=e.dom.naturalHeight,a())}))}))},a={};t.height.each((function(t){return a.height=t}));var u=e.map((function(t){return{url:t.url,zoom:Y.from(t.zoom),cachedWidth:Y.from(t.cachedWidth),cachedHeight:Y.from(t.cachedHeight)}}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:a,attributes:{role:"presentation"}},components:[o.asSpec()],behaviours:ed([mB.self(),_B.withComp(u,(function(){return n.get()}),i)])}},$B=function(t,e){var n={dom:{tag:"label",classes:["tox-label"]},components:[ll(e.providers.translate(t.label))]},r=at(t.items,e.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[n].concat(c(r)),behaviours:ed([mB.self(),Aw.config({}),_B.domHtml(Y.none()),hw.config({mode:"acyclic"})])}},GB=Rc("toolbar.button.execute"),KB=function(t){return bc((function(e,n){AE(t,e)((function(n){Yu(e,GB,{buttonApi:n}),t.onAction(n)}))}))},YB=Rc("common-button-display-events"),XB=(e={},u(e,Su(),["disabling","alloy.base.behaviour","toggling","toolbar-button-events"]),u(e,Iu(),["toolbar-button-events",YB]),u(e,ou(),["focusing","alloy.base.behaviour",YB]),e),ZB=function(t){return Tn(t.element,"width",Rn(t.element,"width"))},JB=function(t,e,n){return gC(t,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:n},e)},QB=function(t,e){return JB(t,e,[])},tL=function(t,e){return JB(t,e,[Aw.config({})])},eL=function(t,e,n){return{dom:{tag:"span",classes:["".concat(e,"__select-label")]},components:[ll(n.translate(t))],behaviours:ed([Aw.config({})])}},nL=Rc("update-menu-text"),rL=Rc("update-menu-icon"),oL=function(t,e,n){var r=Aa(L),o=t.text.map((function(t){return iC(eL(t,e,n.providers))})),i=t.icon.map((function(t){return iC(tL(t,n.providers.icons))})),s=function(t,e){var n=Iv.getValue(t);return qw.focus(n),Yu(n,"keydown",{raw:e.event.raw}),DN.close(n),Y.some(!0)},l=t.role.fold((function(){return{}}),(function(t){return{role:t}})),f=t.tooltip.fold((function(){return{}}),(function(t){var e=n.providers.translate(t);return{title:e,"aria-label":e}})),d=gC("chevron-down",{tag:"div",classes:["".concat(e,"__select-chevron")]},n.providers.icons),p=Rc("common-button-display-events"),m=iC(DN.sketch(a(a(a({},t.uid?{uid:t.uid}:{}),l),{},{dom:{tag:"button",classes:[e,"".concat(e,"--select")].concat(at(t.classes,(function(t){return"".concat(e,"--").concat(t)}))),attributes:a({},f)},components:ME([i.map((function(t){return t.asSpec()})),o.map((function(t){return t.asSpec()})),Y.some(d)]),matchWidth:!0,useMinWidth:!0,onOpen:function(e,n,r){t.searchable&&qN(r)},dropdownBehaviours:ed([].concat(c(t.dropdownBehaviours),[TE.button((function(){return t.disabled||n.providers.isDisabled()})),CE(),hD.config({}),Aw.config({}),Rw("dropdown-events",[NE(t,r),RE(t,r)]),Rw(p,[hc((function(t,e){return ZB(t)}))]),Rw("menubutton-update-display-text",[ic(nL,(function(t,e){o.bind((function(e){return e.getOpt(t)})).each((function(t){Aw.set(t,[ll(n.providers.translate(e.event.text))])}))})),ic(rL,(function(t,e){i.bind((function(e){return e.getOpt(t)})).each((function(t){Aw.set(t,[tL(e.event.icon,n.providers.icons)])}))}))])])),eventOrder:$o(XB,u({mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"]},Iu(),["toolbar-button-events","dropdown-events",p])),sandboxBehaviours:ed([hw.config({mode:"special",onLeft:s,onRight:s}),Rw("dropdown-sandbox-events",[ic(mO,(function(t,e){MN(t),e.stop()})),ic(hO,(function(t,e){BN(t,e),e.stop()}))])]),lazySink:n.getSink,toggleClass:"".concat(e,"--active"),parts:{menu:a(a({},uO(!1,t.columns,t.presets)),{},{fakeFocus:t.searchable,onHighlightItem:jN,onCollapseMenu:function(t,e,n){qb.getHighlighted(n).each((function(e){jN(t,n,e)}))},onDehighlightItem:FN})},fetch:function(e){return mN.nu(H(t.fetch,e))}})));return m.asSpec()},iL=function(t){return k(t)},aL=function(t){return"separator"===t.type},uL=function(t){return Ut(t,"getSubmenuItems")},cL={type:"separator"},sL=function(t,e){var n=dt(t,(function(t,n){return iL(n)?""===n?t:"|"===n?t.length>0&&!aL(t[t.length-1])?t.concat([cL]):t:Ut(e,n.toLowerCase())?t.concat([e[n.toLowerCase()]]):t:t.concat([n])}),[]);return n.length>0&&aL(n[n.length-1])&&n.pop(),n},lL=function(t,e){var n=t.getSubmenuItems(),r=dL(n,e),o=$o(r.menus,u({},t.value,r.items)),i=$o(r.expansions,u({},t.value,t.value));return{item:t,menus:o,expansions:i}},fL=function(t){var e=zt(t,"value").getOrThunk((function(){return Rc("generated-menu-item")}));return $o({value:e},t)},dL=function(t,e){var n=sL(k(t)?t.split(" "):t,e);return ft(n,(function(t,n){if(uL(n)){var r=fL(n),o=lL(r,e);return{menus:$o(t.menus,o.menus),items:[o.item].concat(c(t.items)),expansions:$o(t.expansions,o.expansions)}}return a(a({},t),{},{items:[n].concat(c(t.items))})}),{menus:{},expansions:{},items:[]})},pL=function(t){return t.search.fold((function(){return{searchMode:"no-search"}}),(function(t){return{searchMode:"search-with-field",placeholder:t.placeholder}}))},mL=function(t){return t.search.fold((function(){return{searchMode:"no-search"}}),(function(t){return{searchMode:"search-with-results"}}))},hL=function(t,e,n,r){var o=Rc("primary-menu"),i=dL(t,n.shared.providers.menuItems());if(0===i.items.length)return Y.none();var a=pL(r),u=WN(o,i.items,e,n,r.isHorizontalMenu,a),c=mL(r),s=Dt(i.menus,(function(t,r){return WN(r,t,e,n,!1,c)})),l=$o(s,ja(o,u));return Y.from(J_.tieredData(o,l,i.expansions))},vL=function(t){return!Ut(t,"items")},gL="data-value",bL=function t(e,n,r,o){return at(r,(function(r){return vL(r)?{type:"togglemenuitem",text:r.text,value:r.value,active:r.value===o,onAction:function(){Iv.setValue(e,r.value),Yu(e,VR,{name:n}),qw.focus(e)}}:{type:"nestedmenuitem",text:r.text,getSubmenuItems:function(){return t(e,n,r.items,o)}}}))},yL=function t(e,n){return Tt(e,(function(e){return vL(e)?Zt(e.value===n,e):t(e.items,n)}))},xL=function(t,e,n){var r=e.shared.providers,o=n.bind((function(e){return yL(t.items,e)})).orThunk((function(){return Ot(t.items).filter(vL)})),i=t.label.map((function(t){return HR(t,r)})),a=DR.parts.field({dom:{},factory:{sketch:function(n){return oL({uid:n.uid,text:o.map((function(t){return t.text})),icon:Y.none(),tooltip:t.label,role:Y.none(),fetch:function(n,r){var o=bL(n,t.name,t.items,Iv.getValue(n));r(hL(o,Mk.CLOSE_ON_EXECUTE,e,{isHorizontalMenu:!1,search:Y.none()}))},onSetup:q(L),getApi:q({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[LR.config({}),_B.withComp(o.map((function(t){return t.value})),(function(t){return wn(t.element,gL)}),(function(e,n){yL(t.items,n).each((function(t){yn(e.element,gL,t.value),Yu(e,nL,{text:t.text})}))}))]},"tox-listbox",e.shared)}}}),u={dom:{tag:"div",classes:["tox-listboxfield"]},components:[a]};return DR.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:vt([i.toArray(),[u]]),fieldBehaviours:ed([xb.config({disabled:q(!t.enabled),onDisabled:function(t){DR.getField(t).each(xb.disable)},onEnabled:function(t){DR.getField(t).each(xb.enable)}})])})},wL=function(t,e){return{dom:{tag:"div",classes:t.classes},components:at(t.items,e.shared.interpreter)}},_L=function(t,e){var n=at(t.options,(function(t){return{dom:{tag:"option",value:t.value,innerHtml:t.text}}})),r=t.data.map((function(t){return ja("initialValue",t)})).getOr({});return{uid:t.uid,dom:{tag:"select",classes:t.selectClasses,attributes:t.selectAttributes},components:n,behaviours:qv(t.selectBehaviours,[qw.config({}),Iv.config({store:a({mode:"manual",getValue:function(t){return Us(t.element)},setValue:function(e,n){var r=Ot(t.options),o=mt(t.options,(function(t){return t.value===n}));o.isSome()?Hs(e.element,n):-1===e.element.dom.selectedIndex&&""===n&&r.each((function(t){return Hs(e.element,t.value)}))}},r)})])}},CL=Yg({name:"HtmlSelect",configFields:[Qi("options"),jv("selectBehaviours",[qw,Iv]),ya("selectClasses",[]),ya("selectAttributes",{}),la("data")],factory:_L}),kL=function(t,e,n){var r=at(t.items,(function(t){return{text:e.translate(t.text),value:t.value}})),o=t.label.map((function(t){return HR(t,e)})),i=DR.parts.field(a(a({dom:{}},n.map((function(t){return{data:t}})).getOr({})),{},{selectAttributes:{size:t.size},options:r,factory:CL,selectBehaviours:ed([xb.config({disabled:function(){return!t.enabled||e.isDisabled()}}),LR.config({}),Rw("selectbox-change",[ic(mu(),(function(e,n){Yu(e,VR,{name:t.name})}))])])})),u=t.size>1?Y.none():Y.some(gC("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},e.icons)),c={dom:{tag:"div",classes:["tox-selectfield"]},components:vt([[i],u.toArray()])};return DR.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:vt([o.toArray(),[c]]),fieldBehaviours:ed([xb.config({disabled:function(){return!t.enabled||e.isDisabled()},onDisabled:function(t){DR.getField(t).each(xb.disable)},onEnabled:function(t){DR.getField(t).each(xb.enable)}}),CE()])})},OL=q([ya("field1Name","field1"),ya("field2Name","field2"),Zl("onLockedChange"),Gl(["lockClass"]),ya("locked",!1),zv.field("coupledFieldBehaviours",[eb,Iv])]),SL=function(t,e,n){return Rg(t,e,n).bind(eb.getCurrent)},EL=function(t,e){return vg({factory:DR,name:t,overrides:function(t){return{fieldBehaviours:ed([Rw("coupled-input-behaviour",[ic(pu(),(function(n){SL(n,t,e).each((function(e){Rg(n,t,"lock").each((function(r){i_.isOn(r)&&t.onLockedChange(n,e,r)}))}))}))])])}}})},TL=q([EL("field1","field2"),EL("field2","field1"),vg({factory:oC,schema:[Qi("dom")],name:"lock",overrides:function(t){return{buttonBehaviours:ed([i_.config({selected:t.locked,toggleClass:t.markers.lockClass,aria:{mode:"pressed"}})])}}})]),AL=function(t,e,n,r){return{uid:t.uid,dom:t.dom,components:e,behaviours:zv.augment(t.coupledFieldBehaviours,[eb.config({find:Y.some}),Iv.config({store:{mode:"manual",getValue:function(e){var n,r=Lg(e,t,["field1","field2"]);return n={},u(n,t.field1Name,Iv.getValue(r.field1())),u(n,t.field2Name,Iv.getValue(r.field2())),n},setValue:function(e,n){var r=Lg(e,t,["field1","field2"]);Ht(n,t.field1Name)&&Iv.setValue(r.field1(),n[t.field1Name]),Ht(n,t.field2Name)&&Iv.setValue(r.field2(),n[t.field2Name])}}})]),apis:{getField1:function(e){return Rg(e,t,"field1")},getField2:function(e){return Rg(e,t,"field2")},getLock:function(e){return Rg(e,t,"lock")}}}},NL=Xg({name:"FormCoupledInputs",configFields:OL(),partFields:TL(),factory:AL,apis:{getField1:function(t,e){return t.getField1(e)},getField2:function(t,e){return t.getField2(e)},getLock:function(t,e){return t.getLock(e)}}}),RL=function(t){var e={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},n=function(t){return t in e?e[t]:1},r=t.value.toFixed(n(t.unit));return-1!==r.indexOf(".")&&(r=r.replace(/\.?0*$/,"")),r+t.unit},DL=function(t){var e=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/,n=e.exec(t);if(null!==n){var r=parseFloat(n[1]),o=n[2];return To.value({value:r,unit:o})}return To.error(t)},PL=function(t,e){var n={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},r=function(t){return Ut(n,t)};return t.unit===e?Y.some(t.value):r(t.unit)&&r(e)?n[t.unit]===n[e]?Y.some(t.value):Y.some(t.value/n[t.unit]*n[e]):Y.none()},ML=function(t){return Y.none()},BL=function(t,e){return function(n){return PL(n,e).map((function(n){return{value:n*t,unit:e}}))}},LL=function(t,e){var n=DL(t).toOptional(),r=DL(e).toOptional();return Kt(n,r,(function(t,e){return PL(t,e.unit).map((function(t){return e.value/t})).map((function(t){return BL(t,e.unit)})).getOr(ML)})).getOr(ML)},IL=function(t,e){var n=ML,r=Rc("ratio-event"),o=function(t){return gC(t,{tag:"span",classes:["tox-icon","tox-lock-icon__"+t]},e.icons)},i=NL.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:e.translate(t.label.getOr("Constrain proportions"))}},components:[o("lock"),o("unlock")],buttonBehaviours:ed([xb.config({disabled:function(){return!t.enabled||e.isDisabled()}}),CE(),LR.config({})])}),a=function(t){return{dom:{tag:"div",classes:["tox-form__group"]},components:t}},u=function(n){return DR.parts.field({factory:pO,inputClasses:["tox-textfield"],inputBehaviours:ed([xb.config({disabled:function(){return!t.enabled||e.isDisabled()}}),CE(),LR.config({}),Rw("size-input-events",[ic(su(),(function(t,e){Yu(t,r,{isField1:n})})),ic(mu(),(function(e,n){Yu(e,VR,{name:t.name})}))])]),selectOnFocus:!1})},c=function(t){return{dom:{tag:"label",classes:["tox-label"]},components:[ll(e.translate(t))]}},s=NL.parts.field1(a([DR.parts.label(c("Width")),u(!0)])),l=NL.parts.field2(a([DR.parts.label(c("Height")),u(!1)]));return NL.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[s,l,a([c($p),i])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:function(t,e,r){DL(Iv.getValue(t)).each((function(t){n(t).each((function(t){Iv.setValue(e,RL(t))}))}))},coupledFieldBehaviours:ed([xb.config({disabled:function(){return!t.enabled||e.isDisabled()},onDisabled:function(t){NL.getField1(t).bind(DR.getField).each(xb.disable),NL.getField2(t).bind(DR.getField).each(xb.disable),NL.getLock(t).each(xb.disable)},onEnabled:function(t){NL.getField1(t).bind(DR.getField).each(xb.enable),NL.getField2(t).bind(DR.getField).each(xb.enable),NL.getLock(t).each(xb.enable)}}),CE(),Rw("size-input-events2",[ic(r,(function(t,e){var r=e.event.isField1,o=r?NL.getField1(t):NL.getField2(t),i=r?NL.getField2(t):NL.getField1(t),a=o.map(Iv.getValue).getOr(""),u=i.map(Iv.getValue).getOr("");n=LL(a,u)}))])])})},jL=function(t,e,n){var r=$M.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[ll(e.translate(t.label))]}),o=$M.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),i=$M.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return $M.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:t.min,maxX:t.max,getInitialValue:q(n.getOrThunk((function(){return(Math.abs(t.max)-Math.abs(t.min))/2})))},components:[r,o,i],sliderBehaviours:ed([mB.self(),qw.config({})]),onChoose:function(e,n,r){Yu(e,VR,{name:t.name,value:r})}})},FL=function(t,e){var n=function(t){return{dom:{tag:"th",innerHtml:e.translate(t)}}},r=function(t){return{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:at(t,n)}]}},o=function(t){return{dom:{tag:"td",innerHtml:e.translate(t)}}},i=function(t){return{dom:{tag:"tr"},components:at(t,o)}},a=function(t){return{dom:{tag:"tbody"},components:at(t,i)}};return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[r(t.header),a(t.cells)],behaviours:ed([LR.config({}),qw.config({})])}},qL=function(t,e){var n=t.label.map((function(t){return HR(t,e)})),r=[xb.config({disabled:function(){return t.disabled||e.isDisabled()}}),CE(),hw.config({mode:"execution",useEnter:!0!==t.multiline,useControlEnter:!0===t.multiline,execute:function(t){return Ku(t,KR),Y.some(!0)}}),Rw("textfield-change",[ic(pu(),(function(e,n){Yu(e,VR,{name:t.name})})),ic(ku(),(function(e,n){Yu(e,VR,{name:t.name})}))]),LR.config({})],o=t.validation.map((function(t){return fD.config({getRoot:function(t){return Ye(t.element)},invalidClass:"tox-invalid",validator:{validate:function(e){var n=Iv.getValue(e),r=t.validator(n);return mN.pure(!0===r?To.value(n):To.error(r))},validateOnLoad:t.validateOnLoad}})})).toArray(),i=t.placeholder.fold(q({}),(function(t){return{placeholder:e.translate(t)}})),u=t.inputMode.fold(q({}),(function(t){return{inputmode:t}})),c=a(a({},i),u),s=DR.parts.field(a(a({tag:!0===t.multiline?"textarea":"input"},t.data.map((function(t){return{data:t}})).getOr({})),{},{inputAttributes:c,inputClasses:[t.classname],inputBehaviours:ed(vt([r,o])),selectOnFocus:!1,factory:pO})),l=t.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[s]}:s,f=t.flex?["tox-form__group--stretched"]:[],d=f.concat(t.maximized?["tox-form-group--maximize"]:[]),p=[xb.config({disabled:function(){return t.disabled||e.isDisabled()},onDisabled:function(t){DR.getField(t).each(xb.disable)},onEnabled:function(t){DR.getField(t).each(xb.enable)}}),CE()];return jR(n,l,d,p)},zL=function(t,e,n){return qL({name:t.name,multiline:!1,label:t.label,inputMode:t.inputMode,placeholder:t.placeholder,flex:!1,disabled:!t.enabled,classname:"tox-textfield",validation:Y.none(),maximized:t.maximized,data:n},e)},UL=function(t,e,n){return qL({name:t.name,multiline:!0,label:t.label,inputMode:Y.none(),placeholder:t.placeholder,flex:!0,disabled:!t.enabled,classname:"tox-textarea",validation:Y.none(),maximized:t.maximized,data:n},e)},HL=function(t,e){return e.getAnimationRoot.fold((function(){return t.element}),(function(e){return e(t)}))},VL=function(t){return t.dimension.property},WL=function(t,e){return t.dimension.getDimension(e)},$L=function(t,e){var n=HL(t,e);js(n,[e.shrinkingClass,e.growingClass])},GL=function(t,e){Bs(t.element,e.openClass),Ps(t.element,e.closedClass),Tn(t.element,VL(e),"0px"),In(t.element)},KL=function(t,e){Bs(t.element,e.closedClass),Ps(t.element,e.openClass),Ln(t.element,VL(e))},YL=function(t,e,n,r){n.setCollapsed(),Tn(t.element,VL(e),WL(e,t.element)),$L(t,e),GL(t,e),e.onStartShrink(t),e.onShrunk(t)},XL=function(t,e,n,r){var o=r.getOrThunk((function(){return WL(e,t.element)}));n.setCollapsed(),Tn(t.element,VL(e),o),In(t.element);var i=HL(t,e);Bs(i,e.growingClass),Ps(i,e.shrinkingClass),GL(t,e),e.onStartShrink(t)},ZL=function(t,e,n){var r=WL(e,t.element),o="0px"===r?YL:XL;o(t,e,n,Y.some(r))},JL=function(t,e,n){var r=HL(t,e),o=Ls(r,e.shrinkingClass),i=WL(e,t.element);KL(t,e);var a=WL(e,t.element),u=function(){Tn(t.element,VL(e),i),In(t.element)},c=function(){GL(t,e)},s=o?u:c;s(),Bs(r,e.shrinkingClass),Ps(r,e.growingClass),KL(t,e),Tn(t.element,VL(e),a),n.setExpanded(),e.onStartGrow(t)},QL=function(t,e,n){if(n.isExpanded()){Ln(t.element,VL(e));var r=WL(e,t.element);Tn(t.element,VL(e),r)}},tI=function(t,e,n){n.isExpanded()||JL(t,e,n)},eI=function(t,e,n){n.isExpanded()&&ZL(t,e,n)},nI=function(t,e,n){n.isExpanded()&&YL(t,e,n)},rI=function(t,e,n){return n.isExpanded()},oI=function(t,e,n){return n.isCollapsed()},iI=function(t,e,n){var r=HL(t,e);return!0===Ls(r,e.growingClass)},aI=function(t,e,n){var r=HL(t,e);return!0===Ls(r,e.shrinkingClass)},uI=function(t,e,n){return iI(t,e)||aI(t,e)},cI=function(t,e,n){var r=n.isExpanded()?ZL:JL;r(t,e,n)},sI=function(t,e,n){n.isExpanded()||(KL(t,e),Tn(t.element,VL(e),WL(e,t.element)),$L(t,e),n.setExpanded(),e.onStartGrow(t),e.onGrown(t))},lI=Object.freeze({__proto__:null,refresh:QL,grow:tI,shrink:eI,immediateShrink:nI,hasGrown:rI,hasShrunk:oI,isGrowing:iI,isShrinking:aI,isTransitioning:uI,toggleGrow:cI,disableTransitions:$L,immediateGrow:sI}),fI=function(t,e,n){var r=e.expanded;return os(r?{classes:[e.openClass],styles:{}}:{classes:[e.closedClass],styles:ja(e.dimension.property,"0px")})},dI=function(t,e){return ec([mc(gu(),(function(n,r){var o=r.event.raw;if(o.propertyName===t.dimension.property){$L(n,t),e.isExpanded()&&Ln(n.element,t.dimension.property);var i=e.isExpanded()?t.onGrown:t.onShrunk;i(n)}}))])},pI=Object.freeze({__proto__:null,exhibit:fI,events:dI}),mI=[Qi("closedClass"),Qi("openClass"),Qi("shrinkingClass"),Qi("growingClass"),la("getAnimationRoot"),Yl("onShrunk"),Yl("onStartShrink"),Yl("onGrown"),Yl("onStartGrow"),ya("expanded",!1),ta("dimension",Ki("property",{width:[Ql("property","width"),Ql("getDimension",(function(t){return Zn(t)+"px"}))],height:[Ql("property","height"),Ql("getDimension",(function(t){return qn(t)+"px"}))]}))],hI=function(t){var e=Aa(t.expanded),n=function(){return"expanded: "+e.get()};return Qc({isExpanded:function(){return!0===e.get()},isCollapsed:function(){return!1===e.get()},setCollapsed:H(e.set,!1),setExpanded:H(e.set,!0),readState:n})},vI=Object.freeze({__proto__:null,init:hI}),gI=rd({fields:mI,name:"sliding",active:pI,apis:lI,state:vI}),bI=function(t){return{isEnabled:function(){return!xb.isDisabled(t)},setEnabled:function(e){return xb.set(t,!e)},setActive:function(e){var n=t.element;e?(Ps(n,"tox-tbtn--enabled"),yn(n,"aria-pressed",!0)):(Bs(n,"tox-tbtn--enabled"),kn(n,"aria-pressed"))},isActive:function(){return Ls(t.element,"tox-tbtn--enabled")},setText:function(e){Yu(t,nL,{text:e})},setIcon:function(e){return Yu(t,rL,{icon:e})}}},yI=function(t,e,n,r){var o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];return oL({text:t.text,icon:t.icon,tooltip:t.tooltip,searchable:t.search.isSome(),role:r,fetch:function(e,r){var o={pattern:t.search.isSome()?zN(e):""};t.fetch((function(e){r(hL(e,Mk.CLOSE_ON_EXECUTE,n,{isHorizontalMenu:!1,search:t.search}))}),o,bI(e))},onSetup:t.onSetup,getApi:bI,columns:1,presets:"normal",classes:[],dropdownBehaviours:c(o?[LR.config({})]:[])},e,n.shared)},xI=function(t,e,n){var r=function(t){return function(r){var o=!r.isActive();r.setActive(o),t.storage.set(o),n.shared.getSink().each((function(n){e().getOpt(n).each((function(e){ld(e.element),Yu(e,GR,{name:t.name,value:t.storage.get()})}))}))}},o=function(t){return function(e){e.setActive(t.storage.get())}};return function(e){e(at(t,(function(t){var e=t.text.fold((function(){return{}}),(function(t){return{text:t}}));return a(a({type:t.type,active:!1},e),{},{onAction:r(t),onSetup:o(t)})})))}},wI=function(t){return{dom:{tag:"span",classes:["tox-tree__label"],attributes:{title:t,"aria-label":t}},components:[ll(t)]}},_I=Rc("leaf-label-event-id"),CI=function(t){var e=t.leaf,n=t.onLeafAction,r=t.visible,o=t.treeId,i=t.backstage,a=e.menu.map((function(t){return yI(t,"tox-mbtn",i,Y.none(),r)})),s=[wI(e.title)];return a.each((function(t){return s.push(t)})),oC.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(r?["tox-tree--leaf__label--visible"]:[])},components:s,role:"treeitem",action:function(t){n(e.id),t.getSystem().broadcastOn(["update-active-item-".concat(o)],{value:e.id})},eventOrder:u({},fu(),[_I,"keying"]),buttonBehaviours:ed([].concat(c(r?[LR.config({})]:[]),[i_.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),ud.config({channels:u({},"update-active-item-".concat(o),{onReceive:function(t,n){(n.value===e.id?i_.on:i_.off)(t)}})}),Rw(_I,[ic(fu(),(function(t,e){var n="ArrowLeft"===e.event.raw.code,r="ArrowRight"===e.event.raw.code;n?(Cl(t.element,".tox-tree--directory").each((function(e){t.getSystem().getByDom(e).each((function(t){kl(e,".tox-tree--directory__label").each((function(e){t.getSystem().getByDom(e).each(qw.focus)}))}))})),e.stop()):r&&e.stop()}))])]))})},kI=function(t,e,n){return gC(t,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"],behaviours:n},e)},OI=function(t,e){return kI(t,e,[])},SI=Rc("directory-label-event-id"),EI=function(t){var e=t.directory,n=t.visible,r=t.noChildren,o=t.backstage,i=e.menu.map((function(t){return yI(t,"tox-mbtn",o,Y.none())})),a=[{dom:{tag:"div",classes:["tox-chevron"]},components:[OI("chevron-right",o.shared.providers.icons)]},wI(e.title)];i.each((function(t){a.push(t)}));var s=function(t){Cl(t.element,".tox-tree--directory").each((function(e){t.getSystem().getByDom(e).each((function(t){return i_.toggle(t)}))}))};return oC.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(n?["tox-tree--directory__label--visible"]:[])},components:a,action:s,eventOrder:u({},fu(),[SI,"keying"]),buttonBehaviours:ed([].concat(c(n?[LR.config({})]:[]),[Rw(SI,[ic(fu(),(function(t,e){var n="ArrowRight"===e.event.raw.code,o="ArrowLeft"===e.event.raw.code;n&&r&&e.stop(),(n||o)&&Cl(t.element,".tox-tree--directory").each((function(r){t.getSystem().getByDom(r).each((function(r){!i_.isOn(r)&&n||i_.isOn(r)&&o?(s(t),e.stop()):o&&!i_.isOn(r)&&(Cl(r.element,".tox-tree--directory").each((function(t){kl(t,".tox-tree--directory__label").each((function(t){r.getSystem().getByDom(t).each(qw.focus)}))})),e.stop())}))}))}))])]))})},TI=function(t){var e=t.children,n=t.onLeafAction,r=t.visible,o=t.treeId,i=t.backstage;return{dom:{tag:"div",classes:["tox-tree--directory__children"]},components:e.map((function(t){return"leaf"===t.type?CI({leaf:t,onLeafAction:n,visible:r,treeId:o,backstage:i}):AI({directory:t,onLeafAction:n,labelTabstopping:r,treeId:o,backstage:i})})),behaviours:ed([gI.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking"}),Aw.config({})])}},AI=function t(e){var n=e.directory,r=e.onLeafAction,o=e.labelTabstopping,i=e.treeId,u=e.backstage,c=n.children,s=function(e){return c.map((function(n){return"leaf"===n.type?CI({leaf:n,onLeafAction:r,visible:e,treeId:i,backstage:u}):t({directory:n,onLeafAction:r,labelTabstopping:e,treeId:i,backstage:u})}))};return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[EI({directory:n,visible:o,noChildren:0===n.children.length,backstage:u}),TI({children:c,onLeafAction:r,visible:!1,treeId:i,backstage:u})],behaviours:ed([i_.config(a(a({},n.children.length>0?{aria:{mode:"expanded"}}:{}),{},{toggleClass:"tox-tree--directory--expanded",onToggled:function(t,e){var n=t.components()[1],r=s(e);e?gI.grow(n):gI.shrink(n),Aw.set(n,r)}}))])}},NI=function(t,e){var n=t.onLeafAction.getOr(L),r=Rc("tree-id"),o=t.items.map((function(t){return"leaf"===t.type?CI({leaf:t,onLeafAction:n,visible:!0,treeId:r,backstage:e}):AI({directory:t,onLeafAction:n,labelTabstopping:!0,treeId:r,backstage:e})}));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:o,behaviours:ed([hw.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1})])}},RI=function(t,e){var n=t.stream.streams,r=n.setup(t,e);return ec([ic(t.event,r),vc((function(){return e.cancel()}))].concat(t.cancelEvent.map((function(t){return[ic(t,(function(){return e.cancel()}))]})).getOr([])))},DI=Object.freeze({__proto__:null,events:RI}),PI=function(t,e){var n=null,r=function(){T(n)||(clearTimeout(n),n=null)},o=function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];T(n)&&(n=setTimeout((function(){n=null,t.apply(null,o)}),e))};return{cancel:r,throttle:o}},MI=function(t,e){var n=null,r=function(){T(n)||(clearTimeout(n),n=null)},o=function(){for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];r(),n=setTimeout((function(){n=null,t.apply(null,i)}),e)};return{cancel:r,throttle:o}},BI=function(t){var e=Aa(null),n=function(){return{timer:null!==e.get()?"set":"unset"}},r=function(t){e.set(t)},o=function(){var t=e.get();null!==t&&t.cancel()};return Qc({readState:n,setTimer:r,cancel:o})},LI=function(t){return t.stream.streams.state(t)},II=Object.freeze({__proto__:null,throttle:BI,init:LI}),jI=function(t,e){var n=t.stream,r=MI(t.onStream,n.delay);return e.setTimer(r),function(t,e){r.throttle(t,e),n.stopEvent&&e.stop()}},FI=[ta("stream",Ki("mode",{throttle:[Qi("delay"),ya("stopEvent",!0),Ql("streams",{setup:jI,state:BI})]})),ya("event","input"),la("cancelEvent"),Zl("onStream")],qI=rd({fields:FI,name:"streaming",active:DI,state:II}),zI=function(t,e,n){var r=Iv.getValue(n);Iv.setValue(e,r),HI(e)},UI=function(t,e){var n=t.element,r=Us(n),o=n.dom;"number"!==wn(n,"type")&&e(o,r)},HI=function(t){UI(t,(function(t,e){return t.setSelectionRange(e.length,e.length)}))},VI=function(t,e){UI(t,(function(t,n){return t.setSelectionRange(e,n.length)}))},WI=function(t,e,n){if(t.selectsOver){var r=Iv.getValue(e),o=t.getDisplayText(r),i=Iv.getValue(n),a=t.getDisplayText(i);return 0===a.indexOf(o)?Y.some((function(){zI(t,e,n),VI(e,o.length)})):Y.none()}return Y.none()},$I=q("alloy.typeahead.itemexecute"),GI=function(t,e,n,r){var o=function(e,n,o){t.previewing.set(!1);var i=aN.getCoupled(e,"sandbox");if(ev.isOpen(i))eb.getCurrent(i).each((function(t){qb.getHighlighted(t).fold((function(){o(t)}),(function(){tc(i,t.element,"keydown",n)}))}));else{var a=function(t){eb.getCurrent(t).each(o)};xN(t,c(e),e,i,r,a,ly.HighlightMenuAndItem).get(L)}},i=sO(t),c=function(t){return function(e){return e.map((function(e){var n=qt(e.menus),r=gt(n,(function(t){return lt(t.items,(function(t){return"item"===t.type}))})),o=Iv.getState(t);return o.update(at(r,(function(t){return t.data}))),e}))}},s=function(t){return eb.getCurrent(t)},l="typeaheadevents",f=[qw.config({}),Iv.config({onSetValue:t.onSetValue,store:a({mode:"dataset",getDataKey:function(t){return Us(t.element)},getFallbackEntry:function(t){return{value:t,meta:{}}},setValue:function(e,n){Hs(e.element,t.model.getDisplayText(n))}},t.initialData.map((function(t){return ja("initialValue",t)})).getOr({}))}),qI.config({stream:{mode:"throttle",delay:t.responseTime,stopEvent:!1},onStream:function(e,n){var o=aN.getCoupled(e,"sandbox"),i=qw.isFocused(e);if(i&&Us(e.element).length>=t.minChars){var a=s(o).bind((function(t){return qb.getHighlighted(t).map(Iv.getValue)}));t.previewing.set(!0);var u=function(e){s(o).each((function(e){a.fold((function(){t.model.selectsOver&&qb.highlightFirst(e)}),(function(t){qb.highlightBy(e,(function(e){var n=Iv.getValue(e);return n.value===t.value})),qb.getHighlighted(e).orThunk((function(){return qb.highlightFirst(e),Y.none()}))}))}))};xN(t,c(e),e,o,r,u,ly.HighlightJustMenu).get(L)}},cancelEvent:Ru()}),hw.config({mode:"special",onDown:function(t,e){return o(t,e,qb.highlightFirst),Y.some(!0)},onEscape:function(t){var e=aN.getCoupled(t,"sandbox");return ev.isOpen(e)?(ev.close(e),Y.some(!0)):Y.none()},onUp:function(t,e){return o(t,e,qb.highlightLast),Y.some(!0)},onEnter:function(e){var n=aN.getCoupled(e,"sandbox"),r=ev.isOpen(n);if(r&&!t.previewing.get())return s(n).bind((function(t){return qb.getHighlighted(t)})).map((function(t){return Yu(e,$I(),{item:t}),!0}));var o=Iv.getValue(e);return Ku(e,Ru()),t.onExecute(n,e,o),r&&ev.close(n),Y.some(!0)}}),i_.config({toggleClass:t.markers.openClass,aria:{mode:"expanded"}}),aN.config({others:{sandbox:function(e){return SN(t,e,{onOpen:function(){return i_.on(e)},onClose:function(){return i_.off(e)}})}}}),Rw(l,[hc((function(e){t.lazyTypeaheadComp.set(Y.some(e))})),vc((function(e){t.lazyTypeaheadComp.set(Y.none())})),bc((function(e){var n=L;_N(t,c(e),e,r,n,ly.HighlightMenuAndItem).get(L)})),ic($I(),(function(e,n){var r=aN.getCoupled(e,"sandbox");zI(t.model,e,n.event.item),Ku(e,Ru()),t.onItemExecute(e,r,n.event.item,Iv.getValue(e)),ev.close(r),HI(e)}))].concat(t.dismissOnBlur?[ic(Cu(),(function(t){var e=aN.getCoupled(t,"sandbox");md(e.element).isNone()&&ev.close(e)}))]:[]))],d=a(u({},ju(),[Iv.name(),qI.name(),l]),t.eventOrder);return{uid:t.uid,dom:fO($o(t,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:a(a({},i),qv(t.typeaheadBehaviours,f)),eventOrder:d}},KI=q([la("lazySink"),Qi("fetch"),ya("minChars",5),ya("responseTime",1e3),Yl("onOpen"),ya("getHotspot",Y.some),ya("getAnchorOverrides",q({})),ya("layouts",Y.none()),ya("eventOrder",{}),Ta("model",{},[ya("getDisplayText",(function(t){return void 0!==t.meta&&void 0!==t.meta.text?t.meta.text:t.value})),ya("selectsOver",!0),ya("populateFromBrowse",!0)]),Yl("onSetValue"),Xl("onExecute"),Yl("onItemExecute"),ya("inputClasses",[]),ya("inputAttributes",{}),ya("inputStyles",{}),ya("matchWidth",!0),ya("useMinWidth",!1),ya("dismissOnBlur",!0),Gl(["openClass"]),la("initialData"),jv("typeaheadBehaviours",[qw,Iv,qI,hw,i_,aN]),Zi("lazyTypeaheadComp",(function(){return Aa(Y.none)})),Zi("previewing",(function(){return Aa(!0)}))].concat(cO()).concat(TN())),YI=q([gg({schema:[$l()],name:"menu",overrides:function(t){return{fakeFocus:!0,onHighlightItem:function(e,n,r){t.previewing.get()?t.lazyTypeaheadComp.get().each((function(e){WI(t.model,e,r).fold((function(){t.model.selectsOver?(qb.dehighlight(n,r),t.previewing.set(!0)):t.previewing.set(!1)}),(function(e){e(),t.previewing.set(!1)}))})):t.lazyTypeaheadComp.get().each((function(e){t.model.populateFromBrowse&&zI(t.model,e,r)}))},onExecute:function(e,n){return t.lazyTypeaheadComp.get().map((function(t){return Yu(t,$I(),{item:n}),!0}))},onHover:function(e,n){t.previewing.set(!1),t.lazyTypeaheadComp.get().each((function(e){t.model.populateFromBrowse&&zI(t.model,e,n)}))}}}})]),XI=Xg({name:"Typeahead",configFields:KI(),partFields:YI(),factory:GI}),ZI=function t(e){var n=function(){return t(e.toCached())},r=function(n){return t(e.bind((function(t){return t.fold((function(t){return mN.pure(To.error(t))}),(function(t){return n(t)}))})))},o=function(n){return t(e.map((function(t){return t.bind(n)})))},i=function(n){return t(e.map((function(t){return t.map(n)})))},u=function(n){return t(e.map((function(t){return t.mapError(n)})))},c=function(t,n){return e.map((function(e){return e.fold(t,n)}))},s=function(n,r){return t(mN.nu((function(t){var o=!1,i=setTimeout((function(){o=!0,t(To.error(r()))}),n);e.get((function(e){o||(clearTimeout(i),t(e))}))})))};return a(a({},e),{},{toCached:n,bindFuture:r,bindResult:o,mapResult:i,mapError:u,foldResult:c,withTimeout:s})},JI=function(t){return ZI(mN.nu(t))},QI=function(t){return ZI(mN.pure(To.value(t)))},tj=function(t){return ZI(mN.pure(To.error(t)))},ej=function(t){return ZI(mN.pure(t))},nj=function(t){return ZI(t.map(To.value))},rj=function(t){return JI((function(e){t.then((function(t){e(To.value(t))}),(function(t){e(To.error(t))}))}))},oj={nu:JI,wrap:ZI,pure:QI,value:QI,error:tj,fromResult:ej,fromFuture:nj,fromPromise:rj},ij=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0,u=e.fold((function(){return{}}),(function(t){return{action:t}})),c=a({buttonBehaviours:ed([TE.button((function(){return!t.enabled||i.isDisabled()})),CE(),LR.config({}),Rw("button press",[oc("click"),oc("mousedown")])].concat(n)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]}},u),s=$o(c,{dom:r});return $o(s,{components:o})},aj=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=t.tooltip.map((function(t){return{"aria-label":n.translate(t),title:n.translate(t)}})).getOr({}),i={tag:"button",classes:["tox-tbtn"],attributes:o},a=t.icon.map((function(t){return QB(t,n.icons)})),u=ME([a]);return ij(t,e,r,i,u,n)},uj=function(t){switch(t){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];case"secondary":default:return["tox-button","tox-button--secondary"]}},cj=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],i=n.translate(t.text),a=t.icon.map((function(t){return QB(t,n.icons)})),u=[a.getOrThunk((function(){return ll(i)}))],s=t.buttonType.getOr(t.primary||t.borderless?"primary":"secondary"),l=uj(s),f=[].concat(c(l),c(a.isSome()?["tox-button--icon"]:[]),c(t.borderless?["tox-button--naked"]:[]),c(o)),d={tag:"button",classes:f,attributes:{title:i}};return ij(t,e,r,d,u,n)},sj=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],i=cj(t,Y.some(e),n,r,o);return oC.sketch(i)},lj=function(t,e){return function(n){"custom"===e?Yu(n,GR,{name:t,value:{}}):"submit"===e?Ku(n,KR):"cancel"===e?Ku(n,$R):console.error("Unknown button type: ",e)}},fj=function(t,e){return"menu"===e},dj=function(t,e){return"custom"===e||"cancel"===e||"submit"===e},pj=function(t,e){return"togglebutton"===e},mj=function(t,e){var n,r,o,i=Y.from(t.icon).map((function(t){return tL(t,e.icons)})).map(iC),u=function(n){Yu(n,GR,{name:t.name,value:{setIcon:function(t){i.map((function(r){return r.getOpt(n).each((function(n){Aw.set(n,[tL(t,e.icons)])}))}))}}})},s=a(a({},t),{},{name:null!==(n=t.name)&&void 0!==n?n:"",primary:"primary"===t.buttonType,buttonType:Y.from(t.buttonType),tooltip:Y.from(t.tooltip),icon:Y.from(t.name),enabled:null!==(r=t.enabled)&&void 0!==r&&r,borderless:!1}),l=s.tooltip.map((function(t){return{"aria-label":e.translate(t),title:e.translate(t)}})).getOr({}),f=uj(null!==(o=t.buttonType)&&void 0!==o?o:"secondary"),d=!!t.icon&&!!t.text,p={tag:"button",classes:[].concat(c(f.concat(["tox-button--icon"])),c(t.active?["tox-button--enabled"]:[]),c(d?["tox-button--icon-and-text"]:[])),attributes:l},m=[],h=e.translate(t.text),v=ll(h),g=ME([i.map((function(t){return t.asSpec()}))]),b=[].concat(c(g),c(d?[v]:[])),y=ij(s,Y.some(u),m,p,b,e);return oC.sketch(y)},hj=function(t,e,n){if(fj(t,e)){var r=function(){return u},o=t,i=a(a({},t),{},{type:"menubutton",search:Y.none(),onSetup:function(e){return e.setEnabled(t.enabled),L},fetch:xI(o.items,r,n)}),u=iC(yI(i,"tox-tbtn",n,Y.none()));return u.asSpec()}if(dj(t,e)){var c=lj(t.name,e),s=a(a({},t),{},{borderless:!1});return sj(s,c,n.shared.providers,[])}if(pj(t,e)){var l=a(a({},t),{},{tooltip:t.tooltip,text:t.text.getOrUndefined(),buttonType:t.buttonType.getOrUndefined()});return mj(l,n.shared.providers)}throw console.error("Unknown footer button type: ",e),new Error("Unknown footer button type")},vj=function(t,e){var n=lj(t.name,"custom");return FR(Y.none(),DR.parts.field(a({factory:oC},cj(t,Y.some(n),e,[_B.memory(""),mB.self()]))))},gj={type:"separator"},bj=function(t){return{type:"menuitem",value:t.url,text:t.title,meta:{attach:t.attach},onAction:L}},yj=function(t,e){return{type:"menuitem",value:e,text:t,meta:{attach:void 0},onAction:L}},xj=function(t){return at(t,bj)},wj=function(t,e){return lt(e,(function(e){return e.type===t}))},_j=function(t,e){return xj(wj(t,e))},Cj=function(t){return _j("header",t.targets)},kj=function(t){return _j("anchor",t.targets)},Oj=function(t){return Y.from(t.anchorTop).map((function(t){return yj("<top>",t)})).toArray()},Sj=function(t){return Y.from(t.anchorBottom).map((function(t){return yj("<bottom>",t)})).toArray()},Ej=function(t){return at(t,(function(t){return yj(t,t)}))},Tj=function(t){return dt(t,(function(t,e){var n=0===t.length||0===e.length;return n?t.concat(e):t.concat(gj,e)}),[])},Aj=function(t,e){var n=t.toLowerCase();return lt(e,(function(t){var e,r=void 0!==t.meta&&void 0!==t.meta.text?t.meta.text:t.text,o=null!==(e=t.value)&&void 0!==e?e:"";return re(r.toLowerCase(),n)||re(o.toLowerCase(),n)}))},Nj=function(t,e,n){var r,o,i=Iv.getValue(e),a=null!==(o=null===(r=null===i||void 0===i?void 0:i.meta)||void 0===r?void 0:r.text)&&void 0!==o?o:i.value,u=n.getLinkInformation();return u.fold((function(){return[]}),(function(e){var r=Aj(a,Ej(n.getHistory(t)));return"file"===t?Tj([r,Aj(a,Cj(e)),Aj(a,vt([Oj(e),kj(e),Sj(e)]))]):r}))},Rj=Rc("aria-invalid"),Dj=function(t,e,n,r){var o=e.shared.providers,i=function(e){var r=Iv.getValue(e);n.addToHistory(r.value,t.filetype)},s=a(a({},r.map((function(t){return{initialData:t}})).getOr({})),{},{dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":Rj,type:"url"},minChars:0,responseTime:0,fetch:function(r){var o=Nj(t.filetype,r,n),i=hL(o,Mk.BUBBLE_TO_SANDBOX,e,{isHorizontalMenu:!1,search:Y.none()});return mN.pure(i)},getHotspot:function(t){return g.getOpt(t)},onSetValue:function(t,e){t.hasConfigured(fD)&&fD.run(t).get(L)},typeaheadBehaviours:ed([].concat(c(n.getValidationHandler().map((function(e){return fD.config({getRoot:function(t){return Ye(t.element)},invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:function(t,e){p.getOpt(t).each((function(t){yn(t.element,"title",o.translate(e))}))}},validator:{validate:function(n){var r=Iv.getValue(n);return oj.nu((function(n){e({type:t.filetype,url:r.value},(function(t){if("invalid"===t.status){var e=To.error(t.message);n(e)}else{var r=To.value(t.message);n(r)}}))}))},validateOnLoad:!1}})})).toArray()),[xb.config({disabled:function(){return!t.enabled||o.isDisabled()}}),LR.config({}),Rw("urlinput-events",[ic(pu(),(function(e){var n=Us(e.element),r=n.trim();r!==n&&Hs(e.element,r),"file"===t.filetype&&Yu(e,VR,{name:t.name})})),ic(mu(),(function(e){Yu(e,VR,{name:t.name}),i(e)})),ic(ku(),(function(e){Yu(e,VR,{name:t.name}),i(e)}))])])),eventOrder:u({},pu(),["streaming","urlinput-events","invalidating"]),model:{getDisplayText:function(t){return t.value},selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:e.shared.getSink,parts:{menu:uO(!1,1,"normal")},onExecute:function(t,e,n){Yu(e,KR,{})},onItemExecute:function(e,n,r,o){i(e),Yu(e,VR,{name:t.name})}}),l=DR.parts.field(a(a({},s),{},{factory:XI})),f=t.label.map((function(t){return HR(t,o)})),d=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t;return gC(n,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+t],attributes:a({title:o.translate(r),"aria-live":"polite"},e.fold((function(){return{}}),(function(t){return{id:t}})))},o.icons)},p=iC(d("invalid",Y.some(Rj),"warning")),m=iC({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[p.asSpec()]}),h=n.getUrlPicker(t.filetype),v=Rc("browser.url.event"),g=iC({dom:{tag:"div",classes:["tox-control-wrap"]},components:[l,m.asSpec()],behaviours:ed([xb.config({disabled:function(){return!t.enabled||o.isDisabled()}})])}),b=iC(sj({name:t.name,icon:Y.some("browse"),text:t.label.getOr(""),enabled:t.enabled,primary:!1,buttonType:Y.none(),borderless:!0},(function(t){return Ku(t,v)}),o,[],["tox-browse-url"])),y=function(){return{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:vt([[g.asSpec()],h.map((function(){return b.asSpec()})).toArray()])}},x=function(e){eb.getCurrent(e).each((function(n){var r=Iv.getValue(n),o=a({fieldname:t.name},r);h.each((function(r){r(o).get((function(r){Iv.setValue(n,r),Yu(e,VR,{name:t.name})}))}))}))};return DR.sketch({dom:zR(),components:f.toArray().concat([y()]),fieldBehaviours:ed([xb.config({disabled:function(){return!t.enabled||o.isDisabled()},onDisabled:function(t){DR.getField(t).each(xb.disable),b.getOpt(t).each(xb.disable)},onEnabled:function(t){DR.getField(t).each(xb.enable),b.getOpt(t).each(xb.enable)}}),CE(),Rw("url-input-events",[ic(v,x)])])})},Pj=function(t,e){return SR.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in","tox-notification--".concat(t.level)]},components:[{dom:{tag:"div",classes:["tox-notification__icon"]},components:[oC.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:dC(t.icon,e.icons),attributes:{title:e.translate(t.iconTooltip)}},action:function(e){Yu(e,GR,{name:"alert-banner",value:t.url})},buttonBehaviours:ed([hC()])})]},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:e.translate(t.text)}}]})},Mj=function(t,e){t.dom.checked=e},Bj=function(t){return t.dom.checked},Lj=function(t,e,n){var r=function(t){return t.element.dom.click(),Y.some(!0)},o=DR.parts.field({factory:{sketch:z},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:ed([mB.self(),xb.config({disabled:function(){return!t.enabled||e.isDisabled()}}),LR.config({}),qw.config({}),_B.withElement(n,Bj,Mj),hw.config({mode:"special",onEnter:r,onSpace:r,stopSpaceKeyup:!0}),Rw("checkbox-events",[ic(mu(),(function(e,n){Yu(e,VR,{name:t.name})}))])])}),i=DR.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[ll(e.translate(t.label))],behaviours:ed([hD.config({})])}),a=function(t){var n="checked"===t?"selected":"unselected";return gC(n,{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+t]},e.icons)},u=iC({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[a("checked"),a("unchecked")]});return DR.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[o,u.asSpec(),i],fieldBehaviours:ed([xb.config({disabled:function(){return!t.enabled||e.isDisabled()},disableClass:"tox-checkbox--disabled",onDisabled:function(t){DR.getField(t).each(xb.disable)},onEnabled:function(t){DR.getField(t).each(xb.enable)}}),CE()])})},Ij=function(t){return"presentation"===t.presets?SR.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html}}):SR.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html,attributes:{role:"document"}},containerBehaviours:ed([LR.config({}),qw.config({})])})},jj=function(t){return function(e,n,r,o){return zt(n,"name").fold((function(){return t(n,o,Y.none())}),(function(i){return e.field(i,t(n,o,zt(r,i)))}))}},Fj=function(t){return function(e,n,r,o){var i=$o(n,{source:"dynamic"});return jj(t)(e,i,r,o)}},qj={bar:jj((function(t,e){return TR(t,e.shared)})),collection:jj((function(t,e,n){return QR(t,e.shared.providers,n)})),alertbanner:jj((function(t,e){return Pj(t,e.shared.providers)})),input:jj((function(t,e,n){return zL(t,e.shared.providers,n)})),textarea:jj((function(t,e,n){return UL(t,e.shared.providers,n)})),label:jj((function(t,e){return $B(t,e.shared)})),iframe:Fj((function(t,e,n){return zB(t,e.shared.providers,n)})),button:jj((function(t,e){return vj(t,e.shared.providers)})),checkbox:jj((function(t,e,n){return Lj(t,e.shared.providers,n)})),colorinput:jj((function(t,e,n){return xD(t,e.shared,e.colorinput,n)})),colorpicker:jj((function(t,e,n){return OB(t,e.shared.providers,n)})),dropzone:jj((function(t,e,n){return RB(t,e.shared.providers,n)})),grid:jj((function(t,e){return DB(t,e.shared)})),listbox:jj((function(t,e,n){return xL(t,e,n)})),selectbox:jj((function(t,e,n){return kL(t,e.shared.providers,n)})),sizeinput:jj((function(t,e){return IL(t,e.shared.providers)})),slider:jj((function(t,e,n){return jL(t,e.shared.providers,n)})),urlinput:jj((function(t,e,n){return Dj(t,e,e.urlinput,n)})),customeditor:jj(TB),htmlpanel:jj(Ij),imagepreview:jj((function(t,e,n){return WB(t,n)})),table:jj((function(t,e){return FL(t,e.shared.providers)})),tree:jj((function(t,e){return NI(t,e)})),panel:jj((function(t,e){return wL(t,e)}))},zj={field:function(t,e){return e},record:q([])},Uj=function(t,e,n,r){var o=$o(r,{shared:{interpreter:function(e){return Hj(t,e,n,o)}}});return Hj(t,e,n,o)},Hj=function(t,e,n,r){return zt(qj,e.type).fold((function(){return console.error('Unknown factory type "'.concat(e.type,'", defaulting to container: '),e),e}),(function(o){return o(t,e,n,r)}))},Vj=function(t,e,n){return Hj(zj,t,e,n)},Wj="layout-inset",$j=function(t){return t.x},Gj=function(t,e){return t.x+t.width/2-e.width/2},Kj=function(t,e){return t.x+t.width-e.width},Yj=function(t){return t.y},Xj=function(t,e){return t.y+t.height-e.height},Zj=function(t,e){return t.y+t.height/2-e.height/2},Jj=function(t,e,n){return nf(Kj(t,e),Xj(t,e),n.insetSouthwest(),ff(),"southwest",yf(t,{right:0,bottom:3}),Wj)},Qj=function(t,e,n){return nf($j(t),Xj(t,e),n.insetSoutheast(),lf(),"southeast",yf(t,{left:1,bottom:3}),Wj)},tF=function(t,e,n){return nf(Kj(t,e),Yj(t),n.insetNorthwest(),sf(),"northwest",yf(t,{right:0,top:2}),Wj)},eF=function(t,e,n){return nf($j(t),Yj(t),n.insetNortheast(),cf(),"northeast",yf(t,{left:1,top:2}),Wj)},nF=function(t,e,n){return nf(Gj(t,e),Yj(t),n.insetNorth(),df(),"north",yf(t,{top:2}),Wj)},rF=function(t,e,n){return nf(Gj(t,e),Xj(t,e),n.insetSouth(),pf(),"south",yf(t,{bottom:3}),Wj)},oF=function(t,e,n){return nf(Kj(t,e),Zj(t,e),n.insetEast(),hf(),"east",yf(t,{right:0}),Wj)},iF=function(t,e,n){return nf($j(t),Zj(t,e),n.insetWest(),mf(),"west",yf(t,{left:1}),Wj)},aF=function(t){switch(t){case"north":return nF;case"northeast":return eF;case"northwest":return tF;case"south":return rF;case"southeast":return Qj;case"southwest":return Jj;case"east":return oF;case"west":return iF}},uF=function(t,e,n,r,o){var i=Pd(r).map(aF).getOr(nF);return i(t,e,n,r,o)},cF=function(t){switch(t){case"north":return rF;case"northeast":return Qj;case"northwest":return Jj;case"south":return nF;case"southeast":return eF;case"southwest":return tF;case"east":return iF;case"west":return oF}},sF=function(t,e,n,r,o){var i=Pd(r).map(cF).getOr(nF);return i(t,e,n,r,o)},lF={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},fF=function(t,e,n){var r=12,o={maxHeightFunction:pp()},i=function(){return{type:"node",root:sn(cn(t())),node:Y.from(t()),bubble:bp(r,r,lF),layouts:{onRtl:function(){return[eF]},onLtr:function(){return[tF]}},overrides:o}},a=function(){return{type:"hotspot",hotspot:e(),bubble:bp(-r,r,lF),layouts:{onRtl:function(){return[Nf,Rf,Bf]},onLtr:function(){return[Rf,Nf,Bf]}},overrides:o}};return function(){return n()?i():a()}},dF=function(t,e,n){var r=function(){return{type:"node",root:sn(cn(t())),node:Y.from(t()),layouts:{onRtl:function(){return[nF]},onLtr:function(){return[nF]}}}},o=function(){return{type:"hotspot",hotspot:e(),layouts:{onRtl:function(){return[Bf]},onLtr:function(){return[Bf]}}}};return function(){return n()?r():o()}},pF=function(t,e){return function(){return{type:"selection",root:e(),getSelection:function(){var e=t.selection.getRng();return Y.some(lm.range(ve.fromDom(e.startContainer),e.startOffset,ve.fromDom(e.endContainer),e.endOffset))}}}},mF=function(t){return function(e){return{type:"node",root:t(),node:e}}},hF=function(t,e,n){var r=wk(t),o=function(){return ve.fromDom(t.getBody())},i=function(){return ve.fromDom(t.getContentAreaContainer())},a=function(){return r||!n()};return{inlineDialog:fF(i,e,a),banner:dF(i,e,a),cursor:pF(t,o),node:mF(o)}},vF=function(t){return function(e,n){var r=OA(t);r(e,n)}},gF=function(t){return function(){return aA(t)}},bF=function(t){return function(e){return uA(t,e)}},yF=function(t){return function(e){return iA(t,e)}},xF=function(t){return{colorPicker:vF(t),hasCustomColors:gF(t),getColors:bF(t),getColorCols:yF(t)}},wF=function(t){return function(){return ok(t)}},_F=function(t){return{isDraggableModal:wF(t)}},CF=function(t){var e=Aa(yk(t)?"bottom":"top");return{isPositionedAtTop:function(){return"top"===e.get()},getDockingMode:e.get,setDockingMode:e.set}},kF=function(t){return Ht(t,"items")},OF=function(t){return Ht(t,"format")},SF=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],EF=function(t){return Ut(t,"items")},TF=function(t){return Ut(t,"block")},AF=function(t){return Ut(t,"inline")},NF=function(t){return Ut(t,"selector")},RF=function t(e){return dt(e,(function(e,n){if(EF(n)){var r=t(n.items);return{customFormats:e.customFormats.concat(r.customFormats),formats:e.formats.concat([{title:n.title,items:r.formats}])}}if(AF(n)||TF(n)||NF(n)){var o=k(n.name)?n.name:n.title.toLowerCase(),i="custom-".concat(o);return{customFormats:e.customFormats.concat([{name:i,format:n}]),formats:e.formats.concat([{title:n.title,format:i,icon:n.icon}])}}return a(a({},e),{},{formats:e.formats.concat(n)})}),{customFormats:[],formats:[]})},DF=function(t,e){var n=RF(e),r=function(e){ut(e,(function(e){t.formatter.has(e.name)||t.formatter.register(e.name,e.format)}))};return t.formatter?r(n.customFormats):t.on("init",(function(){r(n.customFormats)})),n.formats},PF=function(t){return IC(t).map((function(e){var n=DF(t,e);return jC(t)?SF.concat(n):n})).getOr(SF)},MF=function(t){var e=At(t);return 1===e.length&&nt(e,"title")},BF=function(t,e,n){return a(a({},t),{},{type:"formatter",isSelected:e(t.format),getStylePreview:n(t.format)})},LF=function(t,e,n,r){var o=function(t){return BF(t,n,r)},i=function(t){var e=c(t.items);return a(a({},t),{},{type:"submenu",getStyleItems:q(e)})},u=function(e){var o=k(e.name)?e.name:Rc(e.title),i="custom-".concat(o),u=a(a({},e),{},{type:"formatter",format:i,isSelected:n(i),getStylePreview:r(i)});return t.formatter.register(o,u),u},c=function(t){return at(t,(function(t){return kF(t)?i(t):OF(t)?o(t):MF(t)?a(a({},t),{},{type:"separator"}):u(t)}))};return c(e)},IF=function(t){var e=function(e){return function(){return t.formatter.match(e)}},n=function(e){return function(){var n=t.formatter.get(e);return void 0!==n?Y.some({tag:n.length>0&&(n[0].inline||n[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(e))}):Y.none()}},r=Aa([]),o=Aa([]),i=Aa(!1);t.on("PreInit",(function(o){var i=PF(t),a=LF(t,i,e,n);r.set(a)})),t.on("addStyleModifications",(function(r){var a=LF(t,r.items,e,n);o.set(a),i.set(r.replace)}));var a=function(){var t=i.get()?[]:r.get(),e=o.get();return t.concat(e)};return{getData:a}},jF=function(t){return D(t)&&1===t.nodeType},FF=AB.trim,qF=function(t){return function(e){if(jF(e)){if(e.contentEditable===t)return!0;if(e.getAttribute("data-mce-contenteditable")===t)return!0}return!1}},zF=qF("true"),UF=qF("false"),HF=function(t,e,n,r,o){return{type:t,title:e,url:n,level:r,attach:o}},VF=function(t){var e=t;while(e=e.parentNode){var n=e.contentEditable;if(n&&"inherit"!==n)return zF(e)}return!1},WF=function(t,e){return at(Sm(ve.fromDom(e),t),(function(t){return t.dom}))},$F=function(t){return t.innerText||t.textContent},GF=function(t){return t.id?t.id:Rc("h")},KF=function(t){return t&&"A"===t.nodeName&&void 0!==(t.id||t.name)},YF=function(t){return KF(t)&&ZF(t)},XF=function(t){return t&&/^(H[1-6])$/.test(t.nodeName)},ZF=function(t){return VF(t)&&!UF(t)},JF=function(t){return XF(t)&&ZF(t)},QF=function(t){return XF(t)?parseInt(t.nodeName.substr(1),10):0},tq=function(t){var e,n=GF(t),r=function(){t.id=n};return HF("header",null!==(e=$F(t))&&void 0!==e?e:"","#"+n,QF(t),r)},eq=function(t){var e=t.id||t.name,n=$F(t);return HF("anchor",n||"#"+e,"#"+e,0,L)},nq=function(t){return at(lt(t,JF),tq)},rq=function(t){return at(lt(t,YF),eq)},oq=function(t){var e=WF("h1,h2,h3,h4,h5,h6,a:not([href])",t);return e},iq=function(t){return FF(t.title).length>0},aq=function(t){var e=oq(t);return lt(nq(e).concat(rq(e)),iq)},uq={find:aq},cq="tinymce-url-history",sq=5,lq=function(t){return k(t)&&/^https?/.test(t)},fq=function(t){return E(t)&&t.length<=sq&&bt(t,lq)},dq=function(t){return O(t)&&Ft(t,(function(t){return!fq(t)})).isNone()},pq=function(){var t,e=jT.getItem(cq);if(null===e)return{};try{t=JSON.parse(e)}catch(n){if(n instanceof SyntaxError)return console.log("Local storage "+cq+" was not valid JSON",n),{};throw n}return dq(t)?t:(console.log("Local storage "+cq+" was not valid format",t),{})},mq=function(t){if(!dq(t))throw new Error("Bad format for history:\n"+JSON.stringify(t));jT.setItem(cq,JSON.stringify(t))},hq=function(t){var e=pq();return zt(e,t).getOr([])},vq=function(t,e){if(lq(t)){var n=pq(),r=zt(n,e).getOr([]),o=lt(r,(function(e){return e!==t}));n[e]=[t].concat(o).slice(0,sq),mq(n)}},gq=function(t){return!!t},bq=function(t){return Dt(AB.makeMap(t,/[, ]/),gq)},yq=function(t){return Y.from(ZC(t))},xq=function(t){var e=Y.from(tk(t)).filter(gq).map(bq);return yq(t).fold(G,(function(t){return e.fold(K,(function(t){return At(t).length>0&&t}))}))},wq=function(t,e){var n=xq(t);return A(n)?n?yq(t):Y.none():n[e]?yq(t):Y.none()},_q=function(t,e){return wq(t,e).map((function(n){return function(r){return mN.nu((function(o){var i=function(t,e){if(!k(t))throw new Error("Expected value to be string");if(void 0!==e&&!O(e))throw new Error("Expected meta to be a object");var n={value:t,meta:e};o(n)},u=a({filetype:e,fieldname:r.fieldname},Y.from(r.meta).getOr({}));n.call(t,i,r.value,u)}))}}))},Cq=function(t){return Y.from(t).filter(k).getOrUndefined()},kq=function(t){return ek(t)?Y.some({targets:uq.find(t.getBody()),anchorTop:Cq(nk(t)),anchorBottom:Cq(rk(t))}):Y.none()},Oq=function(t){return Y.from(JC(t))},Sq=function(t){return{getHistory:hq,addToHistory:vq,getLinkInformation:function(){return kq(t)},getValidationHandler:function(){return Oq(t)},getUrlPicker:function(e){return _q(t,e)}}},Eq=function(t,e,n){var r=Aa(!1),o=CF(e),i={icons:function(){return e.ui.registry.getAll().icons},menuItems:function(){return e.ui.registry.getAll().menuItems},translate:aC.translate,isDisabled:function(){return e.mode.isReadOnly()||!e.ui.isEnabled()},getOption:e.options.get},u=Sq(e),c=IF(e),s=xF(e),l=_F(e),f=function(){return r.get()},d=function(t){return r.set(t)},p={shared:{providers:i,anchors:hF(e,n,o.isPositionedAtTop),header:o},urlinput:u,styles:c,colorinput:s,dialog:l,isContextMenuOpen:f,setContextMenuState:d},m=a(a({},p),{},{shared:a(a({},p.shared),{},{interpreter:function(t){return Vj(t,{},m)},getSink:t.popup})}),h=a(a({},p),{},{shared:a(a({},p.shared),{},{interpreter:function(t){return Vj(t,{},h)},getSink:t.dialog})});return{popup:m,dialog:h}},Tq=function(t,e,n){var r=function(t,r){ut([e].concat(c(n)),(function(e){e.broadcastEvent(t,r)}))},o=function(t,r){ut([e].concat(c(n)),(function(e){e.broadcastOn([t],r)}))},i=function(t){return o(nv(),{target:t.target})},a=co(),u=$d(a,"touchstart",i),s=$d(a,"touchmove",(function(t){return r(Pu(),t)})),l=$d(a,"touchend",(function(t){return r(Mu(),t)})),f=$d(a,"mousedown",i),d=$d(a,"mouseup",(function(t){0===t.raw.button&&o(ov(),{target:t.target})})),p=function(t){return o(nv(),{target:ve.fromDom(t.target)})},m=function(t){0===t.button&&o(ov(),{target:ve.fromDom(t.target)})},h=function(){ut(t.editorManager.get(),(function(e){t!==e&&e.dispatch("DismissPopups",{relatedTarget:t})}))},v=function(t){return r(Bu(),Kd(t))},g=function(t){o(rv(),{}),r(Lu(),Kd(t))},b=cn(ve.fromDom(t.getElement())),y=Gd(b,"scroll",(function(n){requestAnimationFrame((function(){var o=t.getContainer();if(void 0!==o&&null!==o){var i=tR(t,e.element),a=i.map((function(t){return[t.element].concat(c(t.others))})).getOr([]);rt(a,(function(t){return Ue(t,n.target)}))&&(t.dispatch("ElementScroll",{target:n.target.dom}),r(Hu(),n))}}))})),x=function(){return o(rv(),{})},w=function(e){e.state&&o(nv(),{target:ve.fromDom(t.getContainer())})},_=function(t){o(nv(),{target:ve.fromDom(t.relatedTarget.getContainer())})};t.on("PostRender",(function(){t.on("click",p),t.on("tap",p),t.on("mouseup",m),t.on("mousedown",h),t.on("ScrollWindow",v),t.on("ResizeWindow",g),t.on("ResizeEditor",x),t.on("AfterProgressState",w),t.on("DismissPopups",_)})),t.on("remove",(function(){t.off("click",p),t.off("tap",p),t.off("mouseup",m),t.off("mousedown",h),t.off("ScrollWindow",v),t.off("ResizeWindow",g),t.off("ResizeEditor",x),t.off("AfterProgressState",w),t.off("DismissPopups",_),f.unbind(),u.unbind(),s.unbind(),l.unbind(),d.unbind(),y.unbind()})),t.on("detach",(function(){ut([e].concat(c(n)),Bh),ut([e].concat(c(n)),(function(t){return t.destroy()}))}))},Aq=Fg,Nq=wg,Rq=q([ya("shell",!1),Qi("makeItem"),ya("setupItem",L),zv.field("listBehaviours",[Aw])]),Dq=function(){return{behaviours:ed([Aw.config({})])}},Pq=bg({name:"items",overrides:Dq}),Mq=q([Pq]),Bq=q("CustomList"),Lq=function(t,e,n,r){var o=function(e,n){a(e).fold((function(){throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")}),(function(r){var o=Aw.contents(r),i=n.length,a=i-o.length,u=a>0?ot(a,(function(){return t.makeItem()})):[],c=o.slice(i);ut(c,(function(t){return Aw.remove(r,t)})),ut(u,(function(t){return Aw.append(r,t)}));var s=Aw.contents(r);ut(s,(function(r,o){t.setupItem(e,r,n[o],o)}))}))},i=t.shell?{behaviours:[Aw.config({})],components:[]}:{behaviours:[],components:e},a=function(e){return t.shell?Y.some(e):Rg(e,t,"items")};return{uid:t.uid,dom:t.dom,components:i.components,behaviours:qv(t.listBehaviours,i.behaviours),apis:{setItems:o}}},Iq=Xg({name:Bq(),configFields:Rq(),partFields:Mq(),factory:Lq,apis:{setItems:function(t,e,n){t.setItems(e,n)}}}),jq=q([Qi("dom"),ya("shell",!0),jv("toolbarBehaviours",[Aw])]),Fq=function(){return{behaviours:ed([Aw.config({})])}},qq=q([bg({name:"groups",overrides:Fq})]),zq=function(t,e,n,r){var o=function(t,e){i(t).fold((function(){throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")}),(function(t){Aw.set(t,e)}))},i=function(e){return t.shell?Y.some(e):Rg(e,t,"groups")},a=t.shell?{behaviours:[Aw.config({})],components:[]}:{behaviours:[],components:e};return{uid:t.uid,dom:t.dom,components:a.components,behaviours:qv(t.toolbarBehaviours,a.behaviours),apis:{setGroups:o},domModification:{attributes:{role:"group"}}}},Uq=Xg({name:"Toolbar",configFields:jq(),partFields:qq(),factory:zq,apis:{setGroups:function(t,e,n){t.setGroups(e,n)}}}),Hq=L,Vq=G,Wq=q([]),$q=Object.freeze({__proto__:null,setup:Hq,isDocked:Vq,getBehaviours:Wq}),Gq=function(t){var e=Vt(Pn(t,"position"),"fixed"),n=e?Y.none():Ze(t);return n.orThunk((function(){var e=ve.fromTag("span");return Ke(t).bind((function(t){Jr(t,e);var n=Ze(e);return no(e),n}))}))},Kq=function(t){return Gq(t).map(Gn).getOrThunk((function(){return Vn(0,0)}))},Yq=function(t,e){var n=t.element;Ps(n,e.transitionClass),Bs(n,e.fadeOutClass),Ps(n,e.fadeInClass),e.onShow(t)},Xq=function(t,e){var n=t.element;Ps(n,e.transitionClass),Bs(n,e.fadeInClass),Ps(n,e.fadeOutClass),e.onHide(t)},Zq=function(t,e){return t.y<e.bottom&&t.bottom>e.y},Jq=function(t,e){return t.y>=e.y},Qq=function(t,e){return t.bottom<=e.bottom},tz=function(t,e,n){return{location:"top",leftX:e,topY:n.bounds.y-t.y}},ez=function(t,e,n){return{location:"bottom",leftX:e,bottomY:t.bottom-n.bounds.bottom}},nz=function(t){return t.box.x-t.win.x},rz=function(t,e,n){var r=e.win,o=e.box,i=nz(e);return Tt(t,(function(t){switch(t){case"bottom":return Qq(o,n.bounds)?Y.none():Y.some(ez(r,i,n));case"top":return Jq(o,n.bounds)?Y.none():Y.some(tz(r,i,n));default:return Y.none()}})).getOr({location:"no-dock"})},oz=function(t,e,n){return bt(t,(function(t){switch(t){case"bottom":return Qq(e,n.bounds);case"top":return Jq(e,n.bounds)}}))},iz=function(t,e){var n=e.optScrollEnv.fold(q(t.bounds.y),(function(e){return e.scrollElmTop+(t.bounds.y-e.currentScrollTop)}));return Vn(t.bounds.x,n)},az=function(t,e){var n=e.optScrollEnv.fold(q(t.y),(function(e){return t.y+e.currentScrollTop-e.scrollElmTop}));return Vn(t.x,n)},uz=function(t,e,n){return n.getInitialPos().map((function(n){var r=iz(n,e);return{box:bo(r.left,r.top,Zn(t),qn(t)),location:n.location}}))},cz=function(t,e,n,r,o){var i=az(e,n),a=bo(i.left,i.top,e.width,e.height);r.setInitialPos({style:Mn(t),position:Rn(t,"position")||"static",bounds:a,location:o.location})},sz=function(t,e,n,r,o){r.getInitialPos().fold((function(){return cz(t,e,n,r,o)}),(function(){return L}))},lz=function(t,e,n){return n.getInitialPos().bind((function(r){var o;switch(n.clearInitialPos(),r.position){case"static":return Y.some({morph:"static"});case"absolute":var i=Gq(t).getOr(vn()),a=yo(i),u=null!==(o=i.dom.scrollTop)&&void 0!==o?o:0;return Y.some({morph:"absolute",positionCss:vd("absolute",zt(r.style,"left").map((function(t){return e.x-a.x})),zt(r.style,"top").map((function(t){return e.y-a.y+u})),zt(r.style,"right").map((function(t){return a.right-e.right})),zt(r.style,"bottom").map((function(t){return a.bottom-e.bottom})))});default:return Y.none()}}))},fz=function(t,e,n){return uz(t,e,n).filter((function(t){var r=t.box;return oz(n.getModes(),r,e)})).bind((function(e){var r=e.box;return lz(t,r,n)}))},dz=function(t){switch(t.location){case"top":return Y.some({morph:"fixed",positionCss:vd("fixed",Y.some(t.leftX),Y.some(t.topY),Y.none(),Y.none())});case"bottom":return Y.some({morph:"fixed",positionCss:vd("fixed",Y.some(t.leftX),Y.none(),Y.none(),Y.some(t.bottomY))});default:return Y.none()}},pz=function(t,e,n){var r=yo(t),o=Co(),i=rz(n.getModes(),{win:o,box:r},e);return"top"===i.location||"bottom"===i.location?(cz(t,r,e,n,i),dz(i)):Y.none()},mz=function(t,e,n){return fz(t,e,n).orThunk((function(){return e.optScrollEnv.bind((function(r){return uz(t,e,n)})).bind((function(t){var n=t.box,r=t.location,o=Co(),i=nz({win:o,box:n}),a="top"===r?tz(o,i,e):ez(o,i,e);return dz(a)}))}))},hz=function(t,e,n){var r=t.element,o=Vt(Pn(r,"position"),"fixed");return o?mz(r,e,n):pz(r,e,n)},vz=function(t,e,n){var r=t.element;return uz(r,e,n).bind((function(t){var e=t.box;return lz(r,e,n)}))},gz=function(t,e,n,r){var o=yo(t),i=Co(),a=nz({win:i,box:o}),u=r(i,a,e);return"bottom"===u.location||"top"===u.location?(sz(t,o,e,n,u),dz(u)):Y.none()},bz=function(t,e,n){n.setDocked(!1),ut(["left","right","top","bottom","position"],(function(e){return Ln(t.element,e)})),e.onUndocked(t)},yz=function(t,e,n,r){var o="fixed"===r.position;n.setDocked(o),bd(t.element,r);var i=o?e.onDocked:e.onUndocked;i(t)},xz=function(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];e.contextual.each((function(e){e.lazyContext(t).each((function(i){var a=Zq(i,r.bounds);if(a!==n.isVisible())if(n.setVisible(a),o&&!a)Is(t.element,[e.fadeOutClass]),e.onHide(t);else{var u=a?Yq:Xq;u(t,e)}}))}))},wz=function(t,e,n,r,o){xz(t,e,n,r,!0),yz(t,e,n,o.positionCss)},_z=function(t,e,n,r,o){switch(o.morph){case"static":return bz(t,e,n);case"absolute":return yz(t,e,n,o.positionCss);case"fixed":return wz(t,e,n,r,o)}},Cz=function(t,e,n){var r=e.lazyViewport(t);xz(t,e,n,r),hz(t,r,n).each((function(o){_z(t,e,n,r,o)}))},kz=function(t,e,n){var r=t.element;n.setDocked(!1);var o=e.lazyViewport(t);vz(t,o,n).each((function(r){switch(r.morph){case"static":bz(t,e,n);break;case"absolute":yz(t,e,n,r.positionCss);break}})),n.setVisible(!0),e.contextual.each((function(e){js(r,[e.fadeInClass,e.fadeOutClass,e.transitionClass]),e.onShow(t)})),Oz(t,e,n)},Oz=function(t,e,n){t.getSystem().isConnected()&&Cz(t,e,n)},Sz=function(t,e,n){n.isDocked()&&kz(t,e,n)},Ez=function(t){return function(e,n,r){var o=n.lazyViewport(e),i=gz(e.element,o,r,t);i.each((function(t){wz(e,n,r,o,t)}))}},Tz=Ez(tz),Az=Ez(ez),Nz=function(t,e,n){return n.isDocked()},Rz=function(t,e,n,r){return n.setModes(r)},Dz=function(t,e,n){return n.getModes()},Pz=Object.freeze({__proto__:null,refresh:Oz,reset:Sz,isDocked:Nz,getModes:Dz,setModes:Rz,forceDockToTop:Tz,forceDockToBottom:Az}),Mz=function(t,e){return ec([mc(gu(),(function(n,r){t.contextual.each((function(t){if(Ls(n.element,t.transitionClass)){js(n.element,[t.transitionClass,t.fadeInClass]);var o=e.isVisible()?t.onShown:t.onHidden;o(n)}r.stop()}))})),ic(Bu(),(function(n,r){Oz(n,t,e)})),ic(Hu(),(function(n,r){Oz(n,t,e)})),ic(Lu(),(function(n,r){Sz(n,t,e)}))])},Bz=Object.freeze({__proto__:null,events:Mz}),Lz=[ga("contextual",[na("fadeInClass"),na("fadeOutClass"),na("transitionClass"),ia("lazyContext"),Yl("onShow"),Yl("onShown"),Yl("onHide"),Yl("onHidden")]),Oa("lazyViewport",(function(){return{bounds:Co(),optScrollEnv:Y.none()}})),Ea("modes",["top","bottom"],Pi),Yl("onDocked"),Yl("onUndocked")],Iz=function(t){var e=Aa(!1),n=Aa(!0),r=Vd(),o=Aa(t.modes),i=function(){return"docked:  ".concat(e.get(),", visible: ").concat(n.get(),", modes: ").concat(o.get().join(","))};return Qc({isDocked:e.get,setDocked:e.set,getInitialPos:r.get,setInitialPos:r.set,clearInitialPos:r.clear,isVisible:n.get,setVisible:n.set,getModes:o.get,setModes:o.set,readState:i})},jz=Object.freeze({__proto__:null,init:Iz}),Fz=rd({fields:Lz,name:"docking",active:Bz,apis:Pz,state:jz}),qz=q(Rc("toolbar-height-change")),zz={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},Uz="tox-tinymce--toolbar-sticky-on",Hz="tox-tinymce--toolbar-sticky-off",Vz=function(t,e){var n=Ve(e),r=Ge(e),o=r.dom.innerHeight,i=ro(n),a=ve.fromDom(t.elm),u=xo(a),c=qn(a),s=u.y,l=s+c,f=Gn(e),d=qn(e),p=f.top,m=p+d,h=Math.abs(p-i.top)<2,v=Math.abs(m-(i.top+o))<2;if(h&&s<m)oo(i.left,s-d,n);else if(v&&l>p){var g=s-o+c+d;oo(i.left,g,n)}},Wz=function(t,e){return nt(Fz.getModes(t),e)},$z=function(t){var e=function(t){return zn(t)+(parseInt(Rn(t,"margin-top"),10)||0)+(parseInt(Rn(t,"margin-bottom"),10)||0)},n=t.element;Ye(n).each((function(r){var o="padding-"+Fz.getModes(t)[0];if(Fz.isDocked(t)){var i=Zn(r);Tn(n,"width",i+"px"),Tn(r,o,e(n)+"px")}else Ln(n,"width"),Ln(r,o)}))},Gz=function(t,e){e?(Bs(t,zz.fadeOutClass),Is(t,[zz.transitionClass,zz.fadeInClass])):(Bs(t,zz.fadeInClass),Is(t,[zz.fadeOutClass,zz.transitionClass]))},Kz=function(t,e){var n=ve.fromDom(t.getContainer());e?(Ps(n,Uz),Bs(n,Hz)):(Ps(n,Hz),Bs(n,Uz))},Yz=function(t,e){var n=Ve(e);pd(n).filter((function(t){return!Ue(e,t)})).filter((function(e){return Ue(e,ve.fromDom(n.dom.body))||He(t,e)})).each((function(){return ld(e)}))},Xz=function(t,e){return md(t).orThunk((function(){return e().toOptional().bind((function(t){return md(t.element)}))}))},Zz=function(t,e,n){t.inline||(e.header.isPositionedAtTop()||t.on("ResizeEditor",(function(){n().each(Fz.reset)})),t.on("ResizeWindow ResizeEditor",(function(){n().each($z)})),t.on("SkinLoaded",(function(){n().each((function(t){Fz.isDocked(t)?Fz.reset(t):Fz.refresh(t)}))})),t.on("FullscreenStateChanged",(function(){n().each(Fz.reset)}))),t.on("AfterScrollIntoView",(function(t){n().each((function(e){Fz.refresh(e);var n=e.element;By(n)&&Vz(t,n)}))})),t.on("PostRender",(function(){Kz(t,!1)}))},Jz=function(t){return t().map(Fz.isDocked).getOr(!1)},Qz=function(){return[ud.config({channels:u({},qz(),{onReceive:$z})})]},tU=function(t,e){var n=Vd(),r=e.getSink,o=function(t){r().each((function(e){return t(e.element)}))},i=function(e){t.inline||$z(e),Kz(t,Fz.isDocked(e)),e.getSystem().broadcastOn([rv()],{}),r().each((function(t){return t.getSystem().broadcastOn([rv()],{})}))},u=t.inline?[]:Qz();return[qw.config({}),Fz.config({contextual:a({lazyContext:function(e){var n=zn(e.element),r=t.inline?t.getContentAreaContainer():t.getContainer();return Y.from(r).map((function(r){var o=yo(ve.fromDom(r)),i=tR(t,e.element);return i.fold((function(){var t=o.height-n,r=o.y+(Wz(e,"top")?0:n);return bo(o.x,r,o.width,t)}),(function(t){var e=wo(o,eR(t));return bo(e.x,e.y,e.width,e.height-n)}))}))},onShow:function(){o((function(t){return Gz(t,!0)}))},onShown:function(t){o((function(t){return js(t,[zz.transitionClass,zz.fadeInClass])})),n.get().each((function(e){Yz(t.element,e),n.clear()}))},onHide:function(t){Xz(t.element,r).fold(n.clear,n.set),o((function(t){return Gz(t,!1)}))},onHidden:function(){o((function(t){return js(t,[zz.transitionClass])}))}},zz),lazyViewport:function(e){var n=tR(t,e.element);return n.fold((function(){var n=Co(),r=KC(t),o=n.y+(Wz(e,"top")?r:0),i=n.height-(Wz(e,"bottom")?r:0);return{bounds:bo(n.x,o,n.width,i),optScrollEnv:Y.none()}}),(function(t){var e=eR(t);return{bounds:e,optScrollEnv:Y.some({currentScrollTop:t.element.dom.scrollTop,scrollElmTop:Gn(t.element).top})}}))},modes:[e.header.getDockingMode()],onDocked:i,onUndocked:i})].concat(c(u))},eU=Object.freeze({__proto__:null,setup:Zz,isDocked:Jz,getBehaviours:tU}),nU=function(t){var e=t.editor,n=t.sticky?tU:Wq;return{uid:t.uid,dom:t.dom,components:t.components,behaviours:ed(n(e,t.sharedBackstage))}},rU=ki([jO,ta("items",Si([Ai([FO,sa("items",Pi)]),Pi]))].concat(bS)),oU=function(t){return Vi("GroupToolbarButton",rU,t)},iU=[pa("text"),pa("tooltip"),pa("icon"),xa("search",!1,Si([Mi,ki([pa("placeholder")])],(function(t){return A(t)?t?Y.some({placeholder:Y.none()}):Y.none():Y.some(t)}))),ia("fetch"),Oa("onSetup",(function(){return L}))],aU=ki([jO].concat(iU)),uU=function(t){return Vi("menubutton",aU,t)},cU=ki([jO,QO,JO,ZO,nS,WO,YO,Ca("presets","normal",["normal","color","listpreview"]),uS(1),GO,KO]),sU=function(t){return Vi("SplitButton",cU,t)},lU=function(t,e){var n=function(t,n){var r=at(n,(function(t){var n={type:"menubutton",text:t.text,fetch:function(e){e(t.getItems())}},r=uU(n).mapError((function(t){return Gi(t)})).getOrDie();return yI(r,"tox-mbtn",e.backstage,Y.some("menuitem"))}));Aw.set(t,r)},r={focus:hw.focusIn,setMenus:n};return{uid:t.uid,dom:t.dom,components:[],behaviours:ed([Aw.config({}),Rw("menubar-events",[hc((function(e){t.onSetup(e)})),ic(cu(),(function(t,e){Ol(t.element,".tox-mbtn--active").each((function(n){Sl(e.event.target,".tox-mbtn").each((function(e){Ue(n,e)||t.getSystem().getByDom(n).each((function(n){t.getSystem().getByDom(e).each((function(t){DN.expand(t),DN.close(n),qw.focus(t)}))}))}))}))})),ic(zu(),(function(t,e){e.event.prevFocus.bind((function(e){return t.getSystem().getByDom(e).toOptional()})).each((function(n){e.event.newFocus.bind((function(e){return t.getSystem().getByDom(e).toOptional()})).each((function(t){DN.isOpen(n)&&(DN.expand(t),DN.close(n))}))}))}))]),hw.config({mode:"flow",selector:".tox-mbtn",onEscape:function(e){return t.onEscape(e),Y.some(!0)}}),LR.config({})]),apis:r,domModification:{attributes:{role:"menubar"}}}},fU=Yg({factory:lU,name:"silver.Menubar",configFields:[Qi("dom"),Qi("uid"),Qi("onEscape"),Qi("backstage"),ya("onSetup",L)],apis:{focus:function(t,e){t.focus(e)},setMenus:function(t,e,n){t.setMenus(e,n)}}}),dU="⚡️Upgrade",pU="https://www.tiny.cloud/tinymce-self-hosted-premium-features/?utm_source=TinyMCE&utm_medium=SPAP&utm_campaign=SPAP&utm_id=editorreferral",mU=function(t){return{uid:t.uid,dom:t.dom,components:[{dom:{tag:"a",attributes:{href:pU,rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:dU}}]}},hU="container",vU=[jv("slotBehaviours",[])],gU=function(t){return"<alloy.field."+t+">"},bU=function(t){var e=function(){var t=[],e=function(e,n){return t.push(e),Sg(hU,gU(e),n)};return{slot:e,record:q(t)}}(),n=t(e),r=e.record(),o=at(r,(function(t){return vg({name:t,pname:gU(t)})}));return Hg(hU,vU,o,yU,n)},yU=function(t,e){var n=function(e){return Bg(t)},r=function(e,n){return Rg(e,t,n)},o=function(e,n){return function(r,o){return Rg(r,t,o).map((function(t){return e(t,o)})).getOr(n)}},i=function(t){return function(e,n){ut(n,(function(n){return t(e,n)}))}},a=function(t,e){return"true"!==wn(t.element,"aria-hidden")},u=function(t,e){if(!a(t)){var n=t.element;Ln(n,"display"),kn(n,"aria-hidden"),Yu(t,Uu(),{name:e,visible:!0})}},c=function(t,e){if(a(t)){var n=t.element;Tn(n,"display","none"),yn(n,"aria-hidden","true"),Yu(t,Uu(),{name:e,visible:!1})}},s=o(a,!1),l=o(c),f=i(l),d=function(t){return f(t,n())},p=o(u),m={getSlotNames:n,getSlot:r,isShowing:s,hideSlot:l,hideAllSlots:d,showSlot:p};return{uid:t.uid,dom:t.dom,components:e,behaviours:Fv(t.slotBehaviours),apis:m}},xU=Dt({getSlotNames:function(t,e){return t.getSlotNames(e)},getSlot:function(t,e,n){return t.getSlot(e,n)},isShowing:function(t,e,n){return t.isShowing(e,n)},hideSlot:function(t,e,n){return t.hideSlot(e,n)},hideAllSlots:function(t,e){return t.hideAllSlots(e)},showSlot:function(t,e,n){return t.showSlot(e,n)}},(function(t){return Zc(t)})),wU=a(a({},xU),{sketch:bU}),_U=ki([JO,QO,Oa("onShow",L),Oa("onHide",L),YO]),CU=function(t){return Vi("sidebar",_U,t)},kU=function(t){var e=t.ui.registry.getAll(),n=e.sidebars;ut(At(n),(function(e){var r=n[e],o=function(){return Vt(Y.from(t.queryCommandValue("ToggleSidebar")),e)};t.ui.registry.addToggleButton(e,{icon:r.icon,tooltip:r.tooltip,onAction:function(n){t.execCommand("ToggleSidebar",!1,e),n.setActive(o())},onSetup:function(e){e.setActive(o());var n=function(){return e.setActive(o())};return t.on("ToggleSidebar",n),function(){t.off("ToggleSidebar",n)}}})}))},OU=function(t){return{element:function(){return t.element.dom}}},SU=function(t,e){var n=at(At(e),(function(t){var n=e[t],r=Wi(CU(n));return{name:t,getApi:OU,onSetup:r.onSetup,onShow:r.onShow,onHide:r.onHide}}));return at(n,(function(e){var r=Aa(L);return t.slot(e.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:iE.unnamedEvents([NE(e,r),RE(e,r),ic(Uu(),(function(t,e){var r=e.event,o=mt(n,(function(t){return t.name===r.name}));o.each((function(e){var n=r.visible?e.onShow:e.onHide;n(e.getApi(t))}))}))])})}))},EU=function(t){return wU.sketch((function(e){return{dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:SU(e,t),slotBehaviours:iE.unnamedEvents([hc((function(t){return wU.hideAllSlots(t)}))])}}))},TU=function(t,e,n){var r=eb.getCurrent(t);r.each((function(r){Aw.set(r,[EU(e)]);var o=null===n||void 0===n?void 0:n.toLowerCase();k(o)&&Ut(e,o)&&eb.getCurrent(r).each((function(e){wU.showSlot(e,o),gI.immediateGrow(r),Ln(r.element,"width"),AU(t.element,"region")}))}))},AU=function(t,e){yn(t,"role",e)},NU=function(t,e){var n=eb.getCurrent(t);n.each((function(n){var r=eb.getCurrent(n);r.each((function(r){gI.hasGrown(n)?wU.isShowing(r,e)?(gI.shrink(n),AU(t.element,"presentation")):(wU.hideAllSlots(r),wU.showSlot(r,e),AU(t.element,"region")):(wU.hideAllSlots(r),wU.showSlot(r,e),gI.grow(n),AU(t.element,"region"))}))}))},RU=function(t){var e=eb.getCurrent(t);return e.bind((function(t){var e=gI.isGrowing(t)||gI.hasGrown(t);if(e){var n=eb.getCurrent(t);return n.bind((function(t){return mt(wU.getSlotNames(t),(function(e){return wU.isShowing(t,e)}))}))}return Y.none()}))},DU=Rc("FixSizeEvent"),PU=Rc("AutoSizeEvent"),MU=function(t){return{uid:t.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:ed([LR.config({}),qw.config({}),gI.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:function(t){var e=eb.getCurrent(t);e.each(wU.hideAllSlots),Ku(t,PU)},onGrown:function(t){Ku(t,PU)},onStartGrow:function(t){Yu(t,DU,{width:Pn(t.element,"width").getOr("")})},onStartShrink:function(t){Yu(t,DU,{width:Zn(t.element)+"px"})}}),Aw.config({}),eb.config({find:function(t){var e=Aw.contents(t);return Ot(e)}})])}],behaviours:ed([mB.childAt(0),Rw("sidebar-sliding-events",[ic(DU,(function(t,e){Tn(t.element,"width",e.event.width)})),ic(PU,(function(t,e){Ln(t.element,"width")}))])])}},BU=function(t,e,n,r){yn(t.element,"aria-busy",!0);var o=e.getRoot(t).getOr(t),i=ed([hw.config({mode:"special",onTab:function(){return Y.some(!0)},onShiftTab:function(){return Y.some(!0)}}),qw.config({})]),a=r(o,i),u=o.getSystem().build(a);Aw.append(o,vl(u)),u.hasConfigured(hw)&&e.focus&&hw.focusIn(u),n.isBlocked()||e.onBlock(t),n.blockWith((function(){return Aw.remove(o,u)}))},LU=function(t,e,n){kn(t.element,"aria-busy"),n.isBlocked()&&e.onUnblock(t),n.clear()},IU=Object.freeze({__proto__:null,block:BU,unblock:LU}),jU=[Oa("getRoot",Y.none),ka("focus",!0),Yl("onBlock"),Yl("onUnblock")],FU=function(){var t=Ud(),e=function(e){t.set({destroy:e})};return Qc({readState:t.isSet,blockWith:e,clear:t.clear,isBlocked:t.isSet})},qU=Object.freeze({__proto__:null,init:FU}),zU=rd({fields:jU,name:"blocking",apis:IU,state:qU}),UU=function(t){var e=void 0!==t.dom.attributes?t.dom.attributes:[];return dt(e,(function(t,e){return"class"===e.name?t:a(a({},t),{},u({},e.name,e.value))}),{})},HU=function(t){return Array.prototype.slice.call(t.dom.classList,0)},VU=function(t){var e=ve.fromHtml(t),n=Qe(e),r=UU(e),o=HU(e),i=0===n.length?{}:{innerHtml:xc(e)};return a({tag:Ae(e),classes:o,attributes:r},i)},WU=function(t){return function(e,n){return{dom:{tag:"div",attributes:{"aria-label":t.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:VU('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}}},$U=function(t){return eb.getCurrent(t).each((function(t){return ld(t.element)}))},GU=function(t,e){var n="tabindex",r="data-mce-".concat(n);Y.from(t.iframeElement).map(ve.fromDom).each((function(t){e?(_n(t,n).each((function(e){return yn(t,r,e)})),yn(t,n,-1)):(kn(t,n),_n(t,r).each((function(e){yn(t,n,e),kn(t,r)})))}))},KU=function(t,e,n,r){var o=e.element;if(GU(t,n),n)zU.block(e,WU(r)),Ln(o,"display"),kn(o,"aria-hidden"),t.hasFocus()&&$U(e);else{var i=eb.getCurrent(e).exists((function(t){return dd(t.element)}));zU.unblock(e),Tn(o,"display","none"),yn(o,"aria-hidden","true"),i&&t.focus()}},YU=function(t){return{uid:t.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:ed([Aw.config({}),zU.config({focus:!1}),eb.config({find:function(t){return Ot(t.components())}})]),components:[]}},XU=function(t){return"focusin"===t.type},ZU=function(t){if(XU(t)){var e=t.composed?Ot(t.composedPath()):Y.from(t.target);return e.map(ve.fromDom).filter(Pe).exists((function(t){return Ls(t,"mce-pastebin")}))}return!1},JU=function(t,e,n){var r=Aa(!1),o=Vd(),i=function(n){r.get()&&!ZU(n)&&(n.preventDefault(),$U(e()),t.editorManager.setActive(t))};t.inline||t.on("PreInit",(function(){t.dom.bind(t.getWin(),"focusin",i),t.on("BeforeExecCommand",(function(t){"mcefocus"===t.command.toLowerCase()&&!0!==t.value&&i(t)}))}));var a=function(o){o!==r.get()&&(r.set(o),KU(t,e(),o,n.providers),BT(t,o))};t.on("ProgressState",(function(e){if(o.on(clearTimeout),M(e.time)){var n=nC.setEditorTimeout(t,(function(){return a(e.state)}),e.time);o.set(n)}else a(e.state),o.clear()}))},QU=function(t,e){var n={len:0,list:[]},r=dt(t,(function(t,n){var r=e(n,t.len);return r.fold(q(t),(function(e){return{len:e.finish,list:t.list.concat([e])}}))}),n);return r.list},tH=function(t,e,n){return{within:t,extra:e,withinWidth:n}},eH=function(t,e,n){var r=QU(t,(function(t,e){var r=n(t);return Y.some({element:t,start:e,finish:e+r,width:r})})),o=lt(r,(function(t){return t.finish<=e})),i=ft(o,(function(t,e){return t+e.width}),0),a=r.slice(o.length);return{within:o,extra:a,withinWidth:i}},nH=function(t){return at(t,(function(t){return t.element}))},rH=function(t,e,n){var r=nH(t.concat(e));return tH(r,[],n)},oH=function(t,e,n,r){var o=nH(t).concat([n]);return tH(o,nH(e),r)},iH=function(t,e,n){return tH(nH(t),[],n)},aH=function(t,e,n){var r=eH(e,t,n);return 0===r.extra.length?Y.some(r):Y.none()},uH=function(t,e,n,r){var o=aH(t,e,n).getOrThunk((function(){return eH(e,t-n(r),n)})),i=o.within,a=o.extra,u=o.withinWidth;return 1===a.length&&a[0].width<=n(r)?rH(i,a,u):a.length>=1?oH(i,a,r,u):iH(i,a,u)},cH=function(t,e){var n=at(e,(function(t){return vl(t)}));Uq.setGroups(t,n)},sH=function(t){return Tt(t,(function(t){return md(t.element).bind((function(e){return t.getSystem().getByDom(e).toOptional()}))}))},lH=function(t,e,n){var r=e.builtGroups.get();if(0!==r.length){var o=Dg(t,e,"primary"),i=aN.getCoupled(t,"overflowGroup");Tn(o.element,"visibility","hidden");var a=r.concat([i]),u=sH(a);n([]),cH(o,a);var c=Zn(o.element),s=uH(c,e.builtGroups.get(),(function(t){return Zn(t.element)}),i);0===s.extra.length?(Aw.remove(o,i),n([])):(cH(o,s.within),n(s.extra)),Ln(o.element,"visibility"),In(o.element),u.each(qw.focus)}},fH=q([jv("splitToolbarBehaviours",[aN]),Zi("builtGroups",(function(){return Aa([])}))]),dH=q([Gl(["overflowToggledClass"]),ha("getOverflowBounds"),Qi("lazySink"),Zi("overflowGroups",(function(){return Aa([])})),Yl("onOpened"),Yl("onClosed")].concat(fH())),pH=q([vg({factory:Uq,schema:jq(),name:"primary"}),gg({schema:jq(),name:"overflow"}),gg({name:"overflow-button"}),gg({name:"overflow-group"})]),mH=q((function(t,e){Qn(t,Math.floor(e))})),hH=q([Gl(["toggledClass"]),Qi("lazySink"),ia("fetch"),ha("getBounds"),ga("fireDismissalEventInstead",[ya("event",Fu())]),Op(),Yl("onToggled")]),vH=q([gg({name:"button",overrides:function(t){return{dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:ed([i_.config({toggleClass:t.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:t.onToggled})])}}}),gg({factory:Uq,schema:jq(),name:"toolbar",overrides:function(t){return{toolbarBehaviours:ed([hw.config({mode:"cyclic",onEscape:function(e){return Rg(e,t,"button").each(qw.focus),Y.none()}})])}}})]),gH=Vd(),bH=function(t,e){gH.set(!0),yH(t,e),gH.clear()},yH=function(t,e){var n=aN.getCoupled(t,"toolbarSandbox");ev.isOpen(n)?ev.close(n):ev.open(n,e.toolbar())},xH=function(t,e,n,r){var o=n.getBounds.map((function(t){return t()})),i=n.lazySink(t).getOrDie();gh.positionWithinBounds(i,e,{anchor:{type:"hotspot",hotspot:t,layouts:r,overrides:{maxWidthFunction:mH()}}},o)},wH=function(t,e,n,r,o){Uq.setGroups(e,o),xH(t,e,n,r),i_.on(t)},_H=function(t,e,n){var r=Al(),o=function(o,i){var a=gH.get().getOr(!1);n.fetch().get((function(o){wH(t,i,n,e.layouts,o),r.link(t.element),a||hw.focusIn(i)}))},i=function(){i_.off(t),gH.get().getOr(!1)||qw.focus(t),r.unlink(t.element)};return{dom:{tag:"div",attributes:{id:r.id}},behaviours:ed([hw.config({mode:"special",onEscape:function(t){return ev.close(t),Y.some(!0)}}),ev.config({onOpen:o,onClose:i,isPartOf:function(e,n,r){return Rl(n,r)||Rl(t,r)},getAttachPoint:function(){return n.lazySink(t).getOrDie()}}),ud.config({channels:a(a({},av(a({isExtraPart:G},n.fireDismissalEventInstead.map((function(t){return{fireEventInstead:{event:t.event}}})).getOr({})))),cv({doReposition:function(){ev.getState(aN.getCoupled(t,"toolbarSandbox")).each((function(r){xH(t,r,n,e.layouts)}))}}))})])}},CH=function(t,e,n,r){return a(a({},oC.sketch(a(a({},r.button()),{},{action:function(t){yH(t,r)},buttonBehaviours:zv.augment({dump:r.button().buttonBehaviours},[aN.config({others:{toolbarSandbox:function(e){return _H(e,n,t)}}})])}))),{},{apis:{setGroups:function(e,r){ev.getState(aN.getCoupled(e,"toolbarSandbox")).each((function(o){wH(e,o,t,n.layouts,r)}))},reposition:function(e){ev.getState(aN.getCoupled(e,"toolbarSandbox")).each((function(r){xH(e,r,t,n.layouts)}))},toggle:function(t){yH(t,r)},toggleWithoutFocusing:function(t){bH(t,r)},getToolbar:function(t){return ev.getState(aN.getCoupled(t,"toolbarSandbox"))},isOpen:function(t){return ev.isOpen(aN.getCoupled(t,"toolbarSandbox"))}}})},kH=Xg({name:"FloatingToolbarButton",factory:CH,configFields:hH(),partFields:vH(),apis:{setGroups:function(t,e,n){t.setGroups(e,n)},reposition:function(t,e){t.reposition(e)},toggle:function(t,e){t.toggle(e)},toggleWithoutFocusing:function(t,e){t.toggleWithoutFocusing(e)},getToolbar:function(t,e){return t.getToolbar(e)},isOpen:function(t,e){return t.isOpen(e)}}}),OH=q([Qi("items"),Gl(["itemSelector"]),jv("tgroupBehaviours",[hw])]),SH=q([yg({name:"items",unit:"item"})]),EH=function(t,e,n,r){return{uid:t.uid,dom:t.dom,components:e,behaviours:qv(t.tgroupBehaviours,[hw.config({mode:"flow",selector:t.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}},TH=Xg({name:"ToolbarGroup",configFields:OH(),partFields:SH(),factory:EH}),AH=function(t){return at(t,(function(t){return vl(t)}))},NH=function(t,e,n){lH(t,n,(function(r){n.overflowGroups.set(r),e.getOpt(t).each((function(t){kH.setGroups(t,AH(r))}))}))},RH=function(t,e,n,r){var o=iC(kH.sketch({fetch:function(){return mN.nu((function(e){e(AH(t.overflowGroups.get()))}))},layouts:{onLtr:function(){return[Rf,Nf]},onRtl:function(){return[Nf,Rf]},onBottomLtr:function(){return[Pf,Df]},onBottomRtl:function(){return[Df,Pf]}},getBounds:n.getOverflowBounds,lazySink:t.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:t.markers.overflowToggledClass},parts:{button:r["overflow-button"](),toolbar:r.overflow()},onToggled:function(e,n){return t[n?"onOpened":"onClosed"](e)}}));return{uid:t.uid,dom:t.dom,components:e,behaviours:qv(t.splitToolbarBehaviours,[aN.config({others:{overflowGroup:function(){return TH.sketch(a(a({},r["overflow-group"]()),{},{items:[o.asSpec()]}))}}})]),apis:{setGroups:function(e,n){t.builtGroups.set(at(n,e.getSystem().build)),NH(e,o,t)},refresh:function(e){return NH(e,o,t)},toggle:function(t){o.getOpt(t).each((function(t){kH.toggle(t)}))},toggleWithoutFocusing:function(t){o.getOpt(t).each(kH.toggleWithoutFocusing)},isOpen:function(t){return o.getOpt(t).map(kH.isOpen).getOr(!1)},reposition:function(t){o.getOpt(t).each((function(t){kH.reposition(t)}))},getOverflow:function(t){return o.getOpt(t).bind(kH.getToolbar)}},domModification:{attributes:{role:"group"}}}},DH=Xg({name:"SplitFloatingToolbar",configFields:dH(),partFields:pH(),factory:RH,apis:{setGroups:function(t,e,n){t.setGroups(e,n)},refresh:function(t,e){t.refresh(e)},reposition:function(t,e){t.reposition(e)},toggle:function(t,e){t.toggle(e)},toggleWithoutFocusing:function(t,e){t.toggle(e)},isOpen:function(t,e){return t.isOpen(e)},getOverflow:function(t,e){return t.getOverflow(e)}}}),PH=q([Gl(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),Yl("onOpened"),Yl("onClosed")].concat(fH())),MH=q([vg({factory:Uq,schema:jq(),name:"primary"}),vg({factory:Uq,schema:jq(),name:"overflow",overrides:function(t){return{toolbarBehaviours:ed([gI.config({dimension:{property:"height"},closedClass:t.markers.closedClass,openClass:t.markers.openClass,shrinkingClass:t.markers.shrinkingClass,growingClass:t.markers.growingClass,onShrunk:function(e){Rg(e,t,"overflow-button").each((function(t){i_.off(t),qw.focus(t)})),t.onClosed(e)},onGrown:function(e){hw.focusIn(e),t.onOpened(e)},onStartGrow:function(e){Rg(e,t,"overflow-button").each(i_.on)}}),hw.config({mode:"acyclic",onEscape:function(e){return Rg(e,t,"overflow-button").each(qw.focus),Y.some(!0)}})])}}}),gg({name:"overflow-button",overrides:function(t){return{buttonBehaviours:ed([i_.config({toggleClass:t.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])}}}),gg({name:"overflow-group"})]),BH=function(t,e){return Rg(t,e,"overflow").map(gI.hasGrown).getOr(!1)},LH=function(t,e){Rg(t,e,"overflow-button").bind((function(){return Rg(t,e,"overflow")})).each((function(n){IH(t,e),gI.toggleGrow(n)}))},IH=function(t,e){Rg(t,e,"overflow").each((function(n){lH(t,e,(function(t){var e=at(t,(function(t){return vl(t)}));Uq.setGroups(n,e)})),Rg(t,e,"overflow-button").each((function(t){gI.hasGrown(n)&&i_.on(t)})),gI.refresh(n)}))},jH=function(t,e,n,r){var o="alloy.toolbar.toggle",i=function(e,n){var r=at(n,e.getSystem().build);t.builtGroups.set(r)};return{uid:t.uid,dom:t.dom,components:e,behaviours:qv(t.splitToolbarBehaviours,[aN.config({others:{overflowGroup:function(t){return TH.sketch(a(a({},r["overflow-group"]()),{},{items:[oC.sketch(a(a({},r["overflow-button"]()),{},{action:function(e){Ku(t,o)}}))]}))}}}),Rw("toolbar-toggle-events",[ic(o,(function(e){LH(e,t)}))])]),apis:{setGroups:function(e,n){i(e,n),IH(e,t)},refresh:function(e){return IH(e,t)},toggle:function(e){return LH(e,t)},isOpen:function(e){return BH(e,t)}},domModification:{attributes:{role:"group"}}}},FH=Xg({name:"SplitSlidingToolbar",configFields:PH(),partFields:MH(),factory:jH,apis:{setGroups:function(t,e,n){t.setGroups(e,n)},refresh:function(t,e){t.refresh(e)},toggle:function(t,e){t.toggle(e)},isOpen:function(t,e){return t.isOpen(e)}}}),qH=function(t){var e=t.title.fold((function(){return{}}),(function(t){return{attributes:{title:t}}}));return{dom:a({tag:"div",classes:["tox-toolbar__group"]},e),components:[TH.parts.items({})],items:t.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:ed([LR.config({}),qw.config({})])}},zH=function(t){return TH.sketch(qH(t))},UH=function(t,e){var n=hc((function(e){var n=at(t.initGroups,zH);Uq.setGroups(e,n)}));return ed([TE.toolbarButton(t.providers.isDisabled),CE(),hw.config({mode:e,onEscape:t.onEscape,selector:".tox-toolbar__group"}),Rw("toolbar-events",[n])])},HH=function(t){var e=t.cyclicKeying?"cyclic":"acyclic";return{uid:t.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":qH({title:Y.none(),items:[]}),"overflow-button":aj({name:"more",icon:Y.some("more-drawer"),enabled:!0,tooltip:Y.some("More..."),primary:!1,buttonType:Y.none(),borderless:!1},Y.none(),t.providers)},splitToolbarBehaviours:UH(t,e)}},VH=function(t){var e=HH(t),n=4,r=DH.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return DH.sketch(a(a({},e),{},{lazySink:t.getSink,getOverflowBounds:function(){var e=t.moreDrawerData.lazyHeader().element,r=xo(e),o=$e(e),i=xo(o),a=Math.max(o.dom.scrollHeight,i.height);return bo(r.x+n,i.y,r.width-2*n,a)},parts:a(a({},e.parts),{},{overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:t.attributes}}}),components:[r],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:function(e){return t.onToggled(e,!0)},onClosed:function(e){return t.onToggled(e,!1)}}))},WH=function(t){var e=FH.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),n=FH.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),r=HH(t);return FH.sketch(a(a({},r),{},{components:[e,n],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:function(e){e.getSystem().broadcastOn([qz()],{type:"opened"}),t.onToggled(e,!0)},onClosed:function(e){e.getSystem().broadcastOn([qz()],{type:"closed"}),t.onToggled(e,!1)}}))},$H=function(t){var e=t.cyclicKeying?"cyclic":"acyclic";return Uq.sketch({uid:t.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(t.type===W_.scrolling?["tox-toolbar--scrolling"]:[])},components:[Uq.parts.groups({})],toolbarBehaviours:UH(t,e)})},GH=[ZO,JO,pa("tooltip"),Ca("buttonType","secondary",["primary","secondary"]),ka("borderless",!1),ia("onAction")],KH=[].concat(GH,[zO,ra("type",["button"])]),YH=[].concat(GH,[ka("active",!1),ra("type",["togglebutton"])]),XH={button:KH,togglebutton:YH},ZH=[ra("type",["group"]),Ea("buttons",[],Ki("type",XH))],JH=Ki("type",a(a({},XH),{},{group:ZH})),QH=ki([Ea("buttons",[],JH),ia("onShow"),ia("onHide")]),tV=function(t){return Vi("view",QH,t)},eV=function(t,e){var n,r,o,i,u,s="togglebutton"===t.type,l=t.icon.map((function(t){return tL(t,e.icons)})).map(iC),f=function(){return function(n){var r=function(t){l.map((function(r){return r.getOpt(n).each((function(n){Aw.set(n,[tL(t,e.icons)])}))}))},o=function(t){var e=n.element;t?(Ps(e,"tox-button--enabled"),yn(e,"aria-pressed",!0)):(Bs(e,"tox-button--enabled"),kn(e,"aria-pressed"))},i=function(){return Ls(n.element,"tox-button--enabled")};return s?t.onAction({setIcon:r,setActive:o,isActive:i}):"button"===t.type?t.onAction({setIcon:r}):void 0}},d=f(),p=a(a({},t),{},{name:s?t.text.getOr(t.icon.getOr("")):null!==(i=t.text)&&void 0!==i?i:t.icon.getOr(""),primary:"primary"===t.buttonType,buttonType:Y.from(t.buttonType),tooltip:t.tooltip,icon:t.icon,enabled:!0,borderless:t.borderless}),m=uj(null!==(u=t.buttonType)&&void 0!==u?u:"secondary"),h=s?t.text.map(e.translate):Y.some(e.translate(t.text)),v=h.map(ll),g=p.tooltip.or(h).map((function(t){return{"aria-label":e.translate(t),title:e.translate(t)}})).getOr({}),b=l.map((function(t){return t.asSpec()})),y=ME([b,v]),x=t.icon.isSome()&&v.isSome(),w={tag:"button",classes:(n=(r=(o=m.concat.apply(m,c(t.icon.isSome()&&!x?["tox-button--icon"]:[]))).concat.apply(o,c(x?["tox-button--icon-and-text"]:[]))).concat.apply(r,c(t.borderless?["tox-button--naked"]:[]))).concat.apply(n,c("togglebutton"===t.type&&t.active?["tox-button--enabled"]:[])),attributes:g},_=[],C=ij(p,Y.some(d),_,w,y,e);return oC.sketch(C)},nV=function(t,e){return eV(t,e)},rV=function(t,e){return{dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:at(t.buttons,(function(t){return nV(t,e)}))}},oV=zr().deviceType,iV=oV.isPhone(),aV=oV.isTablet(),uV=function(t){var e=!1,n=at(t.buttons,(function(n){return"group"===n.type?(e=!0,rV(n,t.providers)):nV(n,t.providers)}));return{uid:t.uid,dom:{tag:"div",classes:[e?"tox-view__toolbar":"tox-view__header"].concat(c(iV||aV?["tox-view--mobile","tox-view--scrolling"]:[]))},behaviours:ed([qw.config({}),hw.config({mode:"flow",selector:"button, .tox-button",focusInside:km.OnEnterOrSpaceMode})]),components:e?n:[SR.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),SR.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:n})]}},cV=function(t){return{uid:t.uid,dom:{tag:"div",classes:["tox-view__pane"]}}},sV=function(t,e,n,r){var o={getPane:function(e){return Aq.getPart(e,t,"pane")},getOnShow:function(e){return t.viewConfig.onShow},getOnHide:function(e){return t.viewConfig.onHide}};return{uid:t.uid,dom:t.dom,components:e,apis:o}},lV=Xg({name:"silver.View",configFields:[Qi("viewConfig")],partFields:[bg({factory:{sketch:uV},schema:[Qi("buttons"),Qi("providers")],name:"header"}),bg({factory:{sketch:cV},schema:[],name:"pane"})],factory:sV,apis:{getPane:function(t,e){return t.getPane(e)},getOnShow:function(t,e){return t.getOnShow(e)},getOnHide:function(t,e){return t.getOnHide(e)}}}),fV=function(t,e,n){return jt(e,(function(e,r){var o=Wi(tV(e));return t.slot(r,lV.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:o,components:[].concat(c(o.buttons.length>0?[lV.parts.header({buttons:o.buttons,providers:n})]:[]),[lV.parts.pane({})])}))}))},dV=function(t,e){return wU.sketch((function(n){return{dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:fV(n,t,e),slotBehaviours:iE.unnamedEvents([hc((function(t){return wU.hideAllSlots(t)}))])}}))},pV=function(t){return mt(wU.getSlotNames(t),(function(e){return wU.isShowing(t,e)}))},mV=function(t){var e=t.element;Tn(e,"display","none"),yn(e,"aria-hidden","true")},hV=function(t){var e=t.element;Ln(e,"display"),kn(e,"aria-hidden")},vV=function(t){return{getContainer:q(t)}},gV=function(t,e,n){wU.getSlot(t,e).each((function(t){lV.getPane(t).each((function(e){var r=n(t);r(vV(e.element.dom))}))}))},bV=function(t,e){return gV(t,e,lV.getOnShow)},yV=function(t,e){return gV(t,e,lV.getOnHide)},xV=function(t,e){var n=function(t,n){Aw.set(t,[dV(n,e.backstage.shared.providers)])},r=function(t){return eb.getCurrent(t).bind(pV)},o=function(t,e,n,r){return eb.getCurrent(t).exists((function(o){var i=pV(o),a=i.exists((function(t){return r===t})),u=wU.getSlot(o,r).isSome();return u&&(wU.hideAllSlots(o),a?(mV(t),e()):(n(),hV(t),wU.showSlot(o,r),bV(o,r)),i.each((function(t){return yV(o,t)}))),u}))},i={setViews:n,whichView:r,toggleView:o};return{uid:t.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:ed([Aw.config({}),eb.config({find:function(t){var e=Aw.contents(t);return Ot(e)}})]),apis:i}},wV=Yg({factory:xV,name:"silver.ViewWrapper",configFields:[Qi("backstage")],apis:{setViews:function(t,e,n){return t.setViews(e,n)},toggleView:function(t,e,n,r,o){return t.toggleView(e,n,r,o)},whichView:function(t,e){return t.whichView(e)}}}),_V=function(t,e,n){var r=!1,o={getSocket:function(e){return Aq.getPart(e,t,"socket")},setSidebar:function(e,n,r){Aq.getPart(e,t,"sidebar").each((function(t){return TU(t,n,r)}))},toggleSidebar:function(e,n){Aq.getPart(e,t,"sidebar").each((function(t){return NU(t,n)}))},whichSidebar:function(e){return Aq.getPart(e,t,"sidebar").bind(RU).getOrNull()},getHeader:function(e){return Aq.getPart(e,t,"header")},getToolbar:function(e){return Aq.getPart(e,t,"toolbar")},setToolbar:function(e,n){Aq.getPart(e,t,"toolbar").each((function(t){var e=at(n,zH);t.getApis().setGroups(t,e)}))},setToolbars:function(e,n){Aq.getPart(e,t,"multiple-toolbar").each((function(t){var e=at(n,(function(t){return at(t,zH)}));Iq.setItems(t,e)}))},refreshToolbar:function(e){var n=Aq.getPart(e,t,"toolbar");n.each((function(t){return t.getApis().refresh(t)}))},toggleToolbarDrawer:function(e){Aq.getPart(e,t,"toolbar").each((function(t){Xt(t.getApis().toggle,(function(e){return e(t)}))}))},toggleToolbarDrawerWithoutFocusing:function(e){Aq.getPart(e,t,"toolbar").each((function(t){Xt(t.getApis().toggleWithoutFocusing,(function(e){return e(t)}))}))},isToolbarDrawerToggled:function(e){return Aq.getPart(e,t,"toolbar").bind((function(t){return Y.from(t.getApis().isOpen).map((function(e){return e(t)}))})).getOr(!1)},getThrobber:function(e){return Aq.getPart(e,t,"throbber")},focusToolbar:function(e){var n=Aq.getPart(e,t,"toolbar").orThunk((function(){return Aq.getPart(e,t,"multiple-toolbar")}));n.each((function(t){hw.focusIn(t)}))},setMenubar:function(e,n){Aq.getPart(e,t,"menubar").each((function(t){fU.setMenus(t,n)}))},focusMenubar:function(e){Aq.getPart(e,t,"menubar").each((function(t){fU.focus(t)}))},setViews:function(e,n){Aq.getPart(e,t,"viewWrapper").each((function(t){wV.setViews(t,n)}))},toggleView:function(e,n){return Aq.getPart(e,t,"viewWrapper").exists((function(t){return wV.toggleView(t,(function(){return o.showMainView(e)}),(function(){return o.hideMainView(e)}),n)}))},whichView:function(e){return Aq.getPart(e,t,"viewWrapper").bind(wV.whichView).getOrNull()},hideMainView:function(e){r=o.isToolbarDrawerToggled(e),r&&o.toggleToolbarDrawer(e),Aq.getPart(e,t,"editorContainer").each((function(t){var e=t.element;Tn(e,"display","none"),yn(e,"aria-hidden","true")}))},showMainView:function(e){r&&o.toggleToolbarDrawer(e),Aq.getPart(e,t,"editorContainer").each((function(t){var e=t.element;Ln(e,"display"),kn(e,"aria-hidden")})),o.refreshToolbar(e)}};return{uid:t.uid,dom:t.dom,components:e,apis:o,behaviours:t.behaviours}},CV=Nq.optional({factory:fU,name:"menubar",schema:[Qi("backstage")]}),kV=function(t){return t.type===W_.sliding?WH:t.type===W_.floating?VH:$H},OV=Nq.optional({factory:{sketch:function(t){return Iq.sketch({uid:t.uid,dom:t.dom,listBehaviours:ed([hw.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:function(){return $H({type:t.type,uid:Rc("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:t.providers,onEscape:function(){return t.onEscape(),Y.some(!0)}})},setupItem:function(t,e,n,r){Uq.setGroups(e,n)},shell:!0})}},name:"multiple-toolbar",schema:[Qi("dom"),Qi("onEscape")]}),SV=Nq.optional({factory:{sketch:function(t){var e=kV(t),n={type:t.type,uid:t.uid,onEscape:function(){return t.onEscape(),Y.some(!0)},onToggled:function(e,n){return t.onToolbarToggled(n)},cyclicKeying:!1,initGroups:[],getSink:t.getSink,providers:t.providers,moreDrawerData:{lazyToolbar:t.lazyToolbar,lazyMoreButton:t.lazyMoreButton,lazyHeader:t.lazyHeader},attributes:t.attributes};return e(n)}},name:"toolbar",schema:[Qi("dom"),Qi("onEscape"),Qi("getSink")]}),EV=Nq.optional({factory:{sketch:nU},name:"header",schema:[Qi("dom")]}),TV=Nq.optional({factory:{sketch:mU},name:"promotion",schema:[Qi("dom")]}),AV=Nq.optional({name:"socket",schema:[Qi("dom")]}),NV=Nq.optional({factory:{sketch:MU},name:"sidebar",schema:[Qi("dom")]}),RV=Nq.optional({factory:{sketch:YU},name:"throbber",schema:[Qi("dom")]}),DV=Nq.optional({factory:wV,name:"viewWrapper",schema:[Qi("backstage")]}),PV=function(t){return{uid:t.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:t.components}},MV=Nq.optional({factory:{sketch:PV},name:"editorContainer",schema:[]}),BV=Xg({name:"OuterContainer",factory:_V,configFields:[Qi("dom"),Qi("behaviours")],partFields:[EV,CV,SV,OV,AV,NV,TV,RV,DV,MV],apis:{getSocket:function(t,e){return t.getSocket(e)},setSidebar:function(t,e,n,r){t.setSidebar(e,n,r)},toggleSidebar:function(t,e,n){t.toggleSidebar(e,n)},whichSidebar:function(t,e){return t.whichSidebar(e)},getHeader:function(t,e){return t.getHeader(e)},getToolbar:function(t,e){return t.getToolbar(e)},setToolbar:function(t,e,n){t.setToolbar(e,n)},setToolbars:function(t,e,n){t.setToolbars(e,n)},refreshToolbar:function(t,e){return t.refreshToolbar(e)},toggleToolbarDrawer:function(t,e){t.toggleToolbarDrawer(e)},toggleToolbarDrawerWithoutFocusing:function(t,e){t.toggleToolbarDrawerWithoutFocusing(e)},isToolbarDrawerToggled:function(t,e){return t.isToolbarDrawerToggled(e)},getThrobber:function(t,e){return t.getThrobber(e)},setMenubar:function(t,e,n){t.setMenubar(e,n)},focusMenubar:function(t,e){t.focusMenubar(e)},focusToolbar:function(t,e){t.focusToolbar(e)},setViews:function(t,e,n){t.setViews(e,n)},toggleView:function(t,e,n){return t.toggleView(e,n)},whichView:function(t,e){return t.whichView(e)}}}),LV="file edit view insert format tools table help",IV={file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template inserttemplate codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},jV=function(t,e,n){var r=zC(n).split(/[ ,]/);return{text:t.title,getItems:function(){return gt(t.items,(function(t){var n=t.toLowerCase();return 0===n.trim().length||rt(r,(function(t){return t===n}))?[]:"separator"===n||"|"===n?[{type:"separator"}]:e.menuItems[n]?[e.menuItems[n]]:[]}))}}},FV=function(t){return t.split(" ")},qV=function(t,e){var n=a(a({},IV),e.menus),r=At(e.menus).length>0,o=void 0===e.menubar||!0===e.menubar?FV(LV):FV(!1===e.menubar?"":e.menubar),i=lt(o,(function(t){var n=Ut(IV,t);return r?n||zt(e.menus,t).exists((function(t){return Ut(t,"items")})):n})),u=at(i,(function(r){var o=n[r];return jV({title:o.title,items:FV(o.items)},e,t)}));return lt(u,(function(t){var e=function(t){return k(t)||"separator"!==t.type};return t.getItems().length>0&&rt(t.getItems(),e)}))},zV=function(t){var e=function(){t._skinLoaded=!0,AT(t)};return function(){t.initialized?e():t.on("init",e)}},UV=function(t,e){return function(){return NT(t,{message:e})}},HV=function(t,e,n){return t.on("remove",(function(){return n.unload(e)})),n.load(e)},VV=function(t,e){var n=e+"/skin.min.css";return HV(t,n,t.ui.styleSheetLoader)},WV=function(t,e){var n=ln(ve.fromDom(t.getElement()));if(n){var r=e+"/skin.shadowdom.min.css";return HV(t,r,CC.DOM.styleSheetLoader)}return Promise.resolve()},$V=function(t,e){var n=mk(e);return n&&e.contentCSS.push(n+(t?"/content.inline":"/content")+".min.css"),!dk(e)&&k(n)?Promise.all([VV(e,n),WV(e,n)]).then(zV(e),UV(e,"Skin could not be loaded")):Promise.resolve(zV(e)())},GV=H($V,!1),KV=H($V,!0),YV=function(t,e){return function(n){var r=Hd(),o=function(){n.setActive(t.formatter.match(e));var o=t.formatter.formatChanged(e,n.setActive);r.set(o)};return t.initialized?o():t.once("init",o),function(){t.off("init",o),r.clear()}}},XV=function(t,e,n){return function(r){var o=function(){return n(r)},i=function(){n(r),t.on(e,o)};return t.initialized?i():t.once("init",i),function(){t.off("init",i),t.off(e,o)}}},ZV=function(t){return function(e){return function(){t.undoManager.transact((function(){t.focus(),t.execCommand("mceToggleFormat",!1,e.format)}))}}},JV=function(t,e){return function(){return t.execCommand(e)}},QV=function(t,e,n){var r=function(t,r,i,u){var c=e.shared.providers.translate(t.title);if("separator"===t.type)return Y.some({type:"separator",text:c});if("submenu"===t.type){var s=gt(t.getStyleItems(),(function(t){return o(t,r,u)}));return 0===r&&s.length<=0?Y.none():Y.some({type:"nestedmenuitem",text:c,enabled:s.length>0,getSubmenuItems:function(){return gt(t.getStyleItems(),(function(t){return o(t,r,u)}))}})}return Y.some(a({type:"togglemenuitem",text:c,icon:t.icon,active:t.isSelected(u),enabled:!i,onAction:n.onAction(t)},t.getStylePreview().fold((function(){return{}}),(function(t){return{meta:{style:t}}}))))},o=function(t,e,o){var i="formatter"===t.type&&n.isInvalid(t);return 0===e?i?[]:r(t,e,!1,o).toArray():r(t,e,i,o).toArray()},i=function(t){var e=n.getCurrentValue(),r=n.shouldHide?0:1;return gt(t,(function(t){return o(t,r,e)}))},u=function(t,e){return function(n,r){var o=e(),a=i(o),u=hL(a,Mk.CLOSE_ON_EXECUTE,t,{isHorizontalMenu:!1,search:Y.none()});r(u)}};return{validateItems:i,getFetch:u}},tW=function(t,e,n){var r=n.dataset,o="basic"===r.type?function(){return at(r.data,(function(t){return BF(t,n.isSelectedFor,n.getPreviewFor)}))}:r.getData;return{items:QV(t,e,n),getStyleItems:o}},eW=function(t,e,n){var r=tW(t,e,n),o=r.items,i=r.getStyleItems,a=function(t){return{getComponent:q(t)}},u=XV(t,"NodeChange",(function(t){var e=t.getComponent();n.updateText(e)}));return oL({text:n.icon.isSome()?Y.none():n.text,icon:n.icon,tooltip:Y.from(n.tooltip),role:Y.none(),fetch:o.getFetch(e,i),onSetup:u,getApi:a,columns:1,presets:"normal",classes:n.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",e.shared)},nW=function(t){return at(t,(function(t){var e=t,n=t,r=t.split("=");return r.length>1&&(e=r[0],n=r[1]),{title:e,format:n}}))},rW=function(t){return{type:"basic",data:t}};(function(t){t[t["SemiColon"]=0]="SemiColon",t[t["Space"]=1]="Space"})(UN||(UN={}));var oW,iW=function(t,e){return e===UN.SemiColon?t.replace(/;$/,"").split(";"):t.split(" ")},aW=function(t,e,n){var r=t.options.get(e),o=nW(iW(r,n));return{type:"basic",data:o}},uW=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],cW=function(t){var e=function(){return mt(uW,(function(e){return t.formatter.match(e.format)}))},n=function(e){return function(){return t.formatter.match(e)}},r=function(t){return Y.none},o=function(t){var n=e(),r=n.fold(q("left"),(function(t){return t.title.toLowerCase()}));Yu(t,rL,{icon:"align-".concat(r)})},i=rW(uW),a=function(e){return function(){return mt(uW,(function(t){return t.format===e.format})).each((function(e){return t.execCommand(e.command)}))}};return{tooltip:"Align",text:Y.none(),icon:Y.some("align-left"),isSelectedFor:n,getCurrentValue:Y.none,getPreviewFor:r,onAction:a,updateText:o,dataset:i,shouldHide:!1,isInvalid:function(e){return!t.formatter.canApply(e.format)}}},sW=function(t,e){return eW(t,e,cW(t))},lW=function(t,e){var n=tW(t,e,cW(t));t.ui.registry.addNestedMenuItem("align",{text:e.shared.providers.translate("Align"),getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})},fW=function(t,e){var n=e(),r=at(n,(function(t){return t.format}));return Y.from(t.formatter.closest(r)).bind((function(t){return mt(n,(function(e){return e.format===t}))})).orThunk((function(){return Zt(t.formatter.match("p"),{title:"Paragraph",format:"p"})}))},dW=function(t){var e="Paragraph",n=function(e){return function(){return t.formatter.match(e)}},r=function(e){return function(){var n=t.formatter.get(e);return n?Y.some({tag:n.length>0&&(n[0].inline||n[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(e))}):Y.none()}},o=function(n){var r=fW(t,(function(){return i.data})),o=r.fold(q(e),(function(t){return t.title}));Yu(n,nL,{text:o})},i=aW(t,"block_formats",UN.SemiColon);return{tooltip:"Blocks",text:Y.some(e),icon:Y.none(),isSelectedFor:n,getCurrentValue:Y.none,getPreviewFor:r,onAction:ZV(t),updateText:o,dataset:i,shouldHide:!1,isInvalid:function(e){return!t.formatter.canApply(e.format)}}},pW=function(t,e){return eW(t,e,dW(t))},mW=function(t,e){var n=tW(t,e,dW(t));t.ui.registry.addNestedMenuItem("blocks",{text:"Blocks",getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})},hW=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],vW=function(t){var e=t.split(/\s*,\s*/);return at(e,(function(t){return t.replace(/^['"]+|['"]+$/g,"")}))},gW=function(t){var e=function(){var e=vW(t.toLowerCase());return bt(hW,(function(t){return e.indexOf(t.toLowerCase())>-1}))};return 0===t.indexOf("-apple-system")&&e()},bW=function(t){var e="System Font",n=function(){var n=function(t){return t?vW(t)[0]:""},r=t.queryCommandValue("FontName"),o=c.data,i=r?r.toLowerCase():"",a=mt(o,(function(t){var e=t.format;return e.toLowerCase()===i||n(e).toLowerCase()===n(i).toLowerCase()})).orThunk((function(){return Zt(gW(i),{title:e,format:i})}));return{matchOpt:a,font:r}},r=function(t){return function(e){return e.exists((function(e){return e.format===t}))}},o=function(){var t=n(),e=t.matchOpt;return e},i=function(t){return function(){return Y.some({tag:"div",styles:-1===t.indexOf("dings")?{"font-family":t}:{}})}},a=function(e){return function(){t.undoManager.transact((function(){t.focus(),t.execCommand("FontName",!1,e.format)}))}},u=function(t){var e=n(),r=e.matchOpt,o=e.font,i=r.fold(q(o),(function(t){return t.title}));Yu(t,nL,{text:i})},c=aW(t,"font_family_formats",UN.SemiColon);return{tooltip:"Fonts",text:Y.some(e),icon:Y.none(),isSelectedFor:r,getCurrentValue:o,getPreviewFor:i,onAction:a,updateText:u,dataset:c,shouldHide:!1,isInvalid:G}},yW=function(t,e){return eW(t,e,bW(t))},xW=function(t,e){var n=tW(t,e,bW(t));t.ui.registry.addNestedMenuItem("fontfamily",{text:e.shared.providers.translate("Fonts"),getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})},wW={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},_W=function(){var t="[0-9]+",e="[+-]?"+t,n="[eE]"+e,r="\\.",o=function(t){return"(?:".concat(t,")?")},i=["Infinity",t+r+o(t)+o(n),r+t+o(n),t+o(n)].join("|"),a="[+-]?(?:".concat(i,")");return new RegExp("^(".concat(a,")(.*)$"))}(),CW=function(t,e){return rt(e,(function(e){return rt(wW[e],(function(e){return t===e}))}))},kW=function(t,e){var n=Y.from(_W.exec(t));return n.bind((function(t){var n=Number(t[1]),r=t[2];return CW(r,e)?Y.some({value:n,unit:r}):Y.none()}))},OW=function(t,e){return kW(t,e).map((function(t){var e=t.value,n=t.unit;return e+n}))},SW={tab:q(9),escape:q(27),enter:q(13),backspace:q(8),delete:q(46),left:q(37),up:q(38),right:q(39),down:q(40),space:q(32),home:q(36),end:q(35),pageUp:q(33),pageDown:q(34)},EW=function(t,e,n){var r=Y.none(),o=function(t){return t.map((function(t){return Iv.getValue(t)})).getOr("")},i=XV(t,"NodeChange",(function(t){var e=t.getComponent();r=Y.some(e),n.updateInputValue(e)})),a=function(t){return{getComponent:q(t)}},c=Aa(L),s=Rc("custom-number-input-events"),l=function(t,e,i){var a=o(r),u=n.getNewValue(a,t),c=a.length-"".concat(u).length,s=r.map((function(t){return t.element.dom.selectionStart-c})),l=r.map((function(t){return t.element.dom.selectionEnd-c}));n.onAction(u,i),r.each((function(t){Iv.setValue(t,u),e&&(s.each((function(e){return t.element.dom.selectionStart=e})),l.each((function(e){return t.element.dom.selectionEnd=e})))}))},f=function(t,e){return l((function(t,e){return t-e}),t,e)},d=function(t,e){return l((function(t,e){return t+e}),t,e)},p=function(t){return Ye(t.element).fold(Y.none,(function(t){return ld(t),Y.some(!0)}))},m=function(t){return dd(t.element)?(en(t.element).each((function(t){return ld(t)})),Y.some(!0)):Y.none()},h=function(t,n,r,o){var i,a=e.shared.providers.translate(r),c=Rc("altExecuting"),s=function(){return t(!0)};return oC.sketch({dom:{tag:"button",attributes:{title:a,"aria-label":a},classes:o.concat(n)},components:[QB(n,e.shared.providers.icons)],buttonBehaviours:ed([Rw(c,[ic(fu(),(function(e,n){n.event.raw.keyCode!==SW.space()&&n.event.raw.keyCode!==SW.enter()||t(!1)})),ic(hu(),s),ic(nu(),s)])]),eventOrder:(i={},u(i,fu(),[c,"keying"]),u(i,hu(),[c,"alloy.base.behaviour"]),u(i,nu(),[c,"alloy.base.behaviour"]),i)})},v=iC(h((function(t){return f(!1,t)}),"minus","Decrease font size",["highlight-on-focus"])),g=iC(h((function(t){return d(!1,t)}),"plus","Increase font size",["highlight-on-focus"])),b=iC({dom:{tag:"div",classes:["tox-input-wrapper","highlight-on-focus"]},components:[pO.sketch({inputBehaviours:ed([Rw(s,[NE({onSetup:i,getApi:a},c),RE({getApi:a},c)]),Rw("input-update-display-text",[ic(nL,(function(t,e){Iv.setValue(t,e.event.text)})),ic(lu(),(function(t){n.onAction(Iv.getValue(t))})),ic(mu(),(function(t){n.onAction(Iv.getValue(t))}))]),hw.config({mode:"special",onEnter:function(t){return l(z,!0,!0),Y.some(!0)},onEscape:p,onUp:function(t){return d(!0,!1),Y.some(!0)},onDown:function(t){return f(!0,!1),Y.some(!0)},onLeft:function(t,e){return e.cut(),Y.none()},onRight:function(t,e){return e.cut(),Y.none()}})])})],behaviours:ed([qw.config({}),hw.config({mode:"special",onEnter:m,onSpace:m,onEscape:p}),Rw("input-wrapper-events",[ic(cu(),(function(t){ut([v,g],(function(e){var n=ve.fromDom(e.get(t).element.dom);dd(n)&&fd(n)}))}))])])});return{dom:{tag:"div",classes:["tox-number-input"]},components:[v.asSpec(),b.asSpec(),g.asSpec()],behaviours:ed([qw.config({}),hw.config({mode:"flow",focusInside:km.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:function(t){return dd(t.element)?Y.none():(ld(t.element),Y.some(!0))}})])}},TW={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},AW={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},NW=function(t,e){var n=Math.pow(10,e);return Math.round(t*n)/n},RW=function(t,e){return/[0-9.]+px$/.test(t)?NW(72*parseInt(t,10)/96,e||0)+"pt":zt(AW,t).getOr(t)},DW=function(t){return zt(TW,t).getOr("")},PW=function(t){var e=function(){var e=Y.none(),n=u.data,r=t.queryCommandValue("FontSize");if(r)for(var o=function(){var t=RW(r,i),o=DW(t);e=mt(n,(function(e){return e.format===r||e.format===t||e.format===o}))},i=3;e.isNone()&&i>=0;i--)o();return{matchOpt:e,size:r}},n=function(t){return function(e){return e.exists((function(e){return e.format===t}))}},r=function(){var t=e(),n=t.matchOpt;return n},o=q(Y.none),i=function(e){return function(){t.undoManager.transact((function(){t.focus(),t.execCommand("FontSize",!1,e.format)}))}},a=function(t){var n=e(),r=n.matchOpt,o=n.size,i=r.fold(q(o),(function(t){return t.title}));Yu(t,nL,{text:i})},u=aW(t,"font_size_formats",UN.Space);return{tooltip:"Font sizes",text:Y.some("12pt"),icon:Y.none(),isSelectedFor:n,getPreviewFor:o,getCurrentValue:r,onAction:i,updateText:a,dataset:u,shouldHide:!1,isInvalid:G}},MW=function(t,e){return eW(t,e,PW(t))},BW=function(t){var e,n={step:1},r={em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}};return null!==(e=r[t])&&void 0!==e?e:n},LW=16,IW=function(t){return t>=0},jW=function(t){var e=function(){return t.queryCommandValue("FontSize")},n=function(t){return Yu(t,nL,{text:e()})};return{updateInputValue:n,onAction:function(e,n){return t.execCommand("FontSize",!1,e,{skip_focus:!n})},getNewValue:function(n,r){kW(n,["unsupportedLength","empty"]);var o=kW(n,["unsupportedLength","empty"]).or(kW(e(),["unsupportedLength","empty"])),i=o.map((function(t){return t.value})).getOr(LW),a=QC(t),u=o.map((function(t){return t.unit})).filter((function(t){return""!==t})).getOr(a),c=r(i,BW(u).step);return"".concat(IW(c)?c:i).concat(u)}}},FW=function(t,e){return EW(t,e,jW(t))},qW=function(t,e){var n=tW(t,e,PW(t));t.ui.registry.addNestedMenuItem("fontsize",{text:"Font sizes",getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})},zW=function(t,e){var n="Paragraph",r=function(e){return function(){return t.formatter.match(e)}},o=function(e){return function(){var n=t.formatter.get(e);return void 0!==n?Y.some({tag:n.length>0&&(n[0].inline||n[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(e))}):Y.none()}},i=function(e){var r=function t(e){return kF(e)?gt(e.items,t):OF(e)?[{title:e.title,format:e.format}]:[]},o=gt(PF(t),r),i=fW(t,q(o)),a=i.fold(q(n),(function(t){return t.title}));Yu(e,nL,{text:a})};return{tooltip:"Formats",text:Y.some(n),icon:Y.none(),isSelectedFor:r,getCurrentValue:Y.none,getPreviewFor:o,onAction:ZV(t),updateText:i,shouldHide:FC(t),isInvalid:function(e){return!t.formatter.canApply(e.format)},dataset:e}},UW=function(t,e){var n=a({type:"advanced"},e.styles);return eW(t,e,zW(t,n))},HW=function(t,e){var n=a({type:"advanced"},e.styles),r=tW(t,e,zW(t,n));t.ui.registry.addNestedMenuItem("styles",{text:"Formats",getSubmenuItems:function(){return r.items.validateItems(r.getStyleItems())}})},VW=q([Qi("toggleClass"),Qi("fetch"),Zl("onExecute"),ya("getHotspot",Y.some),ya("getAnchorOverrides",q({})),Op(),Zl("onItemExecute"),la("lazySink"),Qi("dom"),Yl("onOpen"),jv("splitDropdownBehaviours",[aN,hw,qw]),ya("matchWidth",!1),ya("useMinWidth",!1),ya("eventOrder",{}),la("role")].concat(TN())),WW=vg({factory:oC,schema:[Qi("dom")],name:"arrow",defaults:function(){return{buttonBehaviours:ed([qw.revoke()])}},overrides:function(t){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(e){e.getSystem().getByUid(t.uid).each(Xu)},buttonBehaviours:ed([i_.config({toggleOnExecute:!1,toggleClass:t.toggleClass})])}}}),$W=vg({factory:oC,schema:[Qi("dom")],name:"button",defaults:function(){return{buttonBehaviours:ed([qw.revoke()])}},overrides:function(t){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(e){e.getSystem().getByUid(t.uid).each((function(n){t.onExecute(n,e)}))}}}}),GW=q([WW,$W,bg({factory:{sketch:function(t){return{uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}}}},schema:[Qi("text")],name:"aria-descriptor"}),gg({schema:[$l()],name:"menu",defaults:function(t){return{onExecute:function(e,n){e.getSystem().getByUid(t.uid).each((function(r){t.onItemExecute(r,e,n)}))}}}}),vN()]),KW=function(t,e,n,r){var o=function(t){eb.getCurrent(t).each((function(t){qb.highlightFirst(t),hw.focusIn(t)}))},i=function(e){var n=o;_N(t,z,e,r,n,ly.HighlightMenuAndItem).get(L)},c=function(t){return i(t),Y.some(!0)},s=function(e){var n=Dg(e,t,"button");return Xu(n),Y.some(!0)},l=a(a({},ec([hc((function(e,n){var r=Rg(e,t,"aria-descriptor");r.each((function(t){var n=Rc("aria");yn(t.element,"id",n),yn(e.element,"aria-describedby",n)}))}))])),u_(Y.some(i))),f={repositionMenus:function(t){i_.isOn(t)&&EN(t)}};return{uid:t.uid,dom:t.dom,components:e,apis:f,eventOrder:a(a({},t.eventOrder),{},u({},Su(),["disabling","toggling","alloy.base.behaviour"])),events:l,behaviours:qv(t.splitDropdownBehaviours,[aN.config({others:{sandbox:function(e){var n=Dg(e,t,"arrow"),r={onOpen:function(){i_.on(n),i_.on(e)},onClose:function(){i_.off(n),i_.off(e)}};return SN(t,e,r)}}}),hw.config({mode:"special",onSpace:s,onEnter:s,onDown:c}),qw.config({}),i_.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:t.role.getOr("button"),"aria-haspopup":!0}}}},YW=Xg({name:"SplitDropdown",configFields:VW(),partFields:GW(),factory:KW,apis:{repositionMenus:function(t,e){return t.repositionMenus(e)}}}),XW=function(t){return{isEnabled:function(){return!xb.isDisabled(t)},setEnabled:function(e){return xb.set(t,!e)},setText:function(e){return Yu(t,nL,{text:e})},setIcon:function(e){return Yu(t,rL,{icon:e})}}},ZW=function(t){return{setActive:function(e){i_.set(t,e)},isActive:function(){return i_.isOn(t)},isEnabled:function(){return!xb.isDisabled(t)},setEnabled:function(e){return xb.set(t,!e)},setText:function(e){return Yu(t,nL,{text:e})},setIcon:function(e){return Yu(t,rL,{icon:e})}}},JW=function(t,e){return t.map((function(t){return{"aria-label":e.translate(t),title:e.translate(t)}})).getOr({})},QW=Rc("focus-button"),t$=function(t,e,n,r,o){var i,a=e.map((function(t){return iC(eL(t,"tox-tbtn",o))})),c=t.map((function(t){return iC(tL(t,o.icons))}));return{dom:{tag:"button",classes:["tox-tbtn"].concat(e.isSome()?["tox-tbtn--select"]:[]),attributes:JW(n,o)},components:ME([c.map((function(t){return t.asSpec()})),a.map((function(t){return t.asSpec()}))]),eventOrder:(i={},u(i,ou(),["focusing","alloy.base.behaviour",YB]),u(i,Iu(),[YB,"toolbar-group-button-events"]),i),buttonBehaviours:ed([TE.toolbarButton(o.isDisabled),CE(),Rw(YB,[hc((function(t,e){return ZB(t)})),ic(nL,(function(t,e){a.bind((function(e){return e.getOpt(t)})).each((function(t){Aw.set(t,[ll(o.translate(e.event.text))])}))})),ic(rL,(function(t,e){c.bind((function(e){return e.getOpt(t)})).each((function(t){Aw.set(t,[tL(e.event.icon,o.icons)])}))})),ic(ou(),(function(t,e){e.event.prevent(),Ku(t,QW)}))])].concat(r.getOr([])))}},e$=function(t,e,n,r){var o=e.shared,i=Aa(L),a={toolbarButtonBehaviours:[],getApi:XW,onSetup:t.onSetup},u=[Rw("toolbar-group-button-events",[NE(a,i),RE(a,i)])];return kH.sketch({lazySink:o.getSink,fetch:function(){return mN.nu((function(e){e(at(n(t.items),zH))}))},markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:t$(t.icon,t.text,t.tooltip,Y.some(u),o.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:r}}}})},n$=function(t,e,n){var r,o=Aa(L),i=t$(t.icon,t.text,t.tooltip,Y.none(),n);return oC.sketch({dom:i.dom,components:i.components,eventOrder:XB,buttonBehaviours:a(a({},ed([Rw("toolbar-button-events",[KB({onAction:t.onAction,getApi:e.getApi}),NE(e,o),RE(e,o)]),TE.toolbarButton((function(){return!t.enabled||n.isDisabled()})),CE()].concat(e.toolbarButtonBehaviours))),{},u({},YB,null===(r=i.buttonBehaviours)||void 0===r?void 0:r[YB]))})},r$=function(t,e){return o$(t,e,[])},o$=function(t,e,n){return n$(t,{toolbarButtonBehaviours:n.length>0?[Rw("toolbarButtonWith",n)]:[],getApi:XW,onSetup:t.onSetup},e)},i$=function(t,e){return a$(t,e,[])},a$=function(t,e,n){return n$(t,{toolbarButtonBehaviours:[Aw.config({}),i_.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(n.length>0?[Rw("toolbarToggleButtonWith",n)]:[]),getApi:ZW,onSetup:t.onSetup},e)},u$=function(t,e,n){return function(r){return mN.nu((function(t){return e.fetch(t)})).map((function(o){return Y.from($N($o(EA(Rc("menu-value"),o,(function(n){e.onItemAction(t(r),n)}),e.columns,e.presets,Mk.CLOSE_ON_EXECUTE,e.select.getOr(G),n),{movement:AA(e.columns,e.presets),menuBehaviours:iE.unnamedEvents("auto"!==e.columns?[]:[hc((function(t,n){nE(t,4,eO(e.presets)).each((function(e){var n=e.numRows,r=e.numColumns;hw.setGridSize(t,n,r)}))}))])})))}))}},c$=function(t,e){var n=function(t){return{isEnabled:function(){return!xb.isDisabled(t)},setEnabled:function(e){return xb.set(t,!e)},setIconFill:function(e,n){Ol(t.element,'svg path[id="'.concat(e,'"], rect[id="').concat(e,'"]')).each((function(t){yn(t,"fill",n)}))},setActive:function(e){yn(t.element,"aria-pressed",e),Ol(t.element,"span").each((function(n){t.getSystem().getByDom(n).each((function(t){return i_.set(t,e)}))}))},isActive:function(){return Ol(t.element,"span").exists((function(e){return t.getSystem().getByDom(e).exists(i_.isOn)}))},setText:function(e){return Ol(t.element,"span").each((function(n){return t.getSystem().getByDom(n).each((function(t){return Yu(t,nL,{text:e})}))}))},setIcon:function(e){return Ol(t.element,"span").each((function(n){return t.getSystem().getByDom(n).each((function(t){return Yu(t,rL,{icon:e})}))}))}}},r=Aa(L),o={getApi:n,onSetup:t.onSetup};return YW.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:a({"aria-pressed":!1},JW(t.tooltip,e.providers))},onExecute:function(e){var r=n(e);r.isEnabled()&&t.onAction(r)},onItemExecute:function(t,e,n){},splitDropdownBehaviours:ed([TE.splitButton(e.providers.isDisabled),CE(),Rw("split-dropdown-events",[hc((function(t,e){return ZB(t)})),ic(QW,qw.focus),NE(o,r),RE(o,r)]),hD.config({})]),eventOrder:u({},Iu(),["alloy.base.behaviour","split-dropdown-events"]),toggleClass:"tox-tbtn--enabled",lazySink:e.getSink,fetch:u$(n,t,e.providers),parts:{menu:uO(!1,t.columns,t.presets)},components:[YW.parts.button(t$(t.icon,t.text,Y.none(),Y.some([i_.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),e.providers)),YW.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:dC("chevron-down",e.providers.icons)},buttonBehaviours:ed([TE.splitButton(e.providers.isDisabled),CE(),hC()])}),YW.parts["aria-descriptor"]({text:e.providers.translate("To open the popup, press Shift+Enter")})]})},s$=[{name:"history",items:["undo","redo"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],l$=function(t,e){return function(n,r,o){var i=t(n).mapError((function(t){return Gi(t)})).getOrDie();return e(i,r,o)}},f$={button:l$(xS,(function(t,e){return r$(t,e.shared.providers)})),togglebutton:l$(CS,(function(t,e){return i$(t,e.shared.providers)})),menubutton:l$(uU,(function(t,e){return yI(t,"tox-tbtn",e,Y.none(),!1)})),splitbutton:l$(sU,(function(t,e){return c$(t,e.shared)})),grouptoolbarbutton:l$(oU,(function(t,e,n){var r=n.ui.registry.getAll().buttons,o=function(t){return y$(n,{buttons:r,toolbar:t,allowToolbarGroups:!1},e,Y.none())},i=u({},Cp,e.shared.header.isPositionedAtTop()?Sd.TopToBottom:Sd.BottomToTop);switch(UC(n)){case W_.floating:return e$(t,e,o,i);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}}))},d$=function(t,e,n){return zt(f$,t.type).fold((function(){return console.error("skipping button defined by",t),Y.none()}),(function(r){return Y.some(r(t,e,n))}))},p$={styles:UW,fontsize:MW,fontsizeinput:FW,fontfamily:yW,blocks:pW,align:sW},m$=function(t){var e=at(s$,(function(e){var n=lt(e.items,(function(e){return Ut(t,e)||Ut(p$,e)}));return{name:e.name,items:n}}));return lt(e,(function(t){return t.items.length>0}))},h$=function(t){var e=t.split("|");return at(e,(function(t){return{items:t.trim().split(" ")}}))},v$=function(t){return B(t,(function(t){return Ut(t,"name")&&Ut(t,"items")}))},g$=function(t){var e=t.toolbar,n=t.buttons;return!1===e?[]:void 0===e||!0===e?m$(n):k(e)?h$(e):v$(e)?e:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},b$=function(t,e,n,r,o,i){return zt(e,n.toLowerCase()).orThunk((function(){return i.bind((function(t){return Tt(t,(function(t){return zt(e,t+n.toLowerCase())}))}))})).fold((function(){return zt(p$,n.toLowerCase()).map((function(e){return e(t,o)}))}),(function(e){return"grouptoolbarbutton"!==e.type||r?d$(e,o,t):(console.warn("Ignoring the '".concat(n,"' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.")),Y.none())}))},y$=function(t,e,n,r){var o=g$(e),i=at(o,(function(o){var i=gt(o.items,(function(o){return 0===o.trim().length?[]:b$(t,e.buttons,o,e.allowToolbarGroups,n,r).toArray()}));return{title:Y.from(t.translate(o.name)),items:i}}));return lt(i,(function(t){return t.items.length>0}))},x$=function(t,e,n,r){var o=e.mainUi.outerContainer,i=n.toolbar,a=n.buttons;if(B(i,k)){var u=i.map((function(e){var o={toolbar:e,buttons:a,allowToolbarGroups:n.allowToolbarGroups};return y$(t,o,r,Y.none())}));BV.setToolbars(o,u)}else BV.setToolbar(o,y$(t,n,r,Y.none()))},w$=zr(),_$=w$.os.isiOS()&&w$.os.version.major<=12,C$=function(t,e){var n=e.uiMotherships,r=t.dom,o=t.getWin(),i=t.getDoc().documentElement,a=Aa(Vn(o.innerWidth,o.innerHeight)),u=Aa(Vn(i.offsetWidth,i.offsetHeight)),c=function(){var e=a.get();e.left===o.innerWidth&&e.top===o.innerHeight||(a.set(Vn(o.innerWidth,o.innerHeight)),DT(t))},s=function(){var e=t.getDoc().documentElement,n=u.get();n.left===e.offsetWidth&&n.top===e.offsetHeight||(u.set(Vn(e.offsetWidth,e.offsetHeight)),DT(t))},l=function(e){PT(t,e)};r.bind(o,"resize",c),r.bind(o,"scroll",l);var f=Gd(ve.fromDom(t.getBody()),"load",s);t.on("hide",(function(){ut(n,(function(t){Tn(t.element,"display","none")}))})),t.on("show",(function(){ut(n,(function(t){Ln(t.element,"display")}))})),t.on("NodeChange",s),t.on("remove",(function(){f.unbind(),r.unbind(o,"resize",c),r.unbind(o,"scroll",l),o=null}))},k$=function(t,e,n){Ok(t)&&Ph(n.mainUi.mothership.element,n.popupUi.mothership),Dh(e,n.dialogUi.mothership)},O$=function(){var t=o(r().mark((function t(e,n,o,i,a){var u,c,s,l,f,d,p,m,h,v,g,b;return r().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return u=n.mainUi,c=n.uiMotherships,s=Aa(0),l=u.outerContainer,t.next=5,GV(e);case 5:return f=ve.fromDom(a.targetNode),d=sn(cn(f)),Ph(f,u.mothership),k$(e,d,n),e.on("PostRender",(function(){BV.setSidebar(l,o.sidebar,lk(e)),x$(e,n,o,i),s.set(e.getWin().innerWidth),BV.setMenubar(l,qV(e,o)),BV.setViews(l,o.views),C$(e,n)})),p=BV.getSocket(l).getOrDie("Could not find expected socket element"),_$&&(An(p.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"}),m=PI((function(){e.dispatch("ScrollContent")}),20),h=$d(p.element,"scroll",m.throttle),e.on("remove",h.unbind)),_E(e,n),e.addCommand("ToggleSidebar",(function(t,n){BV.toggleSidebar(l,n),e.dispatch("ToggleSidebar")})),e.addQueryValueHandler("ToggleSidebar",(function(){var t;return null!==(t=BV.whichSidebar(l))&&void 0!==t?t:""})),e.addCommand("ToggleView",(function(t,n){if(BV.toggleView(l,n)){var r=l.element;u.mothership.broadcastOn([nv()],{target:r}),ut(c,(function(t){t.broadcastOn([nv()],{target:r})})),T(BV.whichView(l))&&(e.focus(),e.nodeChanged())}})),e.addQueryValueHandler("ToggleView",(function(){var t;return null!==(t=BV.whichView(l))&&void 0!==t?t:""})),v=UC(e),g=function(){BV.refreshToolbar(n.mainUi.outerContainer)},v!==W_.sliding&&v!==W_.floating||e.on("ResizeWindow ResizeEditor ResizeContent",(function(){var t=e.getWin().innerWidth;t!==s.get()&&(g(),s.set(t))})),b={setEnabled:function(t){wE(n,!t)},isEnabled:function(){return!xb.isDisabled(l)}},t.abrupt("return",{iframeContainer:p.element.dom,editorContainer:l.element.dom,api:b});case 22:case"end":return t.stop()}}),t)})));return function(e,n,r,o,i){return t.apply(this,arguments)}}(),S$=Object.freeze({__proto__:null,render:O$}),E$=function(t){var e=/^[0-9\.]+(|px)$/i;return e.test(""+t)?Y.some(parseInt(""+t,10)):Y.none()},T$=function(t){return M(t)?t+"px":t},A$=function(t,e,n){var r=e.filter((function(e){return t<e})),o=n.filter((function(e){return t>e}));return r.or(o).getOr(t)},N$=function(t){var e=RC(t),n=MC(t),r=LC(t);return E$(e).map((function(t){return A$(t,n,r)}))},R$=function(t){var e=N$(t);return e.getOr(RC(t))},D$=function(t){var e=DC(t),n=PC(t),r=BC(t);return E$(e).map((function(t){return A$(t,n,r)}))},P$=function(t){var e=D$(t);return e.getOr(DC(t))},M$=Ek.ToolbarLocation,B$=Ek.ToolbarMode,L$=40,I$=function(t,e,n,r,o){var i=n.mainUi,u=n.uiMotherships,c=CC.DOM,s=wk(t),l=kk(t),f=BC(t).or(D$(t)),d=r.shared.header,p=d.isPositionedAtTop,m=UC(t),h=m===B$.sliding||m===B$.floating,v=Aa(!1),g=function(){return v.get()&&!t.removed},b=function(t){return h?t.fold(q(0),(function(t){return t.components().length>1?qn(t.components()[1].element):0})):0},y=function(n){switch(VC(t)){case M$.auto:var r=BV.getToolbar(i.outerContainer),o=b(r),a=qn(n.element)-o,u=yo(e),c=u.y>a;if(c)return"top";var s=$e(e),l=Math.max(s.dom.scrollHeight,qn(s)),f=u.bottom<l-a;if(f)return"bottom";var d=Co(),p=d.bottom<u.bottom-a;return p?"bottom":"top";case M$.bottom:return"bottom";case M$.top:default:return"top"}},x=function(t){o.on((function(e){Fz.setModes(e,[t]),d.setDockingMode(t);var n=p()?Sd.TopToBottom:Sd.BottomToTop;yn(e.element,Cp,n)}))},w=function(){o.on((function(t){var n=f.getOrThunk((function(){var t=E$(Rn(vn(),"margin-left")).getOr(0);return Zn(vn())-Gn(e).left+t}));Tn(t.element,"max-width",n+"px")}))},_=function(n){o.on((function(r){var o=BV.getToolbar(i.outerContainer),u=b(o),c=yo(e),s=C(t,i.outerContainer.element).fold((function(){return{top:p()?Math.max(c.y-qn(r.element)+u,0):c.bottom,left:c.x}}),(function(t){var e,n=yo(t),o=null!==(e=t.dom.scrollTop)&&void 0!==e?e:0,i=Ue(t,vn()),a=i?Math.max(c.y-qn(r.element)+u,0):c.y-n.y+o-qn(r.element)+u;return{top:p()?a:c.bottom,left:i?c.x:c.x-n.x}})),l=s.top,f=s.left,d={position:"absolute",left:Math.round(f)+"px",top:Math.round(l)+"px"},m=n.map((function(t){var e=ro(),n=150,r=window.innerWidth-(f-e.left),o=Math.max(Math.min(t,r),n);return{width:o+"px"}})).getOr({});An(i.outerContainer.element,a(a({},d),m))}))},C=function(t,e){return Ok(t)?Gq(e):Y.none()},k=function(){ut(u,(function(t){t.broadcastOn([rv()],{})}))},O=function(){if(s)return Y.none();var t=Gn(i.outerContainer.element).left+Jn(i.outerContainer.element);if(t>=window.innerWidth-L$||Pn(i.outerContainer.element,"width").isSome()){Tn(i.outerContainer.element,"position","absolute"),Tn(i.outerContainer.element,"left","0px"),Ln(i.outerContainer.element,"width");var e=Jn(i.outerContainer.element);return Y.some(e)}return Y.none()},S=function(t){if(g()){s||w();var e=s?Y.none():O();h&&BV.refreshToolbar(i.outerContainer),s||_(e),l&&o.on(t),k()}},E=function(){return!(s||!l||!g())&&o.get().exists((function(t){var e=d.getDockingMode(),n=y(t);return n!==e&&(x(n),!0)}))},T=function(){v.set(!0),Tn(i.outerContainer.element,"display","flex"),c.addClass(t.getBody(),"mce-edit-focus"),ut(u,(function(t){Ln(t.element,"display")})),E(),Ok(t)?S((function(t){return Fz.isDocked(t)?Fz.reset(t):Fz.refresh(t)})):S(Fz.refresh)},A=function(){v.set(!1),Tn(i.outerContainer.element,"display","none"),c.removeClass(t.getBody(),"mce-edit-focus"),ut(u,(function(t){Tn(t.element,"display","none")}))},N=function(){var t=E();t&&S(Fz.reset)};return{isVisible:g,isPositionedAtTop:p,show:T,hide:A,update:S,updateMode:N,repositionPopups:k}},j$=function(t,e){var n=yo(t);return{pos:e?n.y:n.bottom,bounds:n}},F$=function(t,e,n,r){var o=Aa(j$(e,n.isPositionedAtTop())),i=function(r){var i=j$(e,n.isPositionedAtTop()),a=i.pos,u=i.bounds,c=o.get(),s=c.pos,l=c.bounds,f=u.height!==l.height||u.width!==l.width;o.set({pos:a,bounds:u}),f&&DT(t,r),n.isVisible()&&(s!==a?n.update(Fz.reset):f&&(n.updateMode(),n.repositionPopups()))};r||(t.on("activate",n.show),t.on("deactivate",n.hide)),t.on("SkinLoaded ResizeWindow",(function(){return n.update(Fz.reset)})),t.on("NodeChange keydown",(function(t){requestAnimationFrame((function(){return i(t)}))}));var a=0,u=MI((function(){return n.update(Fz.refresh)}),33);t.on("ScrollWindow",(function(){var t=ro().left;t!==a&&(a=t,u.throttle()),n.updateMode()})),Ok(t)&&t.on("ElementScroll",(function(t){n.update(Fz.refresh)}));var c=Hd();c.set(Gd(ve.fromDom(t.getBody()),"load",(function(t){return i(t.raw)}))),t.on("remove",(function(){c.clear()}))},q$=function(){var t=o(r().mark((function t(e,n,o,i,a){var u,c,s,l,f,d,p;return r().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return u=n.mainUi,c=Vd(),s=ve.fromDom(a.targetNode),l=I$(e,s,n,i,c),f=GC(e),t.next=7,KV(e);case 7:return d=function(){if(c.isSet())l.show();else{c.set(BV.getHeader(u.outerContainer).getOrDie());var t=_k(e);Ok(e)?(Ph(s,u.mothership),Ph(s,n.popupUi.mothership)):Dh(t,u.mothership),Dh(t,n.dialogUi.mothership),x$(e,n,o,i),BV.setMenubar(u.outerContainer,qV(e,o)),l.show(),F$(e,s,l,f),e.nodeChanged()}},e.on("show",d),e.on("hide",l.hide),f||(e.on("focus",d),e.on("blur",l.hide)),e.on("init",(function(){(e.hasFocus()||f)&&d()})),_E(e,n),p={show:d,hide:l.hide,setEnabled:function(t){wE(n,!t)},isEnabled:function(){return!xb.isDisabled(u.outerContainer)}},t.abrupt("return",{editorContainer:u.outerContainer.element.dom,api:p});case 15:case"end":return t.stop()}}),t)})));return function(e,n,r,o,i){return t.apply(this,arguments)}}(),z$=Object.freeze({__proto__:null,render:q$}),U$=function(){var t=Vd(),e=Vd(),n=Vd(),r=function(t,e){return function(){return n.get().bind((function(t){return e(t.outerContainer)})).getOrDie("Could not find ".concat(t," element in OuterContainer"))}},o=function(){var n=t.get().map((function(t){return t.mothership})),r=e.get().map((function(t){return t.mothership}));return n.fold((function(){return r.toArray()}),(function(t){return r.fold((function(){return[t]}),(function(e){return Ue(t.element,e.element)?[t]:[t,e]}))}))};return{dialogUi:t,popupUi:e,mainUi:n,getUiMotherships:o,lazyGetInOuterOrDie:r}},H$="contexttoolbar-show",V$="contexttoolbar-hide",W$=function(t){return{hide:function(){return Ku(t,Nu())},getValue:function(){return Iv.getValue(t)}}},$$=function(t,e){return ic(GB,(function(n,r){var o=t.get(n),i=W$(o);e.onAction(i,r.event.buttonApi)}))},G$=function(t,e,n){var r=e.original,o=(r.primary,i(r,v)),u=Wi(xS(a(a({},o),{},{type:"button",onAction:L})));return o$(u,n,[$$(t,e)])},K$=function(t,e,n){var r=e.original,o=(r.primary,i(r,g)),u=Wi(CS(a(a({},o),{},{type:"togglebutton",onAction:L})));return a$(u,n,[$$(t,e)])},Y$=function(t){return"contextformtogglebutton"===t.type},X$=function(t,e,n){return Y$(e)?K$(t,e,n):G$(t,e,n)},Z$=function(t,e,n){var r=at(e,(function(e){return iC(X$(t,e,n))})),o=function(){return at(r,(function(t){return t.asSpec()}))},i=function(t){return Tt(e,(function(e,n){return e.primary?Y.from(r[n]).bind((function(e){return e.getOpt(t)})).filter(V(xb.isDisabled)):Y.none()}))};return{asSpecs:o,findPrimary:i}},J$=function(t,e){var n=t.label.fold((function(){return{}}),(function(t){return{"aria-label":t}})),r=iC(pO.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:t.initValue(),inputAttributes:n,selectOnFocus:!0,inputBehaviours:ed([hw.config({mode:"special",onEnter:function(t){return o.findPrimary(t).map((function(t){return Xu(t),!0}))},onLeft:function(t,e){return e.cut(),Y.none()},onRight:function(t,e){return e.cut(),Y.none()}})])})),o=Z$(r,t.commands,e);return[{title:Y.none(),items:[r.asSpec()]},{title:Y.none(),items:o.asSpecs()}]},Q$=function(t,e,n){return $H({type:t,uid:Rc("context-toolbar"),initGroups:J$(e,n),onEscape:Y.none,cyclicKeying:!0,providers:n})},tG={renderContextForm:Q$,buildInitGroups:J$},eG=function(t,e,n){return e.bottom-t.y>=n&&t.bottom-e.y>=n},nG=function(t){var e=t.getBoundingClientRect();if(e.height<=0&&e.width<=0){var n=rn(ve.fromDom(t.startContainer),t.startOffset).element,r=Me(n)?Ke(n):Y.some(n);return r.filter(Pe).map((function(t){return t.dom.getBoundingClientRect()})).getOr(e)}return e},rG=function(t){var e=t.selection.getRng(),n=nG(e);if(t.inline){var r=ro();return bo(r.left+n.left,r.top+n.top,n.width,n.height)}var o=xo(ve.fromDom(t.getBody()));return bo(o.x+n.left,o.y+n.top,n.width,n.height)},oG=function(t,e){return e.filter((function(t){return hn(t)&&De(t)})).map(xo).getOrThunk((function(){return rG(t)}))},iG=function(t,e,n){var r=Math.max(t.x+n,e.x),o=Math.min(t.right-n,e.right);return{x:r,width:o-r}},aG=function(t,e,n,r,o,i){var a=ve.fromDom(t.getContainer()),u=Ol(a,".tox-editor-header").getOr(a),c=yo(u),s=c.y>=e.bottom,l=r&&!s;if(t.inline&&l)return{y:Math.max(c.bottom+i,n.y),bottom:n.bottom};if(t.inline&&!l)return{y:n.y,bottom:Math.min(c.y-i,n.bottom)};var f="line"===o?yo(a):e;return l?{y:Math.max(c.bottom+i,n.y),bottom:Math.min(f.bottom-i,n.bottom)}:{y:Math.max(f.y+i,n.y),bottom:Math.min(c.y-i,n.bottom)}},uG=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=uo(window),i=yo(ve.fromDom(t.getContentAreaContainer())),a=pk(t)||vk(t)||bk(t),u=iG(i,o,r),c=u.x,s=u.width;if(t.inline&&!a)return bo(c,o.y,s,o.height);var l=e.header.isPositionedAtTop(),f=aG(t,i,o,l,n,r),d=f.y,p=f.bottom;return bo(c,d,s,p-d)},cG=12,sG={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},lG={maxHeightFunction:pp(),maxWidthFunction:mH()},fG=function(t,e){var n=t.selection.getRng(),r=rn(ve.fromDom(n.startContainer),n.startOffset);return n.startContainer===n.endContainer&&n.startOffset===n.endOffset-1&&Ue(r.element,e)},dG=function(t,e,n){var r=Pn(t,"position");Tn(t,"position",e);var o=n(t);return r.each((function(e){return Tn(t,"position",e)})),o},pG=function(t){return"node"===t},mG=function(t,e,n,r,o){var i=rG(t),a=r.lastElement().exists((function(t){return Ue(n,t)}));if(fG(t,n))return a?uF:nF;if(a)return dG(e,r.getMode(),(function(){var t=eG(i,yo(e),-20);return t&&!r.isReposition()?sF:uF}));var u="fixed"===r.getMode()?o.y+ro().top:o.y,c=qn(e)+cG;return u+c<=i.y?nF:rF},hG=function(t,e,n,r){var o=function(e){return function(r,o,i,u,c){var s=mG(t,u,e,n,c),l=a(a({},r),{},{y:c.y,height:c.height});return a(a({},s(l,o,i,u,c)),{},{alwaysFit:!0})}},i=function(t){return pG(r)?[o(t)]:[]},u={onLtr:function(t){return[Mf,Bf,Df,Nf,Pf,Rf].concat(i(t))},onRtl:function(t){return[Mf,Bf,Pf,Rf,Df,Nf].concat(i(t))}},c={onLtr:function(t){return[Bf,Nf,Rf,Df,Pf,Mf].concat(i(t))},onRtl:function(t){return[Bf,Rf,Nf,Pf,Df,Mf].concat(i(t))}};return e?c:u},vG=function(t,e,n,r){return"line"===e?{bubble:bp(cG,0,sG),layouts:{onLtr:function(){return[Lf]},onRtl:function(){return[If]}},overrides:lG}:{bubble:bp(0,cG,sG,1/cG),layouts:hG(t,n,r,e),overrides:lG}},gG=function(t,e){var n=lt(e,(function(e){return e.predicate(t.dom)})),r=st(n,(function(t){return"contexttoolbar"===t.type})),o=r.pass,i=r.fail;return{contextToolbars:o,contextForms:i}},bG=function(t){if(t.length<=1)return t;var e=function(e){return rt(t,(function(t){return t.position===e}))},n=function(e){return lt(t,(function(t){return t.position===e}))},r=e("selection"),o=e("node");if(r||o){if(o&&r){var i=n("node"),u=at(n("selection"),(function(t){return a(a({},t),{},{position:"node"})}));return i.concat(u)}return n(r?"selection":"node")}return n("line")},yG=function(t){if(t.length<=1)return t;var e=function(e){return mt(t,(function(t){return t.position===e}))},n=e("selection").orThunk((function(){return e("node")})).orThunk((function(){return e("line")})).map((function(t){return t.position}));return n.fold((function(){return[]}),(function(e){return lt(t,(function(t){return t.position===e}))}))},xG=function(t,e,n){var r=gG(t,e);if(r.contextForms.length>0)return Y.some({elem:t,toolbars:[r.contextForms[0]]});var o=gG(t,n);if(o.contextForms.length>0)return Y.some({elem:t,toolbars:[o.contextForms[0]]});if(r.contextToolbars.length>0||o.contextToolbars.length>0){var i=bG(r.contextToolbars.concat(o.contextToolbars));return Y.some({elem:t,toolbars:i})}return Y.none()},wG=function(t,e,n){return t(e)?Y.none():Va(e,(function(t){if(Pe(t)){var e=gG(t,n.inNodeScope),r=e.contextToolbars,o=e.contextForms,i=o.length>0?o:yG(r);return i.length>0?Y.some({elem:t,toolbars:i}):Y.none()}return Y.none()}),t)},_G=function(t,e){var n=ve.fromDom(e.getBody()),r=function(t){return Ue(t,n)},o=function(t){return!r(t)&&!He(n,t)},i=ve.fromDom(e.selection.getNode());return o(i)?Y.none():xG(i,t.inNodeScope,t.inEditorScope).orThunk((function(){return wG(r,i,t)}))},CG=function(t,e){var n={},r=[],o=[],i={},u={},c=function(t,c){var s=Wi(RS(c));n[t]=s,s.launch.map((function(n){i["form:"+t]=a(a({},c.launch),{},{type:"contextformtogglebutton"===n.type?"togglebutton":"button",onAction:function(){e(s)}})})),"editor"===s.scope?o.push(s):r.push(s),u[t]=s},s=function(t,e){PS(e).each((function(n){"editor"===e.scope?o.push(n):r.push(n),u[t]=n}))},l=At(t);return ut(l,(function(e){var n=t[e];"contextform"===n.type?c(e,n):"contexttoolbar"===n.type&&s(e,n)})),{forms:n,inNodeScope:r,inEditorScope:o,lookupTable:u,formNavigators:i}},kG=Rc("forward-slide"),OG=Rc("backward-slide"),SG=Rc("change-slide-event"),EG="tox-pop--resizing",TG=function(t){var e=Aa([]);return eC.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:function(t){e.set([]),eC.getContent(t).each((function(t){Ln(t.element,"visibility")})),Bs(t.element,EG),Ln(t.element,"width")},inlineBehaviours:ed([Rw("context-toolbar-events",[mc(gu(),(function(t,e){"width"===e.event.raw.propertyName&&(Bs(t.element,EG),Ln(t.element,"width"))})),ic(SG,(function(t,e){var n=t.element;Ln(n,"width");var r=Zn(n);eC.setContent(t,e.event.contents),Ps(n,EG);var o=Zn(n);Tn(n,"width",r+"px"),eC.getContent(t).each((function(t){e.event.focus.bind((function(t){return ld(t),md(n)})).orThunk((function(){return hw.focusIn(t),pd(cn(n))}))})),setTimeout((function(){Tn(t.element,"width",o+"px")}),0)})),ic(kG,(function(t,n){eC.getContent(t).each((function(n){e.set(e.get().concat([{bar:n,focus:pd(cn(t.element))}]))})),Yu(t,SG,{contents:n.event.forwardContents,focus:Y.none()})})),ic(OG,(function(t,n){St(e.get()).each((function(n){e.set(e.get().slice(0,e.get().length-1)),Yu(t,SG,{contents:vl(n.bar),focus:n.focus})}))}))]),hw.config({mode:"special",onEscape:function(n){return St(e.get()).fold((function(){return t.onEscape()}),(function(t){return Ku(n,OG),Y.some(!0)}))}})]),lazySink:function(){return To.value(t.sink)}})},AG="tox-pop--transition",NG=function(t,e,n,r){var o=r.backstage,i=o.shared,u=zr().deviceType.isTouch,c=Vd(),s=Vd(),l=Vd(),f=hl(TG({sink:n,onEscape:function(){return t.focus(),Y.some(!0)}})),d=function(){var e=l.get().getOr("node"),n=pG(e)?1:0;return uG(t,i,e,n)},p=function(){return!t.removed&&!(u()&&o.isContextMenuOpen())},m=function(t){return Vt(Kt(t,c.get(),Ue),!0)},h=function(){if(p()){var e=d(),n=Vt(l.get(),"node")?oG(t,c.get()):rG(t);return e.height<=0||!eG(n,e,.01)}return!0},v=function(){c.clear(),s.clear(),l.clear(),eC.hide(f)},g=function(){if(eC.isOpen(f)){var t=f.element;Ln(t,"display"),h()?Tn(t,"display","none"):(s.set(0),eC.reposition(f))}},b=function(e){return{dom:{tag:"div",classes:["tox-pop__dialog"]},components:[e],behaviours:ed([hw.config({mode:"acyclic"}),Rw("pop-dialog-wrap-events",[hc((function(e){t.shortcuts.add("ctrl+F9","focus statusbar",(function(){return hw.focusIn(e)}))})),vc((function(e){t.shortcuts.remove("ctrl+F9")}))])])}},y=tr((function(){return CG(e,(function(t){var e=_([t]);Yu(f,kG,{forwardContents:b(e)})}))})),x=function(e,n){return y$(t,{buttons:e,toolbar:n.items,allowToolbarGroups:!1},r.backstage,Y.some(["form:"]))},w=function(t,e){return tG.buildInitGroups(t,e)},_=function(e){var n=t.ui.registry.getAll(),r=n.buttons,o=y(),u=a(a({},r),o.formNavigators),c=UC(t)===W_.scrolling?W_.scrolling:W_.default,s=vt(at(e,(function(t){return"contexttoolbar"===t.type?x(u,t):w(t,i.providers)})));return $H({type:c,uid:Rc("context-toolbar"),initGroups:s,onEscape:Y.none,cyclicKeying:!0,providers:i.providers})},C=function(e,r){var o="node"===e?i.anchors.node(r):i.anchors.cursor(),a=vG(t,e,u(),{lastElement:c.get,isReposition:function(){return Vt(s.get(),0)},getMode:function(){return gh.getMode(n)}});return $o(o,a)},k=function(t,e){if(S.cancel(),p()){var r=_(t),o=t[0].position,i=C(o,e);l.set(o),s.set(1);var a=f.element;Ln(a,"display"),m(e)||(Bs(a,AG),gh.reset(n,f)),eC.showWithinBounds(f,b(r),{anchor:i,transition:{classes:[AG],mode:"placement"}},(function(){return Y.some(d())})),e.fold(c.clear,c.set),h()&&Tn(a,"display","none")}},O=!1,S=MI((function(){if(t.hasFocus()&&!t.removed&&!O)if(Ls(f.element,AG))S.throttle();else{var e=y();_G(e,t).fold(v,(function(t){k(t.toolbars,Y.some(t.elem))}))}}),17);t.on("init",(function(){t.on("remove",v),t.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",g),t.on("click keyup focus SetContent",S.throttle),t.on(V$,v),t.on(H$,(function(e){var n=y();zt(n.lookupTable,e.toolbarKey).each((function(n){k([n],Zt(e.target!==t,e.target)),eC.getContent(f).each(hw.focusIn)}))})),t.on("focusout",(function(e){nC.setEditorTimeout(t,(function(){md(n.element).isNone()&&md(f.element).isNone()&&v()}),0)})),t.on("SwitchMode",(function(){t.mode.isReadOnly()&&v()})),t.on("AfterProgressState",(function(e){e.state?v():t.hasFocus()&&S.throttle()})),t.on("dragstart",(function(){O=!0})),t.on("dragend drop",(function(){O=!1})),t.on("NodeChange",(function(t){md(f.element).fold(S.throttle,L)}))}))},RG=function(t){var e=[{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}];ut(e,(function(e){t.ui.registry.addToggleButton(e.name,{tooltip:e.text,icon:e.icon,onAction:JV(t,e.cmd),onSetup:YV(t,e.name)})})),t.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onAction:JV(t,"JustifyNone")})},DG=function(t,e){var n=function(){var n=e.getOptions(t),r=e.getCurrent(t).map(e.hash),o=Vd();return at(n,(function(n){return{type:"togglemenuitem",text:e.display(n),onSetup:function(i){var a=function(t){t&&(o.on((function(t){return t.setActive(!1)})),o.set(i)),i.setActive(t)};a(Vt(r,e.hash(n)));var u=e.watcher(t,n,a);return function(){o.clear(),u()}},onAction:function(){return e.setCurrent(t,n)}}}))};t.ui.registry.addMenuButton(e.name,{tooltip:e.text,icon:e.icon,fetch:function(t){return t(n())},onSetup:e.onToolbarSetup}),t.ui.registry.addNestedMenuItem(e.name,{type:"nestedmenuitem",text:e.text,getSubmenuItems:n,onSetup:e.onMenuSetup})},PG={name:"lineheight",text:"Line height",icon:"line-height",getOptions:hk,hash:function(t){return OW(t,["fixed","relative","empty"]).getOr(t)},display:z,watcher:function(t,e,n){return t.formatter.formatChanged("lineheight",n,!1,{value:e}).unbind},getCurrent:function(t){return Y.from(t.queryCommandValue("LineHeight"))},setCurrent:function(t,e){return t.execCommand("LineHeight",!1,e)}},MG=function(t){var e=Y.from(qC(t));return e.map((function(e){return{name:"language",text:"Language",icon:"language",getOptions:q(e),hash:function(t){return N(t.customCode)?t.code:"".concat(t.code,"/").concat(t.customCode)},display:function(t){return t.title},watcher:function(t,e,n){var r;return t.formatter.formatChanged("lang",n,!1,{value:e.code,customValue:null!==(r=e.customCode)&&void 0!==r?r:null}).unbind},getCurrent:function(t){var e=ve.fromDom(t.selection.getNode());return Wa(e,(function(t){return Y.some(t).filter(Pe).bind((function(t){var e=_n(t,"lang");return e.map((function(e){var n=_n(t,"data-mce-lang").getOrUndefined();return{code:e,customCode:n,title:""}}))}))}))},setCurrent:function(t,e){return t.execCommand("Lang",!1,e)},onToolbarSetup:function(e){var n=Hd();return e.setActive(t.formatter.match("lang",{},void 0,!0)),n.set(t.formatter.formatChanged("lang",e.setActive,!0)),n.clear}}}))},BG=function(t){DG(t,PG),MG(t).each((function(e){return DG(t,e)}))},LG=function(t,e){lW(t,e),xW(t,e),HW(t,e),mW(t,e),qW(t,e)},IG=function(t){return XV(t,"NodeChange",(function(e){e.setEnabled(t.queryCommandState("outdent"))}))},jG=function(t){t.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:IG(t),onAction:JV(t,"outdent")}),t.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onAction:JV(t,"indent")})},FG=function(t){jG(t)},qG=function(t,e){return function(n){n.setActive(e.get());var r=function(t){e.set(t.state),n.setActive(t.state)};return t.on("PastePlainTextToggle",r),function(){return t.off("PastePlainTextToggle",r)}}},zG=function(t){var e=Aa(sk(t)),n=function(){return t.execCommand("mceTogglePlainTextPaste")};t.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:n,onSetup:qG(t,e)}),t.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:n,onSetup:qG(t,e)})},UG=function(t,e){return function(){t.execCommand("mceToggleFormat",!1,e)}},HG=function(t){AB.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(function(e,n){t.ui.registry.addToggleButton(e.name,{tooltip:e.text,icon:e.icon,onSetup:YV(t,e.name),onAction:UG(t,e.name)})}));for(var e=1;e<=6;e++){var n="h"+e;t.ui.registry.addToggleButton(n,{text:n.toUpperCase(),tooltip:"Heading "+e,onSetup:YV(t,n),onAction:UG(t,n)})}},VG=function(t){AB.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"print",text:"Print",action:"mcePrint",icon:"print"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],(function(e){t.ui.registry.addButton(e.name,{tooltip:e.text,icon:e.icon,onAction:JV(t,e.action)})}))},WG=function(t){AB.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],(function(e){t.ui.registry.addToggleButton(e.name,{tooltip:e.text,icon:e.icon,onAction:JV(t,e.action),onSetup:YV(t,e.name)})}))},$G=function(t){HG(t),VG(t),WG(t)},GG=function(t){AB.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],(function(e){t.ui.registry.addMenuItem(e.name,{text:e.text,icon:e.icon,shortcut:e.shortcut,onAction:JV(t,e.action)})})),t.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onAction:UG(t,"code")})},KG=function(t){$G(t),GG(t)},YG=function(t,e){return XV(t,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",(function(n){n.setEnabled(!t.mode.isReadOnly()&&t.undoManager[e]())}))},XG=function(t){t.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:YG(t,"hasUndo"),onAction:JV(t,"undo")}),t.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:YG(t,"hasRedo"),onAction:JV(t,"redo")})},ZG=function(t){t.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:YG(t,"hasUndo"),onAction:JV(t,"undo")}),t.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:YG(t,"hasRedo"),onAction:JV(t,"redo")})},JG=function(t){XG(t),ZG(t)},QG=function(t){return XV(t,"VisualAid",(function(e){e.setActive(t.hasVisual)}))},tK=function(t){t.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:QG(t),onAction:JV(t,"mceToggleVisualAid")})},eK=function(t){t.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:JV(t,"mceToggleVisualAid")})},nK=function(t){eK(t),tK(t)},rK=function(t,e){RG(t),KG(t),LG(t,e),JG(t),SA(t),nK(t),FG(t),BG(t),zG(t)},oK=function(t){return k(t)?t.split(/[ ,]/):t},iK=function(t){return function(e){return e.options.get(t)}},aK=function(t){var e=t.options.register;e("contextmenu_avoid_overlap",{processor:"string",default:""}),e("contextmenu_never_use_native",{processor:"boolean",default:!1}),e("contextmenu",{processor:function(t){return!1===t?{value:[],valid:!0}:k(t)||B(t,k)?{value:oK(t),valid:!0}:{valid:!1,message:"Must be false or a string."}},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})},uK=iK("contextmenu_never_use_native"),cK=iK("contextmenu_avoid_overlap"),sK=function(t){return 0===lK(t).length},lK=function(t){var e=t.ui.registry.getAll().contextMenus,n=t.options.get("contextmenu");return t.options.isSet("contextmenu")?n:lt(n,(function(t){return Ut(e,t)}))},fK=function(t,e){return{type:"makeshift",x:t,y:e}},dK=function(t,e,n){return fK(t.x+e,t.y+n)},pK=function(t){return"longpress"===t.type||0===t.type.indexOf("touch")},mK=function(t){if(pK(t)){var e=t.touches[0];return fK(e.pageX,e.pageY)}return fK(t.pageX,t.pageY)},hK=function(t){if(pK(t)){var e=t.touches[0];return fK(e.clientX,e.clientY)}return fK(t.clientX,t.clientY)},vK=function(t,e){var n=CC.DOM.getPos(t);return dK(e,n.x,n.y)},gK=function(t,e){return"contextmenu"===e.type||"longpress"===e.type?t.inline?mK(e):vK(t.getContentAreaContainer(),hK(e)):bK(t)},bK=function(t){return{type:"selection",root:ve.fromDom(t.selection.getNode())}},yK=function(t){return{type:"node",node:Y.some(ve.fromDom(t.selection.getNode())),root:ve.fromDom(t.getBody())}},xK=function(t,e,n){switch(n){case"node":return yK(t);case"point":return gK(t,e);case"selection":return bK(t)}},wK=function(t,e,n,r,o,i){var a=n(),u=xK(t,e,i);hL(a,Mk.CLOSE_ON_EXECUTE,r,{isHorizontalMenu:!1,search:Y.none()}).map((function(t){e.preventDefault(),eC.showMenuAt(o,{anchor:u},{menu:{markers:oO("normal")},data:t})}))},_K={onLtr:function(){return[Bf,Nf,Rf,Df,Pf,Mf,nF,rF,eF,Qj,tF,Jj]},onRtl:function(){return[Bf,Rf,Nf,Pf,Df,Mf,nF,rF,tF,Jj,eF,Qj]}},CK=12,kK={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},OK=function(t,e){var n=t.selection;if(n.isCollapsed()||e.touches.length<1)return!1;var r=e.touches[0],o=n.getRng(),i=Pm(t.getWin(),lm.domRange(o));return i.exists((function(t){return t.left<=r.clientX&&t.right>=r.clientX&&t.top<=r.clientY&&t.bottom>=r.clientY}))},SK=function(t){var e=t.selection.getRng(),n=function(){nC.setEditorTimeout(t,(function(){t.selection.setRng(e)}),10),i()};t.once("touchend",n);var r=function(t){t.preventDefault(),t.stopImmediatePropagation()};t.on("mousedown",r,!0);var o=function(){return i()};t.once("longpresscancel",o);var i=function(){t.off("touchend",n),t.off("longpresscancel",o),t.off("mousedown",r)}},EK=function(t,e,n){var r=xK(t,e,n),o="point"===n?CK:0;return a({bubble:bp(0,o,kK),layouts:_K,overrides:{maxWidthFunction:mH(),maxHeightFunction:pp()}},r)},TK=function(t,e,n,r,o,i,a){var u=EK(t,e,i);hL(n,Mk.CLOSE_ON_EXECUTE,r,{isHorizontalMenu:!0,search:Y.none()}).map((function(n){e.preventDefault();var c=a?ly.HighlightMenuAndItem:ly.HighlightNone;eC.showMenuWithinBounds(o,{anchor:u},{menu:{markers:oO("normal"),highlightOnOpen:c},data:n,type:"horizontal"},(function(){return Y.some(uG(t,r.shared,"node"===i?"node":"selection"))})),t.dispatch(V$)}))},AK=function(t,e,n,r,o,i){var a=zr(),u=a.os.isiOS(),c=a.os.isMacOS(),s=a.os.isAndroid(),l=a.deviceType.isTouch(),f=function(){return!(s||u||c&&l)},d=function(){var a=n();TK(t,e,a,r,o,i,f())};if((c||u)&&"node"!==i){var p=function(){SK(t),d()};OK(t,e)?p():(t.once("selectionchange",p),t.once("touchend",(function(){return t.off("selectionchange",p)})))}else d()},NK=function(t){return k(t)?"|"===t:"separator"===t.type},RK={type:"separator"},DK=function t(e){var n=function(t){return{text:t.text,icon:t.icon,enabled:t.enabled,shortcut:t.shortcut}};if(k(e))return e;switch(e.type){case"separator":return RK;case"submenu":return a(a({type:"nestedmenuitem"},n(e)),{},{getSubmenuItems:function(){var n=e.getSubmenuItems();return k(n)?n:at(n,t)}});default:var r=e;return a(a({type:"menuitem"},n(r)),{},{onAction:I(r.onAction)})}},PK=function(t,e){if(0===e.length)return t;var n=St(t).filter((function(t){return!NK(t)})),r=n.fold((function(){return[]}),(function(t){return[RK]}));return t.concat(r).concat(e).concat([RK])},MK=function(t,e,n){var r=dt(e,(function(e,r){return zt(t,r.toLowerCase()).map((function(t){var r=t.update(n);if(k(r))return PK(e,r.split(" "));if(r.length>0){var o=at(r,DK);return PK(e,o)}return e})).getOrThunk((function(){return e.concat([r])}))}),[]);return r.length>0&&NK(r[r.length-1])&&r.pop(),r},BK=function(t,e){return e.ctrlKey&&!uK(t)},LK=function(t){return"longpress"===t.type||Ut(t,"touches")},IK=function(t,e){return!LK(e)&&(2!==e.button||e.target===t.getBody()&&""===e.pointerType)},jK=function(t,e){return IK(t,e)?t.selection.getStart(!0):e.target},FK=function(t,e){var n=cK(t),r=IK(t,e)?"selection":"point";if(ce(n)){var o=jK(t,e),i=nR(ve.fromDom(o),n);return i?"node":r}return r},qK=function(t,e,n){var r=zr(),o=r.deviceType.isTouch,i=hl(eC.sketch({dom:{tag:"div"},lazySink:e,onEscape:function(){return t.focus()},onShow:function(){return n.setContextMenuState(!0)},onHide:function(){return n.setContextMenuState(!1)},fireDismissalEventInstead:{},inlineBehaviours:ed([Rw("dismissContextMenu",[ic(Fu(),(function(e,n){ev.close(e),t.focus()}))])])})),a=function(){return eC.hide(i)},u=function(e){if(uK(t)&&e.preventDefault(),!BK(t,e)&&!sK(t)){var r=FK(t,e),a=function(){var n=jK(t,e),r=t.ui.registry.getAll(),o=lK(t);return MK(r.contextMenus,o,n)},u=o()?AK:wK;u(t,e,a,n,i,r)}};t.on("init",(function(){var e="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(o()?"":" ResizeWindow");t.on(e,a),t.on("longpress contextmenu",u)}))},zK=Ra.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),UK=function(t){return function(e){return e.translate(-t.left,-t.top)}},HK=function(t){return function(e){return e.translate(t.left,t.top)}},VK=function(t){return function(e,n){return dt(t,(function(t,e){return e(t)}),Vn(e,n))}},WK=function(t,e,n){return t.fold(VK([HK(n),UK(e)]),VK([UK(e)]),VK([]))},$K=function(t,e,n){return t.fold(VK([HK(n)]),VK([]),VK([HK(e)]))},GK=function(t,e,n){return t.fold(VK([]),VK([UK(n)]),VK([HK(e),UK(n)]))},KK=function(t,e,n,r,o,i){var a=$K(t,o,i),u=$K(e,o,i);return Math.abs(a.left-u.left)<=n&&Math.abs(a.top-u.top)<=r},YK=function(t,e,n,r,o,i){var a=$K(t,o,i),u=$K(e,o,i),c=Math.abs(a.left-u.left),s=Math.abs(a.top-u.top);return Vn(c,s)},XK=function(t,e,n){var r=t.fold((function(t,e){return{position:Y.some("absolute"),left:Y.some(t+"px"),top:Y.some(e+"px")}}),(function(t,e){return{position:Y.some("absolute"),left:Y.some(t-n.left+"px"),top:Y.some(e-n.top+"px")}}),(function(t,e){return{position:Y.some("fixed"),left:Y.some(t+"px"),top:Y.some(e+"px")}}));return a({right:Y.none(),bottom:Y.none()},r)},ZK=function(t,e,n){return t.fold((function(t,r){return QK(t+e,r+n)}),(function(t,r){return tY(t+e,r+n)}),(function(t,r){return eY(t+e,r+n)}))},JK=function(t,e,n,r){var o=function(t,o){return function(i,a){var u=t(e,n,r);return o(i.getOr(u.left),a.getOr(u.top))}};return t.fold(o(GK,QK),o($K,tY),o(WK,eY))},QK=zK.offset,tY=zK.absolute,eY=zK.fixed,nY=function(t,e){var n=wn(t,e);return N(n)?NaN:parseInt(n,10)},rY=function(t,e){var n=t.element,r=nY(n,e.leftAttr),o=nY(n,e.topAttr);return isNaN(r)||isNaN(o)?Y.none():Y.some(Vn(r,o))},oY=function(t,e,n){var r=t.element;yn(r,e.leftAttr,n.left+"px"),yn(r,e.topAttr,n.top+"px")},iY=function(t,e){var n=t.element;kn(n,e.leftAttr),kn(n,e.topAttr)},aY=function(t,e,n,r){return rY(t,e).fold((function(){return n}),(function(t){return eY(t.left+r.left,t.top+r.top)}))},uY=function(t,e,n,r,o,i){var a=aY(t,e,n,r),u=e.mustSnap?lY(t,e,a,o,i):fY(t,e,a,o,i),c=WK(a,o,i);return oY(t,e,c),u.fold((function(){return{coord:eY(c.left,c.top),extra:Y.none()}}),(function(t){return{coord:t.output,extra:t.extra}}))},cY=function(t,e){iY(t,e)},sY=function(t,e,n,r){return Tt(t,(function(t){var o=t.sensor,i=KK(e,o,t.range.left,t.range.top,n,r);return i?Y.some({output:JK(t.output,e,n,r),extra:t.extra}):Y.none()}))},lY=function(t,e,n,r,o){var i=e.getSnapPoints(t),a=sY(i,n,r,o);return a.orThunk((function(){var t=dt(i,(function(t,e){var i=e.sensor,a=YK(n,i,e.range.left,e.range.top,r,o);return t.deltas.fold((function(){return{deltas:Y.some(a),snap:Y.some(e)}}),(function(n){var r=(a.left+a.top)/2,o=(n.left+n.top)/2;return r<=o?{deltas:Y.some(a),snap:Y.some(e)}:t}))}),{deltas:Y.none(),snap:Y.none()});return t.snap.map((function(t){return{output:JK(t.output,n,r,o),extra:t.extra}}))}))},fY=function(t,e,n,r,o){var i=e.getSnapPoints(t);return sY(i,n,r,o)},dY=function(t,e,n){return{coord:JK(t.output,t.output,e,n),extra:t.extra}},pY=function(t,e,n,r){var o=e.getTarget(t.element);if(e.repositionTarget){var i=Ve(t.element),a=ro(i),u=Kq(o),c=dY(r,a,u),s=XK(c.coord,a,u);Nn(o,s)}},mY=Object.freeze({__proto__:null,snapTo:pY}),hY="data-initial-z-index",vY=function(t){Ke(t.element).filter(Pe).each((function(t){_n(t,hY).fold((function(){return Ln(t,"z-index")}),(function(e){return Tn(t,"z-index",e)})),kn(t,hY)}))},gY=function(t){Ke(t.element).filter(Pe).each((function(e){Pn(e,"z-index").each((function(t){yn(e,hY,t)})),Tn(e,"z-index",Rn(t.element,"z-index"))}))},bY=function(t,e){t.getSystem().addToGui(e),gY(e)},yY=function(t){vY(t),t.getSystem().removeFromGui(t)},xY=function(t,e,n){return t.getSystem().build(SR.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[e]},events:n}))},wY=ga("snaps",[Qi("getSnapPoints"),Yl("onSensor"),Qi("leftAttr"),Qi("topAttr"),ya("lazyViewport",Co),ya("mustSnap",!1)]),_Y=[ya("useFixed",G),Qi("blockerClass"),ya("getTarget",z),ya("onDrag",L),ya("repositionTarget",!0),ya("onDrop",L),Oa("getBounds",Co),wY],CY=function(t){return Yt(Pn(t,"left"),Pn(t,"top"),Pn(t,"position"),(function(t,e,n){var r="fixed"===n?eY:QK;return r(parseInt(t,10),parseInt(e,10))})).getOrThunk((function(){var e=Gn(t);return tY(e.left,e.top)}))},kY=function(t,e,n,r,o){var i=o.bounds,a=$K(e,n,r),u=gf(a.left,i.x,i.x+i.width-o.width),c=gf(a.top,i.y,i.y+i.height-o.height),s=tY(u,c);return e.fold((function(){var t=GK(s,n,r);return QK(t.left,t.top)}),q(s),(function(){var t=WK(s,n,r);return eY(t.left,t.top)}))},OY=function(t,e,n,r,o,i,a){var u=e.fold((function(){var t=ZK(n,i.left,i.top),e=WK(t,r,o);return eY(e.left,e.top)}),(function(e){var a=uY(t,e,n,i,r,o);return a.extra.each((function(n){e.onSensor(t,n)})),a.coord}));return kY(t,u,r,o,a)},SY=function(t,e,n,r){var o=e.getTarget(t.element);if(e.repositionTarget){var i=Ve(t.element),a=ro(i),u=Kq(o),c=CY(o),s=OY(t,e.snaps,c,a,u,r,n),l=XK(s,a,u);Nn(o,l)}e.onDrag(t,o,r)},EY=function(t,e){return{bounds:t.getBounds(),height:zn(e.element),width:Jn(e.element)}},TY=function(t,e,n,r,o){var i=n.update(r,o),a=n.getStartData().getOrThunk((function(){return EY(e,t)}));i.each((function(n){SY(t,e,a,n)}))},AY=function(t,e,n,r){e.each(yY),n.snaps.each((function(e){cY(t,e)}));var o=n.getTarget(t.element);r.reset(),n.onDrop(t,o)},NY=function(t){return function(e,n){var r=function(t){n.setStartData(EY(e,t))};return ec([ic(Bu(),(function(t){n.getStartData().each((function(){return r(t)}))}))].concat(c(t(e,n,r))))}},RY=function(t){return ec([ic(ou(),t.forceDrop),ic(uu(),t.drop),ic(iu(),(function(e,n){t.move(n.event)})),ic(au(),t.delayDrop)])},DY=function(t){return Y.from(Vn(t.x,t.y))},PY=function(t,e){return Vn(e.left-t.left,e.top-t.top)},MY=Object.freeze({__proto__:null,getData:DY,getDelta:PY}),BY=function(t,e,n){return[ic(ou(),(function(r,o){var i=o.event.raw;if(0===i.button){o.stop();var a=function(){return AY(r,Y.some(s),t,e)},u=rR(a,200),c={drop:a,delayDrop:u.schedule,forceDrop:a,move:function(n){u.cancel(),TY(r,t,e,MY,n)}},s=xY(r,t.blockerClass,RY(c)),l=function(){n(r),bY(r,s)};l()}}))]},LY=[].concat(_Y,[Ql("dragger",{handlers:NY(BY)})]),IY=function(t){return ec([ic(tu(),t.forceDrop),ic(nu(),t.drop),ic(ru(),t.drop),ic(eu(),(function(e,n){t.move(n.event)}))])},jY=function(t){var e=t[0];return Y.some(Vn(e.clientX,e.clientY))},FY=function(t){var e=t.raw,n=e.touches;return 1===n.length?jY(n):Y.none()},qY=function(t,e){return Vn(e.left-t.left,e.top-t.top)},zY=Object.freeze({__proto__:null,getData:FY,getDelta:qY}),UY=function(t,e,n){var r=Vd(),o=function(n){AY(n,r.get(),t,e),r.clear()};return[ic(tu(),(function(i,a){a.stop();var u=function(){return o(i)},c={drop:u,delayDrop:L,forceDrop:u,move:function(n){TY(i,t,e,zY,n)}},s=xY(i,t.blockerClass,IY(c));r.set(s);var l=function(){n(i),bY(i,s)};l()})),ic(eu(),(function(n,r){r.stop(),TY(n,t,e,zY,r.event)})),ic(nu(),(function(t,e){e.stop(),o(t)})),ic(ru(),o)]},HY=[].concat(_Y,[Ql("dragger",{handlers:NY(UY)})]),VY=function(t,e,n){return[].concat(c(BY(t,e,n)),c(UY(t,e,n)))},WY=[].concat(_Y,[Ql("dragger",{handlers:NY(VY)})]),$Y=LY,GY=HY,KY=WY,YY=Object.freeze({__proto__:null,mouse:$Y,touch:GY,mouseOrTouch:KY}),XY=function(){var t=Y.none(),e=Y.none(),n=function(){t=Y.none(),e=Y.none()},r=function(e,n){var r=t.map((function(t){return e.getDelta(t,n)}));return t=Y.some(n),r},o=function(t,e){return t.getData(e).bind((function(e){return r(t,e)}))},i=function(t){e=Y.some(t)},a=function(){return e},u=q({});return Qc({readState:u,reset:n,update:o,getStartData:a,setStartData:i})},ZY=Object.freeze({__proto__:null,init:XY}),JY=id({branchKey:"mode",branches:YY,name:"dragging",active:{events:function(t,e){var n=t.dragger;return n.handlers(t,e)}},extra:{snap:function(t){return{sensor:t.sensor,range:t.range,output:t.output,extra:Y.from(t.extra)}}},state:ZY,apis:mY}),QY=40,tX=QY/2,eX=function(t,e,n,r,o,i){return t.fold((function(){return JY.snap({sensor:tY(n-tX,r-tX),range:Vn(o,i),output:tY(Y.some(n),Y.some(r)),extra:{td:e}})}),(function(t){var o=n-tX,i=r-tX,a=QY,u=QY,c=t.element.dom.getBoundingClientRect();return JY.snap({sensor:tY(o,i),range:Vn(a,u),output:tY(Y.some(n-c.width/2),Y.some(r-c.height/2)),extra:{td:e}})}))},nX=function(t,e,n){var r=function(t,e){return t.exists((function(t){return Ue(t,e)}))};return{getSnapPoints:t,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:function(t,o){var i=o.td;r(e.get(),i)||(e.set(i),n(i))},mustSnap:!0}},rX=function(t){return iC(oC.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:ed([JY.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:t}),hD.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}}))},oX=function(t,e){var n=Aa([]),r=Aa([]),o=Aa(!1),i=Vd(),a=Vd(),u=function(t){var n=xo(t);return eX(p.getOpt(e),t,n.x,n.y,n.width,n.height)},c=function(){return at(n.get(),(function(t){return u(t)}))},s=function(t){var n=xo(t);return eX(m.getOpt(e),t,n.right,n.bottom,n.width,n.height)},l=function(){return at(r.get(),(function(t){return s(t)}))},f=nX(c,i,(function(e){a.get().each((function(n){t.dispatch("TableSelectorChange",{start:e,finish:n})}))})),d=nX(l,a,(function(e){i.get().each((function(n){t.dispatch("TableSelectorChange",{start:n,finish:e})}))})),p=rX(f),m=rX(d),h=hl(p.asSpec()),v=hl(m.asSpec()),g=function(e,n,r,o){var i=n.dom.getBoundingClientRect();Ln(e.element,"display");var a=Ge(ve.fromDom(t.getBody())).dom.innerHeight,u=r(i),c=o(i,a);(u||c)&&Tn(e.element,"display","none")},b=function(t,e,n,r){var o=n(e);JY.snapTo(t,o);var i=function(t){return t[r]<0},a=function(t,e){return t[r]>e};g(t,e,i,a)},y=function(t){return b(h,t,u,"top")},x=function(){return i.get().each(y)},w=function(t){return b(v,t,s,"bottom")},_=function(){return a.get().each(w)};zr().deviceType.isTouch()&&(t.on("TableSelectionChange",(function(t){o.get()||(Eh(e,h),Eh(e,v),o.set(!0)),i.set(t.start),a.set(t.finish),t.otherCells.each((function(e){n.set(e.upOrLeftCells),r.set(e.downOrRightCells),y(t.start),w(t.finish)}))})),t.on("ResizeEditor ResizeWindow ScrollContent",(function(){x(),_()})),t.on("TableSelectionClear",(function(){o.get()&&(Nh(h),Nh(v),o.set(!1)),i.clear(),a.clear()})))},iX='<svg width="50px" height="16px" viewBox="0 0 50 16" xmlns="http://www.w3.org/2000/svg">\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M10.143 0c2.608.015 5.186 2.178 5.186 5.331 0 0 .077 3.812-.084 4.87-.361 2.41-2.164 4.074-4.65 4.496-1.453.284-2.523.49-3.212.623-.373.071-.634.122-.785.152-.184.038-.997.145-1.35.145-2.732 0-5.21-2.04-5.248-5.33 0 0 0-3.514.03-4.442.093-2.4 1.758-4.342 4.926-4.963 0 0 3.875-.752 4.036-.782.368-.07.775-.1 1.15-.1Zm1.826 2.8L5.83 3.989v2.393l-2.455.475v5.968l6.137-1.189V9.243l2.456-.476V2.8ZM5.83 6.382l3.682-.713v3.574l-3.682.713V6.382Zm27.173-1.64-.084-1.066h-2.226v9.132h2.456V7.743c-.008-1.151.998-2.064 2.149-2.072 1.15-.008 1.987.92 1.995 2.072v5.065h2.455V7.359c-.015-2.18-1.657-3.929-3.837-3.913a3.993 3.993 0 0 0-2.908 1.296Zm-6.3-4.266L29.16 0v2.387l-2.456.475V.476Zm0 3.2v9.132h2.456V3.676h-2.456Zm18.179 11.787L49.11 3.676H46.58l-1.612 4.527-.46 1.382-.384-1.382-1.611-4.527H39.98l3.3 9.132L42.15 16l2.732-.537ZM22.867 9.738c0 .752.568 1.075.921 1.075.353 0 .668-.047.998-.154l.537 1.765c-.23.154-.92.537-2.225.537-1.305 0-2.655-.997-2.686-2.686a136.877 136.877 0 0 1 0-4.374H18.8V3.676h1.612v-1.98l2.455-.476v2.456h2.302V5.9h-2.302v3.837Z"/>\n</svg>\n',aX=function(t){return"BR"===t.nodeName||!!t.getAttribute("data-mce-bogus")||"bookmark"===t.getAttribute("data-mce-type")},uX=function(t,e,n){var r,o=null!==(r=e.delimiter)&&void 0!==r?r:"›",i=function(e,r,o){return oC.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":o,"aria-level":o+1}},components:[ll(e)],action:function(e){t.focus(),t.selection.select(r),t.nodeChanged()},buttonBehaviours:ed([TE.button(n.isDisabled),CE()])})},a=function(){return{dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[ll(" ".concat(o," "))]}},u=function(t){return dt(t,(function(t,e,n){var r=i(e.name,e.element,n);return 0===n?t.concat([r]):t.concat([a(),r])}),[])},c=function(e){var n=[],r=e.length;while(r-- >0){var o=e[r];if(1===o.nodeType&&!aX(o)){var i=LT(t,o);if(i.isDefaultPrevented()||n.push({name:i.name,element:o}),i.isPropagationStopped())break}}return n};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:ed([hw.config({mode:"flow",selector:"div[role=button]"}),xb.config({disabled:n.isDisabled}),CE(),LR.config({}),Aw.config({}),Rw("elementPathEvents",[hc((function(e,n){t.shortcuts.add("alt+F11","focus statusbar elementpath",(function(){return hw.focusIn(e)})),t.on("NodeChange",(function(t){var n=c(t.parents),r=n.length>0?u(n):[];Aw.set(e,r)}))}))])]),components:[]}};(function(t){t[t["None"]=0]="None",t[t["Both"]=1]="Both",t[t["Vertical"]=2]="Vertical"})(oW||(oW={}));var cX=function(t,e,n,r,o){var i={height:A$(r+e.top,MC(t),LC(t))};return n===oW.Both&&(i.width=A$(o+e.left,PC(t),BC(t))),i},sX=function(t,e,n){var r=ve.fromDom(t.getContainer()),o=cX(t,e,n,qn(r),Zn(r));Rt(o,(function(t,e){M(t)&&Tn(r,e,T$(t))})),RT(t)},lX=function(t){var e=ck(t);return!1===e?oW.None:"both"===e?oW.Both:oW.Vertical},fX=function(t,e,n,r){var o=20,i=Vn(n*o,r*o);return sX(t,i,e),Y.some(!0)},dX=function(t,e){var n=lX(t);return n===oW.None?Y.none():Y.some(gC("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:e.translate("Resize")},behaviours:[JY.config({mode:"mouse",repositionTarget:!1,onDrag:function(e,r,o){return sX(t,o,n)},blockerClass:"tox-blocker"}),hw.config({mode:"special",onLeft:function(){return fX(t,n,-1,0)},onRight:function(){return fX(t,n,1,0)},onUp:function(){return fX(t,n,0,-1)},onDown:function(){return fX(t,n,0,1)}}),LR.config({}),qw.config({})]},e.icons))},pX=function(t,e){var n=function(t,n,r){return Aw.set(t,[ll(e.translate(["{0} "+r,n[r]]))])};return oC.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:ed([TE.button(e.isDisabled),CE(),LR.config({}),Aw.config({}),Iv.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),Rw("wordcount-events",[bc((function(t){var e=Iv.getValue(t),r="words"===e.mode?"characters":"words";Iv.setValue(t,{mode:r,count:e.count}),n(t,e.count,r)})),hc((function(e){t.on("wordCountUpdate",(function(t){var r=Iv.getValue(e),o=r.mode;Iv.setValue(e,{mode:o,count:t.wordCount}),n(e,t.wordCount,o)}))}))])]),eventOrder:u({},Su(),["disabling","alloy.base.behaviour","wordcount-events"])})},mX=function(t,e){var n=function(){return{dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=editor_referral&utm_medium=poweredby&utm_source=tinymce&utm_content=v6",rel:"noopener",target:"_blank","aria-label":aC.translate(["Powered by {0}","Tiny"])},innerHtml:iX.trim()},behaviours:ed([qw.config({})])}]}},r=function(){var r=[];return ak(t)&&r.push(uX(t,{},e)),t.hasPlugin("wordcount")&&r.push(pX(t,e)),uk(t)&&r.push(n()),r.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container"]},components:r}]:[]},o=function(){var n=r(),o=dX(t,e);return n.concat(o.toArray())};return{dom:{tag:"div",classes:["tox-statusbar"]},components:o()}},hX=function(t,e){return e.get().getOrDie("UI for ".concat(t," has not been rendered"))},vX=function(t,e){var n=t.inline,r=n?z$:S$,o=kk(t)?eU:$q,i=U$(),s=Vd(),l=Vd(),f=Vd(),d=zr(),p=d.deviceType.isTouch(),m="tox-platform-touch",h=p?[m]:[],v=yk(t),g=UC(t),b=iC({dom:{tag:"div",classes:["tox-anchorbar"]}}),y=function(){return i.mainUi.get().map((function(t){return t.outerContainer})).bind(BV.getHeader)},x=function(){return To.fromOption(i.dialogUi.get().map((function(t){return t.sink})),"UI has not been rendered")},w=function(){return To.fromOption(i.popupUi.get().map((function(t){return t.sink})),"(popup) UI has not been rendered")},_=i.lazyGetInOuterOrDie("anchor bar",b.getOpt),C=i.lazyGetInOuterOrDie("toolbar",BV.getToolbar),k=i.lazyGetInOuterOrDie("throbber",BV.getThrobber),O=Eq({popup:w,dialog:x},t,_),S=function(){var e={attributes:u({},Cp,v?Sd.BottomToTop:Sd.TopToBottom)},n=BV.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:O.popup,onEscape:function(){t.focus()}}),r=BV.parts.toolbar(a({dom:{tag:"div",classes:["tox-toolbar"]},getSink:O.popup.shared.getSink,providers:O.popup.shared.providers,onEscape:function(){t.focus()},onToolbarToggled:function(e){IT(t,e)},type:g,lazyToolbar:C,lazyHeader:function(){return y().getOrDie("Could not find header element")}},e)),o=BV.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:O.popup.shared.providers,onEscape:function(){t.focus()},type:g}),i=bk(t),c=vk(t),s=pk(t),l=fk(t),f=E(),d=i||c||s,p=function(){return i?[o]:c?[r]:[]},m=l?[f,n]:[n];return BV.parts.header({dom:a({tag:"div",classes:["tox-editor-header"].concat(d?[]:["tox-editor-header--empty"])},e),components:vt([s?m:[],p(),wk(t)?[]:[b.asSpec()]]),sticky:kk(t),editor:t,sharedBackstage:O.popup.shared})},E=function(){return BV.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]}})},T=function(){var t=BV.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),e=BV.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}});return{dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[t,e]}},A=function(){var e=_k(t),n=Ue(vn(),e)&&"grid"===Rn(e,"display"),r={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(h),attributes:a({},aC.isRtl()?{dir:"rtl"}:{})},behaviours:ed([gh.config({useFixed:function(){return o.isDocked(y)}})])},i={dom:{styles:{width:document.body.clientWidth+"px"}},events:ec([ic(Lu(),(function(t){Tn(t.element,"width",document.body.clientWidth+"px")}))])},u=hl($o(r,n?i:{})),c=ER(u);return l.set(c),{sink:u,mothership:c}},N=function(){var t={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(h),attributes:a({},aC.isRtl()?{dir:"rtl"}:{})},behaviours:ed([gh.config({useFixed:function(){return o.isDocked(y)},getBounds:function(){return e.getPopupSinkBounds()}})])},n=hl(t),r=ER(n);return f.set(r),{sink:n,mothership:r}},R=function(){var e=S(),r=T(),o=BV.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:O.popup}),i=BV.parts.viewWrapper({backstage:O.popup}),u=ik(t)&&!n?Y.some(mX(t,O.popup.shared.providers)):Y.none(),l=vt([v?[]:[e],n?[]:[r],v?[e]:[]]),f=BV.parts.editorContainer({components:vt([l,n?[]:u.toArray()])}),d=Ck(t),p=a(a({role:"application"},aC.isRtl()?{dir:"rtl"}:{}),d?{"aria-hidden":"true"}:{}),m=hl(BV.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(n?["tox-tinymce-inline"]:[]).concat(v?["tox-tinymce--toolbar-bottom"]:[]).concat(h),styles:a({visibility:"hidden"},d?{opacity:"0",border:"0"}:{}),attributes:p},components:[f].concat(c(n?[]:[i]),[o]),behaviours:ed([CE(),xb.config({disableClass:"tox-tinymce--disabled"}),hw.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),g=ER(m);return s.set(g),{mothership:g,outerContainer:m}},D=function(e){var n=T$(R$(t)),r=T$(P$(t));return t.inline||(Bn("div","width",r)&&Tn(e.element,"width",r),Bn("div","height",n)?Tn(e.element,"height",n):Tn(e.element,"height","400px")),n},P=function(e){t.addShortcut("alt+F9","focus menubar",(function(){BV.focusMenubar(e)})),t.addShortcut("alt+F10","focus toolbar",(function(){BV.focusToolbar(e)})),t.addCommand("ToggleToolbarDrawer",(function(t,n){(null===n||void 0===n?void 0:n.skipFocus)?BV.toggleToolbarDrawerWithoutFocusing(e):BV.toggleToolbarDrawer(e)})),t.addQueryStateHandler("ToggleToolbarDrawer",(function(){return BV.isToolbarDrawerToggled(e)}))},M=function(e){var n=e.mainUi,i=e.popupUi,a=e.uiMotherships;Dt(HC(t),(function(e,n){t.ui.registry.addGroupToolbarButton(n,e)}));var u=t.ui.registry.getAll(),c=u.buttons,s=u.menuItems,l=u.contextToolbars,f=u.sidebars,d=u.views,p=gk(t),m={menuItems:s,menus:Sk(t),menubar:YC(t),toolbar:p.getOrThunk((function(){return XC(t)})),allowToolbarGroups:g===W_.floating,buttons:c,sidebar:f,views:d};P(n.outerContainer),Tq(t,n.mothership,a),o.setup(t,O.popup.shared,y),rK(t,O.popup),qK(t,O.popup.shared.getSink,O.popup),kU(t),JU(t,k,O.popup.shared),NG(t,l,i.sink,{backstage:O.popup}),oX(t,i.sink);var h=t.getElement(),v=D(n.outerContainer),b={targetNode:h,height:v};return r.render(t,e,m,O.popup,b)},B=function(t){return f.set(t.mothership),t},L=function(){var e=R(),n=A(),r=Ok(t)?N():B(n);i.dialogUi.set(n),i.popupUi.set(r),i.mainUi.set(e);var o={popupUi:r,dialogUi:n,mainUi:e,uiMotherships:i.getUiMotherships()};return M(o)};return{popups:{backstage:O.popup,getMothership:function(){return hX("popups",f)}},dialogs:{backstage:O.dialog,getMothership:function(){return hX("dialogs",l)}},renderUI:L}},gX=function(t,e){var n=Y.from(wn(t,"id")).fold((function(){var t=Rc("dialog-describe");return yn(e,"id",t),t}),z);yn(t,"aria-describedby",n)},bX=function(t,e){var n=_n(t,"id").fold((function(){var t=Rc("dialog-label");return yn(e,"id",t),t}),z);yn(t,"aria-labelledby",n)},yX=q([Qi("lazySink"),la("dragBlockClass"),Oa("getBounds",Co),ya("useTabstopAt",K),ya("firstTabstop",0),ya("eventOrder",{}),jv("modalBehaviours",[hw]),Xl("onExecute"),Jl("onEscape")]),xX={sketch:z},wX=q([bg({name:"draghandle",overrides:function(t,e){return{behaviours:ed([JY.config({mode:"mouse",getTarget:function(t){return Cl(t,'[role="dialog"]').getOr(t)},blockerClass:t.dragBlockClass.getOrDie(new Error("The drag blocker class was not specified for a dialog with a drag handle: \n"+JSON.stringify(e,null,2)).message),getBounds:t.getDragBounds})])}}}),vg({schema:[Qi("dom")],name:"title"}),vg({factory:xX,schema:[Qi("dom")],name:"close"}),vg({factory:xX,schema:[Qi("dom")],name:"body"}),bg({factory:xX,schema:[Qi("dom")],name:"footer"}),gg({factory:{sketch:function(t,e){return a(a({},t),{},{dom:e.dom,components:e.components})}},schema:[ya("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),ya("components",[])],name:"blocker"})]),_X=function(t,e,n,r){var o=Vd(),i=function(e){o.set(e);var n=t.lazySink(e).getOrDie(),i=r.blocker(),u=n.getSystem().build(a(a({},i),{},{components:i.components.concat([vl(e)]),behaviours:ed([qw.config({}),Rw("dialog-blocker-events",[mc(su(),(function(){hw.focusIn(e)}))])])}));Eh(n,u),hw.focusIn(e)},c=function(t){o.clear(),Ke(t.element).each((function(e){t.getSystem().getByDom(e).each((function(t){Nh(t)}))}))},s=function(e){return Dg(e,t,"body")},l=function(e){return Dg(e,t,"footer")},f=function(t,e){zU.block(t,e)},d=function(t){zU.unblock(t)},p=Rc("modal-events"),m=a(a({},t.eventOrder),{},u({},Iu(),[p].concat(t.eventOrder["alloy.system.attached"]||[])));return{uid:t.uid,dom:t.dom,components:e,apis:{show:i,hide:c,getBody:s,getFooter:l,setIdle:d,setBusy:f},eventOrder:m,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:qv(t.modalBehaviours,[Aw.config({}),hw.config({mode:"cyclic",onEnter:t.onExecute,onEscape:t.onEscape,useTabstopAt:t.useTabstopAt,firstTabstop:t.firstTabstop}),zU.config({getRoot:o.get}),Rw(p,[hc((function(e){bX(e.element,Dg(e,t,"title").element),gX(e.element,Dg(e,t,"body").element)}))])])}},CX=Xg({name:"ModalDialog",configFields:yX(),partFields:wX(),factory:_X,apis:{show:function(t,e){t.show(e)},hide:function(t,e){t.hide(e)},getBody:function(t,e){return t.getBody(e)},getFooter:function(t,e){return t.getFooter(e)},setBusy:function(t,e,n){t.setBusy(e,n)},setIdle:function(t,e){t.setIdle(e)}}}),kX=ki([jO,FO].concat(qS)),OX=Mi,SX=[fS("button"),JO,Ca("align","end",["start","end"]),aS,iS,ma("buttonType",["primary","secondary"])],EX=[].concat(SX,[zO]),TX=[ra("type",["submit","cancel","custom"])].concat(c(EX)),AX=[ra("type",["menu"]),ZO,QO,JO,sa("items",kX)].concat(SX),NX=[].concat(SX,[ra("type",["togglebutton"]),na("tooltip"),HO,ZO,ka("active",!1)]),RX=Ki("type",{submit:TX,cancel:TX,custom:TX,menu:AX,togglebutton:NX}),DX=[jO,zO,ra("level",["info","warn","error","success"]),HO,ya("url","")],PX=ki(DX),MX=function(t){return[jO,t]},BX=[jO,zO,iS,fS("button"),JO,oS,ma("buttonType",["primary","secondary","toolbar"]),aS],LX=ki(BX),IX=[jO,FO],jX=IX.concat([tS]),FX=IX.concat([qO,iS]),qX=ki(FX),zX=Mi,UX=jX.concat([uS("auto")]),HX=ki(UX),VX=Ai([VO,zO,HO]),WX=jX.concat([_a("storageKey","default")]),$X=ki(WX),GX=Pi,KX=jX,YX=ki(KX),XX=Pi,ZX=IX.concat([_a("tag","textarea"),na("scriptId"),na("scriptUrl"),Sa("settings",void 0)]),JX=IX.concat([_a("tag","textarea"),ia("init")]),QX=zi((function(t){return Vi("customeditor.old",Ci(JX),t).orThunk((function(){return Vi("customeditor.new",Ci(ZX),t)}))})),tZ=Pi,eZ=jX,nZ=ki(eZ),rZ=qi(),oZ=function(t){return[jO,ea("columns"),t]},iZ=[jO,na("html"),Ca("presets","presentation",["presentation","document"])],aZ=ki(iZ),uZ=jX.concat([ka("sandboxed",!0),ka("transparent",!0)]),cZ=ki(uZ),sZ=Pi,lZ=ki(IX.concat([pa("height")])),fZ=ki([na("url"),da("zoom"),da("cachedWidth"),da("cachedHeight")]),dZ=jX.concat([pa("inputMode"),pa("placeholder"),ka("maximized",!1),iS]),pZ=ki(dZ),mZ=Pi,hZ=function(t){return[jO,qO,t]},vZ=[zO,VO],gZ=[zO,sa("items",Yi("items",(function(){return bZ})))],bZ=Si([ki(vZ),ki(gZ)]),yZ=jX.concat([sa("items",bZ),iS]),xZ=ki(yZ),wZ=Pi,_Z=jX.concat([ca("items",[zO,VO]),wa("size",1),iS]),CZ=ki(_Z),kZ=Pi,OZ=jX.concat([ka("constrain",!0),iS]),SZ=ki(OZ),EZ=ki([na("width"),na("height")]),TZ=IX.concat([qO,wa("min",0),wa("max",0)]),AZ=ki(TZ),NZ=Di,RZ=[jO,sa("header",Pi),sa("cells",Oi(Pi))],DZ=ki(RZ),PZ=jX.concat([pa("placeholder"),ka("maximized",!1),iS]),MZ=ki(PZ),BZ=Pi,LZ=[ra("type",["directory","leaf"]),UO,na("id"),fa("menu",aU)],IZ=LZ,jZ=ki(IZ),FZ=LZ.concat([sa("children",Yi("children",(function(){return Fi("type",{directory:qZ,leaf:jZ})})))]),qZ=ki(FZ),zZ=Fi("type",{directory:qZ,leaf:jZ}),UZ=[jO,sa("items",zZ),ha("onLeafAction")],HZ=ki(UZ),VZ=jX.concat([Ca("filetype","file",["image","media","file"]),iS]),WZ=ki(VZ),$Z=ki([VO,cS]),GZ=function(t){return Xi("items","items",Ko(),Oi(zi((function(e){return Vi("Checking item of ".concat(t),KZ,e).fold((function(t){return To.error(Gi(t))}),(function(t){return To.value(t)}))}))))},KZ=wi((function(){return Fi("type",{alertbanner:PX,bar:ki(MX(GZ("bar"))),button:LX,checkbox:qX,colorinput:$X,colorpicker:YX,dropzone:nZ,grid:ki(oZ(GZ("grid"))),iframe:cZ,input:pZ,listbox:xZ,selectbox:CZ,sizeinput:SZ,slider:AZ,textarea:MZ,urlinput:WZ,customeditor:QX,htmlpanel:aZ,imagepreview:lZ,collection:HX,label:ki(hZ(GZ("label"))),table:DZ,tree:HZ,panel:XZ})})),YZ=[jO,ya("classes",[]),sa("items",KZ)],XZ=ki(YZ),ZZ=[fS("tab"),UO,sa("items",KZ)],JZ=[jO,ca("tabs",ZZ)],QZ=ki(JZ),tJ=EX,eJ=RX,nJ=ki([na("title"),ta("body",Fi("type",{panel:XZ,tabpanel:QZ})),_a("size","normal"),sa("buttons",eJ),ya("initialData",{}),Oa("onAction",L),Oa("onChange",L),Oa("onSubmit",L),Oa("onClose",L),Oa("onCancel",L),Oa("onTabChange",L)]),rJ=function(t){return Vi("dialog",nJ,t)},oJ=ki([ra("type",["cancel","custom"])].concat(c(tJ))),iJ=ki([na("title"),na("url"),da("height"),da("width"),va("buttons",oJ),Oa("onAction",L),Oa("onCancel",L),Oa("onClose",L),Oa("onMessage",L)]),aJ=function(t){return Vi("dialog",iJ,t)},uJ=function t(e){return O(e)?[e].concat(gt(qt(e),t)):E(e)?gt(e,t):[]},cJ=function(t){return k(t.type)&&k(t.name)},sJ={checkbox:zX,colorinput:GX,colorpicker:XX,dropzone:rZ,input:mZ,iframe:sZ,imagepreview:fZ,selectbox:kZ,sizeinput:EZ,slider:NZ,listbox:wZ,size:EZ,textarea:BZ,urlinput:$Z,customeditor:tZ,collection:VX,togglemenuitem:OX},lJ=function(t){return Y.from(sJ[t.type])},fJ=function(t){return lt(uJ(t),cJ)},dJ=function(t){var e=fJ(t),n=gt(e,(function(t){return lJ(t).fold((function(){return[]}),(function(e){return[ta(t.name,e)]}))}));return ki(n)},pJ=function(t){var e,n=Wi(rJ(t)),r=dJ(t),o=null!==(e=t.initialData)&&void 0!==e?e:{};return{internalDialog:n,dataValidator:r,initialData:o}},mJ={open:function(t,e){var n=pJ(e);return t(n.internalDialog,n.initialData,n.dataValidator)},openUrl:function(t,e){var n=Wi(aJ(e));return t(n)},redial:function(t){return pJ(t)}},hJ=function(t,e){var n=function(n,r){t.updateState.each((function(t){var o=t(n,r);e.set(o)})),t.renderComponents.each((function(o){var i=o(r,e.get()),a=t.reuseDom?gw:vw;a(n,i)}))};return ec([ic(Ou(),(function(e,r){var o=r;if(!o.universal){var i=t.channel;nt(o.channels,i)&&n(e,o.data)}})),hc((function(e,r){t.initialData.each((function(t){n(e,t)}))}))])},vJ=Object.freeze({__proto__:null,events:hJ}),gJ=function(t,e,n){return n},bJ=Object.freeze({__proto__:null,getState:gJ}),yJ=[Qi("channel"),la("renderComponents"),la("updateState"),la("initialData"),ka("reuseDom",!0)],xJ=function(){var t=Aa(Y.none()),e=function(){return t.set(Y.none())},n=function(){return t.get().getOr("none")};return{readState:n,get:t.get,set:t.set,clear:e}},wJ=Object.freeze({__proto__:null,init:xJ}),_J=rd({fields:yJ,name:"reflecting",active:vJ,apis:bJ,state:wJ}),CJ=function(t){var e=[],n={};return Rt(t,(function(t,r){t.fold((function(){e.push(r)}),(function(t){n[r]=t}))})),e.length>0?To.error(e):To.value(n)},kJ=function(t,e,n){var r=iC(rB.sketch((function(r){return{dom:{tag:"div",classes:["tox-form"].concat(t.classes)},components:at(t.items,(function(t){return Uj(r,t,e,n)}))}})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[r.asSpec()]}],behaviours:ed([hw.config({mode:"acyclic",useTabstopAt:V(FB)}),mB.memento(r),_B.memento(r,{postprocess:function(t){return CJ(t).fold((function(t){return console.error(t),{}}),z)}})])}},OJ=function(t,e){return{uid:t.uid,dom:t.dom,components:t.components,events:u_(t.action),behaviours:qv(t.tabButtonBehaviours,[qw.config({}),hw.config({mode:"execution",useSpace:!0,useEnter:!0}),Iv.config({store:{mode:"memory",initialValue:t.value}})]),domModification:t.domModification}},SJ=Yg({name:"TabButton",configFields:[ya("uid",void 0),Qi("value"),Xi("dom","dom",Jo((function(){return{attributes:{role:"tab",id:Rc("aria"),"aria-selected":"false"}}})),Ni()),la("action"),ya("domModification",{}),jv("tabButtonBehaviours",[qw,hw,Iv]),Qi("view")],factory:OJ}),EJ=q([Qi("tabs"),Qi("dom"),ya("clickToDismiss",!1),jv("tabbarBehaviours",[qb,hw]),Gl(["tabClass","selectedClass"])]),TJ=yg({factory:SJ,name:"tabs",unit:"tab",overrides:function(t){var e=function(t,e){qb.dehighlight(t,e),Yu(t,Wu(),{tabbar:t,button:e})},n=function(t,e){qb.highlight(t,e),Yu(t,Vu(),{tabbar:t,button:e})};return{action:function(r){var o=r.getSystem().getByUid(t.uid).getOrDie(),i=qb.isHighlighted(o,r),a=function(){return i&&t.clickToDismiss?e:i?L:n}();a(o,r)},domModification:{classes:[t.markers.tabClass]}}}}),AJ=q([TJ]),NJ=function(t,e,n,r){return{uid:t.uid,dom:t.dom,components:e,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:qv(t.tabbarBehaviours,[qb.config({highlightClass:t.markers.selectedClass,itemClass:t.markers.tabClass,onHighlight:function(t,e){yn(e.element,"aria-selected","true")},onDehighlight:function(t,e){yn(e.element,"aria-selected","false")}}),hw.config({mode:"flow",getInitial:function(t){return qb.getHighlighted(t).map((function(t){return t.element}))},selector:"."+t.markers.tabClass,executeOnMove:!0})])}},RJ=Xg({name:"Tabbar",configFields:EJ(),partFields:AJ(),factory:NJ}),DJ=function(t,e){return{uid:t.uid,dom:t.dom,behaviours:qv(t.tabviewBehaviours,[Aw.config({})]),domModification:{attributes:{role:"tabpanel"}}}},PJ=Yg({name:"Tabview",configFields:[jv("tabviewBehaviours",[Aw])],factory:DJ}),MJ=q([ya("selectFirst",!0),Yl("onChangeTab"),Yl("onDismissTab"),ya("tabs",[]),jv("tabSectionBehaviours",[])]),BJ=vg({factory:RJ,schema:[Qi("dom"),ua("markers",[Qi("tabClass"),Qi("selectedClass")])],name:"tabbar",defaults:function(t){return{tabs:t.tabs}}}),LJ=vg({factory:PJ,name:"tabview"}),IJ=q([BJ,LJ]),jJ=function(t,e,n,r){var o=function(e){var n=Iv.getValue(e);Rg(e,t,"tabview").each((function(r){var o=mt(t.tabs,(function(t){return t.value===n}));o.each((function(n){var o=n.view();_n(e.element,"id").each((function(t){yn(r.element,"aria-labelledby",t)})),Aw.set(r,o),t.onChangeTab(r,e,o)}))}))},i=function(e,n){Rg(e,t,"tabbar").each((function(t){n(t).each(Xu)}))};return{uid:t.uid,dom:t.dom,components:e,behaviours:Fv(t.tabSectionBehaviours),events:ec(vt([t.selectFirst?[hc((function(t,e){i(t,qb.getFirst)}))]:[],[ic(Vu(),(function(t,e){var n=e.event.button;o(n)})),ic(Wu(),(function(e,n){var r=n.event.button;t.onDismissTab(e,r)}))]])),apis:{getViewItems:function(e){return Rg(e,t,"tabview").map((function(t){return Aw.contents(t)})).getOr([])},showTab:function(t,e){var n=function(t){var n=qb.getCandidates(t),r=mt(n,(function(t){return Iv.getValue(t)===e}));return r.filter((function(e){return!qb.isHighlighted(t,e)}))};i(t,n)}}}},FJ=Xg({name:"TabSection",configFields:MJ(),partFields:IJ(),factory:jJ,apis:{getViewItems:function(t,e){return t.getViewItems(e)},showTab:function(t,e,n){t.showTab(e,n)}}}),qJ=function(t,e,n){return at(t,(function(r,o){Aw.set(n,t[o].view());var i=e.dom.getBoundingClientRect();return Aw.set(n,[]),i.height}))},zJ=function(t){return Ot(Ct(t,(function(t,e){return t>e?-1:t<e?1:0})))},UJ=function(t,e,n){var r,o=$e(t).dom,i=Cl(t,".tox-dialog-wrap").getOr(t),a="fixed"===Rn(i,"position");r=a?Math.max(o.clientHeight,window.innerHeight):Math.max(o.offsetHeight,o.scrollHeight);var u=qn(e),c=e.dom.offsetLeft>=n.dom.offsetLeft+Zn(n),s=c?Math.max(qn(n),u):u,l=parseInt(Rn(t,"margin-top"),10)||0,f=parseInt(Rn(t,"margin-bottom"),10)||0,d=qn(t)+l+f,p=d-s;return r-p},HJ=function(t,e){Ot(t).each((function(t){return FJ.showTab(e,t.value)}))},VJ=function(t,e){Tn(t,"height",e+"px"),Tn(t,"flex-basis",e+"px")},WJ=function(t,e,n){Cl(t,'[role="dialog"]').each((function(t){Ol(t,'[role="tablist"]').each((function(r){n.get().map((function(n){return Tn(e,"height","0"),Tn(e,"flex-basis","0"),Math.min(n,UJ(t,e,r))})).each((function(t){VJ(e,t)}))}))}))},$J=function(t){return Ol(t,'[role="tabpanel"]')},GJ=function(t){var e=Vd(),n=[hc((function(n){var r=n.element;$J(r).each((function(o){Tn(o,"visibility","hidden"),n.getSystem().getByDom(o).toOptional().each((function(n){var r=qJ(t,o,n),i=zJ(r);i.fold(e.clear,e.set)})),WJ(r,o,e),Ln(o,"visibility"),HJ(t,n),requestAnimationFrame((function(){WJ(r,o,e)}))}))})),ic(Lu(),(function(t){var n=t.element;$J(n).each((function(t){WJ(n,t,e)}))})),ic(JR,(function(t,n){var r=t.element;$J(r).each((function(t){var n=pd(cn(t));Tn(t,"visibility","hidden");var o=Pn(t,"height").map((function(t){return parseInt(t,10)}));Ln(t,"height"),Ln(t,"flex-basis");var i=t.dom.getBoundingClientRect().height,a=o.forall((function(t){return i>t}));a?(e.set(i),WJ(r,t,e)):o.each((function(e){VJ(t,e)})),Ln(t,"visibility"),n.each(ld)}))}))],r=!1;return{extraEvents:n,selectFirst:r}},KJ="send-data-to-section",YJ="send-data-to-view",XJ=function(t,e,n){var r=Aa({}),o=function(t){var e=Iv.getValue(t),n=CJ(e).getOr({}),o=r.get(),i=$o(o,n);r.set(i)},i=function(t){var e=r.get();Iv.setValue(t,e)},a=Aa(null),u=at(t.tabs,(function(t){return{value:t.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[ll(n.shared.providers.translate(t.title))],view:function(){return[rB.sketch((function(r){return{dom:{tag:"div",classes:["tox-form"]},components:at(t.items,(function(t){return Uj(r,t,e,n)})),formBehaviours:ed([hw.config({mode:"acyclic",useTabstopAt:V(FB)}),Rw("TabView.form.events",[hc(i),vc(o)]),ud.config({channels:Fa([{key:KJ,value:{onReceive:o}},{key:YJ,value:{onReceive:i}}])})])}}))]}}})),c=GJ(u);return FJ.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:function(t,e,n){var r=Iv.getValue(e);Yu(t,ZR,{name:r,oldName:a.get()}),a.set(r)},tabs:u,components:[FJ.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[RJ.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:ed([LR.config({})])}),FJ.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:c.selectFirst,tabSectionBehaviours:ed([Rw("tabpanel",c.extraEvents),hw.config({mode:"acyclic"}),eb.config({find:function(t){return Ot(FJ.getViewItems(t))}}),_B.withComp(Y.none(),(function(t){return t.getSystem().broadcastOn([KJ],{}),r.get()}),(function(t,e){r.set(e),t.getSystem().broadcastOn([YJ],{})}))])})},ZJ=Rc("update-dialog"),JJ=Rc("update-title"),QJ=Rc("update-body"),tQ=Rc("update-footer"),eQ=Rc("body-send-message"),nQ=function(t,e,n,r,o){var i=function(t){var e=t.body;switch(e.type){case"tabpanel":return[XJ(e,t.initialData,r)];default:return[kJ(e,t.initialData,r)]}},u=function(t,e){return Y.some({isTabPanel:function(){return"tabpanel"===e.body.type}})},c={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:a(a({},n.map((function(t){return{id:t}})).getOr({})),o?c:{})},components:[],behaviours:ed([mB.childAt(0),_J.config({channel:"".concat(QJ,"-").concat(e),updateState:u,renderComponents:i,initialData:t})])}},rQ=function(t,e,n,r,o){return nQ(t,e,Y.some(n),r,o)},oQ=function(t,e,n){var r=nQ(t,e,Y.none(),n,!1);return CX.parts.body(r)},iQ=function(t){var e={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[LB({dom:{tag:"iframe",attributes:{src:t.url}},behaviours:ed([LR.config({}),qw.config({})])})]}],behaviours:ed([hw.config({mode:"acyclic",useTabstopAt:V(FB)})])};return CX.parts.body(e)};function aQ(t){return aQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},aQ(t)}function uQ(t,e){return uQ=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},uQ(t,e)}function cQ(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function sQ(t,e,n){return sQ=cQ()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=Function.bind.apply(t,r),i=new o;return n&&uQ(i,n.prototype),i},sQ.apply(null,arguments)}function lQ(t){return fQ(t)||dQ(t)||pQ(t)||hQ()}function fQ(t){if(Array.isArray(t))return mQ(t)}function dQ(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function pQ(t,e){if(t){if("string"===typeof t)return mQ(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mQ(t,e):void 0}}function mQ(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hQ(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var vQ=Object.hasOwnProperty,gQ=Object.setPrototypeOf,bQ=Object.isFrozen,yQ=Object.getPrototypeOf,xQ=Object.getOwnPropertyDescriptor,wQ=Object.freeze,_Q=Object.seal,CQ=Object.create,kQ="undefined"!==typeof Reflect&&Reflect,OQ=kQ.apply,SQ=kQ.construct;OQ||(OQ=function(t,e,n){return t.apply(e,n)}),wQ||(wQ=function(t){return t}),_Q||(_Q=function(t){return t}),SQ||(SQ=function(t,e){return sQ(t,lQ(e))});var EQ=IQ(Array.prototype.forEach),TQ=IQ(Array.prototype.pop),AQ=IQ(Array.prototype.push),NQ=IQ(String.prototype.toLowerCase),RQ=IQ(String.prototype.match),DQ=IQ(String.prototype.replace),PQ=IQ(String.prototype.indexOf),MQ=IQ(String.prototype.trim),BQ=IQ(RegExp.prototype.test),LQ=jQ(TypeError);function IQ(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return OQ(t,e,r)}}function jQ(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return SQ(t,n)}}function FQ(t,e){gQ&&gQ(t,null);var n=e.length;while(n--){var r=e[n];if("string"===typeof r){var o=NQ(r);o!==r&&(bQ(e)||(e[n]=o),r=o)}t[r]=!0}return t}function qQ(t){var e,n=CQ(null);for(e in t)OQ(vQ,t,[e])&&(n[e]=t[e]);return n}function zQ(t,e){while(null!==t){var n=xQ(t,e);if(n){if(n.get)return IQ(n.get);if("function"===typeof n.value)return IQ(n.value)}t=yQ(t)}function r(t){return console.warn("fallback value for",t),null}return r}var UQ=wQ(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),HQ=wQ(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),VQ=wQ(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),WQ=wQ(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),$Q=wQ(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),GQ=wQ(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),KQ=wQ(["#text"]),YQ=wQ(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),XQ=wQ(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),ZQ=wQ(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),JQ=wQ(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),QQ=_Q(/\{\{[\w\W]*|[\w\W]*\}\}/gm),t0=_Q(/<%[\w\W]*|[\w\W]*%>/gm),e0=_Q(/^data-[\-\w.\u00B7-\uFFFF]/),n0=_Q(/^aria-[\-\w]+$/),r0=_Q(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),o0=_Q(/^(?:\w+script|data):/i),i0=_Q(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),a0=_Q(/^html$/i),u0=function(){return"undefined"===typeof window?null:window},c0=function(t,e){if("object"!==aQ(t)||"function"!==typeof t.createPolicy)return null;var n=null,r="data-tt-policy-suffix";e.currentScript&&e.currentScript.hasAttribute(r)&&(n=e.currentScript.getAttribute(r));var o="dompurify"+(n?"#"+n:"");try{return t.createPolicy(o,{createHTML:function(t){return t}})}catch(i){return console.warn("TrustedTypes policy "+o+" could not be created."),null}};function s0(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u0(),e=function(t){return s0(t)};if(e.version="2.3.8",e.removed=[],!t||!t.document||9!==t.document.nodeType)return e.isSupported=!1,e;var n=t.document,r=t.document,o=t.DocumentFragment,i=t.HTMLTemplateElement,a=t.Node,u=t.Element,c=t.NodeFilter,s=t.NamedNodeMap,l=void 0===s?t.NamedNodeMap||t.MozNamedAttrMap:s,f=t.HTMLFormElement,d=t.DOMParser,p=t.trustedTypes,m=u.prototype,h=zQ(m,"cloneNode"),v=zQ(m,"nextSibling"),g=zQ(m,"childNodes"),b=zQ(m,"parentNode");if("function"===typeof i){var y=r.createElement("template");y.content&&y.content.ownerDocument&&(r=y.content.ownerDocument)}var x=c0(p,n),w=x?x.createHTML(""):"",_=r,C=_.implementation,k=_.createNodeIterator,O=_.createDocumentFragment,S=_.getElementsByTagName,E=n.importNode,T={};try{T=qQ(r).documentMode?r.documentMode:{}}catch(zt){}var A={};e.isSupported="function"===typeof b&&C&&"undefined"!==typeof C.createHTMLDocument&&9!==T;var N,R,D=QQ,P=t0,M=e0,B=n0,L=o0,I=i0,j=r0,F=null,q=FQ({},[].concat(lQ(UQ),lQ(HQ),lQ(VQ),lQ($Q),lQ(KQ))),z=null,U=FQ({},[].concat(lQ(YQ),lQ(XQ),lQ(ZQ),lQ(JQ))),H=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),V=null,W=null,$=!0,G=!0,K=!1,Y=!1,X=!1,Z=!1,J=!1,Q=!1,tt=!1,et=!1,nt=!0,rt=!0,ot=!1,it={},at=null,ut=FQ({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),ct=null,st=FQ({},["audio","video","img","source","image","track"]),lt=null,ft=FQ({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),dt="http://www.w3.org/1998/Math/MathML",pt="http://www.w3.org/2000/svg",mt="http://www.w3.org/1999/xhtml",ht=mt,vt=!1,gt=["application/xhtml+xml","text/html"],bt="text/html",yt=null,xt=r.createElement("form"),wt=function(t){return t instanceof RegExp||t instanceof Function},_t=function(t){yt&&yt===t||(t&&"object"===aQ(t)||(t={}),t=qQ(t),F="ALLOWED_TAGS"in t?FQ({},t.ALLOWED_TAGS):q,z="ALLOWED_ATTR"in t?FQ({},t.ALLOWED_ATTR):U,lt="ADD_URI_SAFE_ATTR"in t?FQ(qQ(ft),t.ADD_URI_SAFE_ATTR):ft,ct="ADD_DATA_URI_TAGS"in t?FQ(qQ(st),t.ADD_DATA_URI_TAGS):st,at="FORBID_CONTENTS"in t?FQ({},t.FORBID_CONTENTS):ut,V="FORBID_TAGS"in t?FQ({},t.FORBID_TAGS):{},W="FORBID_ATTR"in t?FQ({},t.FORBID_ATTR):{},it="USE_PROFILES"in t&&t.USE_PROFILES,$=!1!==t.ALLOW_ARIA_ATTR,G=!1!==t.ALLOW_DATA_ATTR,K=t.ALLOW_UNKNOWN_PROTOCOLS||!1,Y=t.SAFE_FOR_TEMPLATES||!1,X=t.WHOLE_DOCUMENT||!1,Q=t.RETURN_DOM||!1,tt=t.RETURN_DOM_FRAGMENT||!1,et=t.RETURN_TRUSTED_TYPE||!1,J=t.FORCE_BODY||!1,nt=!1!==t.SANITIZE_DOM,rt=!1!==t.KEEP_CONTENT,ot=t.IN_PLACE||!1,j=t.ALLOWED_URI_REGEXP||j,ht=t.NAMESPACE||mt,t.CUSTOM_ELEMENT_HANDLING&&wt(t.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(H.tagNameCheck=t.CUSTOM_ELEMENT_HANDLING.tagNameCheck),t.CUSTOM_ELEMENT_HANDLING&&wt(t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(H.attributeNameCheck=t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),t.CUSTOM_ELEMENT_HANDLING&&"boolean"===typeof t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(H.allowCustomizedBuiltInElements=t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),N=N=-1===gt.indexOf(t.PARSER_MEDIA_TYPE)?bt:t.PARSER_MEDIA_TYPE,R="application/xhtml+xml"===N?function(t){return t}:NQ,Y&&(G=!1),tt&&(Q=!0),it&&(F=FQ({},lQ(KQ)),z=[],!0===it.html&&(FQ(F,UQ),FQ(z,YQ)),!0===it.svg&&(FQ(F,HQ),FQ(z,XQ),FQ(z,JQ)),!0===it.svgFilters&&(FQ(F,VQ),FQ(z,XQ),FQ(z,JQ)),!0===it.mathMl&&(FQ(F,$Q),FQ(z,ZQ),FQ(z,JQ))),t.ADD_TAGS&&(F===q&&(F=qQ(F)),FQ(F,t.ADD_TAGS)),t.ADD_ATTR&&(z===U&&(z=qQ(z)),FQ(z,t.ADD_ATTR)),t.ADD_URI_SAFE_ATTR&&FQ(lt,t.ADD_URI_SAFE_ATTR),t.FORBID_CONTENTS&&(at===ut&&(at=qQ(at)),FQ(at,t.FORBID_CONTENTS)),rt&&(F["#text"]=!0),X&&FQ(F,["html","head","body"]),F.table&&(FQ(F,["tbody"]),delete V.tbody),wQ&&wQ(t),yt=t)},Ct=FQ({},["mi","mo","mn","ms","mtext"]),kt=FQ({},["foreignobject","desc","title","annotation-xml"]),Ot=FQ({},["title","style","font","a","script"]),St=FQ({},HQ);FQ(St,VQ),FQ(St,WQ);var Et=FQ({},$Q);FQ(Et,GQ);var Tt=function(t){var e=b(t);e&&e.tagName||(e={namespaceURI:mt,tagName:"template"});var n=NQ(t.tagName),r=NQ(e.tagName);return t.namespaceURI===pt?e.namespaceURI===mt?"svg"===n:e.namespaceURI===dt?"svg"===n&&("annotation-xml"===r||Ct[r]):Boolean(St[n]):t.namespaceURI===dt?e.namespaceURI===mt?"math"===n:e.namespaceURI===pt?"math"===n&&kt[r]:Boolean(Et[n]):t.namespaceURI===mt&&(!(e.namespaceURI===pt&&!kt[r])&&(!(e.namespaceURI===dt&&!Ct[r])&&(!Et[n]&&(Ot[n]||!St[n]))))},At=function(t){AQ(e.removed,{element:t});try{t.parentNode.removeChild(t)}catch(zt){try{t.outerHTML=w}catch(zt){t.remove()}}},Nt=function(t,n){try{AQ(e.removed,{attribute:n.getAttributeNode(t),from:n})}catch(zt){AQ(e.removed,{attribute:null,from:n})}if(n.removeAttribute(t),"is"===t&&!z[t])if(Q||tt)try{At(n)}catch(zt){}else try{n.setAttribute(t,"")}catch(zt){}},Rt=function(t){var e,n;if(J)t="<remove></remove>"+t;else{var o=RQ(t,/^[\r\n\t ]+/);n=o&&o[0]}"application/xhtml+xml"===N&&(t='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+t+"</body></html>");var i=x?x.createHTML(t):t;if(ht===mt)try{e=(new d).parseFromString(i,N)}catch(zt){}if(!e||!e.documentElement){e=C.createDocument(ht,"template",null);try{e.documentElement.innerHTML=vt?"":i}catch(zt){}}var a=e.body||e.documentElement;return t&&n&&a.insertBefore(r.createTextNode(n),a.childNodes[0]||null),ht===mt?S.call(e,X?"html":"body")[0]:X?e.documentElement:a},Dt=function(t){return k.call(t.ownerDocument||t,t,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT,null,!1)},Pt=function(t){return t instanceof f&&("string"!==typeof t.nodeName||"string"!==typeof t.textContent||"function"!==typeof t.removeChild||!(t.attributes instanceof l)||"function"!==typeof t.removeAttribute||"function"!==typeof t.setAttribute||"string"!==typeof t.namespaceURI||"function"!==typeof t.insertBefore)},Mt=function(t){return"object"===aQ(a)?t instanceof a:t&&"object"===aQ(t)&&"number"===typeof t.nodeType&&"string"===typeof t.nodeName},Bt=function(t,n,r){A[t]&&EQ(A[t],(function(t){t.call(e,n,r,yt)}))},Lt=function(t){var n;if(Bt("beforeSanitizeElements",t,null),Pt(t))return At(t),!0;if(BQ(/[\u0080-\uFFFF]/,t.nodeName))return At(t),!0;var r=R(t.nodeName);if(Bt("uponSanitizeElement",t,{tagName:r,allowedTags:F}),t.hasChildNodes()&&!Mt(t.firstElementChild)&&(!Mt(t.content)||!Mt(t.content.firstElementChild))&&BQ(/<[/\w]/g,t.innerHTML)&&BQ(/<[/\w]/g,t.textContent))return At(t),!0;if("select"===r&&BQ(/<template/i,t.innerHTML))return At(t),!0;if(!F[r]||V[r]){if(!V[r]&&jt(r)){if(H.tagNameCheck instanceof RegExp&&BQ(H.tagNameCheck,r))return!1;if(H.tagNameCheck instanceof Function&&H.tagNameCheck(r))return!1}if(rt&&!at[r]){var o=b(t)||t.parentNode,i=g(t)||t.childNodes;if(i&&o)for(var a=i.length,c=a-1;c>=0;--c)o.insertBefore(h(i[c],!0),v(t))}return At(t),!0}return t instanceof u&&!Tt(t)?(At(t),!0):"noscript"!==r&&"noembed"!==r||!BQ(/<\/no(script|embed)/i,t.innerHTML)?(Y&&3===t.nodeType&&(n=t.textContent,n=DQ(n,D," "),n=DQ(n,P," "),t.textContent!==n&&(AQ(e.removed,{element:t.cloneNode()}),t.textContent=n)),Bt("afterSanitizeElements",t,null),!1):(At(t),!0)},It=function(t,e,n){if(nt&&("id"===e||"name"===e)&&(n in r||n in xt))return!1;if(G&&!W[e]&&BQ(M,e));else if($&&BQ(B,e));else if(!z[e]||W[e]){if(!(jt(t)&&(H.tagNameCheck instanceof RegExp&&BQ(H.tagNameCheck,t)||H.tagNameCheck instanceof Function&&H.tagNameCheck(t))&&(H.attributeNameCheck instanceof RegExp&&BQ(H.attributeNameCheck,e)||H.attributeNameCheck instanceof Function&&H.attributeNameCheck(e))||"is"===e&&H.allowCustomizedBuiltInElements&&(H.tagNameCheck instanceof RegExp&&BQ(H.tagNameCheck,n)||H.tagNameCheck instanceof Function&&H.tagNameCheck(n))))return!1}else if(lt[e]);else if(BQ(j,DQ(n,I,"")));else if("src"!==e&&"xlink:href"!==e&&"href"!==e||"script"===t||0!==PQ(n,"data:")||!ct[t]){if(K&&!BQ(L,DQ(n,I,"")));else if(n)return!1}else;return!0},jt=function(t){return t.indexOf("-")>0},Ft=function(t){var e,n,r,o;Bt("beforeSanitizeAttributes",t,null);var i=t.attributes;if(i){var a={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:z};o=i.length;while(o--){e=i[o];var u=e,c=u.name,s=u.namespaceURI;n="value"===c?e.value:MQ(e.value),r=R(c);var l=n;if(a.attrName=r,a.attrValue=n,a.keepAttr=!0,a.forceKeepAttr=void 0,Bt("uponSanitizeAttribute",t,a),n=a.attrValue,!a.forceKeepAttr)if(a.keepAttr)if(BQ(/\/>/i,n))Nt(c,t);else{Y&&(n=DQ(n,D," "),n=DQ(n,P," "));var f=R(t.nodeName);if(It(f,r,n)){if(n!==l)try{s?t.setAttributeNS(s,c,n):t.setAttribute(c,n)}catch(zt){Nt(c,t)}}else Nt(c,t)}else Nt(c,t)}Bt("afterSanitizeAttributes",t,null)}},qt=function t(e){var n,r=Dt(e);Bt("beforeSanitizeShadowDOM",e,null);while(n=r.nextNode())Bt("uponSanitizeShadowNode",n,null),Lt(n)||(n.content instanceof o&&t(n.content),Ft(n));Bt("afterSanitizeShadowDOM",e,null)};return e.sanitize=function(r,i){var u,c,s,l,f;if(vt=!r,vt&&(r="\x3c!--\x3e"),"string"!==typeof r&&!Mt(r)){if("function"!==typeof r.toString)throw LQ("toString is not a function");if(r=r.toString(),"string"!==typeof r)throw LQ("dirty is not a string, aborting")}if(!e.isSupported){if("object"===aQ(t.toStaticHTML)||"function"===typeof t.toStaticHTML){if("string"===typeof r)return t.toStaticHTML(r);if(Mt(r))return t.toStaticHTML(r.outerHTML)}return r}if(Z||_t(i),e.removed=[],"string"===typeof r&&(ot=!1),ot){if(r.nodeName){var d=R(r.nodeName);if(!F[d]||V[d])throw LQ("root node is forbidden and cannot be sanitized in-place")}}else if(r instanceof a)u=Rt("\x3c!----\x3e"),c=u.ownerDocument.importNode(r,!0),1===c.nodeType&&"BODY"===c.nodeName||"HTML"===c.nodeName?u=c:u.appendChild(c);else{if(!Q&&!Y&&!X&&-1===r.indexOf("<"))return x&&et?x.createHTML(r):r;if(u=Rt(r),!u)return Q?null:et?w:""}u&&J&&At(u.firstChild);var p=Dt(ot?r:u);while(s=p.nextNode())3===s.nodeType&&s===l||Lt(s)||(s.content instanceof o&&qt(s.content),Ft(s),l=s);if(l=null,ot)return r;if(Q){if(tt){f=O.call(u.ownerDocument);while(u.firstChild)f.appendChild(u.firstChild)}else f=u;return z.shadowroot&&(f=E.call(n,f,!0)),f}var m=X?u.outerHTML:u.innerHTML;return X&&F["!doctype"]&&u.ownerDocument&&u.ownerDocument.doctype&&u.ownerDocument.doctype.name&&BQ(a0,u.ownerDocument.doctype.name)&&(m="<!DOCTYPE "+u.ownerDocument.doctype.name+">\n"+m),Y&&(m=DQ(m,D," "),m=DQ(m,P," ")),x&&et?x.createHTML(m):m},e.setConfig=function(t){_t(t),Z=!0},e.clearConfig=function(){yt=null,Z=!1},e.isValidAttribute=function(t,e,n){yt||_t({});var r=R(t),o=R(e);return It(r,o,n)},e.addHook=function(t,e){"function"===typeof e&&(A[t]=A[t]||[],AQ(A[t],e))},e.removeHook=function(t){if(A[t])return TQ(A[t])},e.removeHooks=function(t){A[t]&&(A[t]=[])},e.removeAllHooks=function(){A={}},e}var l0=s0(),f0=function(t){return l0().sanitize(t)},d0=OC.deviceType.isTouch(),p0=function(t,e){return{dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[t,e]}},m0=function(t,e){return CX.parts.close(oC.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":e.translate("Close")}},action:t,buttonBehaviours:ed([LR.config({})])}))},h0=function(){return CX.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}})},v0=function(t,e){return CX.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:VU("<p>".concat(f0(e.translate(t)),"</p>"))}]}]})},g0=function(t){return CX.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:t})},b0=function(t,e){return[SR.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:t}),SR.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:e})]},y0=function(t){var e,n="tox-dialog",r=n+"-wrap",o=r+"__backdrop",i=n+"__disable-scroll";return CX.sketch({lazySink:t.lazySink,onEscape:function(e){return t.onEscape(e),Y.some(!0)},useTabstopAt:function(t){return!FB(t)},firstTabstop:t.firstTabstop,dom:{tag:"div",classes:[n].concat(t.extraClasses),styles:a({position:"relative"},t.extraStyles)},components:[t.header,t.body].concat(c(t.footer.toArray())),parts:{blocker:{dom:VU('<div class="'.concat(r,'"></div>')),components:[{dom:{tag:"div",classes:d0?[o,o+"--opaque"]:[o]}}]}},dragBlockClass:r,modalBehaviours:ed([qw.config({}),Rw("dialog-events",t.dialogEvents.concat([mc(su(),(function(t,e){hw.focusIn(t)}))])),Rw("scroll-lock",[hc((function(){Ps(vn(),i)})),vc((function(){Bs(vn(),i)}))])].concat(c(t.extraBehaviours))),eventOrder:a((e={},u(e,Su(),["dialog-events"]),u(e,Iu(),["scroll-lock","dialog-events","alloy.base.behaviour"]),u(e,ju(),["alloy.base.behaviour","dialog-events","scroll-lock"]),e),t.eventOrder)})},x0=function(t){return oC.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close"),title:t.translate("Close")}},buttonBehaviours:ed([LR.config({})]),components:[gC("close",{tag:"div",classes:["tox-icon"]},t.icons)],action:function(t){Ku(t,$R)}})},w0=function(t,e,n,r){var o=function(t){return[ll(r.translate(t.title))]};return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:a({},n.map((function(t){return{id:t}})).getOr({}))},components:[],behaviours:ed([_J.config({channel:"".concat(JJ,"-").concat(e),initialData:t,renderComponents:o})])}},_0=function(){return{dom:VU('<div class="tox-dialog__draghandle"></div>')}},C0=function(t,e,n,r){return SR.sketch({dom:VU('<div class="tox-dialog__header"></div>'),components:[w0(t,e,Y.some(n),r),_0(),x0(r)],containerBehaviours:ed([JY.config({mode:"mouse",blockerClass:"blocker",getTarget:function(t){return Sl(t,'[role="dialog"]').getOrDie()},snaps:{getSnapPoints:function(){return[]},leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])})},k0=function(t,e,n){var r=CX.parts.title(w0(t,e,Y.none(),n)),o=CX.parts.draghandle(_0()),i=CX.parts.close(x0(n)),a=[r].concat(t.draggable?[o]:[]).concat([i]);return SR.sketch({dom:VU('<div class="tox-dialog__header"></div>'),components:a})},O0=function(t,e,n){return k0({title:n.shared.providers.translate(t),draggable:n.dialog.isDraggableModal()},e,n.shared.providers)},S0=function(t,e,n){return{dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":n.translate(t)},styles:{left:"0px",right:"0px",bottom:"0px",top:"0px",position:"absolute"}},behaviours:e,components:[{dom:VU('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}},E0=function(t,e,n){return{onClose:function(){return n.closeWindow()},onBlock:function(n){CX.setBusy(t(),(function(t,r){return S0(n.message,r,e)}))},onUnblock:function(){CX.setIdle(t())}}},T0=function(t,e,n,r){var o,i=function(t,e){return Y.some(e)};return hl(y0(a(a({},t),{},{firstTabstop:1,lazySink:r.shared.getSink,extraBehaviours:[_J.config({channel:"".concat(ZJ,"-").concat(t.id),updateState:i,initialData:e}),_B.memory({})].concat(c(t.extraBehaviours)),onEscape:function(t){Ku(t,$R)},dialogEvents:n,eventOrder:(o={},u(o,Ou(),[_J.name(),ud.name()]),u(o,Iu(),["scroll-lock",_J.name(),"messages","dialog-events","alloy.base.behaviour"]),u(o,ju(),["alloy.base.behaviour","dialog-events","messages",_J.name(),"scroll-lock"]),o)})))},A0=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=function(t){var n=at(t.items,(function(t){var n=zt(e,t.name).getOr(Aa(!1));return a(a({},t),{},{storage:n})}));return a(a({},t),{},{items:n})};return at(t,(function(t){return"menu"===t.type?n(t):t}))},N0=function(t){return dt(t,(function(t,e){if("menu"===e.type){var n=e;return dt(n.items,(function(t,e){return t[e.name]=e.storage,t}),t)}return t}),{})},R0=function(t,e){return[fc(su(),jB),t(WR,(function(t,n,r,o){pd(cn(o.element)).fold(L,fd),e.onClose(),n.onClose()})),t($R,(function(t,e,n,r){e.onCancel(t),Ku(r,WR)})),ic(XR,(function(t,n){return e.onUnblock()})),ic(YR,(function(t,n){return e.onBlock(n.event)}))]},D0=function(t,e){var n=function(e,n){return ic(e,(function(e,o){r(e,(function(r,i){n(t(),r,o.event,e)}))}))},r=function(t,e){_J.getState(t).get().each((function(n){e(n,t)}))};return[].concat(c(R0(n,e)),[n(GR,(function(t,e,n){e.onAction(t,{name:n.name})}))])},P0=function(t,e,n){var r=function(e,n){return ic(e,(function(e,r){o(e,(function(o,i){n(t(),o,r.event,e)}))}))},o=function(t,e){_J.getState(t).get().each((function(n){e(n.internalDialog,t)}))};return[].concat(c(R0(r,e)),[r(KR,(function(t,e){return e.onSubmit(t)})),r(VR,(function(t,e,n){e.onChange(t,{name:n.name})})),r(GR,(function(t,e,r,o){var i=function(){return hw.focusIn(o)},a=function(t){return Cn(t,"disabled")||_n(t,"aria-disabled").exists((function(t){return"true"===t}))},u=cn(o.element),c=pd(u);e.onAction(t,{name:r.name,value:r.value}),pd(u).fold(i,(function(t){a(t)||c.exists((function(e){return He(t,e)&&a(e)}))?i():n().toOptional().filter((function(e){return!He(e.element,t)})).each(i)}))})),r(ZR,(function(t,e,n){e.onTabChange(t,{newTabName:n.name,oldTabName:n.oldName})})),vc((function(e){var n=t();Iv.setValue(e,n.getData())}))])},M0={initUrlDialog:D0,initDialog:P0},B0=function(t,e){return hj(t,t.type,e)},L0=function(t,e,n){return mt(e,(function(t){return t.name===n})).bind((function(e){return e.memento.getOpt(t)}))},I0=function(t,e){var n=e.map((function(t){return t.footerButtons})).getOr([]),r=st(n,(function(t){return"start"===t.align})),o=function(t,e){return SR.sketch({dom:{tag:"div",classes:["tox-dialog__footer-".concat(t)]},components:at(e,(function(t){return t.memento.asSpec()}))})},i=o("start",r.pass),a=o("end",r.fail);return[i,a]},j0=function(t,e,n){var r=function(t,e){var r=at(e.buttons,(function(t){var e=iC(B0(t,n));return{name:t.name,align:t.align,memento:e}})),o=function(e){return L0(t,r,e)};return Y.some({lookupByName:o,footerButtons:r})};return{dom:VU('<div class="tox-dialog__footer"></div>'),components:[],behaviours:ed([_J.config({channel:"".concat(tQ,"-").concat(e),initialData:t,updateState:r,renderComponents:I0})])}},F0=function(t,e,n){return j0(t,e,n)},q0=function(t,e,n){return CX.parts.footer(j0(t,e,n))},z0=function(t,e){var n=t.getRoot();if(n.getSystem().isConnected()){var r=eb.getCurrent(t.getFormWrapper()).getOr(t.getFormWrapper());return rB.getField(r,e).orThunk((function(){var n=t.getFooter(),r=_J.getState(n).get();return r.bind((function(t){return t.lookupByName(e)}))}))}return Y.none()},U0=function(t,e){var n=t.getRoot();return _J.getState(n).get().map((function(t){return Wi(Vi("data",t.dataValidator,e))})).getOr(e)},H0=function(t,e,n){var r=function(e){var n=t.getRoot();n.getSystem().isConnected()&&e(n)},o=function(){var e=t.getRoot(),r=e.getSystem().isConnected()?t.getFormWrapper():e,o=Iv.getValue(r),i=Dt(n,(function(t){return t.get()}));return a(a({},o),i)},i=function(e){r((function(r){var o=m.getData(),i=$o(o,e),a=U0(t,i),u=t.getFormWrapper();Iv.setValue(u,a),Rt(n,(function(t,e){Ut(i,e)&&t.set(i[e])}))}))},u=function(e,n){z0(t,e).each(n?xb.enable:xb.disable)},c=function(e){z0(t,e).each(qw.focus)},s=function(t){if(!k(t))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");r((function(e){Yu(e,YR,{message:t})}))},l=function(){r((function(t){Ku(t,XR)}))},f=function(e){r((function(n){var r=t.getBody(),o=_J.getState(r);o.get().exists((function(t){return t.isTabPanel()}))&&eb.getCurrent(r).each((function(t){FJ.showTab(t,e)}))}))},d=function(o){r((function(r){var i=t.getId(),u=e(o),c=A0(u.internalDialog.buttons,n);r.getSystem().broadcastOn(["".concat(ZJ,"-").concat(i)],u),r.getSystem().broadcastOn(["".concat(JJ,"-").concat(i)],u.internalDialog),r.getSystem().broadcastOn(["".concat(QJ,"-").concat(i)],u.internalDialog),r.getSystem().broadcastOn(["".concat(tQ,"-").concat(i)],a(a({},u.internalDialog),{},{buttons:c})),m.setData(u.initialData)}))},p=function(){r((function(t){Ku(t,WR)}))},m={getData:o,setData:i,setEnabled:u,focus:c,block:s,unblock:l,showTab:f,redial:d,close:p,toggleFullscreen:t.toggleFullscreen};return m},V0=function(t){switch(t){case"large":return["tox-dialog--width-lg"];case"medium":return["tox-dialog--width-md"];default:return[]}},W0=function(t,e,n){var r=Rc("dialog"),o=t.internalDialog,i=O0(o.title,r,n),a=oQ({body:o.body,initialData:o.initialData},r,n),u=A0(o.buttons),c=N0(u),s=q0({buttons:u},r,n),l=M0.initDialog((function(){return h}),E0((function(){return p}),n.shared.providers,e),n.shared.getSink),f=V0(o.size),d={id:r,header:i,body:a,footer:Y.some(s),extraClasses:f,extraBehaviours:[],extraStyles:{}},p=T0(d,t,l,n),m=function(){var t=function(){var t=CX.getBody(p);return eb.getCurrent(t).getOr(t)},e=function(){var t="tox-dialog--fullscreen",e=ve.fromDom(p.element.dom);Ls(e,t)?(Bs(e,t),Is(e,f)):(js(e,f),Ps(e,t))};return{getId:q(r),getRoot:q(p),getBody:function(){return CX.getBody(p)},getFooter:function(){return CX.getFooter(p)},getFormWrapper:t,toggleFullscreen:e}}(),h=H0(m,e.redial,c);return{dialog:p,instanceApi:h}},$0=function(t,e,n,r){var o,i,a=Rc("dialog"),c=Rc("dialog-label"),s=Rc("dialog-content"),l=t.internalDialog,f=function(t,e){return Y.some(e)},d=iC(C0({title:l.title,draggable:!0},a,c,n.shared.providers)),p=iC(rQ({body:l.body,initialData:l.initialData},a,s,n,r)),m=A0(l.buttons),h=N0(m),v=iC(F0({buttons:m},a,n)),g=M0.initDialog((function(){return w}),{onBlock:function(t){zU.block(y,(function(e,r){return S0(t.message,r,n.shared.providers)}))},onUnblock:function(){zU.unblock(y)},onClose:function(){return e.closeWindow()}},n.shared.getSink),b="tox-dialog-inline",y=hl({dom:{tag:"div",classes:["tox-dialog",b],attributes:(o={role:"dialog"},u(o,"aria-labelledby",c),u(o,"aria-describedby",s),o)},eventOrder:(i={},u(i,Ou(),[_J.name(),ud.name()]),u(i,Su(),["execute-on-form"]),u(i,Iu(),["reflecting","execute-on-form"]),i),behaviours:ed([hw.config({mode:"cyclic",onEscape:function(t){return Ku(t,WR),Y.some(!0)},useTabstopAt:function(t){return!FB(t)&&("button"!==Ae(t)||"disabled"!==wn(t,"disabled"))},firstTabstop:1}),_J.config({channel:"".concat(ZJ,"-").concat(a),updateState:f,initialData:t}),qw.config({}),Rw("execute-on-form",g.concat([mc(su(),(function(t,e){hw.focusIn(t)}))])),zU.config({getRoot:function(){return Y.some(y)}}),Aw.config({}),_B.memory({})]),components:[d.asSpec(),p.asSpec(),v.asSpec()]}),x=function(){var t="tox-dialog--fullscreen",e=ve.fromDom(y.element.dom);Fs(e,[t])?(js(e,[t]),Is(e,[b])):(js(e,[b]),Is(e,[t]))},w=H0({getId:q(a),getRoot:q(y),getFooter:function(){return v.get(y)},getBody:function(){return p.get(y)},getFormWrapper:function(){var t=p.get(y);return eb.getCurrent(t).getOr(t)},toggleFullscreen:x},e.redial,h);return{dialog:y,instanceApi:w}},G0=tinymce.util.Tools.resolve("tinymce.util.URI"),K0=function(t){var e=function(e){t.getSystem().isConnected()&&e(t)},n=function(t){if(!k(t))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");e((function(e){Yu(e,YR,{message:t})}))},r=function(){e((function(t){Ku(t,XR)}))},o=function(){e((function(t){Ku(t,WR)}))},i=function(t){e((function(e){e.getSystem().broadcastOn([eQ],t)}))};return{block:n,unblock:r,close:o,sendMessage:i}},Y0=["insertContent","setContent","execCommand","close","block","unblock"],X0=function(t){return O(t)&&-1!==Y0.indexOf(t.mceAction)},Z0=function(t){return!X0(t)&&O(t)&&Ut(t,"mceAction")},J0=function(t,e,n){switch(n.mceAction){case"insertContent":t.insertContent(n.content);break;case"setContent":t.setContent(n.content);break;case"execCommand":var r=!!A(n.ui)&&n.ui;t.execCommand(n.cmd,r,n.value);break;case"close":e.close();break;case"block":e.block(n.message);break;case"unblock":e.unblock();break}},Q0=function(t,e,n,r){var o=Rc("dialog"),i=O0(t.title,o,r),c=iQ(t),s=t.buttons.bind((function(t){return 0===t.length?Y.none():Y.some(q0({buttons:t},o,r))})),l=M0.initUrlDialog((function(){return y}),E0((function(){return b}),r.shared.providers,e)),f=a(a({},t.height.fold((function(){return{}}),(function(t){return{height:t+"px","max-height":t+"px"}}))),t.width.fold((function(){return{}}),(function(t){return{width:t+"px","max-width":t+"px"}}))),d=t.width.isNone()&&t.height.isNone()?["tox-dialog--width-lg"]:[],p=new G0(t.url,{base_uri:new G0(window.location.href)}),m="".concat(p.protocol,"://").concat(p.host).concat(p.port?":"+p.port:""),h=Hd(),v=[Rw("messages",[hc((function(){var e=$d(ve.fromDom(window),"message",(function(e){if(p.isSameOrigin(new G0(e.raw.origin))){var r=e.raw.data;X0(r)?J0(n,y,r):Z0(r)&&t.onMessage(y,r)}}));h.set(e)})),vc(h.clear)]),ud.config({channels:u({},eQ,{onReceive:function(t,e){Ol(t.element,"iframe").each((function(t){var n=t.dom.contentWindow;D(n)&&n.postMessage(e,m)}))}})})],g={id:o,header:i,body:c,footer:s,extraClasses:d,extraBehaviours:v,extraStyles:f},b=T0(g,t,l,r),y=K0(b);return{dialog:b,instanceApi:y}},t1=function(t){var e=t.shared,n=function(n,r){var o=function(){CX.hide(c),r()},i=iC(hj({name:"close-alert",text:"OK",primary:!0,buttonType:Y.some("primary"),align:"end",enabled:!0,icon:Y.none()},"cancel",t)),a=h0(),u=m0(o,e.providers),c=hl(y0({lazySink:function(){return e.getSink()},header:p0(a,u),body:v0(n,e.providers),footer:Y.some(g0(b0([],[i.asSpec()]))),onEscape:o,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[ic($R,o)],eventOrder:{}}));CX.show(c);var s=i.get(c);qw.focus(s)};return{open:n}},e1=function(t){var e=t.shared,n=function(n,r){var o=function(t){CX.hide(s),r(t)},i=iC(hj({name:"yes",text:"Yes",primary:!0,buttonType:Y.some("primary"),align:"end",enabled:!0,icon:Y.none()},"submit",t)),a=hj({name:"no",text:"No",primary:!1,buttonType:Y.some("secondary"),align:"end",enabled:!0,icon:Y.none()},"cancel",t),u=h0(),c=m0((function(){return o(!1)}),e.providers),s=hl(y0({lazySink:function(){return e.getSink()},header:p0(u,c),body:v0(n,e.providers),footer:Y.some(g0(b0([],[a,i.asSpec()]))),onEscape:function(){return o(!1)},extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[ic($R,(function(){return o(!1)})),ic(KR,(function(){return o(!0)}))],eventOrder:{}}));CX.show(s);var l=i.get(s);qw.focus(l)};return{open:n}},n1=function(t,e){return Wi(Vi("data",e,t))},r1=function(t){return nR(t,".tox-alert-dialog")||nR(t,".tox-confirm-dialog")},o1=function(t,e,n){return e&&n?[]:[Fz.config({contextual:{lazyContext:function(){return Y.some(yo(ve.fromDom(t.getContentAreaContainer())))},fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"],lazyViewport:function(e){var n=tR(t,e.element);return n.map((function(t){var e=eR(t);return{bounds:e,optScrollEnv:Y.some({currentScrollTop:t.element.dom.scrollTop,scrollElmTop:Gn(t.element).top})}})).getOrThunk((function(){return{bounds:Co(),optScrollEnv:Y.none()}}))}})]},i1=function(t){var e=t.editor,n=kk(e),r=t1(t.backstages.dialog),o=e1(t.backstages.dialog),i=function(e,n,r){return void 0!==n&&"toolbar"===n.inline?f(e,t.backstages.popup.shared.anchors.inlineDialog(),r,n.ariaAttrs):void 0!==n&&"cursor"===n.inline?f(e,t.backstages.popup.shared.anchors.cursor(),r,n.ariaAttrs):l(e,r)},u=function(t,e){return s(t,e)},s=function(n,r){var o=function(n){var o=Q0(n,{closeWindow:function(){CX.hide(o.dialog),r(o.instanceApi)}},e,t.backstages.dialog);return CX.show(o.dialog),o.instanceApi};return mJ.openUrl(o,n)},l=function(e,n){var r=function(e,r,o){var i=r,a={dataValidator:o,initialData:i,internalDialog:e},u=W0(a,{redial:mJ.redial,closeWindow:function(){CX.hide(u.dialog),n(u.instanceApi)}},t.backstages.dialog);return CX.show(u.dialog),u.instanceApi.setData(i),u.instanceApi};return mJ.open(r,e)},f=function(r,o,i){var u=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=function(r,s,l){var f=n1(s,l),d=Vd(),p=t.backstages.popup.shared.header.isPositionedAtTop(),m={dataValidator:l,initialData:f,internalDialog:r},h=function(){return d.on((function(t){eC.reposition(t),Fz.refresh(t)}))},v=$0(m,{redial:mJ.redial,closeWindow:function(){d.on(eC.hide),e.off("ResizeEditor",h),d.clear(),i(v.instanceApi)}},t.backstages.popup,u),g=hl(eC.sketch(a(a({lazySink:t.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:{}},p?{}:{fireRepositionEventInstead:{}}),{},{inlineBehaviours:ed([Rw("window-manager-inline-events",[ic(Fu(),(function(t,e){Ku(v.dialog,$R)}))])].concat(c(o1(e,n,p)))),isExtraPart:function(t,e){return r1(e)}})));d.set(g);var b=function(){var t=e.inline?vn():ve.fromDom(e.getContainer()),n=yo(t);return Y.some(n)};return eC.showWithinBounds(g,vl(v.dialog),{anchor:o},b),n&&p||(Fz.refresh(g),e.on("ResizeEditor",h)),v.instanceApi.setData(f),hw.focusIn(v.dialog),v.instanceApi};return mJ.open(s,r)},d=function(t,e){o.open(t,e)},p=function(t,e){r.open(t,e)},m=function(t){t.close()};return{open:i,openUrl:u,alert:p,close:m,confirm:d}},a1=function(t){AC(t),rA(t),aK(t)},u1=function(){ko.add("silver",(function(t){a1(t);var e=function(){return Co()},n=vX(t,{getPopupSinkBounds:function(){return e()}}),i=n.dialogs,a=n.popups,u=n.renderUI,c=function(){var n=o(r().mark((function n(){var o,i;return r().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,u();case 2:return o=n.sent,i=tR(t,a.getMothership().element),i.each((function(t){e=function(){return eR(t)}})),n.abrupt("return",o);case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();XN.register(t,a.backstage.shared);var s=i1({editor:t,backstages:{popup:a.backstage,dialog:i.backstage}}),l=function(){return _C(t,{backstage:a.backstage},a.getMothership())};return{renderUI:c,getWindowManagerImpl:q(s),getNotificationManagerImpl:l}}))};u1()}()},635:function(t,e,n){t=n.nmd(t);var r=n(5409)["default"],o=n(2468)["default"],i=n(8853)["default"],a=n(4573)["default"],u=n(598)["default"],c=n(22)["default"],s=n(2214)["default"],l=n(1551)["default"],f=n(4982)["default"],d=n(6728)["default"],p=n(2046)["default"],m=n(1692)["default"],h=["uid"];n(8309),n(7941),n(2707),n(7042),n(2772),n(489),n(2222),n(1703),n(6647),n(5212),n(1539),n(7658),n(5069),n(1038),n(8783),n(4916),n(7601),n(9653),n(5306),n(4765),n(1058),n(1249),n(3123),n(9600),n(7327),n(7922),n(3948),n(4129),n(3210),n(4603),n(8450),n(8386),n(9714),n(561),n(514),n(4986),n(2564),n(4678),n(4723),n(3371),n(189),n(5505),n(7714),n(2801),n(1174),n(9575),n(2472),n(8675),n(2990),n(8927),n(3105),n(5035),n(4345),n(7174),n(3408),n(2958),n(2846),n(4731),n(7209),n(6319),n(8867),n(7789),n(3739),n(9368),n(4483),n(2056),n(3462),n(678),n(7462),n(3824),n(5021),n(2974),n(5016),n(3767),n(8585),n(8696),n(7479),n(2526),n(1817),n(2165),n(8304),n(7987),n(1299),n(5706),n(8410),n(5003),n(6535),n(9554),n(5218),n(285),n(1637),n(6373),n(8862),n(9070),function(){"use strict";var e=function(t){if(null===t)return"null";if(void 0===t)return"undefined";var e=m(t);return"object"===e&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"===e&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":e},n=function(t){return{eq:t}},v=n((function(t,e){return t===e})),g=function(t){return n((function(e,n){if(e.length!==n.length)return!1;for(var r=e.length,o=0;o<r;o++)if(!t.eq(e[o],n[o]))return!1;return!0}))},b=function(t){return n((function(e,r){var o=Object.keys(e),i=Object.keys(r);if(!function(t,e){return function(t,e){return n((function(n,r){return t.eq(e(n),e(r))}))}(g(t),(function(t){return function(t,e){return Array.prototype.slice.call(t).sort(e)}(t,e)}))}(v).eq(o,i))return!1;for(var a=o.length,u=0;u<a;u++){var c=o[u];if(!t.eq(e[c],r[c]))return!1}return!0}))},y=n((function(t,n){if(t===n)return!0;var r=e(t);return r===e(n)&&(function(t){return-1!==["undefined","boolean","number","string","function","xml","null"].indexOf(t)}(r)?t===n:"array"===r?g(y).eq(t,n):"object"===r&&b(y).eq(t,n))})),x=Object.getPrototypeOf,w=function(t,e,n){var r;return!!n(t,e.prototype)||(null===(r=t.constructor)||void 0===r?void 0:r.name)===e.name},_=function(t){return function(e){return function(t){var e=m(t);return null===t?"null":"object"===e&&Array.isArray(t)?"array":"object"===e&&w(t,String,(function(t,e){return e.isPrototypeOf(t)}))?"string":e}(e)===t}},C=function(t){return function(e){return m(e)===t}},k=function(t){return function(e){return t===e}},O=function(t,e){return E(t)&&w(t,e,(function(t,e){return x(t)===e}))},S=_("string"),E=_("object"),T=function(t){return O(t,Object)},A=_("array"),N=k(null),R=C("boolean"),D=k(void 0),P=function(t){return null==t},M=function(t){return!P(t)},B=C("function"),L=C("number"),I=function(t,e){if(A(t)){for(var n=0,r=t.length;n<r;++n)if(!e(t[n]))return!1;return!0}return!1},j=function(){},F=function(t,e){return function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t(e.apply(null,r))}},q=function(t,e){return function(n){return t(e(n))}},z=function(t){return function(){return t}},U=function(t){return t},H=function(t,e){return t===e};function V(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];var i=n.concat(r);return t.apply(null,i)}}var W=function(t){return function(e){return!t(e)}},$=function(t){return function(){throw new Error(t)}},G=function(t){return t()},K=function(t){t()},Y=z(!1),X=z(!0),Z=function(){function t(e,n){d(this,t),this.tag=e,this.value=n}return p(t,[{key:"fold",value:function(t,e){return this.tag?e(this.value):t()}},{key:"isSome",value:function(){return this.tag}},{key:"isNone",value:function(){return!this.tag}},{key:"map",value:function(e){return this.tag?t.some(e(this.value)):t.none()}},{key:"bind",value:function(e){return this.tag?e(this.value):t.none()}},{key:"exists",value:function(t){return this.tag&&t(this.value)}},{key:"forall",value:function(t){return!this.tag||t(this.value)}},{key:"filter",value:function(e){return!this.tag||e(this.value)?this:t.none()}},{key:"getOr",value:function(t){return this.tag?this.value:t}},{key:"or",value:function(t){return this.tag?this:t}},{key:"getOrThunk",value:function(t){return this.tag?this.value:t()}},{key:"orThunk",value:function(t){return this.tag?this:t()}},{key:"getOrDie",value:function(t){if(this.tag)return this.value;throw new Error(null!=t?t:"Called getOrDie on None")}},{key:"getOrNull",value:function(){return this.tag?this.value:null}},{key:"getOrUndefined",value:function(){return this.value}},{key:"each",value:function(t){this.tag&&t(this.value)}},{key:"toArray",value:function(){return this.tag?[this.value]:[]}},{key:"toString",value:function(){return this.tag?"some(".concat(this.value,")"):"none()"}}],[{key:"some",value:function(e){return new t(!0,e)}},{key:"none",value:function(){return t.singletonNone}},{key:"from",value:function(e){return M(e)?t.some(e):t.none()}}]),t}();Z.singletonNone=new Z(!1);var J=Array.prototype.slice,Q=Array.prototype.indexOf,tt=Array.prototype.push,et=function(t,e){return Q.call(t,e)},nt=function(t,e){return et(t,e)>-1},rt=function(t,e){for(var n=0,r=t.length;n<r;n++)if(e(t[n],n))return!0;return!1},ot=function(t,e){for(var n=t.length,r=new Array(n),o=0;o<n;o++){var i=t[o];r[o]=e(i,o)}return r},it=function(t,e){for(var n=0,r=t.length;n<r;n++)e(t[n],n)},at=function(t,e){for(var n=t.length-1;n>=0;n--)e(t[n],n)},ut=function(t,e){for(var n=[],r=[],o=0,i=t.length;o<i;o++){var a=t[o];(e(a,o)?n:r).push(a)}return{pass:n,fail:r}},ct=function(t,e){for(var n=[],r=0,o=t.length;r<o;r++){var i=t[r];e(i,r)&&n.push(i)}return n},st=function(t,e,n){return at(t,(function(t,r){n=e(n,t,r)})),n},lt=function(t,e,n){return it(t,(function(t,r){n=e(n,t,r)})),n},ft=function(t,e,n){for(var r=0,o=t.length;r<o;r++){var i=t[r];if(e(i,r))return Z.some(i);if(n(i,r))break}return Z.none()},dt=function(t,e){return ft(t,e,Y)},pt=function(t,e){for(var n=0,r=t.length;n<r;n++)if(e(t[n],n))return Z.some(n);return Z.none()},mt=function(t){for(var e=[],n=0,r=t.length;n<r;++n){if(!A(t[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+t);tt.apply(e,t[n])}return e},ht=function(t,e){return mt(ot(t,e))},vt=function(t,e){for(var n=0,r=t.length;n<r;++n)if(!0!==e(t[n],n))return!1;return!0},gt=function(t){var e=J.call(t,0);return e.reverse(),e},bt=function(t,e){return ct(t,(function(t){return!nt(e,t)}))},yt=function(t,e){for(var n={},r=0,o=t.length;r<o;r++){var i=t[r];n[String(i)]=e(i,r)}return n},xt=function(t,e){var n=J.call(t,0);return n.sort(e),n},wt=function(t,e){return e>=0&&e<t.length?Z.some(t[e]):Z.none()},_t=function(t){return wt(t,0)},Ct=function(t){return wt(t,t.length-1)},kt=B(Array.from)?Array.from:function(t){return J.call(t)},Ot=function(t,e){for(var n=0;n<t.length;n++){var r=e(t[n],n);if(r.isSome())return r}return Z.none()},St=Object.keys,Et=Object.hasOwnProperty,Tt=function(t,e){for(var n=St(t),r=0,o=n.length;r<o;r++){var i=n[r];e(t[i],i)}},At=function(t,e){return Nt(t,(function(t,n){return{k:n,v:e(t,n)}}))},Nt=function(t,e){var n={};return Tt(t,(function(t,r){var o=e(t,r);n[o.k]=o.v})),n},Rt=function(t){return function(e,n){t[n]=e}},Dt=function(t,e,n,r){Tt(t,(function(t,o){(e(t,o)?n:r)(t,o)}))},Pt=function(t,e){var n={};return Dt(t,e,Rt(n),j),n},Mt=function(t,e){var n=[];return Tt(t,(function(t,r){n.push(e(t,r))})),n},Bt=function(t){return Mt(t,U)},Lt=function(t,e){return It(t,e)?Z.from(t[e]):Z.none()},It=function(t,e){return Et.call(t,e)},jt=function(t,e){return It(t,e)&&void 0!==t[e]&&null!==t[e]},Ft=function(t){var e={};return it(t,(function(t){e[t]={}})),St(e)},qt=function(t){return void 0!==t.length},zt=Array.isArray,Ut=function(t,e,n){if(!t)return!1;if(n=n||t,qt(t)){for(var r=0,o=t.length;r<o;r++)if(!1===e.call(n,t[r],r,t))return!1}else for(var i in t)if(It(t,i)&&!1===e.call(n,t[i],i,t))return!1;return!0},Ht=function(t,e){var n=[];return Ut(t,(function(r,o){n.push(e(r,o,t))})),n},Vt=function(t,e){var n=[];return Ut(t,(function(r,o){e&&!e(r,o,t)||n.push(r)})),n},Wt=function(t,e,n,r){for(var o=D(n)?t[0]:n,i=0;i<t.length;i++)o=e.call(r,o,t[i],i);return o},$t=function(t,e,n){for(var r=0,o=t.length;r<o;r++)if(e.call(n,t[r],r,t))return r;return-1},Gt=function(t){return t[t.length-1]},Kt=function(t){var e,n=!1;return function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n||(n=!0,e=t.apply(null,o)),e}},Yt=function(){return Xt(0,0)},Xt=function(t,e){return{major:t,minor:e}},Zt={nu:Xt,detect:function(t,e){var n=String(e).toLowerCase();return 0===t.length?Yt():function(t,e){var n=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r.test(e))return r}}(t,e);if(!n)return{major:0,minor:0};var r=function(t){return Number(e.replace(n,"$"+t))};return Xt(r(1),r(2))}(t,n)},unknown:Yt},Jt=function(t,e){var n=String(e).toLowerCase();return dt(t,(function(t){return t.search(n)}))},Qt=function(t,e,n){return""===e||t.length>=e.length&&t.substr(n,n+e.length)===e},te=function(t,e){return ne(t,e)?function(t,e){return t.substring(e)}(t,e.length):t},ee=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3?arguments[3]:void 0,o=t.indexOf(e,n);return-1!==o&&(!!D(r)||o+e.length<=r)},ne=function(t,e){return Qt(t,e,0)},re=function(t,e){return Qt(t,e,t.length-e.length)},oe=function(t){return function(e){return e.replace(t,"")}},ie=oe(/^\s+|\s+$/g),ae=oe(/^\s+/g),ue=oe(/\s+$/g),ce=function(t){return t.length>0},se=function(t){return!ce(t)},le=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=parseInt(t,e);return isNaN(n)?Z.none():Z.some(n)},fe=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,de=function(t){return function(e){return ee(e,t)}},pe=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(t){return ee(t,"edge/")&&ee(t,"chrome")&&ee(t,"safari")&&ee(t,"applewebkit")}},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,fe],search:function(t){return ee(t,"chrome")&&!ee(t,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(t){return ee(t,"msie")||ee(t,"trident")}},{name:"Opera",versionRegexes:[fe,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:de("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:de("firefox")},{name:"Safari",versionRegexes:[fe,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(t){return(ee(t,"safari")||ee(t,"mobile/"))&&ee(t,"applewebkit")}}],me=[{name:"Windows",search:de("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(t){return ee(t,"iphone")||ee(t,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:de("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:de("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:de("linux"),versionRegexes:[]},{name:"Solaris",search:de("sunos"),versionRegexes:[]},{name:"FreeBSD",search:de("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:de("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],he={browsers:z(pe),oses:z(me)},ve="Edge",ge="Chromium",be="Opera",ye="Firefox",xe="Safari",we=function(t){var e=t.current,n=t.version,r=function(t){return function(){return e===t}};return{current:e,version:n,isEdge:r(ve),isChromium:r(ge),isIE:r("IE"),isOpera:r(be),isFirefox:r(ye),isSafari:r(xe)}},_e=function(){return we({current:void 0,version:Zt.unknown()})},Ce=we,ke=(z(ve),z(ge),z("IE"),z(be),z(ye),z(xe),"Windows"),Oe="Android",Se="Linux",Ee="macOS",Te="Solaris",Ae="FreeBSD",Ne="ChromeOS",Re=function(t){var e=t.current,n=t.version,r=function(t){return function(){return e===t}};return{current:e,version:n,isWindows:r(ke),isiOS:r("iOS"),isAndroid:r(Oe),isMacOS:r(Ee),isLinux:r(Se),isSolaris:r(Te),isFreeBSD:r(Ae),isChromeOS:r(Ne)}},De=function(){return Re({current:void 0,version:Zt.unknown()})},Pe=Re,Me=(z(ke),z("iOS"),z(Oe),z(Se),z(Ee),z(Te),z(Ae),z(Ne),function(t){return window.matchMedia(t).matches}),Be=Kt((function(){return function(t,e,n){var r=he.browsers(),o=he.oses(),i=e.bind((function(t){return function(t,e){return Ot(e.brands,(function(e){var n=e.brand.toLowerCase();return dt(t,(function(t){var e;return n===(null===(e=t.brand)||void 0===e?void 0:e.toLowerCase())})).map((function(t){return{current:t.name,version:Zt.nu(parseInt(e.version,10),0)}}))}))}(r,t)})).orThunk((function(){return function(t,e){return Jt(t,e).map((function(t){var n=Zt.detect(t.versionRegexes,e);return{current:t.name,version:n}}))}(r,t)})).fold(_e,Ce),a=function(t,e){return Jt(t,e).map((function(t){var n=Zt.detect(t.versionRegexes,e);return{current:t.name,version:n}}))}(o,t).fold(De,Pe),u=function(t,e,n,r){var o=t.isiOS()&&!0===/ipad/i.test(n),i=t.isiOS()&&!o,a=t.isiOS()||t.isAndroid(),u=a||r("(pointer:coarse)"),c=o||!i&&a&&r("(min-device-width:768px)"),s=i||a&&!c,l=e.isSafari()&&t.isiOS()&&!1===/safari/i.test(n),f=!s&&!c&&!l;return{isiPad:z(o),isiPhone:z(i),isTablet:z(c),isPhone:z(s),isTouch:z(u),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:z(l),isDesktop:z(f)}}(a,i,t,n);return{browser:i,os:a,deviceType:u}}(navigator.userAgent,Z.from(navigator.userAgentData),Me)})),Le=function(){return Be()},Ie=navigator.userAgent,je=Le(),Fe=je.browser,qe=je.os,ze=je.deviceType,Ue=-1!==Ie.indexOf("Windows Phone"),He={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:Fe.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!Fe.isIE(),windowsPhone:Ue,browser:{current:Fe.current,version:Fe.version,isChromium:Fe.isChromium,isEdge:Fe.isEdge,isFirefox:Fe.isFirefox,isIE:Fe.isIE,isOpera:Fe.isOpera,isSafari:Fe.isSafari},os:{current:qe.current,version:qe.version,isAndroid:qe.isAndroid,isChromeOS:qe.isChromeOS,isFreeBSD:qe.isFreeBSD,isiOS:qe.isiOS,isLinux:qe.isLinux,isMacOS:qe.isMacOS,isSolaris:qe.isSolaris,isWindows:qe.isWindows},deviceType:{isDesktop:ze.isDesktop,isiPad:ze.isiPad,isiPhone:ze.isiPhone,isPhone:ze.isPhone,isTablet:ze.isTablet,isTouch:ze.isTouch,isWebView:ze.isWebView}},Ve=/^\s*|\s*$/g,We=function(t){return P(t)?"":(""+t).replace(Ve,"")},$e=function t(e,n,r,o){o=o||this,e&&(r&&(e=e[r]),Ut(e,(function(e,i){return!1!==n.call(o,e,i,r)&&(t(e,n,r,o),!0)})))},Ge={trim:We,isArray:zt,is:function(t,e){return e?!("array"!==e||!zt(t))||m(t)===e:void 0!==t},toArray:function(t){if(zt(t))return t;for(var e=[],n=0,r=t.length;n<r;n++)e[n]=t[n];return e},makeMap:function(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=S(t)?t.split(e||","):t||[],o=r.length;o--;)n[r[o]]={};return n},each:Ut,map:Ht,grep:Vt,inArray:function(t,e){if(t)for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},hasOwn:It,extend:function(t){for(var e=0;e<(arguments.length<=1?0:arguments.length-1);e++){var n=e+1<1||arguments.length<=e+1?void 0:arguments[e+1];for(var r in n)if(It(n,r)){var o=n[r];void 0!==o&&(t[r]=o)}}return t},walk:$e,resolve:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window,n=t.split("."),r=0,o=n.length;r<o&&(e=e[n[r]]);r++);return e},explode:function(t,e){return A(t)?t:""===t?[]:Ht(t.split(e||","),We)},_addCacheSuffix:function(t){var e=He.cacheSuffix;return e&&(t+=(-1===t.indexOf("?")?"?":"&")+e),t}},Ke=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:H;return t.exists((function(t){return n(t,e)}))},Ye=function(t,e,n){return t.isSome()&&e.isSome()?Z.some(n(t.getOrDie(),e.getOrDie())):Z.none()},Xe=function(t,e){return t?Z.some(e):Z.none()},Ze="undefined"!=typeof window?window:Function("return this;")(),Je=function(t,e){return function(t,e){for(var n=null!=e?e:Ze,r=0;r<t.length&&null!=n;++r)n=n[t[r]];return n}(t.split("."),e)},Qe=Object.getPrototypeOf,tn=function(t){var e=Je("ownerDocument.defaultView",t);return E(t)&&(function(t){return function(t,e){var n=function(t,e){return Je(t,e)}(t,e);if(null==n)throw new Error(t+" not available on this browser");return n}("HTMLElement",t)}(e).prototype.isPrototypeOf(t)||/^HTML\w*Element$/.test(Qe(t).constructor.name))},en=function(t){return t.dom.nodeName.toLowerCase()},nn=function(t){return t.dom.nodeType},rn=function(t){return function(e){return nn(e)===t}},on=rn(1),an=rn(3),un=rn(9),cn=rn(11),sn=function(t){return function(e){return on(e)&&en(e)===t}},ln=function(t,e,n){if(!(S(n)||R(n)||L(n)))throw console.error("Invalid call to Attribute.set. Key ",e,":: Value ",n,":: Element ",t),new Error("Attribute value was not simple");t.setAttribute(e,n+"")},fn=function(t,e,n){ln(t.dom,e,n)},dn=function(t,e){var n=t.dom;Tt(e,(function(t,e){ln(n,e,t)}))},pn=function(t,e){var n=t.dom.getAttribute(e);return null===n?void 0:n},mn=function(t,e){return Z.from(pn(t,e))},hn=function(t,e){var n=t.dom;return!(!n||!n.hasAttribute)&&n.hasAttribute(e)},vn=function(t,e){t.dom.removeAttribute(e)},gn=function(t){return lt(t.dom.attributes,(function(t,e){return t[e.name]=e.value,t}),{})},bn=function(t,e){var n=pn(t,e);return void 0===n||""===n?[]:n.split(" ")},yn=function(t){return void 0!==t.dom.classList},xn=function(t){return bn(t,"class")},wn=function(t,e){return function(t,e,n){var r=bn(t,e).concat([n]);return fn(t,e,r.join(" ")),!0}(t,"class",e)},_n=function(t,e){return function(t,e,n){var r=ct(bn(t,e),(function(t){return t!==n}));return r.length>0?fn(t,e,r.join(" ")):vn(t,e),!1}(t,"class",e)},Cn=function(t,e){yn(t)?t.dom.classList.add(e):wn(t,e)},kn=function(t){0===(yn(t)?t.dom.classList:xn(t)).length&&vn(t,"class")},On=function(t,e){yn(t)?t.dom.classList.remove(e):_n(t,e),kn(t)},Sn=function(t,e){return yn(t)&&t.dom.classList.contains(e)},En=function(t){if(null==t)throw new Error("Node cannot be null or undefined");return{dom:t}},Tn=function(t,e){var n=(e||document).createElement("div");if(n.innerHTML=t,!n.hasChildNodes()||n.childNodes.length>1){var r="HTML does not have a single root node";throw console.error(r,t),new Error(r)}return En(n.childNodes[0])},An=function(t,e){var n=(e||document).createElement(t);return En(n)},Nn=function(t,e){var n=(e||document).createTextNode(t);return En(n)},Rn=En,Dn=function(t,e,n){return Z.from(t.dom.elementFromPoint(e,n)).map(En)},Pn=function(t,e){var n=[],r=function(t){return n.push(t),e(t)},o=e(t);do{o=o.bind(r)}while(o.isSome());return n},Mn=function(t,e){var n=t.dom;if(1!==n.nodeType)return!1;var r=n;if(void 0!==r.matches)return r.matches(e);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(e);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(e);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(e);throw new Error("Browser lacks native selectors")},Bn=function(t){return 1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType||0===t.childElementCount},Ln=function(t,e){return t.dom===e.dom},In=function(t,e){var n=t.dom,r=e.dom;return n!==r&&n.contains(r)},jn=function(t){return Rn(t.dom.ownerDocument)},Fn=function(t){return un(t)?t:jn(t)},qn=function(t){return Rn(Fn(t).dom.defaultView)},zn=function(t){return Z.from(t.dom.parentNode).map(Rn)},Un=function(t){return Z.from(t.dom.parentElement).map(Rn)},Hn=function(t,e){for(var n=B(e)?e:Y,r=t.dom,o=[];null!==r.parentNode&&void 0!==r.parentNode;){var i=r.parentNode,a=Rn(i);if(o.push(a),!0===n(a))break;r=i}return o},Vn=function(t){return Z.from(t.dom.previousSibling).map(Rn)},Wn=function(t){return Z.from(t.dom.nextSibling).map(Rn)},$n=function(t){return gt(Pn(t,Vn))},Gn=function(t){return Pn(t,Wn)},Kn=function(t){return ot(t.dom.childNodes,Rn)},Yn=function(t,e){var n=t.dom.childNodes;return Z.from(n[e]).map(Rn)},Xn=function(t){return Yn(t,0)},Zn=function(t){return Yn(t,t.dom.childNodes.length-1)},Jn=function(t){return t.dom.childNodes.length},Qn=function(t){return cn(t)&&M(t.dom.host)},tr=B(Element.prototype.attachShadow)&&B(Node.prototype.getRootNode),er=z(tr),nr=tr?function(t){return Rn(t.dom.getRootNode())}:Fn,rr=function(t){return Qn(t)?t:function(t){var e=t.dom.head;if(null==e)throw new Error("Head is not available yet");return Rn(e)}(Fn(t))},or=function(t){return Rn(t.dom.host)},ir=function(t){if(er()&&M(t.target)){var e=Rn(t.target);if(on(e)&&ar(e)&&t.composed&&t.composedPath){var n=t.composedPath();if(n)return _t(n)}}return Z.from(t.target)},ar=function(t){return M(t.dom.shadowRoot)},ur=function t(e){var n=an(e)?e.dom.parentNode:e.dom;if(null==n||null===n.ownerDocument)return!1;var r=n.ownerDocument;return function(t){var e=nr(t);return Qn(e)?Z.some(e):Z.none()}(Rn(n)).fold((function(){return r.body.contains(n)}),q(t,or))},cr=function(t,e,n,r,o){return t(n,r)?Z.some(n):B(o)&&o(n)?Z.none():e(n,r,o)},sr=function(t,e,n){for(var r=t.dom,o=B(n)?n:Y;r.parentNode;){r=r.parentNode;var i=Rn(r);if(e(i))return Z.some(i);if(o(i))break}return Z.none()},lr=function(t,e,n){return cr((function(t,e){return e(t)}),sr,t,e,n)},fr=function(t,e,n){return sr(t,(function(t){return Mn(t,e)}),n)},dr=function(t,e){return function(t,e){var n=void 0===e?document:e.dom;return Bn(n)?Z.none():Z.from(n.querySelector(t)).map(Rn)}(e,t)},pr=function(t,e,n){return cr((function(t,e){return Mn(t,e)}),fr,t,e,n)},mr=function(t){var e,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return ur(t)?t.dom.isContentEditable:(e=t,pr(e,"[contenteditable]")).fold(z(n),(function(t){return"true"===hr(t)}))},hr=function(t){return t.dom.contentEditable},vr=function(t){return void 0!==t.style&&B(t.style.getPropertyValue)},gr=function(t,e,n){if(!S(n))throw console.error("Invalid call to CSS.set. Property ",e,":: Value ",n,":: Element ",t),new Error("CSS value must be a string: "+n);vr(t)&&t.style.setProperty(e,n)},br=function(t,e,n){var r=t.dom;gr(r,e,n)},yr=function(t,e){var n=t.dom;Tt(e,(function(t,e){gr(n,e,t)}))},xr=function(t,e){var n=t.dom,r=window.getComputedStyle(n).getPropertyValue(e);return""!==r||ur(t)?r:wr(n,e)},wr=function(t,e){return vr(t)?t.style.getPropertyValue(e):""},_r=function(t,e){var n=t.dom,r=wr(n,e);return Z.from(r).filter((function(t){return t.length>0}))},Cr=function(t){var e={},n=t.dom;if(vr(n))for(var r=0;r<n.style.length;r++){var o=n.style.item(r);e[o]=n.style[o]}return e},kr=function(t,e){(function(t,e){vr(t)&&t.style.removeProperty(e)})(t.dom,e),Ke(mn(t,"style").map(ie),"")&&vn(t,"style")},Or=function(t,e){zn(t).each((function(n){n.dom.insertBefore(e.dom,t.dom)}))},Sr=function(t,e){Wn(t).fold((function(){zn(t).each((function(t){Tr(t,e)}))}),(function(t){Or(t,e)}))},Er=function(t,e){Xn(t).fold((function(){Tr(t,e)}),(function(n){t.dom.insertBefore(e.dom,n.dom)}))},Tr=function(t,e){t.dom.appendChild(e.dom)},Ar=function(t,e){Or(t,e),Tr(e,t)},Nr=function(t,e){it(e,(function(e){Tr(t,e)}))},Rr=function(t){t.dom.textContent="",it(Kn(t),(function(t){Dr(t)}))},Dr=function(t){var e=t.dom;null!==e.parentNode&&e.parentNode.removeChild(e)},Pr=function(t){var e,n,r=Kn(t);r.length>0&&(e=t,it(n=r,(function(t,r){var o=0===r?e:n[r-1];Sr(o,t)}))),Dr(t)},Mr=function(t){return ot(t,Rn)},Br=function(t){return t.dom.innerHTML},Lr=function(t,e){var n=jn(t).dom,r=Rn(n.createDocumentFragment()),o=function(t,e){var n=(e||document).createElement("div");return n.innerHTML=t,Kn(Rn(n))}(e,n);Nr(r,o),Rr(t),Tr(t,r)},Ir=function(t,e,n,r){return function(t,e,n,r,o){var i=function(t,e){return function(n){t(n)&&e(function(t){var e=Rn(ir(t).getOr(t.target)),n=function(){return t.stopPropagation()},r=function(){return t.preventDefault()},o=F(r,n);return function(t,e,n,r,o,i,a){return{target:t,x:e,y:n,stop:r,prevent:o,kill:i,raw:a}}(e,t.clientX,t.clientY,n,r,o,t)}(n))}}(n,r);return t.dom.addEventListener(e,i,!1),{unbind:V(jr,t,e,i,!1)}}(t,e,n,r)},jr=function(t,e,n,r){t.dom.removeEventListener(e,n,r)},Fr=function t(e,n){return{left:e,top:n,translate:function(r,o){return t(e+r,n+o)}}},qr=Fr,zr=function(t,e){return void 0!==t?t:void 0!==e?e:0},Ur=function(t){var e=t.dom,n=e.ownerDocument.body;return n===e?qr(n.offsetLeft,n.offsetTop):ur(t)?function(t){var e=t.getBoundingClientRect();return qr(e.left,e.top)}(e):qr(0,0)},Hr=function(t){var e=void 0!==t?t.dom:document,n=e.body.scrollLeft||e.documentElement.scrollLeft,r=e.body.scrollTop||e.documentElement.scrollTop;return qr(n,r)},Vr=function(t,e){Le().browser.isSafari()&&B(t.dom.scrollIntoViewIfNeeded)?t.dom.scrollIntoViewIfNeeded(!1):t.dom.scrollIntoView(e)},Wr=function(t,e,n,r){return{x:t,y:e,width:n,height:r,right:t+n,bottom:e+r}},$r=function(t){var e=void 0===t?window:t,n=e.document,r=Hr(Rn(n));return function(t){var e=void 0===t?window:t;return Le().browser.isFirefox()?Z.none():Z.from(e.visualViewport)}(e).fold((function(){var t=e.document.documentElement,n=t.clientWidth,o=t.clientHeight;return Wr(r.left,r.top,n,o)}),(function(t){return Wr(Math.max(t.pageLeft,r.left),Math.max(t.pageTop,r.top),t.width,t.height)}))},Gr=function t(e,n){var r=[];return it(Kn(e),(function(e){n(e)&&(r=r.concat([e])),r=r.concat(t(e,n))})),r},Kr=function(t,e){return function(t,e){var n=void 0===e?document:e.dom;return Bn(n)?[]:ot(n.querySelectorAll(t),Rn)}(e,t)},Yr=function(t,e,n){return fr(t,e,n).isSome()},Xr=function(){function t(e,n){d(this,t),this.node=e,this.rootNode=n,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}return p(t,[{key:"current",value:function(){return this.node}},{key:"next",value:function(t){return this.node=this.findSibling(this.node,"firstChild","nextSibling",t),this.node}},{key:"prev",value:function(t){return this.node=this.findSibling(this.node,"lastChild","previousSibling",t),this.node}},{key:"prev2",value:function(t){return this.node=this.findPreviousNode(this.node,t),this.node}},{key:"findSibling",value:function(t,e,n,r){if(t){if(!r&&t[e])return t[e];if(t!==this.rootNode){var o=t[n];if(o)return o;for(var i=t.parentNode;i&&i!==this.rootNode;i=i.parentNode)if(o=i[n],o)return o}}}},{key:"findPreviousNode",value:function(t,e){if(t){var n=t.previousSibling;if(this.rootNode&&n===this.rootNode)return;if(n){if(!e)for(var r=n.lastChild;r;r=r.lastChild)if(!r.lastChild)return r;return n}var o=t.parentNode;if(o&&o!==this.rootNode)return o}}}]),t}(),Zr=function(t){return function(e){return!!e&&e.nodeType===t}},Jr=function(t){return!!t&&!Object.getPrototypeOf(t)},Qr=Zr(1),to=function(t){var e=t.toLowerCase();return function(t){return M(t)&&t.nodeName.toLowerCase()===e}},eo=function(t){var e=t.map((function(t){return t.toLowerCase()}));return function(t){if(t&&t.nodeName){var n=t.nodeName.toLowerCase();return nt(e,n)}return!1}},no=function(t,e){var n=e.toLowerCase().split(" ");return function(e){if(Qr(e)){var r=e.ownerDocument.defaultView;if(r)for(var o=0;o<n.length;o++){var i=r.getComputedStyle(e,null);if((i?i.getPropertyValue(t):null)===n[o])return!0}}return!1}},ro=function(t){return function(e){return Qr(e)&&e.hasAttribute(t)}},oo=function(t){return Qr(t)&&t.hasAttribute("data-mce-bogus")},io=function(t){return Qr(t)&&"TABLE"===t.tagName},ao=function(t){return function(e){if(Qr(e)){if(e.contentEditable===t)return!0;if(e.getAttribute("data-mce-contenteditable")===t)return!0}return!1}},uo=eo(["textarea","input"]),co=Zr(3),so=Zr(4),lo=Zr(7),fo=Zr(8),po=Zr(9),mo=Zr(11),ho=to("br"),vo=to("img"),go=ao("true"),bo=ao("false"),yo=eo(["td","th"]),xo=eo(["td","th","caption"]),wo=eo(["video","audio","object","embed"]),_o=to("li"),Co="\ufeff",ko=" ",Oo=function(t){return t===Co},So=function(t,e){var n=function(e){return t(e)?Z.from(e.dom.nodeValue):Z.none()};return{get:function(e){if(!t(e))throw new Error("Can only get text value of a text node");return n(e).getOr("")},getOption:n,set:function(e,n){if(!t(e))throw new Error("Can only set raw text value of a text node");e.dom.nodeValue=n}}}(an),Eo=function(t){return So.get(t)},To=function(t){return So.getOption(t)},Ao=["pre"].concat(["h1","h2","h3","h4","h5","h6"]),No=function(t){var e;return function(n){return e=e||yt(t,X),It(e,en(n))}},Ro=No(["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"]),Do=function(t){return on(t)&&!Ro(t)},Po=function(t){return on(t)&&"br"===en(t)},Mo=No(["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"]),Bo=No(["ul","ol","dl"]),Lo=No(["li","dd","dt"]),Io=No(["thead","tbody","tfoot"]),jo=No(["td","th"]),Fo=No(["pre","script","textarea","style"]),qo=No(Ao),zo=function(t){return qo(t)||Do(t)},Uo=function(){var t=An("br");return fn(t,"data-mce-bogus","1"),t},Ho=function(t){Rr(t),Tr(t,Uo())},Vo=function(t){Zn(t).each((function(e){Vn(e).each((function(n){Ro(t)&&Po(e)&&Ro(n)&&Dr(e)}))}))},Wo=Co,$o=Oo,Go=function(t){return t.replace(/\uFEFF/g,"")},Ko=Qr,Yo=co,Xo=function(t){return Yo(t)&&(t=t.parentNode),Ko(t)&&t.hasAttribute("data-mce-caret")},Zo=function(t){return Yo(t)&&$o(t.data)},Jo=function(t){return Xo(t)||Zo(t)},Qo=function(t){return t.firstChild!==t.lastChild||!ho(t.firstChild)},ti=function(t){var e=t.container();return!!co(e)&&(e.data.charAt(t.offset())===Wo||t.isAtStart()&&Zo(e.previousSibling))},ei=function(t){var e=t.container();return!!co(e)&&(e.data.charAt(t.offset()-1)===Wo||t.isAtEnd()&&Zo(e.nextSibling))},ni=function(t){return Yo(t)&&t.data[0]===Wo},ri=function(t){return Yo(t)&&t.data[t.data.length-1]===Wo},oi=function(t){return t&&t.hasAttribute("data-mce-caret")?(function(t){var e,n=t.getElementsByTagName("br"),r=n[n.length-1];oo(r)&&(null===(e=r.parentNode)||void 0===e||e.removeChild(r))}(t),t.removeAttribute("data-mce-caret"),t.removeAttribute("data-mce-bogus"),t.removeAttribute("style"),t.removeAttribute("data-mce-style"),t.removeAttribute("_moz_abspos"),t):null},ii=function(t){return Xo(t.startContainer)},ai=go,ui=bo,ci=ho,si=co,li=eo(["script","style","textarea"]),fi=eo(["img","input","textarea","hr","iframe","video","audio","object","embed"]),di=eo(["table"]),pi=Jo,mi=function(t){return!pi(t)&&(si(t)?!li(t.parentNode):fi(t)||ci(t)||di(t)||hi(t))},hi=function(t){return!function(t){return Qr(t)&&"true"===t.getAttribute("unselectable")}(t)&&ui(t)},vi=function(t,e){return mi(t)&&function(t,e){for(var n=t.parentNode;n&&n!==e;n=n.parentNode){if(hi(n))return!1;if(ai(n))return!0}return!0}(t,e)},gi=/^[ \t\r\n]*$/,bi=function(t){return gi.test(t)},yi=function(t){return"\n"===t||"\r"===t},xi=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=function(t,e){return e<=0?"":new Array(e+1).join(" ")}(0,e),i=t.replace(/\t/g,o),a=lt(i,(function(t,e){return function(t){return-1!==" \f\t\v".indexOf(t)}(e)||e===ko?t.pcIsSpace||""===t.str&&n||t.str.length===i.length-1&&r||function(t,e){return e<t.length&&e>=0&&yi(t[e])}(i,t.str.length+1)?{pcIsSpace:!1,str:t.str+ko}:{pcIsSpace:!0,str:t.str+" "}:{pcIsSpace:yi(e),str:t.str+e}}),{pcIsSpace:!1,str:""});return a.str},wi=function(t,e){return mi(t)&&!function(t,e){return co(t)&&bi(t.data)&&!function(t,e){var n=Rn(e),r=Rn(t);return Yr(r,"pre,code",V(Ln,n))}(t,e)}(t,e)||function(t){return Qr(t)&&"A"===t.nodeName&&!t.hasAttribute("href")&&(t.hasAttribute("name")||t.hasAttribute("id"))}(t)||_i(t)},_i=ro("data-mce-bookmark"),Ci=ro("data-mce-bogus"),ki=function(t){return Qr(t)&&"all"===t.getAttribute("data-mce-bogus")},Oi=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(t,e){var n=0;if(wi(t,t))return!1;var r=t.firstChild;if(!r)return!0;var o=new Xr(r,t);do{if(e){if(ki(r)){r=o.next(!0);continue}if(Ci(r)){r=o.next();continue}}if(ho(r))n++,r=o.next();else{if(wi(r,t))return!1;r=o.next()}}while(r);return n<=1}(t.dom,e)},Si="data-mce-block",Ei=function(t){return function(t){return ct(St(t),(function(t){return!/[A-Z]/.test(t)}))}(t).join(",")},Ti=function(t,e){return M(e.querySelector(t))?(e.setAttribute(Si,"true"),"inline-boundary"===e.getAttribute("data-mce-selected")&&e.removeAttribute("data-mce-selected"),!0):(e.removeAttribute(Si),!1)},Ai=function(t,e){var n=Ei(t.getTransparentElements()),r=Ei(t.getBlockElements());return ct(e.querySelectorAll(n),(function(t){return Ti(r,t)}))},Ni=function(t,e){for(var n,r=e?"lastChild":"firstChild",o=t[r];o;o=o[r])if(Oi(Rn(o)))return void(null===(n=o.parentNode)||void 0===n||n.removeChild(o))},Ri=function(t,e,n){var r=t.getBlockElements(),o=Rn(e),i=function(t){return en(t)in r},a=function(t){return Ln(t,o)};it(Mr(n),(function(e){sr(e,i,a).each((function(n){var r=function(e,r){return ct(Kn(e),(function(e){return i(e)&&!t.isValidChild(en(n),en(e))}))}(e);if(r.length>0){var o=Un(n);it(r,(function(t){sr(t,i,a).each((function(e){(function(t,e){var n=document.createRange(),r=t.parentNode;if(r){n.setStartBefore(t),n.setEndBefore(e);var o=n.extractContents();Ni(o,!0),n.setStartAfter(e),n.setEndAfter(t);var i=n.extractContents();Ni(i,!1),Oi(Rn(o))||r.insertBefore(o,t),Oi(Rn(e))||r.insertBefore(e,t),Oi(Rn(i))||r.insertBefore(i,t),r.removeChild(t)}})(e.dom,t.dom)}))})),o.each((function(e){return Ai(t,e.dom)}))}}))}))},Di=function(t,e){var n=Ai(t,e);Ri(t,e,n),function(t,e,n){it([].concat(f(n),f(Ii(t,e)?[e]:[])),(function(e){return it(Kr(Rn(e),e.nodeName.toLowerCase()),(function(e){ji(t,e.dom)&&Pr(e)}))}))}(t,e,n)},Pi=function(t,e){if(Li(t,e)){var n=Ei(t.getBlockElements());Ti(n,e)}},Mi=function(t){return t.hasAttribute(Si)},Bi=function(t,e){return It(t.getTransparentElements(),e)},Li=function(t,e){return Qr(e)&&Bi(t,e.nodeName)},Ii=function(t,e){return Li(t,e)&&Mi(e)},ji=function(t,e){return Li(t,e)&&!Mi(e)},Fi=function(t,e){return 1===e.type&&Bi(t,e.name)&&D(e.attr(Si))},qi=Le().browser,zi=function(t){return dt(t,on)},Ui=function(t,e){return t.children&&nt(t.children,e)},Hi=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=0,r={},o=Rn(t),i=Fn(o),a=function(t){return new Promise((function(a,u){var c,s=Ge._addCacheSuffix(t),l=function(t){return Lt(r,t).getOrThunk((function(){return{id:"mce-u"+n++,passed:[],failed:[],count:0}}))}(s);r[s]=l,l.count++;var f=function(t,e){it(t,K),l.status=e,l.passed=[],l.failed=[],c&&(c.onload=null,c.onerror=null,c=null)},d=function(){return f(l.passed,2)},p=function(){return f(l.failed,3)};if(a&&l.passed.push(a),u&&l.failed.push(u),1!==l.status)if(2!==l.status)if(3!==l.status){l.status=1;var m,h=An("link",i.dom);dn(h,{rel:"stylesheet",type:"text/css",id:l.id}),e.contentCssCors&&fn(h,"crossOrigin","anonymous"),e.referrerPolicy&&fn(h,"referrerpolicy",e.referrerPolicy),c=h.dom,c.onload=d,c.onerror=p,m=h,Tr(rr(o),m),fn(h,"href",s)}else p();else d()}))},u=function(t){var e=Ge._addCacheSuffix(t);Lt(r,e).each((function(t){0==--t.count&&(delete r[e],function(t){var e=rr(o);dr(e,"#"+t).each(Dr)}(t.id))}))};return{load:a,loadAll:function(t){return Promise.allSettled(ot(t,(function(t){return a(t).then(z(t))}))).then((function(t){var e=ut(t,(function(t){return"fulfilled"===t.status}));return e.fail.length>0?Promise.reject(ot(e.fail,(function(t){return t.reason}))):ot(e.pass,(function(t){return t.value}))}))},unload:u,unloadAll:function(t){it(t,(function(t){u(t)}))},_setReferrerPolicy:function(t){e.referrerPolicy=t},_setContentCssCors:function(t){e.contentCssCors=t}}},Vi=function(){var t=new WeakMap;return{forElement:function(e,n){var r=nr(e).dom;return Z.from(t.get(r)).getOrThunk((function(){var e=Hi(r,n);return t.set(r,e),e}))}}}(),Wi=function(t,e){return M(t)&&(wi(t,e)||Do(Rn(t)))},$i=function(t){return function(t){return"span"===t.nodeName.toLowerCase()}(t)&&"bookmark"===t.getAttribute("data-mce-type")},Gi=function t(e,n,r){var o,i=r||n;if(Qr(n)&&$i(n))return n;for(var a=n.childNodes,u=a.length-1;u>=0;u--)t(e,a[u],i);if(Qr(n)){var c=n.childNodes;1===c.length&&$i(c[0])&&(null===(o=n.parentNode)||void 0===o||o.insertBefore(c[0],n))}return function(t){return mo(t)||po(t)}(n)||wi(n,i)||function(t){return!!Qr(t)&&t.childNodes.length>0}(n)||function(t,e){return co(t)&&t.data.length>0&&function(t,e){var n=new Xr(t,e).prev(!1),r=new Xr(t,e).next(!1),o=D(n)||Wi(n,e),i=D(r)||Wi(r,e);return o&&i}(t,e)}(n,i)||e.remove(n),n},Ki=Ge.makeMap,Yi=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Xi=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Zi=/[<>&\"\']/g,Ji=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,Qi={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},ta={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},ea={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},na=function(t,e){var n={};if(t){var r=t.split(",");e=e||10;for(var o=0;o<r.length;o+=2){var i=String.fromCharCode(parseInt(r[o],e));if(!ta[i]){var a="&"+r[o+1]+";";n[i]=a,n[a]=i}}return n}},ra=na("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),oa=function(t,e){return t.replace(e?Yi:Xi,(function(t){return ta[t]||t}))},ia=function(t,e){return t.replace(e?Yi:Xi,(function(t){return t.length>1?"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";":ta[t]||"&#"+t.charCodeAt(0)+";"}))},aa=function(t,e,n){var r=n||ra;return t.replace(e?Yi:Xi,(function(t){return ta[t]||r[t]||t}))},ua={encodeRaw:oa,encodeAllRaw:function(t){return(""+t).replace(Zi,(function(t){return ta[t]||t}))},encodeNumeric:ia,encodeNamed:aa,getEncodeFunc:function(t,e){var n=na(e)||ra,r=Ki(t.replace(/\+/g,","));return r.named&&r.numeric?function(t,e){return t.replace(e?Yi:Xi,(function(t){return void 0!==ta[t]?ta[t]:void 0!==n[t]?n[t]:t.length>1?"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";":"&#"+t.charCodeAt(0)+";"}))}:r.named?e?function(t,e){return aa(t,e,n)}:aa:r.numeric?ia:oa},decode:function(t){return t.replace(Ji,(function(t,e){return e?(e="x"===e.charAt(0).toLowerCase()?parseInt(e.substr(1),16):parseInt(e,10))>65535?(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e))):Qi[e]||String.fromCharCode(e):ea[t]||ra[t]||function(t){var e=An("div").dom;return e.innerHTML=t,e.textContent||e.innerText||t}(t)}))}},ca={},sa={},la={},fa=Ge.makeMap,da=Ge.each,pa=Ge.extend,ma=Ge.explode,ha=Ge.inArray,va=function(t,e){return(t=Ge.trim(t))?t.split(e||" "):[]},ga=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=fa(t," ",fa(t.toUpperCase()," "));return pa(n,e)},ba=function(t){return ga("td th li dt dd figcaption caption details summary",t.getTextBlockElements())},ya=function(t,e){if(t){var n={};return S(t)&&(t={"*":t}),da(t,(function(t,r){n[r]=n[r.toUpperCase()]="map"===e?fa(t,/[, ]/):ma(t,/[, ]/)})),n}},xa=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n={},r={},o=[],i={},a={},u=function(t,n,r){var o=e[t];if(o)return fa(o,/[, ]/,fa(o.toUpperCase(),/[, ]/));var i=sa[t];return i||(i=ga(n,r),sa[t]=i),i},c=null!==(t=e.schema)&&void 0!==t?t:"html5",s=function(t){var e,n,r,o,i={},a=function(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=va(r),a=va(t),u=a.length;u--;){var c=va([e,n].join(" "));i[a[u]]={attributes:yt(c,(function(){return{}})),attributesOrder:c,children:yt(o,z(la))}}},u=function(t,e){for(var n=va(t),r=va(e),o=n.length;o--;)for(var a=i[n[o]],u=0,c=r.length;u<c;u++)a.attributes[r[u]]={},a.attributesOrder.push(r[u])};if(ca[t])return ca[t];if(e="id accesskey class dir lang style tabindex title role",n="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",r="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!==t&&(e+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",n+=" article aside details dialog figure main header footer hgroup section nav a ins del canvas map",r+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!==t){e+=" xml:lang";var c="acronym applet basefont big font strike tt";r=[r,c].join(" "),da(va(c),(function(t){a(t,"",r)}));var s="center dir isindex noframes";n=[n,s].join(" "),o=[n,r].join(" "),da(va(s),(function(t){a(t,"",o)}))}return o=o||[n,r].join(" "),a("html","manifest","head body"),a("head","","base command link meta noscript script style title"),a("title hr noscript br"),a("base","href target"),a("link","href rel media hreflang type sizes hreflang"),a("meta","name http-equiv content charset"),a("style","media type scoped"),a("script","src async defer type charset"),a("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",o),a("address dt dd div caption","",o),a("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",r),a("blockquote","cite",o),a("ol","reversed start type","li"),a("ul","","li"),a("li","value",o),a("dl","","dt dd"),a("a","href target rel media hreflang type",o),a("q","cite",r),a("ins del","cite datetime",o),a("img","src sizes srcset alt usemap ismap width height"),a("iframe","src name width height",o),a("embed","src type width height"),a("object","data type typemustmatch name usemap form width height",[o,"param"].join(" ")),a("param","name value"),a("map","name",[o,"area"].join(" ")),a("area","alt coords shape href target rel media hreflang type"),a("table","border","caption colgroup thead tfoot tbody tr"+("html4"===t?" col":"")),a("colgroup","span","col"),a("col","span"),a("tbody thead tfoot","","tr"),a("tr","","td th"),a("td","colspan rowspan headers",o),a("th","colspan rowspan headers scope abbr",o),a("form","accept-charset action autocomplete enctype method name novalidate target",o),a("fieldset","disabled form name",[o,"legend"].join(" ")),a("label","form for",r),a("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),a("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===t?o:r),a("select","disabled form multiple name required size","option optgroup"),a("optgroup","disabled label","option"),a("option","disabled label selected value"),a("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),a("menu","type label",[o,"li"].join(" ")),a("noscript","",o),"html4"!==t&&(a("wbr"),a("ruby","",[r,"rt rp"].join(" ")),a("figcaption","",o),a("mark rt rp summary bdi","",r),a("canvas","width height",o),a("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[o,"track source"].join(" ")),a("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[o,"track source"].join(" ")),a("picture","","img source"),a("source","src srcset type media sizes"),a("track","kind src srclang label default"),a("datalist","",[r,"option"].join(" ")),a("article section nav aside main header footer","",o),a("hgroup","","h1 h2 h3 h4 h5 h6"),a("figure","",[o,"figcaption"].join(" ")),a("time","datetime",r),a("dialog","open",o),a("command","type label icon disabled checked radiogroup command"),a("output","for form name",r),a("progress","value max",r),a("meter","value min max low high optimum",r),a("details","open",[o,"summary"].join(" ")),a("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!==t&&(u("script","language xml:space"),u("style","xml:space"),u("object","declare classid code codebase codetype archive standby align border hspace vspace"),u("embed","align name hspace vspace"),u("param","valuetype type"),u("a","charset name rev shape coords"),u("br","clear"),u("applet","codebase archive code object alt name width height align hspace vspace"),u("img","name longdesc align border hspace vspace"),u("iframe","longdesc frameborder marginwidth marginheight scrolling align"),u("font basefont","size color face"),u("input","usemap align"),u("select"),u("textarea"),u("h1 h2 h3 h4 h5 h6 div p legend caption","align"),u("ul","type compact"),u("li","type"),u("ol dl menu dir","compact"),u("pre","width xml:space"),u("hr","align noshade size width"),u("isindex","prompt"),u("table","summary width frame rules cellspacing cellpadding align bgcolor"),u("col","width align char charoff valign"),u("colgroup","width align char charoff valign"),u("thead","align char charoff valign"),u("tr","align char charoff valign bgcolor"),u("th","axis align char charoff valign nowrap bgcolor width height"),u("form","accept"),u("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),u("tfoot","align char charoff valign"),u("tbody","align char charoff valign"),u("area","nohref"),u("body","background bgcolor text link vlink alink")),"html4"!==t&&(u("input button select textarea","autofocus"),u("input textarea","placeholder"),u("a","download"),u("link script img","crossorigin"),u("img","loading"),u("iframe","sandbox seamless allow allowfullscreen loading")),"html4"!==t&&it([i.video,i.audio],(function(t){delete t.children.audio,delete t.children.video})),da(va("a form meter progress dfn"),(function(t){i[t]&&delete i[t].children[t]})),delete i.caption.children.table,delete i.script,ca[t]=i,i}(c);!1===e.verify_html&&(e.valid_elements="*[*]");var l=ya(e.valid_styles),d=ya(e.invalid_styles,"map"),p=ya(e.valid_classes,"map"),m=u("whitespace_elements","pre script noscript style textarea video audio iframe object code"),h=u("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),v=u("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),g=u("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),b="td th iframe video audio object script code",y=u("non_empty_elements",b+" pre",v),x=u("move_caret_before_on_enter_elements",b+" table",v),w=u("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),_=u("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",w),C=u("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),k=u("transparent_elements","a ins del canvas map");da("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),(function(t){a[t]=new RegExp("</"+t+"[^>]*>","gi")}));var O=function(t){return new RegExp("^"+t.replace(/([?+*])/g,".$1")+"$")},S=function(t){var e=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,r=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,i=/[*?+]/;if(t){var a,u,c=va(t,",");n["@"]&&(a=n["@"].attributes,u=n["@"].attributesOrder);for(var s=function(){var t=e.exec(c[l]);if(t){var s=t[1],d=t[2],p=t[3],m=t[5],h={},v=[],g={attributes:h,attributesOrder:v};if("#"===s&&(g.paddEmpty=!0),"-"===s&&(g.removeEmpty=!0),"!"===t[4]&&(g.removeEmptyAttrs=!0),a&&(Tt(a,(function(t,e){h[e]=t})),u&&v.push.apply(v,f(u))),m)for(var b=va(m,"|"),y=0,x=b.length;y<x;y++)if(t=r.exec(b[y]),t){var w={},_=t[1],C=t[2].replace(/[\\:]:/g,":"),k=t[3],S=t[4];if("!"===_&&(g.attributesRequired=g.attributesRequired||[],g.attributesRequired.push(C),w.required=!0),"-"===_){delete h[C],v.splice(ha(v,C),1);continue}if(k&&("="===k&&(g.attributesDefault=g.attributesDefault||[],g.attributesDefault.push({name:C,value:S}),w.defaultValue=S),"~"===k&&(g.attributesForced=g.attributesForced||[],g.attributesForced.push({name:C,value:S}),w.forcedValue=S),"<"===k&&(w.validValues=fa(S,"?"))),i.test(C)){var E=w;g.attributePatterns=g.attributePatterns||[],E.pattern=O(C),g.attributePatterns.push(E)}else h[C]||v.push(C),h[C]=w}if(a||"@"!==d||(a=h,u=v),p&&(g.outputName=d,n[p]=g),i.test(d)){var T=g;T.pattern=O(d),o.push(T)}else n[d]=g}},l=0,d=c.length;l<d;l++)s()}},E=function(t){o=[],it(St(n),(function(t){delete n[t]})),S(t),da(s,(function(t,e){r[e]=t.children}))},T=function(t){var e=/^(~)?(.+)$/;t&&(delete sa.text_block_elements,delete sa.block_elements,da(va(t,","),(function(t){var o=e.exec(t);if(o){var a="~"===o[1],u=a?"span":"div",c=o[2];if(r[c]=r[u],i[c]=u,y[c.toUpperCase()]={},y[c]={},a||(_[c.toUpperCase()]={},_[c]={}),!n[c]){var s=n[u];s=pa({},s),delete s.removeEmptyAttrs,delete s.removeEmpty,n[c]=s}da(r,(function(t,e){t[u]&&(r[e]=t=pa({},r[e]),t[c]=t[u])}))}})))},A=function(t){var e=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;delete ca[c],t&&da(va(t,","),(function(t){var n=e.exec(t);if(n){var o,i=n[1];o=i?r[n[2]]:r[n[2]]={"#comment":{}},o=r[n[2]],da(va(n[3],"|"),(function(t){"-"===i?delete o[t]:o[t]={}}))}}))},N=function(t){var e=n[t];if(e)return e;for(var r=o.length;r--;){var i=o[r];if(i.pattern.test(t))return i}};e.valid_elements?E(e.valid_elements):(da(s,(function(t,e){n[e]={attributes:t.attributes,attributesOrder:t.attributesOrder},r[e]=t.children})),da(va("strong/b em/i"),(function(t){var e=va(t,"/");n[e[1]].outputName=e[0]})),da(C,(function(t,r){n[r]&&(e.padd_empty_block_inline_children&&(n[r].paddInEmptyBlock=!0),n[r].removeEmpty=!0)})),da(va("ol ul blockquote a table tbody"),(function(t){n[t]&&(n[t].removeEmpty=!0)})),da(va("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),(function(t){n[t].paddEmpty=!0})),da(va("span"),(function(t){n[t].removeEmptyAttrs=!0}))),T(e.custom_elements),A(e.valid_children),S(e.extended_valid_elements),A("+ol[ul|ol],+ul[ul|ol]"),da({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(function(t,e){n[e]&&(n[e].parentsRequired=va(t))})),e.invalid_elements&&da(ma(e.invalid_elements),(function(t){n[t]&&delete n[t]})),N("span")||S("span[!data-mce-type|*]");var R=z(l),D=z(d),P=z(p),M=z(g),B=z(_),L=z(w),I=z(C),j=z(Object.seal(v)),F=z(h),q=z(y),U=z(x),H=z(m),V=z(k),W=z(Object.seal(a)),$=z(i);return{type:c,children:r,elements:n,getValidStyles:R,getValidClasses:P,getBlockElements:B,getInvalidStyles:D,getVoidElements:j,getTextBlockElements:L,getTextInlineElements:I,getBoolAttrs:M,getElementRule:N,getSelfClosingElements:F,getNonEmptyElements:q,getMoveCaretBeforeOnEnterElements:U,getWhitespaceElements:H,getTransparentElements:V,getSpecialElements:W,isValidChild:function(t,e){var n=r[t.toLowerCase()];return!(!n||!n[e.toLowerCase()])},isValid:function(t,e){var n=N(t);if(n){if(!e)return!0;if(n.attributes[e])return!0;var r=n.attributePatterns;if(r)for(var o=r.length;o--;)if(r[o].pattern.test(e))return!0}return!1},getCustomElements:$,addValidElements:S,setValidElements:E,addCustomElements:T,addValidChildren:A}},wa=function(){var t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,o=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,i=/\s*([^:]+):\s*([^;]+);?/g,a=/\s+$/,u={};r&&(t=r.getValidStyles(),e=r.getInvalidStyles());for(var c="\\\" \\' \\; \\: ; : \ufeff".split(" "),s=0;s<c.length;s++)u[c[s]]="\ufeff"+s,u["\ufeff"+s]=c[s];var l={parse:function(t){var e,r,c,s={},f=!1,d=n.url_converter,p=n.url_converter_scope||l,m=function(t,e,n){var r=s[t+"-top"+e];if(r){var o=s[t+"-right"+e];if(o){var i=s[t+"-bottom"+e];if(i){var a=s[t+"-left"+e];if(a){for(var u=[r,o,i,a],c=u.length-1;c--&&u[c]===u[c+1];);c>-1&&n||(s[t+e]=-1===c?u[0]:u.join(" "),delete s[t+"-top"+e],delete s[t+"-right"+e],delete s[t+"-bottom"+e],delete s[t+"-left"+e])}}}}},h=function(t){var e=s[t];if(e){for(var n=e.split(" "),r=n.length;r--;)if(n[r]!==n[0])return!1;return s[t]=n[0],!0}},v=function(t){return f=!0,u[t]},g=function(t,e){return f&&(t=t.replace(/\uFEFF[0-9]/g,(function(t){return u[t]}))),e||(t=t.replace(/\\([\'\";:])/g,"$1")),t},b=function(t){return String.fromCharCode(parseInt(t.slice(1),16))},y=function(t){return t.replace(/\\[0-9a-f]+/gi,b)},x=function(t,e,r,o,i,a){if(i=i||a)return"'"+(i=g(i)).replace(/\'/g,"\\'")+"'";if(e=g(e||r||o||""),!n.allow_script_urls){var u=e.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(u))return"";if(!n.allow_svg_data_urls&&/^data:image\/svg/i.test(u))return""}return d&&(e=d.call(p,e,"style")),"url('"+e.replace(/\'/g,"\\'")+"')"};if(t){var w;for(t=(t=t.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,v).replace(/\"[^\"]+\"|\'[^\']+\'/g,(function(t){return t.replace(/[;:]/g,v)}));w=i.exec(t);){i.lastIndex=w.index+w[0].length;var _=w[1].replace(a,"").toLowerCase(),C=w[2].replace(a,"");if(_&&C){if(_=y(_),C=y(C),-1!==_.indexOf("\ufeff")||-1!==_.indexOf('"'))continue;if(!n.allow_script_urls&&("behavior"===_||/expression\s*\(|\/\*|\*\//.test(C)))continue;"font-weight"===_&&"700"===C?C="bold":"color"!==_&&"background-color"!==_||(C=C.toLowerCase()),C=C.replace(o,x),s[_]=f?g(C,!0):C}}m("border","",!0),m("border","-width"),m("border","-color"),m("border","-style"),m("padding",""),m("margin",""),r="border-style",c="border-color",h(e="border-width")&&h(r)&&h(c)&&(s.border=s[e]+" "+s[r]+" "+s[c],delete s[e],delete s[r],delete s[c]),"medium none"===s.border&&delete s.border,"none"===s["border-image"]&&delete s["border-image"]}return s},serialize:function(n,r){var o="",i=function(t,e){var r=e[t];if(r)for(var i=0,a=r.length;i<a;i++){var u=r[i],c=n[u];c&&(o+=(o.length>0?" ":"")+u+": "+c+";")}};return r&&t?(i("*",t),i(r,t)):Tt(n,(function(t,n){t&&function(t,n){if(!e||!n)return!0;var r=e["*"];return!(r&&r[t]||(r=e[n],r&&r[t]))}(n,r)&&(o+=(o.length>0?" ":"")+n+": "+t+";")})),o}};return l},_a={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},Ca=function(t,e){var n=null!=e?e:{};for(var r in t)It(_a,r)||(n[r]=t[r]);return M(t.composedPath)&&(n.composedPath=function(){return t.composedPath()}),n},ka=function(t,e,n,r){var o,i=Ca(e,r);return i.type=t,P(i.target)&&(i.target=null!==(o=i.srcElement)&&void 0!==o?o:n),function(t){return P(t.preventDefault)||function(t){return t instanceof Event||B(t.initEvent)}(t)}(e)&&(i.preventDefault=function(){i.defaultPrevented=!0,i.isDefaultPrevented=X,B(e.preventDefault)&&e.preventDefault()},i.stopPropagation=function(){i.cancelBubble=!0,i.isPropagationStopped=X,B(e.stopPropagation)&&e.stopPropagation()},i.stopImmediatePropagation=function(){i.isImmediatePropagationStopped=X,i.stopPropagation()},function(t){return t.isDefaultPrevented===X||t.isDefaultPrevented===Y}(i)||(i.isDefaultPrevented=!0===i.defaultPrevented?X:Y,i.isPropagationStopped=!0===i.cancelBubble?X:Y,i.isImmediatePropagationStopped=Y)),i},Oa=/^(?:mouse|contextmenu)|click/,Sa=function(t,e,n,r){t.addEventListener(e,n,r||!1)},Ea=function(t,e,n,r){t.removeEventListener(e,n,r||!1)},Ta=function(t,e){var n=ka(t.type,t,document,e);if(function(t){return M(t)&&Oa.test(t.type)}(t)&&D(t.pageX)&&!D(t.clientX)){var r=n.target.ownerDocument||document,o=r.documentElement,i=r.body,a=n;a.pageX=t.clientX+(o&&o.scrollLeft||i&&i.scrollLeft||0)-(o&&o.clientLeft||i&&i.clientLeft||0),a.pageY=t.clientY+(o&&o.scrollTop||i&&i.scrollTop||0)-(o&&o.clientTop||i&&i.clientTop||0)}return n},Aa=function(t,e,n){var r=t.document,o={type:"ready"};if(n.domLoaded)e(o);else{var i=function r(){Ea(t,"DOMContentLoaded",r),Ea(t,"load",r),n.domLoaded||(n.domLoaded=!0,e(o)),t=null};"complete"===r.readyState||"interactive"===r.readyState&&r.body?i():Sa(t,"DOMContentLoaded",i),n.domLoaded||Sa(t,"load",i)}},Na=function(){function t(){d(this,t),this.domLoaded=!1,this.events={},this.count=1,this.expando="mce-data-"+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}return p(t,[{key:"bind",value:function(t,e,n,r){var o,i,a=this,u=window,c=function(t){a.executeHandlers(Ta(t||u.event),i)};if(!t||co(t)||fo(t))return n;t[a.expando]?i=t[a.expando]:(i=a.count++,t[a.expando]=i,a.events[i]={}),r=r||t;for(var s=e.split(" "),l=s.length;l--;){var f=s[l],d=c,p=!1,m=!1;"DOMContentLoaded"===f&&(f="ready"),a.domLoaded&&"ready"===f&&"complete"===t.readyState?n.call(r,Ta({type:f})):(a.hasFocusIn||"focusin"!==f&&"focusout"!==f||(p=!0,m="focusin"===f?"focus":"blur",d=function(t){var e=Ta(t||u.event);e.type="focus"===e.type?"focusin":"focusout",a.executeHandlers(e,i)}),o=a.events[i][f],o?"ready"===f&&a.domLoaded?n(Ta({type:f})):o.push({func:n,scope:r}):(a.events[i][f]=o=[{func:n,scope:r}],o.fakeName=m,o.capture=p,o.nativeHandler=d,"ready"===f?Aa(t,d,a):Sa(t,m||f,d,p)))}return t=o=null,n}},{key:"unbind",value:function(t,e,n){if(!t||co(t)||fo(t))return this;var r=t[this.expando];if(r){var o=this.events[r];if(e)for(var i=e.split(" "),a=i.length;a--;){var u=i[a],c=o[u];if(c){if(n)for(var s=c.length;s--;)if(c[s].func===n){var l=c.nativeHandler,f=c.fakeName,d=c.capture,p=c.slice(0,s).concat(c.slice(s+1));p.nativeHandler=l,p.fakeName=f,p.capture=d,o[u]=p}n&&0!==c.length||(delete o[u],Ea(t,c.fakeName||u,c.nativeHandler,c.capture))}}else Tt(o,(function(e,n){Ea(t,e.fakeName||n,e.nativeHandler,e.capture)})),o={};for(var m in o)if(It(o,m))return this;delete this.events[r];try{delete t[this.expando]}catch(e){t[this.expando]=null}}return this}},{key:"fire",value:function(t,e,n){return this.dispatch(t,e,n)}},{key:"dispatch",value:function(t,e,n){if(!t||co(t)||fo(t))return this;var r=Ta({type:e,target:t},n);do{var o=t[this.expando];o&&this.executeHandlers(r,o),t=t.parentNode||t.ownerDocument||t.defaultView||t.parentWindow}while(t&&!r.isPropagationStopped());return this}},{key:"clean",value:function(t){if(!t||co(t)||fo(t))return this;if(t[this.expando]&&this.unbind(t),t.getElementsByTagName||(t=t.document),t&&t.getElementsByTagName){this.unbind(t);for(var e=t.getElementsByTagName("*"),n=e.length;n--;)(t=e[n])[this.expando]&&this.unbind(t)}return this}},{key:"destroy",value:function(){this.events={}}},{key:"cancel",value:function(t){return t&&(t.preventDefault(),t.stopImmediatePropagation()),!1}},{key:"executeHandlers",value:function(t,e){var n=this.events[e],r=n&&n[t.type];if(r)for(var o=0,i=r.length;o<i;o++){var a=r[o];if(a&&!1===a.func.call(a.scope,t)&&t.preventDefault(),t.isImmediatePropagationStopped())return}}}]),t}();Na.Event=new Na;var Ra=Ge.each,Da=Ge.grep,Pa="data-mce-style",Ma=Ge.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),Ba=function(t,e,n){P(n)||""===n?vn(t,e):fn(t,e,n)},La=function(t){return t.replace(/[A-Z]/g,(function(t){return"-"+t.toLowerCase()}))},Ia=function(t,e){var n=0;if(t)for(var r=t.nodeType,o=t.previousSibling;o;o=o.previousSibling){var i=o.nodeType;(!e||!co(o)||i!==r&&o.data.length)&&(n++,r=i)}return n},ja=function(t,e){var n=pn(e,"style"),r=t.serialize(t.parse(n),en(e));Ba(e,Pa,r)},Fa=function(t,e,n){var r=La(e);P(n)||""===n?kr(t,r):br(t,r,function(t,e){return L(t)?It(Ma,e)?t+"":t+"px":t}(n,r))},qa=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={},o=window,i={},a=0,u=Vi.forElement(Rn(e),{contentCssCors:n.contentCssCors,referrerPolicy:n.referrerPolicy}),c=[],s=n.schema?n.schema:xa({}),f=wa({url_converter:n.url_converter,url_converter_scope:n.url_converter_scope},n.schema),d=n.ownEvents?new Na:Na.Event,p=s.getBlockElements(),m=function(t){return t&&e&&S(t)?e.getElementById(t):t},h=function(t){var e=m(t);return M(e)?Rn(e):null},v=function(t,e){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=h(t);if(M(o)&&on(o)){var i=K[e];n=i&&i.get?i.get(o.dom,e):pn(o,e)}return M(n)?n:r},g=function(t){var e=m(t);return P(e)?[]:e.attributes},b=function(t,e,r){E(t,(function(t){if(Qr(t)){var o=Rn(t),i=""===r?null:r,a=pn(o,e),u=K[e];u&&u.set?u.set(o.dom,i,e):Ba(o,e,i),a!==i&&n.onSetAttrib&&n.onSetAttrib({attrElm:o.dom,attrName:e,attrValue:i})}}))},y=function(){return n.root_element||e.body},x=function(t,n){return function(t,e,n){var r=0,o=0,i=t.ownerDocument;if(n=n||t,e){if(n===t&&e.getBoundingClientRect&&"static"===xr(Rn(t),"position")){var a=e.getBoundingClientRect();return r=a.left+(i.documentElement.scrollLeft||t.scrollLeft)-i.documentElement.clientLeft,o=a.top+(i.documentElement.scrollTop||t.scrollTop)-i.documentElement.clientTop,{x:r,y:o}}for(var u=e;u&&u!==n&&u.nodeType&&!Ui(u,n);){var c=u;r+=c.offsetLeft||0,o+=c.offsetTop||0,u=c.offsetParent}for(u=e.parentNode;u&&u!==n&&u.nodeType&&!Ui(u,n);)r-=u.scrollLeft||0,o-=u.scrollTop||0,u=u.parentNode;o+=function(t){return qi.isFirefox()&&"table"===en(t)?zi(Kn(t)).filter((function(t){return"caption"===en(t)})).bind((function(t){return zi(Gn(t)).map((function(e){var n=e.dom.offsetTop,r=t.dom.offsetTop,o=t.dom.offsetHeight;return n<=r?-o:0}))})).getOr(0):0}(Rn(e))}return{x:r,y:o}}(e.body,m(t),n)},w=function(t,e,n){var r=m(t);if(!P(r)&&Qr(r))return n?xr(Rn(r),La(e)):("float"===(e=e.replace(/-(\D)/g,(function(t,e){return e.toUpperCase()})))&&(e="cssFloat"),r.style?r.style[e]:void 0)},_=function(t){var e=m(t);if(!e)return{w:0,h:0};var n=w(e,"width"),r=w(e,"height");return n&&-1!==n.indexOf("px")||(n="0"),r&&-1!==r.indexOf("px")||(r="0"),{w:parseInt(n,10)||e.offsetWidth||e.clientWidth,h:parseInt(r,10)||e.offsetHeight||e.clientHeight}},C=function(t,e){if(!t)return!1;var n=A(t)?t:[t];return rt(n,(function(t){return Mn(Rn(t),e)}))},k=function(t,e,n,r){var o=[],i=m(t);r=void 0===r;var a=n||("BODY"!==y().nodeName?y().parentNode:null);if(S(e))if("*"===e)e=Qr;else{var u=e;e=function(t){return C(t,u)}}for(;i&&!(i===a||P(i.nodeType)||po(i)||mo(i));){if(!e||e(i)){if(!r)return[i];o.push(i)}i=i.parentNode}return r?o:null},O=function(t,e,n){var r=e;if(t){S(e)&&(r=function(t){return C(t,e)});for(var o=t[n];o;o=o[n])if(B(r)&&r(o))return o}return null},E=function(t,e,n){var r=null!=n?n:this;if(A(t)){var o=[];return Ra(t,(function(t,n){var i=m(t);i&&o.push(e.call(r,i,n))})),o}var i=m(t);return!!i&&e.call(r,i)},T=function(t,e){E(t,(function(t){Tt(e,(function(e,n){b(t,n,e)}))}))},N=function(t,e){E(t,(function(t){var n=Rn(t);Lr(n,e)}))},R=function(t,n,r,o,i){return E(t,(function(t){var a=S(n)?e.createElement(n):n;return M(r)&&T(a,r),o&&(!S(o)&&o.nodeType?a.appendChild(o):S(o)&&N(a,o)),i?a:t.appendChild(a)}))},D=function(t,n,r){return R(e.createElement(t),t,n,r,!0)},L=ua.encodeAllRaw,I=function(t,e){return E(t,(function(t){var n=Rn(t);return e&&it(Kn(n),(function(t){an(t)&&0===t.dom.length?Dr(t):Or(n,t)})),Dr(n),n.dom}))},F=function(t,e,n){E(t,(function(t){if(Qr(t)){var r=Rn(t),o=e.split(" ");it(o,(function(t){M(n)?(n?Cn:On)(r,t):function(t,e){yn(t)?t.dom.classList.toggle(e):function(t,e){nt(xn(t),e)?_n(t,e):wn(t,e)}(t,e);kn(t)}(r,t)}))}}))},q=function(t,e,n){return E(e,(function(r){var o,i=A(e)?t.cloneNode(!0):t;return n&&Ra(Da(r.childNodes),(function(t){i.appendChild(t)})),null===(o=r.parentNode)||void 0===o||o.replaceChild(i,r),r}))},U=function(t){if(Qr(t)){var e="a"===t.nodeName.toLowerCase()&&!v(t,"href")&&v(t,"id");if(v(t,"name")||v(t,"data-mce-bookmark")||e)return!0}return!1},H=function(){return e.createRange()},V=function t(r,i,a,u){if(A(r)){for(var s=r.length,l=[];s--;)l[s]=t(r[s],i,a,u);return l}return!n.collect||r!==e&&r!==o||c.push([r,i,a,u]),d.bind(r,i,a,u||G)},W=function t(n,r,i){if(A(n)){for(var a=n.length,u=[];a--;)u[a]=t(n[a],r,i);return u}if(c.length>0&&(n===e||n===o))for(var s=c.length;s--;){var f=l(c[s],3),p=f[0],m=f[1],h=f[2];n!==p||r&&r!==m||i&&i!==h||d.unbind(p,m,h)}return d.unbind(n,r,i)},$=function(t){if(t&&Qr(t)){var e=t.getAttribute("data-mce-contenteditable");return e&&"inherit"!==e?e:"inherit"!==t.contentEditable?t.contentEditable:null}return null},G={doc:e,settings:n,win:o,files:i,stdMode:!0,boxModel:!0,styleSheetLoader:u,boundEvents:c,styles:f,schema:s,events:d,isBlock:function(t){return S(t)?It(p,t):Qr(t)&&(It(p,t.nodeName)||Ii(s,t))},root:null,clone:function(t,e){return t.cloneNode(e)},getRoot:y,getViewPort:function(t){var e=$r(t);return{x:e.x,y:e.y,w:e.width,h:e.height}},getRect:function(t){var e=m(t),n=x(e),r=_(e);return{x:n.x,y:n.y,w:r.w,h:r.h}},getSize:_,getParent:function(t,e,n){var r=k(t,e,n,!1);return r&&r.length>0?r[0]:null},getParents:k,get:m,getNext:function(t,e){return O(t,e,"nextSibling")},getPrev:function(t,e){return O(t,e,"previousSibling")},select:function(t,r){var o,i,a=null!==(i=null!==(o=m(r))&&void 0!==o?o:n.root_element)&&void 0!==i?i:e;return B(a.querySelectorAll)?kt(a.querySelectorAll(t)):[]},is:C,add:R,create:D,createHTML:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r="<"+t;for(var o in e)jt(e,o)&&(r+=" "+o+'="'+L(e[o])+'"');return se(n)&&It(s.getVoidElements(),t)?r+" />":r+">"+n+"</"+t+">"},createFragment:function(t){var n,r=e.createElement("div"),o=e.createDocumentFragment();for(o.appendChild(r),t&&(r.innerHTML=t);n=r.firstChild;)o.appendChild(n);return o.removeChild(r),o},remove:I,setStyle:function(t,e,r){E(t,(function(t){var o=Rn(t);Fa(o,e,r),n.update_styles&&ja(f,o)}))},getStyle:w,setStyles:function(t,e){E(t,(function(t){var r=Rn(t);Tt(e,(function(t,e){Fa(r,e,t)})),n.update_styles&&ja(f,r)}))},removeAllAttribs:function(t){return E(t,(function(t){for(var e=t.attributes,n=e.length-1;n>=0;n--)t.removeAttributeNode(e.item(n))}))},setAttrib:b,setAttribs:T,getAttrib:v,getPos:x,parseStyle:function(t){return f.parse(t)},serializeStyle:function(t,e){return f.serialize(t,e)},addStyle:function(n){if(G!==t.DOM&&e===document){if(r[n])return;r[n]=!0}var o=e.getElementById("mceDefaultStyles");if(!o){o=e.createElement("style"),o.id="mceDefaultStyles",o.type="text/css";var i=e.head;i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o)}o.styleSheet?o.styleSheet.cssText+=n:o.appendChild(e.createTextNode(n))},loadCSS:function(t){t||(t=""),it(t.split(","),(function(t){i[t]=!0,u.load(t).catch(j)}))},addClass:function(t,e){F(t,e,!0)},removeClass:function(t,e){F(t,e,!1)},hasClass:function(t,e){var n=h(t),r=e.split(" ");return M(n)&&vt(r,(function(t){return Sn(n,t)}))},toggleClass:F,show:function(t){E(t,(function(t){return kr(Rn(t),"display")}))},hide:function(t){E(t,(function(t){return br(Rn(t),"display","none")}))},isHidden:function(t){var e=h(t);return M(e)&&Ke(_r(e,"display"),"none")},uniqueId:function(t){return(t||"mce_")+a++},setHTML:N,getOuterHTML:function(t){var e=h(t);return M(e)?Qr(e.dom)?e.dom.outerHTML:function(t){var e=An("div"),n=Rn(t.dom.cloneNode(!0));return Tr(e,n),Br(e)}(e):""},setOuterHTML:function(t,e){E(t,(function(t){Qr(t)&&(t.outerHTML=e)}))},decode:ua.decode,encode:L,insertAfter:function(t,e){var n=m(e);return E(t,(function(t){var e=null==n?void 0:n.parentNode,r=null==n?void 0:n.nextSibling;return e&&(r?e.insertBefore(t,r):e.appendChild(t)),t}))},replace:q,rename:function(t,e){if(t.nodeName!==e.toUpperCase()){var n=D(e);return Ra(g(t),(function(e){b(n,e.nodeName,v(t,e.nodeName))})),q(n,t,!0),n}return t},findCommonAncestor:function(t,e){for(var n=t;n;){for(var r=e;r&&n!==r;)r=r.parentNode;if(n===r)break;n=n.parentNode}return!n&&t.ownerDocument?t.ownerDocument.documentElement:n},run:E,getAttribs:g,isEmpty:function(t,e){var n=0;if(U(t))return!1;var r=t.firstChild;if(r){var o=new Xr(r,t),i=s?s.getWhitespaceElements():{},a=e||(s?s.getNonEmptyElements():null),u=r;do{if(Qr(u)){var c=u.getAttribute("data-mce-bogus");if(c){u=o.next("all"===c);continue}var l=u.nodeName.toLowerCase();if(a&&a[l]){if("br"===l){n++,u=o.next();continue}return!1}if(U(u))return!1}if(fo(u))return!1;if(co(u)&&!bi(u.data))return!1;if(co(u)&&u.parentNode&&i[u.parentNode.nodeName]&&bi(u.data))return!1;u=o.next()}while(u)}return n<=1},createRng:H,nodeIndex:Ia,split:function(t,e,n){var r,o,i=H();if(t&&e&&t.parentNode&&e.parentNode){var a=t.parentNode;return i.setStart(a,Ia(t)),i.setEnd(e.parentNode,Ia(e)),r=i.extractContents(),i=H(),i.setStart(e.parentNode,Ia(e)+1),i.setEnd(a,Ia(t)+1),o=i.extractContents(),a.insertBefore(Gi(G,r),t),n?a.insertBefore(n,t):a.insertBefore(e,t),a.insertBefore(Gi(G,o),t),I(t),n||e}},bind:V,unbind:W,fire:function(t,e,n){return d.dispatch(t,e,n)},dispatch:function(t,e,n){return d.dispatch(t,e,n)},getContentEditable:$,getContentEditableParent:function(t){for(var e=y(),n=null,r=t;r&&r!==e&&(n=$(r),null===n);r=r.parentNode);return n},isEditable:function(t){if(M(t)){var e=Qr(t)?t:t.parentElement,n="true"===$(y());return M(e)&&mr(Rn(e),n)}return!1},destroy:function(){if(c.length>0)for(var t=c.length;t--;){var e=l(c[t],3),n=e[0],r=e[1],o=e[2];d.unbind(n,r,o)}Tt(i,(function(t,e){u.unload(e),delete i[e]}))},isChildOf:function(t,e){return t===e||e.contains(t)},dumpRng:function(t){return"startContainer: "+t.startContainer.nodeName+", startOffset: "+t.startOffset+", endContainer: "+t.endContainer.nodeName+", endOffset: "+t.endOffset}},K=function(t,e,n){var r=e.keep_values,o={set:function(t,r,o){var i=Rn(t);B(e.url_converter)&&M(r)&&(r=e.url_converter.call(e.url_converter_scope||n(),String(r),o,t)),Ba(i,"data-mce-"+o,r),Ba(i,o,r)},get:function(t,e){var n=Rn(t);return pn(n,"data-mce-"+e)||pn(n,e)}},i={style:{set:function(e,n){var o=Rn(e);r&&Ba(o,Pa,n),vn(o,"style"),S(n)&&yr(o,t.parse(n))},get:function(e){var n=Rn(e),r=pn(n,Pa)||pn(n,"style");return t.serialize(t.parse(r),en(n))}}};return r&&(i.href=i.src=o),i}(f,n,z(G));return G};qa.DOM=qa(document),qa.nodeIndex=Ia;var za=qa.DOM,Ua=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};d(this,t),this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=e}return p(t,[{key:"_setReferrerPolicy",value:function(t){this.settings.referrerPolicy=t}},{key:"loadScript",value:function(t){var e=this;return new Promise((function(n,r){var o,i=za,a=function(){i.remove(u),o&&(o.onerror=o.onload=o=null)},u=i.uniqueId();o=document.createElement("script"),o.id=u,o.type="text/javascript",o.src=Ge._addCacheSuffix(t),e.settings.referrerPolicy&&i.setAttrib(o,"referrerpolicy",e.settings.referrerPolicy),o.onload=function(){a(),n()},o.onerror=function(){a(),r("Failed to load script: "+t)},(document.getElementsByTagName("head")[0]||document.body).appendChild(o)}))}},{key:"isDone",value:function(t){return 2===this.states[t]}},{key:"markDone",value:function(t){this.states[t]=2}},{key:"add",value:function(t){var e=this;return e.queue.push(t),void 0===e.states[t]&&(e.states[t]=0),new Promise((function(n,r){e.scriptLoadedCallbacks[t]||(e.scriptLoadedCallbacks[t]=[]),e.scriptLoadedCallbacks[t].push({resolve:n,reject:r})}))}},{key:"load",value:function(t){return this.add(t)}},{key:"remove",value:function(t){delete this.states[t],delete this.scriptLoadedCallbacks[t]}},{key:"loadQueue",value:function(){var t=this.queue;return this.queue=[],this.loadScripts(t)}},{key:"loadScripts",value:function(t){var e=this,n=function(t,n){Lt(e.scriptLoadedCallbacks,n).each((function(e){it(e,(function(e){return e[t](n)}))})),delete e.scriptLoadedCallbacks[n]},r=function(t){var e=ct(t,(function(t){return"rejected"===t.status}));return e.length>0?Promise.reject(ht(e,(function(t){var e=t.reason;return A(e)?e:[e]}))):Promise.resolve()},o=function t(o){return Promise.allSettled(ot(o,(function(o){return 2===e.states[o]?(n("resolve",o),Promise.resolve()):3===e.states[o]?(n("reject",o),Promise.reject(o)):(e.states[o]=1,e.loadScript(o).then((function(){e.states[o]=2,n("resolve",o);var i=e.queue;return i.length>0?(e.queue=[],t(i).then(r)):Promise.resolve()}),(function(){return e.states[o]=3,n("reject",o),Promise.reject(o)})))})))},i=function(t){return e.loading=!0,o(t).then((function(t){e.loading=!1;var n=e.queueLoadedCallbacks.shift();return Z.from(n).each(K),r(t)}))},a=Ft(t);return e.loading?new Promise((function(t,n){e.queueLoadedCallbacks.push((function(){return i(a).then(t,n)}))})):i(a)}}]),t}();Ua.ScriptLoader=new Ua;var Ha=function(t){var e=t;return{get:function(){return e},set:function(t){e=t}}},Va={},Wa=Ha("en"),$a=function(){return Lt(Va,Wa.get())},Ga={getData:function(){return At(Va,(function(t){return s({},t)}))},setCode:function(t){t&&Wa.set(t)},getCode:function(){return Wa.get()},add:function(t,e){var n=Va[t];n||(Va[t]=n={}),Tt(e,(function(t,e){n[e.toLowerCase()]=t}))},translate:function(t){var e,n=$a().getOr({}),r=function(t){return B(t)?Object.prototype.toString.call(t):o(t)?"":""+t},o=function(t){return""===t||null==t},i=function(t){var e=r(t);return Lt(n,e.toLowerCase()).map(r).getOr(e)},a=function(t){return t.replace(/{context:\w+}$/,"")};if(o(t))return"";if(E(e=t)&&It(e,"raw"))return r(t.raw);if(function(t){return A(t)&&t.length>1}(t)){var u=t.slice(1);return a(i(t[0]).replace(/\{([0-9]+)\}/g,(function(t,e){return It(u,e)?r(u[e]):t})))}return a(i(t))},isRtl:function(){return $a().bind((function(t){return Lt(t,"_dir")})).exists((function(t){return"rtl"===t}))},hasCode:function(t){return It(Va,t)}},Ka=function t(){var e=[],n={},r={},o=[],i=function(t,e){var n=ct(o,(function(n){return n.name===t&&n.state===e}));it(n,(function(t){return t.resolve()}))},a=function(t){return It(n,t)},u=function(t,e){var r=Ga.getCode();!r||e&&-1===(","+(e||"")+",").indexOf(","+r+",")||Ua.ScriptLoader.add(n[t]+"/langs/"+r+".js")},c=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"added";return"added"===e&&function(t){return It(r,t)}(t)||"loaded"===e&&a(t)?Promise.resolve():new Promise((function(n){o.push({name:t,state:e,resolve:n})}))};return{items:e,urls:n,lookup:r,get:function(t){if(r[t])return r[t].instance},requireLangPack:function(e,n){!1!==t.languageLoad&&(a(e)?u(e,n):c(e,"loaded").then((function(){return u(e,n)})))},add:function(t,n){return e.push(n),r[t]={instance:n},i(t,"added"),n},remove:function(t){delete n[t],delete r[t]},createUrl:function(t,e){return S(e)?S(t)?{prefix:"",resource:e,suffix:""}:{prefix:t.prefix,resource:e,suffix:t.suffix}:e},load:function(e,o){if(n[e])return Promise.resolve();var a=S(o)?o:o.prefix+o.resource+o.suffix;0!==a.indexOf("/")&&-1===a.indexOf("://")&&(a=t.baseURL+"/"+a),n[e]=a.substring(0,a.lastIndexOf("/"));var u=function(){return i(e,"loaded"),Promise.resolve()};return r[e]?u():Ua.ScriptLoader.add(a).then(u)},waitFor:c}};Ka.languageLoad=!0,Ka.baseURL="",Ka.PluginManager=Ka(),Ka.ThemeManager=Ka(),Ka.ModelManager=Ka();var Ya=function(t){var e=Ha(Z.none()),n=function(){return e.get().each((function(t){return clearInterval(t)}))};return{clear:function(){n(),e.set(Z.none())},isSet:function(){return e.get().isSome()},get:function(){return e.get()},set:function(r){n(),e.set(Z.some(setInterval(r,t)))}}},Xa=function(){var t=function(t){var e=Ha(Z.none()),n=function(){return e.get().each(t)};return{clear:function(){n(),e.set(Z.none())},isSet:function(){return e.get().isSome()},get:function(){return e.get()},set:function(t){n(),e.set(Z.some(t))}}}(j);return s(s({},t),{},{on:function(e){return t.get().each(e)}})},Za=function(t,e){var n=null;return{cancel:function(){N(n)||(clearTimeout(n),n=null)},throttle:function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];N(n)&&(n=setTimeout((function(){n=null,t.apply(null,o)}),e))}}},Ja=function(t,e){var n=null,r=function(){N(n)||(clearTimeout(n),n=null)};return{cancel:r,throttle:function(){for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];r(),n=setTimeout((function(){n=null,t.apply(null,i)}),e)}}},Qa=z("mce-annotation"),tu=z("data-mce-annotation"),eu=z("data-mce-annotation-uid"),nu=z("data-mce-annotation-active"),ru=z("data-mce-annotation-classes"),ou=z("data-mce-annotation-attrs"),iu=function(t){return function(e){return Ln(e,t)}},au=function(t,e){var n=t.selection.getRng(),r=Rn(n.startContainer),o=Rn(t.getBody()),i=e.fold((function(){return"."+Qa()}),(function(t){return"[".concat(tu(),'="').concat(t,'"]')})),a=Yn(r,n.startOffset).getOr(r);return pr(a,i,iu(o)).bind((function(e){return mn(e,"".concat(eu())).bind((function(n){return mn(e,"".concat(tu())).map((function(e){var r=cu(t,n);return{uid:n,name:e,elements:r}}))}))}))},uu=function(t,e){return hn(t,"data-mce-bogus")||Yr(t,'[data-mce-bogus="all"]',iu(e))},cu=function(t,e){var n=Rn(t.getBody()),r=Kr(n,"[".concat(eu(),'="').concat(e,'"]'));return ct(r,(function(t){return!uu(t,n)}))},su=function(t,e){var n=Rn(t.getBody()),r=Kr(n,"[".concat(tu(),'="').concat(e,'"]')),o={};return it(r,(function(t){if(!uu(t,n)){var e=pn(t,eu()),r=Lt(o,e).getOr([]);o[e]=r.concat([t])}})),o},lu=0,fu=function(t){var e=(new Date).getTime(),n=Math.floor(1e9*Math.random());return lu++,t+"_"+n+lu+String(e)},du=function(t,e){return Rn(t.dom.cloneNode(e))},pu=function(t){return du(t,!1)},mu=function(t){return du(t,!0)},hu=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Y,r=new Xr(t,e),o=function(t){var e;do{e=r[t]()}while(e&&!co(e)&&!n(e));return Z.from(e).filter(co)};return{current:function(){return Z.from(r.current()).filter(co)},next:function(){return o("next")},prev:function(){return o("prev")},prev2:function(){return o("prev2")}}},vu=function(t,e){var n=e||function(e){return t.isBlock(e)||ho(e)||bo(e)},r=function t(e,n,r,o){if(co(e)){var i=o(e,n,e.data);if(-1!==i)return Z.some({container:e,offset:i})}return r().bind((function(e){return t(e.container,e.offset,r,o)}))};return{backwards:function(e,o,i,a){var u=hu(e,null!=a?a:t.getRoot(),n);return r(e,o,(function(){return u.prev().map((function(t){return{container:t,offset:t.length}}))}),i).getOrNull()},forwards:function(e,o,i,a){var u=hu(e,null!=a?a:t.getRoot(),n);return r(e,o,(function(){return u.next().map((function(t){return{container:t,offset:0}}))}),i).getOrNull()}}},gu=Math.round,bu=function(t){return t?{left:gu(t.left),top:gu(t.top),bottom:gu(t.bottom),right:gu(t.right),width:gu(t.width),height:gu(t.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}},yu=function(t,e){return t=bu(t),e||(t.left=t.left+t.width),t.right=t.left,t.width=0,t},xu=function(t,e,n){return t>=0&&t<=Math.min(e.height,n.height)/2},wu=function(t,e){var n=Math.min(e.height/2,t.height/2);return t.bottom-n<e.top||!(t.top>e.bottom)&&xu(e.top-t.bottom,t,e)},_u=function(t,e){return t.top>e.bottom||!(t.bottom<e.top)&&xu(e.bottom-t.top,t,e)},Cu=function(t,e,n){var r=Math.max(Math.min(e,t.left+t.width),t.left),o=Math.max(Math.min(n,t.top+t.height),t.top);return Math.sqrt((e-r)*(e-r)+(n-o)*(n-o))},ku=function(t){var e=t.startContainer,n=t.startOffset;return e===t.endContainer&&e.hasChildNodes()&&t.endOffset===n+1?e.childNodes[n]:null},Ou=function(t,e){if(Qr(t)&&t.hasChildNodes()){var n=t.childNodes,r=function(t,e,n){return Math.min(Math.max(t,0),n)}(e,0,n.length-1);return n[r]}return t},Su=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),Eu=function(t){return S(t)&&t.charCodeAt(0)>=768&&Su.test(t)},Tu=Qr,Au=mi,Nu=no("display","block table"),Ru=no("float","left right"),Du=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){for(var n=0;n<e.length;n++)if(!e[n](t))return!1;return!0}}(Tu,Au,W(Ru)),Pu=W(no("white-space","pre pre-line pre-wrap")),Mu=co,Bu=ho,Lu=qa.nodeIndex,Iu=function(t,e){return e<0&&Qr(t)&&t.hasChildNodes()?void 0:Ou(t,e)},ju=function(t){return t?t.createRange():qa.DOM.createRng()},Fu=function(t){return S(t)&&/[\r\n\t ]/.test(t)},qu=function(t){return!!t.setStart&&!!t.setEnd},zu=function(t){var e=t.startContainer,n=t.startOffset;if(Fu(t.toString())&&Pu(e.parentNode)&&co(e)){var r=e.data;if(Fu(r[n-1])||Fu(r[n+1]))return!0}return!1},Uu=function(t){return 0===t.left&&0===t.right&&0===t.top&&0===t.bottom},Hu=function t(e){var n,r,o=e.getClientRects();return r=o.length>0?bu(o[0]):bu(e.getBoundingClientRect()),!qu(e)&&Bu(e)&&Uu(r)?function(t){var e=t.ownerDocument,n=ju(e),r=e.createTextNode(ko),o=t.parentNode;o.insertBefore(r,t),n.setStart(r,0),n.setEnd(r,1);var i=bu(n.getBoundingClientRect());return o.removeChild(r),i}(e):Uu(r)&&qu(e)&&null!==(n=function(e){var n=e.startContainer,r=e.endContainer,o=e.startOffset,i=e.endOffset;if(n===r&&co(r)&&0===o&&1===i){var a=e.cloneRange();return a.setEndAfter(r),t(a)}return null}(e))&&void 0!==n?n:r},Vu=function(t,e){var n=yu(t,e);return n.width=1,n.right=n.left+1,n},Wu=function t(e,n,r){var o=function(){return r||(r=function(t){var e=[],n=function(t){var n,r;0!==t.height&&(e.length>0&&(n=t,r=e[e.length-1],n.left===r.left&&n.top===r.top&&n.bottom===r.bottom&&n.right===r.right)||e.push(t))},r=function(t,e){var r=ju(t.ownerDocument);if(e<t.data.length){if(Eu(t.data[e]))return;if(Eu(t.data[e-1])&&(r.setStart(t,e),r.setEnd(t,e+1),!zu(r)))return void n(Vu(Hu(r),!1))}e>0&&(r.setStart(t,e-1),r.setEnd(t,e),zu(r)||n(Vu(Hu(r),!1))),e<t.data.length&&(r.setStart(t,e),r.setEnd(t,e+1),zu(r)||n(Vu(Hu(r),!0)))},o=t.container(),i=t.offset();if(Mu(o))return r(o,i),e;if(Tu(o))if(t.isAtEnd()){var a=Iu(o,i);Mu(a)&&r(a,a.data.length),Du(a)&&!Bu(a)&&n(Vu(Hu(a),!1))}else{var u=Iu(o,i);if(Mu(u)&&r(u,0),Du(u)&&t.isAtEnd())return n(Vu(Hu(u),!1)),e;var c=Iu(t.container(),t.offset()-1);Du(c)&&!Bu(c)&&(Nu(c)||Nu(u)||!Du(u))&&n(Vu(Hu(c),!1)),Du(u)&&n(Vu(Hu(u),!0))}return e}(t(e,n))),r};return{container:z(e),offset:z(n),toRange:function(){var t=ju(e.ownerDocument);return t.setStart(e,n),t.setEnd(e,n),t},getClientRects:o,isVisible:function(){return o().length>0},isAtStart:function(){return Mu(e),0===n},isAtEnd:function(){return Mu(e)?n>=e.data.length:n>=e.childNodes.length},isEqual:function(t){return t&&e===t.container()&&n===t.offset()},getNode:function(t){return Iu(e,t?n-1:n)}}};Wu.fromRangeStart=function(t){return Wu(t.startContainer,t.startOffset)},Wu.fromRangeEnd=function(t){return Wu(t.endContainer,t.endOffset)},Wu.after=function(t){return Wu(t.parentNode,Lu(t)+1)},Wu.before=function(t){return Wu(t.parentNode,Lu(t))},Wu.isAbove=function(t,e){return Ye(_t(e.getClientRects()),Ct(t.getClientRects()),wu).getOr(!1)},Wu.isBelow=function(t,e){return Ye(Ct(e.getClientRects()),_t(t.getClientRects()),_u).getOr(!1)},Wu.isAtStart=function(t){return!!t&&t.isAtStart()},Wu.isAtEnd=function(t){return!!t&&t.isAtEnd()},Wu.isTextPosition=function(t){return!!t&&co(t.container())},Wu.isElementPosition=function(t){return!Wu.isTextPosition(t)};var $u=function(t,e){co(e)&&0===e.data.length&&t.remove(e)},Gu=function(t,e,n){mo(n)?function(t,e,n){var r=Z.from(n.firstChild),o=Z.from(n.lastChild);e.insertNode(n),r.each((function(e){return $u(t,e.previousSibling)})),o.each((function(e){return $u(t,e.nextSibling)}))}(t,e,n):function(t,e,n){e.insertNode(n),$u(t,n.previousSibling),$u(t,n.nextSibling)}(t,e,n)},Ku=co,Yu=oo,Xu=qa.nodeIndex,Zu=function t(e){var n=e.parentNode;return Yu(n)?t(n):n},Ju=function t(e){return e?Wt(e.childNodes,(function(e,n){return Yu(n)&&"BR"!==n.nodeName?e=e.concat(t(n)):e.push(n),e}),[]):[]},Qu=function(t){return function(e){return t===e}},tc=function(t){return(Ku(t)?"text()":t.nodeName.toLowerCase())+"["+function(t){var e,n;e=Ju(Zu(t)),n=$t(e,Qu(t),t),e=e.slice(0,n+1);var r=Wt(e,(function(t,n,r){return Ku(n)&&Ku(e[r-1])&&t++,t}),0);return e=Vt(e,eo([t.nodeName])),n=$t(e,Qu(t),t),n-r}(t)+"]"},ec=function(t,e){var n,r=[],o=e.container(),i=e.offset();if(Ku(o))n=function(t,e){for(var n=t;(n=n.previousSibling)&&Ku(n);)e+=n.data.length;return e}(o,i);else{var a=o.childNodes;i>=a.length?(n="after",i=a.length-1):n="before",o=a[i]}r.push(tc(o));var u=function(t,e,n){for(var r=[],o=e.parentNode;o&&o!==t;o=o.parentNode)r.push(o);return r}(t,o);return u=Vt(u,W(oo)),r=r.concat(Ht(u,(function(t){return tc(t)}))),r.reverse().join("/")+","+n},nc=function(t,e){if(!e)return null;var n,r=e.split(","),o=r[0].split("/"),i=r.length>1?r[1]:"before",a=Wt(o,(function(t,e){var n=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(e);return n?("text()"===n[1]&&(n[1]="#text"),function(t,e,n){var r=Ju(t);return r=Vt(r,(function(t,e){return!Ku(t)||!Ku(r[e-1])})),r=Vt(r,eo([e])),r[n]}(t,n[1],parseInt(n[2],10))):null}),t);return a?!Ku(a)&&a.parentNode?(n="after"===i?Xu(a)+1:Xu(a),Wu(a.parentNode,n)):function(t,e){for(var n=t,r=0;Ku(n);){var o=n.data.length;if(e>=r&&e<=r+o){t=n,e-=r;break}if(!Ku(n.nextSibling)){t=n,e=o;break}r+=o,n=n.nextSibling}return Ku(t)&&e>t.data.length&&(e=t.data.length),Wu(t,e)}(a,parseInt(i,10)):null},rc=bo,oc=function(t,e,n,r,o){var i=o?r.startContainer:r.endContainer,a=o?r.startOffset:r.endOffset,u=[],c=t.getRoot();if(co(i))u.push(n?function(t,e,n){for(var r=t(e.data.slice(0,n)).length,o=e.previousSibling;o&&co(o);o=o.previousSibling)r+=t(o.data).length;return r}(e,i,a):a);else{var s=0,l=i.childNodes;a>=l.length&&l.length&&(s=1,a=Math.max(0,l.length-1)),u.push(t.nodeIndex(l[a],n)+s)}for(var f=i;f&&f!==c;f=f.parentNode)u.push(t.nodeIndex(f,n));return u},ic=function(t,e,n){var r=0;return Ge.each(t.select(e),(function(t){return"all"===t.getAttribute("data-mce-bogus")?void 0:t!==n&&void r++})),r},ac=function(t,e){var n=e?t.startContainer:t.endContainer,r=e?t.startOffset:t.endOffset;if(Qr(n)&&"TR"===n.nodeName){var o=n.childNodes;n=o[Math.min(e?r:r-1,o.length-1)],n&&(r=e?0:n.childNodes.length,e?t.setStart(n,r):t.setEnd(n,r))}},uc=function(t){return ac(t,!0),ac(t,!1),t},cc=function(t,e){if(Qr(t)&&(t=Ou(t,e),rc(t)))return t;if(Jo(t)){co(t)&&Xo(t)&&(t=t.parentNode);var n=t.previousSibling;if(rc(n))return n;if(n=t.nextSibling,rc(n))return n}},sc=function(t,e,n){var r=n.getNode(),o=n.getRng();if("IMG"===r.nodeName||rc(r)){var i=r.nodeName;return{name:i,index:ic(n.dom,i,r)}}var a=function(t){return cc(t.startContainer,t.startOffset)||cc(t.endContainer,t.endOffset)}(o);if(a){var u=a.tagName;return{name:u,index:ic(n.dom,u,a)}}return function(t,e,n,r){var o=e.dom,i=oc(o,t,n,r,!0),a=e.isForward(),u=ii(r)?{isFakeCaret:!0}:{};return e.isCollapsed()?s({start:i,forward:a},u):s({start:i,end:oc(o,t,n,r,!1),forward:a},u)}(t,n,e,o)},lc=function(t,e,n){var r={"data-mce-type":"bookmark",id:e,style:"overflow:hidden;line-height:0px"};return n?t.create("span",r,"&#xFEFF;"):t.create("span",r)},fc=function(t,e){var n=t.dom,r=t.getRng(),o=n.uniqueId(),i=t.isCollapsed(),a=t.getNode(),u=a.nodeName,c=t.isForward();if("IMG"===u)return{name:u,index:ic(n,u,a)};var s=uc(r.cloneRange());if(!i){s.collapse(!1);var l=lc(n,o+"_end",e);Gu(n,s,l)}r=uc(r),r.collapse(!0);var f=lc(n,o+"_start",e);return Gu(n,r,f),t.moveToBookmark({id:o,keep:!0,forward:c}),{id:o,forward:c}},dc=V(sc,U,!0),pc=function(t){var e=function(e){return e(t)},n=z(t),r=function(){return o},o={tag:!0,inner:t,fold:function(e,n){return n(t)},isValue:X,isError:Y,map:function(e){return hc.value(e(t))},mapError:r,bind:e,exists:e,forall:e,getOr:n,or:r,getOrThunk:n,orThunk:r,getOrDie:n,each:function(e){e(t)},toOptional:function(){return Z.some(t)}};return o},mc=function(t){var e=function(){return n},n={tag:!1,inner:t,fold:function(e,n){return e(t)},isValue:Y,isError:X,map:e,mapError:function(e){return hc.error(e(t))},bind:e,exists:Y,forall:X,getOr:U,or:U,getOrThunk:G,orThunk:G,getOrDie:$(String(t)),each:j,toOptional:Z.none};return n},hc={value:pc,error:mc,fromOption:function(t,e){return t.fold((function(){return mc(e)}),pc)}},vc=function(t){if(!A(t))throw new Error("cases must be an array");if(0===t.length)throw new Error("there must be at least one case");var e=[],n={};return it(t,(function(r,o){var i=St(r);if(1!==i.length)throw new Error("one and only one name per case");var a=i[0],u=r[a];if(void 0!==n[a])throw new Error("duplicate key detected:"+a);if("cata"===a)throw new Error("cannot have a case named cata (sorry)");if(!A(u))throw new Error("case arguments must be an array");e.push(a),n[a]=function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var c=r.length;if(c!==u.length)throw new Error("Wrong number of arguments to case "+a+". Expected "+u.length+" ("+u+"), got "+c);return{fold:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];if(n.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+n.length);return n[o].apply(null,r)},match:function(t){var n=St(t);if(e.length!==n.length)throw new Error("Wrong number of arguments to match. Expected: "+e.join(",")+"\nActual: "+n.join(","));if(!vt(e,(function(t){return nt(n,t)})))throw new Error("Not all branches were specified when using match. Specified: "+n.join(", ")+"\nRequired: "+e.join(", "));return t[a].apply(null,r)},log:function(t){console.log(t,{constructors:e,constructor:a,params:r})}}}})),n};vc([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var gc,bc=function(t){return"inline-command"===t.type||"inline-format"===t.type},yc=function(t){return"block-command"===t.type||"block-format"===t.type},xc=function(t){var e=function(e){return hc.error({message:e,pattern:t})},n=function(n,r,o){if(void 0!==t.format){var i;if(A(t.format)){if(!vt(t.format,S))return e(n+" pattern has non-string items in the `format` array");i=t.format}else{if(!S(t.format))return e(n+" pattern has non-string `format` parameter");i=[t.format]}return hc.value(r(i))}return void 0!==t.cmd?S(t.cmd)?hc.value(o(t.cmd,t.value)):e(n+" pattern has non-string `cmd` parameter"):e(n+" pattern is missing both `format` and `cmd` parameters")};if(!E(t))return e("Raw pattern is not an object");if(!S(t.start))return e("Raw pattern is missing `start` parameter");if(void 0!==t.end){if(!S(t.end))return e("Inline pattern has non-string `end` parameter");if(0===t.start.length&&0===t.end.length)return e("Inline pattern has empty `start` and `end` parameters");var r=t.start,o=t.end;return 0===o.length&&(o=r,r=""),n("Inline",(function(t){return{type:"inline-format",start:r,end:o,format:t}}),(function(t,e){return{type:"inline-command",start:r,end:o,cmd:t,value:e}}))}return void 0!==t.replacement?S(t.replacement)?0===t.start.length?e("Replacement pattern has empty `start` parameter"):hc.value({type:"inline-command",start:"",end:t.start,cmd:"mceInsertContent",value:t.replacement}):e("Replacement pattern has non-string `replacement` parameter"):0===t.start.length?e("Block pattern has empty `start` parameter"):n("Block",(function(e){return{type:"block-format",start:t.start,format:e[0]}}),(function(e,n){return{type:"block-command",start:t.start,cmd:e,value:n}}))},wc=function(t){return ct(t,yc)},_c=function(t){return ct(t,bc)},Cc=function(t){var e=function(t){var e=[],n=[];return it(t,(function(t){t.fold((function(t){e.push(t)}),(function(t){n.push(t)}))})),{errors:e,values:n}}(ot(t,xc));return it(e.errors,(function(t){return console.error(t.message,t.pattern)})),e.values},kc=Le().deviceType,Oc=kc.isTouch(),Sc=qa.DOM,Ec=function(t){return O(t,RegExp)},Tc=function(t){return function(e){return e.options.get(t)}},Ac=function(t){return S(t)||E(t)},Nc=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(n){var r=S(n);if(r){if(-1!==n.indexOf("=")){var o=function(t){var e=t.indexOf("=")>0?t.split(/[;,](?![^=;,]*(?:[;,]|$))/):t.split(",");return lt(e,(function(t,e){var n=e.split("="),r=n[0],o=n.length>1?n[1]:r;return t[ie(r)]=ie(o),t}),{})}(n);return{value:Lt(o,t.id).getOr(e),valid:r}}return{value:n,valid:r}}return{valid:!1,message:"Must be a string."}}},Rc=Tc("iframe_attrs"),Dc=Tc("doctype"),Pc=Tc("document_base_url"),Mc=Tc("body_id"),Bc=Tc("body_class"),Lc=Tc("content_security_policy"),Ic=Tc("br_in_pre"),jc=Tc("forced_root_block"),Fc=Tc("forced_root_block_attrs"),qc=Tc("newline_behavior"),zc=Tc("br_newline_selector"),Uc=Tc("no_newline_selector"),Hc=Tc("keep_styles"),Vc=Tc("end_container_on_empty_block"),Wc=Tc("automatic_uploads"),$c=Tc("images_reuse_filename"),Gc=Tc("images_replace_blob_uris"),Kc=Tc("icons"),Yc=Tc("icons_url"),Xc=Tc("images_upload_url"),Zc=Tc("images_upload_base_path"),Jc=Tc("images_upload_credentials"),Qc=Tc("images_upload_handler"),ts=Tc("content_css_cors"),es=Tc("referrer_policy"),ns=Tc("language"),rs=Tc("language_url"),os=Tc("indent_use_margin"),is=Tc("indentation"),as=Tc("content_css"),us=Tc("content_style"),cs=Tc("font_css"),ss=Tc("directionality"),ls=Tc("inline_boundaries_selector"),fs=Tc("object_resizing"),ds=Tc("resize_img_proportional"),ps=Tc("placeholder"),ms=Tc("event_root"),hs=Tc("service_message"),vs=Tc("theme"),gs=Tc("theme_url"),bs=Tc("model"),ys=Tc("model_url"),xs=Tc("inline_boundaries"),ws=Tc("formats"),_s=Tc("preview_styles"),Cs=Tc("format_empty_lines"),ks=Tc("format_noneditable_selector"),Os=Tc("custom_ui_selector"),Ss=Tc("inline"),Es=Tc("hidden_input"),Ts=Tc("submit_patch"),As=Tc("add_form_submit_trigger"),Ns=Tc("add_unload_trigger"),Rs=Tc("custom_undo_redo_levels"),Ds=Tc("disable_nodechange"),Ps=Tc("readonly"),Ms=Tc("content_css_cors"),Bs=Tc("plugins"),Ls=Tc("external_plugins"),Is=Tc("block_unsupported_drop"),js=Tc("visual"),Fs=Tc("visual_table_class"),qs=Tc("visual_anchor_class"),zs=Tc("iframe_aria_text"),Us=Tc("setup"),Hs=Tc("init_instance_callback"),Vs=Tc("urlconverter_callback"),Ws=Tc("auto_focus"),$s=Tc("browser_spellcheck"),Gs=Tc("protect"),Ks=Tc("paste_block_drop"),Ys=Tc("paste_data_images"),Xs=Tc("paste_preprocess"),Zs=Tc("paste_postprocess"),Js=Tc("paste_webkit_styles"),Qs=Tc("paste_remove_styles_if_webkit"),tl=Tc("paste_merge_formats"),el=Tc("smart_paste"),nl=Tc("paste_as_text"),rl=Tc("paste_tab_spaces"),ol=Tc("allow_html_data_urls"),il=Tc("text_patterns"),al=Tc("text_patterns_lookup"),ul=Tc("noneditable_class"),cl=Tc("editable_class"),sl=Tc("noneditable_regexp"),ll=Tc("preserve_cdata"),fl=Tc("highlight_on_focus"),dl=Tc("xss_sanitization"),pl=function(t){return Ge.explode(t.options.get("images_file_types"))},ml=Tc("table_tab_navigation"),hl=Qr,vl=co,gl=function(t){var e=t.parentNode;e&&e.removeChild(t)},bl=function(t){var e=Go(t);return{count:t.length-e.length,text:e}},yl=function(t){for(var e;-1!==(e=t.data.lastIndexOf(Wo));)t.deleteData(e,1)},xl=function(t,e){return _l(t),e},wl=function(t,e){return Wu.isTextPosition(e)?function(t,e){return vl(t)&&e.container()===t?function(t,e){var n=bl(t.data.substr(0,e.offset())),r=bl(t.data.substr(e.offset()));return(n.text+r.text).length>0?(yl(t),Wu(t,e.offset()-n.count)):e}(t,e):xl(t,e)}(t,e):function(t,e){return e.container()===t.parentNode?function(t,e){var n=e.container(),r=function(t,e){var n=et(t,e);return-1===n?Z.none():Z.some(n)}(kt(n.childNodes),t).map((function(t){return t<e.offset()?Wu(n,e.offset()-1):e})).getOr(e);return _l(t),r}(t,e):xl(t,e)}(t,e)},_l=function(t){hl(t)&&Jo(t)&&(Qo(t)?t.removeAttribute("data-mce-caret"):gl(t)),vl(t)&&(yl(t),0===t.data.length&&gl(t))},Cl=bo,kl=wo,Ol=yo,Sl=function(t,e,n){var r,o,i=yu(e.getBoundingClientRect(),n);if("BODY"===t.tagName){var a=t.ownerDocument.documentElement;r=t.scrollLeft||a.scrollLeft,o=t.scrollTop||a.scrollTop}else{var u=t.getBoundingClientRect();r=t.scrollLeft-u.left,o=t.scrollTop-u.top}i.left+=r,i.right+=r,i.top+=o,i.bottom+=o,i.width=1;var c=e.offsetWidth-e.clientWidth;return c>0&&(n&&(c*=-1),i.left+=c,i.right+=c),i},El=function(t,e,n,r){var o,i,a=Xa(),u=jc(t),c=t.dom,l=function(){(function(t){for(var e,n,r=Kr(Rn(t),"*[contentEditable=false],video,audio,embed,object"),o=0;o<r.length;o++){var i=r[o].dom,a=i.previousSibling;if(ri(a)){var u=a.data;1===u.length?null===(e=a.parentNode)||void 0===e||e.removeChild(a):a.deleteData(u.length-1,1)}a=i.nextSibling,ni(a)&&(1===a.data.length?null===(n=a.parentNode)||void 0===n||n.removeChild(a):a.deleteData(0,1))}})(e),i&&(_l(i),i=null),a.on((function(t){c.remove(t.caret),a.clear()})),o&&(clearInterval(o),o=void 0)};return{show:function(t,f){var d;if(l(),Ol(f))return null;if(!n(f))return i=function(t,e){var n,r=(null!==(n=t.ownerDocument)&&void 0!==n?n:document).createTextNode(Wo),o=t.parentNode;if(e){var i=t.previousSibling;if(Yo(i)){if(Jo(i))return i;if(ri(i))return i.splitText(i.data.length-1)}null==o||o.insertBefore(r,t)}else{var a=t.nextSibling;if(Yo(a)){if(Jo(a))return a;if(ni(a))return a.splitText(1),a}t.nextSibling?null==o||o.insertBefore(r,t.nextSibling):null==o||o.appendChild(r)}return r}(f,t),d=f.ownerDocument.createRange(),Al(i.nextSibling)?(d.setStart(i,0),d.setEnd(i,0)):(d.setStart(i,1),d.setEnd(i,1)),d;var p=function(t,e,n){var r,o=(null!==(r=e.ownerDocument)&&void 0!==r?r:document).createElement(t);o.setAttribute("data-mce-caret",n?"before":"after"),o.setAttribute("data-mce-bogus","all"),o.appendChild(Uo().dom);var i=e.parentNode;return n?null==i||i.insertBefore(o,e):e.nextSibling?null==i||i.insertBefore(o,e.nextSibling):null==i||i.appendChild(o),o}(u,f,t),m=Sl(e,f,t);c.setStyle(p,"top",m.top),i=p;var h=c.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});return c.setStyles(h,s({},m)),c.add(e,h),a.set({caret:h,element:f,before:t}),t&&c.addClass(h,"mce-visual-caret-before"),o=setInterval((function(){a.on((function(t){r()?c.toggleClass(t.caret,"mce-visual-caret-hidden"):c.addClass(t.caret,"mce-visual-caret-hidden")}))}),500),d=f.ownerDocument.createRange(),d.setStart(p,0),d.setEnd(p,0),d},hide:l,getCss:function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"},reposition:function(){a.on((function(t){var n=Sl(e,t.element,t.before);c.setStyles(t.caret,s({},n))}))},destroy:function(){return clearInterval(o)}}},Tl=function(){return He.browser.isFirefox()},Al=function(t){return Cl(t)||kl(t)},Nl=function(t){return(Al(t)||io(t)&&Tl())&&Un(Rn(t)).exists(mr)},Rl=go,Dl=bo,Pl=wo,Ml=no("display","block table table-cell table-caption list-item"),Bl=Jo,Ll=Xo,Il=Qr,jl=co,Fl=mi,ql=function(t){return t>0},zl=function(t){return t<0},Ul=function(t,e){for(var n;n=t(e);)if(!Ll(n))return n;return null},Hl=function(t,e,n,r,o){var i,a=new Xr(t,r),u=Dl(t)||Ll(t);if(zl(e)){if(u&&(i=Ul(a.prev.bind(a),!0),n(i)))return i;for(;i=Ul(a.prev.bind(a),o);)if(n(i))return i}if(ql(e)){if(u&&(i=Ul(a.next.bind(a),!0),n(i)))return i;for(;i=Ul(a.next.bind(a),o);)if(n(i))return i}return null},Vl=function(t,e){for(;t&&t!==e;){if(Ml(t))return t;t=t.parentNode}return null},Wl=function(t,e,n){return Vl(t.container(),n)===Vl(e.container(),n)},$l=function(t,e){if(!e)return Z.none();var n=e.container(),r=e.offset();return Il(n)?Z.from(n.childNodes[r+t]):Z.none()},Gl=function(t,e){var n,r=(null!==(n=e.ownerDocument)&&void 0!==n?n:document).createRange();return t?(r.setStartBefore(e),r.setEndBefore(e)):(r.setStartAfter(e),r.setEndAfter(e)),r},Kl=function(t,e,n){return Vl(e,t)===Vl(n,t)},Yl=function(t,e,n){for(var r=t?"previousSibling":"nextSibling",o=n;o&&o!==e;){var i=o[r];if(i&&Bl(i)&&(i=i[r]),Dl(i)||Pl(i)){if(Kl(e,i,o))return i;break}if(Fl(i))break;o=o.parentNode}return null},Xl=V(Gl,!0),Zl=V(Gl,!1),Jl=function(t,e,n){var r,o=V(Yl,!0,e),i=V(Yl,!1,e),a=n.startContainer,u=n.startOffset;if(Xo(a)){var c=jl(a)?a.parentNode:a,s=c.getAttribute("data-mce-caret");if("before"===s&&(r=c.nextSibling,Nl(r)))return Xl(r);if("after"===s&&(r=c.previousSibling,Nl(r)))return Zl(r)}if(!n.collapsed)return n;if(co(a)){if(Bl(a)){if(1===t){if(r=i(a),r)return Xl(r);if(r=o(a),r)return Zl(r)}if(-1===t){if(r=o(a),r)return Zl(r);if(r=i(a),r)return Xl(r)}return n}if(ri(a)&&u>=a.data.length-1)return 1===t&&(r=i(a),r)?Xl(r):n;if(ni(a)&&u<=1)return-1===t&&(r=o(a),r)?Zl(r):n;if(u===a.data.length)return r=i(a),r?Xl(r):n;if(0===u)return r=o(a),r?Zl(r):n}return n},Ql=function(t,e){return $l(t?0:-1,e).filter(Dl)},tf=function(t,e,n){var r=Jl(t,e,n);return-1===t?Wu.fromRangeStart(r):Wu.fromRangeEnd(r)},ef=function(t){return Z.from(t.getNode()).map(Rn)},nf=function(t,e){for(var n=e;n=t(n);)if(n.isVisible())return n;return n},rf=function(t,e){var n=Wl(t,e);return!(n||!ho(t.getNode()))||n};!function(t){t[t.Backwards=-1]="Backwards",t[t.Forwards=1]="Forwards"}(gc||(gc={}));var of=bo,af=co,uf=Qr,cf=ho,sf=mi,lf=function(t){return fi(t)||function(t){return!!hi(t)&&!lt(kt(t.getElementsByTagName("*")),(function(t,e){return t||ai(e)}),!1)}(t)},ff=vi,df=function(t,e){return t.hasChildNodes()&&e<t.childNodes.length?t.childNodes[e]:null},pf=function(t,e){if(ql(t)){if(sf(e.previousSibling)&&!af(e.previousSibling))return Wu.before(e);if(af(e))return Wu(e,0)}if(zl(t)){if(sf(e.nextSibling)&&!af(e.nextSibling))return Wu.after(e);if(af(e))return Wu(e,e.data.length)}return zl(t)?cf(e)?Wu.before(e):Wu.after(e):Wu.before(e)},mf=function t(e,n,r){var o,i,a,u;if(!uf(r)||!n)return null;if(n.isEqual(Wu.after(r))&&r.lastChild){if(u=Wu.after(r.lastChild),zl(e)&&sf(r.lastChild)&&uf(r.lastChild))return cf(r.lastChild)?Wu.before(r.lastChild):u}else u=n;var c=u.container(),s=u.offset();if(af(c)){if(zl(e)&&s>0)return Wu(c,--s);if(ql(e)&&s<c.length)return Wu(c,++s);o=c}else{if(zl(e)&&s>0&&(i=df(c,s-1),sf(i)))return!lf(i)&&(a=Hl(i,e,ff,i),a)?af(a)?Wu(a,a.data.length):Wu.after(a):af(i)?Wu(i,i.data.length):Wu.before(i);if(ql(e)&&s<c.childNodes.length&&(i=df(c,s),sf(i)))return cf(i)?function(e,n){var r=n.nextSibling;return r&&sf(r)?af(r)?Wu(r,0):Wu.before(r):t(gc.Forwards,Wu.after(n),e)}(r,i):!lf(i)&&(a=Hl(i,e,ff,i),a)?af(a)?Wu(a,0):Wu.before(a):af(i)?Wu(i,0):Wu.after(i);o=i||u.getNode()}if(o&&(ql(e)&&u.isAtEnd()||zl(e)&&u.isAtStart())&&(o=Hl(o,e,X,r,!0),ff(o,r)))return pf(e,o);i=o?Hl(o,e,ff,r):o;var l=Gt(ct(function(t,e){for(var n=[],r=t;r&&r!==e;)n.push(r),r=r.parentNode;return n}(c,r),of));return!l||i&&l.contains(i)?i?pf(e,i):null:(u=ql(e)?Wu.after(l):Wu.before(l),u)},hf=function(t){return{next:function(e){return mf(gc.Forwards,e,t)},prev:function(e){return mf(gc.Backwards,e,t)}}},vf=function(t){return Wu.isTextPosition(t)?0===t.offset():mi(t.getNode())},gf=function(t){if(Wu.isTextPosition(t)){var e=t.container();return t.offset()===e.data.length}return mi(t.getNode(!0))},bf=function(t,e){return!Wu.isTextPosition(t)&&!Wu.isTextPosition(e)&&t.getNode()===e.getNode(!0)},yf=function(t,e,n){var r=hf(e);return Z.from(t?r.next(n):r.prev(n))},xf=function(t,e,n){return yf(t,e,n).bind((function(r){return Wl(n,r,e)&&function(t,e,n){return t?!bf(e,n)&&(r=e,!(!Wu.isTextPosition(r)&&ho(r.getNode())))&&gf(e)&&vf(n):!bf(n,e)&&vf(e)&&gf(n);var r}(t,n,r)?yf(t,e,r):Z.some(r)}))},wf=function t(e,n,r,o){return xf(e,n,r).bind((function(r){return o(r)?t(e,n,r,o):Z.some(r)}))},_f=function(t,e){var n,r=t?e.firstChild:e.lastChild;return co(r)?Z.some(Wu(r,t?0:r.data.length)):r?mi(r)?Z.some(t?Wu.before(r):ho(n=r)?Wu.before(n):Wu.after(n)):function(t,e,n){var r=t?Wu.before(n):Wu.after(n);return yf(t,e,r)}(t,e,r):Z.none()},Cf=V(yf,!0),kf=V(yf,!1),Of=V(_f,!0),Sf=V(_f,!1),Ef="_mce_caret",Tf=function(t){return Qr(t)&&t.id===Ef},Af=function(t,e){for(var n=e;n&&n!==t;){if(Tf(n))return n;n=n.parentNode}return null},Nf=function(t){return It(t,"name")},Rf=function(t){return Ge.isArray(t.start)},Df=function(t){return!(!Nf(t)&&R(t.forward))||t.forward},Pf=function(t,e){return Qr(e)&&t.isBlock(e)&&!e.innerHTML&&(e.innerHTML='<br data-mce-bogus="1" />'),e},Mf=function(t,e){return Sf(t).fold(Y,(function(t){return e.setStart(t.container(),t.offset()),e.setEnd(t.container(),t.offset()),!0}))},Bf=function(t,e,n){return!(!function(t){return!t.hasChildNodes()}(e)||!Af(t,e)||(function(t,e){var n,r=(null!==(n=t.ownerDocument)&&void 0!==n?n:document).createTextNode(Wo);t.appendChild(r),e.setStart(r,0),e.setEnd(r,0)}(e,n),0))},Lf=function(t,e,n,r){var o=n[e?"start":"end"],i=t.getRoot();if(o){for(var a=i,u=o[0],c=o.length-1;a&&c>=1;c--){var s=a.childNodes;if(Bf(i,a,r))return!0;if(o[c]>s.length-1)return!!Bf(i,a,r)||Mf(a,r);a=s[o[c]]}co(a)&&(u=Math.min(o[0],a.data.length)),Qr(a)&&(u=Math.min(o[0],a.childNodes.length)),e?r.setStart(a,u):r.setEnd(a,u)}return!0},If=function(t){return co(t)&&t.data.length>0},jf=function(t,e,n){var r=t.get(n.id+"_"+e),o=null==r?void 0:r.parentNode,i=n.keep;if(r&&o){var a,u;if("start"===e?i?r.hasChildNodes()?(a=r.firstChild,u=1):If(r.nextSibling)?(a=r.nextSibling,u=0):If(r.previousSibling)?(a=r.previousSibling,u=r.previousSibling.data.length):(a=o,u=t.nodeIndex(r)+1):(a=o,u=t.nodeIndex(r)):i?r.hasChildNodes()?(a=r.firstChild,u=1):If(r.previousSibling)?(a=r.previousSibling,u=r.previousSibling.data.length):(a=o,u=t.nodeIndex(r)):(a=o,u=t.nodeIndex(r)),!i){var c,s=r.previousSibling,l=r.nextSibling;for(Ge.each(Ge.grep(r.childNodes),(function(t){co(t)&&(t.data=t.data.replace(/\uFEFF/g,""))}));c=t.get(n.id+"_"+e);)t.remove(c,!0);if(co(l)&&co(s)&&!He.browser.isOpera()){var f=s.data.length;s.appendData(l.data),t.remove(l),a=s,u=f}}return Z.some(Wu(a,u))}return Z.none()},Ff=function(t,e,n){return function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return 2===e?sc(Go,n,t):3===e?function(t){var e=t.getRng();return{start:ec(t.dom.getRoot(),Wu.fromRangeStart(e)),end:ec(t.dom.getRoot(),Wu.fromRangeEnd(e)),forward:t.isForward()}}(t):e?function(t){return{rng:t.getRng(),forward:t.isForward()}}(t):fc(t,!1)}(t,e,n)},qf=function(t,e){(function(t,e){var n=t.dom;if(e){if(Rf(e))return function(t,e){var n=t.createRng();return Lf(t,!0,e,n)&&Lf(t,!1,e,n)?Z.some({range:n,forward:Df(e)}):Z.none()}(n,e);if(function(t){return S(t.start)}(e))return function(t,e){var n=Z.from(nc(t.getRoot(),e.start)),r=Z.from(nc(t.getRoot(),e.end));return Ye(n,r,(function(n,r){var o=t.createRng();return o.setStart(n.container(),n.offset()),o.setEnd(r.container(),r.offset()),{range:o,forward:Df(e)}}))}(n,e);if(function(t){return It(t,"id")}(e))return function(t,e){var n=jf(t,"start",e),r=jf(t,"end",e);return Ye(n,r.or(n),(function(n,r){var o=t.createRng();return o.setStart(Pf(t,n.container()),n.offset()),o.setEnd(Pf(t,r.container()),r.offset()),{range:o,forward:Df(e)}}))}(n,e);if(Nf(e))return function(t,e){return Z.from(t.select(e.name)[e.index]).map((function(e){var n=t.createRng();return n.selectNode(e),{range:n,forward:!0}}))}(n,e);if(function(t){return It(t,"rng")}(e))return Z.some({range:e.rng,forward:Df(e)})}return Z.none()})(t,e).each((function(e){var n=e.range,r=e.forward;t.setRng(n,r)}))},zf=function(t){return Qr(t)&&"SPAN"===t.tagName&&"bookmark"===t.getAttribute("data-mce-type")},Uf=function(t){return" "===t},Hf=function(t){return""!==t&&-1!==" \f\n\r\t\v".indexOf(t)},Vf=function(t){return!Hf(t)&&!Uf(t)&&!Oo(t)},Wf=function(t){var e=t.toString(16);return(1===e.length?"0"+e:e).toUpperCase()},$f=function(t){return function(t){return{value:(e=t,te(e,"#").toUpperCase())};var e}(Wf(t.red)+Wf(t.green)+Wf(t.blue))},Gf=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,Kf=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,Yf=function(t,e,n,r){return{red:t,green:e,blue:n,alpha:r}},Xf=function(t,e,n,r){var o=parseInt(t,10),i=parseInt(e,10),a=parseInt(n,10),u=parseFloat(r);return Yf(o,i,a,u)},Zf=function(t){return function(t){if("transparent"===t)return Z.some(Yf(0,0,0,0));var e=Gf.exec(t);if(null!==e)return Z.some(Xf(e[1],e[2],e[3],"1"));var n=Kf.exec(t);return null!==n?Z.some(Xf(n[1],n[2],n[3],n[4])):Z.none()}(t).map($f).map((function(t){return"#"+t.value})).getOr(t)},Jf=function(t){var e=[];if(t)for(var n=0;n<t.rangeCount;n++)e.push(t.getRangeAt(n));return e},Qf=function(t,e){var n=Kr(e,"td[data-mce-selected],th[data-mce-selected]");return n.length>0?n:function(t){return ct(function(t){return ht(t,(function(t){var e=ku(t);return e?[Rn(e)]:[]}))}(t),jo)}(t)},td=function(t){return Qf(Jf(t.selection.getSel()),Rn(t.getBody()))},ed=function(t,e){return fr(t,"table",e)},nd=function t(e){return Xn(e).fold(z([e]),(function(n){return[e].concat(t(n))}))},rd=function t(e){return Zn(e).fold(z([e]),(function(n){return"br"===en(n)?Vn(n).map((function(n){return[e].concat(t(n))})).getOr([]):[e].concat(t(n))}))},od=function(t,e){return Ye(function(t){var e=t.startContainer,n=t.startOffset;return co(e)?0===n?Z.some(Rn(e)):Z.none():Z.from(e.childNodes[n]).map(Rn)}(e),function(t){var e=t.endContainer,n=t.endOffset;return co(e)?n===e.data.length?Z.some(Rn(e)):Z.none():Z.from(e.childNodes[n-1]).map(Rn)}(e),(function(e,n){var r=dt(nd(t),V(Ln,e)),o=dt(rd(t),V(Ln,n));return r.isSome()&&o.isSome()})).getOr(!1)},id=function(t,e,n,r){var o=n,i=new Xr(n,o),a=Pt(t.schema.getMoveCaretBeforeOnEnterElements(),(function(t,e){return!nt(["td","th","table"],e.toLowerCase())})),u=n;do{if(co(u)&&0!==Ge.trim(u.data).length)return void(r?e.setStart(u,0):e.setEnd(u,u.data.length));if(a[u.nodeName])return void(r?e.setStartBefore(u):"BR"===u.nodeName?e.setEndBefore(u):e.setEndAfter(u))}while(u=r?i.next():i.prev());"BODY"===o.nodeName&&(r?e.setStart(o,0):e.setEnd(o,o.childNodes.length))},ad=function(t){var e=t.selection.getSel();return M(e)&&e.rangeCount>0},ud=function(t,e){var n=td(t);n.length>0?it(n,(function(n){var r=n.dom,o=t.dom.createRng();o.setStartBefore(r),o.setEndAfter(r),e(o,!0)})):e(t.selection.getRng(),!1)},cd=function(t,e,n){var r=fc(t,e);n(r),t.moveToBookmark(r)},sd=function(t){return L(null==t?void 0:t.nodeType)},ld=function(t){return Qr(t)&&!zf(t)&&!Tf(t)&&!oo(t)},fd=function(t){return!0===t.isContentEditable},dd=function(t,e,n){var r=t.selection,o=t.dom,i=r.getNode(),a=bo(i);cd(r,!0,(function(){e()})),a&&bo(i)&&o.isChildOf(i,t.getBody())?t.selection.select(i):n(r.getStart())&&pd(o,r)},pd=function(t,e){var n,r,o=e.getRng(),i=o.startContainer,a=o.startOffset;if(!function(t,e){if(ld(e)&&!/^(TD|TH)$/.test(e.nodeName)){var n=t.getAttrib(e,"data-mce-selected"),r=parseInt(n,10);return!isNaN(r)&&r>0}return!1}(t,e.getNode())&&Qr(i)){var u,c=i.childNodes,s=t.getRoot();if(a<c.length){var l=c[a];u=new Xr(l,null!==(n=t.getParent(l,t.isBlock))&&void 0!==n?n:s)}else{var f=c[c.length-1];u=new Xr(f,null!==(r=t.getParent(f,t.isBlock))&&void 0!==r?r:s),u.next(!0)}for(var d=u.current();d;d=u.next()){if("false"===t.getContentEditable(d))return;if(co(d)&&!gd(d))return o.setStart(d,0),void e.setRng(o)}}},md=function(t,e,n){if(t){var r=e?"nextSibling":"previousSibling";for(t=n?t:t[r];t;t=t[r])if(Qr(t)||!gd(t))return t}},hd=function(t,e){return!!t.getTextBlockElements()[e.nodeName.toLowerCase()]||Ii(t,e)},vd=function(t,e,n){return t.schema.isValidChild(e,n)},gd=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(M(t)&&co(t)){var n=e?t.data.replace(/ /g," "):t.data;return bi(n)}return!1},bd=function(t,e){var n=t.dom;return ld(e)&&"false"===n.getContentEditable(e)&&function(t,e){var n="[data-mce-cef-wrappable]",r=ks(t),o=se(r)?n:"".concat(n,",").concat(r);return Mn(Rn(e),o)}(t,e)&&0===n.select('[contenteditable="true"]',e).length},yd=function(t,e){return B(t)?t(e):(M(e)&&(t=t.replace(/%(\w+)/g,(function(t,n){return e[n]||t}))),t)},xd=function(t,e){return e=e||"",t=""+((t=t||"").nodeName||t),e=""+(e.nodeName||e),t.toLowerCase()===e.toLowerCase()},wd=function(t,e){if(P(t))return null;var n=String(t);return"color"!==e&&"backgroundColor"!==e||(n=Zf(n)),"fontWeight"===e&&700===t&&(n="bold"),"fontFamily"===e&&(n=n.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),n},_d=function(t,e,n){var r=t.getStyle(e,n);return wd(r,n)},Cd=function(t,e){var n;return t.getParent(e,(function(e){return!!Qr(e)&&(n=t.getStyle(e,"text-decoration"),!!n&&"none"!==n)})),n},kd=function(t,e,n){return t.getParents(e,n,t.getRoot())},Od=function(t,e,n){var r=t.formatter.get(e);return M(r)&&rt(r,n)},Sd=function(t){return jt(t,"block")},Ed=function(t){return jt(t,"selector")},Td=function(t){return jt(t,"inline")},Ad=function(t){return Ed(t)&&!1!==t.expand&&!Td(t)},Nd=zf,Rd=kd,Dd=gd,Pd=hd,Md=function(t,e){for(var n=e;n;){if(Qr(n)&&t.getContentEditable(n))return"false"===t.getContentEditable(n)?n:e;n=n.parentNode}return e},Bd=function(t,e,n,r){var o=e.data;if(t){for(var i=n;i>0;i--)if(r(o.charAt(i-1)))return i}else for(var a=n;a<o.length;a++)if(r(o.charAt(a)))return a;return-1},Ld=function(t,e,n){return Bd(t,e,n,(function(t){return Uf(t)||Hf(t)}))},Id=function(t,e,n){return Bd(t,e,n,Vf)},jd=function(t,e,n,r,o,i){var a,u=t.getParent(n,t.isBlock)||e,c=function(e,n,r){var i=vu(t),c=o?i.backwards:i.forwards;return Z.from(c(e,n,(function(t,e){return Nd(t.parentNode)?-1:(a=t,r(o,t,e))}),u))};return c(n,r,Ld).bind((function(t){return i?c(t.container,t.offset+(o?-1:0),Id):Z.some(t)})).orThunk((function(){return a?Z.some({container:a,offset:o?0:a.length}):Z.none()}))},Fd=function(t,e,n,r,o){var i=r[o];co(r)&&se(r.data)&&i&&(r=i);for(var a=Rd(t,r),u=0;u<a.length;u++)for(var c=0;c<e.length;c++){var s=e[c];if((!M(s.collapsed)||s.collapsed===n.collapsed)&&Ed(s)&&t.is(a[u],s.selector))return a[u]}return r},qd=function(t,e,n,r){var o,i=n,a=t.getRoot(),u=e[0];if(Sd(u)&&(i=u.wrapper?null:t.getParent(n,u.block,a)),!i){var c=null!==(o=t.getParent(n,"LI,TD,TH"))&&void 0!==o?o:a;i=t.getParent(co(n)?n.parentNode:n,(function(e){return e!==a&&Pd(t.schema,e)}),c)}if(i&&Sd(u)&&u.wrapper&&(i=Rd(t,i,"ul,ol").reverse()[0]||i),!i)for(i=n;i&&i[r]&&!t.isBlock(i[r])&&(i=i[r],!xd(i,"br")););return i||n},zd=function t(e,n,r,o){var i=r.parentNode;return!M(r[o])&&(!(i!==n&&!P(i)&&!e.isBlock(i))||t(e,n,i,o))},Ud=function(t,e,n,r,o){var i,a=n,u=o?"previousSibling":"nextSibling",c=t.getRoot();if(co(n)&&!Dd(n)&&(o?r>0:r<n.data.length))return n;for(;a;){if(!e[0].block_expand&&t.isBlock(a))return a;for(var s=a[u];s;s=s[u]){var l=co(s)&&!zd(t,c,s,u);if(!Nd(s)&&(!ho(i=s)||!i.getAttribute("data-mce-bogus")||i.nextSibling)&&!Dd(s,l))return a}if(a===c||a.parentNode===c){n=a;break}a=a.parentNode}return n},Hd=function(t){return Nd(t.parentNode)||Nd(t)},Vd=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=e.startContainer,i=e.startOffset,a=e.endContainer,u=e.endOffset,c=n[0];return Qr(o)&&o.hasChildNodes()&&(o=Ou(o,i),co(o)&&(i=0)),Qr(a)&&a.hasChildNodes()&&(a=Ou(a,e.collapsed?u:u-1),co(a)&&(u=a.data.length)),o=Md(t,o),a=Md(t,a),Hd(o)&&(o=Nd(o)?o:o.parentNode,o=e.collapsed?o.previousSibling||o:o.nextSibling||o,co(o)&&(i=e.collapsed?o.length:0)),Hd(a)&&(a=Nd(a)?a:a.parentNode,a=e.collapsed?a.nextSibling||a:a.previousSibling||a,co(a)&&(u=e.collapsed?0:a.length)),e.collapsed&&(jd(t,t.getRoot(),o,i,!0,r).each((function(t){var e=t.container,n=t.offset;o=e,i=n})),jd(t,t.getRoot(),a,u,!1,r).each((function(t){var e=t.container,n=t.offset;a=e,u=n}))),(Td(c)||c.block_expand)&&(Td(c)&&co(o)&&0!==i||(o=Ud(t,n,o,i,!0)),Td(c)&&co(a)&&u!==a.data.length||(a=Ud(t,n,a,u,!1))),Ad(c)&&(o=Fd(t,n,e,o,"previousSibling"),a=Fd(t,n,e,a,"nextSibling")),(Sd(c)||Ed(c))&&(o=qd(t,n,o,"previousSibling"),a=qd(t,n,a,"nextSibling"),Sd(c)&&(t.isBlock(o)||(o=Ud(t,n,o,i,!0)),t.isBlock(a)||(a=Ud(t,n,a,u,!1)))),Qr(o)&&o.parentNode&&(i=t.nodeIndex(o),o=o.parentNode),Qr(a)&&a.parentNode&&(u=t.nodeIndex(a)+1,a=a.parentNode),{startContainer:o,startOffset:i,endContainer:a,endOffset:u}},Wd=function(t,e,n){var r,o=e.startOffset,i=Ou(e.startContainer,o),a=e.endOffset,u=Ou(e.endContainer,a-1),c=function(t){var e=t[0];co(e)&&e===i&&o>=e.data.length&&t.splice(0,1);var n=t[t.length-1];return 0===a&&t.length>0&&n===u&&co(n)&&t.splice(t.length-1,1),t},s=function(t,e,n){for(var r=[];t&&t!==n;t=t[e])r.push(t);return r},l=function(e,n){return t.getParent(e,(function(t){return t.parentNode===n}),n)},f=function(t,e,r){for(var o=r?"nextSibling":"previousSibling",i=t,a=i.parentNode;i&&i!==e;i=a){a=i.parentNode;var u=s(i===t?i:i[o],o);u.length&&(r||u.reverse(),n(c(u)))}};if(i===u)return n(c([i]));var d=null!==(r=t.findCommonAncestor(i,u))&&void 0!==r?r:t.getRoot();if(t.isChildOf(i,u))return f(i,d,!0);if(t.isChildOf(u,i))return f(u,d);var p=l(i,d)||i,m=l(u,d)||u;f(i,p,!0);var h=s(p===i?p:p.nextSibling,"nextSibling",m===u?m.nextSibling:m);h.length&&n(c(h)),f(u,m)},$d=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],Gd=function(t,e,n,r,o,i){var a=n.uid,u=void 0===a?e:a,s=c(n,h);Cn(t,Qa()),fn(t,"".concat(eu()),u),fn(t,"".concat(tu()),r);var l=o(u,s),f=l.attributes,d=void 0===f?{}:f,p=l.classes,m=void 0===p?[]:p;if(dn(t,d),function(t,e){it(e,(function(e){Cn(t,e)}))}(t,m),i){m.length>0&&fn(t,"".concat(ru()),m.join(","));var v=St(d);v.length>0&&fn(t,"".concat(ou()),v.join(","))}},Kd=function(t,e,n,r,o){var i=An("span",t);return Gd(i,e,n,r,o,!1),i},Yd=function(t,e,n,r,o,i){var a=[],u=Kd(t.getDoc(),n,i,r,o),c=Xa(),s=function(){c.clear()},l=function(t){it(t,f)},f=function(e){switch(function(t,e,n,r){return zn(e).fold((function(){return"skipping"}),(function(o){return"br"===r||function(t){return an(t)&&Eo(t)===Wo}(e)?"valid":function(t){return on(t)&&Sn(t,Qa())}(e)?"existing":Tf(e.dom)?"caret":rt($d,(function(t){return Mn(e,t)}))?"valid-block":vd(t,n,r)&&vd(t,en(o),n)?"valid":"invalid-child"}))}(t,e,"span",en(e))){case"invalid-child":s();var f=Kn(e);l(f),s();break;case"valid-block":s(),Gd(e,n,i,r,o,!0);break;case"valid":var d=c.get().getOrThunk((function(){var t=pu(u);return a.push(t),c.set(t),t}));Ar(e,d);break}};return Wd(t.dom,e,(function(t){s(),function(t){var e=ot(t,Rn);l(e)}(t)})),a},Xd=function(t){var e=function(){var t={};return{register:function(e,n){t[e]={name:e,settings:n}},lookup:function(e){return Lt(t,e).map((function(t){return t.settings}))},getNames:function(){return St(t)}}}();(function(t,e){var n=tu(),r=function(t){return Z.from(t.attr(n)).bind(e.lookup)},o=function(t){var e,n;t.attr(eu(),null),t.attr(tu(),null),t.attr(nu(),null);var r=Z.from(t.attr(ou())).map((function(t){return t.split(",")})).getOr([]),o=Z.from(t.attr(ru())).map((function(t){return t.split(",")})).getOr([]);it(r,(function(e){return t.attr(e,null)}));var i=null!==(n=null===(e=t.attr("class"))||void 0===e?void 0:e.split(" "))&&void 0!==n?n:[],a=bt(i,[Qa()].concat(o));t.attr("class",a.length>0?a.join(" "):null),t.attr(ru(),null),t.attr(ou(),null)};t.serializer.addTempAttr(nu()),t.serializer.addAttributeFilter(n,(function(t){var e,n=u(t);try{var i=function(){var t=e.value;r(t).each((function(e){!1===e.persistent&&("span"===t.name?t.unwrap():o(t))}))};for(n.s();!(e=n.n()).done;)i()}catch(a){n.e(a)}finally{n.f()}}))})(t,e);var n=function(t,e){var n=Ha({}),r=function(){return{listeners:[],previous:Xa()}},o=function(t,e){i(t,(function(t){return e(t),t}))},i=function(t,e){var o=n.get(),i=e(Lt(o,t).getOrThunk(r));o[t]=i,n.set(o)},a=function(e,n){it(cu(t,e),(function(t){n?fn(t,nu(),"true"):vn(t,nu())}))},u=Ja((function(){var n=xt(e.getNames());it(n,(function(e){i(e,(function(n){var r=n.previous.get();return au(t,Z.some(e)).fold((function(){r.each((function(t){(function(t){o(t,(function(e){it(e.listeners,(function(e){return e(!1,t)}))}))})(e),n.previous.clear(),a(t,!1)}))}),(function(t){var e=t.uid,i=t.name,u=t.elements;Ke(r,e)||(r.each((function(t){return a(t,!1)})),function(t,e,n){o(t,(function(r){it(r.listeners,(function(r){return r(!0,t,{uid:e,nodes:ot(n,(function(t){return t.dom}))})}))}))}(i,e,u),n.previous.set(e),a(e,!0))})),{previous:n.previous,listeners:n.listeners}}))}))}),30);return t.on("remove",(function(){u.cancel()})),t.on("NodeChange",(function(){u.throttle()})),{addListener:function(t,e){i(t,(function(t){return{previous:t.previous,listeners:t.listeners.concat([e])}}))}}}(t,e),r=sn("span"),o=function(t){it(t,(function(t){r(t)?Pr(t):function(t){On(t,Qa()),vn(t,"".concat(eu())),vn(t,"".concat(tu())),vn(t,"".concat(nu()));var e,n=mn(t,"".concat(ou())).map((function(t){return t.split(",")})).getOr([]),r=mn(t,"".concat(ru())).map((function(t){return t.split(",")})).getOr([]);it(n,(function(e){return vn(t,e)})),e=t,it(r,(function(t){On(e,t)})),vn(t,"".concat(ru())),vn(t,"".concat(ou()))}(t)}))};return{register:function(t,n){e.register(t,n)},annotate:function(n,r){e.lookup(n).each((function(e){(function(t,e,n,r){t.undoManager.transact((function(){var o=t.selection,i=o.getRng(),a=td(t).length>0,u=fu("mce-annotation");if(i.collapsed&&!a&&function(t,e){var n=Vd(t.dom,e,[{inline:"span"}]);e.setStart(n.startContainer,n.startOffset),e.setEnd(n.endContainer,n.endOffset),t.selection.setRng(e)}(t,i),o.getRng().collapsed&&!a){var c=Kd(t.getDoc(),u,r,e,n.decorate);Lr(c,ko),o.getRng().insertNode(c.dom),o.select(c.dom)}else cd(o,!1,(function(){ud(t,(function(o){Yd(t,o,u,e,n.decorate,r)}))}))}))})(t,n,e,r)}))},annotationChanged:function(t,e){n.addListener(t,e)},remove:function(e){au(t,Z.some(e)).each((function(e){var n=e.elements,r=t.selection.getBookmark();o(n),t.selection.moveToBookmark(r)}))},removeAll:function(e){var n=t.selection.getBookmark();Tt(su(t,e),(function(t,e){o(t)})),t.selection.moveToBookmark(n)},getAll:function(e){var n=su(t,e);return At(n,(function(t){return ot(t,(function(t){return t.dom}))}))}}},Zd=function(t){return{getBookmark:V(Ff,t),moveToBookmark:V(qf,t)}};Zd.isBookmarkNode=zf;var Jd=function(t,e,n){return!n.collapsed&&rt(n.getClientRects(),(function(n){return function(t,e,n){return e>=t.left&&e<=t.right&&n>=t.top&&n<=t.bottom}(n,t,e)}))},Qd=function(t,e,n){t.dispatch(e,n)},tp=function(t,e,n,r){t.dispatch("FormatApply",{format:e,node:n,vars:r})},ep=function(t,e,n,r){t.dispatch("FormatRemove",{format:e,node:n,vars:r})},np=function(t,e){return t.dispatch("SetContent",e)},rp=function(t,e){return t.dispatch("GetContent",e)},op=function(t,e){return t.dispatch("PastePlainTextToggle",{state:e})},ip={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:function(t){return t.shiftKey||t.ctrlKey||t.altKey||ip.metaKeyPressed(t)},metaKeyPressed:function(t){return He.os.isMacOS()||He.os.isiOS()?t.metaKey:t.ctrlKey&&!t.altKey}},ap="data-mce-selected",up=Math.abs,cp=Math.round,sp={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},lp=function(t,e){var n,r,o,i,a,u,c,s,l,f,d,p,m,h,v,g=e.dom,b=e.getDoc(),y=document,x=e.getBody(),w=function(t){return M(t)&&(vo(t)||g.is(t,"figure.image"))},_=function(t){return wo(t)||g.hasClass(t,"mce-preview-object")},C=function(t){var n=t.target;(function(t,e){if(function(t){return"longpress"===t.type||0===t.type.indexOf("touch")}(t)){var n=t.touches[0];return w(t.target)&&!Jd(n.clientX,n.clientY,e)}return w(t.target)&&!Jd(t.clientX,t.clientY,e)})(t,e.selection.getRng())&&!t.isDefaultPrevented()&&e.selection.select(n)},k=function(t){return g.hasClass(t,"mce-preview-object")&&M(t.firstElementChild)?[t,t.firstElementChild]:g.is(t,"figure.image")?[t.querySelector("img")]:[t]},O=function(t){var n=fs(e);return!!n&&"false"!==t.getAttribute("data-mce-resize")&&t!==e.getBody()&&(g.hasClass(t,"mce-preview-object")&&M(t.firstElementChild)?Mn(Rn(t.firstElementChild),n):Mn(Rn(t),n))},S=function(t,n,r){if(M(r)){var o=k(t);it(o,(function(t){t.style[n]||!e.schema.isValid(t.nodeName.toLowerCase(),n)?g.setStyle(t,n,r):g.setAttrib(t,n,""+r)}))}},E=function(t,e,n){S(t,"width",e),S(t,"height",n)},T=function(t){var a,b,y,C,k;a=t.screenX-u,b=t.screenY-c,p=a*i[2]+s,m=b*i[3]+l,p=p<5?5:p,m=m<5?5:m,y=(w(n)||_(n))&&!1!==ds(e)?!ip.modifierPressed(t):ip.modifierPressed(t),y&&(up(a)>up(b)?(m=cp(p*f),p=cp(m/f)):(p=cp(m/f),m=cp(p*f))),E(r,p,m),C=i.startPos.x+a,k=i.startPos.y+b,C=C>0?C:0,k=k>0?k:0,g.setStyles(o,{left:C,top:k,display:"block"}),o.innerHTML=p+" &times; "+m,i[2]<0&&r.clientWidth<=p&&g.setStyle(r,"left",void 0+(s-p)),i[3]<0&&r.clientHeight<=m&&g.setStyle(r,"top",void 0+(l-m)),a=x.scrollWidth-h,b=x.scrollHeight-v,a+b!==0&&g.setStyles(o,{left:C-a,top:k-b}),d||(function(t,e,n,r,o){t.dispatch("ObjectResizeStart",{target:e,width:n,height:r,origin:o})}(e,n,s,l,"corner-"+i.name),d=!0)},A=function t(){var u=d;d=!1,u&&(S(n,"width",p),S(n,"height",m)),g.unbind(b,"mousemove",T),g.unbind(b,"mouseup",t),y!==b&&(g.unbind(y,"mousemove",T),g.unbind(y,"mouseup",t)),g.remove(r),g.remove(o),g.remove(a),N(n),u&&(function(t,e,n,r,o){t.dispatch("ObjectResized",{target:e,width:n,height:r,origin:o})}(e,n,p,m,"corner-"+i.name),g.setAttrib(n,"style",g.getAttrib(n,"style"))),e.nodeChanged()},N=function(t){L();var d=g.getPos(t,x),w=d.x,C=d.y,S=t.getBoundingClientRect(),N=S.width||S.right-S.left,R=S.height||S.bottom-S.top;n!==t&&(D(),n=t,p=m=0);var P=e.dispatch("ObjectSelected",{target:t});O(t)&&!P.isDefaultPrevented()?Tt(sp,(function(t,e){var d=g.get("mceResizeHandle"+e);d&&g.remove(d),d=g.add(x,"div",{id:"mceResizeHandle"+e,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+e+"-resize; margin:0; padding:0"}),g.bind(d,"mousedown",(function(d){d.stopImmediatePropagation(),d.preventDefault(),function(d){var p,m=k(n)[0];u=d.screenX,c=d.screenY,s=m.clientWidth,l=m.clientHeight,f=l/s,i=t,i.name=e,i.startPos={x:N*t[0]+w,y:R*t[1]+C},h=x.scrollWidth,v=x.scrollHeight,a=g.add(x,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),g.setStyles(a,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),r=_(p=n)?g.create("img",{src:He.transparentSrc}):p.cloneNode(!0),g.addClass(r,"mce-clonedresizable"),g.setAttrib(r,"data-mce-bogus","all"),r.contentEditable="false",g.setStyles(r,{left:w,top:C,margin:0}),E(r,N,R),r.removeAttribute(ap),x.appendChild(r),g.bind(b,"mousemove",T),g.bind(b,"mouseup",A),y!==b&&(g.bind(y,"mousemove",T),g.bind(y,"mouseup",A)),o=g.add(x,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},s+" &times; "+l)}(d)})),t.elm=d,g.setStyles(d,{left:N*t[0]+w-d.offsetWidth/2,top:R*t[1]+C-d.offsetHeight/2})})):D(!1)},R=Za(N,0),D=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];R.cancel(),L(),n&&t&&n.removeAttribute(ap),Tt(sp,(function(t,e){var n=g.get("mceResizeHandle"+e);n&&(g.unbind(n),g.remove(n))}))},P=function(t,e){return g.isChildOf(t,e)},B=function(n){if(!(d||e.removed||e.composing)){var r="mousedown"===n.type?n.target:t.getNode(),o=pr(Rn(r),"table,img,figure.image,hr,video,span.mce-preview-object").map((function(t){return t.dom})).filter((function(t){return g.isEditable(t.parentElement)})).getOrUndefined(),i=M(o)?g.getAttrib(o,ap,"1"):"1";if(it(g.select("img[data-mce-selected],hr[data-mce-selected]"),(function(t){t.removeAttribute(ap)})),M(o)&&P(o,x)){I();var a=t.getStart(!0);if(P(a,o)&&P(t.getEnd(!0),o))return g.setAttrib(o,ap,i),void R.throttle(o)}D()}},L=function(){Tt(sp,(function(t){t.elm&&(g.unbind(t.elm),delete t.elm)}))},I=function(){try{e.getDoc().execCommand("enableObjectResizing",!1,"false")}catch(t){}};return e.on("init",(function(){I(),e.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",B),e.on("keyup compositionend",(function(t){n&&"TABLE"===n.nodeName&&B(t)})),e.on("hide blur",D),e.on("contextmenu longpress",C,!0)})),e.on("remove",L),{isResizable:O,showResizeRect:N,hideResizeRect:D,updateResizeRect:B,destroy:function(){R.cancel(),n=r=a=null}}},fp=function(t,e,n){var r,o=t.document.createRange();return r=o,e.fold((function(t){r.setStartBefore(t.dom)}),(function(t,e){r.setStart(t.dom,e)}),(function(t){r.setStartAfter(t.dom)})),function(t,e){e.fold((function(e){t.setEndBefore(e.dom)}),(function(e,n){t.setEnd(e.dom,n)}),(function(e){t.setEndAfter(e.dom)}))}(o,n),o},dp=function(t,e,n,r,o){var i=t.document.createRange();return i.setStart(e.dom,n),i.setEnd(r.dom,o),i},pp=vc([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),mp=function(t,e,n){return e(Rn(n.startContainer),n.startOffset,Rn(n.endContainer),n.endOffset)};pp.ltr,pp.rtl;var hp=function(t,e,n,r){return{start:t,soffset:e,finish:n,foffset:r}},vp=document.caretPositionFromPoint?function(t,e,n){var r,o;return Z.from(null===(o=(r=t.dom).caretPositionFromPoint)||void 0===o?void 0:o.call(r,e,n)).bind((function(e){if(null===e.offsetNode)return Z.none();var n=t.dom.createRange();return n.setStart(e.offsetNode,e.offset),n.collapse(),Z.some(n)}))}:document.caretRangeFromPoint?function(t,e,n){var r,o;return Z.from(null===(o=(r=t.dom).caretRangeFromPoint)||void 0===o?void 0:o.call(r,e,n))}:Z.none,gp=vc([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),bp={before:gp.before,on:gp.on,after:gp.after,cata:function(t,e,n,r){return t.fold(e,n,r)},getStart:function(t){return t.fold(U,U,U)}},yp=vc([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),xp={domRange:yp.domRange,relative:yp.relative,exact:yp.exact,exactFromRange:function(t){return yp.exact(t.start,t.soffset,t.finish,t.foffset)},getWin:function(t){var e=function(t){return t.match({domRange:function(t){return Rn(t.startContainer)},relative:function(t,e){return bp.getStart(t)},exact:function(t,e,n,r){return t}})}(t);return qn(e)},range:hp},wp=function(t,e){var n=en(t);return"input"===n?bp.after(t):nt(["br","img"],n)?0===e?bp.before(t):bp.after(t):bp.on(t,e)},_p=function(t,e){var n=t.fold(bp.before,wp,bp.after),r=e.fold(bp.before,wp,bp.after);return xp.relative(n,r)},Cp=function(t,e,n,r){var o=wp(t,e),i=wp(n,r);return xp.relative(o,i)},kp=function(t,e){var n=(e||document).createDocumentFragment();return it(t,(function(t){n.appendChild(t.dom)})),Rn(n)},Op=function(t){var e=xp.getWin(t).dom,n=function(t,n,r,o){return dp(e,t,n,r,o)},r=function(t){return t.match({domRange:function(t){var e=Rn(t.startContainer),n=Rn(t.endContainer);return Cp(e,t.startOffset,n,t.endOffset)},relative:_p,exact:Cp})}(t);return function(t,e){var n=function(t,e){return e.match({domRange:function(t){return{ltr:z(t),rtl:Z.none}},relative:function(e,n){return{ltr:Kt((function(){return fp(t,e,n)})),rtl:Kt((function(){return Z.some(fp(t,n,e))}))}},exact:function(e,n,r,o){return{ltr:Kt((function(){return dp(t,e,n,r,o)})),rtl:Kt((function(){return Z.some(dp(t,r,o,e,n))}))}}})}(t,e);return function(t,e){var n=e.ltr();return n.collapsed?e.rtl().filter((function(t){return!1===t.collapsed})).map((function(t){return pp.rtl(Rn(t.endContainer),t.endOffset,Rn(t.startContainer),t.startOffset)})).getOrThunk((function(){return mp(0,pp.ltr,n)})):mp(0,pp.ltr,n)}(0,n)}(e,r).match({ltr:n,rtl:n})},Sp=function(t,e,n){return function(t,e,n){return function(t,e,n){var r=Rn(t.document);return vp(r,e,n).map((function(t){return hp(Rn(t.startContainer),t.startOffset,Rn(t.endContainer),t.endOffset)}))}(t,e,n)}(qn(Rn(n)).dom,t,e).map((function(t){var e=n.createRange();return e.setStart(t.start.dom,t.soffset),e.setEnd(t.finish.dom,t.foffset),e})).getOrUndefined()},Ep=function(t,e){return M(t)&&M(e)&&t.startContainer===e.startContainer&&t.startOffset===e.startOffset&&t.endContainer===e.endContainer&&t.endOffset===e.endOffset},Tp=function(t,e,n){return null!==function(t,e,n){for(var r=t;r&&r!==e;){if(n(r))return r;r=r.parentNode}return null}(t,e,n)},Ap=function(t,e,n){return Tp(t,e,(function(t){return t.nodeName===n}))},Np=function(t,e){return Jo(t)&&!Tp(t,e,Tf)},Rp=function(t,e,n){var r=e.parentNode;if(r)for(var o,i=new Xr(e,t.getParent(r,t.isBlock)||t.getRoot());o=i[n?"prev":"next"]();)if(ho(o))return!0;return!1},Dp=function(t,e,n,r,o){var i,a,u=t.getRoot(),c=t.schema.getNonEmptyElements(),s=o.parentNode;if(!s)return Z.none();var l=t.getParent(s,t.isBlock)||u;if(r&&ho(o)&&e&&t.isEmpty(l))return Z.some(Wu(s,t.nodeIndex(o)));for(var f=new Xr(o,l);a=f[r?"prev":"next"]();){if("false"===t.getContentEditableParent(a)||Np(a,u))return Z.none();if(co(a)&&a.data.length>0)return Ap(a,u,"A")?Z.none():Z.some(Wu(a,r?a.data.length:0));if(t.isBlock(a)||c[a.nodeName.toLowerCase()])return Z.none();i=a}return fo(i)?Z.none():n&&i?Z.some(Wu(i,0)):Z.none()},Pp=function(t,e,n,r){var o,i=t.getRoot(),a=!1,u=n?r.startContainer:r.endContainer,c=n?r.startOffset:r.endOffset,s=Qr(u)&&c===u.childNodes.length,l=t.schema.getNonEmptyElements(),f=n;if(Jo(u))return Z.none();if(Qr(u)&&c>u.childNodes.length-1&&(f=!1),po(u)&&(u=i,c=0),u===i){if(f&&(o=u.childNodes[c>0?c-1:0],o)){if(Jo(o))return Z.none();if(l[o.nodeName]||io(o))return Z.none()}if(u.hasChildNodes()){if(c=Math.min(!f&&c>0?c-1:c,u.childNodes.length-1),u=u.childNodes[c],c=co(u)&&s?u.data.length:0,!e&&u===i.lastChild&&io(u))return Z.none();if(function(t,e){for(var n=e;n&&n!==t;){if(bo(n))return!0;n=n.parentNode}return!1}(i,u)||Jo(u))return Z.none();if(u.hasChildNodes()&&!io(u)){o=u;var d=new Xr(u,i);do{if(bo(o)||Jo(o)){a=!1;break}if(co(o)&&o.data.length>0){c=f?0:o.data.length,u=o,a=!0;break}if(l[o.nodeName.toLowerCase()]&&!xo(o)){c=t.nodeIndex(o),u=o.parentNode,f||c++,a=!0;break}}while(o=f?d.next():d.prev())}}}return e&&(co(u)&&0===c&&Dp(t,s,e,!0,u).each((function(t){u=t.container(),c=t.offset(),a=!0})),Qr(u)&&(o=u.childNodes[c],o||(o=u.childNodes[c-1]),!o||!ho(o)||function(t,e){var n;return"A"===(null===(n=t.previousSibling)||void 0===n?void 0:n.nodeName)}(o)||Rp(t,o,!1)||Rp(t,o,!0)||Dp(t,s,e,!0,o).each((function(t){u=t.container(),c=t.offset(),a=!0})))),f&&!e&&co(u)&&c===u.data.length&&Dp(t,s,e,!1,u).each((function(t){u=t.container(),c=t.offset(),a=!0})),a&&u?Z.some(Wu(u,c)):Z.none()},Mp=function(t,e){var n=e.collapsed,r=e.cloneRange(),o=Wu.fromRangeStart(e);return Pp(t,n,!0,r).each((function(t){n&&Wu.isAbove(o,t)||r.setStart(t.container(),t.offset())})),n||Pp(t,n,!1,r).each((function(t){r.setEnd(t.container(),t.offset())})),n&&r.collapse(!0),Ep(e,r)?Z.none():Z.some(r)},Bp=function(t,e){return t.splitText(e)},Lp=function(t){var e=t.startContainer,n=t.startOffset,r=t.endContainer,o=t.endOffset;if(e===r&&co(e)){if(n>0&&n<e.data.length)if(r=Bp(e,n),e=r.previousSibling,o>n){o-=n;var i=Bp(r,o).previousSibling;e=r=i,o=i.data.length,n=0}else o=0}else if(co(e)&&n>0&&n<e.data.length&&(e=Bp(e,n),n=0),co(r)&&o>0&&o<r.data.length){var a=Bp(r,o).previousSibling;r=a,o=a.data.length}return{startContainer:e,startOffset:n,endContainer:r,endOffset:o}},Ip=function(t){return{walk:function(e,n){return Wd(t,e,n)},split:Lp,expand:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{type:"word"};if("word"===n.type){var r=Vd(t,e,[{inline:"span"}]),o=t.createRng();return o.setStart(r.startContainer,r.startOffset),o.setEnd(r.endContainer,r.endOffset),o}return e},normalize:function(e){return Mp(t,e).fold(Y,(function(t){return e.setStart(t.startContainer,t.startOffset),e.setEnd(t.endContainer,t.endOffset),!0}))}}};Ip.compareRanges=Ep,Ip.getCaretRangeFromPoint=Sp,Ip.getSelectedNode=ku,Ip.getNode=Ou;var jp,Fp=function(t,e){var n=function(e){var n=function(t){var e=t.dom;return ur(t)?e.getBoundingClientRect().height:e.offsetHeight}(e);if(n<=0||null===n){var r=xr(e,t);return parseFloat(r)||0}return n},r=function(t,e){return lt(e,(function(e,n){var r=xr(t,n),o=void 0===r?0:parseInt(r,10);return isNaN(o)?e:e+o}),0)};return{set:function(e,n){if(!L(n)&&!n.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+n);var r=e.dom;vr(r)&&(r.style[t]=n+"px")},get:n,getOuter:n,aggregate:r,max:function(t,e,n){var o=r(t,n);return e>o?e-o:0}}}("height"),qp=function(){return Rn(document)},zp=function t(e,n){return e.view(n).fold(z([]),(function(n){var r=e.owner(n),o=t(e,r);return[n].concat(o)}))},Up=Object.freeze({__proto__:null,view:function(t){var e;return(t.dom===document?Z.none():Z.from(null===(e=t.dom.defaultView)||void 0===e?void 0:e.frameElement)).map(Rn)},owner:function(t){return Fn(t)}}),Hp=function(t){return"textarea"===en(t)},Vp=function(t,e){var n=function(t){var e=t.dom.ownerDocument,n=e.body,r=e.defaultView,o=e.documentElement;if(n===t.dom)return qr(n.offsetLeft,n.offsetTop);var i=zr(null==r?void 0:r.pageYOffset,o.scrollTop),a=zr(null==r?void 0:r.pageXOffset,o.scrollLeft),u=zr(o.clientTop,n.clientTop),c=zr(o.clientLeft,n.clientLeft);return Ur(t).translate(a-c,i-u)}(t),r=function(t){return Fp.get(t)}(t);return{element:t,bottom:n.top+r,height:r,pos:n,cleanup:e}},Wp=function(t,e,n,r){Yp(t,(function(o,i){return Gp(t,e,n,r)}),n)},$p=function(t,e,n,r,o){var i={elm:r.element.dom,alignToTop:o};(function(t,e){return t.dispatch("ScrollIntoView",e).isDefaultPrevented()})(t,i)||(n(e,Hr(e).top,r,o),function(t,e){t.dispatch("AfterScrollIntoView",e)}(t,i))},Gp=function(t,e,n,r){var o=Rn(t.getBody()),i=Rn(t.getDoc());o.dom.offsetWidth;var a=function(t,e){var n=function(t,e){var n=Kn(t);if(0===n.length||Hp(t))return{element:t,offset:e};if(e<n.length&&!Hp(n[e]))return{element:n[e],offset:0};var r=n[n.length-1];return Hp(r)?{element:t,offset:e}:"img"===en(r)?{element:r,offset:1}:an(r)?{element:r,offset:Eo(r).length}:{element:r,offset:Kn(r).length}}(t,e),r=Tn('<span data-mce-bogus="all" style="display: inline-block;">\ufeff</span>');return Or(n.element,r),Vp(r,(function(){return Dr(r)}))}(Rn(n.startContainer),n.startOffset);$p(t,i,e,a,r),a.cleanup()},Kp=function(t,e,n,r){var o=Rn(t.getDoc());$p(t,o,n,function(t){return Vp(Rn(t),j)}(e),r)},Yp=function(t,e,n){var r=n.startContainer,o=n.startOffset,i=n.endContainer,a=n.endOffset;e(Rn(r),Rn(i));var u=t.dom.createRng();u.setStart(r,o),u.setEnd(i,a),t.selection.setRng(n)},Xp=function(t,e){return t.element.dom.scrollIntoView({block:e?"start":"end"})},Zp=function(t,e,n,r){var o=e+t,i=n.pos.top,a=n.bottom,u=a-i>=e;i<t?Xp(n,!1!==r):i>o?Xp(n,u?!1!==r:!0===r):a>o&&!u&&Xp(n,!0===r)},Jp=function(t,e,n,r){var o=qn(t).dom.innerHeight;Zp(e,o,n,r)},Qp=function(t,e,n,r){var o=qn(t).dom.innerHeight;Zp(e,o,n,r);var i=function(t){var e=qp(),n=Hr(e),r=function(t,e){var n=e.owner(t);return zp(e,n)}(t,Up),o=Ur(t),i=st(r,(function(t,e){var n=Ur(e);return{left:t.left+n.left,top:t.top+n.top}}),{left:0,top:0});return qr(i.left+o.left+n.left,i.top+o.top+n.top)}(n.element),a=$r(window);i.top<a.y?Vr(n.element,!1!==r):i.top>a.bottom&&Vr(n.element,!0===r)},tm=function(t,e,n){return Wp(t,Jp,e,n)},em=function(t,e,n){return Kp(t,e,Jp,n)},nm=function(t,e,n){return Wp(t,Qp,e,n)},rm=function(t,e,n){return Kp(t,e,Qp,n)},om=function(t,e,n){(t.inline?tm:nm)(t,e,n)},im=function(t){return t.dom.focus()},am=function(t){var e=nr(t).dom;return t.dom===e.activeElement},um=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qp();return Z.from(t.dom.activeElement).map(Rn)},cm=function(t,e){var n=an(e)?Eo(e).length:Kn(e).length+1;return t>n?n:t<0?0:t},sm=function(t){return xp.range(t.start,cm(t.soffset,t.start),t.finish,cm(t.foffset,t.finish))},lm=function(t,e){return!Jr(e.dom)&&(In(t,e)||Ln(t,e))},fm=function(t){return function(e){return lm(t,e.start)&&lm(t,e.finish)}},dm=function(t){return xp.range(Rn(t.startContainer),t.startOffset,Rn(t.endContainer),t.endOffset)},pm=function(t){var e=document.createRange();try{return e.setStart(t.start.dom,t.soffset),e.setEnd(t.finish.dom,t.foffset),Z.some(e)}catch(t){return Z.none()}},mm=function(t){var e,n=function(t){return t.inline||He.browser.isFirefox()}(t)?(e=Rn(t.getBody()),function(t){var e=t.getSelection();return(e&&0!==e.rangeCount?Z.from(e.getRangeAt(0)):Z.none()).map(dm)}(qn(e).dom).filter(fm(e))):Z.none();t.bookmark=n.isSome()?n:t.bookmark},hm=function(t){return(t.bookmark?t.bookmark:Z.none()).bind((function(e){return n=Rn(t.getBody()),r=e,Z.from(r).filter(fm(n)).map(sm);var n,r})).bind(pm)},vm={isEditorUIElement:function(t){var e=t.className.toString();return-1!==e.indexOf("tox-")||-1!==e.indexOf("mce-")}},gm={setEditorTimeout:function(t,e,n){return function(t,e){return L(e)||(e=0),setTimeout(t,e)}((function(){t.removed||e()}),n)},setEditorInterval:function(t,e,n){var r=function(t,e){return L(e)||(e=0),setInterval(t,e)}((function(){t.removed?clearInterval(r):e()}),n);return r}},bm=qa.DOM,ym=function(t){var e=t.classList;return void 0!==e&&(e.contains("tox-edit-area")||e.contains("tox-edit-area__iframe")||e.contains("mce-content-body"))},xm=function(t,e){var n=Os(t),r=bm.getParent(e,(function(e){return function(t){return Qr(t)&&vm.isEditorUIElement(t)}(e)||!!n&&t.dom.is(e,n)}));return null!==r},wm=function(t){try{var e=nr(Rn(t.getElement()));return um(e).fold((function(){return document.body}),(function(t){return t.dom}))}catch(t){return document.body}},_m=function(t,e){var n=e.editor;(function(t){var e=Za((function(){mm(t)}),0);t.on("init",(function(){t.inline&&function(t,e){var n=function(){e.throttle()};qa.DOM.bind(document,"mouseup",n),t.on("remove",(function(){qa.DOM.unbind(document,"mouseup",n)}))}(t,e),function(t,e){(function(t,e){t.on("mouseup touchend",(function(t){e.throttle()}))})(t,e),t.on("keyup NodeChange AfterSetSelectionRange",(function(e){(function(t){return"nodechange"===t.type&&t.selectionChange})(e)||mm(t)}))}(t,e)})),t.on("remove",(function(){e.cancel()}))})(n);var r=function(t,e){fl(t)&&!0!==t.inline&&e(Rn(t.getContainer()),"tox-edit-focus")};n.on("focusin",(function(){var e=t.focusedEditor;ym(wm(n))&&r(n,Cn),e!==n&&(e&&e.dispatch("blur",{focusedEditor:n}),t.setActive(n),t.focusedEditor=n,n.dispatch("focus",{blurredEditor:e}),n.focus(!0))})),n.on("focusout",(function(){gm.setEditorTimeout(n,(function(){var e=t.focusedEditor;ym(wm(n))&&e===n||r(n,On),xm(n,wm(n))||e!==n||(n.dispatch("blur",{focusedEditor:null}),t.focusedEditor=null)}))})),jp||(jp=function(e){var n=t.activeEditor;n&&ir(e).each((function(e){var r=e;r.ownerDocument===document&&(r===document.body||xm(n,r)||t.focusedEditor!==n||(n.dispatch("blur",{focusedEditor:null}),t.focusedEditor=null))}))},bm.bind(document,"focusin",jp))},Cm=function(t,e){t.focusedEditor===e.editor&&(t.focusedEditor=null),!t.activeEditor&&jp&&(bm.unbind(document,"focusin",jp),jp=null)},km=function(t,e){(function(t,e){return function(t){return t.collapsed?Z.from(Ou(t.startContainer,t.startOffset)).map(Rn):Z.none()}(e).bind((function(e){return Io(e)?Z.some(e):In(t,e)?Z.none():Z.some(t)}))})(Rn(t.getBody()),e).bind((function(t){return Of(t.dom)})).fold((function(){t.selection.normalize()}),(function(e){return t.selection.setRng(e.toRange())}))},Om=function(t){if(t.setActive)try{t.setActive()}catch(n){t.focus()}else t.focus()},Sm=function(t){return t.inline?function(t){var e,n,r=t.getBody();return r&&(e=Rn(r),am(e)||(n=e,um(nr(n)).filter((function(t){return n.dom.contains(t.dom)}))).isSome())}(t):function(t){return M(t.iframeElement)&&am(Rn(t.iframeElement))}(t)},Em=function(t){return t.editorManager.setActive(t)},Tm=function(t,e,n,r,o){var i=n?e.startContainer:e.endContainer,a=n?e.startOffset:e.endOffset;return Z.from(i).map(Rn).map((function(t){return r&&e.collapsed?t:Yn(t,o(t,a)).getOr(t)})).bind((function(t){return on(t)?Z.some(t):zn(t).filter(on)})).map((function(t){return t.dom})).getOr(t)},Am=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Tm(t,e,!0,n,(function(t,e){return Math.min(Jn(t),e)}))},Nm=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Tm(t,e,!1,n,(function(t,e){return e>0?e-1:e}))},Rm=function(t,e){for(var n=t;t&&co(t)&&0===t.length;)t=e?t.nextSibling:t.previousSibling;return t||n},Dm=function(t,e){return ot(e,(function(e){var n=t.dispatch("GetSelectionRange",{range:e});return n.range!==e?n.range:e}))},Pm=["img","br"],Mm=function(t){var e=To(t).filter((function(t){return 0!==t.trim().length||t.indexOf(ko)>-1})).isSome();return e||nt(Pm,en(t))||function(t){return on(e=t)&&tn(e.dom)&&"false"===pn(t,"contenteditable");var e}(t)},Bm="[data-mce-autocompleter]",Lm=function(t,e){if(Im(Rn(t.getBody())).isNone()){var n=Tn('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',t.getDoc());Tr(n,Rn(e.extractContents())),e.insertNode(n.dom),zn(n).each((function(t){return t.dom.normalize()})),(r=n,function(t,e){var n=function t(n){for(var r=Kn(n),o=r.length-1;o>=0;o--){var i=r[o];if(e(i))return Z.some(i);var a=t(i);if(a.isSome())return a}return Z.none()};return n(t)}(r,Mm)).map((function(e){t.selection.setCursorLocation(e.dom,function(t){return"img"===en(t)?1:To(t).fold((function(){return Kn(t).length}),(function(t){return t.length}))}(e))}))}var r},Im=function(t){return dr(t,Bm)},jm={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},Fm=function(t,e,n){var r=n?"lastChild":"firstChild",o=n?"prev":"next";if(t[r])return t[r];if(t!==e){var i=t[o];if(i)return i;for(var a=t.parent;a&&a!==e;a=a.parent)if(i=a[o],i)return i}},qm=function(t){var e,n=null!==(e=t.value)&&void 0!==e?e:"";if(!bi(n))return!1;var r=t.parent;return!r||"span"===r.name&&!r.attr("style")||!/^[ ]+$/.test(n)},zm=function(t){var e="a"===t.name&&!t.attr("href")&&t.attr("id");return t.attr("name")||t.attr("id")&&!t.firstChild||t.attr("data-mce-bookmark")||e},Um=function(){function t(e,n){d(this,t),this.name=e,this.type=n,1===n&&(this.attributes=[],this.attributes.map={})}return p(t,[{key:"replace",value:function(t){var e=this;return t.parent&&t.remove(),e.insert(t,e),e.remove(),e}},{key:"attr",value:function(t,e){var n=this;if(!S(t))return M(t)&&Tt(t,(function(t,e){n.attr(e,t)})),n;var r=n.attributes;if(r){if(void 0!==e){if(null===e){if(t in r.map){delete r.map[t];for(var o=r.length;o--;)if(r[o].name===t)return r.splice(o,1),n}return n}if(t in r.map){for(var i=r.length;i--;)if(r[i].name===t){r[i].value=e;break}}else r.push({name:t,value:e});return r.map[t]=e,n}return r.map[t]}}},{key:"clone",value:function(){var e=this,n=new t(e.name,e.type),r=e.attributes;if(r){var o=[];o.map={};for(var i=0,a=r.length;i<a;i++){var u=r[i];"id"!==u.name&&(o[o.length]={name:u.name,value:u.value},o.map[u.name]=u.value)}n.attributes=o}return n.value=e.value,n}},{key:"wrap",value:function(t){var e=this;return e.parent&&(e.parent.insert(t,e),t.append(e)),e}},{key:"unwrap",value:function(){for(var t=this,e=t.firstChild;e;){var n=e.next;t.insert(e,t,!0),e=n}t.remove()}},{key:"remove",value:function(){var t=this,e=t.parent,n=t.next,r=t.prev;return e&&(e.firstChild===t?(e.firstChild=n,n&&(n.prev=null)):r&&(r.next=n),e.lastChild===t?(e.lastChild=r,r&&(r.next=null)):n&&(n.prev=r),t.parent=t.next=t.prev=null),t}},{key:"append",value:function(t){var e=this;t.parent&&t.remove();var n=e.lastChild;return n?(n.next=t,t.prev=n,e.lastChild=t):e.lastChild=e.firstChild=t,t.parent=e,t}},{key:"insert",value:function(t,e,n){t.parent&&t.remove();var r=e.parent||this;return n?(e===r.firstChild?r.firstChild=t:e.prev&&(e.prev.next=t),t.prev=e.prev,t.next=e,e.prev=t):(e===r.lastChild?r.lastChild=t:e.next&&(e.next.prev=t),t.next=e.next,t.prev=e,e.next=t),t.parent=r,t}},{key:"getAll",value:function(t){for(var e=this,n=[],r=e.firstChild;r;r=Fm(r,e))r.name===t&&n.push(r);return n}},{key:"children",value:function(){for(var t=[],e=this.firstChild;e;e=e.next)t.push(e);return t}},{key:"empty",value:function(){var t=this;if(t.firstChild){for(var e=[],n=t.firstChild;n;n=Fm(n,t))e.push(n);for(var r=e.length;r--;){var o=e[r];o.parent=o.firstChild=o.lastChild=o.next=o.prev=null}}return t.firstChild=t.lastChild=null,t}},{key:"isEmpty",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,o=this,i=o.firstChild;if(zm(o))return!1;if(i)do{if(1===i.type){if(i.attr("data-mce-bogus"))continue;if(t[i.name])return!1;if(zm(i))return!1}if(8===i.type)return!1;if(3===i.type&&!qm(i))return!1;if(3===i.type&&i.parent&&n[i.parent.name]&&bi(null!==(e=i.value)&&void 0!==e?e:""))return!1;if(r&&r(i))return!1}while(i=Fm(i,o));return!0}},{key:"walk",value:function(t){return Fm(this,null,t)}}],[{key:"create",value:function(e,n){var r=new t(e,jm[e]||1);return n&&Tt(n,(function(t,e){r.attr(e,t)})),r}}]),t}(),Hm=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=t.toLowerCase();if(-1!==r.indexOf("[if ",n)&&function(t,e){return/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(t.substr(e))}(r,n)){var o=r.indexOf("[endif]",n);return r.indexOf(">",o)}if(e){var i=r.indexOf(">",n);return-1!==i?i:r.length}var a=/--!?>/g;a.lastIndex=n;var u=a.exec(t);return u?u.index+u[0].length:r.length},Vm=function(t,e,n){for(var r=/<([!?\/])?([A-Za-z0-9\-_:.]+)/g,o=/(?:\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g,i=t.getVoidElements(),a=1,u=n;0!==a;)for(r.lastIndex=u;;){var c=r.exec(e);if(null===c)return u;if("!"===c[1]){u=ne(c[2],"--")?Hm(e,!1,c.index+3):Hm(e,!0,c.index+1);break}o.lastIndex=r.lastIndex;var s=o.exec(e);if(!N(s)&&s.index===r.lastIndex){"/"===c[1]?a-=1:It(i,c[2])||(a+=1),u=r.lastIndex+s[0].length;break}}return u},Wm=function(t,e){for(var n,r=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,o=t.schema,i=function(t,e){var n=new RegExp(["\\s?("+t.join("|")+')="[^"]+"'].join("|"),"gi");return e.replace(n,"")}(t.getTempAttrs(),e),a=o.getVoidElements();n=r.exec(i);){var u=r.lastIndex,c=n[0].length,s=void 0;s=a[n[1]]?u:Vm(o,i,u),i=i.substring(0,u-c)+i.substring(s),r.lastIndex=u-c}return Go(i)},$m=Wm,Gm=function(t){var e=Kr(t,"[data-mce-bogus]");it(e,(function(t){"all"===pn(t,"data-mce-bogus")?Dr(t):Po(t)?(Or(t,Nn(Co)),Dr(t)):Pr(t)}))},Km=function(t){var e=Kr(t,"input");it(e,(function(t){vn(t,"name")}))},Ym=function(t,e,n){var r;return r="raw"===e.format?Ge.trim($m(t.serializer,n.innerHTML)):"text"===e.format?function(t,e){var n=t.getDoc(),r=nr(Rn(t.getBody())),o=An("div",n);fn(o,"data-mce-bogus","all"),yr(o,{position:"fixed",left:"-9999999px",top:"0"}),Lr(o,e.innerHTML),Gm(o),Km(o);var i=function(t){return Qn(t)?t:Rn(Fn(t).dom.body)}(r);Tr(i,o);var a=Go(o.dom.innerText);return Dr(o),a}(t,n):"tree"===e.format?t.serializer.serialize(n,e):function(t,e){var n=jc(t),r=new RegExp("^(<".concat(n,"[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/").concat(n,">[\r\n]*|<br \\/>[\r\n]*)$"));return e.replace(r,"")}(t,t.serializer.serialize(n,e)),"text"!==e.format&&!Fo(Rn(n))&&S(r)?Ge.trim(r):r},Xm=Ge.makeMap,Zm=function(t){var e=[],n=(t=t||{}).indent,r=Xm(t.indent_before||""),o=Xm(t.indent_after||""),i=ua.getEncodeFunc(t.entity_encoding||"raw",t.entities),a="xhtml"!==t.element_format;return{start:function(t,u,c){if(n&&r[t]&&e.length>0){var s=e[e.length-1];s.length>0&&"\n"!==s&&e.push("\n")}if(e.push("<",t),u)for(var l=0,f=u.length;l<f;l++){var d=u[l];e.push(" ",d.name,'="',i(d.value,!0),'"')}if(e[e.length]=!c||a?">":" />",c&&n&&o[t]&&e.length>0){var p=e[e.length-1];p.length>0&&"\n"!==p&&e.push("\n")}},end:function(t){var r;e.push("</",t,">"),n&&o[t]&&e.length>0&&(r=e[e.length-1],r.length>0&&"\n"!==r&&e.push("\n"))},text:function(t,n){t.length>0&&(e[e.length]=n?t:i(t))},cdata:function(t){e.push("<![CDATA[",t,"]]>")},comment:function(t){e.push("\x3c!--",t,"--\x3e")},pi:function(t,r){r?e.push("<?",t," ",i(r),"?>"):e.push("<?",t,"?>"),n&&e.push("\n")},doctype:function(t){e.push("<!DOCTYPE",t,">",n?"\n":"")},reset:function(){e.length=0},getContent:function(){return e.join("").replace(/\n$/,"")}}},Jm=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xa(),n=Zm(t);return t.validate=!("validate"in t)||t.validate,{serialize:function(r){var o=t.validate,i={3:function(t){var e;n.text(null!==(e=t.value)&&void 0!==e?e:"",t.raw)},8:function(t){var e;n.comment(null!==(e=t.value)&&void 0!==e?e:"")},7:function(t){n.pi(t.name,t.value)},10:function(t){var e;n.doctype(null!==(e=t.value)&&void 0!==e?e:"")},4:function(t){var e;n.cdata(null!==(e=t.value)&&void 0!==e?e:"")},11:function(t){var e=t;if(e=e.firstChild)do{a(e)}while(e=e.next)}};n.reset();var a=function t(r){var a,u=i[r.type];if(u)u(r);else{var c=r.name,s=c in e.getVoidElements(),l=r.attributes;if(o&&l&&l.length>1){var f=[];f.map={};var d=e.getElementRule(r.name);if(d){for(var p=0,m=d.attributesOrder.length;p<m;p++){var h=d.attributesOrder[p];if(h in l.map){var v=l.map[h];f.map[h]=v,f.push({name:h,value:v})}}for(var g=0,b=l.length;g<b;g++){var y=l[g].name;if(!(y in f.map)){var x=l.map[y];f.map[y]=x,f.push({name:y,value:x})}}l=f}}if(n.start(c,l,s),!s){var w=r.firstChild;if(w){"pre"!==c&&"textarea"!==c||3!==w.type||"\n"!==(null===(a=w.value)||void 0===a?void 0:a[0])||n.text("\n",!0);do{t(w)}while(w=w.next)}n.end(c)}}};return 1!==r.type||t.inner?3===r.type?i[3](r):i[11](r):a(r),n.getContent()}}},Qm=new Set;it(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],(function(t){Qm.add(t)}));var th=["font","text-decoration","text-emphasis"],eh=function(t,e){return St(t.parseStyle(t.getAttrib(e,"style")))},nh=function(t,e,n){var r=eh(t,e),o=eh(t,n),i=function(r){var o,i,a=null!==(o=t.getStyle(e,r))&&void 0!==o?o:"",u=null!==(i=t.getStyle(n,r))&&void 0!==i?i:"";return ce(a)&&ce(u)&&a!==u};return rt(r,(function(t){var e=function(e){return rt(e,(function(e){return e===t}))};if(!e(o)&&e(th)){var n=ct(o,(function(t){return rt(th,(function(e){return ne(t,e)}))}));return rt(n,i)}return i(t)}))},rh=function(t,e,n){return Z.from(n.container()).filter(co).exists((function(r){var o=t?0:-1;return e(r.data.charAt(n.offset()+o))}))},oh=V(rh,!0,Hf),ih=V(rh,!1,Hf),ah=function(t){var e=t.container();return co(e)&&(0===e.data.length||$o(e.data)&&Zd.isBookmarkNode(e.parentNode))},uh=function(t,e){return function(n){return $l(t?0:-1,n).filter(e).isSome()}},ch=function(t){return vo(t)&&"block"===xr(Rn(t),"display")},sh=function(t){return bo(t)&&!function(t){return Qr(t)&&"all"===t.getAttribute("data-mce-bogus")}(t)},lh=uh(!0,ch),fh=uh(!1,ch),dh=uh(!0,wo),ph=uh(!1,wo),mh=uh(!0,io),hh=uh(!1,io),vh=uh(!0,sh),gh=uh(!1,sh),bh=function(t,e){return function(t,e,n){return In(e,t)?Hn(t,(function(t){return n(t)||Ln(t,e)})).slice(0,-1):[]}(t,e,Y)},yh=function(t,e){return[t].concat(bh(t,e))},xh=function(t,e,n){return wf(t,e,n,ah)},wh=function(t,e){return dt(yh(Rn(e.container()),t),Ro)},_h=function(t,e,n){return xh(t,e.dom,n).forall((function(t){return wh(e,n).fold((function(){return!Wl(t,n,e.dom)}),(function(r){return!Wl(t,n,e.dom)&&In(r,Rn(t.container()))}))}))},Ch=function(t,e,n){return wh(e,n).fold((function(){return xh(t,e.dom,n).forall((function(t){return!Wl(t,n,e.dom)}))}),(function(e){return xh(t,e.dom,n).isNone()}))},kh=V(Ch,!1),Oh=V(Ch,!0),Sh=V(_h,!1),Eh=V(_h,!0),Th=function(t){return ef(t).exists(Po)},Ah=function(t,e,n){var r=ct(yh(Rn(n.container()),e),Ro),o=_t(r).getOr(e);return yf(t,o.dom,n).filter(Th)},Nh=function(t,e){return ef(e).exists(Po)||Ah(!0,t,e).isSome()},Rh=function(t,e){return function(t){return Z.from(t.getNode(!0)).map(Rn)}(e).exists(Po)||Ah(!1,t,e).isSome()},Dh=V(Ah,!1),Ph=V(Ah,!0),Mh=function(t){return Wu.isTextPosition(t)&&!t.isAtStart()&&!t.isAtEnd()},Bh=function(t,e){var n=ct(yh(Rn(e.container()),t),Ro);return _t(n).getOr(t)},Lh=function(t,e){return Mh(e)?ih(e):ih(e)||kf(Bh(t,e).dom,e).exists(ih)},Ih=function(t,e){return Mh(e)?oh(e):oh(e)||Cf(Bh(t,e).dom,e).exists(oh)},jh=function(t){return ef(t).bind((function(t){return lr(t,on)})).exists((function(t){return function(t){return nt(["pre","pre-wrap"],t)}(xr(t,"white-space"))}))},Fh=function(t,e){return function(n){return r=new Xr(n,t)[e](),M(r)&&bo(r)&&Ml(r);var r}},qh=function(t,e){return!jh(e)&&(kh(t,e)||Sh(t,e)||Rh(t,e)||Lh(t,e)||function(t,e){var n=kf(t.dom,e).getOr(e),r=Fh(t.dom,"prev");return e.isAtStart()&&(r(e.container())||r(n.container()))}(t,e))},zh=function(t,e){return!jh(e)&&(Oh(t,e)||Eh(t,e)||Nh(t,e)||Ih(t,e)||function(t,e){var n=Cf(t.dom,e).getOr(e),r=Fh(t.dom,"next");return e.isAtEnd()&&(r(e.container())||r(n.container()))}(t,e))},Uh=function(t,e){return qh(t,e)||zh(t,function(t){var e=t.container(),n=t.offset();return co(e)&&n<e.data.length?Wu(e,n+1):t}(e))},Hh=function(t,e){return Uf(t.charAt(e))},Vh=function(t,e){return Hf(t.charAt(e))},Wh=function(t,e,n){var r=e.data,o=Wu(e,0);return n||!Hh(r,0)||Uh(t,o)?!!(n&&Vh(r,0)&&qh(t,o))&&(e.data=ko+r.slice(1),!0):(e.data=" "+r.slice(1),!0)},$h=function(t,e,n){var r=e.data,o=Wu(e,r.length-1);return n||!Hh(r,r.length-1)||Uh(t,o)?!!(n&&Vh(r,r.length-1)&&zh(t,o))&&(e.data=r.slice(0,-1)+ko,!0):(e.data=r.slice(0,-1)+" ",!0)},Gh=function(t,e){var n=e.container();if(!co(n))return Z.none();if(function(t){var e=t.container();return co(e)&&ee(e.data,ko)}(e)){var r=Wh(t,n,!1)||function(t){var e=t.data,n=function(t){var e=t.split("");return ot(e,(function(t,n){return Uf(t)&&n>0&&n<e.length-1&&Vf(e[n-1])&&Vf(e[n+1])?" ":t})).join("")}(e);return n!==e&&(t.data=n,!0)}(n)||$h(t,n,!1);return Xe(r,e)}if(Uh(t,e)){var o=Wh(t,n,!0)||$h(t,n,!0);return Xe(o,e)}return Z.none()},Kh=function(t,e,n){if(0!==n){var r=Rn(t),o=sr(r,Ro).getOr(r),i=t.data.slice(e,e+n),a=e+n>=t.data.length&&zh(o,Wu(t,t.data.length)),u=0===e&&qh(o,Wu(t,0));t.replaceData(e,n,xi(i,4,u,a))}},Yh=function(t,e){var n=t.data.slice(e),r=n.length-ae(n).length;Kh(t,e,r)},Xh=function(t,e){var n=t.data.slice(0,e),r=n.length-ue(n).length;Kh(t,e-r,r)},Zh=function(t,e,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=ue(t.data).length,i=r?t:e,a=r?e:t;return r?i.appendData(a.data):i.insertData(0,a.data),Dr(Rn(a)),n&&Yh(i,o),i},Jh=function(t,e){return function(t,e){var n=t.container(),r=t.offset();return!Wu.isTextPosition(t)&&n===e.parentNode&&r>Wu.before(e).offset()}(e,t)?Wu(e.container(),e.offset()-1):e},Qh=function(t){return mi(t.previousSibling)?Z.some((e=t.previousSibling,co(e)?Wu(e,e.data.length):Wu.after(e))):t.previousSibling?Sf(t.previousSibling):Z.none();var e},tv=function(t){return mi(t.nextSibling)?Z.some((e=t.nextSibling,co(e)?Wu(e,0):Wu.before(e))):t.nextSibling?Of(t.nextSibling):Z.none();var e},ev=function(t,e,n){return function(t,e,n){return t?function(t,e){return tv(e).orThunk((function(){return Qh(e)})).orThunk((function(){return function(t,e){return Cf(t,Wu.after(e)).orThunk((function(){return kf(t,Wu.before(e))}))}(t,e)}))}(e,n):function(t,e){return Qh(e).orThunk((function(){return tv(e)})).orThunk((function(){return function(t,e){return Z.from(e.previousSibling?e.previousSibling:e.parentNode).bind((function(e){return kf(t,Wu.before(e))})).orThunk((function(){return Cf(t,Wu.after(e))}))}(t,e)}))}(e,n)}(t,e,n).map(V(Jh,n))},nv=function(t,e,n){n.fold((function(){t.focus()}),(function(n){t.selection.setRng(n.toRange(),e)}))},rv=function(t,e){return e&&It(t.schema.getBlockElements(),en(e))},ov=function(t){if(Oi(t)){var e=Tn('<br data-mce-bogus="1">');return Rr(t),Tr(t,e),Z.some(Wu.before(e.dom))}return Z.none()},iv=function(t,e,n){var r,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=ev(e,t.getBody(),n.dom),a=sr(n,V(rv,t),(r=t.getBody(),function(t){return t.dom===r})),u=function(t,e,n){var r,o,i,a,u=Vn(t).filter(an),c=Wn(t).filter(an);return Dr(t),(r=u,o=c,i=e,a=function(t,e,r){var o=t.dom,i=e.dom,a=o.data.length;return Zh(o,i,n),r.container()===i?Wu(o,a):r},r.isSome()&&o.isSome()&&i.isSome()?Z.some(a(r.getOrDie(),o.getOrDie(),i.getOrDie())):Z.none()).orThunk((function(){return n&&(u.each((function(t){return Xh(t.dom,t.dom.length)})),c.each((function(t){return Yh(t.dom,0)}))),e}))}(n,i,function(t,e){return It(t.schema.getTextInlineElements(),en(e))}(t,n));t.dom.isEmpty(t.getBody())?(t.setContent(""),t.selection.setCursorLocation()):a.bind(ov).fold((function(){o&&nv(t,e,u)}),(function(n){o&&nv(t,e,Z.some(n))}))},av=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,uv=function(t,e){return Mn(Rn(e),ls(t))&&!Ii(t.schema,e)&&t.dom.isEditable(e)},cv=function(t,e,n){var r=function(t,e,n){return ct(qa.DOM.getParents(n.container(),"*",e),t)}(t,e,n);return Z.from(r[r.length-1])},sv=function(t,e){var n=e.container(),r=e.offset();return t?Zo(n)?co(n.nextSibling)?Wu(n.nextSibling,0):Wu.after(n):ti(e)?Wu(n,r+1):e:Zo(n)?co(n.previousSibling)?Wu(n.previousSibling,n.previousSibling.data.length):Wu.before(n):ei(e)?Wu(n,r-1):e},lv=V(sv,!0),fv=V(sv,!1),dv=function(t,e){var n=function(t){return t.stopImmediatePropagation()};t.on("beforeinput input",n,!0),t.getDoc().execCommand(e),t.off("beforeinput input",n)},pv=function(t){return dv(t,"Delete")},mv=function(t){return Mo(t)||Lo(t)},hv=function(t,e){return In(t,e)?lr(e,mv,function(t){return function(e){return Ke(zn(e),t,Ln)}}(t)):Z.none()},vv=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t.dom.isEmpty(t.getBody())&&t.setContent("",{no_selection:!e})},gv=function t(e){var n;return(8===nn(n=e)||"#comment"===en(n)?Vn(e):Zn(e)).bind(t).orThunk((function(){return Z.some(e)}))},bv=function(t,e,n){var r,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];e.deleteContents();var i,a=gv(n).getOr(n),u=Rn(null!==(r=t.dom.getParent(a.dom,t.dom.isBlock))&&void 0!==r?r:n.dom);if(u.dom===t.getBody()?vv(t,o):Oi(u)&&(Ho(u),o&&t.selection.setCursorLocation(u.dom,0)),!Ln(n,u)){var c=Ke(zn(u),n)?[]:zn(i=u).map(Kn).map((function(t){return ct(t,(function(t){return!Ln(i,t)}))})).getOr([]);it(c.concat(Kn(n)),(function(t){Ln(t,u)||In(t,u)||!Oi(t)||Dr(t)}))}},yv=function(t){return Kr(t,"td,th")},xv=function(t,e){return{start:t,end:e}},wv=vc([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),_v=function(t,e){return pr(Rn(t),"td,th",e)},Cv=function(t){return!Ln(t.start,t.end)},kv=function(t,e){return ed(t.start,e).bind((function(n){return ed(t.end,e).bind((function(t){return Xe(Ln(n,t),n)}))}))},Ov=function(t){return function(e){return kv(e,t).map((function(t){return function(t,e,n){return{rng:t,table:e,cells:n}}(e,t,yv(t))}))}},Sv=function(t,e,n,r){if(n.collapsed||!t.forall(Cv))return Z.none();if(e.isSameTable){var o=t.bind(Ov(r));return Z.some({start:o,end:o})}var i=_v(n.startContainer,r),a=_v(n.endContainer,r),u=i.bind(function(t){return function(e){return ed(e,t).bind((function(t){return Ct(yv(t)).map((function(t){return xv(e,t)}))}))}}(r)).bind(Ov(r)),c=a.bind(function(t){return function(e){return ed(e,t).bind((function(t){return _t(yv(t)).map((function(t){return xv(t,e)}))}))}}(r)).bind(Ov(r));return Z.some({start:u,end:c})},Ev=function(t,e){return pt(t,(function(t){return Ln(t,e)}))},Tv=function(t){return Ye(Ev(t.cells,t.rng.start),Ev(t.cells,t.rng.end),(function(e,n){return t.cells.slice(e,n+1)}))},Av=function(t,e){var n=e.startTable,r=e.endTable,o=t.cloneRange();return n.each((function(t){return o.setStartAfter(t.dom)})),r.each((function(t){return o.setEndBefore(t.dom)})),o},Nv=function(t,e){var n=function(t){return function(e){return Ln(t,e)}}(t),r=function(t,e){var n=_v(t.startContainer,e),r=_v(t.endContainer,e);return Ye(n,r,xv)}(e,n),o=function(t,e){var n=function(t){return ed(Rn(t),e)},r=n(t.startContainer),o=n(t.endContainer),i=r.isSome(),a=o.isSome(),u=Ye(r,o,Ln).getOr(!1);return{startTable:r,endTable:o,isStartInTable:i,isEndInTable:a,isSameTable:u,isMultiTable:!u&&i&&a}}(e,n);return function(t,e,n){return t.exists((function(t){return function(t,e){return!Cv(t)&&kv(t,e).exists((function(t){var e=t.dom.rows;return 1===e.length&&1===e[0].cells.length}))}(t,n)&&od(t.start,e)}))}(r,e,n)?r.map((function(t){return wv.singleCellTable(e,t.start)})):o.isMultiTable?function(t,e,n,r){return Sv(t,e,n,r).bind((function(t){var r=t.start,o=t.end,i=r.bind(Tv).getOr([]),a=o.bind(Tv).getOr([]);if(i.length>0&&a.length>0){var u=Av(n,e);return Z.some(wv.multiTable(i,a,u))}return Z.none()}))}(r,o,e,n):function(t,e,n,r){return Sv(t,e,n,r).bind((function(t){var e=t.start,n=t.end;return e.or(n)})).bind((function(t){var r=e.isSameTable,o=Tv(t).getOr([]);if(r&&t.cells.length===o.length)return Z.some(wv.fullTable(t.table));if(o.length>0){if(r)return Z.some(wv.partialTable(o,Z.none()));var i=Av(n,e);return Z.some(wv.partialTable(o,Z.some(s(s({},e),{},{rng:i}))))}return Z.none()}))}(r,o,e,n)},Rv=function(t){return it(t,(function(t){vn(t,"contenteditable"),Ho(t)}))},Dv=function(t,e,n,r){var o=n.cloneRange();r?(o.setStart(n.startContainer,n.startOffset),o.setEndAfter(e.dom.lastChild)):(o.setStartBefore(e.dom.firstChild),o.setEnd(n.endContainer,n.endOffset)),Lv(t,o,e,!1).each((function(t){return t()}))},Pv=function(t){var e=td(t),n=Rn(t.selection.getNode());yo(n.dom)&&Oi(n)?t.selection.setCursorLocation(n.dom,0):t.selection.collapse(!0),e.length>1&&rt(e,(function(t){return Ln(t,n)}))&&fn(n,"data-mce-selected","1")},Mv=function(t,e,n){return Z.some((function(){var r=t.selection.getRng(),o=n.bind((function(n){var o=n.rng,i=n.isStartInTable,a=function(t,e){return Z.from(t.dom.getParent(e,t.dom.isBlock)).map(Rn)}(t,i?o.endContainer:o.startContainer);o.deleteContents(),function(t,e,n){n.each((function(n){e?Dr(n):(Ho(n),t.selection.setCursorLocation(n.dom,0))}))}(t,i,a.filter(Oi));var u=i?e[0]:e[e.length-1];return Dv(t,u,r,i),Oi(u)?Z.none():Z.some(i?e.slice(1):e.slice(0,-1))})).getOr(e);Rv(o),Pv(t)}))},Bv=function(t,e,n,r){return Z.some((function(){var o=t.selection.getRng(),i=e[0],a=n[n.length-1];Dv(t,i,o,!0),Dv(t,a,o,!1);var u=Oi(i)?e:e.slice(1),c=Oi(a)?n:n.slice(0,-1);Rv(u.concat(c)),r.deleteContents(),Pv(t)}))},Lv=function(t,e,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return Z.some((function(){bv(t,e,n,r)}))},Iv=function(t,e){return Z.some((function(){return iv(t,!1,e)}))},jv=function(t,e){return dt(yh(e,t),jo)},Fv=function(t,e){return dt(yh(e,t),sn("caption"))},qv=function(t,e){return Z.some((function(){Ho(e),t.selection.setCursorLocation(e.dom,0)}))},zv=function(t,e){return t?mh(e):hh(e)},Uv=function(t,e,n){var r=Rn(t.getBody());return Fv(r,n).fold((function(){return function(t,e,n,r){var o=Wu.fromRangeStart(t.selection.getRng());return jv(n,r).bind((function(r){return Oi(r)?qv(t,r):function(t,e,n,r,o){return xf(n,t.getBody(),o).bind((function(t){return jv(e,Rn(t.getNode())).bind((function(t){return Ln(t,r)?Z.none():Z.some(j)}))}))}(t,n,e,r,o)}))}(t,e,r,n).orThunk((function(){return Xe(function(t,e){var n=Wu.fromRangeStart(t.selection.getRng());return zv(e,n)||yf(e,t.getBody(),n).exists((function(t){return zv(e,t)}))}(t,e),j)}))}),(function(n){return function(t,e,n,r){var o=Wu.fromRangeStart(t.selection.getRng());return Oi(r)?qv(t,r):function(t,e,n,r,o){return xf(n,t.getBody(),o).fold((function(){return Z.some(j)}),(function(i){return function(t,e,n,r){return Of(t.dom).bind((function(o){return Sf(t.dom).map((function(t){return e?n.isEqual(o)&&r.isEqual(t):n.isEqual(t)&&r.isEqual(o)}))})).getOr(!0)}(r,n,o,i)?function(t,e){return qv(t,e)}(t,r):function(t,e,n){return Fv(t,Rn(n.getNode())).fold((function(){return Z.some(j)}),(function(t){return Xe(!Ln(t,e),j)}))}(e,r,i)}))}(t,n,e,r,o)}(t,e,r,n)}))},Hv=function(t,e){var n=Rn(t.selection.getStart(!0)),r=td(t);return t.selection.isCollapsed()&&0===r.length?Uv(t,e,n):function(t,e,n){var r=Rn(t.getBody()),o=t.selection.getRng();return 0!==n.length?Mv(t,n,Z.none()):function(t,e,n,r){return Fv(e,r).fold((function(){return function(t,e,n){return Nv(e,n).bind((function(e){return e.fold(V(Lv,t),V(Iv,t),V(Mv,t),V(Bv,t))}))}(t,e,n)}),(function(e){return function(t,e){return qv(t,e)}(t,e)}))}(t,r,o,e)}(t,n,r)},Vv=function(t,e){for(var n=e;n&&n!==t;){if(go(n)||bo(n))return n;n=n.parentNode}return null},Wv=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],$v=Ge.each,Gv=function(t){var e=t.dom,n=new Set(t.serializer.getTempAttrs()),r=function(t){return rt(Wv,(function(e){return ne(t,e)}))||n.has(t)};return{compare:function(t,n){if(t.nodeName!==n.nodeName||t.nodeType!==n.nodeType)return!1;var o=function(t){var n={};return $v(e.getAttribs(t),(function(o){var i=o.nodeName.toLowerCase();"style"===i||r(i)||(n[i]=e.getAttrib(t,i))})),n},i=function(t,e){for(var n in t)if(It(t,n)){var r=e[n];if(D(r))return!1;if(t[n]!==r)return!1;delete e[n]}for(var o in e)if(It(e,o))return!1;return!0};if(Qr(t)&&Qr(n)){if(!i(o(t),o(n)))return!1;if(!i(e.parseStyle(e.getAttrib(t,"style")),e.parseStyle(e.getAttrib(n,"style"))))return!1}return!zf(t)&&!zf(n)},isAttributeInternal:r}},Kv=function(t,e,n,r){for(var o=n.name,i=0,a=t.length;i<a;i++){var u=t[i];if(u.name===o){var c=r.nodes[o];c?c.nodes.push(n):r.nodes[o]={filter:u,nodes:[n]}}}if(n.attributes)for(var s=0,l=e.length;s<l;s++){var f=e[s],d=f.name;if(d in n.attributes.map){var p=r.attributes[d];p?p.nodes.push(n):r.attributes[d]={filter:f,nodes:[n]}}}},Yv=function(t,e){var n=function(t,n){Tt(t,(function(t){var r=kt(t.nodes);it(t.filter.callbacks,(function(o){for(var i=r.length-1;i>=0;i--){var a=r[i];(n?void 0!==a.attr(t.filter.name):a.name===t.filter.name)&&!P(a.parent)||r.splice(i,1)}r.length>0&&o(r,t.filter.name,e)}))}))};n(t.nodes,!1),n(t.attributes,!0)},Xv=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=function(t,e,n){var r={nodes:{},attributes:{}};return n.firstChild&&function(n,o){for(var i=n;i=i.walk();)Kv(t,e,i,r)}(n),r}(t,e,n);Yv(o,r)},Zv=function(t,e,n){if(t.insert&&e(n)){var r=new Um("br",1);r.attr("data-mce-bogus","1"),n.empty().append(r)}else n.empty().append(new Um("#text",3)).value=ko},Jv=function(t,e){var n=null==t?void 0:t.firstChild;return M(n)&&n===t.lastChild&&n.name===e},Qv=function(t,e,n,r){return r.isEmpty(e,n,(function(e){return function(t,e){var n=t.getElementRule(e.name);return!0===(null==n?void 0:n.paddEmpty)}(t,e)}))},tg=function(t){for(var e,n=t;n;n=n.parent){var r=n.attr("contenteditable");if("false"===r)break;"true"===r&&(e=n)}return Z.from(e)},eg=function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.parent;if(n.getSpecialElements()[e.name])e.empty().remove();else{var o,i=e.children(),a=u(i);try{for(a.s();!(o=a.n()).done;){var c=o.value;r&&!n.isValidChild(r.name,c.name)&&t(c,n,r)}}catch(s){a.e(s)}finally{a.f()}e.unwrap()}},ng=function(t,e,n){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:j,o=e.getTextBlockElements(),i=e.getNonEmptyElements(),a=e.getWhitespaceElements(),u=Ge.makeMap("tr,td,th,tbody,thead,tfoot,table"),c=new Set,s=function(t){return t!==n&&!u[t.name]},l=0;l<t.length;l++){var f=t[l],d=void 0,p=void 0,m=void 0;if(f.parent&&!c.has(f))if(o[f.name]&&"li"===f.parent.name){for(var h=f.next;h&&o[h.name];)h.name="li",c.add(h),f.parent.insert(h,f.parent),h=h.next;f.unwrap()}else{var v=[f];for(d=f.parent;d&&!e.isValidChild(d.name,f.name)&&s(d);d=d.parent)v.push(d);if(d&&v.length>1)if(e.isValidChild(d.name,f.name)){v.reverse(),p=v[0].clone(),r(p);for(var g=p,b=0;b<v.length-1;b++){e.isValidChild(g.name,v[b].name)&&b>0?(m=v[b].clone(),r(m),g.append(m)):m=g;for(var y=v[b].firstChild;y&&y!==v[b+1];){var x=y.next;m.append(y),y=x}g=m}Qv(e,i,a,p)?d.insert(f,v[0],!0):(d.insert(p,v[0],!0),d.insert(f,p)),d=v[0],(Qv(e,i,a,d)||Jv(d,"br"))&&d.empty().remove()}else eg(f,e);else if(f.parent){if("li"===f.name){var w=f.prev;if(w&&("ul"===w.name||"ol"===w.name)){w.append(f);continue}if(w=f.next,w&&("ul"===w.name||"ol"===w.name)&&w.firstChild){w.insert(f,w.firstChild,!0);continue}var _=new Um("ul",1);r(_),f.wrap(_);continue}if(e.isValidChild(f.parent.name,"div")&&e.isValidChild("div",f.name)){var C=new Um("div",1);r(C),f.wrap(C)}else eg(f,e)}}}},rg=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.parent;return!(!n||!t.children[e.name]||t.isValidChild(n.name,e.name))||!(!n||"a"!==e.name||!function(t,e){for(var n=t;n;){if("a"===n.name)return!0;n=n.parent}return!1}(n))},og=function(t){return t.collapsed?t:function(t){var e=Wu.fromRangeStart(t),n=Wu.fromRangeEnd(t),r=t.commonAncestorContainer;return yf(!1,r,n).map((function(o){return!Wl(e,n,r)&&Wl(e,o,r)?function(t,e,n,r){var o=document.createRange();return o.setStart(t,e),o.setEnd(n,r),o}(e.container(),e.offset(),o.container(),o.offset()):t})).getOr(t)}(t)},ig=function(t,e){var n=e.firstChild,r=e.lastChild;return n&&"meta"===n.name&&(n=n.next),r&&"mce_marker"===r.attr("id")&&(r=r.prev),function(t,e){var n=t.getNonEmptyElements();return M(e)&&(e.isEmpty(n)||function(t,e){return t.getBlockElements()[e.name]&&function(t){return M(t.firstChild)&&t.firstChild===t.lastChild}(e)&&function(t){return"br"===t.name||t.value===ko}(e.firstChild)}(t,e))}(t,r)&&(r=null==r?void 0:r.prev),!(!n||n!==r||"ul"!==n.name&&"ol"!==n.name)},ag=function(t){return t.length>0&&(!(n=t[t.length-1]).firstChild||M(null==(e=n)?void 0:e.firstChild)&&e.firstChild===e.lastChild&&function(t){return t.data===ko||ho(t)}(e.firstChild))?t.slice(0,-1):t;var e,n},ug=function(t,e){var n=t.getParent(e,t.isBlock);return n&&"LI"===n.nodeName?n:null},cg=function(t,e){var n=Wu.after(t),r=hf(e).prev(n);return r?r.toRange():null},sg=function(t,e,n,r){var o,i,a=function(t,e,n){var r=e.serialize(n);return function(t){var e,n,r=t.firstChild,o=t.lastChild;return r&&"META"===r.nodeName&&(null===(e=r.parentNode)||void 0===e||e.removeChild(r)),o&&"mce_marker"===o.id&&(null===(n=o.parentNode)||void 0===n||n.removeChild(o)),t}(t.createFragment(r))}(e,t,r),u=ug(e,n.startContainer),c=ag((o=a.firstChild,ct(null!==(i=null==o?void 0:o.childNodes)&&void 0!==i?i:[],(function(t){return"LI"===t.nodeName})))),s=e.getRoot(),l=function(t){var r=Wu.fromRangeStart(n),o=hf(e.getRoot()),i=1===t?o.prev(r):o.next(r),a=null==i?void 0:i.getNode();return!a||ug(e,a)!==u};return u?l(1)?function(t,e,n){var r=t.parentNode;return r&&Ge.each(e,(function(e){r.insertBefore(e,t)})),function(t,e){var n=Wu.before(t),r=hf(e).next(n);return r?r.toRange():null}(t,n)}(u,c,s):l(2)?function(t,e,n,r){return r.insertAfter(e.reverse(),t),cg(e[0],n)}(u,c,s,e):function(t,e,n,r){var o=function(t,e){var n=e.cloneRange(),r=e.cloneRange();return n.setStartBefore(t),r.setEndAfter(t),[n.cloneContents(),r.cloneContents()]}(t,r),i=t.parentNode;return i&&(i.insertBefore(o[0],t),Ge.each(e,(function(e){i.insertBefore(e,t)})),i.insertBefore(o[1],t),i.removeChild(t)),cg(e[e.length-1],n)}(u,c,s,n):null},lg=["pre"],fg=yo,dg=function(t,e,n){var r,o,i=t.selection,a=t.dom,u=t.parser,c=n.merge,s=Jm({validate:!0},t.schema),l='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';-1===e.indexOf("{$caret}")&&(e+="{$caret}"),e=e.replace(/\{\$caret\}/,l);var f=i.getRng(),d=f.startContainer,p=t.getBody();d===p&&i.isCollapsed()&&a.isBlock(p.firstChild)&&function(t,e){return M(e)&&!t.schema.getVoidElements()[e.nodeName]}(t,p.firstChild)&&a.isEmpty(p.firstChild)&&(f=a.createRng(),f.setStart(p.firstChild,0),f.setEnd(p.firstChild,0),i.setRng(f)),i.isCollapsed()||function(t){var e=t.dom,n=og(t.selection.getRng());t.selection.setRng(n);var r=e.getParent(n.startContainer,fg);!function(t,e,n){return!!M(n)&&n===t.getParent(e.endContainer,fg)&&od(Rn(n),e)}(e,n,r)?n.startContainer===n.endContainer&&n.endOffset-n.startOffset==1&&co(n.startContainer.childNodes[n.startOffset])?n.deleteContents():t.getDoc().execCommand("Delete",!1):Lv(t,n,Rn(r))}(t);var m=i.getNode(),h={context:m.nodeName.toLowerCase(),data:n.data,insert:!0},v=u.parse(e,h);if(!0===n.paste&&ig(t.schema,v)&&function(t,e){return!!ug(t,e)}(a,m))return f=sg(s,a,i.getRng(),v),f&&i.setRng(f),e;!0===n.paste&&function(t,e,n,r){var o,i=e.firstChild,a=e.lastChild,u=i===("bookmark"===a.attr("data-mce-type")?a.prev:a),c=nt(lg,i.name);if(u&&c){var s="false"!==i.attr("contenteditable"),l=(null===(o=t.getParent(n,t.isBlock))||void 0===o?void 0:o.nodeName.toLowerCase())===i.name,f=Z.from(Vv(r,n)).forall(go);return s&&l&&f}return!1}(a,v,m,t.getBody())&&(null===(r=v.firstChild)||void 0===r||r.unwrap()),function(t){for(var e=t;e=e.walk();)1===e.type&&e.attr("data-mce-fragment","1")}(v);var g,b=v.lastChild;if(b&&"mce_marker"===b.attr("id")){var y=b;for(b=b.prev;b;b=b.walk(!0))if(3===b.type||!a.isBlock(b.name)){b.parent&&t.schema.isValidChild(b.parent.name,"span")&&b.parent.insert(y,b,"br"===b.name);break}}if(t._selectionOverrides.showBlockCaretContainer(m),h.invalid){t.selection.setContent(l);var x,w=i.getNode(),_=t.getBody();for(po(w)?w=x=_:x=w;x&&x!==_;)w=x,x=x.parentNode;e=w===_?_.innerHTML:a.getOuterHTML(w);var C=u.parse(e),k=function(t){for(var e=t;e;e=e.walk())if("mce_marker"===e.attr("id"))return Z.some(e);return Z.none()}(C),O=k.bind(tg).getOr(C);k.each((function(t){return t.replace(v)}));var S=v.children(),E=null!==(o=v.parent)&&void 0!==o?o:C;v.unwrap();var T=ct(S,(function(e){return rg(t.schema,e,E)}));ng(T,t.schema,O),Xv(u.getNodeFilters(),u.getAttributeFilters(),C),e=s.serialize(C),w===_?a.setHTML(_,e):a.setOuterHTML(w,e)}else e=s.serialize(v),function(t,e,n){var r;if("all"===n.getAttribute("data-mce-bogus"))null===(r=n.parentNode)||void 0===r||r.insertBefore(t.dom.createFragment(e),n);else{var o=n.firstChild,i=n.lastChild;!o||o===i&&"BR"===o.nodeName?t.dom.setHTML(n,e):t.selection.setContent(e,{no_events:!0})}}(t,e,m);return function(t,e){var n=t.schema.getTextInlineElements(),r=t.dom;if(e){var o=t.getBody(),i=Gv(t);Ge.each(r.select("*[data-mce-fragment]"),(function(t){if(M(n[t.nodeName.toLowerCase()])&&function(t,e){return vt(eh(t,e),(function(t){return!function(t){return Qm.has(t)}(t)}))}(r,t))for(var e=t.parentElement;M(e)&&e!==o&&!nh(r,t,e);e=e.parentElement)if(i.compare(e,t)){r.remove(t,!0);break}}))}}(t,c),function(t,e){var n,r,o,i,a=t.dom,u=t.selection;if(e){u.scrollIntoView(e);var c=Vv(t.getBody(),e);if(c&&"false"===a.getContentEditable(c))return a.remove(e),void u.select(c);var s=a.createRng(),l=e.previousSibling;if(co(l)){s.setStart(l,null!==(r=null===(n=l.nodeValue)||void 0===n?void 0:n.length)&&void 0!==r?r:0);var f=e.nextSibling;co(f)&&(l.appendData(f.data),null===(o=f.parentNode)||void 0===o||o.removeChild(f))}else s.setStartBefore(e),s.setEndBefore(e);var d=a.getParent(e,a.isBlock);a.remove(e),d&&a.isEmpty(d)&&(Rr(Rn(d)),s.setStart(d,0),s.setEnd(d,0),fg(d)||function(t){return!!t.getAttribute("data-mce-fragment")}(d)||!(i=function(e){var n=Wu.fromRangeStart(e);return n=hf(t.getBody()).next(n),null==n?void 0:n.toRange()}(s))?a.add(d,a.create("br",{"data-mce-bogus":"1"})):(s=i,a.remove(d))),u.setRng(s)}}(t,a.get("mce_marker")),g=t.getBody(),Ge.each(g.getElementsByTagName("*"),(function(t){t.removeAttribute("data-mce-fragment")})),function(t,e){Z.from(t.getParent(e,"td,th")).map(Rn).each(Vo)}(a,i.getStart()),function(t,e,n){var r=Hn(Rn(n),(function(t){return Ln(t,Rn(e))}));wt(r,r.length-2).filter(on).fold((function(){return Di(t,e)}),(function(e){return Di(t,e.dom)}))}(t.schema,t.getBody(),i.getStart()),e},pg=function(t){return t instanceof Um},mg=function(t,e,n){t.dom.setHTML(t.getBody(),e),!0!==n&&function(t){Sm(t)&&Of(t.getBody()).each((function(e){var n=e.getNode(),r=io(n)?Of(n).getOr(e):e;t.selection.setRng(r.toRange())}))}(t)},hg=function(t,e){return function(t,e){var n=t.dom;return n.parentNode?function(t,e){return dt(t.dom.childNodes,(function(t){return e(Rn(t))})).map(Rn)}(Rn(n.parentNode),(function(n){return!Ln(t,n)&&e(n)})):Z.none()}(t,e).isSome()},vg=function(t){return B(t)?t:Y},gg=function(t,e,n){var r=e(t),o=vg(n);return r.orThunk((function(){return o(t)?Z.none():function(t,e,n){for(var r=t.dom,o=vg(n);r.parentNode;){r=r.parentNode;var i=Rn(r),a=e(i);if(a.isSome())return a;if(o(i))break}return Z.none()}(t,e,o)}))},bg=xd,yg=function(t,e,n){var r=t.formatter.get(n);if(r)for(var o=0;o<r.length;o++){var i=r[o];if(Ed(i)&&!1===i.inherit&&t.dom.is(e,i.selector))return!0}return!1},xg=function(t,e,n,r,o){var i=t.dom.getRoot();if(e===i)return!1;var a=t.dom.getParent(e,(function(e){return!!yg(t,e,n)||e.parentNode===i||!!Cg(t,e,n,r,!0)}));return!!Cg(t,a,n,r,o)},wg=function(t,e,n){return!(!Td(n)||!bg(e,n.inline))||!(!Sd(n)||!bg(e,n.block))||!!Ed(n)&&Qr(e)&&t.is(e,n.selector)},_g=function(t,e,n,r,o,i){var a=n[r],u="attributes"===r;if(B(n.onmatch))return n.onmatch(e,n,r);if(a)if(qt(a)){for(var c=0;c<a.length;c++)if(u?t.getAttrib(e,a[c]):_d(t,e,a[c]))return!0}else for(var s in a)if(It(a,s)){var l=u?t.getAttrib(e,s):_d(t,e,s),f=yd(a[s],i),d=P(l)||se(l);if(d&&P(f))continue;if(o&&d&&!n.exact)return!1;if((!o||n.exact)&&!bg(l,wd(f,s)))return!1}return!0},Cg=function(t,e,n,r,o){var i=t.formatter.get(n),a=t.dom;if(i&&Qr(e))for(var u=0;u<i.length;u++){var c=i[u];if(wg(t.dom,e,c)&&_g(a,e,c,"attributes",o,r)&&_g(a,e,c,"styles",o,r)){var s=c.classes;if(s)for(var l=0;l<s.length;l++)if(!t.dom.hasClass(e,yd(s[l],r)))return;return c}}},kg=function(t,e,n,r,o){if(r)return xg(t,r,e,n,o);if(r=t.selection.getNode(),xg(t,r,e,n,o))return!0;var i=t.selection.getStart();return!(i===r||!xg(t,i,e,n,o))},Og=Wo,Sg=function(t){return function(t){for(var e=[],n=t;n;){if(co(n)&&n.data!==Og||n.childNodes.length>1)return[];Qr(n)&&e.push(n),n=n.firstChild}return e}(t).length>0},Eg=function(t){if(t)for(var e=new Xr(t,t),n=e.current();n;n=e.next())if(co(n))return n;return null},Tg=function(t){var e=An("span");return dn(e,{id:Ef,"data-mce-bogus":"1","data-mce-type":"format-caret"}),t&&Tr(e,Nn(Og)),e},Ag=function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=t.dom,o=t.selection;if(Sg(e))iv(t,!1,Rn(e),n);else{var i=o.getRng(),a=r.getParent(e,r.isBlock),u=i.startContainer,c=i.startOffset,s=i.endContainer,l=i.endOffset,f=function(t){var e=Eg(t);return e&&e.data.charAt(0)===Og&&e.deleteData(0,1),e}(e);r.remove(e,!0),u===f&&c>0&&i.setStart(f,c-1),s===f&&l>0&&i.setEnd(f,l-1),a&&r.isEmpty(a)&&Ho(Rn(a)),o.setRng(i)}},Ng=function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=t.dom,o=t.selection;if(e)Ag(t,e,n);else if(!(e=Af(t.getBody(),o.getStart())))for(;e=r.get(Ef);)Ag(t,e,!1)},Rg=function(t,e){return t.appendChild(e),e},Dg=function(t,e){var n,r=st(t,(function(t,e){return Rg(t,e.cloneNode(!1))}),e),o=null!==(n=r.ownerDocument)&&void 0!==n?n:document;return Rg(r,o.createTextNode(Og))},Pg=function(t,e,n,r){var o=t.dom,i=t.selection,a=!1,u=t.formatter.get(e);if(u){var c=i.getRng(),s=c.startContainer,l=c.startOffset,f=s;co(s)&&(l!==s.data.length&&(a=!0),f=f.parentNode);for(var d,p=[];f;){if(Cg(t,f,e,n,r)){d=f;break}f.nextSibling&&(a=!0),p.push(f),f=f.parentNode}if(d)if(a){var m=i.getBookmark();c.collapse(!0);var h=Vd(o,c,u,!0);h=Lp(h),t.formatter.remove(e,n,h,r),i.moveToBookmark(m)}else{var v=Af(t.getBody(),d),g=Tg(!1).dom;(function(t,e,n){var r,o,i=t.dom,a=i.getParent(n,V(hd,t.schema));a&&i.isEmpty(a)?null===(r=n.parentNode)||void 0===r||r.replaceChild(e,n):(function(t){var e=Kr(t,"br"),n=ct(function(t){for(var e=[],n=t.dom;n;)e.push(Rn(n)),n=n.lastChild;return e}(t).slice(-1),Po);e.length===n.length&&it(n,Dr)}(Rn(n)),i.isEmpty(n)?null===(o=n.parentNode)||void 0===o||o.replaceChild(e,n):i.insertAfter(e,n))})(t,g,null!=v?v:d);var x=function(t,e,n,r,o,i){var a=t.formatter,u=t.dom,c=ct(St(a.get()),(function(t){return t!==r&&!ee(t,"removeformat")})),s=function(t,e,n){return lt(n,(function(n,r){var o=function(t,e){return Od(t,e,(function(t){var e=function(t){return B(t)||t.length>1&&"%"===t.charAt(0)};return rt(["styles","attributes"],(function(n){return Lt(t,n).exists((function(t){var n=A(t)?t:Bt(t);return rt(n,e)}))}))}))}(t,r);return t.formatter.matchNode(e,r,{},o)?n.concat([r]):n}),[])}(t,n,c);if(ct(s,(function(e){return!function(t,e,n){var r=["inline","block","selector","attributes","styles","classes"],o=function(t){return Pt(t,(function(t,e){return rt(r,(function(t){return t===e}))}))};return Od(t,e,(function(e){var r=o(e);return Od(t,n,(function(t){var e=o(t);return function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y;return b(n).eq(t,e)}(r,e)}))}))}(t,e,r)})).length>0){var l=n.cloneNode(!1);return u.add(e,l),a.remove(r,o,l,i),u.remove(l),Z.some(l)}return Z.none()}(t,g,d,e,n,r),w=Dg(p.concat(x.toArray()),g);v&&Ag(t,v,!1),i.setCursorLocation(w,1),o.isEmpty(d)&&o.remove(d)}}},Mg=function(t){var e=Tg(!1),n=Dg(t,e.dom);return{caretContainer:e,caretPosition:Wu(n,0)}},Bg=function(t,e){var n=Mg(e),r=n.caretContainer,o=n.caretPosition;return Or(Rn(t),r),Dr(Rn(t)),o},Lg=function(t,e){var n=t.schema.getTextInlineElements();return It(n,en(e))&&!Tf(e.dom)&&!oo(e.dom)},Ig=function(t){return Tf(t.dom)&&Sg(t.dom)},jg={},Fg=eo(["pre"]);jg.pre||(jg.pre=[]),jg.pre.push((function(t){if(!t.selection.getRng().collapsed){var e=t.selection.getSelectedBlocks(),n=ct(ct(e,Fg),function(t){return function(e){var n=e.previousSibling;return Fg(n)&&nt(t,n)}}(e));it(n,(function(t){(function(t,e){var n=Rn(e),r=Fn(n).dom;Dr(n),Nr(Rn(t),[An("br",r),An("br",r)].concat(f(Kn(n))))})(t.previousSibling,t)}))}}));var qg=["fontWeight","fontStyle","color","fontSize","fontFamily"],zg=function(t,e){var n=t.get(e);return A(n)?dt(n,(function(t){return Td(t)&&"span"===t.inline&&function(t){return E(t.styles)&&rt(St(t.styles),(function(t){return nt(qg,t)}))}(t)})):Z.none()},Ug=function(t,e){return kf(e,Wu.fromRangeStart(t)).isNone()},Hg=function(t,e){return!1===Cf(e,Wu.fromRangeEnd(t)).exists((function(t){return!ho(t.getNode())||Cf(e,t).isSome()}))},Vg=function(t){return function(e){return _o(e)&&t.isEditable(e)}},Wg=function(t){return ct(t.getSelectedBlocks(),Vg(t.dom))},$g=Ge.each,Gg=function(t){return Qr(t)&&!zf(t)&&!Tf(t)&&!oo(t)},Kg=function(t,e){for(var n=t;n;n=n[e]){if(co(n)&&ce(n.data))return t;if(Qr(n)&&!zf(n))return n}return t},Yg=function(t,e,n){var r=Gv(t),o=Qr(e)&&fd(e),i=Qr(n)&&fd(n);if(o&&i){var a=Kg(e,"previousSibling"),u=Kg(n,"nextSibling");if(r.compare(a,u)){for(var c=a.nextSibling;c&&c!==u;){var s=c;c=c.nextSibling,a.appendChild(s)}return t.dom.remove(u),Ge.each(Ge.grep(u.childNodes),(function(t){a.appendChild(t)})),a}}return n},Xg=function(t,e,n,r){var o;if(r&&!1!==e.merge_siblings){var i=null!==(o=Yg(t,md(r),r))&&void 0!==o?o:r;Yg(t,i,md(i,!0))}},Zg=function t(e,n,r){$g(e.childNodes,(function(e){Gg(e)&&(n(e)&&r(e),e.hasChildNodes()&&t(e,n,r))}))},Jg=function(t,e){return function(n){return!(!n||!_d(t,n,e))}},Qg=function(t,e,n){return function(r){t.setStyle(r,e,n),""===r.getAttribute("style")&&r.removeAttribute("style"),function(t,e){"SPAN"===e.nodeName&&0===t.getAttribs(e).length&&t.remove(e,!0)}(t,r)}},tb=vc([{keep:[]},{rename:["name"]},{removed:[]}]),eb=/^(src|href|style)$/,nb=Ge.each,rb=xd,ob=function(t,e,n){return t.isChildOf(e,n)&&e!==n&&!t.isBlock(n)},ib=function(t,e,n){var r=e[n?"startContainer":"endContainer"],o=e[n?"startOffset":"endOffset"];if(Qr(r)){var i=r.childNodes.length-1;!n&&o&&o--,r=r.childNodes[o>i?i:o]}return co(r)&&n&&o>=r.data.length&&(r=new Xr(r,t.getBody()).next()||r),co(r)&&!n&&0===o&&(r=new Xr(r,t.getBody()).prev()||r),r},ab=function(t,e){var n=e?"firstChild":"lastChild",r=t[n];return function(t){return/^(TR|TH|TD)$/.test(t.nodeName)}(t)&&r?"TR"===t.nodeName&&r[n]||r:t},ub=function(t,e,n,r){var o,i=t.create(n,r);return null===(o=e.parentNode)||void 0===o||o.insertBefore(i,e),i.appendChild(e),i},cb=function(t,e,n,r,o){var i=Rn(e),a=Rn(t.create(r,o)),u=n?Gn(i):$n(i);return Nr(a,u),n?(Or(i,a),Er(a,i)):(Sr(i,a),Tr(a,i)),a.dom},sb=function(t,e,n){var r,o=e.parentNode,i=t.dom,a=jc(t);Sd(n)&&o===i.getRoot()&&(n.list_block&&rb(e,n.list_block)||it(kt(e.childNodes),(function(e){vd(t,a,e.nodeName.toLowerCase())?r?r.appendChild(e):(r=ub(i,e,a),i.setAttribs(r,Fc(t))):r=null}))),function(t){return Ed(t)&&Td(t)&&Ke(Lt(t,"mixed"),!0)}(n)&&!rb(n.inline,e)||i.remove(e,!0)},lb=function(t,e,n){return L(t)?{name:e,value:null}:{name:t,value:yd(e,n)}},fb=function(t,e){""===t.getAttrib(e,"style")&&(e.removeAttribute("style"),e.removeAttribute("data-mce-style"))},db=function(t,e,n,r,o){var i=!1;nb(n.styles,(function(a,u){var c=lb(u,a,r),s=c.name,l=c.value,f=wd(l,s);(n.remove_similar||N(l)||!Qr(o)||rb(_d(t,o,s),f))&&t.setStyle(e,s,""),i=!0})),i&&fb(t,e)},pb=function(t,e,n,r,o){var i=t.dom,a=Gv(t),u=t.schema;if(Td(e)&&Bi(u,e.inline)&&Ii(u,r)&&r.parentElement===t.getBody())return sb(t,r,e),tb.removed();if(!e.ceFalseOverride&&r&&"false"===i.getContentEditableParent(r))return tb.keep();if(r&&!wg(i,r,e)&&!function(t,e){return e.links&&"A"===t.nodeName}(r,e))return tb.keep();var c=r,s=e.preserve_attributes;if(Td(e)&&"all"===e.remove&&A(s)){var l=ct(i.getAttribs(c),(function(t){return nt(s,t.name.toLowerCase())}));if(i.removeAllAttribs(c),it(l,(function(t){return i.setAttrib(c,t.name,t.value)})),l.length>0)return tb.rename("span")}if("all"!==e.remove){db(i,c,e,n,o),nb(e.attributes,(function(t,r){var a=lb(r,t,n),u=a.name,s=a.value;if(e.remove_similar||N(s)||!Qr(o)||rb(i.getAttrib(o,u),s)){if("class"===u){var l=i.getAttrib(c,u);if(l){var f="";if(it(l.split(/\s+/),(function(t){/mce\-\w+/.test(t)&&(f+=(f?" ":"")+t)})),f)return void i.setAttrib(c,u,f)}}if(eb.test(u)&&c.removeAttribute("data-mce-"+u),"style"===u&&eo(["li"])(c)&&"none"===i.getStyle(c,"list-style-type"))return c.removeAttribute(u),void i.setStyle(c,"list-style-type","none");"class"===u&&c.removeAttribute("className"),c.removeAttribute(u)}})),nb(e.classes,(function(t){t=yd(t,n),Qr(o)&&!i.hasClass(o,t)||i.removeClass(c,t)}));for(var f=i.getAttribs(c),d=0;d<f.length;d++){var p=f[d].nodeName;if(!a.isAttributeInternal(p))return tb.keep()}}return"none"!==e.remove?(sb(t,c,e),tb.removed()):tb.keep()},mb=function(t,e,n,r,o){return pb(t,e,n,r,o).fold(Y,(function(e){return t.dom.rename(r,e),!0}),X)},hb=function(t,e,n,r){return pb(t,e,n,r,r).fold(z(r),(function(e){return t.dom.createFragment().appendChild(r),t.dom.rename(r,e)}),z(null))},vb=function(t,e,n,r,o){var i=t.formatter.get(e),a=i[0],u=t.dom,c=t.selection,s=function(r){var u=function(t,e,n,r,o){var i;return e.parentNode&&it(kd(t.dom,e.parentNode).reverse(),(function(e){if(!i&&Qr(e)&&"_start"!==e.id&&"_end"!==e.id){var a=Cg(t,e,n,r,o);a&&!1!==a.split&&(i=e)}})),i}(t,r,e,n,o);return function(t,e,n,r,o,i,a,u){var c,s,l,f,d=t.dom;if(n){for(var p=n.parentNode,m=r.parentNode;m&&m!==p;m=m.parentNode){for(var h=d.clone(m,!1),v=0;v<e.length&&(h=hb(t,e[v],u,h),null!==h);v++);h&&(l&&h.appendChild(l),f||(f=h),l=h)}a.mixed&&d.isBlock(n)||(r=null!==(c=d.split(n,r))&&void 0!==c?c:r),l&&f&&(null===(s=o.parentNode)||void 0===s||s.insertBefore(l,o),f.appendChild(o),Td(a)&&Xg(t,a,0,l))}return r}(t,i,u,r,r,0,a,n)},l=function(e){return rt(i,(function(r){return mb(t,r,n,e,e)}))},f=function e(n){var r=kt(n.childNodes),o=l(n)||rt(i,(function(t){return wg(u,n,t)})),c=n.parentNode;if(!o&&M(c)&&Ad(a)&&l(c),a.deep&&r.length)for(var s=0;s<r.length;s++)e(r[s]);it(["underline","line-through","overline"],(function(e){Qr(n)&&t.dom.getStyle(n,"text-decoration")===e&&n.parentNode&&Cd(u,n.parentNode)===e&&mb(t,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:e}},void 0,n)}))},d=function(t){var e=u.get(t?"_start":"_end");if(e){var n=e[t?"firstChild":"lastChild"];return function(t){return zf(t)&&Qr(t)&&("_start"===t.id||"_end"===t.id)}(n)&&(n=n[t?"firstChild":"lastChild"]),co(n)&&0===n.data.length&&(n=t?e.previousSibling||e.nextSibling:e.nextSibling||e.previousSibling),u.remove(e,!0),n}return null},p=function(e){var n,r,o=Vd(u,e,i,e.collapsed);if(a.split){if(o=Lp(o),n=ib(t,o,!0),r=ib(t,o),n!==r){if(n=ab(n,!0),r=ab(r,!1),ob(u,n,r)){var c=Z.from(n.firstChild).getOr(n);return s(cb(u,c,!0,"span",{id:"_start","data-mce-type":"bookmark"})),void d(!0)}if(ob(u,r,n)){var l=Z.from(r.lastChild).getOr(r);return s(cb(u,l,!1,"span",{id:"_end","data-mce-type":"bookmark"})),void d(!1)}n=ub(u,n,"span",{id:"_start","data-mce-type":"bookmark"}),r=ub(u,r,"span",{id:"_end","data-mce-type":"bookmark"});var p=u.createRng();p.setStartAfter(n),p.setEndBefore(r),Wd(u,p,(function(t){it(t,(function(t){zf(t)||zf(t.parentNode)||s(t)}))})),s(n),s(r),n=d(!0),r=d()}else n=r=s(n);o.startContainer=n.parentNode?n.parentNode:n,o.startOffset=u.nodeIndex(n),o.endContainer=r.parentNode?r.parentNode:r,o.endOffset=u.nodeIndex(r)+1}Wd(u,o,(function(t){it(t,f)}))};if(r){if(sd(r)){var m=u.createRng();m.setStartBefore(r),m.setEndAfter(r),p(m)}else p(r);ep(t,e,r,n)}else c.isCollapsed()&&Td(a)&&!td(t).length?Pg(t,e,n,o):(dd(t,(function(){return ud(t,p)}),(function(r){return Td(a)&&kg(t,e,n,r)})),t.nodeChanged()),function(t,e,n){"removeformat"===e?it(Wg(t.selection),(function(e){it(qg,(function(n){return t.dom.setStyle(e,n,"")})),fb(t.dom,e)})):zg(t.formatter,e).each((function(e){it(Wg(t.selection),(function(r){return db(t.dom,r,e,n,null)}))}))}(t,e,n),ep(t,e,r,n)},gb=Ge.each,bb=Ge.each,yb=function(t,e,n,r){if(bb(n.styles,(function(n,o){t.setStyle(e,o,yd(n,r))})),n.styles){var o=t.getAttrib(e,"style");o&&t.setAttrib(e,"data-mce-style",o)}},xb=function(t,e,n,r){var o=t.formatter.get(e),i=o[0],a=!r&&t.selection.isCollapsed(),u=t.dom,c=t.selection,s=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i;B(e.onformat)&&e.onformat(t,e,n,r),yb(u,t,e,n),bb(e.attributes,(function(e,r){u.setAttrib(t,r,yd(e,n))})),bb(e.classes,(function(e){var r=yd(e,n);u.hasClass(t,r)||u.addClass(t,r)}))},l=function(t,e){var n=!1;return bb(t,(function(t){return!(!Ed(t)||("false"!==u.getContentEditable(e)||t.ceFalseOverride)&&(!M(t.collapsed)||t.collapsed===a)&&u.is(e,t.selector)&&!Tf(e)&&(s(e,t),n=!0,1))})),n},f=function(t){if(S(t)){var e=u.create(t);return s(e),e}return null},d=function(r,a,u){var c=[],d=!0,p=i.inline||i.block,m=f(p);Wd(r,a,(function(a){var f,h=function a(h){var v=!1,g=d,b=!1,y=h.parentNode,x=y.nodeName.toLowerCase(),w=r.getContentEditable(h);M(w)&&(g=d,d="true"===w,v=!0,b=bd(t,h));var _=d&&!v;if(ho(h)&&!function(t,e,n,r){if(Cs(t)&&Td(e)&&n.parentNode){var o=ba(t.schema),i=hg(Rn(n),(function(t){return Tf(t.dom)}));return jt(o,r)&&Oi(Rn(n.parentNode),!1)&&!i}return!1}(t,i,h,x))return f=null,void(Sd(i)&&r.remove(h));if(function(r){return function(t){return Sd(t)&&!0===t.wrapper}(i)&&Cg(t,r,e,n)}(h))f=null;else{if(function(e,n,r){var o=function(t){return Sd(t)&&!0!==t.wrapper}(i)&&hd(t.schema,e)&&vd(t,n,p);return r&&o}(h,x,_)){var C=r.rename(h,p);return s(C),c.push(C),void(f=null)}if(Ed(i)){var k=l(o,h);if(!k&&M(y)&&Ad(i)&&(k=l(o,y)),!Td(i)||k)return void(f=null)}M(m)&&function(e,n,o,a){var c=e.nodeName.toLowerCase(),s=vd(t,p,c)&&vd(t,n,p),l=!u&&co(e)&&$o(e.data),f=Tf(e),d=!Td(i)||!r.isBlock(e);return(o||a)&&s&&!l&&!f&&d}(h,x,_,b)?(f||(f=r.clone(m,!1),y.insertBefore(f,h),c.push(f)),b&&v&&(d=g),f.appendChild(h)):(f=null,it(kt(h.childNodes),a),v&&(d=g),f=null)}};it(a,h)})),!0===i.links&&it(c,(function(t){var e=function t(e){"A"===e.nodeName&&s(e,i),it(kt(e.childNodes),t)};e(t)})),it(c,(function(a){var u=function(t){var e=0;return it(t.childNodes,(function(t){(function(t){return M(t)&&co(t)&&0===t.length})(t)||zf(t)||e++})),e}(a);!(c.length>1)&&r.isBlock(a)||0!==u?(Td(i)||Sd(i)&&i.wrapper)&&(i.exact||1!==u||(a=function(t){var e=dt(t.childNodes,ld).filter((function(t){return"false"!==r.getContentEditable(t)&&wg(r,t,i)}));return e.map((function(e){var n=r.clone(e,!1);return s(n),r.replace(n,t,!0),r.remove(e,!0),n})).getOr(t)}(a)),function(t,e,n,r){gb(e,(function(e){Td(e)&&gb(t.dom.select(e.inline,r),(function(r){Gg(r)&&mb(t,e,n,r,e.exact?r:null)})),function(t,e,n){if(e.clear_child_styles){var r=e.links?"*:not(a)":"*";$g(t.select(r,n),(function(n){Gg(n)&&fd(n)&&$g(e.styles,(function(e,r){t.setStyle(n,r,"")}))}))}}(t.dom,e,r)}))}(t,o,n,a),function(t,e,n,r,o){var i=o.parentNode;Cg(t,i,n,r)&&mb(t,e,r,o)||e.merge_with_parents&&i&&t.dom.getParent(i,(function(i){return!!Cg(t,i,n,r)&&(mb(t,e,r,o),!0)}))}(t,i,e,n,a),function(t,e,n,r){if(e.styles&&e.styles.backgroundColor){var o=Jg(t,"fontSize");Zg(r,(function(t){return o(t)&&fd(t)}),Qg(t,"backgroundColor",yd(e.styles.backgroundColor,n)))}}(r,i,n,a),function(t,e,n,r){var o=function(e){if(Qr(e)&&Qr(e.parentNode)&&fd(e)){var n=Cd(t,e.parentNode);t.getStyle(e,"color")&&n?t.setStyle(e,"text-decoration",n):t.getStyle(e,"text-decoration")===n&&t.setStyle(e,"text-decoration",null)}};e.styles&&(e.styles.color||e.styles.textDecoration)&&(Ge.walk(r,o,"childNodes"),o(r))}(r,i,0,a),function(t,e,n,r){if(Td(e)&&("sub"===e.inline||"sup"===e.inline)){var o=Jg(t,"fontSize");Zg(r,(function(t){return o(t)&&fd(t)}),Qg(t,"fontSize",""));var i=ct(t.select("sup"===e.inline?"sub":"sup",r),fd);t.remove(i,!0)}}(r,i,0,a),Xg(t,i,0,a)):r.remove(a,!0)}))},p=sd(r)?r:c.getNode();if("false"===u.getContentEditable(p)&&!bd(t,p))return l(o,r=p),void tp(t,e,r,n);if(i){if(r)if(sd(r)){if(!l(o,r)){var m=u.createRng();m.setStartBefore(r),m.setEndAfter(r),d(u,Vd(u,m,o),!0)}}else d(u,r,!0);else a&&Td(i)&&!td(t).length?function(t,e,n){var r,o=t.selection,i=t.formatter.get(e);if(i){var a=o.getRng(),u=a.startOffset,c=a.startContainer.nodeValue;r=Af(t.getBody(),o.getStart());var s,l,f=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(c&&u>0&&u<c.length&&f.test(c.charAt(u))&&f.test(c.charAt(u-1))){var d=o.getBookmark();a.collapse(!0);var p=Vd(t.dom,a,i);p=Lp(p),t.formatter.apply(e,n,p),o.moveToBookmark(d)}else{var m=r?Eg(r):null;r&&(null==m?void 0:m.data)===Og||(s=t.getDoc(),l=Tg(!0).dom,r=s.importNode(l,!0),m=r.firstChild,a.insertNode(r),u=1),t.formatter.apply(e,n,r),o.setCursorLocation(m,u)}}}(t,e,n):(c.setRng(og(c.getRng())),dd(t,(function(){ud(t,(function(t,e){var n=e?t:Vd(u,t,o);d(u,n,!1)}))}),X),t.nodeChanged()),zg(t.formatter,e).each((function(e){it(function(t){return ct(function(t){var e=t.getSelectedBlocks(),n=t.getRng();if(t.isCollapsed())return[];if(1===e.length)return Ug(n,e[0])&&Hg(n,e[0])?e:[];var r=_t(e).filter((function(t){return Ug(n,t)})).toArray(),o=Ct(e).filter((function(t){return Hg(n,t)})).toArray(),i=e.slice(1,-1);return r.concat(i).concat(o)}(t),Vg(t.dom))}(t.selection),(function(t){return yb(u,t,e,n)}))}));(function(t,e){It(jg,t)&&it(jg[t],(function(t){t(e)}))})(e,t)}tp(t,e,r,n)},wb=function(t){return It(t,"vars")},_b=function(t){return t.selection.getStart()},Cb=function(t,e,n,r,o){return ft(e,(function(e){var i=t.formatter.matchNode(e,n,null!=o?o:{},r);return!D(i)}),(function(e){return!!yg(t,e,n)||!r&&M(t.formatter.matchNode(e,n,o,!0))}))},kb=function(t,e){var n=null!=e?e:_b(t);return ct(kd(t.dom,n),(function(t){return Qr(t)&&!oo(t)}))},Ob=function(t,e,n){var r=kb(t,e);Tt(n,(function(n,o){var i=function(n){var i=Cb(t,r,o,n.similar,wb(n)?n.vars:void 0),a=i.isSome();if(n.state.get()!==a){n.state.set(a);var u=i.getOr(e);wb(n)?n.callback(a,{node:u,format:o,parents:r}):it(n.callbacks,(function(t){return t(a,{node:u,format:o,parents:r})}))}};it([n.withSimilar,n.withoutSimilar],i),it(n.withVars,i)}))},Sb=Ge.explode,Eb=function(){var t={};return{addFilter:function(e,n){it(Sb(e),(function(e){It(t,e)||(t[e]={name:e,callbacks:[]}),t[e].callbacks.push(n)}))},getFilters:function(){return Bt(t)},removeFilter:function(e,n){it(Sb(e),(function(e){if(It(t,e))if(M(n)){var r=t[e],o=ct(r.callbacks,(function(t){return t!==n}));o.length>0?r.callbacks=o:delete t[e]}else delete t[e]}))}}},Tb=function(t,e,n){var r,o=wa();e.convert_fonts_to_spans&&function(t,e,n){t.addNodeFilter("font",(function(t){it(t,(function(t){var r=e.parse(t.attr("style")),o=t.attr("color"),i=t.attr("face"),a=t.attr("size");o&&(r.color=o),i&&(r["font-family"]=i),a&&le(a).each((function(t){r["font-size"]=n[t-1]})),t.name="span",t.attr("style",e.serialize(r)),function(t,e){it(["color","face","size"],(function(e){t.attr(e,null)}))}(t)}))}))}(t,o,Ge.explode(null!==(r=e.font_size_legacy_values)&&void 0!==r?r:"")),function(t,e,n){t.addNodeFilter("strike",(function(t){var r="html4"!==e.type;it(t,(function(t){if(r)t.name="s";else{var e=n.parse(t.attr("style"));e["text-decoration"]="line-through",t.name="span",t.attr("style",n.serialize(e))}}))}))}(t,n,o)},Ab=function(t){var e=t.split(","),n=a(e),r=n[0],o=n.slice(1),i=o.join(","),u=/data:([^/]+\/[^;]+)(;.+)?/.exec(r);if(u){var c=";base64"===u[2],s=c?function(t){var e=/([a-z0-9+\/=\s]+)/i.exec(t);return e?e[1]:""}(i):decodeURIComponent(i);return Z.some({type:u[1],data:s,base64Encoded:c})}return Z.none()},Nb=function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=e;if(n)try{r=atob(e)}catch(t){return Z.none()}for(var o=new Uint8Array(r.length),i=0;i<o.length;i++)o[i]=r.charCodeAt(i);return Z.some(new Blob([o],{type:t}))},Rb=function(t){return new Promise((function(e,n){var r=new FileReader;r.onloadend=function(){e(r.result)},r.onerror=function(){var t;n(null===(t=r.error)||void 0===t?void 0:t.message)},r.readAsDataURL(t)}))},Db=0,Pb=function(t,e,n){return Ab(t).bind((function(t){var r=t.data,o=t.type,i=t.base64Encoded;if(e&&!i)return Z.none();var a=i?r:btoa(r);return n(a,o)}))},Mb=function(t,e,n){var r=t.create("blobid"+Db++,e,n);return t.add(r),r},Bb=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Pb(e,n,(function(e,n){return Z.from(t.getByData(e,n)).orThunk((function(){return Nb(n,e).map((function(n){return Mb(t,n,e)}))}))}))};function Lb(t){return Lb="function"==typeof Symbol&&"symbol"==m(Symbol.iterator)?function(t){return m(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":m(t)},Lb(t)}function Ib(t,e){return Ib=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Ib(t,e)}function jb(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Fb(t,e,n){return Fb=jb()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&Ib(o,n.prototype),o},Fb.apply(null,arguments)}function qb(t){return function(t){if(Array.isArray(t))return zb(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return zb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zb(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zb(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ub=Object.hasOwnProperty,Hb=Object.setPrototypeOf,Vb=Object.isFrozen,Wb=Object.getPrototypeOf,$b=Object.getOwnPropertyDescriptor,Gb=Object.freeze,Kb=Object.seal,Yb=Object.create,Xb="undefined"!=typeof Reflect&&Reflect,Zb=Xb.apply,Jb=Xb.construct;Zb||(Zb=function(t,e,n){return t.apply(e,n)}),Gb||(Gb=function(t){return t}),Kb||(Kb=function(t){return t}),Jb||(Jb=function(t,e){return Fb(t,qb(e))});var Qb,ty=ly(Array.prototype.forEach),ey=ly(Array.prototype.pop),ny=ly(Array.prototype.push),ry=ly(String.prototype.toLowerCase),oy=ly(String.prototype.match),iy=ly(String.prototype.replace),ay=ly(String.prototype.indexOf),uy=ly(String.prototype.trim),cy=ly(RegExp.prototype.test),sy=(Qb=TypeError,function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Jb(Qb,e)});function ly(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return Zb(t,e,r)}}function fy(t,e){Hb&&Hb(t,null);for(var n=e.length;n--;){var r=e[n];if("string"==typeof r){var o=ry(r);o!==r&&(Vb(e)||(e[n]=o),r=o)}t[r]=!0}return t}function dy(t){var e,n=Yb(null);for(e in t)Zb(Ub,t,[e])&&(n[e]=t[e]);return n}function py(t,e){for(;null!==t;){var n=$b(t,e);if(n){if(n.get)return ly(n.get);if("function"==typeof n.value)return ly(n.value)}t=Wb(t)}return function(t){return console.warn("fallback value for",t),null}}var my,hy=Gb(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),vy=Gb(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),gy=Gb(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),by=Gb(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),yy=Gb(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),xy=Gb(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),wy=Gb(["#text"]),_y=Gb(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Cy=Gb(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),ky=Gb(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Oy=Gb(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Sy=Kb(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Ey=Kb(/<%[\w\W]*|[\w\W]*%>/gm),Ty=Kb(/^data-[\-\w.\u00B7-\uFFFF]/),Ay=Kb(/^aria-[\-\w]+$/),Ny=Kb(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Ry=Kb(/^(?:\w+script|data):/i),Dy=Kb(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Py=Kb(/^html$/i),My=function(){return"undefined"==typeof window?null:window},By=function(t,e){if("object"!==Lb(t)||"function"!=typeof t.createPolicy)return null;var n=null,r="data-tt-policy-suffix";e.currentScript&&e.currentScript.hasAttribute(r)&&(n=e.currentScript.getAttribute(r));var o="dompurify"+(n?"#"+n:"");try{return t.createPolicy(o,{createHTML:function(t){return t}})}catch(t){return console.warn("TrustedTypes policy "+o+" could not be created."),null}},Ly=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:My(),n=function(e){return t(e)};if(n.version="2.3.8",n.removed=[],!e||!e.document||9!==e.document.nodeType)return n.isSupported=!1,n;var r=e.document,o=e.document,i=e.DocumentFragment,a=e.HTMLTemplateElement,u=e.Node,c=e.Element,s=e.NodeFilter,l=e.NamedNodeMap,f=void 0===l?e.NamedNodeMap||e.MozNamedAttrMap:l,d=e.HTMLFormElement,p=e.DOMParser,m=e.trustedTypes,h=c.prototype,v=py(h,"cloneNode"),g=py(h,"nextSibling"),b=py(h,"childNodes"),y=py(h,"parentNode");if("function"==typeof a){var x=o.createElement("template");x.content&&x.content.ownerDocument&&(o=x.content.ownerDocument)}var w=By(m,r),_=w?w.createHTML(""):"",C=o,k=C.implementation,O=C.createNodeIterator,S=C.createDocumentFragment,E=C.getElementsByTagName,T=r.importNode,A={};try{A=dy(o).documentMode?o.documentMode:{}}catch(t){}var N={};n.isSupported="function"==typeof y&&k&&void 0!==k.createHTMLDocument&&9!==A;var R,D,P=Sy,M=Ey,B=Ty,L=Ay,I=Ry,j=Dy,F=Ny,q=null,z=fy({},[].concat(qb(hy),qb(vy),qb(gy),qb(yy),qb(wy))),U=null,H=fy({},[].concat(qb(_y),qb(Cy),qb(ky),qb(Oy))),V=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),W=null,$=null,G=!0,K=!0,Y=!1,X=!1,Z=!1,J=!1,Q=!1,tt=!1,et=!1,nt=!1,rt=!0,ot=!0,it=!1,at={},ut=null,ct=fy({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),st=null,lt=fy({},["audio","video","img","source","image","track"]),ft=null,dt=fy({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),pt="http://www.w3.org/1998/Math/MathML",mt="http://www.w3.org/2000/svg",ht="http://www.w3.org/1999/xhtml",vt=ht,gt=!1,bt=["application/xhtml+xml","text/html"],yt="text/html",xt=null,wt=o.createElement("form"),_t=function(t){return t instanceof RegExp||t instanceof Function},Ct=function(t){xt&&xt===t||(t&&"object"===Lb(t)||(t={}),t=dy(t),q="ALLOWED_TAGS"in t?fy({},t.ALLOWED_TAGS):z,U="ALLOWED_ATTR"in t?fy({},t.ALLOWED_ATTR):H,ft="ADD_URI_SAFE_ATTR"in t?fy(dy(dt),t.ADD_URI_SAFE_ATTR):dt,st="ADD_DATA_URI_TAGS"in t?fy(dy(lt),t.ADD_DATA_URI_TAGS):lt,ut="FORBID_CONTENTS"in t?fy({},t.FORBID_CONTENTS):ct,W="FORBID_TAGS"in t?fy({},t.FORBID_TAGS):{},$="FORBID_ATTR"in t?fy({},t.FORBID_ATTR):{},at="USE_PROFILES"in t&&t.USE_PROFILES,G=!1!==t.ALLOW_ARIA_ATTR,K=!1!==t.ALLOW_DATA_ATTR,Y=t.ALLOW_UNKNOWN_PROTOCOLS||!1,X=t.SAFE_FOR_TEMPLATES||!1,Z=t.WHOLE_DOCUMENT||!1,tt=t.RETURN_DOM||!1,et=t.RETURN_DOM_FRAGMENT||!1,nt=t.RETURN_TRUSTED_TYPE||!1,Q=t.FORCE_BODY||!1,rt=!1!==t.SANITIZE_DOM,ot=!1!==t.KEEP_CONTENT,it=t.IN_PLACE||!1,F=t.ALLOWED_URI_REGEXP||F,vt=t.NAMESPACE||ht,t.CUSTOM_ELEMENT_HANDLING&&_t(t.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(V.tagNameCheck=t.CUSTOM_ELEMENT_HANDLING.tagNameCheck),t.CUSTOM_ELEMENT_HANDLING&&_t(t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(V.attributeNameCheck=t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),t.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(V.allowCustomizedBuiltInElements=t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),R=R=-1===bt.indexOf(t.PARSER_MEDIA_TYPE)?yt:t.PARSER_MEDIA_TYPE,D="application/xhtml+xml"===R?function(t){return t}:ry,X&&(K=!1),et&&(tt=!0),at&&(q=fy({},qb(wy)),U=[],!0===at.html&&(fy(q,hy),fy(U,_y)),!0===at.svg&&(fy(q,vy),fy(U,Cy),fy(U,Oy)),!0===at.svgFilters&&(fy(q,gy),fy(U,Cy),fy(U,Oy)),!0===at.mathMl&&(fy(q,yy),fy(U,ky),fy(U,Oy))),t.ADD_TAGS&&(q===z&&(q=dy(q)),fy(q,t.ADD_TAGS)),t.ADD_ATTR&&(U===H&&(U=dy(U)),fy(U,t.ADD_ATTR)),t.ADD_URI_SAFE_ATTR&&fy(ft,t.ADD_URI_SAFE_ATTR),t.FORBID_CONTENTS&&(ut===ct&&(ut=dy(ut)),fy(ut,t.FORBID_CONTENTS)),ot&&(q["#text"]=!0),Z&&fy(q,["html","head","body"]),q.table&&(fy(q,["tbody"]),delete W.tbody),Gb&&Gb(t),xt=t)},kt=fy({},["mi","mo","mn","ms","mtext"]),Ot=fy({},["foreignobject","desc","title","annotation-xml"]),St=fy({},["title","style","font","a","script"]),Et=fy({},vy);fy(Et,gy),fy(Et,by);var Tt=fy({},yy);fy(Tt,xy);var At=function(t){var e=y(t);e&&e.tagName||(e={namespaceURI:ht,tagName:"template"});var n=ry(t.tagName),r=ry(e.tagName);return t.namespaceURI===mt?e.namespaceURI===ht?"svg"===n:e.namespaceURI===pt?"svg"===n&&("annotation-xml"===r||kt[r]):Boolean(Et[n]):t.namespaceURI===pt?e.namespaceURI===ht?"math"===n:e.namespaceURI===mt?"math"===n&&Ot[r]:Boolean(Tt[n]):t.namespaceURI===ht&&!(e.namespaceURI===mt&&!Ot[r])&&!(e.namespaceURI===pt&&!kt[r])&&!Tt[n]&&(St[n]||!Et[n])},Nt=function(t){ny(n.removed,{element:t});try{t.parentNode.removeChild(t)}catch(e){try{t.outerHTML=_}catch(e){t.remove()}}},Rt=function(t,e){try{ny(n.removed,{attribute:e.getAttributeNode(t),from:e})}catch(t){ny(n.removed,{attribute:null,from:e})}if(e.removeAttribute(t),"is"===t&&!U[t])if(tt||et)try{Nt(e)}catch(t){}else try{e.setAttribute(t,"")}catch(t){}},Dt=function(t){var e,n;if(Q)t="<remove></remove>"+t;else{var r=oy(t,/^[\r\n\t ]+/);n=r&&r[0]}"application/xhtml+xml"===R&&(t='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+t+"</body></html>");var i=w?w.createHTML(t):t;if(vt===ht)try{e=(new p).parseFromString(i,R)}catch(t){}if(!e||!e.documentElement){e=k.createDocument(vt,"template",null);try{e.documentElement.innerHTML=gt?"":i}catch(t){}}var a=e.body||e.documentElement;return t&&n&&a.insertBefore(o.createTextNode(n),a.childNodes[0]||null),vt===ht?E.call(e,Z?"html":"body")[0]:Z?e.documentElement:a},Pt=function(t){return O.call(t.ownerDocument||t,t,s.SHOW_ELEMENT|s.SHOW_COMMENT|s.SHOW_TEXT,null,!1)},Mt=function(t){return t instanceof d&&("string"!=typeof t.nodeName||"string"!=typeof t.textContent||"function"!=typeof t.removeChild||!(t.attributes instanceof f)||"function"!=typeof t.removeAttribute||"function"!=typeof t.setAttribute||"string"!=typeof t.namespaceURI||"function"!=typeof t.insertBefore)},Bt=function(t){return"object"===Lb(u)?t instanceof u:t&&"object"===Lb(t)&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName},Lt=function(t,e,r){N[t]&&ty(N[t],(function(t){t.call(n,e,r,xt)}))},It=function(t){var e;if(Lt("beforeSanitizeElements",t,null),Mt(t))return Nt(t),!0;if(cy(/[\u0080-\uFFFF]/,t.nodeName))return Nt(t),!0;var r=D(t.nodeName);if(Lt("uponSanitizeElement",t,{tagName:r,allowedTags:q}),t.hasChildNodes()&&!Bt(t.firstElementChild)&&(!Bt(t.content)||!Bt(t.content.firstElementChild))&&cy(/<[/\w]/g,t.innerHTML)&&cy(/<[/\w]/g,t.textContent))return Nt(t),!0;if("select"===r&&cy(/<template/i,t.innerHTML))return Nt(t),!0;if(!q[r]||W[r]){if(!W[r]&&Ft(r)){if(V.tagNameCheck instanceof RegExp&&cy(V.tagNameCheck,r))return!1;if(V.tagNameCheck instanceof Function&&V.tagNameCheck(r))return!1}if(ot&&!ut[r]){var o=y(t)||t.parentNode,i=b(t)||t.childNodes;if(i&&o)for(var a=i.length-1;a>=0;--a)o.insertBefore(v(i[a],!0),g(t))}return Nt(t),!0}return t instanceof c&&!At(t)?(Nt(t),!0):"noscript"!==r&&"noembed"!==r||!cy(/<\/no(script|embed)/i,t.innerHTML)?(X&&3===t.nodeType&&(e=t.textContent,e=iy(e,P," "),e=iy(e,M," "),t.textContent!==e&&(ny(n.removed,{element:t.cloneNode()}),t.textContent=e)),Lt("afterSanitizeElements",t,null),!1):(Nt(t),!0)},jt=function(t,e,n){if(rt&&("id"===e||"name"===e)&&(n in o||n in wt))return!1;if(K&&!$[e]&&cy(B,e));else if(G&&cy(L,e));else if(!U[e]||$[e]){if(!(Ft(t)&&(V.tagNameCheck instanceof RegExp&&cy(V.tagNameCheck,t)||V.tagNameCheck instanceof Function&&V.tagNameCheck(t))&&(V.attributeNameCheck instanceof RegExp&&cy(V.attributeNameCheck,e)||V.attributeNameCheck instanceof Function&&V.attributeNameCheck(e))||"is"===e&&V.allowCustomizedBuiltInElements&&(V.tagNameCheck instanceof RegExp&&cy(V.tagNameCheck,n)||V.tagNameCheck instanceof Function&&V.tagNameCheck(n))))return!1}else if(ft[e]);else if(cy(F,iy(n,j,"")));else if("src"!==e&&"xlink:href"!==e&&"href"!==e||"script"===t||0!==ay(n,"data:")||!st[t])if(Y&&!cy(I,iy(n,j,"")));else if(n)return!1;return!0},Ft=function(t){return t.indexOf("-")>0},qt=function(t){var e,n,r,o;Lt("beforeSanitizeAttributes",t,null);var i=t.attributes;if(i){var a={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:U};for(o=i.length;o--;){var u=e=i[o],c=u.name,s=u.namespaceURI;n="value"===c?e.value:uy(e.value),r=D(c);var l=n;if(a.attrName=r,a.attrValue=n,a.keepAttr=!0,a.forceKeepAttr=void 0,Lt("uponSanitizeAttribute",t,a),n=a.attrValue,!a.forceKeepAttr)if(a.keepAttr)if(cy(/\/>/i,n))Rt(c,t);else{X&&(n=iy(n,P," "),n=iy(n,M," "));var f=D(t.nodeName);if(jt(f,r,n)){if(n!==l)try{s?t.setAttributeNS(s,c,n):t.setAttribute(c,n)}catch(e){Rt(c,t)}}else Rt(c,t)}else Rt(c,t)}Lt("afterSanitizeAttributes",t,null)}},zt=function t(e){var n,r=Pt(e);for(Lt("beforeSanitizeShadowDOM",e,null);n=r.nextNode();)Lt("uponSanitizeShadowNode",n,null),It(n)||(n.content instanceof i&&t(n.content),qt(n));Lt("afterSanitizeShadowDOM",e,null)};return n.sanitize=function(t,o){var a,c,s,l,f;if((gt=!t)&&(t="\x3c!--\x3e"),"string"!=typeof t&&!Bt(t)){if("function"!=typeof t.toString)throw sy("toString is not a function");if("string"!=typeof(t=t.toString()))throw sy("dirty is not a string, aborting")}if(!n.isSupported){if("object"===Lb(e.toStaticHTML)||"function"==typeof e.toStaticHTML){if("string"==typeof t)return e.toStaticHTML(t);if(Bt(t))return e.toStaticHTML(t.outerHTML)}return t}if(J||Ct(o),n.removed=[],"string"==typeof t&&(it=!1),it){if(t.nodeName){var d=D(t.nodeName);if(!q[d]||W[d])throw sy("root node is forbidden and cannot be sanitized in-place")}}else if(t instanceof u)1===(c=(a=Dt("\x3c!----\x3e")).ownerDocument.importNode(t,!0)).nodeType&&"BODY"===c.nodeName||"HTML"===c.nodeName?a=c:a.appendChild(c);else{if(!tt&&!X&&!Z&&-1===t.indexOf("<"))return w&&nt?w.createHTML(t):t;if(!(a=Dt(t)))return tt?null:nt?_:""}a&&Q&&Nt(a.firstChild);for(var p=Pt(it?t:a);s=p.nextNode();)3===s.nodeType&&s===l||It(s)||(s.content instanceof i&&zt(s.content),qt(s),l=s);if(l=null,it)return t;if(tt){if(et)for(f=S.call(a.ownerDocument);a.firstChild;)f.appendChild(a.firstChild);else f=a;return U.shadowroot&&(f=T.call(r,f,!0)),f}var m=Z?a.outerHTML:a.innerHTML;return Z&&q["!doctype"]&&a.ownerDocument&&a.ownerDocument.doctype&&a.ownerDocument.doctype.name&&cy(Py,a.ownerDocument.doctype.name)&&(m="<!DOCTYPE "+a.ownerDocument.doctype.name+">\n"+m),X&&(m=iy(m,P," "),m=iy(m,M," ")),w&&nt?w.createHTML(m):m},n.setConfig=function(t){Ct(t),J=!0},n.clearConfig=function(){xt=null,J=!1},n.isValidAttribute=function(t,e,n){xt||Ct({});var r=D(t),o=D(e);return jt(r,o,n)},n.addHook=function(t,e){"function"==typeof e&&(N[t]=N[t]||[],ny(N[t],e))},n.removeHook=function(t){if(N[t])return ey(N[t])},n.removeHooks=function(t){N[t]&&(N[t]=[])},n.removeAllHooks=function(){N={}},n}(),Iy=Ge.each,jy=Ge.trim,Fy=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],qy={ftp:21,http:80,https:443,mailto:25},zy=["img","video"],Uy=function(t,e,n){var r=function(t){try{return decodeURIComponent(t)}catch(e){return unescape(t)}}(e).replace(/\s/g,"");return!t.allow_script_urls&&(!!/((java|vb)script|mhtml):/i.test(r)||!t.allow_html_data_urls&&(/^data:image\//i.test(r)?function(t,e){return M(t)?!t:!M(e)||!nt(zy,e)}(t.allow_svg_data_urls,n)&&/^data:image\/svg\+xml/i.test(r):/^data:/i.test(r)))},Hy=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};d(this,t),this.path="",this.directory="",e=jy(e),this.settings=n;var r=n.base_uri,o=this;if(/^([\w\-]+):([^\/]{2})/i.test(e)||/^\s*#/.test(e))o.source=e;else{var i=0===e.indexOf("//");if(0!==e.indexOf("/")||i||(e=(r&&r.protocol||"http")+"://mce_host"+e),!/^[\w\-]*:?\/\//.test(e)){var a=r?r.path:new t(document.location.href).directory;if(""===(null==r?void 0:r.protocol))e="//mce_host"+o.toAbsPath(a,e);else{var u=/([^#?]*)([#?]?.*)/.exec(e);u&&(e=(r&&r.protocol||"http")+"://mce_host"+o.toAbsPath(a,u[1])+u[2])}}e=e.replace(/@@/g,"(mce_at)");var c=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e);c&&Iy(Fy,(function(t,e){var n=c[e];n&&(n=n.replace(/\(mce_at\)/g,"@@")),o[t]=n})),r&&(o.protocol||(o.protocol=r.protocol),o.userInfo||(o.userInfo=r.userInfo),o.port||"mce_host"!==o.host||(o.port=r.port),o.host&&"mce_host"!==o.host||(o.host=r.host),o.source=""),i&&(o.protocol="")}}return p(t,[{key:"setPath",value:function(t){var e=/^(.*?)\/?(\w+)?$/.exec(t);e&&(this.path=e[0],this.directory=e[1],this.file=e[2]),this.source="",this.getURI()}},{key:"toRelative",value:function(e){if("./"===e)return e;var n=new t(e,{base_uri:this});if("mce_host"!==n.host&&this.host!==n.host&&n.host||this.port!==n.port||this.protocol!==n.protocol&&""!==n.protocol)return n.getURI();var r=this.getURI(),o=n.getURI();if(r===o||"/"===r.charAt(r.length-1)&&r.substr(0,r.length-1)===o)return r;var i=this.toRelPath(this.path,n.path);return n.query&&(i+="?"+n.query),n.anchor&&(i+="#"+n.anchor),i}},{key:"toAbsolute",value:function(e,n){var r=new t(e,{base_uri:this});return r.getURI(n&&this.isSameOrigin(r))}},{key:"isSameOrigin",value:function(t){if(this.host==t.host&&this.protocol==t.protocol){if(this.port==t.port)return!0;var e=this.protocol?qy[this.protocol]:null;if(e&&(this.port||e)==(t.port||e))return!0}return!1}},{key:"toRelPath",value:function(t,e){var n,r,o=0,i="",a=t.substring(0,t.lastIndexOf("/")).split("/"),u=e.split("/");if(a.length>=u.length)for(n=0,r=a.length;n<r;n++)if(n>=u.length||a[n]!==u[n]){o=n+1;break}if(a.length<u.length)for(n=0,r=u.length;n<r;n++)if(n>=a.length||a[n]!==u[n]){o=n+1;break}if(1===o)return e;for(n=0,r=a.length-(o-1);n<r;n++)i+="../";for(n=o-1,r=u.length;n<r;n++)i+=n!==o-1?"/"+u[n]:u[n];return i}},{key:"toAbsPath",value:function(t,e){var n=0,r=/\/$/.test(e)?"/":"",o=t.split("/"),i=e.split("/"),a=[];Iy(o,(function(t){t&&a.push(t)}));for(var u=[],c=i.length-1;c>=0;c--)0!==i[c].length&&"."!==i[c]&&(".."!==i[c]?n>0?n--:u.push(i[c]):n++);var s,l=a.length-n;return s=l<=0?gt(u).join("/"):a.slice(0,l).join("/")+"/"+gt(u).join("/"),0!==s.indexOf("/")&&(s="/"+s),r&&s.lastIndexOf("/")!==s.length-1&&(s+=r),s}},{key:"getURI",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.source&&!e||(t="",e||(this.protocol?t+=this.protocol+"://":t+="//",this.userInfo&&(t+=this.userInfo+"@"),this.host&&(t+=this.host),this.port&&(t+=":"+this.port)),this.path&&(t+=this.path),this.query&&(t+="?"+this.query),this.anchor&&(t+="#"+this.anchor),this.source=t),this.source}}],[{key:"parseDataUri",value:function(t){var e,n=decodeURIComponent(t).split(","),r=/data:([^;]+)/.exec(n[0]);return r&&(e=r[1]),{type:e,data:n[1]}}},{key:"isDomSafe",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(n.allow_script_urls)return!0;var r=ua.decode(t).replace(/[\s\u0000-\u001F]+/g,"");return!Uy(n,r,e)}},{key:"getDocumentBaseUrl",value:function(t){var e,n;return n=0!==t.protocol.indexOf("http")&&"file:"!==t.protocol?null!==(e=t.href)&&void 0!==e?e:"":t.protocol+"//"+t.host+t.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(n)&&(n=n.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(n)||(n+="/")),n}}]),t}(),Vy=Ge.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),Wy="data-mce-type",$y=0,Gy=function(t,e,n,r){var o,i,a,u,c=e.validate,s=n.getSpecialElements();8===t.nodeType&&!e.allow_conditional_comments&&/^\[if/i.test(null!==(o=t.nodeValue)&&void 0!==o?o:"")&&(t.nodeValue=" "+t.nodeValue);var l=null!==(i=null==r?void 0:r.tagName)&&void 0!==i?i:t.nodeName.toLowerCase();if(1===t.nodeType&&"body"!==l){var f=Rn(t),d=hn(f,Wy),p=pn(f,"data-mce-bogus");if(d||!S(p)){var m=n.getElementRule(l);if(!c||m){if(M(r)&&(r.allowedTags[l]=!0),c&&m&&!d){if(it(null!==(a=m.attributesForced)&&void 0!==a?a:[],(function(t){fn(f,t.name,"{$uid}"===t.value?"mce_"+$y++:t.value)})),it(null!==(u=m.attributesDefault)&&void 0!==u?u:[],(function(t){hn(f,t.name)||fn(f,t.name,"{$uid}"===t.value?"mce_"+$y++:t.value)})),m.attributesRequired&&!rt(m.attributesRequired,(function(t){return hn(f,t)})))return void Pr(f);if(m.removeEmptyAttrs&&function(t){var e=t.dom.attributes;return null==e||0===e.length}(f))return void Pr(f);m.outputName&&m.outputName!==l&&function(t,e){var n=function(t,e){var n=An(e),r=gn(t);return dn(n,r),n}(t,e);Sr(t,n);var r=Kn(t);Nr(n,r),Dr(t)}(f,m.outputName)}}else It(s,l)?Dr(f):Pr(f)}else"all"===p?Dr(f):Pr(f)}},Ky=function(t,e,n,r,o){return!(r in Vy&&Uy(t,o,n))&&(!t.validate||e.isValid(n,r)||ne(r,"data-")||ne(r,"aria-"))},Yy=function(t,e){return t.hasAttribute(Wy)&&("id"===e||"class"===e||"style"===e)},Xy=function(t,e){return t in e.getBoolAttrs()},Zy=function(t,e,n){for(var r=t.attributes,o=r.length-1;o>=0;o--){var i=r[o],a=i.name,u=i.value;Ky(e,n,t.tagName.toLowerCase(),a,u)||Yy(t,a)?Xy(a,n)&&t.setAttribute(a,a):t.removeAttribute(a)}},Jy=function(t,e){var n=Ly();return n.addHook("uponSanitizeElement",(function(n,r){Gy(n,t,e,r)})),n.addHook("uponSanitizeAttribute",(function(n,r){var o=n.tagName.toLowerCase(),i=r.attrName,a=r.attrValue;r.keepAttr=Ky(t,e,o,i,a),r.keepAttr?(r.allowedAttributes[i]=!0,Xy(i,e)&&(r.attrValue=i),t.allow_svg_data_urls&&ne(a,"data:image/svg+xml")&&(r.forceKeepAttr=!0)):Yy(n,i)&&(r.forceKeepAttr=!0)})),n},Qy=Ge.makeMap,tx=Ge.extend,ex=function t(e,n,r){for(var o=e.name,i=(o in r&&"title"!==o&&"textarea"!==o),a=n.childNodes,u=0,c=a.length;u<c;u++){var s=a[u],l=new Um(s.nodeName.toLowerCase(),s.nodeType);if(Qr(s))for(var f=s.attributes,d=0,p=f.length;d<p;d++){var m=f[d];l.attr(m.name,m.value)}else co(s)?(l.value=s.data,i&&(l.raw=!0)):(fo(s)||so(s)||lo(s))&&(l.value=s.data);t(l,s,r),e.append(l)}},nx=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xa(),n=Eb(),r=Eb(),o=s({validate:!0,root_name:"body",sanitize:!0},t),i=new DOMParser,a=function(t,e){if(t.sanitize){var n=Jy(t,e);return function(e,r){n.sanitize(e,function(t,e){var n={IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]};return n.PARSER_MEDIA_TYPE=e,t.allow_script_urls?n.ALLOWED_URI_REGEXP=/.*/:t.allow_html_data_urls&&(n.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),n}(t,r)),n.removed=[]}}return function(n,r){for(var o,i=document.createNodeIterator(n,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);o=i.nextNode();)Gy(o,t,e),Qr(o)&&Zy(o,t,e)}}(o,e),u=n.addFilter,c=n.getFilters,f=n.removeFilter,d=r.addFilter,p=r.getFilters,m=r.removeFilter,h=function(t,n){var r=S(n.attr(Wy)),o=1===n.type&&!It(t,n.name)&&!function(t,e){return 1===e.type&&Bi(t,e.name)&&S(e.attr(Si))}(e,n);return 3===n.type||o&&!r},v={schema:e,addAttributeFilter:d,getAttributeFilters:p,removeAttributeFilter:m,addNodeFilter:u,getNodeFilters:c,removeNodeFilter:f,parse:function(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=o.validate,s=null!==(n=r.context)&&void 0!==n?n:o.root_name,f=function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"html",o="xhtml"===r?"application/xhtml+xml":"text/html",u=It(e.getSpecialElements(),n.toLowerCase()),c=u?"<".concat(n,">").concat(t,"</").concat(n,">"):t,s="xhtml"===r?'<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'.concat(c,"</body></html>"):"<body>".concat(c,"</body>"),l=i.parseFromString(s,o).body;return a(l,o),u?l.firstChild:l}(t,s,r.format);Di(e,f);var d=new Um(s,11);ex(d,f,e.getSpecialElements()),f.innerHTML="";var m=function(t,e,n,r){var o=n.validate,i=e.getNonEmptyElements(),a=e.getWhitespaceElements(),u=tx(Qy("script,style,head,html,body,title,meta,param"),e.getBlockElements()),c=ba(e),s=/[ \t\r\n]+/g,l=/^[ \t\r\n]+/,f=/[ \t\r\n]+$/,d=function(t){for(var e=t.parent;M(e);){if(e.name in a)return!0;e=e.parent}return!1},p=function(t){return t.name in u&&!Fi(e,t)},m=function(e,n){var o=n?e.prev:e.next;return!M(o)&&!P(e.parent)&&p(e.parent)&&(e.parent!==t||!0===r.isRootContent)};return[function(t){var e;if(3===t.type&&!d(t)){var n=null!==(e=t.value)&&void 0!==e?e:"";n=n.replace(s," "),(function(t,e){return M(t)&&(e(t)||"br"===t.name)}(t.prev,p)||m(t,!0))&&(n=n.replace(l,"")),0===n.length?t.remove():t.value=n}},function(t){var n;if(1===t.type){var u=e.getElementRule(t.name);if(o&&u){var s=Qv(e,i,a,t);u.paddInEmptyBlock&&s&&function(t){for(var n=t;M(n);){if(n.name in c)return Qv(e,i,a,n);n=n.parent}return!1}(t)?Zv(r,p,t):u.removeEmpty&&s?p(t)?t.remove():t.unwrap():u.paddEmpty&&(s||function(t){var e;return Jv(t,"#text")&&(null===(e=null==t?void 0:t.firstChild)||void 0===e?void 0:e.value)===ko}(t))&&Zv(r,p,t)}}else if(3===t.type&&!d(t)){var l=null!==(n=t.value)&&void 0!==n?n:"";(t.next&&p(t.next)||m(t,!1))&&(l=l.replace(f,"")),0===l.length?t.remove():t.value=l}}]}(d,e,o,r),v=l(m,2),g=v[0],b=v[1],y=[],x=u?function(t){return function(t,n){rg(e,t)&&n.push(t)}(t,y)}:j,w={nodes:{},attributes:{}},_=function(t){return Kv(c(),p(),t,w)};if(function(t,e,n){for(var r=[],o=function(n){var o=n;it(e,(function(t){return t(o)})),P(o.parent)&&o!==t?n=a:r.push(o),i=n},i=t,a=i;i;a=i,i=i.walk())o(i);for(var u=function(){var t=r[c];it(n,(function(e){return e(t)}))},c=r.length-1;c>=0;c--)u()}(d,[g,_],[b,x]),y.reverse(),u&&y.length>0)if(r.context){var C=ut(y,(function(t){return t.parent===d})),k=C.pass,O=C.fail;ng(O,e,d,_),r.invalid=k.length>0}else ng(y,e,d,_);var S=function(t,e){var n,r=null!==(n=e.forced_root_block)&&void 0!==n?n:t.forced_root_block;return!1===r?"":!0===r?"p":r}(o,r);return S&&("body"===d.name||r.isRootContent)&&function(t,n){var r=tx(Qy("script,style,head,html,body,title,meta,param"),e.getBlockElements()),i=/^[ \t\r\n]+/,a=/[ \t\r\n]+$/,u=t.firstChild,c=null,s=function(t){var e,n;t&&(u=t.firstChild,u&&3===u.type&&(u.value=null===(e=u.value)||void 0===e?void 0:e.replace(i,"")),u=t.lastChild,u&&3===u.type&&(u.value=null===(n=u.value)||void 0===n?void 0:n.replace(a,"")))};if(e.isValidChild(t.name,n.toLowerCase())){for(;u;){var l=u.next;h(r,u)?(c||(c=new Um(n,1),c.attr(o.forced_root_block_attrs),t.insert(c,u)),c.append(u)):(s(c),c=null),u=l}s(c)}}(d,S),r.invalid||Yv(w,r),d}};return function(t,e){var n=t.schema;e.remove_trailing_brs&&t.addNodeFilter("br",(function(t,e,r){var o=Ge.extend({},n.getBlockElements()),i=n.getNonEmptyElements(),a=n.getWhitespaceElements();o.body=1;for(var u=function(t){return t.name in o&&Fi(n,t)},c=0,s=t.length;c<s;c++){var l=t[c],f=l.parent;if(f&&o[f.name]&&l===f.lastChild){for(var d=l.prev;d;){var p=d.name;if("span"!==p||"bookmark"!==d.attr("data-mce-type")){"br"===p&&(l=null);break}d=d.prev}if(l&&(l.remove(),Qv(n,i,a,f))){var m=n.getElementRule(f.name);m&&(m.removeEmpty?f.remove():m.paddEmpty&&Zv(r,u,f))}}else{for(var h=l;f&&f.firstChild===h&&f.lastChild===h&&(h=f,!o[f.name]);)f=f.parent;if(h===f){var v=new Um("#text",3);v.value=ko,l.replace(v)}}}})),t.addAttributeFilter("href",(function(t){var n=t.length,r=function(t){var e=t?Ge.trim(t):"";return/\b(noopener)\b/g.test(e)?e:function(t){return t.split(" ").filter((function(t){return t.length>0})).concat(["noopener"]).sort().join(" ")}(e)};if(!e.allow_unsafe_link_target)for(;n--;){var o=t[n];"a"===o.name&&"_blank"===o.attr("target")&&o.attr("rel",r(o.attr("rel")))}})),e.allow_html_in_named_anchor||t.addAttributeFilter("id,name",(function(t){for(var e,n,r,o,i=t.length;i--;)if(o=t[i],"a"===o.name&&o.firstChild&&!o.attr("href"))for(r=o.parent,e=o.lastChild;e&&r;)n=e.prev,r.insert(e,o),e=n})),e.fix_list_elements&&t.addNodeFilter("ul,ol",(function(t){for(var e,n,r=t.length;r--;)if(e=t[r],n=e.parent,n&&("ul"===n.name||"ol"===n.name))if(e.prev&&"li"===e.prev.name)e.prev.append(e);else{var o=new Um("li",1);o.attr("style","list-style-type: none"),e.wrap(o)}}));var r=n.getValidClasses();e.validate&&r&&t.addAttributeFilter("class",(function(t){for(var e,n=t.length;n--;){for(var o=t[n],i=null!==(e=o.attr("class"))&&void 0!==e?e:"",a=Ge.explode(i," "),u="",c=0;c<a.length;c++){var s=a[c],l=!1,f=r["*"];f&&f[s]&&(l=!0),f=r[o.name],!l&&f&&f[s]&&(l=!0),l&&(u&&(u+=" "),u+=s)}u.length||(u=null),o.attr("class",u)}})),function(t,e){var n=e.blob_cache;if(n){var r=function(t){var e=t.attr("src");(function(t){return t.attr("src")===He.transparentSrc||M(t.attr("data-mce-placeholder"))})(t)||function(t){return M(t.attr("data-mce-bogus"))}(t)||P(e)||Bb(n,e,!0).each((function(e){t.attr("src",e.blobUri())}))};t.addAttributeFilter("src",(function(t){return it(t,r)}))}}(t,e)}(v,o),function(t,e,n){e.inline_styles&&Tb(t,e,n)}(v,o,e),v},rx=function(t,e,n){var r=function(t){return pg(t)?Jm({validate:!1}).serialize(t):t}(t),o=e(r);if(o.isDefaultPrevented())return o;if(pg(t)){if(o.content!==r){var i=nx({validate:!1,forced_root_block:!1,sanitize:n}).parse(o.content,{context:t.name});return s(s({},o),{},{content:i})}return s(s({},o),{},{content:t})}return o},ox=function(t,e){if(e.no_events)return hc.value(e);var n=function(t,e){return t.dispatch("BeforeGetContent",e)}(t,e);return n.isDefaultPrevented()?hc.error(rp(t,s({content:""},n)).content):hc.value(n)},ix=function(t,e,n){if(n.no_events)return e;var r=rx(e,(function(e){return rp(t,s(s({},n),{},{content:e}))}),dl(t));return r.content},ax=function(t,e){if(e.no_events)return hc.value(e);var n=rx(e.content,(function(n){return function(t,e){return t.dispatch("BeforeSetContent",e)}(t,s(s({},e),{},{content:n}))}),dl(t));return n.isDefaultPrevented()?(np(t,n),hc.error(void 0)):hc.value(n)},ux=function(t,e,n){n.no_events||np(t,s(s({},n),{},{content:e}))},cx=function(t,e,n){return{element:t,width:e,rows:n}},sx=function(t,e){return{element:t,cells:e}},lx=function(t,e){return{x:t,y:e}},fx=function(t,e){return mn(t,e).bind(le).getOr(1)},dx=function(t,e,n){var r=t.rows;return!!(r[n]?r[n].cells:[])[e]},px=function(t){return lt(t,(function(t,e){return e.cells.length>t?e.cells.length:t}),0)},mx=function(t,e){for(var n=t.rows,r=0;r<n.length;r++)for(var o=n[r].cells,i=0;i<o.length;i++)if(Ln(o[i],e))return Z.some(lx(i,r));return Z.none()},hx=function(t,e,n,r,o){for(var i=[],a=t.rows,u=n;u<=o;u++){var c=a[u].cells,s=e<r?c.slice(e,r+1):c.slice(r,e+1);i.push(sx(a[u].element,s))}return i},vx=function(t){return function(t,e){var n=pu(t.element),r=An("tbody");return Nr(r,e),Tr(n,r),n}(t,function(t){return ot(t.rows,(function(t){var e=ot(t.cells,(function(t){var e=mu(t);return vn(e,"colspan"),vn(e,"rowspan"),e})),n=pu(t.element);return Nr(n,e),n}))}(t))},gx=function(t,e){var n=Rn(e.commonAncestorContainer),r=yh(n,t),o=ct(r,zo),i=function(t,e){return dt(t,(function(t){return"li"===en(t)&&od(t,e)})).fold(z([]),(function(e){return function(t){return dt(t,(function(t){return"ul"===en(t)||"ol"===en(t)}))}(t).map((function(t){var e=An(en(t)),n=Pt(Cr(t),(function(t,e){return ne(e,"list-style")}));return yr(e,n),[An("li"),e]})).getOr([])}))}(r,e),a=o.concat(i.length?i:function(t){return Lo(t)?zn(t).filter(Bo).fold(z([]),(function(e){return[t,e]})):Bo(t)?[t]:[]}(n));return ot(a,pu)},bx=function(){return kp([])},yx=function(t,e){return function(t,e){return fr(e,"table",V(Ln,t))}(t,e[0]).bind((function(t){var n=e[0],r=e[e.length-1],o=function(t){var e=cx(pu(t),0,[]);return it(Kr(t,"tr"),(function(t,n){it(Kr(t,"td,th"),(function(r,o){(function(t,e,n,r,o){for(var i=fx(o,"rowspan"),a=fx(o,"colspan"),u=t.rows,c=n;c<n+i;c++){u[c]||(u[c]=sx(mu(r),[]));for(var s=e;s<e+a;s++)u[c].cells[s]=c===n&&s===e?o:pu(o)}})(e,function(t,e,n){for(;dx(t,e,n);)e++;return e}(e,o,n),n,t,r)}))})),cx(e.element,px(e.rows),e.rows)}(t);return function(t,e,n){return mx(t,e).bind((function(e){return mx(t,n).map((function(n){return function(t,e,n){var r=e.x,o=e.y,i=n.x,a=n.y,u=o<a?hx(t,r,o,i,a):hx(t,r,a,i,o);return cx(t.element,px(u),u)}(t,e,n)}))}))}(o,n,r).map((function(t){return kp([vx(t)])}))})).getOrThunk(bx)},xx=function(t,e){var n=Qf(e,t);return n.length>0?yx(t,n):function(t,e){return e.length>0&&e[0].collapsed?bx():function(t,e){return function(t,e){var n=lt(e,(function(t,e){return Tr(e,t),e}),t);return e.length>0?kp([n]):n}(Rn(e.cloneContents()),gx(t,e))}(t,e[0])}(t,e)},wx=function(t,e){return e>=0&&e<t.length&&Hf(t.charAt(e))},_x=function(t){return Go(t.innerText)},Cx=function(t){return Qr(t)?t.outerHTML:co(t)?ua.encodeRaw(t.data,!1):fo(t)?"\x3c!--"+t.data+"--\x3e":""},kx=function(t,e){return function(t,e){var n=0;it(t,(function(t){0===t[0]?n++:1===t[0]?(function(t,e,n){var r=function(t){var e,n=document.createElement("div"),r=document.createDocumentFragment();for(t&&(n.innerHTML=t);e=n.firstChild;)r.appendChild(e);return r}(e);if(t.hasChildNodes()&&n<t.childNodes.length){var o=t.childNodes[n];t.insertBefore(r,o)}else t.appendChild(r)}(e,t[1],n),n++):2===t[0]&&function(t,e){if(t.hasChildNodes()&&e<t.childNodes.length){var n=t.childNodes[e];t.removeChild(n)}}(e,n)}))}(function(t,e){var n=t.length+e.length+2,r=new Array(n),o=new Array(n),i=function n(r,o,i,a,c){var s=u(r,o,i,a);if(null===s||s.start===o&&s.diag===o-a||s.end===r&&s.diag===r-i)for(var l=r,f=i;l<o||f<a;)l<o&&f<a&&t[l]===e[f]?(c.push([0,t[l]]),++l,++f):o-r>a-i?(c.push([2,t[l]]),++l):(c.push([1,e[f]]),++f);else{n(r,s.start,i,s.start-s.diag,c);for(var d=s.start;d<s.end;++d)c.push([0,t[d]]);n(s.end,o,s.end-s.diag,a,c)}},a=function(n,r,o,i){for(var a=n;a-r<i&&a<o&&t[a]===e[a-r];)++a;return function(t,e,n){return{start:t,end:e,diag:n}}(n,a,r)},u=function(n,i,u,c){var s=i-n,l=c-u;if(0===s||0===l)return null;var f,d,p,m,h,v=s-l,g=l+s,b=(g%2==0?g:g+1)/2;for(r[1+b]=n,o[1+b]=i+1,f=0;f<=b;++f){for(d=-f;d<=f;d+=2){for(p=d+b,d===-f||d!==f&&r[p-1]<r[p+1]?r[p]=r[p+1]:r[p]=r[p-1]+1,m=r[p],h=m-n+u-d;m<i&&h<c&&t[m]===e[h];)r[p]=++m,++h;if(v%2!=0&&v-f<=d&&d<=v+f&&o[p-v]<=r[p])return a(o[p-v],d+n-u,i,c)}for(d=v-f;d<=v+f;d+=2){for(p=d+b-v,d===v-f||d!==v+f&&o[p+1]<=o[p-1]?o[p]=o[p+1]-1:o[p]=o[p-1],m=o[p]-1,h=m-n+u-d;m>=n&&h>=u&&t[m]===e[h];)o[p]=m--,h--;if(v%2==0&&-f<=d&&d<=f&&o[p]<=r[p+v])return a(o[p],d+n-u,i,c)}}return null},c=[];return i(0,t.length,0,e.length,c),c}(ot(kt(e.childNodes),Cx),t),e),e},Ox=Kt((function(){return document.implementation.createHTMLDocument("undo")})),Sx=function(t){var e,n=(e=t.getBody(),ct(ot(kt(e.childNodes),Cx),(function(t){return t.length>0}))),r=ht(n,(function(e){var n=Wm(t.serializer,e);return n.length>0?[n]:[]})),o=r.join("");return function(t){return-1!==t.indexOf("</iframe>")}(o)?function(t){return{type:"fragmented",fragments:t,content:"",bookmark:null,beforeBookmark:null}}(r):function(t){return{type:"complete",fragments:null,content:t,bookmark:null,beforeBookmark:null}}(o)},Ex=function(t,e,n){var r=n?e.beforeBookmark:e.bookmark;"fragmented"===e.type?kx(e.fragments,t.getBody()):t.setContent(e.content,{format:"raw",no_selection:!M(r)||!Rf(r)||!r.isFakeCaret}),r&&(t.selection.moveToBookmark(r),t.selection.scrollIntoView())},Tx=function(t){return"fragmented"===t.type?t.fragments.join(""):t.content},Ax=function(t){var e=An("body",Ox());return Lr(e,Tx(t)),it(Kr(e,"*[data-mce-bogus]"),Pr),Br(e)},Nx=function(t,e){return!(!t||!e)&&(!!function(t,e){return Tx(t)===Tx(e)}(t,e)||function(t,e){return Ax(t)===Ax(e)}(t,e))},Rx=function(t){return 0===t.get()},Dx=function(t,e,n){Rx(n)&&(t.typing=e)},Px=function(t,e){t.typing&&(Dx(t,!1,e),t.add())},Mx=function(t){return{init:{bindEvents:j},undoManager:{beforeChange:function(e,n){return function(t,e,n){Rx(e)&&n.set(dc(t.selection))}(t,e,n)},add:function(e,n,r,o,i,a){return function(t,e,n,r,o,i,a){var u=Sx(t),c=Ge.extend(i||{},u);if(!Rx(r)||t.removed)return null;var s=e.data[n.get()];if(t.dispatch("BeforeAddUndo",{level:c,lastLevel:s,originalEvent:a}).isDefaultPrevented())return null;if(s&&Nx(s,c))return null;e.data[n.get()]&&o.get().each((function(t){e.data[n.get()].beforeBookmark=t}));var l=Rs(t);if(l&&e.data.length>l){for(var f=0;f<e.data.length-1;f++)e.data[f]=e.data[f+1];e.data.length--,n.set(e.data.length)}c.bookmark=dc(t.selection),n.get()<e.data.length-1&&(e.data.length=n.get()+1),e.data.push(c),n.set(e.data.length-1);var d={level:c,lastLevel:s,originalEvent:a};return n.get()>0?(t.setDirty(!0),t.dispatch("AddUndo",d),t.dispatch("change",d)):t.dispatch("AddUndo",d),c}(t,e,n,r,o,i,a)},undo:function(e,n,r){return function(t,e,n,r){var o;return e.typing&&(e.add(),e.typing=!1,Dx(e,!1,n)),r.get()>0&&(r.set(r.get()-1),o=e.data[r.get()],Ex(t,o,!0),t.setDirty(!0),t.dispatch("Undo",{level:o})),o}(t,e,n,r)},redo:function(e,n){return function(t,e,n){var r;return e.get()<n.length-1&&(e.set(e.get()+1),r=n[e.get()],Ex(t,r,!1),t.setDirty(!0),t.dispatch("Redo",{level:r})),r}(t,e,n)},clear:function(e,n){return function(t,e,n){e.data=[],n.set(0),e.typing=!1,t.dispatch("ClearUndos")}(t,e,n)},reset:function(t){return function(t){t.clear(),t.add()}(t)},hasUndo:function(e,n){return function(t,e,n){return n.get()>0||e.typing&&e.data[0]&&!Nx(Sx(t),e.data[0])}(t,e,n)},hasRedo:function(t,e){return function(t,e){return e.get()<t.data.length-1&&!t.typing}(t,e)},transact:function(t,e,n){return function(t,e,n){return Px(t,e),t.beforeChange(),t.ignore(n),t.add()}(t,e,n)},ignore:function(t,e){return function(t,e){try{t.set(t.get()+1),e()}finally{t.set(t.get()-1)}}(t,e)},extra:function(e,n,r,o){return function(t,e,n,r,o){if(e.transact(r)){var i=e.data[n.get()].bookmark,a=e.data[n.get()-1];Ex(t,a,!0),e.transact(o)&&(e.data[n.get()-1].beforeBookmark=i)}}(t,e,n,r,o)}},formatter:{match:function(e,n,r,o){return kg(t,e,n,r,o)},matchAll:function(e,n){return function(t,e,n){var r=[],o={},i=t.selection.getStart();return t.dom.getParent(i,(function(i){for(var a=0;a<e.length;a++){var u=e[a];!o[u]&&Cg(t,i,u,n)&&(o[u]=!0,r.push(u))}}),t.dom.getRoot()),r}(t,e,n)},matchNode:function(e,n,r,o){return Cg(t,e,n,r,o)},canApply:function(e){return function(t,e){var n=t.formatter.get(e),r=t.dom;if(n)for(var o=t.selection.getStart(),i=kd(r,o),a=n.length-1;a>=0;a--){var u=n[a];if(!Ed(u))return!0;for(var c=i.length-1;c>=0;c--)if(r.is(i[c],u.selector))return!0}return!1}(t,e)},closest:function(e){return function(t,e){var n=function(e){return Ln(e,Rn(t.getBody()))};return Z.from(t.selection.getStart(!0)).bind((function(r){return gg(Rn(r),(function(n){return Ot(e,(function(e){return function(e,n){return Cg(t,e.dom,n)?Z.some(n):Z.none()}(n,e)}))}),n)})).getOrNull()}(t,e)},apply:function(e,n,r){return xb(t,e,n,r)},remove:function(e,n,r,o){return vb(t,e,n,r,o)},toggle:function(e,n,r){return function(t,e,n,r){var o=t.formatter.get(e);o&&(!kg(t,e,n,r)||"toggle"in o[0]&&!o[0].toggle?xb(t,e,n,r):vb(t,e,n,r))}(t,e,n,r)},formatChanged:function(e,n,r,o,i){return function(t,e,n,r,o,i){return function(t,e,n,r,o,i){var a=e.get();it(n.split(","),(function(e){var n=Lt(a,e).getOrThunk((function(){var t={withSimilar:{state:Ha(!1),similar:!0,callbacks:[]},withoutSimilar:{state:Ha(!1),similar:!1,callbacks:[]},withVars:[]};return a[e]=t,t})),u=function(){var n=kb(t);return Cb(t,n,e,o,i).isSome()};if(D(i)){var c=o?n.withSimilar:n.withoutSimilar;c.callbacks.push(r),1===c.callbacks.length&&c.state.set(u())}else n.withVars.push({state:Ha(u()),similar:o,vars:i,callback:r})})),e.set(a)}(t,e,n,r,o,i),{unbind:function(){return function(t,e,n){var r=t.get();it(e.split(","),(function(t){return Lt(r,t).each((function(e){r[t]={withSimilar:s(s({},e.withSimilar),{},{callbacks:ct(e.withSimilar.callbacks,(function(t){return t!==n}))}),withoutSimilar:s(s({},e.withoutSimilar),{},{callbacks:ct(e.withoutSimilar.callbacks,(function(t){return t!==n}))}),withVars:ct(e.withVars,(function(t){return t.callback!==n}))}}))})),t.set(r)}(e,n,r)}}}(t,e,n,r,o,i)}},editor:{getContent:function(e){return function(t,e){return Z.from(t.getBody()).fold(z("tree"===e.format?new Um("body",11):""),(function(n){return Ym(t,e,n)}))}(t,e)},setContent:function(e,n){return function(t,e,n){return Z.from(t.getBody()).map((function(r){return pg(e)?function(t,e,n,r){Xv(t.parser.getNodeFilters(),t.parser.getAttributeFilters(),n);var o=Jm({validate:!1},t.schema).serialize(n),i=Fo(Rn(e))?o:Ge.trim(o);return mg(t,i,r.no_selection),{content:n,html:i}}(t,r,e,n):function(t,e,n,r){if(0===n.length||/^\s+$/.test(n)){var o='<br data-mce-bogus="1">';"TABLE"===e.nodeName?n="<tr><td>"+o+"</td></tr>":/^(UL|OL)$/.test(e.nodeName)&&(n="<li>"+o+"</li>");var i=jc(t);return t.schema.isValidChild(e.nodeName.toLowerCase(),i.toLowerCase())?(n=o,n=t.dom.createHTML(i,Fc(t),n)):n||(n=o),mg(t,n,r.no_selection),{content:n,html:n}}"raw"!==r.format&&(n=Jm({validate:!1},t.schema).serialize(t.parser.parse(n,{isRootContent:!0,insert:!0})));var a=Fo(Rn(e))?n:Ge.trim(n);return mg(t,a,r.no_selection),{content:a,html:a}}(t,r,e,n)})).getOr({content:e,html:pg(n.content)?"":n.content})}(t,e,n)},insertContent:function(e,n){return dg(t,e,n)},addVisual:function(e){return function(t,e){var n=t.dom,r=M(e)?e:t.getBody();it(n.select("table,a",r),(function(e){switch(e.nodeName){case"TABLE":var r=Fs(t),o=n.getAttrib(e,"border");o&&"0"!==o||!t.hasVisual?n.removeClass(e,r):n.addClass(e,r);break;case"A":if(!n.getAttrib(e,"href")){var i=n.getAttrib(e,"name")||e.id,a=qs(t);i&&t.hasVisual?n.addClass(e,a):n.removeClass(e,a)}}})),t.dispatch("VisualAid",{element:e,hasVisual:t.hasVisual})}(t,e)}},selection:{getContent:function(e,n){return function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=function(t,e){return s(s({},t),{},{format:e,get:!0,selection:!0,getInner:!0})}(n,e);return ox(t,r).fold(U,(function(e){var n=function(t,e){if("text"===e.format)return function(t){return Z.from(t.selection.getRng()).map((function(e){var n,r=Z.from(t.dom.getParent(e.commonAncestorContainer,t.dom.isBlock)),o=t.getBody(),i=function(t){return t.map((function(t){return t.nodeName})).getOr("div").toLowerCase()}(r),a=Rn(e.cloneContents());Gm(a),Km(a);var u=t.dom.add(o,i,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},a.dom),c=_x(u),s=Go(null!==(n=u.textContent)&&void 0!==n?n:"");if(t.dom.remove(u),wx(s,0)||wx(s,s.length-1)){var l=r.getOr(o),f=_x(l),d=f.indexOf(c);return-1===d?c:(wx(f,d-1)?" ":"")+c+(wx(f,d+c.length)?" ":"")}return c})).getOr("")}(t);var n=function(t,e){var n=t.selection.getRng(),r=t.dom.create("body"),o=t.selection.getSel(),i=Dm(t,Jf(o)),a=e.contextual?xx(Rn(t.getBody()),i).dom:n.cloneContents();return a&&r.appendChild(a),t.selection.serializer.serialize(r,e)}(t,e);return"tree"===e.format?n:t.selection.isCollapsed()?"":n}(t,e);return ix(t,n,e)}))}(t,e,n)}},autocompleter:{addDecoration:function(e){return Lm(t,e)},removeDecoration:function(){return function(t,e){return Im(e).each((function(e){var n=t.selection.getBookmark();Pr(e),t.selection.moveToBookmark(n)}))}(t,Rn(t.getBody()))}},raw:{getModel:function(){return Z.none()}}}},Bx=function(t){return It(t.plugins,"rtc")},Lx=function(t){return t.rtcInstance?t.rtcInstance:Mx(t)},Ix=function(t){var e=t.rtcInstance;if(e)return e;throw new Error("Failed to get RTC instance not yet initialized.")},jx=function(t){return Ix(t).init.bindEvents()},Fx=function(t){return 0===t.dom.length?(Dr(t),Z.none()):Z.some(t)},qx=function(t,e,n,r){t.bind((function(t){return(r?Xh:Yh)(t.dom,r?t.dom.length:0),e.filter(an).map((function(e){return function(t,e,n,r){var o=t.dom,i=e.dom,a=r?o.length:i.length;r?(Zh(o,i,!1,!r),n.setStart(i,a)):(Zh(i,o,!1,!r),n.setEnd(i,a))}(t,e,n,r)}))})).orThunk((function(){var t=function(t,e){return t.filter((function(t){return Zd.isBookmarkNode(t.dom)})).bind(e?Wn:Vn)}(e,r).or(e).filter(an);return t.map((function(t){return function(t,e){zn(t).each((function(n){var r=t.dom;e&&qh(n,Wu(r,0))?Yh(r,0):!e&&zh(n,Wu(r,r.length))&&Xh(r,r.length)}))}(t,r)}))}))},zx=function(t,e,n){if(It(t,e)){var r=ct(t[e],(function(t){return t!==n}));0===r.length?delete t[e]:t[e]=r}},Ux=function(t){return!(!t||!t.ownerDocument)&&In(Rn(t.ownerDocument),Rn(t))},Hx=function(t,e,n,r){var o,i,a=function(t,e){var n,r,o=function(e,n){return dt(n,(function(n){return t.is(n,e)}))},i=function(e){return t.getParents(e,void 0,t.getRoot())};return{selectorChangedWithUnbind:function(t,a){return n||(n={},r={},e.on("NodeChange",(function(t){var e=t.element,a=i(e),u={};Tt(n,(function(t,e){o(e,a).each((function(n){r[e]||(it(t,(function(t){t(!0,{node:n,selector:e,parents:a})})),r[e]=t),u[e]=t}))})),Tt(r,(function(t,n){u[n]||(delete r[n],it(t,(function(t){t(!1,{node:e,selector:n,parents:a})})))}))}))),n[t]||(n[t]=[]),n[t].push(a),o(t,i(e.selection.getStart())).each((function(){r[t]=n[t]})),{unbind:function(){zx(n,t,a),zx(r,t,a)}}}}}(t,r),u=a.selectorChangedWithUnbind,c=function(t,e){return function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=function(t,e){return s(s({format:"html"},t),{},{set:!0,selection:!0,content:e})}(n,e);ax(t,r).each((function(e){var n=function(t,e){if("raw"!==e.format){var n=t.selection.getRng(),r=t.dom.getParent(n.commonAncestorContainer,t.dom.isBlock),o=r?{context:r.nodeName.toLowerCase()}:{},i=t.parser.parse(e.content,s(s({forced_root_block:!1},o),e));return Jm({validate:!1},t.schema).serialize(i)}return e.content}(t,e),r=t.selection.getRng();(function(t,e){var n=Z.from(e.firstChild).map(Rn),r=Z.from(e.lastChild).map(Rn);t.deleteContents(),t.insertNode(e);var o=n.bind(Vn).filter(an).bind(Fx),i=r.bind(Wn).filter(an).bind(Fx);qx(o,n,t,!0),qx(i,r,t,!1),t.collapse(!1)})(r,r.createContextualFragment(n)),t.selection.setRng(r),om(t,r),ux(t,n,e)}))}(r,t,e)},l=function(t){var e=d();e.collapse(!!t),p(e)},f=function(){return e.getSelection?e.getSelection():e.document.selection},d=function(){var n,a=function(t,e,n){try{return e.compareBoundaryPoints(t,n)}catch(t){return-1}},u=e.document;if(M(r.bookmark)&&!Sm(r)){var c=hm(r);if(c.isSome())return c.map((function(t){return Dm(r,[t])[0]})).getOr(u.createRange())}try{var s=f();s&&!Jr(s.anchorNode)&&(n=s.rangeCount>0?s.getRangeAt(0):u.createRange(),n=Dm(r,[n])[0])}catch(t){}if(n||(n=u.createRange()),po(n.startContainer)&&n.collapsed){var l=t.getRoot();n.setStart(l,0),n.setEnd(l,0)}return o&&i&&(0===a(n.START_TO_START,n,o)&&0===a(n.END_TO_END,n,o)?n=i:(o=null,i=null)),n},p=function(t,e){if(function(t){return!!t&&Ux(t.startContainer)&&Ux(t.endContainer)}(t)){var n=f();if(t=r.dispatch("SetSelectionRange",{range:t,forward:e}).range,n){i=t;try{n.removeAllRanges(),n.addRange(t)}catch(t){}!1===e&&n.extend&&(n.collapse(t.endContainer,t.endOffset),n.extend(t.startContainer,t.startOffset)),o=n.rangeCount>0?n.getRangeAt(0):null}if(!t.collapsed&&t.startContainer===t.endContainer&&(null==n?void 0:n.setBaseAndExtent)&&t.endOffset-t.startOffset<2&&t.startContainer.hasChildNodes()){var a=t.startContainer.childNodes[t.startOffset];a&&"IMG"===a.nodeName&&(n.setBaseAndExtent(t.startContainer,t.startOffset,t.endContainer,t.endOffset),n.anchorNode===t.startContainer&&n.focusNode===t.endContainer||n.setBaseAndExtent(a,0,a,1))}r.dispatch("AfterSetSelectionRange",{range:t,forward:e})}},m=function(){var e=f(),n=null==e?void 0:e.anchorNode,r=null==e?void 0:e.focusNode;if(!e||!n||!r||Jr(n)||Jr(r))return!0;var o=t.createRng(),i=t.createRng();try{o.setStart(n,e.anchorOffset),o.collapse(!0),i.setStart(r,e.focusOffset),i.collapse(!0)}catch(t){return!0}return o.compareBoundaryPoints(o.START_TO_START,i)<=0},h={dom:t,win:e,serializer:n,editor:r,expand:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"word"};return p(Ip(t).expand(d(),e))},collapse:l,setCursorLocation:function(e,n){var o=t.createRng();M(e)&&M(n)?(o.setStart(e,n),o.setEnd(e,n),p(o),l(!1)):(id(t,o,r.getBody(),!0),p(o))},getContent:function(t){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(t,e,n){return Ix(t).selection.getContent(e,n)}(t,e.format?e.format:"html",e)}(r,t)},setContent:c,getBookmark:function(t,e){return v.getBookmark(t,e)},moveToBookmark:function(t){return v.moveToBookmark(t)},select:function(e,n){return function(t,e,n){return Z.from(e).bind((function(e){return Z.from(e.parentNode).map((function(r){var o=t.nodeIndex(e),i=t.createRng();return i.setStart(r,o),i.setEnd(r,o+1),n&&(id(t,i,e,!0),id(t,i,e,!1)),i}))}))}(t,e,n).each(p),e},isCollapsed:function(){var t=d(),e=f();return!(!t||t.item)&&(t.compareEndPoints?0===t.compareEndPoints("StartToEnd",t):!e||t.collapsed)},isEditable:function(){var e=d(),n=r.getBody().querySelectorAll('[data-mce-selected="1"]');return n.length>0?vt(n,(function(e){return t.isEditable(e.parentElement)})):e.startContainer===e.endContainer?t.isEditable(e.startContainer):t.isEditable(e.startContainer)&&t.isEditable(e.endContainer)},isForward:m,setNode:function(e){return c(t.getOuterHTML(e)),e},getNode:function(){return function(t,e){if(!e)return t;var n=e.startContainer,r=e.endContainer,o=e.startOffset,i=e.endOffset,a=e.commonAncestorContainer;e.collapsed||(n===r&&i-o<2&&n.hasChildNodes()&&(a=n.childNodes[o]),co(n)&&co(r)&&(n=n.length===o?Rm(n.nextSibling,!0):n.parentNode,r=0===i?Rm(r.previousSibling,!1):r.parentNode,n&&n===r&&(a=n)));var u=co(a)?a.parentNode:a;return Qr(u)?u:t}(r.getBody(),d())},getSel:f,setRng:p,getRng:d,getStart:function(t){return Am(r.getBody(),d(),t)},getEnd:function(t){return Nm(r.getBody(),d(),t)},getSelectedBlocks:function(e,n){return function(t,e,n,r){var o=[],i=t.getRoot(),a=t.getParent(n||Am(i,e,e.collapsed),t.isBlock),u=t.getParent(r||Nm(i,e,e.collapsed),t.isBlock);if(a&&a!==i&&o.push(a),a&&u&&a!==u)for(var c,s=new Xr(a,i);(c=s.next())&&c!==u;)t.isBlock(c)&&o.push(c);return u&&a!==u&&u!==i&&o.push(u),o}(t,d(),e,n)},normalize:function(){var e=d(),n=f();if(!(Jf(n).length>1)&&ad(r)){var o=Mp(t,e);return o.each((function(t){p(t,m())})),o.getOr(e)}return e},selectorChanged:function(t,e){return u(t,e),h},selectorChangedWithUnbind:u,getScrollContainer:function(){for(var e,n=t.getRoot();n&&"BODY"!==n.nodeName;){if(n.scrollHeight>n.clientHeight){e=n;break}n=n.parentNode}return e},scrollIntoView:function(t,e){M(t)?function(t,e,n){(t.inline?em:rm)(t,e,n)}(r,t,e):om(r,d(),e)},placeCaretAt:function(t,e){return p(Sp(t,e,r.getDoc()))},getBoundingClientRect:function(){var t=d();return t.collapsed?Wu.fromRangeStart(t).getClientRects()[0]:t.getBoundingClientRect()},destroy:function(){e=o=i=null,g.destroy()}},v=Zd(h),g=lp(h,r);return h.bookmarkManager=v,h.controlSelection=g,h},Vx=function(t,e,n){-1===Ge.inArray(e,n)&&(t.addAttributeFilter(n,(function(t,e){for(var n=t.length;n--;)t[n].attr(e,null)})),e.push(n))},Wx=function(t,e){var n=["data-mce-selected"],r=e&&e.dom?e.dom:qa.DOM,o=e&&e.schema?e.schema:xa(t);t.entity_encoding=t.entity_encoding||"named",t.remove_trailing_brs=!("remove_trailing_brs"in t)||t.remove_trailing_brs;var i=nx(t,o);return function(t,e,n){t.addAttributeFilter("data-mce-tabindex",(function(t,e){for(var n=t.length;n--;){var r=t[n];r.attr("tabindex",r.attr("data-mce-tabindex")),r.attr(e,null)}})),t.addAttributeFilter("src,href,style",(function(t,r){for(var o="data-mce-"+r,i=e.url_converter,a=e.url_converter_scope,u=t.length;u--;){var c=t[u],s=c.attr(o);void 0!==s?(c.attr(r,s.length>0?s:null),c.attr(o,null)):(s=c.attr(r),"style"===r?s=n.serializeStyle(n.parseStyle(s),c.name):i&&(s=i.call(a,s,r,c.name)),c.attr(r,s.length>0?s:null))}})),t.addAttributeFilter("class",(function(t){for(var e=t.length;e--;){var n=t[e],r=n.attr("class");r&&(r=r.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),n.attr("class",r.length>0?r:null))}})),t.addAttributeFilter("data-mce-type",(function(t,e,n){for(var r=t.length;r--;){var o=t[r];if("bookmark"===o.attr("data-mce-type")&&!n.cleanup){var i=Z.from(o.firstChild).exists((function(t){var e;return!$o(null!==(e=t.value)&&void 0!==e?e:"")}));i?o.unwrap():o.remove()}}})),t.addNodeFilter("noscript",(function(t){for(var e,n=t.length;n--;){var r=t[n].firstChild;r&&(r.value=ua.decode(null!==(e=r.value)&&void 0!==e?e:""))}})),t.addNodeFilter("script,style",(function(t,n){for(var r,o=function(t){return t.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")},i=t.length;i--;){var a=t[i],u=a.firstChild,c=null!==(r=null==u?void 0:u.value)&&void 0!==r?r:"";if("script"===n){var s=a.attr("type");s&&a.attr("type","mce-no/type"===s?null:s.replace(/^mce\-/,"")),"xhtml"===e.element_format&&u&&c.length>0&&(u.value="// <![CDATA[\n"+o(c)+"\n// ]]>")}else"xhtml"===e.element_format&&u&&c.length>0&&(u.value="\x3c!--\n"+o(c)+"\n--\x3e")}})),t.addNodeFilter("#comment",(function(t){for(var r=t.length;r--;){var o=t[r],i=o.value;e.preserve_cdata&&0===(null==i?void 0:i.indexOf("[CDATA["))?(o.name="#cdata",o.type=4,o.value=n.decode(i.replace(/^\[CDATA\[|\]\]$/g,""))):0===(null==i?void 0:i.indexOf("mce:protected "))&&(o.name="#text",o.type=3,o.raw=!0,o.value=unescape(i).substr(14))}})),t.addNodeFilter("xml:namespace,input",(function(t,e){for(var n=t.length;n--;){var r=t[n];7===r.type?r.remove():1===r.type&&("input"!==e||r.attr("type")||r.attr("type","text"))}})),t.addAttributeFilter("data-mce-type",(function(e){it(e,(function(e){"format-caret"===e.attr("data-mce-type")&&(e.isEmpty(t.schema.getNonEmptyElements())?e.remove():e.unwrap())}))})),t.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(function(t,e){for(var n=t.length;n--;)t[n].attr(e,null)}))}(i,t,r),{schema:o,addNodeFilter:i.addNodeFilter,addAttributeFilter:i.addAttributeFilter,serialize:function(n){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=s({format:"html"},a),c=function(t,e,n){return function(t,e){return M(t)&&t.hasEventListeners("PreProcess")&&!e.no_events}(t,n)?function(t,e,n){var r,o=t.dom,i=e.cloneNode(!0),a=document.implementation;if(a.createHTMLDocument){var u=a.createHTMLDocument("");Ge.each("BODY"===i.nodeName?i.childNodes:[i],(function(t){u.body.appendChild(u.importNode(t,!0))})),i="BODY"!==i.nodeName?u.body.firstChild:u.body,r=o.doc,o.doc=u}return function(t,e){t.dispatch("PreProcess",e)}(t,s(s({},n),{},{node:i})),r&&(o.doc=r),i}(t,e,n):e}(e,n,u),l=function(t,e,n){var r=Go(n.getInner?e.innerHTML:t.getOuterHTML(e));return n.selection||Fo(Rn(e))?r:Ge.trim(r)}(r,c,u),f=function(t,e,n){var r=n.selection?s({forced_root_block:!1},n):n,o=t.parse(e,r);return function(t){var e=function(t){return"br"===(null==t?void 0:t.name)},n=t.lastChild;if(e(n)){var r=n.prev;e(r)&&(n.remove(),r.remove())}}(o),o}(i,l,u);return"tree"===u.format?f:function(t,e,n,r,o){var i=function(t,e,n){return Jm(t,e).serialize(n)}(e,n,r);return function(t,e,n){if(!e.no_events&&t){var r=function(t,e){return t.dispatch("PostProcess",e)}(t,s(s({},e),{},{content:n}));return r.content}return n}(t,o,i)}(e,t,o,f,u)},addRules:o.addValidElements,setRules:o.setValidElements,addTempAttr:V(Vx,i,n),getTempAttrs:z(n),getNodeFilters:i.getNodeFilters,getAttributeFilters:i.getAttributeFilters,removeNodeFilter:i.removeNodeFilter,removeAttributeFilter:i.removeAttributeFilter}},$x=function(t,e){var n=Wx(t,e);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs,getNodeFilters:n.getNodeFilters,getAttributeFilters:n.getAttributeFilters,removeNodeFilter:n.removeNodeFilter,removeAttributeFilter:n.removeAttributeFilter}},Gx=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=function(t,e){return s(s({format:"html"},t),{},{set:!0,content:e})}(n,e);return ax(t,r).map((function(e){var n=function(t,e,n){return Lx(t).editor.setContent(e,n)}(t,e.content,e);return ux(t,n.html,e),n.content})).getOr(e)},Kx="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),Yx="template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),Xx="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),Zx=[{name:"template",replacedWith:"Advanced Template"}],Jx=function(t,e){var n=ct(e,(function(e){return It(t,e)}));return xt(n)},Qx=function(t){var e=Jx(t,Kx),n=t.forced_root_block;return!1!==n&&""!==n||e.push("forced_root_block (false only)"),xt(e)},tw=function(t){return Jx(t,Yx)},ew=function(t,e){var n=Ge.makeMap(t.plugins," "),r=ct(e,(function(t){return It(n,t)}));return xt(r)},nw=function(t){return ew(t,Xx)},rw=function(t){return ew(t,Zx.map((function(t){return t.name})))},ow=function(t){return dt(Zx,(function(e){return e.name===t})).fold((function(){return t}),(function(e){return"".concat(t,", replaced by ").concat(e.replacedWith)}))},iw=qa.DOM,aw=function(t){return Z.from(t).each((function(t){return t.destroy()}))},uw=function(){var t={};return{add:function(e,n){t[e]=n},get:function(e){return t[e]?t[e]:{icons:{}}},has:function(e){return It(t,e)}}}(),cw=Ka.ModelManager,sw=function(t,e){return e.dom[t]},lw=function(t,e){return parseInt(xr(e,t),10)},fw=V(sw,"clientWidth"),dw=V(sw,"clientHeight"),pw=V(lw,"margin-top"),mw=V(lw,"margin-left"),hw=function(t){var e=[],n=function(){var e=t.theme;return e&&e.getNotificationManagerImpl?e.getNotificationManagerImpl():function(){var t=function(){throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:t,close:t,getArgs:t}}()},r=function(){return Z.from(e[0])},o=function(){it(e,(function(t){t.reposition()}))},i=function(t){pt(e,(function(e){return e===t})).each((function(t){e.splice(t,1)}))},a=function(a){var u=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t.removed||!function(t){return(e=t.inline?t.getBody():t.getContentAreaContainer(),Z.from(e).map(Rn)).map(ur).getOr(!1);var e}(t)?{}:(u&&t.dispatch("BeforeOpenNotification",{notification:a}),dt(e,(function(t){return e=n().getArgs(t),r=a,!(e.type!==r.type||e.text!==r.text||e.progressBar||e.timeout||r.progressBar||r.timeout);var e,r})).getOrThunk((function(){t.editorManager.setActive(t);var u=n().open(a,(function(){i(u),o(),r().fold((function(){return t.focus()}),(function(t){return im(Rn(t.getEl()))}))}));return function(t){e.push(t)}(u),o(),t.dispatch("OpenNotification",{notification:s({},u)}),u})))},u=z(e);return function(t){t.on("SkinLoaded",(function(){var e=hs(t);e&&a({text:e,type:"warning",timeout:0},!1),o()})),t.on("show ResizeEditor ResizeWindow NodeChange",(function(){requestAnimationFrame(o)})),t.on("remove",(function(){it(e.slice(),(function(t){n().close(t)}))}))}(t),{open:a,close:function(){r().each((function(t){n().close(t),i(t),o()}))},getNotifications:u}},vw=Ka.PluginManager,gw=Ka.ThemeManager,bw=function(t){var e=[],n=function(){var e=t.theme;return e&&e.getWindowManagerImpl?e.getWindowManagerImpl():function(){var t=function(){throw new Error("Theme did not provide a WindowManager implementation.")};return{open:t,openUrl:t,alert:t,confirm:t,close:t}}()},r=function(t,e){return function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e?e.apply(t,r):void 0}},o=function(n){(function(e){t.dispatch("CloseWindow",{dialog:e})})(n),e=ct(e,(function(t){return t!==n})),0===e.length&&t.focus()},i=function(n){t.editorManager.setActive(t),mm(t),t.ui.show();var r=n();return function(n){e.push(n),function(e){t.dispatch("OpenWindow",{dialog:e})}(n)}(r),r};return t.on("remove",(function(){it(e,(function(t){n().close(t)}))})),{open:function(t,e){return i((function(){return n().open(t,e,o)}))},openUrl:function(t){return i((function(){return n().openUrl(t,o)}))},alert:function(t,e,o){var i=n();i.alert(t,r(o||i,e))},confirm:function(t,e,o){var i=n();i.confirm(t,r(o||i,e))},close:function(){Z.from(e[e.length-1]).each((function(t){n().close(t),o(t)}))}}},yw=function(t,e){t.notificationManager.open({type:"error",text:e})},xw=function(t,e){t._skinLoaded?yw(t,e):t.on("SkinLoaded",(function(){yw(t,e)}))},ww=function(t,e,n){Qd(t,e,{message:n}),console.error(n)},_w=function(t,e,n){return n?"Failed to load ".concat(t,": ").concat(n," from url ").concat(e):"Failed to load ".concat(t," url: ").concat(e)},Cw=function(t){for(var e=window.console,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];e&&(e.error?e.error.apply(e,[t].concat(r)):e.log.apply(e,[t].concat(r)))},kw=function(t,e){var n=t.editorManager.baseURL+"/skins/content",r="content".concat(t.editorManager.suffix,".css");return ot(e,(function(e){return function(t){return/^[a-z0-9\-]+$/i.test(t)}(e)&&!t.inline?"".concat(n,"/").concat(e,"/").concat(r):t.documentBaseURI.toAbsolute(e)}))},Ow=function(t,e){var n={};return{findAll:function(r){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:X,i=ct(function(t){return t?kt(t.getElementsByTagName("img")):[]}(r),(function(e){var n=e.src;return!e.hasAttribute("data-mce-bogus")&&!e.hasAttribute("data-mce-placeholder")&&!(!n||n===He.transparentSrc)&&(ne(n,"blob:")?!t.isUploaded(n)&&o(e):!!ne(n,"data:")&&o(e))})),a=ot(i,(function(t){var r=t.src;if(It(n,r))return n[r].then((function(e){return S(e)?e:{image:t,blobInfo:e.blobInfo}}));var o=function(t,e){var n,r,o=function(){return Promise.reject("Invalid data URI")};if(ne(e,"blob:")){var i=t.getByUri(e);return M(i)?Promise.resolve(i):(n=e,ne(n,"blob:")?function(t){return fetch(t).then((function(t){return t.ok?t.blob():Promise.reject()})).catch((function(){return Promise.reject({message:"Cannot convert ".concat(t," to Blob. Resource might not exist or is inaccessible."),uriType:"blob"})}))}(n):ne(n,"data:")?(r=n,new Promise((function(t,e){Ab(r).bind((function(t){var e=t.type,n=t.data,r=t.base64Encoded;return Nb(e,n,r)})).fold((function(){return e("Invalid data URI")}),t)}))):Promise.reject("Unknown URI format")).then((function(e){return Rb(e).then((function(n){return Pb(n,!1,(function(n){return Z.some(Mb(t,e,n))})).getOrThunk(o)}))}))}return ne(e,"data:")?Bb(t,e).fold(o,(function(t){return Promise.resolve(t)})):Promise.reject("Unknown image data format")}(e,r).then((function(e){return delete n[r],{image:t,blobInfo:e}})).catch((function(t){return delete n[r],t}));return n[r]=o,o}));return Promise.all(a)}}},Sw=function(){var t={},e=function(t,e){return{status:t,resultUri:e}},n=function(e){return e in t};return{hasBlobUri:n,getResultUri:function(e){var n=t[e];return n?n.resultUri:null},isPending:function(e){return!!n(e)&&1===t[e].status},isUploaded:function(e){return!!n(e)&&2===t[e].status},markPending:function(n){t[n]=e(1,null)},markUploaded:function(n,r){t[n]=e(2,r)},removeFailed:function(e){delete t[e]},destroy:function(){t={}}}},Ew=0,Tw=function(t,e){var n={},r=function(t,n){return new Promise((function(r,o){var i=new XMLHttpRequest;i.open("POST",e.url),i.withCredentials=e.credentials,i.upload.onprogress=function(t){n(t.loaded/t.total*100)},i.onerror=function(){o("Image upload failed due to a XHR Transport error. Code: "+i.status)},i.onload=function(){if(i.status<200||i.status>=300)o("HTTP Error: "+i.status);else{var t,n,a=JSON.parse(i.responseText);a&&S(a.location)?r((t=e.basePath,n=a.location,t?t.replace(/\/$/,"")+"/"+n.replace(/^\//,""):n)):o("Invalid JSON: "+i.responseText)}};var a=new FormData;a.append("file",t.blob(),t.filename()),i.send(a)}))},o=B(e.handler)?e.handler:r,i=function(t,e){return{url:e,blobInfo:t,status:!0}},a=function(t,e){return{url:"",blobInfo:t,status:!1,error:e}},u=function(t,e){Ge.each(n[t],(function(t){t(e)})),delete n[t]};return{upload:function(c,s){return e.url||o!==r?function(e,r){return e=Ge.grep(e,(function(e){return!t.isUploaded(e.blobUri())})),Promise.all(Ge.map(e,(function(e){return t.isPending(e.blobUri())?function(t){var e=t.blobUri();return new Promise((function(t){n[e]=n[e]||[],n[e].push(t)}))}(e):function(e,n,r){return t.markPending(e.blobUri()),new Promise((function(o){var c,s;try{var l=function(){c&&(c.close(),s=j)},f=function(n){l(),t.markUploaded(e.blobUri(),n),u(e.blobUri(),i(e,n)),o(i(e,n))},d=function(n){l(),t.removeFailed(e.blobUri()),u(e.blobUri(),a(e,n)),o(a(e,n))};s=function(t){t<0||t>100||Z.from(c).orThunk((function(){return Z.from(r).map(G)})).each((function(e){c=e,e.progressBar.value(t)}))},n(e,s).then(f,(function(t){d(S(t)?{message:t}:t)}))}catch(t){o(a(e,t))}}))}(e,o,r)})))}(c,s):new Promise((function(t){t([])}))}}},Aw=function(t){return function(){return t.notificationManager.open({text:t.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})}},Nw=function(t,e){return Tw(e,{url:Xc(t),basePath:Zc(t),credentials:Jc(t),handler:Qc(t)})},Rw=function(t){var e,n,r=function(){var t=[],e=function(t){if(!t.blob||!t.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");var e,n=t.id||"blobid"+Ew+++function(){var t=function(){return Math.round(4294967295*Math.random()).toString(36)};return"s"+(new Date).getTime().toString(36)+t()+t()+t()}(),r=t.name||n,o=t.blob;return{id:z(n),name:z(r),filename:z(t.filename||r+"."+(e=o.type,{"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"}[e.toLowerCase()]||"dat")),blob:z(o),base64:z(t.base64),blobUri:z(t.blobUri||URL.createObjectURL(o)),uri:z(t.uri)}},n=function(e){return dt(t,e).getOrUndefined()},r=function(t){return n((function(e){return e.id()===t}))};return{create:function(t,n,r,o,i){if(S(t))return e({id:t,name:o,filename:i,blob:n,base64:r});if(E(t))return e(t);throw new Error("Unknown input type")},add:function(e){r(e.id())||t.push(e)},get:r,getByUri:function(t){return n((function(e){return e.blobUri()===t}))},getByData:function(t,e){return n((function(n){return n.base64()===t&&n.blob().type===e}))},findFirst:n,removeByUri:function(e){t=ct(t,(function(t){return t.blobUri()!==e||(URL.revokeObjectURL(t.blobUri()),!1)}))},destroy:function(){it(t,(function(t){URL.revokeObjectURL(t.blobUri())})),t=[]}}}(),o=Sw(),i=[],a=function(e){return function(n){return t.selection?e(n):[]}},u=function(t,e,n){var r=0;do{r=t.indexOf(e,r),-1!==r&&(t=t.substring(0,r)+n+t.substr(r+e.length),r+=n.length-e.length+1)}while(-1!==r);return t},c=function(t,e,n){var r='src="'.concat(n,'"').concat(n===He.transparentSrc?' data-mce-placeholder="1"':"");return t=u(t,'src="'.concat(e,'"'),r),u(t,'data-mce-src="'+e+'"','data-mce-src="'+n+'"')},s=function(e,n){it(t.undoManager.data,(function(t){"fragmented"===t.type?t.fragments=ot(t.fragments,(function(t){return c(t,e,n)})):t.content=c(t.content,e,n)}))},l=function(){return e||(e=Nw(t,o)),p().then(a((function(n){var o=ot(n,(function(t){return t.blobInfo}));return e.upload(o,Aw(t)).then(a((function(e){var o=[],i=!1,a=ot(e,(function(e,a){var u=n[a],c=u.blobInfo,l=u.image,f=!1;return e.status&&Gc(t)?(e.url&&!ee(l.src,e.url)&&(i=!0),r.removeByUri(l.src),Bx(t)||function(e,n){var r,o=t.convertURL(n,"src");s(e.src,n),dn(Rn(e),{src:$c(t)?(r=n,r+(-1===r.indexOf("?")?"?":"&")+(new Date).getTime()):n,"data-mce-src":o})}(l,e.url)):e.error&&(e.error.remove&&(s(l.src,He.transparentSrc),o.push(l),f=!0),function(t,e){xw(t,Ga.translate(["Failed to upload image: {0}",e]))}(t,e.error.message)),{element:l,status:e.status,uploadUri:e.url,blobInfo:c,removed:f}}));return o.length>0&&!Bx(t)?t.undoManager.transact((function(){it(o,(function(e){t.dom.remove(e),r.removeByUri(e.src)}))})):i&&t.undoManager.dispatchChange(),a})))})))},f=function(){return Wc(t)?l():Promise.resolve([])},d=function(t){return vt(i,(function(e){return e(t)}))},p=function(){return n||(n=Ow(o,r)),n.findAll(t.getBody(),d).then(a((function(e){var n=ct(e,(function(e){return S(e)?(xw(t,e),!1):"blob"!==e.uriType}));return Bx(t)||it(n,(function(t){s(t.image.src,t.blobInfo.blobUri()),t.image.src=t.blobInfo.blobUri(),t.image.removeAttribute("data-mce-src")})),n})))},m=function(e){return e.replace(/src="(blob:[^"]+)"/g,(function(e,n){var i=o.getResultUri(n);if(i)return'src="'+i+'"';var a=r.getByUri(n);return a||(a=lt(t.editorManager.get(),(function(t,e){return t||e.editorUpload&&e.editorUpload.blobCache.getByUri(n)}),void 0)),a?'src="data:'+a.blob().type+";base64,"+a.base64()+'"':e}))};return t.on("SetContent",(function(){Wc(t)?f():p()})),t.on("RawSaveContent",(function(t){t.content=m(t.content)})),t.on("GetContent",(function(t){t.source_view||"raw"===t.format||"tree"===t.format||(t.content=m(t.content))})),t.on("PostRender",(function(){t.parser.addNodeFilter("img",(function(t){it(t,(function(t){var e=t.attr("src");if(e&&!r.getByUri(e)){var n=o.getResultUri(e);n&&t.attr("src",n)}}))}))})),{blobCache:r,addFilter:function(t){i.push(t)},uploadImages:l,uploadImagesAuto:f,scanForImages:p,destroy:function(){r.destroy(),o.destroy(),n=e=null}}},Dw={remove_similar:!0,inherit:!1},Pw=s({selector:"td,th"},Dw),Mw={tablecellbackgroundcolor:s({styles:{backgroundColor:"%value"}},Pw),tablecellverticalalign:s({styles:{"vertical-align":"%value"}},Pw),tablecellbordercolor:s({styles:{borderColor:"%value"}},Pw),tablecellclass:s({classes:["%value"]},Pw),tableclass:s({selector:"table",classes:["%value"]},Dw),tablecellborderstyle:s({styles:{borderStyle:"%value"}},Pw),tablecellborderwidth:s({styles:{borderWidth:"%value"}},Pw)},Bw=z(Mw),Lw=Ge.each,Iw=qa.DOM,jw=function(t){return M(t)&&E(t)},Fw=function(t,e){var n=e&&e.schema||xa({}),r=function(t){var e=S(t)?{name:t,classes:[],attrs:{}}:t,n=Iw.create(e.name);return function(t,e){e.classes.length>0&&Iw.addClass(t,e.classes.join(" ")),Iw.setAttribs(t,e.attrs)}(n,e),n},o=function t(e,o,i){var a,u=o[0],c=jw(u)?u.name:void 0,s=function(t,e){var r=n.getElementRule(t.nodeName.toLowerCase()),o=null==r?void 0:r.parentsRequired;return!(!o||!o.length)&&(e&&nt(o,e)?e:o[0])}(e,c);if(s)c===s?(a=u,o=o.slice(1)):a=s;else if(u)a=u,o=o.slice(1);else if(!i)return e;var l=a?r(a):Iw.create("div");l.appendChild(e),i&&Ge.each(i,(function(t){var n=r(t);l.insertBefore(n,e)}));var f=jw(a)?a.siblings:void 0;return t(l,o,f)},i=Iw.create("div");if(t.length>0){var a=t[0],u=r(a),c=jw(a)?a.siblings:void 0;i.appendChild(o(u,t.slice(1),c))}return i},qw=function(t){var e="div",n={name:e,classes:[],attrs:{},selector:t=Ge.trim(t)};return"*"!==t&&(e=t.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(function(t,e,r,o,i){switch(e){case"#":n.attrs.id=r;break;case".":n.classes.push(r);break;case":":-1!==Ge.inArray("checked disabled enabled read-only required".split(" "),r)&&(n.attrs[r]=r)}if("["===o){var a=i.match(/([\w\-]+)(?:\=\"([^\"]+))?/);a&&(n.attrs[a[1]]=a[2])}return""}))),n.name=e||"div",n},zw=function(t,e){var n="",r=_s(t);if(""===r)return"";var o=function(t){return S(t)?t.replace(/%(\w+)/g,""):""},i=function(e,n){return Iw.getStyle(null!=n?n:t.getBody(),e,!0)};if(S(e)){var a=t.formatter.get(e);if(!a)return"";e=a[0]}if("preview"in e){var u=e.preview;if(!1===u)return"";r=u||r}var c,s,l=e.block||e.inline||"span",f=(s=e.selector,S(s)?(s=(s=s.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),Ge.map(s.split(/(?:>|\s+(?![^\[\]]+\]))/),(function(t){var e=Ge.map(t.split(/(?:~\+|~|\+)/),qw),n=e.pop();return e.length&&(n.siblings=e),n})).reverse()):[]);f.length>0?(f[0].name||(f[0].name=l),l=e.selector,c=Fw(f,t)):c=Fw([l],t);var d=Iw.select(l,c)[0]||c.firstChild;Lw(e.styles,(function(t,e){var n=o(t);n&&Iw.setStyle(d,e,n)})),Lw(e.attributes,(function(t,e){var n=o(t);n&&Iw.setAttrib(d,e,n)})),Lw(e.classes,(function(t){var e=o(t);Iw.hasClass(d,e)||Iw.addClass(d,e)})),t.dispatch("PreviewFormats"),Iw.setStyles(c,{position:"absolute",left:-65535}),t.getBody().appendChild(c);var p=i("fontSize"),m=/px$/.test(p)?parseInt(p,10):0;return Lw(r.split(" "),(function(t){var e=i(t,d);if(!("background-color"===t&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(e)&&(e=i(t),"#ffffff"===Zf(e).toLowerCase())||"color"===t&&"#000000"===Zf(e).toLowerCase())){if("font-size"===t&&/em|%$/.test(e)){if(0===m)return;e=parseFloat(e)/(/%$/.test(e)?100:1)*m+"px"}"border"===t&&e&&(n+="padding:0 2px;"),n+=t+":"+e+";"}})),t.dispatch("AfterPreviewFormats"),Iw.remove(c),n},Uw=function(t){var e=function(t){var e={},n=function t(n,r){n&&(S(n)?(A(r)||(r=[r]),it(r,(function(t){D(t.deep)&&(t.deep=!Ed(t)),D(t.split)&&(t.split=!Ed(t)||Td(t)),D(t.remove)&&Ed(t)&&!Td(t)&&(t.remove="none"),Ed(t)&&Td(t)&&(t.mixed=!0,t.block_expand=!0),S(t.classes)&&(t.classes=t.classes.split(/\s+/))})),e[n]=r):Tt(n,(function(e,n){t(n,e)})))};return n(function(t){var e=t.dom,n=t.schema.type,r={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:function(t){e.setStyle(t,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:function(t){e.setStyle(t,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:function(){var t={inline:"span",styles:{textDecoration:"line-through"},exact:!0},e={inline:"strike",remove:"all",preserve_attributes:["class","style"]},r={inline:"s",remove:"all",preserve_attributes:["class","style"]};return"html4"!==n?[r,t,e]:[t,r,e]}(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(t,e,n){return Qr(t)&&t.hasAttribute("href")},onformat:function(t,n,r){Ge.each(r,(function(n,r){e.setAttrib(t,r,n)}))}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":function(t){var e;return null!==(e=null==t?void 0:t.customValue)&&void 0!==e?e:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return Ge.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),(function(t){r[t]={block:t,remove:"all"}})),r}(t)),n(Bw()),n(ws(t)),{get:function(t){return M(t)?e[t]:e},has:function(t){return It(e,t)},register:n,unregister:function(t){return t&&e[t]&&delete e[t],e}}}(t),n=Ha({});return function(t){t.addShortcut("meta+b","","Bold"),t.addShortcut("meta+i","","Italic"),t.addShortcut("meta+u","","Underline");for(var e=1;e<=6;e++)t.addShortcut("access+"+e,"",["FormatBlock",!1,"h"+e]);t.addShortcut("access+7","",["FormatBlock",!1,"p"]),t.addShortcut("access+8","",["FormatBlock",!1,"div"]),t.addShortcut("access+9","",["FormatBlock",!1,"address"])}(t),function(t){t.on("mouseup keydown",(function(e){(function(t,e){var n=t.selection,r=t.getBody();Ng(t,null,!1),8!==e&&46!==e||!n.isCollapsed()||n.getStart().innerHTML!==Og||Ng(t,Af(r,n.getStart())),37!==e&&39!==e||Ng(t,Af(r,n.getStart()))})(t,e.keyCode)}))}(t),Bx(t)||function(t,e){t.set({}),e.on("NodeChange",(function(n){Ob(e,n.element,t.get())})),e.on("FormatApply FormatRemove",(function(n){var r=Z.from(n.node).map((function(t){return sd(t)?t:t.startContainer})).bind((function(t){return Qr(t)?Z.some(t):Z.from(t.parentElement)})).getOrThunk((function(){return _b(e)}));Ob(e,r,t.get())}))}(n,t),{get:e.get,has:e.has,register:e.register,unregister:e.unregister,apply:function(e,n,r){(function(t,e,n,r){Ix(t).formatter.apply(e,n,r)})(t,e,n,r)},remove:function(e,n,r,o){(function(t,e,n,r,o){Ix(t).formatter.remove(e,n,r,o)})(t,e,n,r,o)},toggle:function(e,n,r){(function(t,e,n,r){Ix(t).formatter.toggle(e,n,r)})(t,e,n,r)},match:function(e,n,r,o){return function(t,e,n,r,o){return Ix(t).formatter.match(e,n,r,o)}(t,e,n,r,o)},closest:function(e){return function(t,e){return Ix(t).formatter.closest(e)}(t,e)},matchAll:function(e,n){return function(t,e,n){return Ix(t).formatter.matchAll(e,n)}(t,e,n)},matchNode:function(e,n,r,o){return function(t,e,n,r,o){return Ix(t).formatter.matchNode(e,n,r,o)}(t,e,n,r,o)},canApply:function(e){return function(t,e){return Ix(t).formatter.canApply(e)}(t,e)},formatChanged:function(e,r,o,i){return function(t,e,n,r,o,i){return Ix(t).formatter.formatChanged(e,n,r,o,i)}(t,n,e,r,o,i)},getCssText:V(zw,t)}},Hw=function(t){switch(t.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},Vw=function(t){var e=Xa(),n=Ha(0),r=Ha(0),o={data:[],typing:!1,beforeChange:function(){(function(t,e,n){Ix(t).undoManager.beforeChange(e,n)})(t,n,e)},add:function(i,a){return function(t,e,n,r,o,i,a){return Ix(t).undoManager.add(e,n,r,o,i,a)}(t,o,r,n,e,i,a)},dispatchChange:function(){t.setDirty(!0);var e=Sx(t);e.bookmark=dc(t.selection),t.dispatch("change",{level:e,lastLevel:wt(o.data,r.get()).getOrUndefined()})},undo:function(){return function(t,e,n,r){return Ix(t).undoManager.undo(e,n,r)}(t,o,n,r)},redo:function(){return function(t,e,n){return Ix(t).undoManager.redo(e,n)}(t,r,o.data)},clear:function(){(function(t,e,n){Ix(t).undoManager.clear(e,n)})(t,o,r)},reset:function(){(function(t,e){Ix(t).undoManager.reset(e)})(t,o)},hasUndo:function(){return function(t,e,n){return Ix(t).undoManager.hasUndo(e,n)}(t,o,r)},hasRedo:function(){return function(t,e,n){return Ix(t).undoManager.hasRedo(e,n)}(t,o,r)},transact:function(e){return function(t,e,n,r){return Ix(t).undoManager.transact(e,n,r)}(t,o,n,e)},ignore:function(e){(function(t,e,n){Ix(t).undoManager.ignore(e,n)})(t,n,e)},extra:function(e,n){(function(t,e,n,r,o){Ix(t).undoManager.extra(e,n,r,o)})(t,o,r,e,n)}};return Bx(t)||function(t,e,n){var r=Ha(!1),o=function(t){Dx(e,!1,n),e.add({},t)};t.on("init",(function(){e.add()})),t.on("BeforeExecCommand",(function(t){var r=t.command;Hw(r)||(Px(e,n),e.beforeChange())})),t.on("ExecCommand",(function(t){var e=t.command;Hw(e)||o(t)})),t.on("ObjectResizeStart cut",(function(){e.beforeChange()})),t.on("SaveContent ObjectResized blur",o),t.on("dragend",o),t.on("keyup",(function(n){var i=n.keyCode;n.isDefaultPrevented()||((i>=33&&i<=36||i>=37&&i<=40||45===i||n.ctrlKey)&&(o(),t.nodeChanged()),46!==i&&8!==i||t.nodeChanged(),r.get()&&e.typing&&!Nx(Sx(t),e.data[0])&&(t.isDirty()||t.setDirty(!0),t.dispatch("TypingUndo"),r.set(!1),t.nodeChanged()))})),t.on("keydown",(function(t){var i=t.keyCode;if(!t.isDefaultPrevented())if(i>=33&&i<=36||i>=37&&i<=40||45===i)e.typing&&o(t);else{var a=t.ctrlKey&&!t.altKey||t.metaKey;!(i<16||i>20)||224===i||91===i||e.typing||a||(e.beforeChange(),Dx(e,!0,n),e.add({},t),r.set(!0))}})),t.on("mousedown",(function(t){e.typing&&o(t)})),t.on("input",(function(t){var e;t.inputType&&("insertReplacementText"===t.inputType||"insertText"===(e=t).inputType&&null===e.data||function(t){return"insertFromPaste"===t.inputType||"insertFromDrop"===t.inputType}(t))&&o(t)})),t.on("AddUndo Undo Redo ClearUndos",(function(e){e.isDefaultPrevented()||t.nodeChanged()}))}(t,o,n),function(t){t.addShortcut("meta+z","","Undo"),t.addShortcut("meta+y,meta+shift+z","","Redo")}(t),o},Ww=[9,27,ip.HOME,ip.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,ip.DOWN,ip.UP,ip.LEFT,ip.RIGHT].concat(He.browser.isFirefox()?[224]:[]),$w="data-mce-placeholder",Gw=function(t){return"keydown"===t.type||"keyup"===t.type},Kw=function(t){var e=t.keyCode;return e===ip.BACKSPACE||e===ip.DELETE},Yw=function(t,e){return{from:t,to:e}},Xw=function(t,e){var n=Rn(t),r=Rn(e.container());return hv(n,r).map((function(t){return function(t,e){return{block:t,position:e}}(t,e)}))},Zw=function(t,e){return lr(e,(function(t){return jo(t)||go(t.dom)}),(function(e){return Ln(e,t)})).filter(on).getOr(t)},Jw=function(t){var e=function(t){var e=Kn(t);return pt(e,Ro).fold(z(e),(function(t){return e.slice(0,t)}))}(t);return it(e,Dr),e},Qw=function(t,e){var n=yh(e,t);return dt(n.reverse(),(function(t){return Oi(t)})).each(Dr)},t_=function(t,e,n,r){if(Oi(n))return Ho(n),Of(n.dom);0===ct($n(r),(function(t){return!Oi(t)})).length&&Oi(e)&&Or(r,An("br"));var o=kf(n.dom,Wu.before(r.dom));return it(Jw(e),(function(t){Or(r,t)})),Qw(t,e),o},e_=function(t,e,n){if(Oi(n)){if(Oi(e)){var r=function(t){var e=function t(e,n){return Xn(e).fold((function(){return n}),(function(e){return Do(e)?t(e,n.concat(pu(e))):n}))};return e(t,[])},o=st(r(n),(function(t,e){return Ar(t,e),e}),Uo());Rr(e),Tr(e,o)}return Dr(n),Of(e.dom)}var i=Sf(n.dom);return it(Jw(e),(function(t){Tr(n,t)})),Qw(t,e),i},n_=function(t,e){_f(t,e.dom).bind((function(t){return Z.from(t.getNode())})).map(Rn).filter(Po).each(Dr)},r_=function(t,e,n){return n_(!0,e),n_(!1,n),function(t,e){return In(e,t)?function(t,e){var n=yh(e,t);return Z.from(n[n.length-1])}(e,t):Z.none()}(e,n).fold(V(e_,t,e,n),V(t_,t,e,n))},o_=function(t,e,n,r){return e?r_(t,r,n):r_(t,n,r)},i_=function(t,e){var n=Rn(t.getBody()),r=function(t,e,n){return n.collapsed?function(t,e,n){var r=Xw(t,Wu.fromRangeStart(n)),o=r.bind((function(n){return yf(e,t,n.position).bind((function(n){return Xw(t,n).map((function(n){return function(t,e,n){return ho(n.position.getNode())&&!Oi(n.block)?_f(!1,n.block.dom).bind((function(r){return r.isEqual(n.position)?yf(e,t,r).bind((function(e){return Xw(t,e)})):Z.some(n)})).getOr(n):n}(t,e,n)}))}))}));return Ye(r,o,Yw).filter((function(e){return function(t){return!Ln(t.from.block,t.to.block)}(e)&&function(t,e){var n=Rn(t);return Ln(Zw(n,e.from.block),Zw(n,e.to.block))}(t,e)&&function(t){return!1===bo(t.from.block.dom)&&!1===bo(t.to.block.dom)}(e)&&function(t){var e=function(t){return Mo(t)||Mi(t.dom)};return e(t.from.block)&&e(t.to.block)}(e)}))}(t,e,n):Z.none()}(n.dom,e,t.selection.getRng()).map((function(r){return function(){o_(n,e,r.from.block,r.to.block).each((function(e){t.selection.setRng(e.toRange())}))}}));return r},a_=function(t,e){var n=Rn(e),r=V(Ln,t);return sr(n,jo,r).isSome()},u_=function(t){var e=Rn(t.getBody());return function(t,e){var n=kf(t.dom,Wu.fromRangeStart(e)).isNone(),r=Cf(t.dom,Wu.fromRangeEnd(e)).isNone();return!function(t,e){return a_(t,e.startContainer)||a_(t,e.endContainer)}(t,e)&&n&&r}(e,t.selection.getRng())?function(t){return Z.some((function(){t.setContent(""),t.selection.setCursorLocation()}))}(t):function(t,e){var n=e.getRng();return Ye(hv(t,Rn(n.startContainer)),hv(t,Rn(n.endContainer)),(function(r,o){return Ln(r,o)?Z.none():Z.some((function(){n.deleteContents(),o_(t,!0,r,o).each((function(t){e.setRng(t.toRange())}))}))})).getOr(Z.none())}(e,t.selection)},c_=function(t,e){return t.selection.isCollapsed()?Z.none():u_(t)},s_=function(t,e,n,r,o){return Z.from(e._selectionOverrides.showCaret(t,n,r,o))},l_=function(t,e){return t.dispatch("BeforeObjectSelected",{target:e}).isDefaultPrevented()?Z.none():Z.some(function(t){var e=t.ownerDocument.createRange();return e.selectNode(t),e}(e))},f_=function(t,e,n){return e.collapsed?function(t,e,n){var r=Jl(1,t.getBody(),e),o=Wu.fromRangeStart(r),i=o.getNode();if(Al(i))return s_(1,t,i,!o.isAtEnd(),!1);var a=o.getNode(!0);if(Al(a))return s_(1,t,a,!1,!1);var u=Vv(t.dom.getRoot(),o.getNode());return Al(u)?s_(1,t,u,!1,n):Z.none()}(t,e,n).getOr(e):e},d_=function(t){return vh(t)||dh(t)},p_=function(t){return gh(t)||ph(t)},m_=function(t,e,n,r,o,i){s_(r,t,i.getNode(!o),o,!0).each((function(n){if(e.collapsed){var r=e.cloneRange();o?r.setEnd(n.startContainer,n.startOffset):r.setStart(n.endContainer,n.endOffset),r.deleteContents()}else e.deleteContents();t.selection.setRng(n)})),function(t,e){co(e)&&0===e.data.length&&t.remove(e)}(t.dom,n)},h_=function(t,e){return function(t,e){var n=t.selection.getRng();if(!co(n.commonAncestorContainer))return Z.none();var r=e?gc.Forwards:gc.Backwards,o=hf(t.getBody()),i=V(nf,e?o.next:o.prev),a=e?d_:p_,u=tf(r,t.getBody(),n),c=i(u),s=c?sv(e,c):c;if(!s||!rf(u,s))return Z.none();if(a(s))return Z.some((function(){return m_(t,n,u.getNode(),r,e,s)}));var l=i(s);return l&&a(l)&&rf(s,l)?Z.some((function(){return m_(t,n,u.getNode(),r,e,l)})):Z.none()}(t,e)},v_=function(t,e){var n=t.getBody();return e?Of(n).filter(vh):Sf(n).filter(gh)},g_=function(t){var e=t.selection.getRng();return!e.collapsed&&(v_(t,!0).exists((function(t){return t.isEqual(Wu.fromRangeStart(e))}))||v_(t,!1).exists((function(t){return t.isEqual(Wu.fromRangeEnd(e))})))},b_=vc([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),y_=function(t,e,n){return yf(e,t,n).bind((function(r){return o=r.getNode(),M(o)&&(jo(Rn(o))||Lo(Rn(o)))||function(t,e,n,r){var o=function(e){return Do(Rn(e))&&!Wl(n,r,t)};return Ql(!e,n).fold((function(){return Ql(e,r).fold(Y,o)}),o)}(t,e,n,r)?Z.none():e&&bo(r.getNode())||!e&&bo(r.getNode(!0))?function(t,e,n,r){var o=r.getNode(!e);return hv(Rn(t),Rn(n.getNode())).map((function(t){return Oi(t)?b_.remove(t.dom):b_.moveToElement(o)})).orThunk((function(){return Z.some(b_.moveToElement(o))}))}(t,e,n,r):e&&gh(n)||!e&&vh(n)?Z.some(b_.moveToPosition(r)):Z.none();var o}))},x_=function(t,e){return Z.from(Vv(t.getBody(),e))},w_=function(t,e){var n=t.selection.getNode();return x_(t,n).filter(bo).fold((function(){return function(t,e,n){var r=Jl(e?1:-1,t,n),o=Wu.fromRangeStart(r),i=Rn(t);return!e&&gh(o)?Z.some(b_.remove(o.getNode(!0))):e&&vh(o)?Z.some(b_.remove(o.getNode())):!e&&vh(o)&&Rh(i,o)?Dh(i,o).map((function(t){return b_.remove(t.getNode())})):e&&gh(o)&&Nh(i,o)?Ph(i,o).map((function(t){return b_.remove(t.getNode())})):function(t,e,n){return function(t,e){var n=e.getNode(!t),r=t?"after":"before";return Qr(n)&&n.getAttribute("data-mce-caret")===r}(e,n)?function(t,e){return P(e)?Z.none():t&&bo(e.nextSibling)?Z.some(b_.moveToElement(e.nextSibling)):!t&&bo(e.previousSibling)?Z.some(b_.moveToElement(e.previousSibling)):Z.none()}(e,n.getNode(!e)).orThunk((function(){return y_(t,e,n)})):y_(t,e,n).bind((function(e){return function(t,e,n){return n.fold((function(t){return Z.some(b_.remove(t))}),(function(t){return Z.some(b_.moveToElement(t))}),(function(n){return Wl(e,n,t)?Z.none():Z.some(b_.moveToPosition(n))}))}(t,n,e)}))}(t,e,o)}(t.getBody(),e,t.selection.getRng()).map((function(n){return function(){return n.fold(function(t,e){return function(n){return t._selectionOverrides.hideFakeCaret(),iv(t,e,Rn(n)),!0}}(t,e),function(t,e){return function(n){var r=e?Wu.before(n):Wu.after(n);return t.selection.setRng(r.toRange()),!0}}(t,e),function(t){return function(e){return t.selection.setRng(e.toRange()),!0}}(t))}}))}),(function(){return Z.some(j)}))},__=function(t){var e=t.dom,n=t.selection,r=Vv(t.getBody(),n.getNode());if(go(r)&&e.isBlock(r)&&e.isEmpty(r)){var o=e.create("br",{"data-mce-bogus":"1"});e.setHTML(r,""),r.appendChild(o),n.setRng(Wu.before(o).toRange())}return!0},C_=function(t,e){return t.selection.isCollapsed()?w_(t,e):function(t,e){var n=t.selection.getNode();return bo(n)&&!yo(n)?x_(t,n.parentNode).filter(bo).fold((function(){return Z.some((function(){var n;n=Rn(t.getBody()),it(Kr(n,".mce-offscreen-selection"),Dr),iv(t,e,Rn(t.selection.getNode())),vv(t)}))}),(function(){return Z.some(j)})):g_(t)?Z.some((function(){bv(t,t.selection.getRng(),Rn(t.getBody()))})):Z.none()}(t,e)},k_=function(t,e){return t.selection.isCollapsed()?function(t,e){var n=Wu.fromRangeStart(t.selection.getRng());return yf(e,t.getBody(),n).filter((function(t){return e?lh(t):fh(t)})).bind((function(t){return $l(e?0:-1,t)})).map((function(e){return function(){return t.selection.select(e)}}))}(t,e):Z.none()},O_=co,S_=function(t){return O_(t)&&t.data[0]===Wo},E_=function(t){return O_(t)&&t.data[t.data.length-1]===Wo},T_=function(t){var e;return(null!==(e=t.ownerDocument)&&void 0!==e?e:document).createTextNode(Wo)},A_=function(t,e){return t?function(t){var e;if(O_(t.previousSibling))return E_(t.previousSibling)||t.previousSibling.appendData(Wo),t.previousSibling;if(O_(t))return S_(t)||t.insertData(0,Wo),t;var n=T_(t);return null===(e=t.parentNode)||void 0===e||e.insertBefore(n,t),n}(e):function(t){var e,n;if(O_(t.nextSibling))return S_(t.nextSibling)||t.nextSibling.insertData(0,Wo),t.nextSibling;if(O_(t))return E_(t)||t.appendData(Wo),t;var r=T_(t);return t.nextSibling?null===(e=t.parentNode)||void 0===e||e.insertBefore(r,t.nextSibling):null===(n=t.parentNode)||void 0===n||n.appendChild(r),r}(e)},N_=V(A_,!0),R_=V(A_,!1),D_=function(t,e){return co(t.container())?A_(e,t.container()):A_(e,t.getNode())},P_=function(t,e){var n=e.get();return n&&t.container()===n&&Zo(n)},M_=function(t,e){return e.fold((function(e){_l(t.get());var n=N_(e);return t.set(n),Z.some(Wu(n,n.length-1))}),(function(e){return Of(e).map((function(e){if(P_(e,t)){var n=t.get();return Wu(n,1)}_l(t.get());var r=D_(e,!0);return t.set(r),Wu(r,1)}))}),(function(e){return Sf(e).map((function(e){if(P_(e,t)){var n=t.get();return Wu(n,n.length-1)}_l(t.get());var r=D_(e,!1);return t.set(r),Wu(r,r.length-1)}))}),(function(e){_l(t.get());var n=R_(e);return t.set(n),Z.some(Wu(n,1))}))},B_=function(t,e){for(var n=0;n<t.length;n++){var r=t[n].apply(null,e);if(r.isSome())return r}return Z.none()},L_=vc([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),I_=function(t,e){return Vl(e,t)||t},j_=function(t,e,n){var r=lv(n),o=I_(e,r.container());return cv(t,o,r).fold((function(){return Cf(o,r).bind(V(cv,t,o)).map((function(t){return L_.before(t)}))}),Z.none)},F_=function(t,e){return null===Af(t,e)},q_=function(t,e,n){return cv(t,e,n).filter(V(F_,e))},z_=function(t,e,n){var r=fv(n);return q_(t,e,r).bind((function(t){return kf(t,r).isNone()?Z.some(L_.start(t)):Z.none()}))},U_=function(t,e,n){var r=lv(n);return q_(t,e,r).bind((function(t){return Cf(t,r).isNone()?Z.some(L_.end(t)):Z.none()}))},H_=function(t,e,n){var r=fv(n),o=I_(e,r.container());return cv(t,o,r).fold((function(){return kf(o,r).bind(V(cv,t,o)).map((function(t){return L_.after(t)}))}),Z.none)},V_=function(t){return e=$_(t),!("rtl"===qa.DOM.getStyle(e,"direction",!0)||function(t){return av.test(t)}(null!==(n=e.textContent)&&void 0!==n?n:""));var e,n},W_=function(t,e,n){return B_([j_,z_,U_,H_],[t,e,n]).filter(V_)},$_=function(t){return t.fold(U,U,U,U)},G_=function(t){return t.fold(z("before"),z("start"),z("end"),z("after"))},K_=function(t){return t.fold(L_.before,L_.before,L_.after,L_.after)},Y_=function(t){return t.fold(L_.start,L_.start,L_.end,L_.end)},X_=function(t,e,n,r,o,i){return Ye(cv(e,n,r),cv(e,n,o),(function(e,r){return e!==r&&function(t,e,n){var r=Vl(e,t),o=Vl(n,t);return M(r)&&r===o}(n,e,r)?L_.after(t?e:r):i})).getOr(i)},Z_=function(t,e){return t.fold(X,(function(t){return r=e,!(G_(n=t)===G_(r)&&$_(n)===$_(r));var n,r}))},J_=function(t,e){return t?e.fold(F(Z.some,L_.start),Z.none,F(Z.some,L_.after),Z.none):e.fold(Z.none,F(Z.some,L_.before),Z.none,F(Z.some,L_.end))},Q_=function(t,e,n){var r=t?1:-1;return e.setRng(Wu(n.container(),n.offset()+r).toRange()),e.getSel().modify("move",t?"forward":"backward","word"),!0};!function(t){t[t.Br=0]="Br",t[t.Block=1]="Block",t[t.Wrap=2]="Wrap",t[t.Eol=3]="Eol"}(my||(my={}));var tC,eC=function(t,e){return t===gc.Backwards?gt(e):e},nC=function(t,e,n){return t===gc.Forwards?e.next(n):e.prev(n)},rC=function(t,e,n,r){return ho(r.getNode(e===gc.Forwards))?my.Br:!1===Wl(n,r)?my.Block:my.Wrap},oC=function(t,e,n,r){for(var o=hf(n),i=r,a=[];i;){var u=nC(e,o,i);if(!u)break;if(ho(u.getNode(!1)))return e===gc.Forwards?{positions:eC(e,a).concat([u]),breakType:my.Br,breakAt:Z.some(u)}:{positions:eC(e,a),breakType:my.Br,breakAt:Z.some(u)};if(u.isVisible()){if(t(i,u)){var c=rC(0,e,i,u);return{positions:eC(e,a),breakType:c,breakAt:Z.some(u)}}a.push(u),i=u}else i=u}return{positions:eC(e,a),breakType:my.Eol,breakAt:Z.none()}},iC=function(t,e,n,r){return e(n,r).breakAt.map((function(r){var o=e(n,r).positions;return t===gc.Backwards?o.concat(r):[r].concat(o)})).getOr([])},aC=function(t,e){return lt(t,(function(t,n){return t.fold((function(){return Z.some(n)}),(function(r){return Ye(_t(r.getClientRects()),_t(n.getClientRects()),(function(t,o){var i=Math.abs(e-t.left);return Math.abs(e-o.left)<=i?n:r})).or(t)}))}),Z.none())},uC=function(t,e){return _t(e.getClientRects()).bind((function(e){return aC(t,e.left)}))},cC=V(oC,Wu.isAbove,-1),sC=V(oC,Wu.isBelow,1),lC=V(iC,-1,cC),fC=V(iC,1,sC),dC=function(t,e){return uC(lC(t,e),e)},pC=function(t,e){return uC(fC(t,e),e)},mC=bo,hC=function(t,e){return Math.abs(t.left-e)},vC=function(t,e){return Math.abs(t.right-e)},gC=function(t,e){return Wt(t,(function(t,n){var r=Math.min(hC(t,e),vC(t,e)),o=Math.min(hC(n,e),vC(n,e));return o===r&&jt(n,"node")&&mC(n.node)||o<r?n:t}))},bC=function(t){var e=function(e){return ot(e,(function(e){var n=bu(e);return n.node=t,n}))};if(Qr(t))return e(t.getClientRects());if(co(t)){var n=t.ownerDocument.createRange();return n.setStart(t,0),n.setEnd(t,t.data.length),e(n.getClientRects())}return[]},yC=function(t){return ht(t,bC)};!function(t){t[t.Up=-1]="Up",t[t.Down=1]="Down"}(tC||(tC={}));var xC,wC=function(t,e,n,r,o,i){var a=0,u=[],c=function(r){var i=yC([r]);-1===t&&(i=i.reverse());for(var c=0;c<i.length;c++){var l=i[c];if(!n(l,s)){if(u.length>0&&e(l,Gt(u))&&a++,l.line=a,o(l))return!0;u.push(l)}}return!1},s=Gt(i.getClientRects());if(!s)return u;var l=i.getNode();return l&&(c(l),function(t,e,n,r){for(var o=r;o=Hl(o,t,vi,e);)if(n(o))return}(t,r,c,l)),u},_C=V(wC,tC.Up,wu,_u),CC=V(wC,tC.Down,_u,wu),kC=function(t){return Gt(t.getClientRects())},OC=function(t){return function(e){return function(t,e){return e.line>t}(t,e)}},SC=function(t){return function(e){return function(t,e){return e.line===t}(t,e)}},EC=function(t,e){t.selection.setRng(e),om(t,t.selection.getRng())},TC=function(t,e,n){return Z.some(f_(t,e,n))},AC=function(t,e,n,r,o,i){var a=e===gc.Forwards,u=hf(t.getBody()),c=V(nf,a?u.next:u.prev),s=a?r:o;if(!n.collapsed){var l=ku(n);if(i(l))return s_(e,t,l,e===gc.Backwards,!1);if(g_(t)){var f=n.cloneRange();return f.collapse(e===gc.Backwards),Z.from(f)}}var d=tf(e,t.getBody(),n);if(s(d))return l_(t,d.getNode(!a));var p=c(d),m=ii(n);if(!p)return m?Z.some(n):Z.none();if(p=sv(a,p),s(p))return s_(e,t,p.getNode(!a),a,!1);var h=c(p);return h&&s(h)&&rf(p,h)?s_(e,t,h.getNode(!a),a,!1):m?TC(t,p.toRange(),!1):Z.none()},NC=function(t,e,n,r,o,i){var a=tf(e,t.getBody(),n),u=Gt(a.getClientRects()),c=e===tC.Down,s=t.getBody();if(!u)return Z.none();if(g_(t)){var l=c?Wu.fromRangeEnd(n):Wu.fromRangeStart(n);return(c?pC:dC)(s,l).orThunk((function(){return Z.from(l)})).map((function(t){return t.toRange()}))}var f,d=(c?CC:_C)(s,OC(1),a),p=ct(d,SC(1)),m=u.left,h=gC(p,m);if(h&&i(h.node)){var v=Math.abs(m-h.left),g=Math.abs(m-h.right);return s_(e,t,h.node,v<g,!1)}if(f=r(a)?a.getNode():o(a)?a.getNode(!0):ku(n),f){var b=function(t,e,n,r){var o,i,a,u,c=hf(e),s=[],l=0;1===t?(o=c.next,i=_u,a=wu,u=Wu.after(r)):(o=c.prev,i=wu,a=_u,u=Wu.before(r));var f=kC(u);do{if(u.isVisible()){var d=kC(u);if(!a(d,f)){s.length>0&&i(d,Gt(s))&&l++;var p=bu(d);if(p.position=u,p.line=l,n(p))return s;s.push(p)}}}while(u=o(u));return s}(e,s,OC(1),f),y=gC(ct(b,SC(1)),m);if(y)return TC(t,y.position.toRange(),!1);if(y=Gt(ct(b,SC(0))),y)return TC(t,y.position.toRange(),!1)}return 0===p.length?RC(t,c).filter(c?o:r).map((function(e){return f_(t,e.toRange(),!1)})):Z.none()},RC=function(t,e){var n,r,o=t.selection.getRng(),i=e?Wu.fromRangeEnd(o):Wu.fromRangeStart(o),a=(n=i.container(),r=t.getBody(),sr(Rn(n),(function(t){return Rl(t.dom)}),(function(t){return t.dom===r})).map((function(t){return t.dom})).getOr(r));if(e){var u=sC(a,i);return Ct(u.positions)}var c=cC(a,i);return _t(c.positions)},DC=function(t,e,n){return RC(t,e).filter(n).exists((function(e){return t.selection.setRng(e.toRange()),!0}))},PC=function(t,e){var n=t.dom.createRng();n.setStart(e.container(),e.offset()),n.setEnd(e.container(),e.offset()),t.selection.setRng(n)},MC=function(t,e){t?e.setAttribute("data-mce-selected","inline-boundary"):e.removeAttribute("data-mce-selected")},BC=function(t,e,n){return M_(e,n).map((function(e){return PC(t,e),n}))},LC=function(t,e,n){var r=t.getBody(),o=function(t,e,n){var r=Wu.fromRangeStart(t);if(t.collapsed)return r;var o=Wu.fromRangeEnd(t);return n?kf(e,o).getOr(o):Cf(e,r).getOr(r)}(t.selection.getRng(),r,n);return function(t,e,n,r){var o=sv(t,r),i=W_(e,n,o);return W_(e,n,o).bind(V(J_,t)).orThunk((function(){return function(t,e,n,r,o){var i=sv(t,o);return yf(t,n,i).map(V(sv,t)).fold((function(){return r.map(K_)}),(function(o){return W_(e,n,o).map(V(X_,t,e,n,i,o)).filter(V(Z_,r))})).filter(V_)}(t,e,n,i,r)}))}(n,V(uv,t),r,o).bind((function(n){return BC(t,e,n)}))},IC=function(t,e,n){return!!xs(t)&&LC(t,e,n).isSome()},jC=function(t,e,n){return!!xs(e)&&function(t,e){var n=e.selection.getRng(),r=t?Wu.fromRangeEnd(n):Wu.fromRangeStart(n);return!!function(t){return B(t.selection.getSel().modify)}(e)&&(t&&ti(r)?Q_(!0,e.selection,r):!(t||!ei(r))&&Q_(!1,e.selection,r))}(t,e)},FC=function(t){var e=Ha(null),n=V(uv,t);return t.on("NodeChange",(function(r){xs(t)&&(function(t,e,n){var r=ot(Kr(Rn(e.getRoot()),'*[data-mce-selected="inline-boundary"]'),(function(t){return t.dom})),o=ct(r,t),i=ct(n,t);it(bt(o,i),V(MC,!1)),it(bt(i,o),V(MC,!0))}(n,t.dom,r.parents),function(t,e){var n=e.get();if(t.selection.isCollapsed()&&!t.composing&&n){var r=Wu.fromRangeStart(t.selection.getRng());Wu.isTextPosition(r)&&!function(t){return ti(t)||ei(t)}(r)&&(PC(t,wl(n,r)),e.set(null))}}(t,e),function(t,e,n,r){if(e.selection.isCollapsed()){var o=ct(r,t);it(o,(function(r){var o=Wu.fromRangeStart(e.selection.getRng());W_(t,e.getBody(),o).bind((function(t){return BC(e,n,t)}))}))}}(n,t,e,r.parents))})),e},qC=V(jC,!0),zC=V(jC,!1),UC=function(t,e,n){if(xs(t)){var r=RC(t,e).getOrThunk((function(){var n=t.selection.getRng();return e?Wu.fromRangeEnd(n):Wu.fromRangeStart(n)}));return W_(V(uv,t),t.getBody(),r).exists((function(e){var r=K_(e);return M_(n,r).exists((function(e){return PC(t,e),!0}))}))}return!1},HC=function(t,e){return function(n){return M_(e,n).map((function(e){return function(){return PC(t,e)}}))}},VC=function(t,e,n,r){var o=t.getBody(),i=V(uv,t);t.undoManager.ignore((function(){t.selection.setRng(function(t,e){var n=document.createRange();return n.setStart(t.container(),t.offset()),n.setEnd(e.container(),e.offset()),n}(n,r)),pv(t),W_(i,o,Wu.fromRangeStart(t.selection.getRng())).map(Y_).bind(HC(t,e)).each(K)})),t.nodeChanged()},WC=function(t,e,n){if(t.selection.isCollapsed()&&xs(t)){var r=Wu.fromRangeStart(t.selection.getRng());return function(t,e,n,r){var o=function(t,e){return Vl(e,t)||t}(t.getBody(),r.container()),i=V(uv,t),a=W_(i,o,r);return a.bind((function(t){return n?t.fold(z(Z.some(Y_(t))),Z.none,z(Z.some(K_(t))),Z.none):t.fold(Z.none,z(Z.some(K_(t))),Z.none,z(Z.some(Y_(t))))})).map(HC(t,e)).getOrThunk((function(){var u=xf(n,o,r),c=u.bind((function(t){return W_(i,o,t)}));return Ye(a,c,(function(){return cv(i,o,r).bind((function(e){return function(t){return Ye(Of(t),Sf(t),(function(e,n){var r=sv(!0,e),o=sv(!1,n);return Cf(t,r).forall((function(t){return t.isEqual(o)}))})).getOr(!0)}(e)?Z.some((function(){iv(t,n,Rn(e))})):Z.none()}))})).getOrThunk((function(){return c.bind((function(){return u.map((function(o){return function(){n?VC(t,e,r,o):VC(t,e,o,r)}}))}))}))}))}(t,e,n,r)}return Z.none()},$C=function(t,e){var n=Rn(t.getBody()),r=Rn(t.selection.getStart()),o=yh(r,n);return pt(o,e).fold(z(o),(function(t){return o.slice(0,t)}))},GC=function(t,e){var n=V(Lg,t);return ht(e,(function(t){return n(t)?[t.dom]:[]}))},KC=function(t){var e=function(t){return $C(t,Ro)}(t);return GC(t,e)},YC=function(t,e){var n=function(t){return $C(t,(function(t){return Ro(t)||function(t){return Jn(t)>1}(t)}))}(t);return Ct(n).bind((function(r){var o=Wu.fromRangeStart(t.selection.getRng());return function(t,e,n){return Ye(Of(n),Sf(n),(function(r,o){var i=sv(!0,r),a=sv(!1,o),u=sv(!1,e);return t?Cf(n,u).exists((function(t){return t.isEqual(a)&&e.isEqual(i)})):kf(n,u).exists((function(t){return t.isEqual(i)&&e.isEqual(a)}))})).getOr(!0)}(e,o,r.dom)&&!Ig(r)?Z.some((function(){return function(t,e,n,r){var o=GC(e,r);if(0===o.length)iv(e,t,n);else{var i=Bg(n.dom,o);e.selection.setRng(i.toRange())}}(e,t,r,n)})):Z.none()}))},XC=function(t,e){var n=t.selection.getStart(),r=function(t,e){var n=e.parentElement;return ho(e)&&!N(n)&&t.dom.isEmpty(n)}(t,n)||Ig(Rn(n))?Bg(n,e):function(t,e){var n=Mg(e),r=n.caretContainer,o=n.caretPosition;return t.selection.getRng().insertNode(r.dom),o}(t,e);t.selection.setRng(r.toRange())},ZC=function(t){return co(t.startContainer)},JC=function(t){var e=t.selection.getRng();return function(t){return 0===t.startOffset&&ZC(t)}(e)&&function(t,e){var n=e.startContainer.parentElement;return!N(n)&&Lg(t,Rn(n))}(t,e)&&function(t){return function(t){return function(t){var e=t.startContainer.parentNode,n=t.endContainer.parentNode;return!N(e)&&!N(n)&&e.isEqualNode(n)}(t)&&function(t){var e=t.endContainer;return t.endOffset===(co(e)?e.length:e.childNodes.length)}(t)}(t)||function(t){return!t.endContainer.isEqualNode(t.commonAncestorContainer)}(t)}(e)},QC=function(t,e){return t.selection.isCollapsed()?YC(t,e):function(t){if(JC(t)){var e=KC(t);return Z.some((function(){pv(t),function(t,e){var n=bt(e,KC(t));n.length>0&&XC(t,n)}(t,e)}))}return Z.none()}(t)},tk=function(t){return function(t,e,n){return sr(t,(function(t){return Tf(t.dom)}),n).isSome()}(t,0,Ro)},ek=function(t){return function(t){var e=t.selection.getRng();return e.collapsed&&(ZC(e)||t.dom.isEmpty(e.startContainer))&&!function(t){return tk(Rn(t.selection.getStart()))}(t)}(t)&&XC(t,[]),!0},nk=function(t,e,n){return M(n)?Z.some((function(){t._selectionOverrides.hideFakeCaret(),iv(t,e,Rn(n))})):Z.none()},rk=function(t,e){return t.selection.isCollapsed()?function(t,e){var n=e?dh:ph,r=e?gc.Forwards:gc.Backwards,o=tf(r,t.getBody(),t.selection.getRng());return n(o)?nk(t,e,o.getNode(!e)):Z.from(sv(e,o)).filter((function(t){return n(t)&&rf(o,t)})).bind((function(n){return nk(t,e,n.getNode(!e))}))}(t,e):function(t,e){var n=t.selection.getNode();return wo(n)?nk(t,e,n):Z.none()}(t,e)},ok=function(t){return le(null!=t?t:"").getOr(0)},ik=function(t,e){return(t||"table"===en(e)?"margin":"padding")+("rtl"===xr(e,"direction")?"-right":"-left")},ak=function(t){var e=ck(t);return!t.mode.isReadOnly()&&(e.length>1||function(t,e){return vt(e,(function(e){var n=ik(os(t),e),r=_r(e,n).map(ok).getOr(0);return"false"!==t.dom.getContentEditable(e.dom)&&r>0}))}(t,e))},uk=function(t){return Bo(t)||Lo(t)},ck=function(t){return ct(Mr(t.selection.getSelectedBlocks()),(function(t){return!uk(t)&&!function(t){return zn(t).exists(uk)}(t)&&lr(t,(function(t){return go(t.dom)||bo(t.dom)})).exists((function(t){return go(t.dom)}))}))},sk=function(t,e){var n,r,o=t.dom,i=is(t),a=null!==(r=null===(n=/[a-z%]+$/i.exec(i))||void 0===n?void 0:n[0])&&void 0!==r?r:"px",u=ok(i),c=os(t);it(ck(t),(function(t){(function(t,e,n,r,o,i){var a=ik(n,Rn(i)),u=ok(t.getStyle(i,a));if("outdent"===e){var c=Math.max(0,u-r);t.setStyle(i,a,c?c+o:"")}else{var s=u+r+o;t.setStyle(i,a,s)}})(o,e,c,u,a,t.dom)}))},lk=function(t){return sk(t,"outdent")},fk=function(t){if(t.selection.isCollapsed()&&ak(t)){var e=t.dom,n=t.selection.getRng(),r=Wu.fromRangeStart(n),o=e.getParent(n.startContainer,e.isBlock);if(null!==o&&kh(Rn(o),r))return Z.some((function(){return lk(t)}))}return Z.none()},dk=function(t,e,n){return Ot([fk,C_,h_,function(t,n){return WC(t,e,n)},i_,Hv,k_,rk,c_,QC],(function(e){return e(t,n)})).filter((function(e){return t.selection.isEditable()}))},pk=function(t,e){t.addCommand("delete",(function(){(function(t,e){dk(t,e,!1).fold((function(){pv(t),vv(t)}),K)})(t,e)})),t.addCommand("forwardDelete",(function(){(function(t,e){dk(t,e,!0).fold((function(){return function(t){return dv(t,"ForwardDelete")}(t)}),K)})(t,e)}))},mk=function(t){return void 0===t.touches||1!==t.touches.length?Z.none():Z.some(t.touches[0])},hk=function(t,e){return It(t,e.nodeName)},vk=function(t,e){return!!co(e)||!!Qr(e)&&!hk(t.getBlockElements(),e)&&!zf(e)&&!Ii(t,e)},gk=function(t,e){if(co(e)){if(0===e.data.length)return!0;if(/^\s+$/.test(e.data)&&(!e.nextSibling||hk(t,e.nextSibling)))return!0}return!1},bk=function(t){return t.dom.create(jc(t),Fc(t))},yk=function(t){var e,n,r=t.dom,o=t.selection,i=t.schema,a=i.getBlockElements(),u=o.getStart(),c=t.getBody(),s=!1,l=jc(t);if(u&&Qr(u)){var f=c.nodeName.toLowerCase();if(i.isValidChild(f,l.toLowerCase())&&!function(t,e,n){return rt(bh(Rn(n),Rn(e)),(function(e){return hk(t,e.dom)}))}(a,c,u)){for(var d=o.getRng(),p=d.startContainer,m=d.startOffset,h=d.endContainer,v=d.endOffset,g=Sm(t),b=c.firstChild;b;)if(Qr(b)&&Pi(i,b),vk(i,b)){if(gk(a,b)){n=b,b=b.nextSibling,r.remove(n);continue}e||(e=bk(t),c.insertBefore(e,b),s=!0),n=b,b=b.nextSibling,e.appendChild(n)}else e=null,b=b.nextSibling;s&&g&&(d.setStart(p,m),d.setEnd(h,v),o.setRng(d),t.nodeChanged())}}},xk=function(t,e,n){var r=Rn(bk(t)),o=Uo();Tr(r,o),n(e,r);var i=document.createRange();return i.setStartBefore(o.dom),i.setEndBefore(o.dom),i},wk=function(t){return function(e){return-1!==(" "+e.attr("class")+" ").indexOf(t)}},_k=function(t,e,n){return function(r){var o=arguments,i=o[o.length-2],a=i>0?e.charAt(i-1):"";if('"'===a)return r;if(">"===a){var u=e.lastIndexOf("<",i);if(-1!==u&&-1!==e.substring(u,i).indexOf('contenteditable="false"'))return r}return'<span class="'+n+'" data-mce-content="'+t.dom.encode(o[0])+'">'+t.dom.encode("string"==typeof o[1]?o[1]:o[0])+"</span>"}},Ck=function(t,e){e.hasAttribute("data-mce-caret")&&(oi(e),t.selection.setRng(t.selection.getRng()),t.selection.scrollIntoView(e))},kk=function(t,e){var n=function(t){return dr(Rn(t.getBody()),"*[data-mce-caret]").map((function(t){return t.dom})).getOrNull()}(t);if(n)return"compositionstart"===e.type?(e.preventDefault(),e.stopPropagation(),void Ck(t,n)):void(Qo(n)&&(Ck(t,n),t.undoManager.add()))},Ok=bo,Sk=function(t,e,n){var r=hf(t.getBody()),o=V(nf,1===e?r.next:r.prev);if(n.collapsed){var i=t.dom.getParent(n.startContainer,"PRE");if(!i)return;if(!o(Wu.fromRangeStart(n))){var a=Rn(function(t){var e=t.dom.create(jc(t));return e.innerHTML='<br data-mce-bogus="1">',e}(t));1===e?Sr(Rn(i),a):Or(Rn(i),a),t.selection.select(a.dom,!0),t.selection.collapse()}}},Ek=function(t,e){return function(t,e){var n=e?gc.Forwards:gc.Backwards,r=t.selection.getRng();return function(t,e,n){return AC(e,t,n,vh,gh,Ok)}(n,t,r).orThunk((function(){return Sk(t,n,r),Z.none()}))}(t,e).exists((function(e){return EC(t,e),!0}))},Tk=function(t,e){return function(t,e){var n=e?1:-1,r=t.selection.getRng();return function(t,e,n){return NC(e,t,n,(function(t){return vh(t)||mh(t)}),(function(t){return gh(t)||hh(t)}),Ok)}(n,t,r).orThunk((function(){return Sk(t,n,r),Z.none()}))}(t,e).exists((function(e){return EC(t,e),!0}))},Ak=function(t,e){return DC(t,e,e?gh:vh)},Nk=function(t,e){return v_(t,!e).map((function(n){var r=n.toRange(),o=t.selection.getRng();return e?r.setStart(o.startContainer,o.startOffset):r.setEnd(o.endContainer,o.endOffset),r})).exists((function(e){return EC(t,e),!0}))},Rk=function(t){return nt(["figcaption"],en(t))},Dk=function(t,e){var n=Rn(t.getBody()),r=Wu.fromRangeStart(t.selection.getRng());return function(t,e){var n=V(Ln,e);return lr(Rn(t.container()),Ro,n).filter(Rk)}(r,n).exists((function(){if(function(t,e,n){return e?function(t,e){return sC(t,e).breakAt.isNone()}(t.dom,n):function(t,e){return cC(t,e).breakAt.isNone()}(t.dom,n)}(n,e,r)){var o=xk(t,n,e?Tr:Er);return t.selection.setRng(o),!0}return!1}))},Pk=function(t,e){return!!t.selection.isCollapsed()&&Dk(t,e)},Mk={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},Bk=function(t,e){return e.keyCode===t.keyCode&&e.shiftKey===t.shiftKey&&e.altKey===t.altKey&&e.ctrlKey===t.ctrlKey&&e.metaKey===t.metaKey},Lk=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return function(){return t.apply(null,n)}},Ik=function(t,e){return dt(function(t,e){return ht(function(t){return ot(t,(function(t){return s(s({},Mk),t)}))}(t),(function(t){return Bk(t,e)?[t]:[]}))}(t,e),(function(t){return t.action()}))},jk=function(t,e){return Ot(function(t,e){return ht(function(t){return ot(t,(function(t){return s(s({},Mk),t)}))}(t),(function(t){return Bk(t,e)?[t]:[]}))}(t,e),(function(t){return t.action()}))},Fk=function(t,e){var n=e?gc.Forwards:gc.Backwards,r=t.selection.getRng();return AC(t,n,r,dh,ph,wo).exists((function(e){return EC(t,e),!0}))},qk=function(t,e){var n=e?1:-1,r=t.selection.getRng();return NC(t,n,r,dh,ph,wo).exists((function(e){return EC(t,e),!0}))},zk=function(t,e){return DC(t,e,e?ph:dh)},Uk=vc([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),Hk=s(s({},Uk),{},{none:function(t){return Uk.none(t)}}),Vk=function t(e,n,r){return ht(Kn(e),(function(e){return Mn(e,n)?r(e)?[e]:[]:t(e,n,r)}))},Wk=function(t,e){return pr(t,"table",e)},$k=function t(e,n,r,o){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:X,a=1===o;if(!a&&r<=0)return Hk.first(e[0]);if(a&&r>=e.length-1)return Hk.last(e[e.length-1]);var u=r+o,c=e[u];return i(c)?Hk.middle(n,c):t(e,n,u,o,i)},Gk=function(t,e){return Wk(t,e).bind((function(e){var n=Vk(e,"th,td",X);return pt(n,(function(e){return Ln(t,e)})).map((function(t){return{index:t,all:n}}))}))},Kk=function(t,e,n,r,o){var i=Kr(Rn(n),"td,th,caption").map((function(t){return t.dom})),a=ct(function(t,e){return ht(e,(function(e){var n=function(t,e){return{left:t.left-e,top:t.top-e,right:t.right+-2,bottom:t.bottom+-2,width:t.width+e,height:t.height+e}}(bu(e.getBoundingClientRect()),-1);return[{x:n.left,y:t(n),cell:e},{x:n.right,y:t(n),cell:e}]}))}(t,i),(function(t){return e(t,o)}));return function(t,e,n){return lt(t,(function(t,r){return t.fold((function(){return Z.some(r)}),(function(t){var o=Math.sqrt(Math.abs(t.x-e)+Math.abs(t.y-n)),i=Math.sqrt(Math.abs(r.x-e)+Math.abs(r.y-n));return Z.some(i<o?r:t)}))}),Z.none())}(a,r,o).map((function(t){return t.cell}))},Yk=V(Kk,(function(t){return t.bottom}),(function(t,e){return t.y<e})),Xk=V(Kk,(function(t){return t.top}),(function(t,e){return t.y>e})),Zk=function(t,e,n){var r=t(e,n);return function(t){return t.breakType===my.Wrap&&0===t.positions.length}(r)||!ho(n.getNode())&&function(t){return t.breakType===my.Br&&1===t.positions.length}(r)?!function(t,e,n){return n.breakAt.exists((function(n){return t(e,n).breakAt.isSome()}))}(t,e,r):r.breakAt.isNone()},Jk=V(Zk,cC),Qk=V(Zk,sC),tO=function(t,e,n,r){var o=t.selection.getRng(),i=e?1:-1;return!(!Tl()||!function(t,e,n){var r=Wu.fromRangeStart(e);return _f(!t,n).exists((function(t){return t.isEqual(r)}))}(e,o,n)||(s_(i,t,n,!e,!1).each((function(e){EC(t,e)})),0))},eO=function(t,e,n){var r=function(t,e){var n=e.getNode(t);return io(n)?Z.some(n):Z.none()}(!!e,n),o=!1===e;r.fold((function(){return EC(t,n.toRange())}),(function(r){return _f(o,t.getBody()).filter((function(t){return t.isEqual(n)})).fold((function(){return EC(t,n.toRange())}),(function(n){return function(t,e,n){e.undoManager.transact((function(){var r=t?Sr:Or,o=xk(e,Rn(n),r);EC(e,o)}))}(e,t,r)}))}))},nO=function(t,e,n,r){var o=t.selection.getRng(),i=Wu.fromRangeStart(o),a=t.getBody();if(!e&&Jk(r,i)){var u=function(t,e,n){return function(t,e){return _t(e.getClientRects()).bind((function(e){return Yk(t,e.left,e.top)})).bind((function(t){return uC(Sf(n=t).map((function(t){return cC(n,t).positions.concat(t)})).getOr([]),e);var n}))}(e,n).orThunk((function(){return _t(n.getClientRects()).bind((function(n){return aC(lC(t,Wu.before(e)),n.left)}))})).getOr(Wu.before(e))}(a,n,i);return eO(t,e,u),!0}if(e&&Qk(r,i)){var c=function(t,e,n){return function(t,e){return Ct(e.getClientRects()).bind((function(e){return Xk(t,e.left,e.top)})).bind((function(t){return uC(Of(n=t).map((function(t){return[t].concat(sC(n,t).positions)})).getOr([]),e);var n}))}(e,n).orThunk((function(){return _t(n.getClientRects()).bind((function(n){return aC(fC(t,Wu.after(e)),n.left)}))})).getOr(Wu.after(e))}(a,n,i);return eO(t,e,c),!0}return!1},rO=function(t,e,n){return Z.from(t.dom.getParent(t.selection.getNode(),"td,th")).bind((function(r){return Z.from(t.dom.getParent(r,"table")).map((function(o){return n(t,e,o,r)}))})).getOr(!1)},oO=function(t,e){return rO(t,e,tO)},iO=function(t,e){return rO(t,e,nO)},aO=function(t,e,n){return n.fold(Z.none,Z.none,(function(t,e){return(n=e,function(t,e){var n=function t(n){for(var r=0;r<n.childNodes.length;r++){var o=Rn(n.childNodes[r]);if(e(o))return Z.some(o);var i=t(n.childNodes[r]);if(i.isSome())return i}return Z.none()};return n(t.dom)}(n,Mm)).map((function(t){return function(t){var e=xp.exact(t,0,t,0);return Op(e)}(t)}));var n}),(function(n){return t.execCommand("mceTableInsertRowAfter"),uO(t,e,n)}))},uO=function(t,e,n){return aO(t,e,(o=mr,Gk(r=n,void 0).fold((function(){return Hk.none(r)}),(function(t){return $k(t.all,r,t.index,1,o)}))));var r,o},cO=function(t,e,n){return aO(t,e,(o=mr,Gk(r=n,void 0).fold((function(){return Hk.none()}),(function(t){return $k(t.all,r,t.index,-1,o)}))));var r,o},sO=function(t,e){var n=["table","li","dl"],r=Rn(t.getBody()),o=function(t){var e=en(t);return Ln(t,r)||nt(n,e)},i=t.selection.getRng();return function(t,e){return function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Y;return n(e)?Z.none():nt(t,en(e))?Z.some(e):fr(e,t.join(","),(function(t){return Mn(t,"table")||n(t)}))}(["td","th"],t,e)}(Rn(e?i.endContainer:i.startContainer),o).map((function(n){return Wk(n,o).each((function(e){t.model.table.clearSelectedCells(e.dom)})),t.selection.collapse(!e),(e?uO:cO)(t,o,n).each((function(e){t.selection.setRng(e)})),!0})).getOr(!1)},lO=function(t,e){return{container:t,offset:e}},fO=qa.DOM,dO=function(t){return function(e){return t===e?-1:0}},pO=function(t,e,n){if(co(t)&&e>=0)return Z.some(lO(t,e));var r=vu(fO);return Z.from(r.backwards(t,e,dO(t),n)).map((function(t){return lO(t.container,t.container.data.length)}))},mO=function t(e,n,r){if(!co(e))return Z.none();var o=e.data;if(n>=0&&n<=o.length)return Z.some(lO(e,n));var i=vu(fO);return Z.from(i.backwards(e,n,dO(e),r)).bind((function(e){var o=e.container.data;return t(e.container,n+o.length,r)}))},hO=function t(e,n,r){if(!co(e))return Z.none();var o=e.data;if(n<=o.length)return Z.some(lO(e,n));var i=vu(fO);return Z.from(i.forwards(e,n,dO(e),r)).bind((function(e){return t(e.container,n-o.length,r)}))},vO=function(t,e,n,r,o){var i=vu(t,function(t){return function(e){return t.isBlock(e)||nt(["BR","IMG","HR","INPUT"],e.nodeName)||"false"===t.getContentEditable(e)}}(t));return Z.from(i.backwards(e,n,r,o))},gO=function(t){return Go(t.toString().replace(/\u00A0/g," "))},bO=function(t){return""!==t&&-1!=="  \f\n\r\t\v".indexOf(t)},yO=function(t,e){return t.substring(e.length)},xO=function(t,e,n){var r,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return(r=Rn(e.startContainer),pr(r,Bm)).fold((function(){return function(t,e,n){var r,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(!(r=e).collapsed||!co(r.startContainer))return Z.none();var i={text:"",offset:0},a=t.getParent(e.startContainer,t.isBlock)||t.getRoot();return vO(t,e.startContainer,e.startOffset,(function(t,e,r){return i.text=r+i.text,i.offset+=e,function(t,e,n){var r,o=n.charAt(0);for(r=e-1;r>=0;r--){var i=t.charAt(r);if(bO(i))return Z.none();if(o===i&&ee(t,n,r,e))break}return Z.some(r)}(i.text,i.offset,n).getOr(e)}),a).bind((function(t){var r=e.cloneRange();if(r.setStart(t.container,t.offset),r.setEnd(e.endContainer,e.endOffset),r.collapsed)return Z.none();var i=gO(r);return 0!==i.lastIndexOf(n)||yO(i,n).length<o?Z.none():Z.some({text:yO(i,n),range:r,trigger:n})}))}(t,e,n,o)}),(function(e){var r=t.createRng();r.selectNode(e.dom);var o=gO(r);return Z.some({range:r,text:yO(o,n),trigger:n})}))},wO=function t(e){if(function(t){return 3===t.nodeType}(e))return lO(e,e.data.length);var n=e.childNodes;return n.length>0?t(n[n.length-1]):lO(e,n.length)},_O=function t(e,n){var r=e.childNodes;return r.length>0&&n<r.length?t(r[n],0):r.length>0&&function(t){return 1===t.nodeType}(e)&&r.length===n?wO(r[r.length-1]):lO(e,n)},CO=function(t,e,n){var r,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=e(),a=null!==(r=t.selection.getRng().startContainer.nodeValue)&&void 0!==r?r:"",u=ct(i.lookupByTrigger(n.trigger),(function(e){return n.text.length>=e.minChars&&e.matches.getOrThunk((function(){return function(t){return function(e){var n=_O(e.startContainer,e.startOffset);return!function(t,e){var n,r=null!==(n=t.getParent(e.container,t.isBlock))&&void 0!==n?n:t.getRoot();return vO(t,e.container,e.offset,(function(t,e){return 0===e?-1:e}),r).filter((function(t){var e=t.container.data.charAt(t.offset-1);return!bO(e)})).isSome()}(t,n)}}(t.dom)}))(n.range,a,n.text)}));if(0===u.length)return Z.none();var c=Promise.all(ot(u,(function(t){return t.fetch(n.text,t.maxResults,o).then((function(e){return{matchText:n.text,items:e,columns:t.columns,onAction:t.onAction,highlightOn:t.highlightOn}}))})));return Z.some({lookupData:c,context:n})};!function(t){t[t.Error=0]="Error",t[t.Value=1]="Value"}(xC||(xC={}));var kO,OO=function(t,e,n){return t.stype===xC.Error?e(t.serror):n(t.svalue)},SO=function(t){return{stype:xC.Value,svalue:t}},EO=function(t){return{stype:xC.Error,serror:t}},TO=OO,AO=function(t){return E(t)&&St(t).length>100?" removed due to size":JSON.stringify(t,null,2)},NO=function(t,e){return EO([{path:t,getErrorInfo:e}])},RO=function(t,e){return{extract:function(n,r){return Lt(r,t).fold((function(){return function(t,e){return NO(t,(function(){return'Choice schema did not contain choice key: "'+e+'"'}))}(n,t)}),(function(t){return function(t,e,n,r){return Lt(n,r).fold((function(){return function(t,e,n){return NO(t,(function(){return'The chosen schema: "'+n+'" did not exist in branches: '+AO(e)}))}(t,n,r)}),(function(n){return n.extract(t.concat(["branch: "+r]),e)}))}(n,r,e,t)}))},toString:function(){return"chooseOn("+t+"). Possible values: "+St(e)}}},DO=function(t){return function(){if(0===arguments.length)throw new Error("Can't merge zero objects");for(var e={},n=0;n<arguments.length;n++){var r=n<0||arguments.length<=n?void 0:arguments[n];for(var o in r)It(r,o)&&(e[o]=t(e[o],r[o]))}return e}},PO=DO((function(t,e){return T(t)&&T(e)?PO(t,e):e})),MO=(DO((function(t,e){return e})),function(t){return{tag:"defaultedThunk",process:z(t)}}),BO=function(t){var e,n=function(t){var e=[],n=[];return it(t,(function(t){OO(t,(function(t){return n.push(t)}),(function(t){return e.push(t)}))})),{values:e,errors:n}}(t);return n.errors.length>0?(e=n.errors,F(EO,mt)(e)):SO(n.values)},LO=function(t,e,n){switch(t.tag){case"field":return e(t.key,t.newKey,t.presence,t.prop);case"custom":return n(t.newKey,t.instantiator)}},IO=function(t){return{extract:function(e,n){return r=t(n),o=function(t){return function(t,e){return NO(t,z(e))}(e,t)},r.stype===xC.Error?o(r.serror):r;var r,o},toString:z("val")}},jO=IO(SO),FO=function(t,e,n,r){return r(Lt(t,e).getOrThunk((function(){return n(t)})))},qO=function(t,e,n,r,o){var i=function(t){return o.extract(e.concat([r]),t)},a=function(t){return t.fold((function(){return SO(Z.none())}),(function(t){var n,i,a=o.extract(e.concat([r]),t);return n=a,i=Z.some,n.stype===xC.Value?{stype:xC.Value,svalue:i(n.svalue)}:n}))};switch(t.tag){case"required":return function(t,e,n,r){return Lt(e,n).fold((function(){return function(t,e,n){return NO(t,(function(){return'Could not find valid *required* value for "'+e+'" in '+AO(n)}))}(t,n,e)}),r)}(e,n,r,i);case"defaultedThunk":return FO(n,r,t.process,i);case"option":return function(t,e,n){return n(Lt(t,e))}(n,r,a);case"defaultedOptionThunk":return function(t,e,n,r){return r(Lt(t,e).map((function(e){return!0===e?n(t):e})))}(n,r,t.process,a);case"mergeWithThunk":return FO(n,r,z({}),(function(e){var r=PO(t.process(n),e);return i(r)}))}},zO=function(t){return{extract:function(e,n){return function(t,e,n){var r,o={},i=[],a=u(n);try{for(a.s();!(r=a.n()).done;){var c=r.value;LO(c,(function(n,r,a,u){var c=qO(a,t,e,n,u);TO(c,(function(t){i.push.apply(i,f(t))}),(function(t){o[r]=t}))}),(function(t,n){o[t]=n(e)}))}}catch(s){a.e(s)}finally{a.f()}return i.length>0?EO(i):SO(o)}(e,n,t)},toString:function(){var e=ot(t,(function(t){return LO(t,(function(t,e,n,r){return t+" -> "+r.toString()}),(function(t,e){return"state("+t+")"}))}));return"obj{\n"+e.join("\n")+"}"}}},UO=function(t){return{extract:function(e,n){var r=ot(n,(function(n,r){return t.extract(e.concat(["["+r+"]"]),n)}));return BO(r)},toString:function(){return"array("+t.toString()+")"}}},HO=function(t,e,n){return r=function(t,e,n){return function(t,e){return t.stype===xC.Error?{stype:xC.Error,serror:e(t.serror)}:t}(e.extract([t],n),(function(t){return{input:n,errors:t}}))}(t,e,n),OO(r,hc.error,hc.value);var r},VO=function(t,e){return RO(t,At(e,zO))},WO=z(jO),$O=function(t,e){return IO((function(n){var r=m(n);return t(n)?SO(n):EO("Expected type: ".concat(e," but got: ").concat(r))}))},GO=$O(L,"number"),KO=$O(S,"string"),YO=$O(R,"boolean"),XO=$O(B,"function"),ZO=function(t,e,n,r){return{tag:"field",key:t,newKey:e,presence:n,prop:r}},JO=function(t,e){return{tag:"custom",newKey:t,instantiator:e}},QO=function(t,e){return ZO(t,t,{tag:"required",process:{}},e)},tS=function(t){return QO(t,KO)},eS=function(t){return QO(t,XO)},nS=function(t,e){return ZO(t,t,{tag:"option",process:{}},e)},rS=function(t){return nS(t,KO)},oS=function(t,e,n){return ZO(t,t,MO(e),n)},iS=function(t,e){return oS(t,e,GO)},aS=function(t,e,n){return oS(t,e,function(t){return e=function(e){return nt(t,e)?hc.value(e):hc.error('Unsupported value: "'.concat(e,'", choose one of "').concat(t.join(", "),'".'))},IO((function(t){return e(t).fold(EO,SO)}));var e}(n))},uS=function(t,e){return oS(t,e,YO)},cS=function(t,e){return oS(t,e,XO)},sS=tS("type"),lS=eS("fetch"),fS=eS("onAction"),dS=cS("onSetup",(function(){return j})),pS=rS("text"),mS=rS("icon"),hS=rS("tooltip"),vS=rS("label"),gS=uS("active",!1),bS=uS("enabled",!0),yS=uS("primary",!1),xS=function(t){return function(t,e){return oS("type",e,KO)}(0,t)},wS=zO([sS,tS("trigger"),iS("minChars",1),function(t,e){return ZO(t,t,MO(1),WO())}("columns"),iS("maxResults",10),nS("matches",XO),lS,fS,(kO=KO,oS("highlightOn",[],UO(kO)))]),_S=[bS,hS,mS,pS,dS],CS=[gS].concat(_S),kS=[cS("predicate",Y),aS("scope","node",["node","editor"]),aS("position","selection",["node","selection","line"])],OS=_S.concat([xS("contextformbutton"),yS,fS,JO("original",U)]),SS=CS.concat([xS("contextformbutton"),yS,fS,JO("original",U)]),ES=_S.concat([xS("contextformbutton")]),TS=CS.concat([xS("contextformtogglebutton")]),AS=VO("type",{contextformbutton:OS,contextformtogglebutton:SS});zO([xS("contextform"),cS("initValue",z("")),vS,function(t,e){return ZO(t,t,{tag:"required",process:{}},UO(e))}("commands",AS),nS("launch",VO("type",{contextformbutton:ES,contextformtogglebutton:TS}))].concat(kS));var NS,RS=function(t){var e=t.ui.registry.getAll().popups,n=At(e,(function(t){return(e=t,HO("Autocompleter",wS,s({trigger:e.ch},e))).fold((function(t){throw new Error("Errors: \n"+function(t){var e=t.length>10?t.slice(0,10).concat([{path:[],getErrorInfo:z("... (only showing first ten failures)")}]):t;return ot(e,(function(t){return"Failed path: ("+t.path.join(" > ")+")\n"+t.getErrorInfo()}))}((e=t).errors).join("\n")+"\n\nInput object: "+AO(e.input));var e}),U);var e})),r=Ft(Mt(n,(function(t){return t.trigger}))),o=Bt(n);return{dataset:n,triggers:r,lookupByTrigger:function(t){return ct(o,(function(e){return e.trigger===t}))}}},DS=function(t){var e=Xa(),n=Ha(!1),r=e.isSet,o=function(){r()&&(function(t){Ix(t).autocompleter.removeDecoration()}(t),function(t){t.dispatch("AutocompleterEnd")}(t),n.set(!1),e.clear())},i=Kt((function(){return RS(t)})),a=function(a){(function(n){return e.get().map((function(e){return xO(t.dom,t.selection.getRng(),e.trigger).bind((function(e){return CO(t,i,e,n)}))})).getOrThunk((function(){return function(t,e){var n=e(),r=t.selection.getRng();return function(t,e,n){return Ot(n.triggers,(function(n){return xO(t,e,n)}))}(t.dom,r,n).bind((function(n){return CO(t,e,n)}))}(t,i)}))})(a).fold(o,(function(i){(function(n){r()||(function(t,e){Ix(t).autocompleter.addDecoration(e)}(t,n.range),e.set({trigger:n.trigger,matchLength:n.text.length}))})(i.context),i.lookupData.then((function(r){e.get().map((function(a){var u=i.context;a.trigger===u.trigger&&(u.text.length-a.matchLength>=10?o():(e.set(s(s({},a),{},{matchLength:u.text.length})),n.get()?function(t,e){t.dispatch("AutocompleterUpdate",e)}(t,{lookupData:r}):(n.set(!0),function(t,e){t.dispatch("AutocompleterStart",e)}(t,{lookupData:r}))))}))}))}))};t.addCommand("mceAutocompleterReload",(function(t,e){var n=E(e)?e.fetchOptions:{};a(n)})),t.addCommand("mceAutocompleterClose",o),function(t,e){var n=Ja(e.load,50);t.on("keypress compositionend",(function(t){27!==t.which&&n.throttle()})),t.on("keydown",(function(t){var r=t.which;8===r?n.throttle():27===r&&e.cancelIfNecessary()})),t.on("remove",n.cancel)}(t,{cancelIfNecessary:o,load:a})},PS=function(t){return function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=e.getBody(),i={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:o,currentTarget:o,eventPhase:Event.AT_TARGET,originalTarget:o,explicitOriginalTarget:o,isTrusted:!1,srcElement:o,cancelable:!1,preventDefault:j,inputType:n},a=Ca(new InputEvent(t));return e.dispatch(t,s(s(s({},a),i),r))}},MS=PS("input"),BS=PS("beforeinput"),LS=function(t,e){var n=t.dom,r=t.schema.getMoveCaretBeforeOnEnterElements();if(e){if(/^(LI|DT|DD)$/.test(e.nodeName)){var o=function(t){for(;t;){if(Qr(t)||co(t)&&t.data&&/[\r\n\s]/.test(t.data))return t;t=t.nextSibling}return null}(e.firstChild);o&&/^(UL|OL|DL)$/.test(o.nodeName)&&e.insertBefore(n.doc.createTextNode(ko),e.firstChild)}var i=n.createRng();if(e.normalize(),e.hasChildNodes()){for(var a,u=new Xr(e,e),c=e;a=u.current();){if(co(a)){i.setStart(a,0),i.setEnd(a,0);break}if(r[a.nodeName.toLowerCase()]){i.setStartBefore(a),i.setEndBefore(a);break}c=a,a=u.next()}a||(i.setStart(c,0),i.setEnd(c,0))}else ho(e)?e.nextSibling&&n.isBlock(e.nextSibling)?(i.setStartBefore(e),i.setEndBefore(e)):(i.setStartAfter(e),i.setEndAfter(e)):(i.setStart(e,0),i.setEnd(e,0));t.selection.setRng(i),om(t,i)}},IS=function(t,e){for(var n,r=t.getRoot(),o=e;o!==r&&o&&"false"!==t.getContentEditable(o);)"true"===t.getContentEditable(o)&&(n=o),o=o.parentNode;return o!==r?n:r},jS=function(t){return Z.from(t.dom.getParent(t.selection.getStart(!0),t.dom.isBlock))},FS=function(t,e){var n=null==t?void 0:t.parentNode;return M(n)&&n.nodeName===e},qS=function(t){return M(t)&&/^(OL|UL|LI)$/.test(t.nodeName)},zS=function(t){var e,n=t.parentNode;return M(e=n)&&/^(LI|DT|DD)$/.test(e.nodeName)?n:t},US=function(t,e,n){for(var r=t[n?"firstChild":"lastChild"];r&&!Qr(r);)r=r[n?"nextSibling":"previousSibling"];return r===e},HS=function(t,e){return e&&"A"===e.nodeName&&t.isEmpty(e)},VS=function(t){t.innerHTML='<br data-mce-bogus="1">'},WS=function(t,e){return t.nodeName===e||t.previousSibling&&t.previousSibling.nodeName===e},$S=function(t,e){return M(e)&&t.isBlock(e)&&!/^(TD|TH|CAPTION|FORM)$/.test(e.nodeName)&&!/^(fixed|absolute)/i.test(e.style.position)&&t.isEditable(e.parentNode)&&"false"!==t.getContentEditable(e)},GS=function(t,e,n){return co(e)?t?1===n&&e.data.charAt(n-1)===Wo?0:n:n===e.data.length-1&&e.data.charAt(n)===Wo?e.data.length:n:n},KS=function(t,e){jc(t).toLowerCase()===e.tagName.toLowerCase()&&function(t,e,n){var r=t.dom;Z.from(n.style).map(r.parseStyle).each((function(t){var n=s(s({},Cr(Rn(e))),t);r.setStyles(e,n)}));var o=Z.from(n.class).map((function(t){return t.split(/\s+/)})),i=Z.from(e.className).map((function(t){return ct(t.split(/\s+/),(function(t){return""!==t}))}));Ye(o,i,(function(t,n){var o=ct(n,(function(e){return!nt(t,e)})),i=[].concat(f(t),f(o));r.setAttrib(e,"class",i.join(" "))}));var a=["style","class"],u=Pt(n,(function(t,e){return!nt(a,e)}));r.setAttribs(e,u)}(t,e,Fc(t))},YS={insert:function(t,e){var n,r,o,i,a=!1,u=t.dom,c=t.schema,s=c.getNonEmptyElements(),l=t.selection.getRng(),f=jc(t),d=function(e){var r,i=n,a=c.getTextInlineElements();r=e||"TABLE"===o||"HR"===o?u.create(e||f):b.cloneNode(!1);var s=r;if(!1===Hc(t))u.setAttrib(r,"style",null),u.setAttrib(r,"class",null);else do{if(a[i.nodeName]){if(Tf(i)||zf(i))continue;var l=i.cloneNode(!1);u.setAttrib(l,"id",""),r.hasChildNodes()?(l.appendChild(r.firstChild),r.appendChild(l)):(s=l,r.appendChild(l))}}while((i=i.parentNode)&&i!==g);return KS(t,r),VS(s),r},p=function(t){var e=GS(t,n,r);if(co(n)&&(t?e>0:e<n.data.length))return!1;if(n.parentNode===b&&a&&!t)return!0;if(t&&Qr(n)&&n===b.firstChild)return!0;if(WS(n,"TABLE")||WS(n,"HR"))return a&&!t||!a&&t;var o,i=new Xr(n,b);for(co(n)&&(t&&0===e?i.prev():t||e!==n.data.length||i.next());o=i.current();){if(Qr(o)){if(!o.getAttribute("data-mce-bogus")){var u=o.nodeName.toLowerCase();if(s[u]&&"br"!==u)return!1}}else if(co(o)&&!bi(o.data))return!1;t?i.prev():i.next()}return!0},m=function(){var e;return e=/^(H[1-6]|PRE|FIGURE)$/.test(o)&&"HGROUP"!==y?d(f):d(),function(t,e){var n=Vc(t);return!P(e)&&(S(n)?nt(Ge.explode(n),e.nodeName.toLowerCase()):n)}(t,i)&&$S(u,i)&&u.isEmpty(b)?e=u.split(i,b):u.insertAfter(e,b),LS(t,e),e};Mp(u,l).each((function(t){l.setStart(t.startContainer,t.startOffset),l.setEnd(t.endContainer,t.endOffset)})),n=l.startContainer,r=l.startOffset;var h=!(!e||!e.shiftKey),v=!(!e||!e.ctrlKey);Qr(n)&&n.hasChildNodes()&&(a=r>n.childNodes.length-1,n=n.childNodes[Math.min(r,n.childNodes.length-1)]||n,r=a&&co(n)?n.data.length:0);var g=IS(u,n);if(g&&!function(t,e){var n=t.dom.getParent(e,"ol,ul,dl");return null!==n&&"false"===t.dom.getContentEditableParent(n)}(t,n)){h||(n=function(t,e,n,r,o){var i,a,u=t.dom,c=null!==(i=IS(u,r))&&void 0!==i?i:u.getRoot(),s=u.getParent(r,u.isBlock);if(!s||!$S(u,s)){if(s=s||c,!s.hasChildNodes()){var l=u.create(e);return KS(t,l),s.appendChild(l),n.setStart(l,0),n.setEnd(l,0),l}for(var f,d=r;d&&d.parentNode!==s;)d=d.parentNode;for(;d&&!u.isBlock(d);)f=d,d=d.previousSibling;var p=null===(a=null==f?void 0:f.parentElement)||void 0===a?void 0:a.nodeName;if(f&&p&&t.schema.isValidChild(p,e.toLowerCase())){var m=f.parentNode,h=u.create(e);for(KS(t,h),m.insertBefore(h,f),d=f;d&&!u.isBlock(d);){var v=d.nextSibling;h.appendChild(d),d=v}n.setStart(r,o),n.setEnd(r,o)}}return r}(t,f,l,n,r));var b=u.getParent(n,u.isBlock)||u.getRoot();i=M(null==b?void 0:b.parentNode)?u.getParent(b.parentNode,u.isBlock):null,o=b?b.nodeName.toUpperCase():"";var y=i?i.nodeName.toUpperCase():"";if("LI"!==y||v||(b=i,i=i.parentNode,o=y),/^(LI|DT|DD)$/.test(o)&&Qr(i)&&u.isEmpty(b))(function(t,e,n,r,o){var i=t.dom,a=t.selection.getRng(),u=n.parentNode;if(n!==t.getBody()&&u){var c;qS(c=n)&&qS(c.parentNode)&&(o="LI");var s=e(o);if(US(n,r,!0)&&US(n,r,!1))if(FS(n,"LI")){var l=zS(n);i.insertAfter(s,l),function(t){var e;return(null===(e=t.parentNode)||void 0===e?void 0:e.firstChild)===t}(n)?i.remove(l):i.remove(n)}else i.replace(s,n);else if(US(n,r,!0))FS(n,"LI")?(i.insertAfter(s,zS(n)),s.appendChild(i.doc.createTextNode(" ")),s.appendChild(n)):u.insertBefore(s,n),i.remove(r);else if(US(n,r,!1))i.insertAfter(s,zS(n)),i.remove(r);else{n=zS(n);var f=a.cloneRange();f.setStartAfter(r),f.setEndAfter(n);var d=f.extractContents();"LI"===o&&function(t,e){return t.firstChild&&"LI"===t.firstChild.nodeName}(d)?(s=d.firstChild,i.insertAfter(d,n)):(i.insertAfter(d,n),i.insertAfter(s,n)),i.remove(r)}LS(t,s)}})(t,d,i,b,f);else if(b!==t.getBody()&&$S(u,b)){var x,w=b.parentNode;if(Xo(b))x=oi(b),u.isEmpty(b)&&VS(b),KS(t,x),LS(t,x);else if(p(!1))x=m();else if(p(!0)&&w)x=w.insertBefore(d(),b),LS(t,WS(b,"HR")?x:b);else{var _=function(t){var e=t.cloneRange();return e.setStart(t.startContainer,GS(!0,t.startContainer,t.startOffset)),e.setEnd(t.endContainer,GS(!1,t.endContainer,t.endOffset)),e}(l).cloneRange();_.setEndAfter(b);var C=_.extractContents();(function(t){it(Gr(Rn(t),an),(function(t){var e=t.dom;e.nodeValue=Go(e.data)}))})(C),function(t){var e=t;do{co(e)&&(e.data=e.data.replace(/^[\r\n]+/,"")),e=e.firstChild}while(e)}(C),x=C.firstChild,u.insertAfter(C,b),function(t,e,n){var r,o=[];if(n){for(var i=n;i=i.firstChild;){if(t.isBlock(i))return;Qr(i)&&!e[i.nodeName.toLowerCase()]&&o.push(i)}for(var a=o.length;a--;)i=o[a],(!i.hasChildNodes()||i.firstChild===i.lastChild&&""===(null===(r=i.firstChild)||void 0===r?void 0:r.nodeValue)||HS(t,i))&&t.remove(i)}}(u,s,x),function(t,e){e.normalize();var n=e.lastChild;(!n||Qr(n)&&/^(left|right)$/gi.test(t.getStyle(n,"float",!0)))&&t.add(e,"br")}(u,b),u.isEmpty(b)&&VS(b),x.normalize(),u.isEmpty(x)?(u.remove(x),m()):(KS(t,x),LS(t,x))}u.setAttrib(x,"id",""),t.dispatch("NewBlock",{newBlock:x})}}},fakeEventName:"insertParagraph"},XS=function(t,e,n){var r=t.dom.createRng();n?(r.setStartBefore(e),r.setEndBefore(e)):(r.setStartAfter(e),r.setEndAfter(e)),t.selection.setRng(r),om(t,r)},ZS=function(t,e){var n=An("br");Or(Rn(e),n),t.undoManager.add()},JS=function(t,e){QS(t.getBody(),e)||Sr(Rn(e),An("br"));var n=An("br");Sr(Rn(e),n),XS(t,n.dom,!1),t.undoManager.add()},QS=function(t,e){return n=Wu.after(e),!!ho(n.getNode())||Cf(t,Wu.after(e)).map((function(t){return ho(t.getNode())})).getOr(!1);var n},tE=function(t){return t&&"A"===t.nodeName&&"href"in t},eE=function(t){return t.fold(Y,tE,tE,Y)},nE=function(t,e){e.fold(j,V(ZS,t),V(JS,t),j)},rE={insert:function(t,e){var n=function(t){var e=V(uv,t),n=Wu.fromRangeStart(t.selection.getRng());return W_(e,t.getBody(),n).filter(eE)}(t);n.isSome()?n.each(V(nE,t)):function(t,e){var n,r=t.selection,o=t.dom,i=r.getRng(),a=!1;Mp(o,i).each((function(t){i.setStart(t.startContainer,t.startOffset),i.setEnd(t.endContainer,t.endOffset)}));var u=i.startOffset,c=i.startContainer;if(Qr(c)&&c.hasChildNodes()){var s=u>c.childNodes.length-1;c=c.childNodes[Math.min(u,c.childNodes.length-1)]||c,u=s&&co(c)?c.data.length:0}var l=o.getParent(c,o.isBlock),f=l&&l.parentNode?o.getParent(l.parentNode,o.isBlock):null,d=f?f.nodeName.toUpperCase():"",p=!(!e||!e.ctrlKey);"LI"!==d||p||(l=f),co(c)&&u>=c.data.length&&(function(t,e,n){for(var r,o=new Xr(e,n),i=t.getNonEmptyElements();r=o.next();)if(i[r.nodeName.toLowerCase()]||co(r)&&r.length>0)return!0;return!1}(t.schema,c,l||o.getRoot())||(n=o.create("br"),i.insertNode(n),i.setStartAfter(n),i.setEndAfter(n),a=!0)),n=o.create("br"),Gu(o,i,n),XS(t,n,a),t.undoManager.add()}(t,e)},fakeEventName:"insertLineBreak"},oE=function(t,e){return jS(t).filter((function(t){return e.length>0&&Mn(Rn(t),e)})).isSome()},iE=vc([{br:[]},{block:[]},{none:[]}]),aE=function(t,e){return function(t){return oE(t,Uc(t))}(t)},uE=function(t){return function(e,n){return function(t){return jS(t).filter((function(t){return Lo(Rn(t))})).isSome()}(e)===t}},cE=function(t,e){return function(n,r){var o=function(t){return jS(t).fold(z(""),(function(t){return t.nodeName.toUpperCase()}))}(n)===t.toUpperCase();return o===e}},sE=function(t){var e=IS(t.dom,t.selection.getStart());return P(e)},lE=function(t){return cE("pre",t)},fE=function(t){return function(e,n){return Ic(e)===t}},dE=function(t,e){return function(t){return oE(t,zc(t))}(t)},pE=function(t,e){return e},mE=function(t){var e=jc(t),n=IS(t.dom,t.selection.getStart());return M(n)&&t.schema.isValidChild(n.nodeName,e)},hE=function(t,e){return function(n,r){return lt(t,(function(t,e){return t&&e(n,r)}),!0)?Z.some(e):Z.none()}},vE=function(t,e,n){e.selection.isCollapsed()||function(t){t.execCommand("delete")}(e),M(n)&&BS(e,t.fakeEventName).isDefaultPrevented()||(t.insert(e,n),M(n)&&MS(e,t.fakeEventName))},gE=function(t,e){var n=function(){return vE(rE,t,e)},r=function(){return vE(YS,t,e)},o=function(t,e){return B_([hE([aE],iE.none()),hE([lE(!0),sE],iE.none()),hE([cE("summary",!0)],iE.br()),hE([lE(!0),fE(!1),pE],iE.br()),hE([lE(!0),fE(!1)],iE.block()),hE([lE(!0),fE(!0),pE],iE.block()),hE([lE(!0),fE(!0)],iE.br()),hE([uE(!0),pE],iE.br()),hE([uE(!0)],iE.block()),hE([dE],iE.br()),hE([pE],iE.br()),hE([mE],iE.block())],[t,!(!e||!e.shiftKey)]).getOr(iE.none())}(t,e);switch(qc(t)){case"linebreak":o.fold(n,n,j);break;case"block":o.fold(r,r,j);break;case"invert":o.fold(r,n,j);break;default:o.fold(n,r,j)}},bE=Le(),yE=function(t){return t.stopImmediatePropagation()},xE=function(t){return t.keyCode===ip.PAGE_UP||t.keyCode===ip.PAGE_DOWN},wE=function(t,e,n){n&&!t.get()?e.on("NodeChange",yE,!0):!n&&t.get()&&e.off("NodeChange",yE),t.set(n)},_E=function(t,e){var n=e.container(),r=e.offset();return co(n)?(n.insertData(r,t),Z.some(Wu(n,r+t.length))):ef(e).map((function(n){var r=Nn(t);return e.isAtEnd()?Sr(n,r):Or(n,r),Wu(r.dom,t.length)}))},CE=V(_E,ko),kE=V(_E," "),OE=function(t,e){return function(n){return function(t,e){return!jh(e)&&(function(t,e){return function(t,e){return kf(t.dom,e).isNone()}(t,e)||function(t,e){return Cf(t.dom,e).isNone()}(t,e)||kh(t,e)||Oh(t,e)||Rh(t,e)||Nh(t,e)}(t,e)||Lh(t,e)||Ih(t,e))}(t,n)?CE(e):kE(e)}},SE=function(t){var e=Wu.fromRangeStart(t.selection.getRng()),n=Rn(t.getBody());if(t.selection.isCollapsed()){var r=V(uv,t),o=Wu.fromRangeStart(t.selection.getRng());return W_(r,t.getBody(),o).bind(function(t){return function(e){return e.fold((function(e){return kf(t.dom,Wu.before(e))}),(function(t){return Of(t)}),(function(t){return Sf(t)}),(function(e){return Cf(t.dom,Wu.after(e))}))}}(n)).map((function(r){return function(){return OE(n,e)(r).each(function(t){return function(e){return t.selection.setRng(e.toRange()),t.nodeChanged(),!0}}(t))}}))}return Z.none()},EE=function(t){return ml(t)?[{keyCode:ip.TAB,action:Lk(sO,t,!0)},{keyCode:ip.TAB,shiftKey:!0,action:Lk(sO,t,!1)}]:[]},TE=function(t){if(t.addShortcut("Meta+P","","mcePrint"),DS(t),Bx(t))return Ha(null);var e=FC(t);return function(t){t.on("keyup compositionstart",V(kk,t))}(t),function(t,e){t.on("keydown",(function(n){n.isDefaultPrevented()||function(t,e,n){var r=He.os.isMacOS()||He.os.isiOS();Ik([{keyCode:ip.RIGHT,action:Lk(Ek,t,!0)},{keyCode:ip.LEFT,action:Lk(Ek,t,!1)},{keyCode:ip.UP,action:Lk(Tk,t,!1)},{keyCode:ip.DOWN,action:Lk(Tk,t,!0)}].concat(f(r?[{keyCode:ip.UP,action:Lk(Nk,t,!1),metaKey:!0,shiftKey:!0},{keyCode:ip.DOWN,action:Lk(Nk,t,!0),metaKey:!0,shiftKey:!0}]:[]),[{keyCode:ip.RIGHT,action:Lk(oO,t,!0)},{keyCode:ip.LEFT,action:Lk(oO,t,!1)},{keyCode:ip.UP,action:Lk(iO,t,!1)},{keyCode:ip.DOWN,action:Lk(iO,t,!0)},{keyCode:ip.RIGHT,action:Lk(Fk,t,!0)},{keyCode:ip.LEFT,action:Lk(Fk,t,!1)},{keyCode:ip.UP,action:Lk(qk,t,!1)},{keyCode:ip.DOWN,action:Lk(qk,t,!0)},{keyCode:ip.RIGHT,action:Lk(IC,t,e,!0)},{keyCode:ip.LEFT,action:Lk(IC,t,e,!1)},{keyCode:ip.RIGHT,ctrlKey:!r,altKey:r,action:Lk(qC,t,e)},{keyCode:ip.LEFT,ctrlKey:!r,altKey:r,action:Lk(zC,t,e)},{keyCode:ip.UP,action:Lk(Pk,t,!1)},{keyCode:ip.DOWN,action:Lk(Pk,t,!0)}]),n).each((function(t){n.preventDefault()}))}(t,e,n)}))}(t,e),function(t,e){var n=!1;t.on("keydown",(function(r){n=r.keyCode===ip.BACKSPACE,r.isDefaultPrevented()||function(t,e,n){var r=n.keyCode===ip.BACKSPACE?"deleteContentBackward":"deleteContentForward";jk([{keyCode:ip.BACKSPACE,action:Lk(fk,t)},{keyCode:ip.BACKSPACE,action:Lk(C_,t,!1)},{keyCode:ip.DELETE,action:Lk(C_,t,!0)},{keyCode:ip.BACKSPACE,action:Lk(h_,t,!1)},{keyCode:ip.DELETE,action:Lk(h_,t,!0)},{keyCode:ip.BACKSPACE,action:Lk(WC,t,e,!1)},{keyCode:ip.DELETE,action:Lk(WC,t,e,!0)},{keyCode:ip.BACKSPACE,action:Lk(Hv,t,!1)},{keyCode:ip.DELETE,action:Lk(Hv,t,!0)},{keyCode:ip.BACKSPACE,action:Lk(k_,t,!1)},{keyCode:ip.DELETE,action:Lk(k_,t,!0)},{keyCode:ip.BACKSPACE,action:Lk(rk,t,!1)},{keyCode:ip.DELETE,action:Lk(rk,t,!0)},{keyCode:ip.BACKSPACE,action:Lk(c_,t,!1)},{keyCode:ip.DELETE,action:Lk(c_,t,!0)},{keyCode:ip.BACKSPACE,action:Lk(i_,t,!1)},{keyCode:ip.DELETE,action:Lk(i_,t,!0)},{keyCode:ip.BACKSPACE,action:Lk(QC,t,!1)},{keyCode:ip.DELETE,action:Lk(QC,t,!0)}],n).filter((function(e){return t.selection.isEditable()})).each((function(e){n.preventDefault(),BS(t,r).isDefaultPrevented()||(e(),MS(t,r))}))}(t,e,r)})),t.on("keyup",(function(e){e.isDefaultPrevented()||function(t,e,n){var r=Le(),o=r.os,i=r.browser,a=o.isMacOS()?[{keyCode:ip.BACKSPACE,altKey:!0,action:Lk(ek,t)},{keyCode:ip.DELETE,altKey:!0,action:Lk(ek,t)}]:[{keyCode:ip.BACKSPACE,ctrlKey:!0,action:Lk(ek,t)},{keyCode:ip.DELETE,ctrlKey:!0,action:Lk(ek,t)}];o.isMacOS()&&n&&a.push({keyCode:i.isFirefox()?224:91,action:Lk(ek,t)}),Ik([{keyCode:ip.BACKSPACE,action:Lk(__,t)},{keyCode:ip.DELETE,action:Lk(__,t)}].concat(a),e)}(t,e,n),n=!1}))}(t,e),function(t){t.on("keydown",(function(e){e.keyCode===ip.ENTER&&function(t,e){var n;e.isDefaultPrevented()||(e.preventDefault(),(n=t.undoManager).typing&&(n.typing=!1,n.add()),t.undoManager.transact((function(){gE(t,e)})))}(t,e)}))}(t),function(t){t.on("keydown",(function(e){e.isDefaultPrevented()||function(t,e){jk([{keyCode:ip.SPACEBAR,action:Lk(SE,t)}],e).each((function(n){e.preventDefault(),BS(t,"insertText",{data:" "}).isDefaultPrevented()||(n(),MS(t,"insertText",{data:" "}))}))}(t,e)}))}(t),function(t){t.on("input",(function(e){e.isComposing||function(t){var e=Rn(t.getBody());t.selection.isCollapsed()&&Gh(e,Wu.fromRangeStart(t.selection.getRng())).each((function(e){t.selection.setRng(e.toRange())}))}(t)}))}(t),function(t){t.on("keydown",(function(e){e.isDefaultPrevented()||function(t,e){Ik(f(EE(t)),e).each((function(t){e.preventDefault()}))}(t,e)}))}(t),function(t,e){t.on("keydown",(function(n){n.isDefaultPrevented()||function(t,e,n){var r=He.os.isMacOS()||He.os.isiOS();Ik([{keyCode:ip.END,action:Lk(Ak,t,!0)},{keyCode:ip.HOME,action:Lk(Ak,t,!1)}].concat(f(r?[]:[{keyCode:ip.HOME,action:Lk(Nk,t,!1),ctrlKey:!0,shiftKey:!0},{keyCode:ip.END,action:Lk(Nk,t,!0),ctrlKey:!0,shiftKey:!0}]),[{keyCode:ip.END,action:Lk(zk,t,!0)},{keyCode:ip.HOME,action:Lk(zk,t,!1)},{keyCode:ip.END,action:Lk(UC,t,!0,e)},{keyCode:ip.HOME,action:Lk(UC,t,!1,e)}]),n).each((function(t){n.preventDefault()}))}(t,e,n)}))}(t,e),function(t,e){if(!bE.os.isMacOS()){var n=Ha(!1);t.on("keydown",(function(e){xE(e)&&wE(n,t,!0)})),t.on("keyup",(function(r){r.isDefaultPrevented()||function(t,e,n){Ik([{keyCode:ip.PAGE_UP,action:Lk(UC,t,!1,e)},{keyCode:ip.PAGE_DOWN,action:Lk(UC,t,!0,e)}],n)}(t,e,r),xE(r)&&n.get()&&(wE(n,t,!1),t.nodeChanged())}))}}(t,e),e},AE=function(){function t(e){var n;d(this,t),this.lastPath=[],this.editor=e;var r=this;"onselectionchange"in e.getDoc()||e.on("NodeChange click mouseup keyup focus",(function(t){var r=e.selection.getRng(),o={startContainer:r.startContainer,startOffset:r.startOffset,endContainer:r.endContainer,endOffset:r.endOffset};"nodechange"!==t.type&&Ep(o,n)||e.dispatch("SelectionChange"),n=o})),e.on("contextmenu",(function(){e.dispatch("SelectionChange")})),e.on("SelectionChange",(function(){var t=e.selection.getStart(!0);t&&ad(e)&&!r.isSameElementPath(t)&&e.dom.isChildOf(t,e.getBody())&&e.nodeChanged({selectionChange:!0})})),e.on("mouseup",(function(t){!t.isDefaultPrevented()&&ad(e)&&("IMG"===e.selection.getNode().nodeName?gm.setEditorTimeout(e,(function(){e.nodeChanged()})):e.nodeChanged())}))}return p(t,[{key:"nodeChanged",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.editor.selection;if(this.editor.initialized&&n&&!Ds(this.editor)&&!this.editor.mode.isReadOnly()){var r=this.editor.getBody();t=n.getStart(!0)||r,t.ownerDocument===this.editor.getDoc()&&this.editor.dom.isChildOf(t,r)||(t=r);var o=[];this.editor.dom.getParent(t,(function(t){return t===r||(o.push(t),!1)})),this.editor.dispatch("NodeChange",s(s({},e),{},{element:t,parents:o}))}}},{key:"isSameElementPath",value:function(t){var e,n=this.editor,r=gt(n.dom.getParents(t,X,n.getBody()));if(r.length===this.lastPath.length){for(e=r.length;e>=0&&r[e]===this.lastPath[e];e--);if(-1===e)return this.lastPath=r,!0}return this.lastPath=r,!1}}]),t}(),NE=z("x-tinymce/html"),RE="\x3c!-- x-tinymce/html --\x3e",DE=function(t){return RE+t},PE=function(t){return-1!==t.indexOf(RE)},ME="%MCEPASTEBIN%",BE=function(t){return t.dom.get("mcepastebin")},LE=function(t){return M(t)&&"mcepastebin"===t.id},IE=function(t){return t===ME},jE=function(t,e){return Ge.each(e,(function(e){t=O(e,RegExp)?t.replace(e,""):t.replace(e[0],e[1])})),t},FE=function(t){return jE(t,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,function(t,e,n){return e||n?ko:" "}],/<br class="Apple-interchange-newline">/g,/<br>$/i])},qE=function(t,e){return{content:t,cancelled:e}},zE=function(t,e){return t.insertContent(e,{merge:tl(t),paste:!0}),!0},UE=function(t){return/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(t)},HE=function(t,e,n){return!(t.selection.isCollapsed()||!UE(e))&&function(t,e,n){return t.undoManager.extra((function(){n(t,e)}),(function(){t.execCommand("mceInsertLink",!1,e)})),!0}(t,e,n)},VE=function(t,e,n){return!!function(t,e){return UE(e)&&rt(pl(t),(function(t){return re(e.toLowerCase(),".".concat(t.toLowerCase()))}))}(t,e)&&function(t,e,n){return t.undoManager.extra((function(){n(t,e)}),(function(){t.insertContent('<img src="'+e+'">')})),!0}(t,e,n)},WE=function(t){var e=0;return function(){return"mceclip"+e++}}(),$E=function(t,e,n,r){var o=function(t,e,n){return function(t,e,n){var r=function(t,e,n){return t.dispatch("PastePreProcess",{content:e,internal:n})}(t,e,n),o=function(t,e){var n=nx({sanitize:dl(t)},t.schema);n.addNodeFilter("meta",(function(t){Ge.each(t,(function(t){t.remove()}))}));var r=n.parse(e,{forced_root_block:!1,isRootContent:!0});return Jm({validate:!0},t.schema).serialize(r)}(t,r.content);return t.hasEventListeners("PastePostProcess")&&!r.isDefaultPrevented()?function(t,e,n){var r=t.dom.create("div",{style:"display:none"},e),o=function(t,e,n){return t.dispatch("PastePostProcess",{node:e,internal:n})}(t,r,n);return qE(o.node.innerHTML,o.isDefaultPrevented())}(t,o,n):qE(o,r.isDefaultPrevented())}(t,e,n)}(t,e,n);o.cancelled||function(t,e,n){n||!el(t)?zE(t,e):function(t,e){Ge.each([HE,VE,zE],(function(n){return!n(t,e,zE)}))}(t,e)}(t,o.content,r)},GE=function(t,e,n){var r=n||PE(e);$E(t,function(t){return t.replace(RE,"")}(e),r,!1)},KE=function(t,e){var n=t.dom.encode(e).replace(/\r\n/g,"\n"),r=function(t,e,n){var r=t.split(/\n\n/),o=function(t,e){var n="<"+t,r=Mt(e,(function(t,e){return e+'="'+ua.encodeAllRaw(t)+'"'}));return r.length&&(n+=" "+r.join(" ")),n+">"}(e,n),i="</"+e+">",a=ot(r,(function(t){return t.split(/\n/).join("<br />")}));return 1===a.length?a[0]:ot(a,(function(t){return o+t+i})).join("")}(xi(n,rl(t)),jc(t),Fc(t));$E(t,r,!1,!0)},YE=function(t){var e={};if(t&&t.types)for(var n=0;n<t.types.length;n++){var r=t.types[n];try{e[r]=t.getData(r)}catch(t){e[r]=""}}return e},XE=function(t,e){return e in t&&t[e].length>0},ZE=function(t){return XE(t,"text/html")||XE(t,"text/plain")},JE=function(t,e,n){var r,o="paste"===e.type?e.clipboardData:e.dataTransfer;if(Ys(t)&&o){var i=function(t,e){var n=e.items?ht(kt(e.items),(function(t){return"file"===t.kind?[t.getAsFile()]:[]})):[],r=e.files?kt(e.files):[];return ct(n.length>0?n:r,function(t){var e=pl(t);return function(t){return ne(t.type,"image/")&&rt(e,(function(e){return function(t){var e=t.toLowerCase(),n={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return Ge.hasOwn(n,e)?"image/"+n[e]:"image/"+e}(e)===t.type}))}}(t))}(t,o);if(i.length>0)return e.preventDefault(),(r=i,Promise.all(ot(r,(function(t){return Rb(t).then((function(e){return{file:t,uri:e}}))})))).then((function(e){n&&t.selection.setRng(n),it(e,(function(e){(function(t,e){Ab(e.uri).each((function(n){var r=n.data,o=n.type,i=n.base64Encoded,a=i?r:btoa(r),u=e.file,c=t.editorUpload.blobCache,s=c.getByData(a,o),l=null!=s?s:function(t,e,n,r){var o=WE(),i=$c(t)&&M(n.name),a=i?function(t,e){var n=e.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return M(n)?t.dom.encode(n[1]):void 0}(t,n.name):o,u=i?n.name:void 0,c=e.create(o,n,r,a,u);return e.add(c),c}(t,c,u,a);GE(t,'<img src="'.concat(l.blobUri(),'">'),!1)}))})(t,e)}))})),!0}return!1},QE=function(t,e,n,r){var o=FE(n),i=XE(e,NE())||PE(n),a=!i&&function(t){return!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(t)}(o),u=UE(o);(IE(o)||!o.length||a&&!u)&&(r=!0),(r||u)&&(o=XE(e,"text/plain")&&a?e["text/plain"]:function(t){var e=xa(),n=nx({},e),r="",o=e.getVoidElements(),i=Ge.makeMap("script noscript style textarea video audio iframe object"," "),a=e.getBlockElements(),u=function t(n){var u=n.name,c=n;if("br"!==u){if("wbr"!==u)if(o[u]&&(r+=" "),i[u])r+=" ";else{if(3===n.type&&(r+=n.value),!(n.name in e.getVoidElements())){var s=n.firstChild;if(s)do{t(s)}while(s=s.next)}a[u]&&c.next&&(r+="\n","p"===u&&(r+="\n"))}}else r+="\n"};return t=jE(t,[/<!\[[^\]]+\]>/g]),u(n.parse(t)),r}(o)),IE(o)||(r?KE(t,o):GE(t,o,i))},tT=function(t,e,n){(function(t,e,n){var r;t.on("keydown",(function(t){(function(t){return ip.metaKeyPressed(t)&&86===t.keyCode||t.shiftKey&&45===t.keyCode})(t)&&!t.isDefaultPrevented()&&(r=t.shiftKey&&86===t.keyCode)})),t.on("paste",(function(o){if(!o.isDefaultPrevented()&&!function(t){var e,n;return He.os.isAndroid()&&0===(null===(n=null===(e=t.clipboardData)||void 0===e?void 0:e.items)||void 0===n?void 0:n.length)}(o)){var i="text"===n.get()||r;r=!1;var a=YE(o.clipboardData);!ZE(a)&&JE(t,o,e.getLastRng()||t.selection.getRng())||(XE(a,"text/html")?(o.preventDefault(),QE(t,a,a["text/html"],i)):XE(a,"text/plain")&&XE(a,"text/uri-list")?(o.preventDefault(),QE(t,a,a["text/plain"],i)):(e.create(),gm.setEditorTimeout(t,(function(){var n=e.getHtml();e.remove(),QE(t,a,n,i)}),0)))}}))})(t,e,n),function(t){var e=function(t){return ne(t,"webkit-fake-url")},n=function(t){return ne(t,"data:")};t.parser.addNodeFilter("img",(function(r,o,i){if(!Ys(t)&&function(t){var e;return!0===(null===(e=t.data)||void 0===e?void 0:e.paste)}(i)){var a,c=u(r);try{for(c.s();!(a=c.n()).done;){var s=a.value,l=s.attr("src");S(l)&&!s.attr("data-mce-object")&&l!==He.transparentSrc&&(e(l)||!ol(t)&&n(l))&&s.remove()}}catch(f){c.e(f)}finally{c.f()}}}))}(t)},eT=function(t,e,n,r){!function(t,e,n){if(!t)return!1;try{return t.clearData(),t.setData("text/html",e),t.setData("text/plain",n),t.setData(NE(),e),!0}catch(t){return!1}}(t.clipboardData,e.html,e.text)?n(e.html,r):(t.preventDefault(),r())},nT=function(t){return function(e,n){var r=t.dom,o=t.selection,i=r.create("div",{contenteditable:"false","data-mce-bogus":"all"}),a=r.create("div",{contenteditable:"true"},e);r.setStyles(i,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),i.appendChild(a),r.add(t.getBody(),i);var u=o.getRng();a.focus();var c=r.createRng();c.selectNodeContents(a),o.setRng(c),gm.setEditorTimeout(t,(function(){o.setRng(u),r.remove(i),n()}),0)}},rT=function(t){return{html:DE(t.selection.getContent({contextual:!0})),text:t.selection.getContent({format:"text"})}},oT=function(t){return!t.selection.isCollapsed()||function(t){return!!t.dom.getParent(t.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",t.getBody())}(t)},iT=function(t,e){var n,r;return Ip.getCaretRangeFromPoint(null!==(n=e.clientX)&&void 0!==n?n:0,null!==(r=e.clientY)&&void 0!==r?r:0,t.getDoc())},aT=function(t,e){t.focus(),e&&t.selection.setRng(e)},uT=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,cT=function(t){return Ge.trim(t).replace(uT,Zf).toLowerCase()},sT=function(t,e,n){var r=Js(t);if(n||"all"===r||!Qs(t))return e;var o=r?r.split(/[, ]/):[];if(o&&"none"!==r){var i=t.dom,a=t.selection.getNode();e=e.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(function(t,e,n,r){for(var u=i.parseStyle(i.decode(n)),c={},s=0;s<o.length;s++){var l=u[o[s]],f=l,d=i.getStyle(a,o[s],!0);/color/.test(o[s])&&(f=cT(f),d=cT(d)),d!==f&&(c[o[s]]=l)}var p=i.serializeStyle(c,"span");return p?e+' style="'+p+'"'+r:e+r}))}else e=e.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return e=e.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(function(t,e,n,r){return e+' style="'+n+'"'+r})),e},lT=function(t){var e=Ha(!1),n=Ha(nl(t)?"text":"html"),r=function(t){var e=Ha(null);return{create:function(){return function(t,e){var n=t.dom,r=t.selection,o=t.getBody();e.set(r.getRng());var i=n.add(t.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},ME);He.browser.isFirefox()&&n.setStyle(i,"left","rtl"===n.getStyle(o,"direction",!0)?65535:-65535),n.bind(i,"beforedeactivate focusin focusout",(function(t){t.stopPropagation()})),i.focus(),r.select(i,!0)}(t,e)},remove:function(){return function(t,e){var n=t.dom;if(BE(t)){for(var r,o=e.get();r=BE(t);)n.remove(r),n.unbind(r);o&&t.selection.setRng(o)}e.set(null)}(t,e)},getEl:function(){return BE(t)},getHtml:function(){return function(t){var e=t.dom,n=function(t,n){t.appendChild(n),e.remove(n,!0)},r=ct(t.getBody().childNodes,LE),o=a(r),i=o[0],u=o.slice(1);it(u,(function(t){n(i,t)}));for(var c=e.select("div[id=mcepastebin]",i),s=c.length-1;s>=0;s--){var l=e.create("div");i.insertBefore(l,c[s]),n(l,c[s])}return i?i.innerHTML:""}(t)},getLastRng:e.get}}(t);(function(t){(He.browser.isChromium()||He.browser.isSafari())&&function(t,e){t.on("PastePreProcess",(function(n){n.content=e(t,n.content,n.internal)}))}(t,sT)})(t),function(t,e){t.addCommand("mceTogglePlainTextPaste",(function(){(function(t,e){"text"===e.get()?(e.set("html"),op(t,!1)):(e.set("text"),op(t,!0)),t.focus()})(t,e)})),t.addCommand("mceInsertClipboardContent",(function(e,n){n.html&&GE(t,n.html,n.internal),n.text&&KE(t,n.text)}))}(t,n),function(t){var e=function(e){return function(n){e(t,n)}},n=Xs(t);B(n)&&t.on("PastePreProcess",e(n));var r=Zs(t);B(r)&&t.on("PastePostProcess",e(r))}(t),t.on("PreInit",(function(){(function(t){t.on("cut",function(t){return function(e){!e.isDefaultPrevented()&&oT(t)&&eT(e,rT(t),nT(t),(function(){if(He.browser.isChromium()||He.browser.isFirefox()){var e=t.selection.getRng();gm.setEditorTimeout(t,(function(){t.selection.setRng(e),t.execCommand("Delete")}),0)}else t.execCommand("Delete")}))}}(t)),t.on("copy",function(t){return function(e){!e.isDefaultPrevented()&&oT(t)&&eT(e,rT(t),nT(t),j)}}(t))})(t),function(t,e){Ks(t)&&t.on("dragend dragover draggesture dragdrop drop drag",(function(t){t.preventDefault(),t.stopPropagation()})),Ys(t)||t.on("drop",(function(t){var e=t.dataTransfer;e&&function(t){return rt(t.files,(function(t){return/^image\//.test(t.type)}))}(e)&&t.preventDefault()})),t.on("drop",(function(n){if(!n.isDefaultPrevented()){var r=iT(t,n);if(!P(r)){var o=YE(n.dataTransfer),i=XE(o,NE());if(ZE(o)&&!function(t){var e=t["text/plain"];return!!e&&0===e.indexOf("file://")}(o)||!JE(t,n,r)){var a=o[NE()],u=a||o["text/html"]||o["text/plain"],c=function(t,e,n,r){var o=t.getParent(n,(function(t){return Ii(e,t)}));if(o&&It(r,"text/html")){var i=(new DOMParser).parseFromString(r["text/html"],"text/html").body;return!N(i.querySelector(o.nodeName.toLowerCase()))}return!1}(t.dom,t.schema,r.startContainer,o);e.get()&&!c||u&&(n.preventDefault(),gm.setEditorTimeout(t,(function(){t.undoManager.transact((function(){a&&t.execCommand("Delete"),aT(t,r);var e=FE(u);o["text/html"]?GE(t,e,i):KE(t,e)}))})))}}}})),t.on("dragstart",(function(t){e.set(!0)})),t.on("dragover dragend",(function(n){Ys(t)&&!e.get()&&(n.preventDefault(),aT(t,iT(t,n))),"dragend"===n.type&&e.set(!1)}))}(t,e),tT(t,r,n)}))},fT=ho,dT=co,pT=function(t){return bo(t.dom)},mT=function(t){return function(e){return Ln(Rn(t),e)}},hT=function(t,e){return lr(Rn(t),pT,mT(e))},vT=function(t,e,n){for(var r=new Xr(t,e),o=n?r.next.bind(r):r.prev.bind(r),i=t,a=n?t:o();a&&!fT(a);a=o())mi(a)&&(i=a);return i},gT=function(t){var e=function(t,e){var n=Wu.fromRangeStart(t).getNode(),r=function(t,e){return lr(Rn(t),(function(t){return function(t){return go(t.dom)}(t)||Ro(t)}),mT(e)).getOr(Rn(e)).dom}(n,e),o=vT(n,r,!1),i=vT(n,r,!0),a=document.createRange();return hT(o,r).fold((function(){dT(o)?a.setStart(o,0):a.setStartBefore(o)}),(function(t){return a.setStartBefore(t.dom)})),hT(i,r).fold((function(){dT(i)?a.setEnd(i,i.data.length):a.setEndAfter(i)}),(function(t){return a.setEndAfter(t.dom)})),a}(t.selection.getRng(),t.getBody());t.selection.setRng(og(e))};!function(t){t.Before="before",t.After="after"}(NS||(NS={}));var bT,yT,xT=function(t,e){return Math.abs(t.left-e)},wT=function(t,e){return Math.abs(t.right-e)},_T=function(t,e){return function(t){return lt(t,(function(t,e){return t.fold((function(){return Z.some(e)}),(function(t){var n=Math.min(e.left,t.left),r=Math.min(e.top,t.top),o=Math.max(e.right,t.right),i=Math.max(e.bottom,t.bottom);return Z.some({top:r,right:o,bottom:i,left:n,width:o-n,height:i-r})}))}),Z.none())}(ct(t,(function(t){return(n=e)>=(r=t).top&&n<=r.bottom;var n,r}))).fold((function(){return[[],t]}),(function(e){var n=ut(t,(function(t){return function(t,e){var n=function(t,e){return Math.max(0,Math.min(t.bottom,e.bottom)-Math.max(t.top,e.top))}(t,e)/Math.min(t.height,e.height);return function(t,e){return t.top<e.bottom&&t.bottom>e.top}(t,e)&&n>.5}(t,e)})),r=n.pass,o=n.fail;return[r,o]}))},CT=function(t,e,n){return e>t.left&&e<t.right?0:Math.min(Math.abs(t.left-e),Math.abs(t.right-e))},kT=function t(e,n,r){var o=function(e){return mi(e.node)?Z.some(e):Qr(e.node)?t(kt(e.node.childNodes),n,r):Z.none()},i=function(t,e){var i=xt(t,(function(t,o){return e(t,n,r)-e(o,n,r)}));return function(t,e){if(t.length>=2){var i=o(t[0]).getOr(t[0]),a=o(t[1]).getOr(t[1]);if(Math.abs(e(i,n,r)-e(a,n,r))<2){if(co(i.node))return Z.some(i);if(co(a.node))return Z.some(a)}}return Z.none()}(i,e).orThunk((function(){return Ot(i,o)}))},a=_T(yC(e),r),u=l(a,2),c=u[0],s=u[1],f=ut(s,(function(t){return t.top<r})),d=f.pass,p=f.fail;return i(c,CT).orThunk((function(){return i(p,Cu)})).orThunk((function(){return i(d,Cu)}))},OT=function(t,e,n){return function(t,e,n){var r=Rn(t),o=Fn(r),i=Dn(o,e,n).filter((function(t){return In(r,t)})).getOr(r);return function(t,e,n,r){var o=function e(o,i){var a=ct(o.dom.childNodes,W((function(t){return Qr(t)&&t.classList.contains("mce-drag-container")})));return i.fold((function(){return kT(a,n,r)}),(function(t){var e=ct(a,(function(e){return e!==t.dom}));return kT(e,n,r)})).orThunk((function(){return(Ln(o,t)?Z.none():Un(o)).bind((function(t){return e(t,Z.some(o))}))}))};return o(e,Z.none())}(r,i,e,n)}(t,e,n).filter((function(t){return Nl(t.node)})).map((function(t){return function(t,e){return{node:t.node,position:xT(t,e)<wT(t,e)?NS.Before:NS.After}}(t,e)}))},ST=function(t){var e,n,r=t.getBoundingClientRect(),o=t.ownerDocument,i=o.documentElement,a=o.defaultView;return{top:r.top+(null!==(e=null==a?void 0:a.scrollY)&&void 0!==e?e:0)-i.clientTop,left:r.left+(null!==(n=null==a?void 0:a.scrollX)&&void 0!==n?n:0)-i.clientLeft}},ET=function(t){return{target:t,srcElement:t}},TT=function(t){return function(e,n){return function(t,e,n){return s(s({},e),{},{dataTransfer:null,type:t},n)}(t,e,ET(n))}},AT=TT("dragstart"),NT=TT("drop"),RT=function(t){return function(t,e){var n=$("Function not supported on simulated event.");return s({bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,srcElement:null,target:null,timeStamp:0,type:"dragend",composedPath:n,initEvent:n,preventDefault:j,stopImmediatePropagation:j,stopPropagation:j,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:n,initMouseEvent:n,getModifierState:n,dataTransfer:null},e)}(0,ET(t))},DT=TT("dragend"),PT=bo,MT=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){for(var n=0;n<e.length;n++)if(e[n](t))return!0;return!1}}(PT,go),BT=function(t,e,n,r){var o=t.dom,i=e.cloneNode(!0);o.setStyles(i,{width:n,height:r}),o.setAttrib(i,"data-mce-selected",null);var a=o.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return o.setStyles(a,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:r}),o.setStyles(i,{margin:0,boxSizing:"border-box"}),a.appendChild(i),a},LT=function(t,e){return function(n){return function(){var r,o="left"===t?n.scrollX:n.scrollY;n.scroll((r={},i(r,t,o+e),i(r,"behavior","smooth"),r))}}},IT=LT("left",-32),jT=LT("left",32),FT=LT("top",-32),qT=LT("top",32),zT=function(t){t&&t.parentNode&&t.parentNode.removeChild(t)},UT=function(t,e){var n=Za((function(t,n){return function(t,e,n){t._selectionOverrides.hideFakeCaret(),OT(t.getBody(),e,n).fold((function(){return t.selection.placeCaretAt(e,n)}),(function(r){var o=t._selectionOverrides.showCaret(1,r.node,r.position===NS.Before,!1);o?t.selection.setRng(o):t.selection.placeCaretAt(e,n)}))}(e,t,n)}),0);e.on("remove",n.cancel);var r=t;return function(o){return t.on((function(t){var i,a,u=Math.max(Math.abs(o.screenX-t.screenX),Math.abs(o.screenY-t.screenY));if(!t.dragging&&u>10){if(e.dispatch("dragstart",AT(o,t.element)).isDefaultPrevented())return;t.dragging=!0,e.focus()}if(t.dragging){var c=o.currentTarget===e.getDoc().documentElement,s=function(t,e){return{pageX:e.pageX-t.relX,pageY:e.pageY+5}}(t,function(t,e){return n=function(t){return t.inline?ST(t.getBody()):{left:0,top:0}}(t),r=function(t){var e=t.getBody();return t.inline?{left:e.scrollLeft,top:e.scrollTop}:{left:0,top:0}}(t),o=function(t,e){if(e.target.ownerDocument!==t.getDoc()){var n=ST(t.getContentAreaContainer()),r=function(t){var e=t.getBody(),n=t.getDoc().documentElement,r={left:e.scrollLeft,top:e.scrollTop},o={left:e.scrollLeft||n.scrollLeft,top:e.scrollTop||n.scrollTop};return t.inline?r:o}(t);return{left:e.pageX-n.left+r.left,top:e.pageY-n.top+r.top}}return{left:e.pageX,top:e.pageY}}(t,e),{pageX:o.left-n.left+r.left,pageY:o.top-n.top+r.top};var n,r,o}(e,o));i=t.ghost,a=e.getBody(),i.parentNode!==a&&a.appendChild(i),function(t,e,n,r,o,i,a,u,c,s,l,f){var d=0,p=0;t.style.left=e.pageX+"px",t.style.top=e.pageY+"px",e.pageX+n>o&&(d=e.pageX+n-o),e.pageY+r>i&&(p=e.pageY+r-i),t.style.width=n-d+"px",t.style.height=r-p+"px";var m=c.clientHeight,h=c.clientWidth,v=a+c.getBoundingClientRect().top,g=u+c.getBoundingClientRect().left;l.on((function(t){t.intervalId.clear(),t.dragging&&f&&(a+8>=m?t.intervalId.set(qT(s)):a-8<=0?t.intervalId.set(FT(s)):u+8>=h?t.intervalId.set(jT(s)):u-8<=0?t.intervalId.set(IT(s)):v+16>=window.innerHeight?t.intervalId.set(qT(window)):v-16<=0?t.intervalId.set(FT(window)):g+16>=window.innerWidth?t.intervalId.set(jT(window)):g-16<=0&&t.intervalId.set(IT(window)))}))}(t.ghost,s,t.width,t.height,t.maxX,t.maxY,o.clientY,o.clientX,e.getContentAreaContainer(),e.getWin(),r,c),n.throttle(o.clientX,o.clientY)}}))}},HT=function(t,e,n){t.on((function(t){if(t.intervalId.clear(),t.dragging){var r=n.fold((function(){return RT(t.element)}),(function(e){return DT(e,t.element)}));e.dispatch("dragend",r)}})),VT(t)},VT=function(t){t.on((function(t){t.intervalId.clear(),zT(t.ghost)})),t.clear()},WT=function(t){var e=Xa(),n=qa.DOM,r=document,o=function(t,e){return function(n){if(function(t){return 0===t.button}(n)){var r=dt(e.dom.getParents(n.target),MT).getOr(null);if(M(r)&&function(t,e,n){return PT(n)&&n!==e&&t.isEditable(n.parentElement)}(e.dom,e.getBody(),r)){var o=e.dom.getPos(r),i=e.getBody(),a=e.getDoc().documentElement;t.set({element:r,dragging:!1,screenX:n.screenX,screenY:n.screenY,maxX:(e.inline?i.scrollWidth:a.offsetWidth)-2,maxY:(e.inline?i.scrollHeight:a.offsetHeight)-2,relX:n.pageX-o.x,relY:n.pageY-o.y,width:r.offsetWidth,height:r.offsetHeight,ghost:BT(e,r,r.offsetWidth,r.offsetHeight),intervalId:Ya(100)})}}}}(e,t),i=UT(e,t),a=function(t,e){return function(n){t.on((function(t){var r;if(t.intervalId.clear(),t.dragging){if(function(t,e,n){return!P(e)&&e!==n&&!t.dom.isChildOf(e,n)&&t.dom.isEditable(e)}(e,function(t){var e=t.getSel();if(M(e)){var n=e.getRangeAt(0).startContainer;return co(n)?n.parentNode:n}return null}(e.selection),t.element)){var o=function(t){var e=t.cloneNode(!0);return e.removeAttribute("data-mce-selected"),e}(t.element),i=null!==(r=e.getDoc().elementFromPoint(n.clientX,n.clientY))&&void 0!==r?r:e.getBody();e.dispatch("drop",NT(n,i)).isDefaultPrevented()||e.undoManager.transact((function(){(function(t,e){var n=t.getParent(e.parentNode,t.isBlock);zT(e),n&&n!==t.getRoot()&&t.isEmpty(n)&&Ho(Rn(n))})(e.dom,t.element),e.insertContent(e.dom.getOuterHTML(o)),e._selectionOverrides.hideFakeCaret()}))}e.dispatch("dragend",DT(n,e.getBody()))}})),VT(t)}}(e,t),u=function(t,e){return function(n){return HT(t,e,Z.some(n))}}(e,t);t.on("mousedown",o),t.on("mousemove",i),t.on("mouseup",a),n.bind(r,"mousemove",i),n.bind(r,"mouseup",u),t.on("remove",(function(){n.unbind(r,"mousemove",i),n.unbind(r,"mouseup",u)})),t.on("keydown",(function(n){n.keyCode===ip.ESC&&HT(e,t,Z.none())}))},$T=bo,GT=function(t,e){return Vv(t.getBody(),e)},KT=function(t){var e,n=t.selection,r=t.dom,o=t.getBody(),i=El(t,o,r.isBlock,(function(){return Sm(t)})),a="sel-"+r.uniqueId(),u="data-mce-selected",c=function(t){return t!==o&&($T(t)||wo(t))&&r.isChildOf(t,o)&&r.isEditable(t.parentNode)},s=function(e,r,o){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return t.dispatch("ShowCaret",{target:r,direction:e,before:o}).isDefaultPrevented()?null:(a&&n.scrollIntoView(r,-1===e),i.show(o,r))},l=function(t){return Jo(t)||ni(t)||ri(t)},f=function(t){return l(t.startContainer)||l(t.endContainer)},d=function(e){var n=t.schema.getVoidElements(),o=r.createRng(),i=e.startContainer,a=e.startOffset,u=e.endContainer,c=e.endOffset;return It(n,i.nodeName.toLowerCase())?0===a?o.setStartBefore(i):o.setStartAfter(i):o.setStart(i,a),It(n,u.nodeName.toLowerCase())?0===c?o.setEndBefore(u):o.setEndAfter(u):o.setEnd(u,c),o},p=function(i,l){if(!i)return null;if(i.collapsed){if(!f(i)){var d=l?1:-1,p=tf(d,o,i),m=p.getNode(!l);if(M(m)){if(Nl(m))return s(d,m,!!l&&!p.isAtEnd(),!1);if(Zo(m)&&bo(m.nextSibling)){var v=r.createRng();return v.setStart(m,0),v.setEnd(m,0),v}}var g=p.getNode(l);if(M(g)){if(Nl(g))return s(d,g,!l&&!p.isAtEnd(),!1);if(Zo(g)&&bo(g.previousSibling)){var b=r.createRng();return b.setStart(g,1),b.setEnd(g,1),b}}}return null}var y=i.startContainer,x=i.startOffset,w=i.endOffset;if(co(y)&&0===x&&$T(y.parentNode)&&(y=y.parentNode,x=r.nodeIndex(y),y=y.parentNode),!Qr(y))return null;if(w===x+1&&y===i.endContainer){var _=y.childNodes[x];if(c(_))return function(o){var i=o.cloneNode(!0),c=t.dispatch("ObjectSelected",{target:o,targetClone:i});if(c.isDefaultPrevented())return null;var s=function(e,o){var i=Rn(t.getBody()),u=t.getDoc(),c=dr(i,"#"+a).getOrThunk((function(){var t=Tn('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',u);return fn(t,"id",a),Tr(i,t),t})),s=r.createRng();Rr(c),Nr(c,[Nn(ko,u),Rn(o),Nn(ko,u)]),s.setStart(c.dom.firstChild,1),s.setEnd(c.dom.lastChild,0),yr(c,{top:r.getPos(e,t.getBody()).y+"px"}),im(c);var l=n.getSel();return l&&(l.removeAllRanges(),l.addRange(s)),s}(o,c.targetClone),l=Rn(o);return it(Kr(Rn(t.getBody()),"*[data-mce-selected]"),(function(t){Ln(l,t)||vn(t,u)})),r.getAttrib(o,u)||o.setAttribute(u,"1"),e=o,h(),s}(_)}return null},m=function(){e&&e.removeAttribute(u),dr(Rn(t.getBody()),"#"+a).each(Dr),e=null},h=function(){i.hide()};return Bx(t)||(t.on("click",(function(e){r.isEditable(e.target)||(e.preventDefault(),t.focus())})),t.on("blur NewBlock",m),t.on("ResizeWindow FullscreenStateChanged",i.reposition),t.on("tap",(function(e){var n=e.target,r=GT(t,n);$T(r)?(e.preventDefault(),l_(t,r).each(p)):c(n)&&l_(t,n).each(p)}),!0),t.on("mousedown",(function(e){var i=e.target;if((i===o||"HTML"===i.nodeName||r.isChildOf(i,o))&&function(t,e,n){var r=Rn(t.getBody()),o=t.inline?r:Rn(Fn(r).dom.documentElement),i=function(t,e,n,r){var o=function(t){return t.dom.getBoundingClientRect()}(e);return{x:n-(t?o.left+e.dom.clientLeft+mw(e):0),y:r-(t?o.top+e.dom.clientTop+pw(e):0)}}(t.inline,o,e,n);return function(t,e,n){var r=fw(t),o=dw(t);return e>=0&&n>=0&&e<=r&&n<=o}(o,i.x,i.y)}(t,e.clientX,e.clientY)){m(),h();var a=GT(t,i);$T(a)?(e.preventDefault(),l_(t,a).each(p)):OT(o,e.clientX,e.clientY).each((function(r){var o;e.preventDefault(),(o=s(1,r.node,r.position===NS.Before,!1))&&n.setRng(o),Qr(a)?a.focus():t.getBody().focus()}))}})),t.on("keypress",(function(t){ip.modifierPressed(t)||$T(n.getNode())&&t.preventDefault()})),t.on("GetSelectionRange",(function(t){var n=t.range;if(e){if(!e.parentNode)return void(e=null);n=n.cloneRange(),n.selectNode(e),t.range=n}})),t.on("SetSelectionRange",(function(t){t.range=d(t.range);var e=p(t.range,t.forward);e&&(t.range=e)})),t.on("AfterSetSelectionRange",(function(t){var e,n=t.range,o=n.startContainer.parentElement;f(n)||Qr(e=o)&&"mcepastebin"===e.id||h(),function(t){return M(t)&&r.hasClass(t,"mce-offscreen-selection")}(o)||m()})),function(t){WT(t),Is(t)&&function(t){var e=function(e){if(!e.isDefaultPrevented()){var n=e.dataTransfer;n&&(nt(n.types,"Files")||n.files.length>0)&&(e.preventDefault(),"drop"===e.type&&xw(t,"Dropped file type is not supported"))}},n=function(n){xm(t,n.target)&&e(n)},r=function(){var r=qa.DOM,o=t.dom,i=document,a=t.inline?t.getBody():t.getDoc(),u=["drop","dragover"];it(u,(function(t){r.bind(i,t,n),o.bind(a,t,e)})),t.on("remove",(function(){it(u,(function(t){r.unbind(i,t,n),o.unbind(a,t,e)}))}))};t.on("init",(function(){gm.setEditorTimeout(t,r,0)}))}(t)}(t),function(t){var e=Za((function(){if(!t.removed&&t.getBody().contains(document.activeElement)){var e=t.selection.getRng();if(e.collapsed){var n=f_(t,e,!1);t.selection.setRng(n)}}}),0);t.on("focus",(function(){e.throttle()})),t.on("blur",(function(){e.cancel()}))}(t),function(t){t.on("init",(function(){t.on("focusin",(function(e){var n=e.target;if(wo(n)){var r=Vv(t.getBody(),n),o=bo(r)?r:n;t.selection.getNode()!==o&&l_(t,o).each((function(e){return t.selection.setRng(e)}))}}))}))}(t)),{showCaret:s,showBlockCaretContainer:function(t){t.hasAttribute("data-mce-caret")&&(oi(t),n.scrollIntoView(t))},hideFakeCaret:h,destroy:function(){i.destroy(),e=null}}},YT=function(t,e){for(var n=e,r=t.previousSibling;co(r);r=r.previousSibling)n+=r.data.length;return n},XT=function(t,e,n,r,o){if(co(n)&&(r<0||r>n.data.length))return[];for(var i=o&&co(n)?[YT(n,r)]:[r],a=n;a!==e&&a.parentNode;)i.push(t.nodeIndex(a,o)),a=a.parentNode;return a===e?i.reverse():[]},ZT=function(t,e,n,r,o,i){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return{start:XT(t,e,n,r,a),end:XT(t,e,o,i,a)}},JT=function(t,e){var n=e.slice(),r=n.pop();return L(r)?lt(n,(function(t,e){return t.bind((function(t){return Z.from(t.childNodes[e])}))}),Z.some(t)).bind((function(t){return co(t)&&(r<0||r>t.data.length)?Z.none():Z.some({node:t,offset:r})})):Z.none()},QT=function(t,e){return JT(t,e.start).bind((function(n){var r=n.node,o=n.offset;return JT(t,e.end).map((function(t){var e=t.node,n=t.offset,i=document.createRange();return i.setStart(r,o),i.setEnd(e,n),i}))}))},tA=function t(e,n,r){if(n&&e.isEmpty(n)&&!r(n)){var o=n.parentNode;e.remove(n),t(e,o,r)}},eA=function(t,e,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=e.startContainer.parentNode,i=e.endContainer.parentNode;e.deleteContents(),r&&!n(e.startContainer)&&(co(e.startContainer)&&0===e.startContainer.data.length&&t.remove(e.startContainer),co(e.endContainer)&&0===e.endContainer.data.length&&t.remove(e.endContainer),tA(t,o,n),o!==i&&tA(t,i,n))},nA=function(t,e){return Z.from(t.dom.getParent(e.startContainer,t.dom.isBlock))},rA=function(t,e,n){var r=t.dynamicPatternsLookup({text:n,block:e});return s(s({},t),{},{blockPatterns:wc(r).concat(t.blockPatterns),inlinePatterns:_c(r).concat(t.inlinePatterns)})},oA=function(t,e,n,r){var o=t.createRng();return o.setStart(e,0),o.setEnd(n,r),o.toString()},iA=function(t,e,n){(function(t,e,n){if(co(t)&&0>=t.length)return Z.some(lO(t,0));var r=vu(fO);return Z.from(r.forwards(t,0,dO(t),n)).map((function(t){return lO(t.container,0)}))})(e,0,e).each((function(r){var o=r.container;hO(o,n.start.length,e).each((function(n){var r=t.createRng();r.setStart(o,0),r.setEnd(n.container,n.offset),eA(t,r,(function(t){return t===e}))}));var i=Rn(o),a=Eo(i);/^\s[^\s]/.test(a)&&function(t,e){So.set(t,e)}(i,a.slice(1))}))},aA=function(t,e){return t.create("span",{"data-mce-type":"bookmark",id:e})},uA=function(t,e){var n=t.createRng();return n.setStartAfter(e.start),n.setEndBefore(e.end),n},cA=function(t,e,n){var r=QT(t.getRoot(),n).getOrDie("Unable to resolve path range"),o=r.startContainer,i=r.endContainer,a=0===r.endOffset?i:i.splitText(r.endOffset),u=0===r.startOffset?o:o.splitText(r.startOffset),c=u.parentNode;return{prefix:e,end:a.parentNode.insertBefore(aA(t,e+"-end"),a),start:c.insertBefore(aA(t,e+"-start"),u)}},sA=function(t,e,n){tA(t,t.get(e.prefix+"-end"),n),tA(t,t.get(e.prefix+"-start"),n)},lA=function(t){return 0===t.start.length},fA=function t(e,n,r,o){var i,a=n.start;return vO(e,o.container,o.offset,(i=a,function(t,e){var n=t.data.substring(0,e),r=n.lastIndexOf(i.charAt(i.length-1)),o=n.lastIndexOf(i);return-1!==o?o+i.length:-1!==r?r+1:-1}),r).bind((function(o){var i,u,c=null!==(u=null===(i=r.textContent)||void 0===i?void 0:i.indexOf(a))&&void 0!==u?u:-1;if(-1!==c&&o.offset>=c+a.length){var s=e.createRng();return s.setStart(o.container,o.offset-a.length),s.setEnd(o.container,o.offset),Z.some(s)}var l=o.offset-a.length;return mO(o.container,l,r).map((function(t){var n=e.createRng();return n.setStart(t.container,t.offset),n.setEnd(o.container,o.offset),n})).filter((function(t){return t.toString()===a})).orThunk((function(){return t(e,n,r,lO(o.container,0))}))}))},dA=function(t,e,n,r){var o=t.dom,i=o.getRoot(),a=n.pattern,u=n.position.container,c=n.position.offset;return mO(u,c-n.pattern.end.length,e).bind((function(s){var l=ZT(o,i,s.container,s.offset,u,c,r);if(lA(a))return Z.some({matches:[{pattern:a,startRng:l,endRng:l}],position:s});var f=pA(t,n.remainingPatterns,s.container,s.offset,e,r),d=f.getOr({matches:[],position:s}),p=d.position,m=function(t,e,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(0===e.start.length&&!i){var a=t.createRng();return a.setStart(n,r),a.setEnd(n,r),Z.some(a)}return pO(n,r,o).bind((function(n){return fA(t,e,o,n).bind((function(t){var e;if(i){if(t.endContainer===n.container&&t.endOffset===n.offset)return Z.none();if(0===n.offset&&(null===(e=t.endContainer.textContent)||void 0===e?void 0:e.length)===t.endOffset)return Z.none()}return Z.some(t)}))}))}(o,a,p.container,p.offset,e,f.isNone());return m.map((function(t){var e=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return ZT(t,e,n.startContainer,n.startOffset,n.endContainer,n.endOffset,r)}(o,i,t,r);return{matches:d.matches.concat([{pattern:a,startRng:e,endRng:l}]),position:lO(t.startContainer,t.startOffset)}}))}))},pA=function t(e,n,r,o,i,a){var u=e.dom;return pO(r,o,u.getRoot()).bind((function(c){for(var s=oA(u,i,r,o),l=0;l<n.length;l++){var f=n[l];if(re(s,f.end)){var d=n.slice();d.splice(l,1);var p=dA(e,i,{pattern:f,remainingPatterns:d,position:c},a);if(p.isNone()&&o>0)return t(e,n,r,o-1,i,a);if(p.isSome())return p}}return Z.none()}))},mA=function(t,e,n){t.selection.setRng(n),"inline-format"===e.type?it(e.format,(function(e){t.formatter.apply(e)})):t.execCommand(e.cmd,!1,e.value)},hA=function(t,e,n,r,o,i){var a;return function(t,e){var n=vt(t,(function(t){return rt(e,(function(e){return t.pattern.start===e.pattern.start&&t.pattern.end===e.pattern.end}))}));return t.length===e.length?n?t:e:t.length>e.length?t:e}(pA(t,o.inlinePatterns,n,r,e,i).fold((function(){return[]}),(function(t){return t.matches})),pA(t,(a=o.inlinePatterns,xt(a,(function(t,e){return e.end.length-t.end.length}))),n,r,e,i).fold((function(){return[]}),(function(t){return t.matches})))},vA=function(t,e){if(0!==e.length){var n=t.dom,r=t.selection.getBookmark(),o=function(t,e){var n=fu("mce_textpattern"),r=st(e,(function(e,r){var o=cA(t,n+"_end".concat(e.length),r.endRng);return e.concat([s(s({},r),{},{endMarker:o})])}),[]);return st(r,(function(e,o){var i=r.length-e.length-1,a=lA(o.pattern)?o.endMarker:cA(t,n+"_start".concat(i),o.startRng);return e.concat([s(s({},o),{},{startMarker:a})])}),[])}(n,e);it(o,(function(e){var r=n.getParent(e.startMarker.start,n.isBlock),o=function(t){return t===r};lA(e.pattern)?function(t,e,n,r){var o=uA(t.dom,n);eA(t.dom,o,r),mA(t,e,o)}(t,e.pattern,e.endMarker,o):function(t,e,n,r,o){var i=t.dom,a=uA(i,r),u=uA(i,n);eA(i,u,o),eA(i,a,o);var c={prefix:n.prefix,start:n.end,end:r.start},s=uA(i,c);mA(t,e,s)}(t,e.pattern,e.startMarker,e.endMarker,o),sA(n,e.endMarker,o),sA(n,e.startMarker,o)})),t.selection.moveToBookmark(r)}},gA=function(t,e){var n=t.selection.getRng();return nA(t,n).map((function(r){var o,i=Math.max(0,n.startOffset),a=rA(e,r,null!==(o=r.textContent)&&void 0!==o?o:""),u=hA(t,r,n.startContainer,i,a,!0),c=function(t,e,n,r){var o,i=t.dom,a=jc(t);if(!i.is(e,a))return[];var u=null!==(o=e.textContent)&&void 0!==o?o:"";return function(t,e){var n=function(t){return xt(t,(function(t,e){return e.start.length-t.start.length}))}(t),r=e.replace(ko," ");return dt(n,(function(t){return 0===e.indexOf(t.start)||0===r.indexOf(t.start)}))}(n.blockPatterns,u).map((function(t){return Ge.trim(u).length===t.start.length?[]:[{pattern:t,range:ZT(i,i.getRoot(),e,0,e,0,!0)}]})).getOr([])}(t,r,a);return(c.length>0||u.length>0)&&(t.undoManager.add(),t.undoManager.extra((function(){t.execCommand("mceInsertNewLine")}),(function(){t.insertContent(Co),vA(t,u),function(t,e){if(0!==e.length){var n=t.selection.getBookmark();it(e,(function(e){return function(t,e){var n=t.dom,r=e.pattern,o=QT(n.getRoot(),e.range).getOrDie("Unable to resolve path range");return nA(t,o).each((function(e){"block-format"===r.type?function(t,e){var n=e.get(t);return A(n)&&_t(n).exists((function(t){return It(t,"block")}))}(r.format,t.formatter)&&t.undoManager.transact((function(){iA(t.dom,e,r),t.formatter.apply(r.format)})):"block-command"===r.type&&t.undoManager.transact((function(){iA(t.dom,e,r),t.execCommand(r.cmd,!1,r.value)}))})),!0}(t,e)})),t.selection.moveToBookmark(n)}}(t,c);var e=t.selection.getRng(),n=pO(e.startContainer,e.startOffset,t.dom.getRoot());t.execCommand("mceInsertNewLine"),n.each((function(e){var n=e.container;n.data.charAt(e.offset-1)===Co&&(n.deleteData(e.offset-1,1),tA(t.dom,n.parentNode,(function(e){return e===t.dom.getRoot()})))}))})),!0)})).getOr(!1)},bA=function(t,e,n){for(var r=0;r<t.length;r++)if(n(t[r],e))return!0;return!1},yA=function(t){var e=Ge.each,n=ip.BACKSPACE,r=ip.DELETE,o=t.dom,i=t.selection,a=t.parser,u=He.browser,c=u.isFirefox(),s=u.isChromium()||u.isSafari(),l=He.deviceType.isiPhone()||He.deviceType.isiPad(),f=He.os.isMacOS()||He.os.isiOS(),d=function(e,n){try{t.getDoc().execCommand(e,!1,String(n))}catch(t){}},p=function(t){return t.isDefaultPrevented()},m=function(){t.shortcuts.add("meta+a",null,"SelectAll")},h=function(){t.inline||o.bind(t.getDoc(),"mousedown mouseup",(function(e){var n;if(e.target===t.getDoc().documentElement)if(n=i.getRng(),t.getBody().focus(),"mousedown"===e.type){if(Jo(n.startContainer))return;i.placeCaretAt(e.clientX,e.clientY)}else i.setRng(n)}))},v=function(){Range.prototype.getClientRects||t.on("mousedown",(function(e){if(!p(e)&&"HTML"===e.target.nodeName){var n=t.getBody();n.blur(),gm.setEditorTimeout(t,(function(){n.focus()}))}}))},g=function(){var e=qs(t);t.on("click",(function(n){var r=n.target;/^(IMG|HR)$/.test(r.nodeName)&&o.isEditable(r.parentNode)&&(n.preventDefault(),t.selection.select(r),t.nodeChanged()),"A"===r.nodeName&&o.hasClass(r,e)&&0===r.childNodes.length&&o.isEditable(r.parentNode)&&(n.preventDefault(),i.select(r))}))},b=function(){t.on("keydown",(function(t){if(!p(t)&&t.keyCode===n&&i.isCollapsed()&&0===i.getRng().startOffset){var e=i.getNode().previousSibling;if(e&&e.nodeName&&"table"===e.nodeName.toLowerCase())return t.preventDefault(),!1}return!0}))},y=function(){Ps(t)||t.on("BeforeExecCommand mousedown",(function(){d("StyleWithCSS",!1),d("enableInlineTableEditing",!1),fs(t)||d("enableObjectResizing",!1)}))},x=function(){t.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},w=function(){t.inline||t.on("keydown",(function(){document.activeElement===document.body&&t.getWin().focus()}))},_=function(){t.inline||(t.contentStyles.push("body {min-height: 150px}"),t.on("click",(function(e){var n;"HTML"===e.target.nodeName&&(n=t.selection.getRng(),t.getBody().focus(),t.selection.setRng(n),t.selection.normalize(),t.nodeChanged())})))},C=function(){f&&t.on("keydown",(function(e){!ip.metaKeyPressed(e)||e.shiftKey||37!==e.keyCode&&39!==e.keyCode||(e.preventDefault(),t.selection.getSel().modify("move",37===e.keyCode?"backward":"forward","lineboundary"))}))},k=function(){t.on("click",(function(t){var e=t.target;do{if("A"===e.tagName)return void t.preventDefault()}while(e=e.parentNode)})),t.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},O=function(){t.on("init",(function(){t.dom.bind(t.getBody(),"submit",(function(t){t.preventDefault()}))}))},S=j;return Bx(t)?(s&&(h(),g(),O(),m(),l&&(w(),_(),k())),c&&(v(),y(),x(),C())):(t.on("keydown",(function(e){if(!p(e)&&e.keyCode===ip.BACKSPACE){var n=i.getRng(),r=n.startContainer,a=n.startOffset,u=o.getRoot(),c=r;if(n.collapsed&&0===a){for(;c.parentNode&&c.parentNode.firstChild===c&&c.parentNode!==u;)c=c.parentNode;"BLOCKQUOTE"===c.nodeName&&(t.formatter.toggle("blockquote",void 0,c),n=o.createRng(),n.setStart(r,0),n.setEnd(r,0),i.setRng(n))}}})),function(){var e=function(t){var e=o.create("body"),n=t.cloneContents();return e.appendChild(n),i.serializer.serialize(e,{format:"html"})};t.on("keydown",(function(i){var a=i.keyCode;if(!p(i)&&(a===r||a===n)&&t.selection.isEditable()){var u=t.selection.isCollapsed(),c=t.getBody();if(u&&!o.isEmpty(c))return;if(!u&&!function(n){var r=e(n),i=o.createRng();return i.selectNode(t.getBody()),r===e(i)}(t.selection.getRng()))return;i.preventDefault(),t.setContent(""),c.firstChild&&o.isBlock(c.firstChild)?t.selection.setCursorLocation(c.firstChild,0):t.selection.setCursorLocation(c,0),t.nodeChanged()}}))}(),He.windowsPhone||t.on("keyup focusin mouseup",(function(e){ip.modifierPressed(e)||function(t){var e=t.getBody(),n=t.selection.getRng();return n.startContainer===n.endContainer&&n.startContainer===e&&0===n.startOffset&&n.endOffset===e.childNodes.length}(t)||i.normalize()}),!0),s&&(h(),g(),t.on("init",(function(){d("DefaultParagraphSeparator",jc(t))})),O(),b(),a.addNodeFilter("br",(function(t){for(var e=t.length;e--;)"Apple-interchange-newline"===t[e].attr("class")&&t[e].remove()})),l?(w(),_(),k()):m()),c&&(t.on("keydown",(function(e){if(!p(e)&&e.keyCode===n){if(!t.getBody().getElementsByTagName("hr").length)return;if(i.isCollapsed()&&0===i.getRng().startOffset){var r=i.getNode(),a=r.previousSibling;if("HR"===r.nodeName)return o.remove(r),void e.preventDefault();a&&a.nodeName&&"hr"===a.nodeName.toLowerCase()&&(o.remove(a),e.preventDefault())}}})),v(),function(){var n=function(){var n=o.getAttribs(i.getStart().cloneNode(!1));return function(){var r=i.getStart();r!==t.getBody()&&(o.setAttrib(r,"style",null),e(n,(function(t){r.setAttributeNode(t.cloneNode(!0))})))}},r=function(){return!i.isCollapsed()&&o.getParent(i.getStart(),o.isBlock)!==o.getParent(i.getEnd(),o.isBlock)};t.on("keypress",(function(e){var o;return!(!(p(e)||8!==e.keyCode&&46!==e.keyCode)&&r()&&(o=n(),t.getDoc().execCommand("delete",!1),o(),e.preventDefault(),1))})),o.bind(t.getDoc(),"cut",(function(e){if(!p(e)&&r()){var o=n();gm.setEditorTimeout(t,(function(){o()}))}}))}(),y(),t.on("SetContent ExecCommand",(function(t){"setcontent"!==t.type&&"mceInsertLink"!==t.command||e(o.select("a:not([data-mce-block])"),(function(t){var e,n=t.parentNode,r=o.getRoot();if((null==n?void 0:n.lastChild)===t){for(;n&&!o.isBlock(n);){if((null===(e=n.parentNode)||void 0===e?void 0:e.lastChild)!==n||n===r)return;n=n.parentNode}o.add(n,"br",{"data-mce-bogus":1})}}))})),x(),C(),b())),{refreshContentEditable:S,isHidden:function(){if(!c||t.removed)return!1;var e=t.selection.getSel();return!e||!e.rangeCount||0===e.rangeCount}}},xA=qa.DOM,wA=function(t){return t.inline?t.getElement().nodeName.toLowerCase():void 0},_A=function(t){return Pt(t,(function(t){return!1===D(t)}))},CA=function(t){var e=t.options.get,n=t.editorUpload.blobCache;return _A({allow_conditional_comments:e("allow_conditional_comments"),allow_html_data_urls:e("allow_html_data_urls"),allow_svg_data_urls:e("allow_svg_data_urls"),allow_html_in_named_anchor:e("allow_html_in_named_anchor"),allow_script_urls:e("allow_script_urls"),allow_unsafe_link_target:e("allow_unsafe_link_target"),convert_fonts_to_spans:e("convert_fonts_to_spans"),fix_list_elements:e("fix_list_elements"),font_size_legacy_values:e("font_size_legacy_values"),forced_root_block:e("forced_root_block"),forced_root_block_attrs:e("forced_root_block_attrs"),preserve_cdata:e("preserve_cdata"),remove_trailing_brs:e("remove_trailing_brs"),inline_styles:e("inline_styles"),root_name:wA(t),sanitize:e("xss_sanitization"),validate:!0,blob_cache:n,document:t.getDoc()})},kA=function(t){var e=t.options.get;return _A({custom_elements:e("custom_elements"),extended_valid_elements:e("extended_valid_elements"),invalid_elements:e("invalid_elements"),invalid_styles:e("invalid_styles"),schema:e("schema"),valid_children:e("valid_children"),valid_classes:e("valid_classes"),valid_elements:e("valid_elements"),valid_styles:e("valid_styles"),verify_html:e("verify_html"),padd_empty_block_inline_children:e("format_empty_lines")})},OA=function(t){return t.inline?t.ui.styleSheetLoader:t.dom.styleSheetLoader},SA=function(t){var e=OA(t),n=cs(t),r=t.contentCSS,o=function(){e.unloadAll(r),t.inline||t.ui.styleSheetLoader.unloadAll(n)},i=function(){t.removed?o():t.on("remove",o)};if(t.contentStyles.length>0){var a="";Ge.each(t.contentStyles,(function(t){a+=t+"\r\n"})),t.dom.addStyle(a)}var u=Promise.all(function(t,e,n){var r=[OA(t).loadAll(e)];return t.inline?r:r.concat([t.ui.styleSheetLoader.loadAll(n)])}(t,r,n)).then(i).catch(i),c=us(t);return c&&function(t,e){var n=Rn(t.getBody()),r=rr(nr(n)),o=An("style");fn(o,"type","text/css"),Tr(o,Nn(e)),Tr(r,o),t.on("remove",(function(){Dr(o)}))}(t,c),u},EA=function(t){!0!==t.removed&&(function(t){Bx(t)||t.load({initial:!0,format:"html"}),t.startContent=t.getContent({format:"raw"})}(t),function(t){t.bindPendingEventDelegates(),t.initialized=!0,function(t){t.dispatch("Init")}(t),t.focus(!0),function(t){var e=t.dom.getRoot();t.inline||ad(t)&&t.selection.getStart(!0)!==e||Of(e).each((function(e){var n=e.getNode(),r=io(n)?Of(n).getOr(e):e;t.selection.setRng(r.toRange())}))}(t),t.nodeChanged({initial:!0});var e=Hs(t);B(e)&&e.call(t,t),function(t){var e=Ws(t);e&&gm.setEditorTimeout(t,(function(){var n;n=!0===e?t:t.editorManager.get(e),n&&!n.destroyed&&(n.focus(),n.selection.scrollIntoView())}),100)}(t)}(t))},TA=function(t){var e=t.getElement(),n=t.getDoc();t.inline&&(xA.addClass(e,"mce-content-body"),t.contentDocument=n=document,t.contentWindow=window,t.bodyElement=e,t.contentAreaContainer=e);var r=t.getBody();r.disabled=!0,t.readonly=Ps(t),t.readonly||(t.inline&&"static"===xA.getStyle(r,"position",!0)&&(r.style.position="relative"),r.contentEditable="true"),r.disabled=!1,t.editorUpload=Rw(t),t.schema=xa(kA(t)),t.dom=qa(n,{keep_values:!0,url_converter:t.convertURL,url_converter_scope:t,update_styles:!0,root_element:t.inline?t.getBody():null,collect:t.inline,schema:t.schema,contentCssCors:ts(t),referrerPolicy:es(t),onSetAttrib:function(e){t.dispatch("SetAttrib",e)}}),t.parser=function(t){var e=nx(CA(t),t.schema);return e.addAttributeFilter("src,href,style,tabindex",(function(e,n){for(var r=t.dom,o="data-mce-"+n,i=e.length;i--;){var a=e[i],u=a.attr(n);if(u&&!a.attr(o)){if(0===u.indexOf("data:")||0===u.indexOf("blob:"))continue;"style"===n?(u=r.serializeStyle(r.parseStyle(u),a.name),u.length||(u=null),a.attr(o,u),a.attr(n,u)):"tabindex"===n?(a.attr(o,u),a.attr(n,null)):a.attr(o,t.convertURL(u,n,a.name))}}})),e.addNodeFilter("script",(function(t){for(var e=t.length;e--;){var n=t[e],r=n.attr("type")||"no/type";0!==r.indexOf("mce-")&&n.attr("type","mce-"+r)}})),ll(t)&&e.addNodeFilter("#cdata",(function(e){for(var n,r=e.length;r--;){var o=e[r];o.type=8,o.name="#comment",o.value="[CDATA["+t.dom.encode(null!==(n=o.value)&&void 0!==n?n:"")+"]]"}})),e.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",(function(e){for(var n=e.length,r=t.schema.getNonEmptyElements();n--;){var o=e[n];o.isEmpty(r)&&0===o.getAll("br").length&&o.append(new Um("br",1))}})),e}(t),t.serializer=$x(function(t){var e=t.options.get;return s(s(s({},CA(t)),kA(t)),_A({url_converter:e("url_converter"),url_converter_scope:e("url_converter_scope"),element_format:e("element_format"),entities:e("entities"),entity_encoding:e("entity_encoding"),indent:e("indent"),indent_after:e("indent_after"),indent_before:e("indent_before")}))}(t),t),t.selection=Hx(t.dom,t.getWin(),t.serializer,t),t.annotator=Xd(t),t.formatter=Uw(t),t.undoManager=Vw(t),t._nodeChangeDispatcher=new AE(t),t._selectionOverrides=KT(t),function(t){var e=Xa(),n=Ha(!1),r=Ja((function(e){t.dispatch("longpress",s(s({},e),{},{type:"longpress"})),n.set(!0)}),400);t.on("touchstart",(function(t){mk(t).each((function(o){r.cancel();var i={x:o.clientX,y:o.clientY,target:t.target};r.throttle(t),n.set(!1),e.set(i)}))}),!0),t.on("touchmove",(function(o){r.cancel(),mk(o).each((function(r){e.on((function(o){(function(t,e){var n=Math.abs(t.clientX-e.x),r=Math.abs(t.clientY-e.y);return n>5||r>5})(r,o)&&(e.clear(),n.set(!1),t.dispatch("longpresscancel"))}))}))}),!0),t.on("touchend touchcancel",(function(o){r.cancel(),"touchcancel"!==o.type&&e.get().filter((function(t){return t.target.isEqualNode(o.target)})).each((function(){n.get()?o.preventDefault():t.dispatch("tap",s(s({},o),{},{type:"tap"}))}))}),!0)}(t),function(t){(function(t){t.on("click",(function(e){t.dom.getParent(e.target,"details")&&e.preventDefault()}))})(t),function(t){t.parser.addNodeFilter("details",(function(t){it(t,(function(t){t.attr("data-mce-open",t.attr("open")),t.attr("open","open")}))})),t.serializer.addNodeFilter("details",(function(t){it(t,(function(t){var e=t.attr("data-mce-open");t.attr("open",S(e)?e:null),t.attr("data-mce-open",null)}))}))}(t)}(t),function(t){var e="contenteditable",n=" "+Ge.trim(cl(t))+" ",r=" "+Ge.trim(ul(t))+" ",o=wk(n),i=wk(r),a=sl(t);a.length>0&&t.on("BeforeSetContent",(function(e){(function(t,e,n){var r=e.length,o=n.content;if("raw"!==n.format){for(;r--;)o=o.replace(e[r],_k(t,o,ul(t)));n.content=o}})(t,a,e)})),t.parser.addAttributeFilter("class",(function(t){for(var n=t.length;n--;){var r=t[n];o(r)?r.attr(e,"true"):i(r)&&r.attr(e,"false")}})),t.serializer.addAttributeFilter(e,(function(t){for(var n=t.length;n--;){var r=t[n];(o(r)||i(r))&&(a.length>0&&r.attr("data-mce-content")?(r.name="#text",r.type=3,r.raw=!0,r.value=r.attr("data-mce-content")):r.attr(e,null))}}))}(t),Bx(t)||(function(t){t.on("mousedown",(function(e){e.detail>=3&&(e.preventDefault(),gT(t))}))}(t),function(t){(function(t){var e=[",",".",";",":","!","?"],n=[32],r=function(){return e=il(t),n=al(t),{inlinePatterns:_c(e),blockPatterns:wc(e),dynamicPatternsLookup:n};var e,n},o=function(){return function(t){return t.options.isSet("text_patterns_lookup")}(t)};t.on("keydown",(function(e){if(13===e.keyCode&&!ip.modifierPressed(e)&&t.selection.isCollapsed()){var n=r();(n.inlinePatterns.length>0||n.blockPatterns.length>0||o())&&gA(t,n)&&e.preventDefault()}}),!0);var i=function(){if(t.selection.isCollapsed()){var e=r();(e.inlinePatterns.length>0||o())&&function(t,e){var n=t.selection.getRng();nA(t,n).map((function(r){var o=Math.max(0,n.startOffset-1),i=oA(t.dom,r,n.startContainer,o),a=rA(e,r,i),u=hA(t,r,n.startContainer,o,a,!1);u.length>0&&t.undoManager.transact((function(){vA(t,u)}))}))}(t,e)}};t.on("keyup",(function(t){bA(n,t,(function(t,e){return t===e.keyCode&&!ip.modifierPressed(e)}))&&i()})),t.on("keypress",(function(n){bA(e,n,(function(t,e){return t.charCodeAt(0)===e.charCode}))&&gm.setEditorTimeout(t,i)}))})(t)}(t));var o=TE(t);pk(t,o),function(t){t.on("NodeChange",V(yk,t))}(t),function(t){var e,n=t.dom,r=jc(t),o=null!==(e=ps(t))&&void 0!==e?e:"",i=function e(i,a){if(!function(t){if(Gw(t)){var e=t.keyCode;return!Kw(t)&&(ip.metaKeyPressed(t)||t.altKey||e>=112&&e<=123||nt(Ww,e))}return!1}(i)){var u=t.getBody(),c=!function(t){return Gw(t)&&!(Kw(t)||"keyup"===t.type&&229===t.keyCode)}(i)&&function(t,e,n){if(Oi(Rn(e),!1)){var r=e.firstElementChild;return!r||!t.getStyle(e.firstElementChild,"padding-left")&&!t.getStyle(e.firstElementChild,"padding-right")&&n===r.nodeName.toLowerCase()}return!1}(n,u,r);(""!==n.getAttrib(u,$w)!==c||a)&&(n.setAttrib(u,$w,c?o:null),n.setAttrib(u,"aria-placeholder",c?o:null),function(t,e){t.dispatch("PlaceholderToggle",{state:e})}(t,c),t.on(c?"keydown":"keyup",e),t.off(c?"keyup":"keydown",e))}};ce(o)&&t.on("init",(function(e){i(e,!0),t.on("change SetContent ExecCommand",i),t.on("paste",(function(e){return gm.setEditorTimeout(t,(function(){return i(e)}))}))}))}(t),lT(t);var i=function(t){var e=t;return function(t){return Lt(t.plugins,"rtc").bind((function(t){return Z.from(t.setup)}))}(t).fold((function(){return e.rtcInstance=Mx(t),Z.none()}),(function(t){return e.rtcInstance=function(){var t=z(null),e=z("");return{init:{bindEvents:j},undoManager:{beforeChange:j,add:t,undo:t,redo:t,clear:j,reset:j,hasUndo:Y,hasRedo:Y,transact:t,ignore:j,extra:j},formatter:{match:Y,matchAll:z([]),matchNode:z(void 0),canApply:Y,closest:e,apply:j,remove:j,toggle:j,formatChanged:z({unbind:j})},editor:{getContent:e,setContent:z({content:"",html:""}),insertContent:z(""),addVisual:j},selection:{getContent:e},autocompleter:{addDecoration:j,removeDecoration:j},raw:{getModel:z(Z.none())}}}(),Z.some((function(){return t().then((function(t){return e.rtcInstance=function(t){var e=function(t){return E(t)?t:{}},n=t.init,r=t.undoManager,o=t.formatter,i=t.editor,a=t.selection,u=t.autocompleter,c=t.raw;return{init:{bindEvents:n.bindEvents},undoManager:{beforeChange:r.beforeChange,add:r.add,undo:r.undo,redo:r.redo,clear:r.clear,reset:r.reset,hasUndo:r.hasUndo,hasRedo:r.hasRedo,transact:function(t,e,n){return r.transact(n)},ignore:function(t,e){return r.ignore(e)},extra:function(t,e,n,o){return r.extra(n,o)}},formatter:{match:function(t,n,r,i){return o.match(t,e(n),i)},matchAll:o.matchAll,matchNode:o.matchNode,canApply:function(t){return o.canApply(t)},closest:function(t){return o.closest(t)},apply:function(t,n,r){return o.apply(t,e(n))},remove:function(t,n,r,i){return o.remove(t,e(n))},toggle:function(t,n,r){return o.toggle(t,e(n))},formatChanged:function(t,e,n,r,i){return o.formatChanged(e,n,r,i)}},editor:{getContent:function(t){return i.getContent(t)},setContent:function(t,e){return{content:i.setContent(t,e),html:""}},insertContent:function(t,e){return i.insertContent(t),""},addVisual:i.addVisual},selection:{getContent:function(t,e){return a.getContent(e)}},autocompleter:{addDecoration:u.addDecoration,removeDecoration:u.removeDecoration},raw:{getModel:function(){return Z.some(c.getRawModel())}}}}(t),t.rtc.isRemote}))}))}))}(t);(function(t){var e=t.getDoc(),n=t.getBody();(function(t){t.dispatch("PreInit")})(t),$s(t)||(e.body.spellcheck=!1,xA.setAttrib(n,"spellcheck","false")),t.quirks=yA(t),function(t){t.dispatch("PostRender")}(t);var r=ss(t);void 0!==r&&(n.dir=r);var o=Gs(t);o&&t.on("BeforeSetContent",(function(t){Ge.each(o,(function(e){t.content=t.content.replace(e,(function(t){return"\x3c!--mce:protected "+escape(t)+"--\x3e"}))}))})),t.on("SetContent",(function(){t.addVisual(t.getBody())})),t.on("compositionstart compositionend",(function(e){t.composing="compositionstart"===e.type}))})(t),i.fold((function(){SA(t).then((function(){return EA(t)}))}),(function(e){t.setProgressState(!0),SA(t).then((function(){e().then((function(e){t.setProgressState(!1),EA(t),jx(t)}),(function(e){t.notificationManager.open({type:"error",text:String(e)}),EA(t),jx(t)}))}))}))},AA=X,NA=qa.DOM,RA=qa.DOM,DA=function(t,e){return{editorContainer:t,iframeContainer:e,api:{}}},PA=function(t){var e=t.getElement();return t.inline?DA(null):function(t){var e=RA.create("div");return RA.insertAfter(e,t),DA(e,e)}(e)},MA=function(){var t=o(r().mark((function t(e){var n;return r().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.dispatch("ScriptsLoaded"),function(t){var e=Ge.trim(Kc(t)),n=t.ui.registry.getAll().icons,r=s(s({},uw.get("default").icons),uw.get(e).icons);Tt(r,(function(e,r){It(n,r)||t.ui.registry.addIcon(r,e)}))}(e),function(t){var e=vs(t);if(S(e)){var n=gw.get(e);t.theme=n(t,gw.urls[e])||{},B(t.theme.init)&&t.theme.init(t,gw.urls[e]||t.documentBaseUrl.replace(/\/$/,""))}else t.theme={}}(e),function(t){var e=bs(t),n=cw.get(e);t.model=n(t,cw.urls[e])}(e),function(t){var e=[];it(Bs(t),(function(n){(function(t,e,n){var r=vw.get(n),o=vw.urls[n]||t.documentBaseUrl.replace(/\/$/,"");if(n=Ge.trim(n),r&&-1===Ge.inArray(e,n)){if(t.plugins[n])return;try{var i=r(t,o)||{};t.plugins[n]=i,B(i.init)&&(i.init(t,o),e.push(n))}catch(e){(function(t,e,n){var r=Ga.translate(["Failed to initialize plugin: {0}",e]);Qd(t,"PluginLoadError",{message:r}),Cw(r,n),xw(t,r)})(t,n,e)}}})(t,e,function(t){return t.replace(/^\-/,"")}(n))}))}(e),t.next=3,function(t){var e=t.getElement();return t.orgDisplay=e.style.display,S(vs(t))?function(t){var e=t.theme.renderUI;return e?e():PA(t)}(t):B(vs(t))?function(t){var e=t.getElement(),n=vs(t)(t,e);return n.editorContainer.nodeType&&(n.editorContainer.id=n.editorContainer.id||t.id+"_parent"),n.iframeContainer&&n.iframeContainer.nodeType&&(n.iframeContainer.id=n.iframeContainer.id||t.id+"_iframecontainer"),n.height=n.iframeHeight?n.iframeHeight:e.offsetHeight,n}(t):PA(t)}(e);case 3:n=t.sent,function(t,e){var n={show:Z.from(e.show).getOr(j),hide:Z.from(e.hide).getOr(j),isEnabled:Z.from(e.isEnabled).getOr(X),setEnabled:function(n){t.mode.isReadOnly()||Z.from(e.setEnabled).each((function(t){return t(n)}))}};t.ui=s(s({},t.ui),n)}(e,Z.from(n.api).getOr({})),e.editorContainer=n.editorContainer,function(t){t.contentCSS=t.contentCSS.concat(function(t){return kw(t,as(t))}(t),function(t){return kw(t,cs(t))}(t))}(e),e.inline?TA(e):function(t,e){(function(t,e){var n=t.translate("Rich Text Area"),r=mn(Rn(t.getElement()),"tabindex").bind(le),o=function(t,e,n,r){var o=An("iframe");return r.each((function(t){return fn(o,"tabindex",t)})),dn(o,n),dn(o,{id:t+"_ifr",frameBorder:"0",allowTransparency:"true",title:e}),Cn(o,"tox-edit-area__iframe"),o}(t.id,n,Rc(t),r).dom;o.onload=function(){o.onload=null,t.dispatch("load")},t.contentAreaContainer=e.iframeContainer,t.iframeElement=o,t.iframeHTML=function(t){var e=Dc(t)+"<html><head>";Pc(t)!==t.documentBaseUrl&&(e+='<base href="'+t.documentBaseURI.getURI()+'" />'),e+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';var n=Mc(t),r=Bc(t),o=t.translate(zs(t));return Lc(t)&&(e+='<meta http-equiv="Content-Security-Policy" content="'+Lc(t)+'" />'),e+='</head><body id="'.concat(n,'" class="mce-content-body ').concat(r,'" data-id="').concat(t.id,'" aria-label="').concat(o,'"><br></body></html>'),e}(t),NA.add(e.iframeContainer,o)})(t,e),e.editorContainer&&(e.editorContainer.style.display=t.orgDisplay,t.hidden=NA.isHidden(e.editorContainer)),t.getElement().style.display="none",NA.setAttrib(t.id,"aria-hidden","true"),t.getElement().style.visibility=t.orgVisibility,function(t){var e,n=t.iframeElement,r=(e=Rn(n),Ir(e,"load",AA,(function(){r.unbind(),t.contentDocument=n.contentDocument,TA(t)})));if(He.browser.isFirefox()){var o=t.getDoc();o.open(),o.write(t.iframeHTML),o.close()}else n.srcdoc=t.iframeHTML}(t)}(e,{editorContainer:n.editorContainer,iframeContainer:n.iframeContainer});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),BA=qa.DOM,LA=function(t){return"-"===t.charAt(0)},IA=function(t,e,n){return Z.from(e).filter((function(t){return ce(t)&&!uw.has(t)})).map((function(e){return{url:"".concat(t.editorManager.baseURL,"/icons/").concat(e,"/icons").concat(n,".js"),name:Z.some(e)}}))},jA=function(t,e){var n=Ua.ScriptLoader,r=function(){!t.removed&&function(t){var e=vs(t);return!S(e)||M(gw.get(e))}(t)&&function(t){var e=bs(t);return M(cw.get(e))}(t)&&MA(t)};(function(t,e){var n=vs(t);if(S(n)&&!LA(n)&&!It(gw.urls,n)){var r=gs(t),o=r?t.documentBaseURI.toAbsolute(r):"themes/".concat(n,"/theme").concat(e,".js");gw.load(n,o).catch((function(){(function(t,e,n){ww(t,"ThemeLoadError",_w("theme",e,n))})(t,o,n)}))}})(t,e),function(t,e){var n=bs(t);if("plugin"!==n&&!It(cw.urls,n)){var r=ys(t),o=S(r)?t.documentBaseURI.toAbsolute(r):"models/".concat(n,"/model").concat(e,".js");cw.load(n,o).catch((function(){(function(t,e,n){ww(t,"ModelLoadError",_w("model",e,n))})(t,o,n)}))}}(t,e),function(t,e){var n=ns(e),r=rs(e);if(!Ga.hasCode(n)&&"en"!==n){var o=ce(r)?r:"".concat(e.editorManager.baseURL,"/langs/").concat(n,".js");t.add(o).catch((function(){(function(t,e,n){ww(t,"LanguageLoadError",_w("language",e,n))})(e,o,n)}))}}(n,t),function(t,e,n){var r=IA(e,"default",n),o=function(t){return Z.from(Yc(t)).filter(ce).map((function(t){return{url:t,name:Z.none()}}))}(e).orThunk((function(){return IA(e,Kc(e),"")}));it(function(t){for(var e=[],n=function(t){e.push(t)},r=0;r<t.length;r++)t[r].each(n);return e}([r,o]),(function(n){t.add(n.url).catch((function(){(function(t,e,n){ww(t,"IconsLoadError",_w("icons",e,n))})(e,n.url,n.name.getOrUndefined())}))}))}(n,t,e),function(t,e){var n=function(e,n){vw.load(e,n).catch((function(){(function(t,e,n){ww(t,"PluginLoadError",_w("plugin",e,n))})(t,n,e)}))};Tt(Ls(t),(function(e,r){n(r,e),t.options.set("plugins",Bs(t).concat(r))})),it(Bs(t),(function(t){!(t=Ge.trim(t))||vw.urls[t]||LA(t)||n(t,"plugins/".concat(t,"/plugin").concat(e,".js"))}))}(t,e),n.loadQueue().then(r,r)},FA=Le().deviceType,qA=FA.isPhone(),zA=FA.isTablet(),UA=function(t){if(P(t))return[];var e=A(t)?t:t.split(/[ ,]/),n=ot(e,ie);return ct(n,ce)},HA=function(t,e){var n,r,o=function(e,n){var r={},o={};return Dt(e,(function(e,n){return nt(t,n)}),Rt(r),Rt(o)),{t:r,f:o}}(e);return n=o.t,r=o.f,{sections:z(n),options:z(r)}},VA=function(t,e){return It(t.sections(),e)},WA=function(t,e){return s({table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:Lt(t,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},e?{menubar:!1}:{})},$A=function(t,e){var n,r=null!==(n=e.external_plugins)&&void 0!==n?n:{};return t&&t.external_plugins?Ge.extend({},t.external_plugins,r):r},GA=function(t,e,n,r,o){var i,a=t?{mobile:WA(null!==(i=o.mobile)&&void 0!==i?i:{},e)}:{},u=HA(["mobile"],PO(a,o)),c=Ge.extend(n,r,u.options(),function(t,e){return t&&VA(e,"mobile")}(t,u)?function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.sections(),o=Lt(r,e).getOr({});return Ge.extend({},n,o)}(u,"mobile"):{},{external_plugins:$A(r,u.options())});return function(t,e,n,r){var o=UA(n.forced_plugins),i=UA(r.plugins),a=function(t,e){return VA(t,e)?t.sections()[e]:{}}(e,"mobile"),u=function(t,e,n,r){return t&&VA(e,"mobile")?r:n}(t,e,i,a.plugins?UA(a.plugins):i),c=function(t,e){return[].concat(f(UA(t)),f(UA(e)))}(o,u);return Ge.extend(r,{forced_plugins:o,plugins:c})}(t,u,r,c)},KA=function(t){(function(t){var e=function(e){return function(){it("left,center,right,justify".split(","),(function(n){e!==n&&t.formatter.remove("align"+n)})),"none"!==e&&function(e,n){t.formatter.toggle(e,void 0),t.nodeChanged()}("align"+e)}};t.editorCommands.addCommands({JustifyLeft:e("left"),JustifyCenter:e("center"),JustifyRight:e("right"),JustifyFull:e("justify"),JustifyNone:e("none")})})(t),function(t){var e=function(e){return function(){var n=t.selection,r=n.isCollapsed()?[t.dom.getParent(n.getNode(),t.dom.isBlock)]:n.getSelectedBlocks();return rt(r,(function(n){return M(t.formatter.matchNode(n,e))}))}};t.editorCommands.addCommands({JustifyLeft:e("alignleft"),JustifyCenter:e("aligncenter"),JustifyRight:e("alignright"),JustifyFull:e("alignjustify")},"state")}(t)},YA=function(t,e){var n=t.selection,r=t.dom;return/^ | $/.test(e)?function(t,e,n){var r=Rn(t.getRoot());return n=qh(r,Wu.fromRangeStart(e))?n.replace(/^ /,"&nbsp;"):n.replace(/^&nbsp;/," "),zh(r,Wu.fromRangeEnd(e))?n.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):n.replace(/&nbsp;(<br( \/)?>)?$/," ")}(r,n.getRng(),e):e},XA=function(t,e){if(t.selection.isEditable()){var n=function(t){if("string"!=typeof t){var e=Ge.extend({paste:t.paste,data:{paste:t.paste}},t);return{content:t.content,details:e}}return{content:t,details:{}}}(e),r=n.content,o=n.details;ax(t,s(s({},o),{},{content:YA(t,r),format:"html",set:!1,selection:!0})).each((function(e){var n=function(t,e,n){return Lx(t).editor.insertContent(e,n)}(t,e.content,o);ux(t,n,e),t.addVisual()}))}},ZA={"font-size":"size","font-family":"face"},JA=sn("font"),QA=function(t){return function(e,n){return Z.from(n).map(Rn).filter(on).bind((function(n){return function(t,e,n){return gg(Rn(n),(function(e){return function(e){return _r(e,t).orThunk((function(){return JA(e)?Lt(ZA,t).bind((function(t){return mn(e,t)})):Z.none()}))}(e)}),(function(t){return Ln(Rn(e),t)}))}(t,e,n.dom).or(function(t,e){return Z.from(qa.DOM.getStyle(e,t,!0))}(t,n.dom))})).getOr("")}},tN=QA("font-size"),eN=F((function(t){return t.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")}),QA("font-family")),nN=function(t){return Of(t.getBody()).bind((function(t){var e=t.container();return Z.from(co(e)?e.parentNode:e)}))},rN=function(t,e){return function(t,e){return function(t){return Z.from(t.selection.getRng()).bind((function(e){var n=t.getBody();return e.startContainer===n&&0===e.startOffset?Z.none():Z.from(t.selection.getStart(!0))}))}(t).orThunk(V(nN,t)).map(Rn).filter(on).bind(e)}(t,q(Z.some,e))},oN=function(t,e){if(/^[0-9.]+$/.test(e)){var n=parseInt(e,10);if(n>=1&&n<=7){var r=function(t){return Ge.explode(t.options.get("font_size_style_values"))}(t),o=function(t){return Ge.explode(t.options.get("font_size_classes"))}(t);return o.length>0?o[n-1]||e:r[n-1]||e}return e}return e},iN=function(t){var e=t.split(/\s*,\s*/);return ot(e,(function(t){return-1===t.indexOf(" ")||ne(t,'"')||ne(t,"'")?t:"'".concat(t,"'")})).join(",")},aN=function(t){KA(t),function(t){t.editorCommands.addCommands({"Cut,Copy,Paste":function(e){var n,r=t.getDoc();try{r.execCommand(e)}catch(t){n=!0}if("paste"!==e||r.queryCommandEnabled(e)||(n=!0),n||!r.queryCommandSupported(e)){var o=t.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(He.os.isMacOS()||He.os.isiOS())&&(o=o.replace(/Ctrl\+/g,"⌘+")),t.notificationManager.open({text:o,type:"error"})}}})}(t),function(t){t.editorCommands.addCommands({mceAddUndoLevel:function(){t.undoManager.add()},mceEndUndoLevel:function(){t.undoManager.add()},Undo:function(){t.undoManager.undo()},Redo:function(){t.undoManager.redo()}})}(t),function(t){t.editorCommands.addCommands({mceSelectNodeDepth:function(e,n,r){var o=0;t.dom.getParent(t.selection.getNode(),(function(e){return!Qr(e)||o++!==r||(t.selection.select(e),!1)}),t.getBody())},mceSelectNode:function(e,n,r){t.selection.select(r)},selectAll:function(){var e=t.dom.getParent(t.selection.getStart(),go);if(e){var n=t.dom.createRng();n.selectNodeContents(e),t.selection.setRng(n)}}})}(t),function(t){t.editorCommands.addCommands({mceCleanup:function(){var e=t.selection.getBookmark();t.setContent(t.getContent()),t.selection.moveToBookmark(e)},insertImage:function(e,n,r){XA(t,t.dom.createHTML("img",{src:r}))},insertHorizontalRule:function(){t.execCommand("mceInsertContent",!1,"<hr>")},insertText:function(e,n,r){XA(t,t.dom.encode(r))},insertHTML:function(e,n,r){XA(t,r)},mceInsertContent:function(e,n,r){XA(t,r)},mceSetContent:function(e,n,r){t.setContent(r)},mceReplaceContent:function(e,n,r){t.execCommand("mceInsertContent",!1,r.replace(/\{\$selection\}/g,t.selection.getContent({format:"text"})))},mceNewDocument:function(){t.setContent("")}})}(t),function(t){var e=function(e,n,r){var o=S(r)?{href:r}:r,i=t.dom.getParent(t.selection.getNode(),"a");E(o)&&S(o.href)&&(o.href=o.href.replace(/ /g,"%20"),i&&o.href||t.formatter.remove("link"),o.href&&t.formatter.apply("link",o,i))};t.editorCommands.addCommands({unlink:function(){if(t.selection.isCollapsed()){var e=t.dom.getParent(t.selection.getStart(),"a");e&&t.dom.remove(e,!0)}else t.formatter.remove("link")},mceInsertLink:e,createLink:e})}(t),function(t){t.editorCommands.addCommands({Indent:function(){(function(t){sk(t,"indent")})(t)},Outdent:function(){lk(t)}}),t.editorCommands.addCommands({Outdent:function(){return ak(t)}},"state")}(t),function(t){t.editorCommands.addCommands({insertParagraph:function(){vE(YS,t)},mceInsertNewLine:function(e,n,r){gE(t,r)},InsertLineBreak:function(e,n,r){vE(rE,t)}})}(t),function(t){(function(t){t.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":function(e){t.getDoc().execCommand(e);var n=t.dom.getParent(t.selection.getNode(),"ol,ul");if(n){var r=n.parentNode;if(r&&/^(H[1-6]|P|ADDRESS|PRE)$/.test(r.nodeName)){var o=t.selection.getBookmark();t.dom.split(r,n),t.selection.moveToBookmark(o)}}}})})(t),function(t){t.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":function(e){var n=t.dom.getParent(t.selection.getNode(),"ul,ol");return n&&("insertunorderedlist"===e&&"UL"===n.tagName||"insertorderedlist"===e&&"OL"===n.tagName)}},"state")}(t)}(t),function(t){(function(t){var e=function(e,n){t.formatter.toggle(e,n),t.nodeChanged()};t.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(t){e(t)},"ForeColor,HiliteColor":function(t,n,r){e(t,{value:r})},BackColor:function(t,n,r){e("hilitecolor",{value:r})},FontName:function(e,n,r){(function(t,e){var n=oN(t,e);t.formatter.toggle("fontname",{value:iN(n)}),t.nodeChanged()})(t,r)},FontSize:function(e,n,r){(function(t,e){t.formatter.toggle("fontsize",{value:oN(t,e)}),t.nodeChanged()})(t,r)},LineHeight:function(e,n,r){(function(t,e){t.formatter.toggle("lineheight",{value:String(e)}),t.nodeChanged()})(t,r)},Lang:function(t,n,r){var o;e(t,{value:r.code,customValue:null!==(o=r.customCode)&&void 0!==o?o:null})},RemoveFormat:function(e){t.formatter.remove(e)},mceBlockQuote:function(){e("blockquote")},FormatBlock:function(t,n,r){e(S(r)?r:"p")},mceToggleFormat:function(t,n,r){e(r)}})})(t),function(t){var e=function(e){return t.formatter.match(e)};t.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(t){return e(t)},mceBlockQuote:function(){return e("blockquote")}},"state"),t.editorCommands.addQueryValueHandler("FontName",(function(){return function(t){return rN(t,(function(e){return eN(t.getBody(),e.dom)})).getOr("")}(t)})),t.editorCommands.addQueryValueHandler("FontSize",(function(){return function(t){return rN(t,(function(e){return tN(t.getBody(),e.dom)})).getOr("")}(t)})),t.editorCommands.addQueryValueHandler("LineHeight",(function(){return function(t){return rN(t,(function(e){var n=Rn(t.getBody()),r=gg(e,(function(t){return _r(t,"line-height")}),V(Ln,n));return r.getOrThunk((function(){var t=parseFloat(xr(e,"line-height")),n=parseFloat(xr(e,"font-size"));return String(t/n)}))})).getOr("")}(t)}))}(t)}(t),function(t){t.editorCommands.addCommands({mceRemoveNode:function(e,n,r){var o=null!=r?r:t.selection.getNode();if(o!==t.getBody()){var i=t.selection.getBookmark();t.dom.remove(o,!0),t.selection.moveToBookmark(i)}},mcePrint:function(){t.getWin().print()},mceFocus:function(e,n,r){(function(t,e){t.removed||(e?Em(t):function(t){var e=t.selection,n=t.getBody(),r=e.getRng();t.quirks.refreshContentEditable(),M(t.bookmark)&&!Sm(t)&&hm(t).each((function(e){t.selection.setRng(e),r=e}));var o=function(t,e){return t.dom.getParent(e,(function(e){return"true"===t.dom.getContentEditable(e)}))}(t,e.getNode());if(o&&t.dom.isChildOf(o,n))return Om(o),km(t,r),void Em(t);t.inline||(He.browser.isOpera()||Om(n),t.getWin().focus()),(He.browser.isFirefox()||t.inline)&&(Om(n),km(t,r)),Em(t)}(t))})(t,!0===r)},mceToggleVisualAid:function(){t.hasVisual=!t.hasVisual,t.addVisual()}})}(t)},uN=["toggleview"],cN=function(t){return nt(uN,t.toLowerCase())},sN=function(){function t(e){d(this,t),this.commands={state:{},exec:{},value:{}},this.editor=e}return p(t,[{key:"execCommand",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=this.editor,i=t.toLowerCase(),a=null==r?void 0:r.skip_focus;if(o.removed)return!1;if("mcefocus"!==i&&(/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(i)||a?function(t){hm(t).each((function(e){return t.selection.setRng(e)}))}(o):o.focus()),o.dispatch("BeforeExecCommand",{command:t,ui:e,value:n}).isDefaultPrevented())return!1;var u=this.commands.exec[i];return!!B(u)&&(u(i,e,n),o.dispatch("ExecCommand",{command:t,ui:e,value:n}),!0)}},{key:"queryCommandState",value:function(t){if(!cN(t)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;var e=t.toLowerCase(),n=this.commands.state[e];return!!B(n)&&n(e)}},{key:"queryCommandValue",value:function(t){if(!cN(t)&&this.editor.quirks.isHidden()||this.editor.removed)return"";var e=t.toLowerCase(),n=this.commands.value[e];return B(n)?n(e):""}},{key:"addCommands",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"exec",n=this.commands;Tt(t,(function(t,r){it(r.toLowerCase().split(","),(function(r){n[e][r]=t}))}))}},{key:"addCommand",value:function(t,e,n){var r=this,o=t.toLowerCase();this.commands.exec[o]=function(t,o,i){return e.call(null!=n?n:r.editor,o,i)}}},{key:"queryCommandSupported",value:function(t){var e=t.toLowerCase();return!!this.commands.exec[e]}},{key:"addQueryStateHandler",value:function(t,e,n){var r=this;this.commands.state[t.toLowerCase()]=function(){return e.call(null!=n?n:r.editor)}}},{key:"addQueryValueHandler",value:function(t,e,n){var r=this;this.commands.value[t.toLowerCase()]=function(){return e.call(null!=n?n:r.editor)}}}]),t}(),lN="data-mce-contenteditable",fN=function(t,e,n){try{t.getDoc().execCommand(e,!1,String(n))}catch(t){}},dN=function(t,e){t.dom.contentEditable=e?"true":"false"},pN=function(t,e){var n=Rn(t.getBody());(function(t,e,n){Sn(t,e)&&!n?On(t,e):n&&Cn(t,e)})(n,"mce-content-readonly",e),e?(t.selection.controlSelection.hideResizeRect(),t._selectionOverrides.hideFakeCaret(),function(t){Z.from(t.selection.getNode()).each((function(t){t.removeAttribute("data-mce-selected")}))}(t),t.readonly=!0,dN(n,!1),it(Kr(n,'*[contenteditable="true"]'),(function(t){fn(t,lN,"true"),dN(t,!1)}))):(t.readonly=!1,dN(n,!0),it(Kr(n,'*[data-mce-contenteditable="true"]'),(function(t){vn(t,lN),dN(t,!0)})),fN(t,"StyleWithCSS",!1),fN(t,"enableInlineTableEditing",!1),fN(t,"enableObjectResizing",!1),function(t){return Sm(t)||function(t){var e=nr(Rn(t.getElement()));return um(e).filter((function(e){return!ym(e.dom)&&xm(t,e.dom)})).isSome()}(t)}(t)&&t.focus(),function(t){t.selection.setRng(t.selection.getRng())}(t),t.nodeChanged())},mN=function(t){return t.readonly},hN=function(t){t.parser.addAttributeFilter("contenteditable",(function(e){mN(t)&&it(e,(function(t){t.attr(lN,t.attr("contenteditable")),t.attr("contenteditable","false")}))})),t.serializer.addAttributeFilter(lN,(function(e){mN(t)&&it(e,(function(t){t.attr("contenteditable",t.attr(lN))}))})),t.serializer.addTempAttr(lN)},vN=["copy"],gN=Ge.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," "),bN=function(){function t(e){d(this,t),this.bindings={},this.settings=e||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||Y}return p(t,[{key:"fire",value:function(t,e){return this.dispatch(t,e)}},{key:"dispatch",value:function(t,e){var n=t.toLowerCase(),r=ka(n,null!=e?e:{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(r);var o=this.bindings[n];if(o)for(var i=0,a=o.length;i<a;i++){var u=o[i];if(!u.removed){if(u.once&&this.off(n,u.func),r.isImmediatePropagationStopped())return r;if(!1===u.func.call(this.scope,r))return r.preventDefault(),r}}return r}},{key:"on",value:function(t,e,n,r){if(!1===e&&(e=Y),e){var o={func:e,removed:!1};r&&Ge.extend(o,r);for(var i=t.toLowerCase().split(" "),a=i.length;a--;){var u=i[a],c=this.bindings[u];c||(c=[],this.toggleEvent(u,!0)),c=n?[o].concat(f(c)):[].concat(f(c),[o]),this.bindings[u]=c}}return this}},{key:"off",value:function(t,e){var n=this;if(t)for(var r=t.toLowerCase().split(" "),o=r.length;o--;){var i=r[o],a=this.bindings[i];if(!i)return Tt(this.bindings,(function(t,e){n.toggleEvent(e,!1),delete n.bindings[e]})),this;if(a){if(e){var u=ut(a,(function(t){return t.func===e}));a=u.fail,this.bindings[i]=a,it(u.pass,(function(t){t.removed=!0}))}else a.length=0;a.length||(this.toggleEvent(t,!1),delete this.bindings[i])}}else Tt(this.bindings,(function(t,e){n.toggleEvent(e,!1)})),this.bindings={};return this}},{key:"once",value:function(t,e,n){return this.on(t,e,n,{once:!0})}},{key:"has",value:function(t){t=t.toLowerCase();var e=this.bindings[t];return!(!e||0===e.length)}}],[{key:"isNative",value:function(t){return!!gN[t.toLowerCase()]}}]),t}(),yN=function(t){return t._eventDispatcher||(t._eventDispatcher=new bN({scope:t,toggleEvent:function(e,n){bN.isNative(e)&&t.toggleNativeEvent&&t.toggleNativeEvent(e,n)}})),t._eventDispatcher},xN={fire:function(t,e,n){return this.dispatch(t,e,n)},dispatch:function(t,e,n){var r=this;if(r.removed&&"remove"!==t&&"detach"!==t)return ka(t.toLowerCase(),null!=e?e:{},r);var o=yN(r).dispatch(t,e);if(!1!==n&&r.parent)for(var i=r.parent();i&&!o.isPropagationStopped();)i.dispatch(t,o,!1),i=i.parent?i.parent():void 0;return o},on:function(t,e,n){return yN(this).on(t,e,n)},off:function(t,e){return yN(this).off(t,e)},once:function(t,e){return yN(this).once(t,e)},hasEventListeners:function(t){return yN(this).has(t)}},wN=qa.DOM,_N=function(t,e){if("selectionchange"===e)return t.getDoc();if(!t.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(e))return t.getDoc().documentElement;var n=ms(t);return n?(t.eventRoot||(t.eventRoot=wN.select(n)[0]),t.eventRoot):t.getBody()},CN=function(t,e,n){!function(t){return!t.hidden&&!mN(t)}(t)?mN(t)&&function(t,e){if(function(t){return"click"===t.type}(e)&&!ip.metaKeyPressed(e)){var n=Rn(e.target);(function(t,e){return pr(e,"a",(function(e){return Ln(e,Rn(t.getBody()))})).bind((function(t){return mn(t,"href")}))})(t,n).each((function(n){if(e.preventDefault(),/^#/.test(n)){var r=t.dom.select("".concat(n,',[name="').concat(te(n,"#"),'"]'));r.length&&t.selection.scrollIntoView(r[0],!0)}else window.open(n,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")}))}else(function(t){return nt(vN,t.type)})(e)&&t.dispatch(e.type,e)}(t,n):t.dispatch(e,n)},kN=function(t,e){if(t.delegates||(t.delegates={}),!t.delegates[e]&&!t.removed){var n=_N(t,e);if(ms(t)){if(bT||(bT={},t.editorManager.on("removeEditor",(function(){t.editorManager.activeEditor||bT&&(Tt(bT,(function(e,n){t.dom.unbind(_N(t,n))})),bT=null)}))),bT[e])return;var r=function(n){for(var r=n.target,o=t.editorManager.get(),i=o.length;i--;){var a=o[i].getBody();(a===r||wN.isChildOf(r,a))&&CN(o[i],e,n)}};bT[e]=r,wN.bind(n,e,r)}else{var o=function(n){CN(t,e,n)};wN.bind(n,e,o),t.delegates[e]=o}}},ON=s(s({},xN),{},{bindPendingEventDelegates:function(){var t=this;Ge.each(t._pendingNativeEvents,(function(e){kN(t,e)}))},toggleNativeEvent:function(t,e){var n=this;"focus"!==t&&"blur"!==t&&(n.removed||(e?n.initialized?kN(n,t):n._pendingNativeEvents?n._pendingNativeEvents.push(t):n._pendingNativeEvents=[t]:n.initialized&&n.delegates&&(n.dom.unbind(_N(n,t),t,n.delegates[t]),delete n.delegates[t])))},unbindAllNativeEvents:function(){var t=this,e=t.getBody(),n=t.dom;t.delegates&&(Tt(t.delegates,(function(e,n){t.dom.unbind(_N(t,n),n,e)})),delete t.delegates),!t.inline&&e&&n&&(e.onload=null,n.unbind(t.getWin()),n.unbind(t.getDoc())),n&&(n.unbind(e),n.unbind(t.getContainer()))}}),SN=function(t){return S(t)?{value:t.split(/[ ,]/),valid:!0}:I(t,S)?{value:t,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."}},EN=function(t,e){return t+(se(e.message)?"":". ".concat(e.message))},TN=function(t){return t.valid},AN=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=e(t);return R(r)?r?{value:t,valid:!0}:{valid:!1,message:n}:r},NN=["design","readonly"],RN=function(t,e,n,r){var o=n[e.get()],i=n[r];try{i.activate()}catch(t){return void console.error("problem while activating editor mode ".concat(r,":"),t)}o.deactivate(),o.editorReadOnly!==i.editorReadOnly&&pN(t,i.editorReadOnly),e.set(r),function(t,e){t.dispatch("SwitchMode",{mode:e})}(t,r)},DN=Ge.each,PN=Ge.explode,MN={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},BN=Ge.makeMap("alt,ctrl,shift,meta,access"),LN=function(t){var e={},n=He.os.isMacOS()||He.os.isiOS();DN(PN(t.toLowerCase(),"+"),(function(t){!function(t){return t in BN}(t)?/^[0-9]{2,}$/.test(t)?e.keyCode=parseInt(t,10):(e.charCode=t.charCodeAt(0),e.keyCode=MN[t]||t.toUpperCase().charCodeAt(0)):e[t]=!0}));var r,o=[e.keyCode];for(r in BN)e[r]?o.push(r):e[r]=!1;return e.id=o.join(","),e.access&&(e.alt=!0,n?e.ctrl=!0:e.shift=!0),e.meta&&(n?e.meta=!0:(e.ctrl=!0,e.meta=!1)),e},IN=function(){function t(e){d(this,t),this.shortcuts={},this.pendingPatterns=[],this.editor=e;var n=this;e.on("keyup keypress keydown",(function(t){!n.hasModifier(t)&&!n.isFunctionKey(t)||t.isDefaultPrevented()||(DN(n.shortcuts,(function(e){n.matchShortcut(t,e)&&(n.pendingPatterns=e.subpatterns.slice(0),"keydown"===t.type&&n.executeShortcutAction(e))})),n.matchShortcut(t,n.pendingPatterns[0])&&(1===n.pendingPatterns.length&&"keydown"===t.type&&n.executeShortcutAction(n.pendingPatterns[0]),n.pendingPatterns.shift()))}))}return p(t,[{key:"add",value:function(t,e,n,r){var o=this,i=o.normalizeCommandFunc(n);return DN(PN(Ge.trim(t)),(function(t){var n=o.createShortcut(t,e,i,r);o.shortcuts[n.id]=n})),!0}},{key:"remove",value:function(t){var e=this.createShortcut(t);return!!this.shortcuts[e.id]&&(delete this.shortcuts[e.id],!0)}},{key:"normalizeCommandFunc",value:function(t){var e=this,n=t;return"string"==typeof n?function(){e.editor.execCommand(n,!1,null)}:Ge.isArray(n)?function(){e.editor.execCommand(n[0],n[1],n[2])}:n}},{key:"createShortcut",value:function(t,e,n,r){var o=Ge.map(PN(t,">"),LN);return o[o.length-1]=Ge.extend(o[o.length-1],{func:n,scope:r||this.editor}),Ge.extend(o[0],{desc:this.editor.translate(e),subpatterns:o.slice(1)})}},{key:"hasModifier",value:function(t){return t.altKey||t.ctrlKey||t.metaKey}},{key:"isFunctionKey",value:function(t){return"keydown"===t.type&&t.keyCode>=112&&t.keyCode<=123}},{key:"matchShortcut",value:function(t,e){return!!e&&e.ctrl===t.ctrlKey&&e.meta===t.metaKey&&e.alt===t.altKey&&e.shift===t.shiftKey&&!!(t.keyCode===e.keyCode||t.charCode&&t.charCode===e.charCode)&&(t.preventDefault(),!0)}},{key:"executeShortcutAction",value:function(t){return t.func?t.func.call(t.scope):null}}]),t}(),jN=function(){var t=function(){var t={},e={},n={},r={},o={},i={},a={},u={},c=function(t,e){return function(n,r){t[n.toLowerCase()]=s(s({},r),{},{type:e})}};return{addButton:c(t,"button"),addGroupToolbarButton:c(t,"grouptoolbarbutton"),addToggleButton:c(t,"togglebutton"),addMenuButton:c(t,"menubutton"),addSplitButton:c(t,"splitbutton"),addMenuItem:c(e,"menuitem"),addNestedMenuItem:c(e,"nestedmenuitem"),addToggleMenuItem:c(e,"togglemenuitem"),addAutocompleter:c(n,"autocompleter"),addContextMenu:c(o,"contextmenu"),addContextToolbar:c(i,"contexttoolbar"),addContextForm:c(i,"contextform"),addSidebar:c(a,"sidebar"),addView:c(u,"views"),addIcon:function(t,e){return r[t.toLowerCase()]=e},getAll:function(){return{buttons:t,menuItems:e,icons:r,popups:n,contextMenus:o,contextToolbars:i,sidebars:a,views:u}}}}();return{addAutocompleter:t.addAutocompleter,addButton:t.addButton,addContextForm:t.addContextForm,addContextMenu:t.addContextMenu,addContextToolbar:t.addContextToolbar,addIcon:t.addIcon,addMenuButton:t.addMenuButton,addMenuItem:t.addMenuItem,addNestedMenuItem:t.addNestedMenuItem,addSidebar:t.addSidebar,addSplitButton:t.addSplitButton,addToggleButton:t.addToggleButton,addGroupToolbarButton:t.addGroupToolbarButton,addToggleMenuItem:t.addToggleMenuItem,addView:t.addView,getAll:t.getAll}},FN=qa.DOM,qN=Ge.extend,zN=Ge.each,UN=function(){function t(e,n,r){d(this,t),this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this.editorManager=r,this.documentBaseUrl=r.documentBaseURL,qN(this,ON);var o=this;this.id=e,this.hidden=!1;var a=function(t,e){return GA(qA||zA,qA,e,t,e)}(r.defaultOptions,n);this.options=function(t,e){var n={},r={},o=function(t,e,n){var o=AN(e,n);return TN(o)?(r[t]=o.value,!0):(console.warn(EN("Invalid value passed for the ".concat(t," option"),o)),!1)},i=function(t){return It(n,t)};return{register:function(t,i){var a=function(t){return S(t.processor)}(i)?function(t){var e=function(){switch(t){case"array":return A;case"boolean":return R;case"function":return B;case"number":return L;case"object":return E;case"string":return S;case"string[]":return SN;case"object[]":return function(t){return I(t,E)};case"regexp":return function(t){return O(t,RegExp)};default:return X}}();return function(n){return AN(n,e,"The value must be a ".concat(t,"."))}}(i.processor):i.processor,u=function(t,e,n){if(!D(e)){var r=AN(e,n);if(TN(r))return r.value;console.error(EN('Invalid default value passed for the "'.concat(t,'" option'),r))}}(t,i.default,a);n[t]=s(s({},i),{},{default:u,processor:a}),Lt(r,t).orThunk((function(){return Lt(e,t)})).each((function(e){return o(t,e,a)}))},isRegistered:i,get:function(t){return Lt(r,t).orThunk((function(){return Lt(n,t).map((function(t){return t.default}))})).getOrUndefined()},set:function(t,e){if(i(t)){var r=n[t];return r.immutable?(console.error('"'.concat(t,'" is an immutable option and cannot be updated')),!1):o(t,e,r.processor)}return console.warn('"'.concat(t,'" is not a registered option. Ensure the option has been registered before setting a value.')),!1},unset:function(t){var e=i(t);return e&&delete r[t],e},isSet:function(t){return It(r,t)}}}(0,a),function(t){var e=t.options.register;e("id",{processor:"string",default:t.id}),e("selector",{processor:"string"}),e("target",{processor:"object"}),e("suffix",{processor:"string"}),e("cache_suffix",{processor:"string"}),e("base_url",{processor:"string"}),e("referrer_policy",{processor:"string",default:""}),e("language_load",{processor:"boolean",default:!0}),e("inline",{processor:"boolean",default:!1}),e("iframe_attrs",{processor:"object",default:{}}),e("doctype",{processor:"string",default:"<!DOCTYPE html>"}),e("document_base_url",{processor:"string",default:t.documentBaseUrl}),e("body_id",{processor:Nc(t,"tinymce"),default:"tinymce"}),e("body_class",{processor:Nc(t),default:""}),e("content_security_policy",{processor:"string",default:""}),e("br_in_pre",{processor:"boolean",default:!0}),e("forced_root_block",{processor:function(t){var e=S(t)&&ce(t);return e?{value:t,valid:e}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),e("forced_root_block_attrs",{processor:"object",default:{}}),e("newline_behavior",{processor:function(t){var e=nt(["block","linebreak","invert","default"],t);return e?{value:t,valid:e}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),e("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),e("no_newline_selector",{processor:"string",default:""}),e("keep_styles",{processor:"boolean",default:!0}),e("end_container_on_empty_block",{processor:function(t){return R(t)||S(t)?{valid:!0,value:t}:{valid:!1,message:"Must be boolean or a string"}},default:"blockquote"}),e("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),e("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),e("font_size_classes",{processor:"string",default:""}),e("automatic_uploads",{processor:"boolean",default:!0}),e("images_reuse_filename",{processor:"boolean",default:!1}),e("images_replace_blob_uris",{processor:"boolean",default:!0}),e("icons",{processor:"string",default:""}),e("icons_url",{processor:"string",default:""}),e("images_upload_url",{processor:"string",default:""}),e("images_upload_base_path",{processor:"string",default:""}),e("images_upload_credentials",{processor:"boolean",default:!1}),e("images_upload_handler",{processor:"function"}),e("language",{processor:"string",default:"en"}),e("language_url",{processor:"string",default:""}),e("entity_encoding",{processor:"string",default:"named"}),e("indent",{processor:"boolean",default:!0}),e("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),e("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),e("indent_use_margin",{processor:"boolean",default:!1}),e("indentation",{processor:"string",default:"40px"}),e("content_css",{processor:function(t){var e=!1===t||S(t)||I(t,S);return e?S(t)?{value:ot(t.split(","),ie),valid:e}:A(t)?{value:t,valid:e}:!1===t?{value:[],valid:e}:{value:t,valid:e}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:Ss(t)?[]:["default"]}),e("content_style",{processor:"string"}),e("content_css_cors",{processor:"boolean",default:!1}),e("font_css",{processor:function(t){var e=S(t)||I(t,S);return e?{value:A(t)?t:ot(t.split(","),ie),valid:e}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),e("inline_boundaries",{processor:"boolean",default:!0}),e("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),e("object_resizing",{processor:function(t){var e=R(t)||S(t);return e?!1===t||kc.isiPhone()||kc.isiPad()?{value:"",valid:e}:{value:!0===t?"table,img,figure.image,div,video,iframe":t,valid:e}:{valid:!1,message:"Must be boolean or a string"}},default:!Oc}),e("resize_img_proportional",{processor:"boolean",default:!0}),e("event_root",{processor:"object"}),e("service_message",{processor:"string"}),e("theme",{processor:function(t){return!1===t||S(t)||B(t)},default:"silver"}),e("theme_url",{processor:"string"}),e("formats",{processor:"object"}),e("format_empty_lines",{processor:"boolean",default:!1}),e("format_noneditable_selector",{processor:"string",default:""}),e("preview_styles",{processor:function(t){var e=!1===t||S(t);return e?{value:!1===t?"":t,valid:e}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),e("custom_ui_selector",{processor:"string",default:""}),e("hidden_input",{processor:"boolean",default:!0}),e("submit_patch",{processor:"boolean",default:!0}),e("encoding",{processor:"string"}),e("add_form_submit_trigger",{processor:"boolean",default:!0}),e("add_unload_trigger",{processor:"boolean",default:!0}),e("custom_undo_redo_levels",{processor:"number",default:0}),e("disable_nodechange",{processor:"boolean",default:!1}),e("readonly",{processor:"boolean",default:!1}),e("plugins",{processor:"string[]",default:[]}),e("external_plugins",{processor:"object"}),e("forced_plugins",{processor:"string[]"}),e("model",{processor:"string",default:t.hasPlugin("rtc")?"plugin":"dom"}),e("model_url",{processor:"string"}),e("block_unsupported_drop",{processor:"boolean",default:!0}),e("visual",{processor:"boolean",default:!0}),e("visual_table_class",{processor:"string",default:"mce-item-table"}),e("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),e("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),e("setup",{processor:"function"}),e("init_instance_callback",{processor:"function"}),e("url_converter",{processor:"function",default:t.convertURL}),e("url_converter_scope",{processor:"object",default:t}),e("urlconverter_callback",{processor:"function"}),e("allow_conditional_comments",{processor:"boolean",default:!1}),e("allow_html_data_urls",{processor:"boolean",default:!1}),e("allow_svg_data_urls",{processor:"boolean"}),e("allow_html_in_named_anchor",{processor:"boolean",default:!1}),e("allow_script_urls",{processor:"boolean",default:!1}),e("allow_unsafe_link_target",{processor:"boolean",default:!1}),e("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),e("fix_list_elements",{processor:"boolean",default:!1}),e("preserve_cdata",{processor:"boolean",default:!1}),e("remove_trailing_brs",{processor:"boolean"}),e("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),e("element_format",{processor:"string",default:"html"}),e("entities",{processor:"string"}),e("schema",{processor:"string",default:"html5"}),e("convert_urls",{processor:"boolean",default:!0}),e("relative_urls",{processor:"boolean",default:!0}),e("remove_script_host",{processor:"boolean",default:!0}),e("custom_elements",{processor:"string"}),e("extended_valid_elements",{processor:"string"}),e("invalid_elements",{processor:"string"}),e("invalid_styles",{processor:Ac}),e("valid_children",{processor:"string"}),e("valid_classes",{processor:Ac}),e("valid_elements",{processor:"string"}),e("valid_styles",{processor:Ac}),e("verify_html",{processor:"boolean",default:!0}),e("auto_focus",{processor:function(t){return S(t)||!0===t}}),e("browser_spellcheck",{processor:"boolean",default:!1}),e("protect",{processor:"array"}),e("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),e("deprecation_warnings",{processor:"boolean",default:!0}),e("a11y_advanced_options",{processor:"boolean",default:!1}),e("api_key",{processor:"string"}),e("paste_block_drop",{processor:"boolean",default:!1}),e("paste_data_images",{processor:"boolean",default:!0}),e("paste_preprocess",{processor:"function"}),e("paste_postprocess",{processor:"function"}),e("paste_webkit_styles",{processor:"string",default:"none"}),e("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),e("paste_merge_formats",{processor:"boolean",default:!0}),e("smart_paste",{processor:"boolean",default:!0}),e("paste_as_text",{processor:"boolean",default:!1}),e("paste_tab_spaces",{processor:"number",default:4}),e("text_patterns",{processor:function(t){return I(t,E)||!1===t?{value:Cc(!1===t?[]:t),valid:!0}:{valid:!1,message:"Must be an array of objects or false."}},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1"},{start:"##",format:"h2"},{start:"###",format:"h3"},{start:"####",format:"h4"},{start:"#####",format:"h5"},{start:"######",format:"h6"},{start:"1. ",cmd:"InsertOrderedList"},{start:"* ",cmd:"InsertUnorderedList"},{start:"- ",cmd:"InsertUnorderedList"}]}),e("text_patterns_lookup",{processor:function(t){return B(t)?{value:(e=t,function(t){var n=e(t);return Cc(n)}),valid:!0}:{valid:!1,message:"Must be a single function"};var e},default:function(t){return[]}}),e("noneditable_class",{processor:"string",default:"mceNonEditable"}),e("editable_class",{processor:"string",default:"mceEditable"}),e("noneditable_regexp",{processor:function(t){return I(t,Ec)?{value:t,valid:!0}:Ec(t)?{value:[t],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."}},default:[]}),e("table_tab_navigation",{processor:"boolean",default:!0}),e("highlight_on_focus",{processor:"boolean",default:!1}),e("xss_sanitization",{processor:"boolean",default:!0}),t.on("ScriptsLoaded",(function(){e("directionality",{processor:"string",default:Ga.isRtl()?"rtl":void 0}),e("placeholder",{processor:"string",default:Sc.getAttrib(t.getElement(),"placeholder")})}))}(o);var u=this.options.get;u("deprecation_warnings")&&function(t,e){(function(t,e){var n=Qx(t),r=nw(e),o=r.length>0,i=n.length>0,a="mobile"===e.theme;if(o||i||a){var u="\n- ",c=a?"\n\nThemes:".concat(u,"mobile"):"",s=o?"\n\nPlugins:".concat(u).concat(r.join(u)):"",l=i?"\n\nOptions:".concat(u).concat(n.join(u)):"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 6.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/6/migration-from-5x/ for more information."+c+s+l)}})(t,e),function(t,e){var n=tw(t),r=rw(e),o=r.length>0,i=n.length>0;if(o||i){var a="\n- ",u=o?"\n\nPlugins:".concat(a).concat(r.map(ow).join(a)):"",c=i?"\n\nOptions:".concat(a).concat(n.join(a)):"";console.warn("The following deprecated features are currently enabled but will be removed soon."+u+c)}}(t,e)}(n,a);var c=u("suffix");c&&(r.suffix=c),this.suffix=r.suffix;var l=u("base_url");l&&r._setBaseUrl(l),this.baseUri=r.baseURI;var f=es(o);f&&(Ua.ScriptLoader._setReferrerPolicy(f),qa.DOM.styleSheetLoader._setReferrerPolicy(f));var p=Ms(o);M(p)&&qa.DOM.styleSheetLoader._setContentCssCors(p),Ka.languageLoad=u("language_load"),Ka.baseURL=r.baseURL,this.setDirty(!1),this.documentBaseURI=new Hy(Pc(o),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=Ss(o),this.hasVisual=js(o),this.shortcuts=new IN(this),this.editorCommands=new sN(this),aN(this);var m=u("cache_suffix");m&&(He.cacheSuffix=m.replace(/^[\?\&]+/,"")),this.ui={registry:jN(),styleSheetLoader:void 0,show:j,hide:j,setEnabled:j,isEnabled:X},this.mode=function(t){var e=Ha("design"),n=Ha({design:{activate:j,deactivate:j,editorReadOnly:!1},readonly:{activate:j,deactivate:j,editorReadOnly:!0}});return function(t){t.serializer?hN(t):t.on("PreInit",(function(){hN(t)}))}(t),function(t){t.on("ShowCaret",(function(e){mN(t)&&e.preventDefault()})),t.on("ObjectSelected",(function(e){mN(t)&&e.preventDefault()}))}(t),{isReadOnly:function(){return mN(t)},set:function(r){return function(t,e,n,r){if(r!==n.get()){if(!It(e,r))throw new Error("Editor mode '".concat(r,"' is invalid"));t.initialized?RN(t,n,e,r):t.on("init",(function(){return RN(t,n,e,r)}))}}(t,n.get(),e,r)},get:function(){return e.get()},register:function(t,e){n.set(function(t,e,n){if(nt(NN,e))throw new Error("Cannot override default mode ".concat(e));return s(s({},t),{},i({},e,s(s({},n),{},{deactivate:function(){try{n.deactivate()}catch(t){console.error("problem while deactivating editor mode ".concat(e,":"),t)}}})))}(n.get(),t,e))}}}(o),r.dispatch("SetupEditor",{editor:this});var h=Us(o);B(h)&&h.call(o,o)}return p(t,[{key:"render",value:function(){(function(t){var e=t.id;Ga.setCode(ns(t));var n=function e(){BA.unbind(window,"ready",e),t.render()};if(Na.Event.domLoaded){if(t.getElement()){var r=Rn(t.getElement()),o=gn(r);t.on("remove",(function(){at(r.dom.attributes,(function(t){return vn(r,t.name)})),dn(r,o)})),t.ui.styleSheetLoader=function(t,e){return Vi.forElement(t,{contentCssCors:Ms(e),referrerPolicy:es(e)})}(r,t),Ss(t)?t.inline=!0:(t.orgVisibility=t.getElement().style.visibility,t.getElement().style.visibility="hidden");var i=t.getElement().form||BA.getParent(e,"form");i&&(t.formElement=i,Es(t)&&!uo(t.getElement())&&(BA.insertAfter(BA.create("input",{type:"hidden",name:e}),e),t.hasHiddenInput=!0),t.formEventDelegate=function(e){t.dispatch(e.type,e)},BA.bind(i,"submit reset",t.formEventDelegate),t.on("reset",(function(){t.resetContent()})),!Ts(t)||i.submit.nodeType||i.submit.length||i._mceOldSubmit||(i._mceOldSubmit=i.submit,i.submit=function(){return t.editorManager.triggerSave(),t.setDirty(!1),i._mceOldSubmit(i)})),t.windowManager=bw(t),t.notificationManager=hw(t),function(t){return"xml"===t.options.get("encoding")}(t)&&t.on("GetContent",(function(t){t.save&&(t.content=BA.encode(t.content))})),As(t)&&t.on("submit",(function(){t.initialized&&t.save()})),Ns(t)&&(t._beforeUnload=function(){!t.initialized||t.destroyed||t.isHidden()||t.save({format:"raw",no_events:!0,set_dirty:!1})},t.editorManager.on("BeforeUnload",t._beforeUnload)),t.editorManager.add(t),jA(t,t.suffix)}}else BA.bind(window,"ready",n)})(this)}},{key:"focus",value:function(t){this.execCommand("mceFocus",!1,t)}},{key:"hasFocus",value:function(){return Sm(this)}},{key:"translate",value:function(t){return Ga.translate(t)}},{key:"getParam",value:function(t,e,n){var r=this.options;return r.isRegistered(t)||(M(n)?r.register(t,{processor:n,default:e}):r.register(t,{processor:X,default:e})),r.isSet(t)||D(e)?r.get(t):e}},{key:"hasPlugin",value:function(t,e){return!(!nt(Bs(this),t)||e&&void 0===vw.get(t))}},{key:"nodeChanged",value:function(t){this._nodeChangeDispatcher.nodeChanged(t)}},{key:"addCommand",value:function(t,e,n){this.editorCommands.addCommand(t,e,n)}},{key:"addQueryStateHandler",value:function(t,e,n){this.editorCommands.addQueryStateHandler(t,e,n)}},{key:"addQueryValueHandler",value:function(t,e,n){this.editorCommands.addQueryValueHandler(t,e,n)}},{key:"addShortcut",value:function(t,e,n,r){this.shortcuts.add(t,e,n,r)}},{key:"execCommand",value:function(t,e,n,r){return this.editorCommands.execCommand(t,e,n,r)}},{key:"queryCommandState",value:function(t){return this.editorCommands.queryCommandState(t)}},{key:"queryCommandValue",value:function(t){return this.editorCommands.queryCommandValue(t)}},{key:"queryCommandSupported",value:function(t){return this.editorCommands.queryCommandSupported(t)}},{key:"show",value:function(){var t=this;t.hidden&&(t.hidden=!1,t.inline?t.getBody().contentEditable="true":(FN.show(t.getContainer()),FN.hide(t.id)),t.load(),t.dispatch("show"))}},{key:"hide",value:function(){var t=this;t.hidden||(t.save(),t.inline?(t.getBody().contentEditable="false",t===t.editorManager.focusedEditor&&(t.editorManager.focusedEditor=null)):(FN.hide(t.getContainer()),FN.setStyle(t.id,"display",t.orgDisplay)),t.hidden=!0,t.dispatch("hide"))}},{key:"isHidden",value:function(){return this.hidden}},{key:"setProgressState",value:function(t,e){this.dispatch("ProgressState",{state:t,time:e})}},{key:"load",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this,n=e.getElement();if(e.removed)return"";if(n){var r=s(s({},t),{},{load:!0}),o=uo(n)?n.value:n.innerHTML,i=e.setContent(o,r);return r.no_events||e.dispatch("LoadContent",s(s({},r),{},{element:n})),i}return""}},{key:"save",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this,n=e.getElement();if(!n||!e.initialized||e.removed)return"";var r=s(s({},t),{},{save:!0,element:n}),o=e.getContent(r),i=s(s({},r),{},{content:o});if(i.no_events||e.dispatch("SaveContent",i),"raw"===i.format&&e.dispatch("RawSaveContent",i),o=i.content,uo(n))n.value=o;else{!t.is_removing&&e.inline||(n.innerHTML=o);var a=FN.getParent(e.id,"form");a&&zN(a.elements,(function(t){return t.name!==e.id||(t.value=o,!1)}))}return i.element=r.element=n=null,!1!==i.set_dirty&&e.setDirty(!1),o}},{key:"setContent",value:function(t,e){return Gx(this,t,e)}},{key:"getContent",value:function(t){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=function(t,e){return s(s({},t),{},{format:e,get:!0,getInner:!0})}(e,e.format?e.format:"html");return ox(t,n).fold(U,(function(e){var n=function(t,e){return Lx(t).editor.getContent(e)}(t,e);return ix(t,n,e)}))}(this,t)}},{key:"insertContent",value:function(t,e){e&&(t=qN({content:t},e)),this.execCommand("mceInsertContent",!1,t)}},{key:"resetContent",value:function(t){void 0===t?Gx(this,this.startContent,{format:"raw"}):Gx(this,t),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}},{key:"isDirty",value:function(){return!this.isNotDirty}},{key:"setDirty",value:function(t){var e=!this.isNotDirty;this.isNotDirty=!t,t&&t!==e&&this.dispatch("dirty")}},{key:"getContainer",value:function(){var t=this;return t.container||(t.container=t.editorContainer||FN.get(t.id+"_parent")),t.container}},{key:"getContentAreaContainer",value:function(){return this.contentAreaContainer}},{key:"getElement",value:function(){return this.targetElm||(this.targetElm=FN.get(this.id)),this.targetElm}},{key:"getWin",value:function(){var t=this;if(!t.contentWindow){var e=t.iframeElement;e&&(t.contentWindow=e.contentWindow)}return t.contentWindow}},{key:"getDoc",value:function(){var t=this;if(!t.contentDocument){var e=t.getWin();e&&(t.contentDocument=e.document)}return t.contentDocument}},{key:"getBody",value:function(){var t,e,n=this.getDoc();return null!==(e=null!==(t=this.bodyElement)&&void 0!==t?t:null==n?void 0:n.body)&&void 0!==e?e:null}},{key:"convertURL",value:function(t,e,n){var r=this,o=r.options.get,i=Vs(r);return B(i)?i.call(r,t,n,!0,e):!o("convert_urls")||"link"===n||E(n)&&"LINK"===n.nodeName||0===t.indexOf("file:")||0===t.length?t:o("relative_urls")?r.documentBaseURI.toRelative(t):t=r.documentBaseURI.toAbsolute(t,o("remove_script_host"))}},{key:"addVisual",value:function(t){(function(t,e){(function(t,e){Ix(t).editor.addVisual(e)})(t,e)})(this,t)}},{key:"remove",value:function(){(function(t){if(!t.removed){var e=t._selectionOverrides,n=t.editorUpload,r=t.getBody(),o=t.getElement();r&&t.save({is_removing:!0}),t.removed=!0,t.unbindAllNativeEvents(),t.hasHiddenInput&&M(null==o?void 0:o.nextSibling)&&iw.remove(o.nextSibling),function(t){t.dispatch("remove")}(t),t.editorManager.remove(t),!t.inline&&r&&function(t){iw.setStyle(t.id,"display",t.orgDisplay)}(t),function(t){t.dispatch("detach")}(t),iw.remove(t.getContainer()),aw(e),aw(n),t.destroy()}})(this)}},{key:"destroy",value:function(t){(function(t,e){var n=t.selection,r=t.dom;t.destroyed||(e||t.removed?(e||(t.editorManager.off("beforeunload",t._beforeUnload),t.theme&&t.theme.destroy&&t.theme.destroy(),aw(n),aw(r)),function(t){var e=t.formElement;e&&(e._mceOldSubmit&&(e.submit=e._mceOldSubmit,delete e._mceOldSubmit),iw.unbind(e,"submit reset",t.formEventDelegate))}(t),function(t){var e=t;e.contentAreaContainer=e.formElement=e.container=e.editorContainer=null,e.bodyElement=e.contentDocument=e.contentWindow=null,e.iframeElement=e.targetElm=null;var n=t.selection;if(n){var r=n.dom;e.selection=n.win=n.dom=r.doc=null}}(t),t.destroyed=!0):t.remove())})(this,t)}},{key:"uploadImages",value:function(){return this.editorUpload.uploadImages()}},{key:"_scanForImages",value:function(){return this.editorUpload.scanForImages()}}]),t}(),HN=qa.DOM,VN=Ge.each,WN=!1,$N=[],GN=function(t){var e=t.type;VN(ZN.get(),(function(n){switch(e){case"scroll":n.dispatch("ScrollWindow",t);break;case"resize":n.dispatch("ResizeWindow",t)}}))},KN=function(t){if(t!==WN){var e=qa.DOM;t?(e.bind(window,"resize",GN),e.bind(window,"scroll",GN)):(e.unbind(window,"resize",GN),e.unbind(window,"scroll",GN)),WN=t}},YN=function(t){var e=$N;return $N=ct($N,(function(e){return t!==e})),ZN.activeEditor===t&&(ZN.activeEditor=$N.length>0?$N[0]:null),ZN.focusedEditor===t&&(ZN.focusedEditor=null),e.length!==$N.length},XN="CSS1Compat"!==document.compatMode,ZN=s(s({},xN),{},{baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"6",minorVersion:"4.2",releaseDate:"2023-04-26",i18n:Ga,activeEditor:null,focusedEditor:null,setup:function(){var t=this,e="",n="",r=Hy.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/"));var o,i=window.tinymce||window.tinyMCEPreInit;if(i)e=i.base||i.baseURL,n=i.suffix;else{for(var a=document.getElementsByTagName("script"),u=0;u<a.length;u++){var c=a[u].src||"";if(""!==c){var s=c.substring(c.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(c)){-1!==s.indexOf(".min")&&(n=".min"),e=c.substring(0,c.lastIndexOf("/"));break}}}if(!e&&document.currentScript){var l=document.currentScript.src;-1!==l.indexOf(".min")&&(n=".min"),e=l.substring(0,l.lastIndexOf("/"))}}t.baseURL=new Hy(r).toAbsolute(e),t.documentBaseURL=r,t.baseURI=new Hy(t.baseURL),t.suffix=n,(o=t).on("AddEditor",V(_m,o)),o.on("RemoveEditor",V(Cm,o))},overrideDefaults:function(t){var e=t.base_url;e&&this._setBaseUrl(e);var n=t.suffix;n&&(this.suffix=n),this.defaultOptions=t;var r=t.plugin_base_urls;void 0!==r&&Tt(r,(function(t,e){Ka.PluginManager.urls[e]=t}))},init:function(t){var e,n=this,r=Ge.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),o=function(t){e=t},i=function e(){var i,a=0,u=[];HN.unbind(window,"ready",e),function(e){var r=t.onpageload;r&&r.apply(n,[])}(),i=function(t,e){for(var n=[],r=B(e)?function(t){return rt(n,(function(n){return e(n,t)}))}:function(t){return nt(n,t)},o=0,i=t.length;o<i;o++){var a=t[o];r(a)||n.push(a)}return n}(function(t){return He.browser.isIE()||He.browser.isEdge()?(Cw("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/6/support/#supportedwebbrowsers"),[]):XN?(Cw("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):S(t.selector)?HN.select(t.selector):M(t.target)?[t.target]:[]}(t)),Ge.each(i,(function(t){var e;(e=n.get(t.id))&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(YN(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0)})),i=Ge.grep(i,(function(t){return!n.get(t.id)})),0===i.length?o([]):VN(i,(function(e){!function(t,e){return t.inline&&e.tagName.toLowerCase()in r}(t,e)?function(t,e,r){var c=new UN(t,e,n);u.push(c),c.on("init",(function(){++a===i.length&&o(u)})),c.targetElm=c.targetElm||r,c.render()}(function(t){var e=t.id;return e||(e=Lt(t,"name").filter((function(t){return!HN.get(t)})).getOrThunk(HN.uniqueId),t.setAttribute("id",e)),e}(e),t,e):Cw("Could not initialize inline editor on invalid inline target element",e)}))};return HN.bind(window,"ready",i),new Promise((function(t){e?t(e):o=function(e){t(e)}}))},get:function(t){return 0===arguments.length?$N.slice(0):S(t)?dt($N,(function(e){return e.id===t})).getOr(null):L(t)&&$N[t]?$N[t]:null},add:function(t){var e=this,n=e.get(t.id);return n===t||(null===n&&$N.push(t),KN(!0),e.activeEditor=t,e.dispatch("AddEditor",{editor:t}),yT||(yT=function(t){var n=e.dispatch("BeforeUnload");if(n.returnValue)return t.preventDefault(),t.returnValue=n.returnValue,n.returnValue},window.addEventListener("beforeunload",yT))),t},createEditor:function(t,e){return this.add(new UN(t,e,this))},remove:function(t){var e,n=this;if(t){if(!S(t))return e=t,N(n.get(e.id))?null:(YN(e)&&n.dispatch("RemoveEditor",{editor:e}),0===$N.length&&window.removeEventListener("beforeunload",yT),e.remove(),KN($N.length>0),e);VN(HN.select(t),(function(t){e=n.get(t.id),e&&n.remove(e)}))}else for(var r=$N.length-1;r>=0;r--)n.remove($N[r])},execCommand:function(t,e,n){var r,o=this,i=E(n)?null!==(r=n.id)&&void 0!==r?r:n.index:n;switch(t){case"mceAddEditor":if(!o.get(i)){var a=n.options;new UN(i,a,o).render()}return!0;case"mceRemoveEditor":var u=o.get(i);return u&&u.remove(),!0;case"mceToggleEditor":var c=o.get(i);return c?(c.isHidden()?c.show():c.hide(),!0):(o.execCommand("mceAddEditor",!1,n),!0)}return!!o.activeEditor&&o.activeEditor.execCommand(t,e,n)},triggerSave:function(){VN($N,(function(t){t.save()}))},addI18n:function(t,e){Ga.add(t,e)},translate:function(t){return Ga.translate(t)},setActive:function(t){var e=this.activeEditor;this.activeEditor!==t&&(e&&e.dispatch("deactivate",{relatedTarget:t}),t.dispatch("activate",{relatedTarget:e})),this.activeEditor=t},_setBaseUrl:function(t){this.baseURL=new Hy(this.documentBaseURL).toAbsolute(t.replace(/\/+$/,"")),this.baseURI=new Hy(this.baseURL)}});ZN.setup();var JN,QN=function(){var t=Xa();return{FakeClipboardItem:function(t){return{items:t,types:St(t),getType:function(e){return Lt(t,e).getOrUndefined()}}},write:function(e){t.set(e)},read:function(){return t.get().getOrUndefined()},clear:t.clear}}(),tR=Math.min,eR=Math.max,nR=Math.round,rR=function(t,e,n){var r=e.x,o=e.y,i=t.w,a=t.h,u=e.w,c=e.h,s=(n||"").split("");return"b"===s[0]&&(o+=c),"r"===s[1]&&(r+=u),"c"===s[0]&&(o+=nR(c/2)),"c"===s[1]&&(r+=nR(u/2)),"b"===s[3]&&(o-=a),"r"===s[4]&&(r-=i),"c"===s[3]&&(o-=nR(a/2)),"c"===s[4]&&(r-=nR(i/2)),oR(r,o,i,a)},oR=function(t,e,n,r){return{x:t,y:e,w:n,h:r}},iR={inflate:function(t,e,n){return oR(t.x-e,t.y-n,t.w+2*e,t.h+2*n)},relativePosition:rR,findBestRelativePosition:function(t,e,n,r){for(var o=0;o<r.length;o++){var i=rR(t,e,r[o]);if(i.x>=n.x&&i.x+i.w<=n.w+n.x&&i.y>=n.y&&i.y+i.h<=n.h+n.y)return r[o]}return null},intersect:function(t,e){var n=eR(t.x,e.x),r=eR(t.y,e.y),o=tR(t.x+t.w,e.x+e.w),i=tR(t.y+t.h,e.y+e.h);return o-n<0||i-r<0?null:oR(n,r,o-n,i-r)},clamp:function(t,e,n){var r=t.x,o=t.y,i=t.x+t.w,a=t.y+t.h,u=e.x+e.w,c=e.y+e.h,s=eR(0,e.x-r),l=eR(0,e.y-o),f=eR(0,i-u),d=eR(0,a-c);return r+=s,o+=l,n&&(i+=s,a+=l,r-=f,o-=d),i-=f,a-=d,oR(r,o,i-r,a-o)},create:oR,fromClientRect:function(t){return oR(t.left,t.top,t.width,t.height)}},aR=function(){var t={},e={};return{load:function(n,r){var o='Script at URL "'.concat(r,'" failed to load'),i='Script at URL "'.concat(r,"\" did not call `tinymce.Resource.add('").concat(n,"', data)` within 1 second");if(void 0!==t[n])return t[n];var a=new Promise((function(t,a){var u=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=!1,o=null,i=function(t){return function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];r||(r=!0,null!==o&&(clearTimeout(o),o=null),t.apply(null,n))}},a=i(t),u=i(e);return{start:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];r||null!==o||(o=setTimeout((function(){return u.apply(null,e)}),n))},resolve:a,reject:u}}(t,a);e[n]=u.resolve,Ua.ScriptLoader.loadScript(r).then((function(){return u.start(i)}),(function(){return u.reject(o)}))}));return t[n]=a,a},add:function(n,r){void 0!==e[n]&&(e[n](r),delete e[n]),t[n]=Promise.resolve(r)},unload:function(e){delete t[e]}}}();try{var uR="__storage_test__";JN=window.localStorage,JN.setItem(uR,uR),JN.removeItem(uR)}catch(e){JN=function(){var t={},e=[],n={getItem:function(e){return t[e]||null},setItem:function(n,r){e.push(n),t[n]=String(r)},key:function(t){return e[t]},removeItem:function(n){e=e.filter((function(t){return t===n})),delete t[n]},clear:function(){e=[],t={}},length:0};return Object.defineProperty(n,"length",{get:function(){return e.length},configurable:!1,enumerable:!1}),n}()}var cR={geom:{Rect:iR},util:{Delay:gm,Tools:Ge,VK:ip,URI:Hy,EventDispatcher:bN,Observable:xN,I18n:Ga,LocalStorage:JN,ImageUploader:function(t){var e=Sw(),n=Nw(t,e);return{upload:function(e){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return n.upload(e,r?Aw(t):void 0)}}}},dom:{EventUtils:Na,TreeWalker:Xr,TextSeeker:vu,DOMUtils:qa,ScriptLoader:Ua,RangeUtils:Ip,Serializer:$x,StyleSheetLoader:Hi,ControlSelection:lp,BookmarkManager:Zd,Selection:Hx,Event:Na.Event},html:{Styles:wa,Entities:ua,Node:Um,Schema:xa,DomParser:nx,Writer:Zm,Serializer:Jm},Env:He,AddOnManager:Ka,Annotator:Xd,Formatter:Uw,UndoManager:Vw,EditorCommands:sN,WindowManager:bw,NotificationManager:hw,EditorObservable:ON,Shortcuts:IN,Editor:UN,FocusManager:vm,EditorManager:ZN,DOM:qa.DOM,ScriptLoader:Ua.ScriptLoader,PluginManager:vw,ThemeManager:gw,ModelManager:cw,IconManager:uw,Resource:aR,FakeClipboard:QN,trim:Ge.trim,isArray:Ge.isArray,is:Ge.is,toArray:Ge.toArray,makeMap:Ge.makeMap,each:Ge.each,map:Ge.map,grep:Ge.grep,inArray:Ge.inArray,extend:Ge.extend,walk:Ge.walk,resolve:Ge.resolve,explode:Ge.explode,_addCacheSuffix:Ge._addCacheSuffix},sR=Ge.extend(ZN,cR);(function(t){window.tinymce=t,window.tinyMCE=t})(sR),function(e){if("object"==m(t))try{t.exports=e}catch(e){}}(sR)}()},9662:function(t,e,n){var r=n(614),o=n(6330),i=TypeError;t.exports=function(t){if(r(t))return t;throw i(o(t)+" is not a function")}},9483:function(t,e,n){var r=n(4411),o=n(6330),i=TypeError;t.exports=function(t){if(r(t))return t;throw i(o(t)+" is not a constructor")}},6077:function(t,e,n){var r=n(614),o=String,i=TypeError;t.exports=function(t){if("object"==typeof t||r(t))return t;throw i("Can't set "+o(t)+" as a prototype")}},1223:function(t,e,n){var r=n(5112),o=n(30),i=n(3070).f,a=r("unscopables"),u=Array.prototype;void 0==u[a]&&i(u,a,{configurable:!0,value:o(null)}),t.exports=function(t){u[a][t]=!0}},1530:function(t,e,n){"use strict";var r=n(8710).charAt;t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},5787:function(t,e,n){var r=n(7976),o=TypeError;t.exports=function(t,e){if(r(e,t))return t;throw o("Incorrect invocation")}},9670:function(t,e,n){var r=n(111),o=String,i=TypeError;t.exports=function(t){if(r(t))return t;throw i(o(t)+" is not an object")}},3013:function(t){t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},7556:function(t,e,n){var r=n(7293);t.exports=r((function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}}))},260:function(t,e,n){"use strict";var r,o,i,a=n(3013),u=n(9781),c=n(7854),s=n(614),l=n(111),f=n(2597),d=n(648),p=n(6330),m=n(8880),h=n(8052),v=n(7045),g=n(7976),b=n(9518),y=n(7674),x=n(5112),w=n(9711),_=n(9909),C=_.enforce,k=_.get,O=c.Int8Array,S=O&&O.prototype,E=c.Uint8ClampedArray,T=E&&E.prototype,A=O&&b(O),N=S&&b(S),R=Object.prototype,D=c.TypeError,P=x("toStringTag"),M=w("TYPED_ARRAY_TAG"),B="TypedArrayConstructor",L=a&&!!y&&"Opera"!==d(c.opera),I=!1,j={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},F={BigInt64Array:8,BigUint64Array:8},q=function(t){if(!l(t))return!1;var e=d(t);return"DataView"===e||f(j,e)||f(F,e)},z=function(t){var e=b(t);if(l(e)){var n=k(e);return n&&f(n,B)?n[B]:z(e)}},U=function(t){if(!l(t))return!1;var e=d(t);return f(j,e)||f(F,e)},H=function(t){if(U(t))return t;throw D("Target is not a typed array")},V=function(t){if(s(t)&&(!y||g(A,t)))return t;throw D(p(t)+" is not a typed array constructor")},W=function(t,e,n,r){if(u){if(n)for(var o in j){var i=c[o];if(i&&f(i.prototype,t))try{delete i.prototype[t]}catch(a){try{i.prototype[t]=e}catch(s){}}}N[t]&&!n||h(N,t,n?e:L&&S[t]||e,r)}},$=function(t,e,n){var r,o;if(u){if(y){if(n)for(r in j)if(o=c[r],o&&f(o,t))try{delete o[t]}catch(i){}if(A[t]&&!n)return;try{return h(A,t,n?e:L&&A[t]||e)}catch(i){}}for(r in j)o=c[r],!o||o[t]&&!n||h(o,t,e)}};for(r in j)o=c[r],i=o&&o.prototype,i?C(i)[B]=o:L=!1;for(r in F)o=c[r],i=o&&o.prototype,i&&(C(i)[B]=o);if((!L||!s(A)||A===Function.prototype)&&(A=function(){throw D("Incorrect invocation")},L))for(r in j)c[r]&&y(c[r],A);if((!L||!N||N===R)&&(N=A.prototype,L))for(r in j)c[r]&&y(c[r].prototype,N);if(L&&b(T)!==N&&y(T,N),u&&!f(N,P))for(r in I=!0,v(N,P,{configurable:!0,get:function(){return l(this)?this[M]:void 0}}),j)c[r]&&m(c[r],M,r);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:L,TYPED_ARRAY_TAG:I&&M,aTypedArray:H,aTypedArrayConstructor:V,exportTypedArrayMethod:W,exportTypedArrayStaticMethod:$,getTypedArrayConstructor:z,isView:q,isTypedArray:U,TypedArray:A,TypedArrayPrototype:N}},3331:function(t,e,n){"use strict";var r=n(7854),o=n(1702),i=n(9781),a=n(3013),u=n(6530),c=n(8880),s=n(7045),l=n(9190),f=n(7293),d=n(5787),p=n(9303),m=n(7466),h=n(7067),v=n(1179),g=n(9518),b=n(7674),y=n(8006).f,x=n(1285),w=n(1589),_=n(8003),C=n(9909),k=u.PROPER,O=u.CONFIGURABLE,S="ArrayBuffer",E="DataView",T="prototype",A="Wrong length",N="Wrong index",R=C.getterFor(S),D=C.getterFor(E),P=C.set,M=r[S],B=M,L=B&&B[T],I=r[E],j=I&&I[T],F=Object.prototype,q=r.Array,z=r.RangeError,U=o(x),H=o([].reverse),V=v.pack,W=v.unpack,$=function(t){return[255&t]},G=function(t){return[255&t,t>>8&255]},K=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},Y=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},X=function(t){return V(t,23,4)},Z=function(t){return V(t,52,8)},J=function(t,e,n){s(t[T],e,{configurable:!0,get:function(){return n(this)[e]}})},Q=function(t,e,n,r){var o=h(n),i=D(t);if(o+e>i.byteLength)throw z(N);var a=i.bytes,u=o+i.byteOffset,c=w(a,u,u+e);return r?c:H(c)},tt=function(t,e,n,r,o,i){var a=h(n),u=D(t);if(a+e>u.byteLength)throw z(N);for(var c=u.bytes,s=a+u.byteOffset,l=r(+o),f=0;f<e;f++)c[s+f]=l[i?f:e-f-1]};if(a){var et=k&&M.name!==S;if(f((function(){M(1)}))&&f((function(){new M(-1)}))&&!f((function(){return new M,new M(1.5),new M(NaN),1!=M.length||et&&!O})))et&&O&&c(M,"name",S);else{B=function(t){return d(this,L),new M(h(t))},B[T]=L;for(var nt,rt=y(M),ot=0;rt.length>ot;)(nt=rt[ot++])in B||c(B,nt,M[nt]);L.constructor=B}b&&g(j)!==F&&b(j,F);var it=new I(new B(2)),at=o(j.setInt8);it.setInt8(0,2147483648),it.setInt8(1,2147483649),!it.getInt8(0)&&it.getInt8(1)||l(j,{setInt8:function(t,e){at(this,t,e<<24>>24)},setUint8:function(t,e){at(this,t,e<<24>>24)}},{unsafe:!0})}else B=function(t){d(this,L);var e=h(t);P(this,{type:S,bytes:U(q(e),0),byteLength:e}),i||(this.byteLength=e,this.detached=!1)},L=B[T],I=function(t,e,n){d(this,j),d(t,L);var r=R(t),o=r.byteLength,a=p(e);if(a<0||a>o)throw z("Wrong offset");if(n=void 0===n?o-a:m(n),a+n>o)throw z(A);P(this,{type:E,buffer:t,byteLength:n,byteOffset:a,bytes:r.bytes}),i||(this.buffer=t,this.byteLength=n,this.byteOffset=a)},j=I[T],i&&(J(B,"byteLength",R),J(I,"buffer",D),J(I,"byteLength",D),J(I,"byteOffset",D)),l(j,{getInt8:function(t){return Q(this,1,t)[0]<<24>>24},getUint8:function(t){return Q(this,1,t)[0]},getInt16:function(t){var e=Q(this,2,t,arguments.length>1?arguments[1]:void 0);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=Q(this,2,t,arguments.length>1?arguments[1]:void 0);return e[1]<<8|e[0]},getInt32:function(t){return Y(Q(this,4,t,arguments.length>1?arguments[1]:void 0))},getUint32:function(t){return Y(Q(this,4,t,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(t){return W(Q(this,4,t,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(t){return W(Q(this,8,t,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(t,e){tt(this,1,t,$,e)},setUint8:function(t,e){tt(this,1,t,$,e)},setInt16:function(t,e){tt(this,2,t,G,e,arguments.length>2?arguments[2]:void 0)},setUint16:function(t,e){tt(this,2,t,G,e,arguments.length>2?arguments[2]:void 0)},setInt32:function(t,e){tt(this,4,t,K,e,arguments.length>2?arguments[2]:void 0)},setUint32:function(t,e){tt(this,4,t,K,e,arguments.length>2?arguments[2]:void 0)},setFloat32:function(t,e){tt(this,4,t,X,e,arguments.length>2?arguments[2]:void 0)},setFloat64:function(t,e){tt(this,8,t,Z,e,arguments.length>2?arguments[2]:void 0)}});_(B,S),_(I,E),t.exports={ArrayBuffer:B,DataView:I}},1048:function(t,e,n){"use strict";var r=n(7908),o=n(1400),i=n(6244),a=n(5117),u=Math.min;t.exports=[].copyWithin||function(t,e){var n=r(this),c=i(n),s=o(t,c),l=o(e,c),f=arguments.length>2?arguments[2]:void 0,d=u((void 0===f?c:o(f,c))-l,c-s),p=1;l<s&&s<l+d&&(p=-1,l+=d-1,s+=d-1);while(d-- >0)l in n?n[s]=n[l]:a(n,s),s+=p,l+=p;return n}},1285:function(t,e,n){"use strict";var r=n(7908),o=n(1400),i=n(6244);t.exports=function(t){var e=r(this),n=i(e),a=arguments.length,u=o(a>1?arguments[1]:void 0,n),c=a>2?arguments[2]:void 0,s=void 0===c?n:o(c,n);while(s>u)e[u++]=t;return e}},8533:function(t,e,n){"use strict";var r=n(2092).forEach,o=n(2133),i=o("forEach");t.exports=i?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},7745:function(t,e,n){var r=n(6244);t.exports=function(t,e){var n=0,o=r(e),i=new t(o);while(o>n)i[n]=e[n++];return i}},8457:function(t,e,n){"use strict";var r=n(9974),o=n(6916),i=n(7908),a=n(3411),u=n(7659),c=n(4411),s=n(6244),l=n(6135),f=n(4121),d=n(1246),p=Array;t.exports=function(t){var e=i(t),n=c(this),m=arguments.length,h=m>1?arguments[1]:void 0,v=void 0!==h;v&&(h=r(h,m>2?arguments[2]:void 0));var g,b,y,x,w,_,C=d(e),k=0;if(!C||this===p&&u(C))for(g=s(e),b=n?new this(g):p(g);g>k;k++)_=v?h(e[k],k):e[k],l(b,k,_);else for(x=f(e,C),w=x.next,b=n?new this:[];!(y=o(w,x)).done;k++)_=v?a(x,h,[y.value,k],!0):y.value,l(b,k,_);return b.length=k,b}},1318:function(t,e,n){var r=n(5656),o=n(1400),i=n(6244),a=function(t){return function(e,n,a){var u,c=r(e),s=i(c),l=o(a,s);if(t&&n!=n){while(s>l)if(u=c[l++],u!=u)return!0}else for(;s>l;l++)if((t||l in c)&&c[l]===n)return t||l||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},9671:function(t,e,n){var r=n(9974),o=n(8361),i=n(7908),a=n(6244),u=function(t){var e=1==t;return function(n,u,c){var s,l,f=i(n),d=o(f),p=r(u,c),m=a(d);while(m-- >0)if(s=d[m],l=p(s,m,f),l)switch(t){case 0:return s;case 1:return m}return e?-1:void 0}};t.exports={findLast:u(0),findLastIndex:u(1)}},2092:function(t,e,n){var r=n(9974),o=n(1702),i=n(8361),a=n(7908),u=n(6244),c=n(5417),s=o([].push),l=function(t){var e=1==t,n=2==t,o=3==t,l=4==t,f=6==t,d=7==t,p=5==t||f;return function(m,h,v,g){for(var b,y,x=a(m),w=i(x),_=r(h,v),C=u(w),k=0,O=g||c,S=e?O(m,C):n||d?O(m,0):void 0;C>k;k++)if((p||k in w)&&(b=w[k],y=_(b,k,x),t))if(e)S[k]=y;else if(y)switch(t){case 3:return!0;case 5:return b;case 6:return k;case 2:s(S,b)}else switch(t){case 4:return!1;case 7:s(S,b)}return f?-1:o||l?l:S}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},6583:function(t,e,n){"use strict";var r=n(2104),o=n(5656),i=n(9303),a=n(6244),u=n(2133),c=Math.min,s=[].lastIndexOf,l=!!s&&1/[1].lastIndexOf(1,-0)<0,f=u("lastIndexOf"),d=l||!f;t.exports=d?function(t){if(l)return r(s,this,arguments)||0;var e=o(this),n=a(e),u=n-1;for(arguments.length>1&&(u=c(u,i(arguments[1]))),u<0&&(u=n+u);u>=0;u--)if(u in e&&e[u]===t)return u||0;return-1}:s},1194:function(t,e,n){var r=n(7293),o=n(5112),i=n(7392),a=o("species");t.exports=function(t){return i>=51||!r((function(){var e=[],n=e.constructor={};return n[a]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},2133:function(t,e,n){"use strict";var r=n(7293);t.exports=function(t,e){var n=[][t];return!!n&&r((function(){n.call(null,e||function(){return 1},1)}))}},3671:function(t,e,n){var r=n(9662),o=n(7908),i=n(8361),a=n(6244),u=TypeError,c=function(t){return function(e,n,c,s){r(n);var l=o(e),f=i(l),d=a(l),p=t?d-1:0,m=t?-1:1;if(c<2)while(1){if(p in f){s=f[p],p+=m;break}if(p+=m,t?p<0:d<=p)throw u("Reduce of empty array with no initial value")}for(;t?p>=0:d>p;p+=m)p in f&&(s=n(s,f[p],p,l));return s}};t.exports={left:c(!1),right:c(!0)}},3658:function(t,e,n){"use strict";var r=n(9781),o=n(3157),i=TypeError,a=Object.getOwnPropertyDescriptor,u=r&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=u?function(t,e){if(o(t)&&!a(t,"length").writable)throw i("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e}},1589:function(t,e,n){var r=n(1400),o=n(6244),i=n(6135),a=Array,u=Math.max;t.exports=function(t,e,n){for(var c=o(t),s=r(e,c),l=r(void 0===n?c:n,c),f=a(u(l-s,0)),d=0;s<l;s++,d++)i(f,d,t[s]);return f.length=d,f}},206:function(t,e,n){var r=n(1702);t.exports=r([].slice)},4362:function(t,e,n){var r=n(1589),o=Math.floor,i=function(t,e){var n=t.length,c=o(n/2);return n<8?a(t,e):u(t,i(r(t,0,c),e),i(r(t,c),e),e)},a=function(t,e){var n,r,o=t.length,i=1;while(i<o){r=i,n=t[i];while(r&&e(t[r-1],n)>0)t[r]=t[--r];r!==i++&&(t[r]=n)}return t},u=function(t,e,n,r){var o=e.length,i=n.length,a=0,u=0;while(a<o||u<i)t[a+u]=a<o&&u<i?r(e[a],n[u])<=0?e[a++]:n[u++]:a<o?e[a++]:n[u++];return t};t.exports=i},7475:function(t,e,n){var r=n(3157),o=n(4411),i=n(111),a=n(5112),u=a("species"),c=Array;t.exports=function(t){var e;return r(t)&&(e=t.constructor,o(e)&&(e===c||r(e.prototype))?e=void 0:i(e)&&(e=e[u],null===e&&(e=void 0))),void 0===e?c:e}},5417:function(t,e,n){var r=n(7475);t.exports=function(t,e){return new(r(t))(0===e?0:e)}},1843:function(t,e,n){var r=n(6244);t.exports=function(t,e){for(var n=r(t),o=new e(n),i=0;i<n;i++)o[i]=t[n-i-1];return o}},1572:function(t,e,n){var r=n(6244),o=n(9303),i=RangeError;t.exports=function(t,e,n,a){var u=r(t),c=o(n),s=c<0?u+c:c;if(s>=u||s<0)throw i("Incorrect index");for(var l=new e(u),f=0;f<u;f++)l[f]=f===s?a:t[f];return l}},4170:function(t){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n={},r=0;r<66;r++)n[e.charAt(r)]=r;t.exports={itoc:e,ctoi:n}},3411:function(t,e,n){var r=n(9670),o=n(9212);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(a){o(t,"throw",a)}}},7072:function(t,e,n){var r=n(5112),o=r("iterator"),i=!1;try{var a=0,u={next:function(){return{done:!!a++}},return:function(){i=!0}};u[o]=function(){return this},Array.from(u,(function(){throw 2}))}catch(c){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var r={};r[o]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(c){}return n}},4326:function(t,e,n){var r=n(1702),o=r({}.toString),i=r("".slice);t.exports=function(t){return i(o(t),8,-1)}},648:function(t,e,n){var r=n(1694),o=n(614),i=n(4326),a=n(5112),u=a("toStringTag"),c=Object,s="Arguments"==i(function(){return arguments}()),l=function(t,e){try{return t[e]}catch(n){}};t.exports=r?i:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=l(e=c(t),u))?n:s?i(e):"Object"==(r=i(e))&&o(e.callee)?"Arguments":r}},5631:function(t,e,n){"use strict";var r=n(30),o=n(7045),i=n(9190),a=n(9974),u=n(5787),c=n(8554),s=n(408),l=n(1656),f=n(6178),d=n(6340),p=n(9781),m=n(2423).fastKey,h=n(9909),v=h.set,g=h.getterFor;t.exports={getConstructor:function(t,e,n,l){var f=t((function(t,o){u(t,d),v(t,{type:e,index:r(null),first:void 0,last:void 0,size:0}),p||(t.size=0),c(o)||s(o,t[l],{that:t,AS_ENTRIES:n})})),d=f.prototype,h=g(e),b=function(t,e,n){var r,o,i=h(t),a=y(t,e);return a?a.value=n:(i.last=a={index:o=m(e,!0),key:e,value:n,previous:r=i.last,next:void 0,removed:!1},i.first||(i.first=a),r&&(r.next=a),p?i.size++:t.size++,"F"!==o&&(i.index[o]=a)),t},y=function(t,e){var n,r=h(t),o=m(e);if("F"!==o)return r.index[o];for(n=r.first;n;n=n.next)if(n.key==e)return n};return i(d,{clear:function(){var t=this,e=h(t),n=e.index,r=e.first;while(r)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete n[r.index],r=r.next;e.first=e.last=void 0,p?e.size=0:t.size=0},delete:function(t){var e=this,n=h(e),r=y(e,t);if(r){var o=r.next,i=r.previous;delete n.index[r.index],r.removed=!0,i&&(i.next=o),o&&(o.previous=i),n.first==r&&(n.first=o),n.last==r&&(n.last=i),p?n.size--:e.size--}return!!r},forEach:function(t){var e,n=h(this),r=a(t,arguments.length>1?arguments[1]:void 0);while(e=e?e.next:n.first){r(e.value,e.key,this);while(e&&e.removed)e=e.previous}},has:function(t){return!!y(this,t)}}),i(d,n?{get:function(t){var e=y(this,t);return e&&e.value},set:function(t,e){return b(this,0===t?0:t,e)}}:{add:function(t){return b(this,t=0===t?0:t,t)}}),p&&o(d,"size",{configurable:!0,get:function(){return h(this).size}}),f},setStrong:function(t,e,n){var r=e+" Iterator",o=g(e),i=g(r);l(t,e,(function(t,e){v(this,{type:r,target:t,state:o(t),kind:e,last:void 0})}),(function(){var t=i(this),e=t.kind,n=t.last;while(n&&n.removed)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?f("keys"==e?n.key:"values"==e?n.value:[n.key,n.value],!1):(t.target=void 0,f(void 0,!0))}),n?"entries":"values",!n,!0),d(e)}}},9320:function(t,e,n){"use strict";var r=n(1702),o=n(9190),i=n(2423).getWeakData,a=n(5787),u=n(9670),c=n(8554),s=n(111),l=n(408),f=n(2092),d=n(2597),p=n(9909),m=p.set,h=p.getterFor,v=f.find,g=f.findIndex,b=r([].splice),y=0,x=function(t){return t.frozen||(t.frozen=new w)},w=function(){this.entries=[]},_=function(t,e){return v(t.entries,(function(t){return t[0]===e}))};w.prototype={get:function(t){var e=_(this,t);if(e)return e[1]},has:function(t){return!!_(this,t)},set:function(t,e){var n=_(this,t);n?n[1]=e:this.entries.push([t,e])},delete:function(t){var e=g(this.entries,(function(e){return e[0]===t}));return~e&&b(this.entries,e,1),!!~e}},t.exports={getConstructor:function(t,e,n,r){var f=t((function(t,o){a(t,p),m(t,{type:e,id:y++,frozen:void 0}),c(o)||l(o,t[r],{that:t,AS_ENTRIES:n})})),p=f.prototype,v=h(e),g=function(t,e,n){var r=v(t),o=i(u(e),!0);return!0===o?x(r).set(e,n):o[r.id]=n,t};return o(p,{delete:function(t){var e=v(this);if(!s(t))return!1;var n=i(t);return!0===n?x(e)["delete"](t):n&&d(n,e.id)&&delete n[e.id]},has:function(t){var e=v(this);if(!s(t))return!1;var n=i(t);return!0===n?x(e).has(t):n&&d(n,e.id)}}),o(p,n?{get:function(t){var e=v(this);if(s(t)){var n=i(t);return!0===n?x(e).get(t):n?n[e.id]:void 0}},set:function(t,e){return g(this,t,e)}}:{add:function(t){return g(this,t,!0)}}),f}}},7710:function(t,e,n){"use strict";var r=n(2109),o=n(7854),i=n(1702),a=n(4705),u=n(8052),c=n(2423),s=n(408),l=n(5787),f=n(614),d=n(8554),p=n(111),m=n(7293),h=n(7072),v=n(8003),g=n(9587);t.exports=function(t,e,n){var b=-1!==t.indexOf("Map"),y=-1!==t.indexOf("Weak"),x=b?"set":"add",w=o[t],_=w&&w.prototype,C=w,k={},O=function(t){var e=i(_[t]);u(_,t,"add"==t?function(t){return e(this,0===t?0:t),this}:"delete"==t?function(t){return!(y&&!p(t))&&e(this,0===t?0:t)}:"get"==t?function(t){return y&&!p(t)?void 0:e(this,0===t?0:t)}:"has"==t?function(t){return!(y&&!p(t))&&e(this,0===t?0:t)}:function(t,n){return e(this,0===t?0:t,n),this})},S=a(t,!f(w)||!(y||_.forEach&&!m((function(){(new w).entries().next()}))));if(S)C=n.getConstructor(e,t,b,x),c.enable();else if(a(t,!0)){var E=new C,T=E[x](y?{}:-0,1)!=E,A=m((function(){E.has(1)})),N=h((function(t){new w(t)})),R=!y&&m((function(){var t=new w,e=5;while(e--)t[x](e,e);return!t.has(-0)}));N||(C=e((function(t,e){l(t,_);var n=g(new w,t,C);return d(e)||s(e,n[x],{that:n,AS_ENTRIES:b}),n})),C.prototype=_,_.constructor=C),(A||R)&&(O("delete"),O("has"),b&&O("get")),(R||T)&&O(x),y&&_.clear&&delete _.clear}return k[t]=C,r({global:!0,constructor:!0,forced:C!=w},k),v(C,t),y||n.setStrong(C,t,b),C}},9920:function(t,e,n){var r=n(2597),o=n(3887),i=n(1236),a=n(3070);t.exports=function(t,e,n){for(var u=o(e),c=a.f,s=i.f,l=0;l<u.length;l++){var f=u[l];r(t,f)||n&&r(n,f)||c(t,f,s(e,f))}}},8544:function(t,e,n){var r=n(7293);t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},4230:function(t,e,n){var r=n(1702),o=n(4488),i=n(1340),a=/"/g,u=r("".replace);t.exports=function(t,e,n,r){var c=i(o(t)),s="<"+e;return""!==n&&(s+=" "+n+'="'+u(i(r),a,"&quot;")+'"'),s+">"+c+"</"+e+">"}},6178:function(t){t.exports=function(t,e){return{value:t,done:e}}},8880:function(t,e,n){var r=n(9781),o=n(3070),i=n(9114);t.exports=r?function(t,e,n){return o.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},9114:function(t){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},6135:function(t,e,n){"use strict";var r=n(4948),o=n(3070),i=n(9114);t.exports=function(t,e,n){var a=r(e);a in t?o.f(t,a,i(0,n)):t[a]=n}},8709:function(t,e,n){"use strict";var r=n(9670),o=n(2140),i=TypeError;t.exports=function(t){if(r(this),"string"===t||"default"===t)t="string";else if("number"!==t)throw i("Incorrect hint");return o(this,t)}},7045:function(t,e,n){var r=n(6339),o=n(3070);t.exports=function(t,e,n){return n.get&&r(n.get,e,{getter:!0}),n.set&&r(n.set,e,{setter:!0}),o.f(t,e,n)}},8052:function(t,e,n){var r=n(614),o=n(3070),i=n(6339),a=n(3072);t.exports=function(t,e,n,u){u||(u={});var c=u.enumerable,s=void 0!==u.name?u.name:e;if(r(n)&&i(n,s,u),u.global)c?t[e]=n:a(e,n);else{try{u.unsafe?t[e]&&(c=!0):delete t[e]}catch(l){}c?t[e]=n:o.f(t,e,{value:n,enumerable:!1,configurable:!u.nonConfigurable,writable:!u.nonWritable})}return t}},9190:function(t,e,n){var r=n(8052);t.exports=function(t,e,n){for(var o in e)r(t,o,e[o],n);return t}},3072:function(t,e,n){var r=n(7854),o=Object.defineProperty;t.exports=function(t,e){try{o(r,t,{value:e,configurable:!0,writable:!0})}catch(n){r[t]=e}return e}},5117:function(t,e,n){"use strict";var r=n(6330),o=TypeError;t.exports=function(t,e){if(!delete t[e])throw o("Cannot delete property "+r(e)+" of "+r(t))}},9781:function(t,e,n){var r=n(7293);t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},4154:function(t){var e="object"==typeof document&&document.all,n="undefined"==typeof e&&void 0!==e;t.exports={all:e,IS_HTMLDDA:n}},317:function(t,e,n){var r=n(7854),o=n(111),i=r.document,a=o(i)&&o(i.createElement);t.exports=function(t){return a?i.createElement(t):{}}},7207:function(t){var e=TypeError,n=9007199254740991;t.exports=function(t){if(t>n)throw e("Maximum allowed index exceeded");return t}},3678:function(t){t.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},8324:function(t){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},8509:function(t,e,n){var r=n(317),o=r("span").classList,i=o&&o.constructor&&o.constructor.prototype;t.exports=i===Object.prototype?void 0:i},8886:function(t,e,n){var r=n(8113),o=r.match(/firefox\/(\d+)/i);t.exports=!!o&&+o[1]},7871:function(t,e,n){var r=n(3823),o=n(5268);t.exports=!r&&!o&&"object"==typeof window&&"object"==typeof document},9363:function(t){t.exports="function"==typeof Bun&&Bun&&"string"==typeof Bun.version},3823:function(t){t.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},256:function(t,e,n){var r=n(8113);t.exports=/MSIE|Trident/.test(r)},1528:function(t,e,n){var r=n(8113);t.exports=/ipad|iphone|ipod/i.test(r)&&"undefined"!=typeof Pebble},6833:function(t,e,n){var r=n(8113);t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},5268:function(t,e,n){var r=n(4326);t.exports="undefined"!=typeof process&&"process"==r(process)},1036:function(t,e,n){var r=n(8113);t.exports=/web0s(?!.*chrome)/i.test(r)},8113:function(t){t.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},7392:function(t,e,n){var r,o,i=n(7854),a=n(8113),u=i.process,c=i.Deno,s=u&&u.versions||c&&c.version,l=s&&s.v8;l&&(r=l.split("."),o=r[0]>0&&r[0]<4?1:+(r[0]+r[1])),!o&&a&&(r=a.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/),r&&(o=+r[1]))),t.exports=o},8008:function(t,e,n){var r=n(8113),o=r.match(/AppleWebKit\/(\d+)\./);t.exports=!!o&&+o[1]},748:function(t){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},1060:function(t,e,n){var r=n(1702),o=Error,i=r("".replace),a=function(t){return String(o(t).stack)}("zxcasd"),u=/\n\s*at [^:]*:[^\n]*/,c=u.test(a);t.exports=function(t,e){if(c&&"string"==typeof t&&!o.prepareStackTrace)while(e--)t=i(t,u,"");return t}},5392:function(t,e,n){var r=n(8880),o=n(1060),i=n(2914),a=Error.captureStackTrace;t.exports=function(t,e,n,u){i&&(a?a(t,e):r(t,"stack",o(n,u)))}},2914:function(t,e,n){var r=n(7293),o=n(9114);t.exports=!r((function(){var t=Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",o(1,7)),7!==t.stack)}))},7762:function(t,e,n){"use strict";var r=n(9781),o=n(7293),i=n(9670),a=n(30),u=n(6277),c=Error.prototype.toString,s=o((function(){if(r){var t=a(Object.defineProperty({},"name",{get:function(){return this===t}}));if("true"!==c.call(t))return!0}return"2: 1"!==c.call({message:1,name:2})||"Error"!==c.call({})}));t.exports=s?function(){var t=i(this),e=u(t.name,"Error"),n=u(t.message);return e?n?e+": "+n:e:n}:c},2109:function(t,e,n){var r=n(7854),o=n(1236).f,i=n(8880),a=n(8052),u=n(3072),c=n(9920),s=n(4705);t.exports=function(t,e){var n,l,f,d,p,m,h=t.target,v=t.global,g=t.stat;if(l=v?r:g?r[h]||u(h,{}):(r[h]||{}).prototype,l)for(f in e){if(p=e[f],t.dontCallGetSet?(m=o(l,f),d=m&&m.value):d=l[f],n=s(v?f:h+(g?".":"#")+f,t.forced),!n&&void 0!==d){if(typeof p==typeof d)continue;c(p,d)}(t.sham||d&&d.sham)&&i(p,"sham",!0),a(l,f,p,t)}}},7293:function(t){t.exports=function(t){try{return!!t()}catch(e){return!0}}},7007:function(t,e,n){"use strict";n(4916);var r=n(1470),o=n(8052),i=n(2261),a=n(7293),u=n(5112),c=n(8880),s=u("species"),l=RegExp.prototype;t.exports=function(t,e,n,f){var d=u(t),p=!a((function(){var e={};return e[d]=function(){return 7},7!=""[t](e)})),m=p&&!a((function(){var e=!1,n=/a/;return"split"===t&&(n={},n.constructor={},n.constructor[s]=function(){return n},n.flags="",n[d]=/./[d]),n.exec=function(){return e=!0,null},n[d](""),!e}));if(!p||!m||n){var h=r(/./[d]),v=e(d,""[t],(function(t,e,n,o,a){var u=r(t),c=e.exec;return c===i||c===l.exec?p&&!a?{done:!0,value:h(e,n,o)}:{done:!0,value:u(n,e,o)}:{done:!1}}));o(String.prototype,t,v[0]),o(l,d,v[1])}f&&c(l[d],"sham",!0)}},6677:function(t,e,n){var r=n(7293);t.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},2104:function(t,e,n){var r=n(4374),o=Function.prototype,i=o.apply,a=o.call;t.exports="object"==typeof Reflect&&Reflect.apply||(r?a.bind(i):function(){return a.apply(i,arguments)})},9974:function(t,e,n){var r=n(1470),o=n(9662),i=n(4374),a=r(r.bind);t.exports=function(t,e){return o(t),void 0===e?t:i?a(t,e):function(){return t.apply(e,arguments)}}},4374:function(t,e,n){var r=n(7293);t.exports=!r((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},7065:function(t,e,n){"use strict";var r=n(1702),o=n(9662),i=n(111),a=n(2597),u=n(206),c=n(4374),s=Function,l=r([].concat),f=r([].join),d={},p=function(t,e,n){if(!a(d,e)){for(var r=[],o=0;o<e;o++)r[o]="a["+o+"]";d[e]=s("C,a","return new C("+f(r,",")+")")}return d[e](t,n)};t.exports=c?s.bind:function(t){var e=o(this),n=e.prototype,r=u(arguments,1),a=function(){var n=l(r,u(arguments));return this instanceof a?p(e,n.length,n):e.apply(t,n)};return i(n)&&(a.prototype=n),a}},6916:function(t,e,n){var r=n(4374),o=Function.prototype.call;t.exports=r?o.bind(o):function(){return o.apply(o,arguments)}},6530:function(t,e,n){var r=n(9781),o=n(2597),i=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,u=o(i,"name"),c=u&&"something"===function(){}.name,s=u&&(!r||r&&a(i,"name").configurable);t.exports={EXISTS:u,PROPER:c,CONFIGURABLE:s}},5668:function(t,e,n){var r=n(1702),o=n(9662);t.exports=function(t,e,n){try{return r(o(Object.getOwnPropertyDescriptor(t,e)[n]))}catch(i){}}},1470:function(t,e,n){var r=n(4326),o=n(1702);t.exports=function(t){if("Function"===r(t))return o(t)}},1702:function(t,e,n){var r=n(4374),o=Function.prototype,i=o.call,a=r&&o.bind.bind(i,i);t.exports=r?a:function(t){return function(){return i.apply(t,arguments)}}},5005:function(t,e,n){var r=n(7854),o=n(614),i=function(t){return o(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?i(r[t]):r[t]&&r[t][e]}},1246:function(t,e,n){var r=n(648),o=n(8173),i=n(8554),a=n(7497),u=n(5112),c=u("iterator");t.exports=function(t){if(!i(t))return o(t,c)||o(t,"@@iterator")||a[r(t)]}},4121:function(t,e,n){var r=n(6916),o=n(9662),i=n(9670),a=n(6330),u=n(1246),c=TypeError;t.exports=function(t,e){var n=arguments.length<2?u(t):e;if(o(n))return i(r(n,t));throw c(a(t)+" is not iterable")}},8044:function(t,e,n){var r=n(1702),o=n(3157),i=n(614),a=n(4326),u=n(1340),c=r([].push);t.exports=function(t){if(i(t))return t;if(o(t)){for(var e=t.length,n=[],r=0;r<e;r++){var s=t[r];"string"==typeof s?c(n,s):"number"!=typeof s&&"Number"!=a(s)&&"String"!=a(s)||c(n,u(s))}var l=n.length,f=!0;return function(t,e){if(f)return f=!1,e;if(o(this))return e;for(var r=0;r<l;r++)if(n[r]===t)return e}}}},8173:function(t,e,n){var r=n(9662),o=n(8554);t.exports=function(t,e){var n=t[e];return o(n)?void 0:r(n)}},647:function(t,e,n){var r=n(1702),o=n(7908),i=Math.floor,a=r("".charAt),u=r("".replace),c=r("".slice),s=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,n,r,f,d){var p=n+t.length,m=r.length,h=l;return void 0!==f&&(f=o(f),h=s),u(d,h,(function(o,u){var s;switch(a(u,0)){case"$":return"$";case"&":return t;case"`":return c(e,0,n);case"'":return c(e,p);case"<":s=f[c(u,1,-1)];break;default:var l=+u;if(0===l)return o;if(l>m){var d=i(l/10);return 0===d?o:d<=m?void 0===r[d-1]?a(u,1):r[d-1]+a(u,1):o}s=r[l-1]}return void 0===s?"":s}))}},7854:function(t,e,n){var r=function(t){return t&&t.Math==Math&&t};t.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},2597:function(t,e,n){var r=n(1702),o=n(7908),i=r({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return i(o(t),e)}},3501:function(t){t.exports={}},842:function(t){t.exports=function(t,e){try{1==arguments.length?console.error(t):console.error(t,e)}catch(n){}}},490:function(t,e,n){var r=n(5005);t.exports=r("document","documentElement")},4664:function(t,e,n){var r=n(9781),o=n(7293),i=n(317);t.exports=!r&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},1179:function(t){var e=Array,n=Math.abs,r=Math.pow,o=Math.floor,i=Math.log,a=Math.LN2,u=function(t,u,c){var s,l,f,d=e(c),p=8*c-u-1,m=(1<<p)-1,h=m>>1,v=23===u?r(2,-24)-r(2,-77):0,g=t<0||0===t&&1/t<0?1:0,b=0;t=n(t),t!=t||t===1/0?(l=t!=t?1:0,s=m):(s=o(i(t)/a),f=r(2,-s),t*f<1&&(s--,f*=2),t+=s+h>=1?v/f:v*r(2,1-h),t*f>=2&&(s++,f/=2),s+h>=m?(l=0,s=m):s+h>=1?(l=(t*f-1)*r(2,u),s+=h):(l=t*r(2,h-1)*r(2,u),s=0));while(u>=8)d[b++]=255&l,l/=256,u-=8;s=s<<u|l,p+=u;while(p>0)d[b++]=255&s,s/=256,p-=8;return d[--b]|=128*g,d},c=function(t,e){var n,o=t.length,i=8*o-e-1,a=(1<<i)-1,u=a>>1,c=i-7,s=o-1,l=t[s--],f=127&l;l>>=7;while(c>0)f=256*f+t[s--],c-=8;n=f&(1<<-c)-1,f>>=-c,c+=e;while(c>0)n=256*n+t[s--],c-=8;if(0===f)f=1-u;else{if(f===a)return n?NaN:l?-1/0:1/0;n+=r(2,e),f-=u}return(l?-1:1)*n*r(2,f-e)};t.exports={pack:u,unpack:c}},8361:function(t,e,n){var r=n(1702),o=n(7293),i=n(4326),a=Object,u=r("".split);t.exports=o((function(){return!a("z").propertyIsEnumerable(0)}))?function(t){return"String"==i(t)?u(t,""):a(t)}:a},9587:function(t,e,n){var r=n(614),o=n(111),i=n(7674);t.exports=function(t,e,n){var a,u;return i&&r(a=e.constructor)&&a!==n&&o(u=a.prototype)&&u!==n.prototype&&i(t,u),t}},2788:function(t,e,n){var r=n(1702),o=n(614),i=n(5465),a=r(Function.toString);o(i.inspectSource)||(i.inspectSource=function(t){return a(t)}),t.exports=i.inspectSource},8340:function(t,e,n){var r=n(111),o=n(8880);t.exports=function(t,e){r(e)&&"cause"in e&&o(t,"cause",e.cause)}},2423:function(t,e,n){var r=n(2109),o=n(1702),i=n(3501),a=n(111),u=n(2597),c=n(3070).f,s=n(8006),l=n(1156),f=n(2050),d=n(9711),p=n(6677),m=!1,h=d("meta"),v=0,g=function(t){c(t,h,{value:{objectID:"O"+v++,weakData:{}}})},b=function(t,e){if(!a(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!u(t,h)){if(!f(t))return"F";if(!e)return"E";g(t)}return t[h].objectID},y=function(t,e){if(!u(t,h)){if(!f(t))return!0;if(!e)return!1;g(t)}return t[h].weakData},x=function(t){return p&&m&&f(t)&&!u(t,h)&&g(t),t},w=function(){_.enable=function(){},m=!0;var t=s.f,e=o([].splice),n={};n[h]=1,t(n).length&&(s.f=function(n){for(var r=t(n),o=0,i=r.length;o<i;o++)if(r[o]===h){e(r,o,1);break}return r},r({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:l.f}))},_=t.exports={enable:w,fastKey:b,getWeakData:y,onFreeze:x};i[h]=!0},9909:function(t,e,n){var r,o,i,a=n(4811),u=n(7854),c=n(111),s=n(8880),l=n(2597),f=n(5465),d=n(6200),p=n(3501),m="Object already initialized",h=u.TypeError,v=u.WeakMap,g=function(t){return i(t)?o(t):r(t,{})},b=function(t){return function(e){var n;if(!c(e)||(n=o(e)).type!==t)throw h("Incompatible receiver, "+t+" required");return n}};if(a||f.state){var y=f.state||(f.state=new v);y.get=y.get,y.has=y.has,y.set=y.set,r=function(t,e){if(y.has(t))throw h(m);return e.facade=t,y.set(t,e),e},o=function(t){return y.get(t)||{}},i=function(t){return y.has(t)}}else{var x=d("state");p[x]=!0,r=function(t,e){if(l(t,x))throw h(m);return e.facade=t,s(t,x,e),e},o=function(t){return l(t,x)?t[x]:{}},i=function(t){return l(t,x)}}t.exports={set:r,get:o,has:i,enforce:g,getterFor:b}},7659:function(t,e,n){var r=n(5112),o=n(7497),i=r("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(o.Array===t||a[i]===t)}},3157:function(t,e,n){var r=n(4326);t.exports=Array.isArray||function(t){return"Array"==r(t)}},4067:function(t,e,n){var r=n(648);t.exports=function(t){var e=r(t);return"BigInt64Array"==e||"BigUint64Array"==e}},614:function(t,e,n){var r=n(4154),o=r.all;t.exports=r.IS_HTMLDDA?function(t){return"function"==typeof t||t===o}:function(t){return"function"==typeof t}},4411:function(t,e,n){var r=n(1702),o=n(7293),i=n(614),a=n(648),u=n(5005),c=n(2788),s=function(){},l=[],f=u("Reflect","construct"),d=/^\s*(?:class|function)\b/,p=r(d.exec),m=!d.exec(s),h=function(t){if(!i(t))return!1;try{return f(s,l,t),!0}catch(e){return!1}},v=function(t){if(!i(t))return!1;switch(a(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return m||!!p(d,c(t))}catch(e){return!0}};v.sham=!0,t.exports=!f||o((function(){var t;return h(h.call)||!h(Object)||!h((function(){t=!0}))||t}))?v:h},4705:function(t,e,n){var r=n(7293),o=n(614),i=/#|\.prototype\./,a=function(t,e){var n=c[u(t)];return n==l||n!=s&&(o(e)?r(e):!!e)},u=a.normalize=function(t){return String(t).replace(i,".").toLowerCase()},c=a.data={},s=a.NATIVE="N",l=a.POLYFILL="P";t.exports=a},5988:function(t,e,n){var r=n(111),o=Math.floor;t.exports=Number.isInteger||function(t){return!r(t)&&isFinite(t)&&o(t)===t}},8554:function(t){t.exports=function(t){return null===t||void 0===t}},111:function(t,e,n){var r=n(614),o=n(4154),i=o.all;t.exports=o.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:r(t)||t===i}:function(t){return"object"==typeof t?null!==t:r(t)}},1913:function(t){t.exports=!1},7850:function(t,e,n){var r=n(111),o=n(4326),i=n(5112),a=i("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[a])?!!e:"RegExp"==o(t))}},2190:function(t,e,n){var r=n(5005),o=n(614),i=n(7976),a=n(3307),u=Object;t.exports=a?function(t){return"symbol"==typeof t}:function(t){var e=r("Symbol");return o(e)&&i(e.prototype,u(t))}},408:function(t,e,n){var r=n(9974),o=n(6916),i=n(9670),a=n(6330),u=n(7659),c=n(6244),s=n(7976),l=n(4121),f=n(1246),d=n(9212),p=TypeError,m=function(t,e){this.stopped=t,this.result=e},h=m.prototype;t.exports=function(t,e,n){var v,g,b,y,x,w,_,C=n&&n.that,k=!(!n||!n.AS_ENTRIES),O=!(!n||!n.IS_RECORD),S=!(!n||!n.IS_ITERATOR),E=!(!n||!n.INTERRUPTED),T=r(e,C),A=function(t){return v&&d(v,"normal",t),new m(!0,t)},N=function(t){return k?(i(t),E?T(t[0],t[1],A):T(t[0],t[1])):E?T(t,A):T(t)};if(O)v=t.iterator;else if(S)v=t;else{if(g=f(t),!g)throw p(a(t)+" is not iterable");if(u(g)){for(b=0,y=c(t);y>b;b++)if(x=N(t[b]),x&&s(h,x))return x;return new m(!1)}v=l(t,g)}w=O?t.next:v.next;while(!(_=o(w,v)).done){try{x=N(_.value)}catch(R){d(v,"throw",R)}if("object"==typeof x&&x&&s(h,x))return x}return new m(!1)}},9212:function(t,e,n){var r=n(6916),o=n(9670),i=n(8173);t.exports=function(t,e,n){var a,u;o(t);try{if(a=i(t,"return"),!a){if("throw"===e)throw n;return n}a=r(a,t)}catch(c){u=!0,a=c}if("throw"===e)throw n;if(u)throw a;return o(a),n}},3061:function(t,e,n){"use strict";var r=n(3383).IteratorPrototype,o=n(30),i=n(9114),a=n(8003),u=n(7497),c=function(){return this};t.exports=function(t,e,n,s){var l=e+" Iterator";return t.prototype=o(r,{next:i(+!s,n)}),a(t,l,!1,!0),u[l]=c,t}},1656:function(t,e,n){"use strict";var r=n(2109),o=n(6916),i=n(1913),a=n(6530),u=n(614),c=n(3061),s=n(9518),l=n(7674),f=n(8003),d=n(8880),p=n(8052),m=n(5112),h=n(7497),v=n(3383),g=a.PROPER,b=a.CONFIGURABLE,y=v.IteratorPrototype,x=v.BUGGY_SAFARI_ITERATORS,w=m("iterator"),_="keys",C="values",k="entries",O=function(){return this};t.exports=function(t,e,n,a,m,v,S){c(n,e,a);var E,T,A,N=function(t){if(t===m&&B)return B;if(!x&&t in P)return P[t];switch(t){case _:return function(){return new n(this,t)};case C:return function(){return new n(this,t)};case k:return function(){return new n(this,t)}}return function(){return new n(this)}},R=e+" Iterator",D=!1,P=t.prototype,M=P[w]||P["@@iterator"]||m&&P[m],B=!x&&M||N(m),L="Array"==e&&P.entries||M;if(L&&(E=s(L.call(new t)),E!==Object.prototype&&E.next&&(i||s(E)===y||(l?l(E,y):u(E[w])||p(E,w,O)),f(E,R,!0,!0),i&&(h[R]=O))),g&&m==C&&M&&M.name!==C&&(!i&&b?d(P,"name",C):(D=!0,B=function(){return o(M,this)})),m)if(T={values:N(C),keys:v?B:N(_),entries:N(k)},S)for(A in T)(x||D||!(A in P))&&p(P,A,T[A]);else r({target:e,proto:!0,forced:x||D},T);return i&&!S||P[w]===B||p(P,w,B,{name:m}),h[e]=B,T}},3383:function(t,e,n){"use strict";var r,o,i,a=n(7293),u=n(614),c=n(111),s=n(30),l=n(9518),f=n(8052),d=n(5112),p=n(1913),m=d("iterator"),h=!1;[].keys&&(i=[].keys(),"next"in i?(o=l(l(i)),o!==Object.prototype&&(r=o)):h=!0);var v=!c(r)||a((function(){var t={};return r[m].call(t)!==t}));v?r={}:p&&(r=s(r)),u(r[m])||f(r,m,(function(){return this})),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:h}},7497:function(t){t.exports={}},6244:function(t,e,n){var r=n(7466);t.exports=function(t){return r(t.length)}},6339:function(t,e,n){var r=n(1702),o=n(7293),i=n(614),a=n(2597),u=n(9781),c=n(6530).CONFIGURABLE,s=n(2788),l=n(9909),f=l.enforce,d=l.get,p=String,m=Object.defineProperty,h=r("".slice),v=r("".replace),g=r([].join),b=u&&!o((function(){return 8!==m((function(){}),"length",{value:8}).length})),y=String(String).split("String"),x=t.exports=function(t,e,n){"Symbol("===h(p(e),0,7)&&(e="["+v(p(e),/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!a(t,"name")||c&&t.name!==e)&&(u?m(t,"name",{value:e,configurable:!0}):t.name=e),b&&n&&a(n,"arity")&&t.length!==n.arity&&m(t,"length",{value:n.arity});try{n&&a(n,"constructor")&&n.constructor?u&&m(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(o){}var r=f(t);return a(r,"source")||(r.source=g(y,"string"==typeof e?e:"")),t};Function.prototype.toString=x((function(){return i(this)&&d(this).source||s(this)}),"toString")},4758:function(t){var e=Math.ceil,n=Math.floor;t.exports=Math.trunc||function(t){var r=+t;return(r>0?n:e)(r)}},5948:function(t,e,n){var r,o,i,a,u,c=n(7854),s=n(9974),l=n(1236).f,f=n(261).set,d=n(8572),p=n(6833),m=n(1528),h=n(1036),v=n(5268),g=c.MutationObserver||c.WebKitMutationObserver,b=c.document,y=c.process,x=c.Promise,w=l(c,"queueMicrotask"),_=w&&w.value;if(!_){var C=new d,k=function(){var t,e;v&&(t=y.domain)&&t.exit();while(e=C.get())try{e()}catch(n){throw C.head&&r(),n}t&&t.enter()};p||v||h||!g||!b?!m&&x&&x.resolve?(a=x.resolve(void 0),a.constructor=x,u=s(a.then,a),r=function(){u(k)}):v?r=function(){y.nextTick(k)}:(f=s(f,c),r=function(){f(k)}):(o=!0,i=b.createTextNode(""),new g(k).observe(i,{characterData:!0}),r=function(){i.data=o=!o}),_=function(t){C.head||r(),C.add(t)}}t.exports=_},8523:function(t,e,n){"use strict";var r=n(9662),o=TypeError,i=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw o("Bad Promise constructor");e=t,n=r})),this.resolve=r(e),this.reject=r(n)};t.exports.f=function(t){return new i(t)}},6277:function(t,e,n){var r=n(1340);t.exports=function(t,e){return void 0===t?arguments.length<2?"":e:r(t)}},2814:function(t,e,n){var r=n(7854),o=n(7293),i=n(1702),a=n(1340),u=n(3111).trim,c=n(1361),s=i("".charAt),l=r.parseFloat,f=r.Symbol,d=f&&f.iterator,p=1/l(c+"-0")!==-1/0||d&&!o((function(){l(Object(d))}));t.exports=p?function(t){var e=u(a(t)),n=l(e);return 0===n&&"-"==s(e,0)?-0:n}:l},3009:function(t,e,n){var r=n(7854),o=n(7293),i=n(1702),a=n(1340),u=n(3111).trim,c=n(1361),s=r.parseInt,l=r.Symbol,f=l&&l.iterator,d=/^[+-]?0x/i,p=i(d.exec),m=8!==s(c+"08")||22!==s(c+"0x16")||f&&!o((function(){s(Object(f))}));t.exports=m?function(t,e){var n=u(a(t));return s(n,e>>>0||(p(d,n)?16:10))}:s},1574:function(t,e,n){"use strict";var r=n(9781),o=n(1702),i=n(6916),a=n(7293),u=n(1956),c=n(5181),s=n(5296),l=n(7908),f=n(8361),d=Object.assign,p=Object.defineProperty,m=o([].concat);t.exports=!d||a((function(){if(r&&1!==d({b:1},d(p({},"a",{enumerable:!0,get:function(){p(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol(),o="abcdefghijklmnopqrst";return t[n]=7,o.split("").forEach((function(t){e[t]=t})),7!=d({},t)[n]||u(d({},e)).join("")!=o}))?function(t,e){var n=l(t),o=arguments.length,a=1,d=c.f,p=s.f;while(o>a){var h,v=f(arguments[a++]),g=d?m(u(v),d(v)):u(v),b=g.length,y=0;while(b>y)h=g[y++],r&&!i(p,v,h)||(n[h]=v[h])}return n}:d},30:function(t,e,n){var r,o=n(9670),i=n(6048),a=n(748),u=n(3501),c=n(490),s=n(317),l=n(6200),f=">",d="<",p="prototype",m="script",h=l("IE_PROTO"),v=function(){},g=function(t){return d+m+f+t+d+"/"+m+f},b=function(t){t.write(g("")),t.close();var e=t.parentWindow.Object;return t=null,e},y=function(){var t,e=s("iframe"),n="java"+m+":";return e.style.display="none",c.appendChild(e),e.src=String(n),t=e.contentWindow.document,t.open(),t.write(g("document.F=Object")),t.close(),t.F},x=function(){try{r=new ActiveXObject("htmlfile")}catch(e){}x="undefined"!=typeof document?document.domain&&r?b(r):y():b(r);var t=a.length;while(t--)delete x[p][a[t]];return x()};u[h]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(v[p]=o(t),n=new v,v[p]=null,n[h]=t):n=x(),void 0===e?n:i.f(n,e)}},6048:function(t,e,n){var r=n(9781),o=n(3353),i=n(3070),a=n(9670),u=n(5656),c=n(1956);e.f=r&&!o?Object.defineProperties:function(t,e){a(t);var n,r=u(e),o=c(e),s=o.length,l=0;while(s>l)i.f(t,n=o[l++],r[n]);return t}},3070:function(t,e,n){var r=n(9781),o=n(4664),i=n(3353),a=n(9670),u=n(4948),c=TypeError,s=Object.defineProperty,l=Object.getOwnPropertyDescriptor,f="enumerable",d="configurable",p="writable";e.f=r?i?function(t,e,n){if(a(t),e=u(e),a(n),"function"===typeof t&&"prototype"===e&&"value"in n&&p in n&&!n[p]){var r=l(t,e);r&&r[p]&&(t[e]=n.value,n={configurable:d in n?n[d]:r[d],enumerable:f in n?n[f]:r[f],writable:!1})}return s(t,e,n)}:s:function(t,e,n){if(a(t),e=u(e),a(n),o)try{return s(t,e,n)}catch(r){}if("get"in n||"set"in n)throw c("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},1236:function(t,e,n){var r=n(9781),o=n(6916),i=n(5296),a=n(9114),u=n(5656),c=n(4948),s=n(2597),l=n(4664),f=Object.getOwnPropertyDescriptor;e.f=r?f:function(t,e){if(t=u(t),e=c(e),l)try{return f(t,e)}catch(n){}if(s(t,e))return a(!o(i.f,t,e),t[e])}},1156:function(t,e,n){var r=n(4326),o=n(5656),i=n(8006).f,a=n(1589),u="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],c=function(t){try{return i(t)}catch(e){return a(u)}};t.exports.f=function(t){return u&&"Window"==r(t)?c(t):i(o(t))}},8006:function(t,e,n){var r=n(6324),o=n(748),i=o.concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},5181:function(t,e){e.f=Object.getOwnPropertySymbols},9518:function(t,e,n){var r=n(2597),o=n(614),i=n(7908),a=n(6200),u=n(8544),c=a("IE_PROTO"),s=Object,l=s.prototype;t.exports=u?s.getPrototypeOf:function(t){var e=i(t);if(r(e,c))return e[c];var n=e.constructor;return o(n)&&e instanceof n?n.prototype:e instanceof s?l:null}},2050:function(t,e,n){var r=n(7293),o=n(111),i=n(4326),a=n(7556),u=Object.isExtensible,c=r((function(){u(1)}));t.exports=c||a?function(t){return!!o(t)&&((!a||"ArrayBuffer"!=i(t))&&(!u||u(t)))}:u},7976:function(t,e,n){var r=n(1702);t.exports=r({}.isPrototypeOf)},6324:function(t,e,n){var r=n(1702),o=n(2597),i=n(5656),a=n(1318).indexOf,u=n(3501),c=r([].push);t.exports=function(t,e){var n,r=i(t),s=0,l=[];for(n in r)!o(u,n)&&o(r,n)&&c(l,n);while(e.length>s)o(r,n=e[s++])&&(~a(l,n)||c(l,n));return l}},1956:function(t,e,n){var r=n(6324),o=n(748);t.exports=Object.keys||function(t){return r(t,o)}},5296:function(t,e){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,o=r&&!n.call({1:2},1);e.f=o?function(t){var e=r(this,t);return!!e&&e.enumerable}:n},7674:function(t,e,n){var r=n(5668),o=n(9670),i=n(6077);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{t=r(Object.prototype,"__proto__","set"),t(n,[]),e=n instanceof Array}catch(a){}return function(n,r){return o(n),i(r),e?t(n,r):n.__proto__=r,n}}():void 0)},288:function(t,e,n){"use strict";var r=n(1694),o=n(648);t.exports=r?{}.toString:function(){return"[object "+o(this)+"]"}},2140:function(t,e,n){var r=n(6916),o=n(614),i=n(111),a=TypeError;t.exports=function(t,e){var n,u;if("string"===e&&o(n=t.toString)&&!i(u=r(n,t)))return u;if(o(n=t.valueOf)&&!i(u=r(n,t)))return u;if("string"!==e&&o(n=t.toString)&&!i(u=r(n,t)))return u;throw a("Can't convert object to primitive value")}},3887:function(t,e,n){var r=n(5005),o=n(1702),i=n(8006),a=n(5181),u=n(9670),c=o([].concat);t.exports=r("Reflect","ownKeys")||function(t){var e=i.f(u(t)),n=a.f;return n?c(e,n(t)):e}},857:function(t,e,n){var r=n(7854);t.exports=r},2534:function(t){t.exports=function(t){try{return{error:!1,value:t()}}catch(e){return{error:!0,value:e}}}},3702:function(t,e,n){var r=n(7854),o=n(2492),i=n(614),a=n(4705),u=n(2788),c=n(5112),s=n(7871),l=n(3823),f=n(1913),d=n(7392),p=o&&o.prototype,m=c("species"),h=!1,v=i(r.PromiseRejectionEvent),g=a("Promise",(function(){var t=u(o),e=t!==String(o);if(!e&&66===d)return!0;if(f&&(!p["catch"]||!p["finally"]))return!0;if(!d||d<51||!/native code/.test(t)){var n=new o((function(t){t(1)})),r=function(t){t((function(){}),(function(){}))},i=n.constructor={};if(i[m]=r,h=n.then((function(){}))instanceof r,!h)return!0}return!e&&(s||l)&&!v}));t.exports={CONSTRUCTOR:g,REJECTION_EVENT:v,SUBCLASSING:h}},2492:function(t,e,n){var r=n(7854);t.exports=r.Promise},9478:function(t,e,n){var r=n(9670),o=n(111),i=n(8523);t.exports=function(t,e){if(r(t),o(e)&&e.constructor===t)return e;var n=i.f(t),a=n.resolve;return a(e),n.promise}},612:function(t,e,n){var r=n(2492),o=n(7072),i=n(3702).CONSTRUCTOR;t.exports=i||!o((function(t){r.all(t).then(void 0,(function(){}))}))},2626:function(t,e,n){var r=n(3070).f;t.exports=function(t,e,n){n in t||r(t,n,{configurable:!0,get:function(){return e[n]},set:function(t){e[n]=t}})}},8572:function(t){var e=function(){this.head=null,this.tail=null};e.prototype={add:function(t){var e={item:t,next:null},n=this.tail;n?n.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t){var e=this.head=t.next;return null===e&&(this.tail=null),t.item}}},t.exports=e},7651:function(t,e,n){var r=n(6916),o=n(9670),i=n(614),a=n(4326),u=n(2261),c=TypeError;t.exports=function(t,e){var n=t.exec;if(i(n)){var s=r(n,t,e);return null!==s&&o(s),s}if("RegExp"===a(t))return r(u,t,e);throw c("RegExp#exec called on incompatible receiver")}},2261:function(t,e,n){"use strict";var r=n(6916),o=n(1702),i=n(1340),a=n(7066),u=n(2999),c=n(2309),s=n(30),l=n(9909).get,f=n(9441),d=n(7168),p=c("native-string-replace",String.prototype.replace),m=RegExp.prototype.exec,h=m,v=o("".charAt),g=o("".indexOf),b=o("".replace),y=o("".slice),x=function(){var t=/a/,e=/b*/g;return r(m,t,"a"),r(m,e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),w=u.BROKEN_CARET,_=void 0!==/()??/.exec("")[1],C=x||_||w||f||d;C&&(h=function(t){var e,n,o,u,c,f,d,C=this,k=l(C),O=i(t),S=k.raw;if(S)return S.lastIndex=C.lastIndex,e=r(h,S,O),C.lastIndex=S.lastIndex,e;var E=k.groups,T=w&&C.sticky,A=r(a,C),N=C.source,R=0,D=O;if(T&&(A=b(A,"y",""),-1===g(A,"g")&&(A+="g"),D=y(O,C.lastIndex),C.lastIndex>0&&(!C.multiline||C.multiline&&"\n"!==v(O,C.lastIndex-1))&&(N="(?: "+N+")",D=" "+D,R++),n=new RegExp("^(?:"+N+")",A)),_&&(n=new RegExp("^"+N+"$(?!\\s)",A)),x&&(o=C.lastIndex),u=r(m,T?n:C,D),T?u?(u.input=y(u.input,R),u[0]=y(u[0],R),u.index=C.lastIndex,C.lastIndex+=u[0].length):C.lastIndex=0:x&&u&&(C.lastIndex=C.global?u.index+u[0].length:o),_&&u&&u.length>1&&r(p,u[0],n,(function(){for(c=1;c<arguments.length-2;c++)void 0===arguments[c]&&(u[c]=void 0)})),u&&E)for(u.groups=f=s(null),c=0;c<E.length;c++)d=E[c],f[d[0]]=u[d[1]];return u}),t.exports=h},7066:function(t,e,n){"use strict";var r=n(9670);t.exports=function(){var t=r(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e}},4706:function(t,e,n){var r=n(6916),o=n(2597),i=n(7976),a=n(7066),u=RegExp.prototype;t.exports=function(t){var e=t.flags;return void 0!==e||"flags"in u||o(t,"flags")||!i(u,t)?e:r(a,t)}},2999:function(t,e,n){var r=n(7293),o=n(7854),i=o.RegExp,a=r((function(){var t=i("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),u=a||r((function(){return!i("a","y").sticky})),c=a||r((function(){var t=i("^r","gy");return t.lastIndex=2,null!=t.exec("str")}));t.exports={BROKEN_CARET:c,MISSED_STICKY:u,UNSUPPORTED_Y:a}},9441:function(t,e,n){var r=n(7293),o=n(7854),i=o.RegExp;t.exports=r((function(){var t=i(".","s");return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)}))},7168:function(t,e,n){var r=n(7293),o=n(7854),i=o.RegExp;t.exports=r((function(){var t=i("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}))},4488:function(t,e,n){var r=n(8554),o=TypeError;t.exports=function(t){if(r(t))throw o("Can't call method on "+t);return t}},1150:function(t){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},7152:function(t,e,n){"use strict";var r=n(7854),o=n(2104),i=n(614),a=n(9363),u=n(8113),c=n(206),s=n(8053),l=r.Function,f=/MSIE .\./.test(u)||a&&function(){var t=r.Bun.version.split(".");return t.length<3||0==t[0]&&(t[1]<3||3==t[1]&&0==t[2])}();t.exports=function(t,e){var n=e?2:1;return f?function(r,a){var u=s(arguments.length,1)>n,f=i(r)?r:l(r),d=u?c(arguments,n):[],p=u?function(){o(f,this,d)}:f;return e?t(p,a):t(p)}:t}},6340:function(t,e,n){"use strict";var r=n(5005),o=n(7045),i=n(5112),a=n(9781),u=i("species");t.exports=function(t){var e=r(t);a&&e&&!e[u]&&o(e,u,{configurable:!0,get:function(){return this}})}},8003:function(t,e,n){var r=n(3070).f,o=n(2597),i=n(5112),a=i("toStringTag");t.exports=function(t,e,n){t&&!n&&(t=t.prototype),t&&!o(t,a)&&r(t,a,{configurable:!0,value:e})}},6200:function(t,e,n){var r=n(2309),o=n(9711),i=r("keys");t.exports=function(t){return i[t]||(i[t]=o(t))}},5465:function(t,e,n){var r=n(7854),o=n(3072),i="__core-js_shared__",a=r[i]||o(i,{});t.exports=a},2309:function(t,e,n){var r=n(1913),o=n(5465);(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.30.1",mode:r?"pure":"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.30.1/LICENSE",source:"https://github.com/zloirock/core-js"})},6707:function(t,e,n){var r=n(9670),o=n(9483),i=n(8554),a=n(5112),u=a("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||i(n=r(a)[u])?e:o(n)}},3429:function(t,e,n){var r=n(7293);t.exports=function(t){return r((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}},8710:function(t,e,n){var r=n(1702),o=n(9303),i=n(1340),a=n(4488),u=r("".charAt),c=r("".charCodeAt),s=r("".slice),l=function(t){return function(e,n){var r,l,f=i(a(e)),d=o(n),p=f.length;return d<0||d>=p?t?"":void 0:(r=c(f,d),r<55296||r>56319||d+1===p||(l=c(f,d+1))<56320||l>57343?t?u(f,d):r:t?s(f,d,d+2):l-56320+(r-55296<<10)+65536)}};t.exports={codeAt:l(!1),charAt:l(!0)}},3197:function(t,e,n){var r=n(1702),o=2147483647,i=36,a=1,u=26,c=38,s=700,l=72,f=128,d="-",p=/[^\0-\u007E]/,m=/[.\u3002\uFF0E\uFF61]/g,h="Overflow: input needs wider integers to process",v=i-a,g=RangeError,b=r(m.exec),y=Math.floor,x=String.fromCharCode,w=r("".charCodeAt),_=r([].join),C=r([].push),k=r("".replace),O=r("".split),S=r("".toLowerCase),E=function(t){var e=[],n=0,r=t.length;while(n<r){var o=w(t,n++);if(o>=55296&&o<=56319&&n<r){var i=w(t,n++);56320==(64512&i)?C(e,((1023&o)<<10)+(1023&i)+65536):(C(e,o),n--)}else C(e,o)}return e},T=function(t){return t+22+75*(t<26)},A=function(t,e,n){var r=0;t=n?y(t/s):t>>1,t+=y(t/e);while(t>v*u>>1)t=y(t/v),r+=i;return y(r+(v+1)*t/(t+c))},N=function(t){var e=[];t=E(t);var n,r,c=t.length,s=f,p=0,m=l;for(n=0;n<t.length;n++)r=t[n],r<128&&C(e,x(r));var v=e.length,b=v;v&&C(e,d);while(b<c){var w=o;for(n=0;n<t.length;n++)r=t[n],r>=s&&r<w&&(w=r);var k=b+1;if(w-s>y((o-p)/k))throw g(h);for(p+=(w-s)*k,s=w,n=0;n<t.length;n++){if(r=t[n],r<s&&++p>o)throw g(h);if(r==s){var O=p,S=i;while(1){var N=S<=m?a:S>=m+u?u:S-m;if(O<N)break;var R=O-N,D=i-N;C(e,x(T(N+R%D))),O=y(R/D),S+=i}C(e,x(T(O))),m=A(p,k,b==v),p=0,b++}}p++,s++}return _(e,"")};t.exports=function(t){var e,n,r=[],o=O(k(S(t),m,"."),".");for(e=0;e<o.length;e++)n=o[e],C(r,b(p,n)?"xn--"+N(n):n);return _(r,".")}},8415:function(t,e,n){"use strict";var r=n(9303),o=n(1340),i=n(4488),a=RangeError;t.exports=function(t){var e=o(i(this)),n="",u=r(t);if(u<0||u==1/0)throw a("Wrong number of repetitions");for(;u>0;(u>>>=1)&&(e+=e))1&u&&(n+=e);return n}},6091:function(t,e,n){var r=n(6530).PROPER,o=n(7293),i=n(1361),a="​᠎";t.exports=function(t){return o((function(){return!!i[t]()||a[t]()!==a||r&&i[t].name!==t}))}},3111:function(t,e,n){var r=n(1702),o=n(4488),i=n(1340),a=n(1361),u=r("".replace),c=RegExp("^["+a+"]+"),s=RegExp("(^|[^"+a+"])["+a+"]+$"),l=function(t){return function(e){var n=i(o(e));return 1&t&&(n=u(n,c,"")),2&t&&(n=u(n,s,"$1")),n}};t.exports={start:l(1),end:l(2),trim:l(3)}},6293:function(t,e,n){var r=n(7392),o=n(7293);t.exports=!!Object.getOwnPropertySymbols&&!o((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},6532:function(t,e,n){var r=n(6916),o=n(5005),i=n(5112),a=n(8052);t.exports=function(){var t=o("Symbol"),e=t&&t.prototype,n=e&&e.valueOf,u=i("toPrimitive");e&&!e[u]&&a(e,u,(function(t){return r(n,this)}),{arity:1})}},2015:function(t,e,n){var r=n(6293);t.exports=r&&!!Symbol["for"]&&!!Symbol.keyFor},261:function(t,e,n){var r,o,i,a,u=n(7854),c=n(2104),s=n(9974),l=n(614),f=n(2597),d=n(7293),p=n(490),m=n(206),h=n(317),v=n(8053),g=n(6833),b=n(5268),y=u.setImmediate,x=u.clearImmediate,w=u.process,_=u.Dispatch,C=u.Function,k=u.MessageChannel,O=u.String,S=0,E={},T="onreadystatechange";d((function(){r=u.location}));var A=function(t){if(f(E,t)){var e=E[t];delete E[t],e()}},N=function(t){return function(){A(t)}},R=function(t){A(t.data)},D=function(t){u.postMessage(O(t),r.protocol+"//"+r.host)};y&&x||(y=function(t){v(arguments.length,1);var e=l(t)?t:C(t),n=m(arguments,1);return E[++S]=function(){c(e,void 0,n)},o(S),S},x=function(t){delete E[t]},b?o=function(t){w.nextTick(N(t))}:_&&_.now?o=function(t){_.now(N(t))}:k&&!g?(i=new k,a=i.port2,i.port1.onmessage=R,o=s(a.postMessage,a)):u.addEventListener&&l(u.postMessage)&&!u.importScripts&&r&&"file:"!==r.protocol&&!d(D)?(o=D,u.addEventListener("message",R,!1)):o=T in h("script")?function(t){p.appendChild(h("script"))[T]=function(){p.removeChild(this),A(t)}}:function(t){setTimeout(N(t),0)}),t.exports={set:y,clear:x}},863:function(t,e,n){var r=n(1702);t.exports=r(1..valueOf)},1400:function(t,e,n){var r=n(9303),o=Math.max,i=Math.min;t.exports=function(t,e){var n=r(t);return n<0?o(n+e,0):i(n,e)}},4599:function(t,e,n){var r=n(7593),o=TypeError;t.exports=function(t){var e=r(t,"number");if("number"==typeof e)throw o("Can't convert number to bigint");return BigInt(e)}},7067:function(t,e,n){var r=n(9303),o=n(7466),i=RangeError;t.exports=function(t){if(void 0===t)return 0;var e=r(t),n=o(e);if(e!==n)throw i("Wrong length or index");return n}},5656:function(t,e,n){var r=n(8361),o=n(4488);t.exports=function(t){return r(o(t))}},9303:function(t,e,n){var r=n(4758);t.exports=function(t){var e=+t;return e!==e||0===e?0:r(e)}},7466:function(t,e,n){var r=n(9303),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},7908:function(t,e,n){var r=n(4488),o=Object;t.exports=function(t){return o(r(t))}},4590:function(t,e,n){var r=n(3002),o=RangeError;t.exports=function(t,e){var n=r(t);if(n%e)throw o("Wrong offset");return n}},3002:function(t,e,n){var r=n(9303),o=RangeError;t.exports=function(t){var e=r(t);if(e<0)throw o("The argument can't be less than 0");return e}},7593:function(t,e,n){var r=n(6916),o=n(111),i=n(2190),a=n(8173),u=n(2140),c=n(5112),s=TypeError,l=c("toPrimitive");t.exports=function(t,e){if(!o(t)||i(t))return t;var n,c=a(t,l);if(c){if(void 0===e&&(e="default"),n=r(c,t,e),!o(n)||i(n))return n;throw s("Can't convert object to primitive value")}return void 0===e&&(e="number"),u(t,e)}},4948:function(t,e,n){var r=n(7593),o=n(2190);t.exports=function(t){var e=r(t,"string");return o(e)?e:e+""}},1694:function(t,e,n){var r=n(5112),o=r("toStringTag"),i={};i[o]="z",t.exports="[object z]"===String(i)},1340:function(t,e,n){var r=n(648),o=String;t.exports=function(t){if("Symbol"===r(t))throw TypeError("Cannot convert a Symbol value to a string");return o(t)}},4038:function(t,e,n){var r=n(5268);t.exports=function(t){try{if(r)return Function('return require("'+t+'")')()}catch(e){}}},6330:function(t){var e=String;t.exports=function(t){try{return e(t)}catch(n){return"Object"}}},9843:function(t,e,n){"use strict";var r=n(2109),o=n(7854),i=n(6916),a=n(9781),u=n(3832),c=n(260),s=n(3331),l=n(5787),f=n(9114),d=n(8880),p=n(5988),m=n(7466),h=n(7067),v=n(4590),g=n(4948),b=n(2597),y=n(648),x=n(111),w=n(2190),_=n(30),C=n(7976),k=n(7674),O=n(8006).f,S=n(7321),E=n(2092).forEach,T=n(6340),A=n(7045),N=n(3070),R=n(1236),D=n(9909),P=n(9587),M=D.get,B=D.set,L=D.enforce,I=N.f,j=R.f,F=Math.round,q=o.RangeError,z=s.ArrayBuffer,U=z.prototype,H=s.DataView,V=c.NATIVE_ARRAY_BUFFER_VIEWS,W=c.TYPED_ARRAY_TAG,$=c.TypedArray,G=c.TypedArrayPrototype,K=c.aTypedArrayConstructor,Y=c.isTypedArray,X="BYTES_PER_ELEMENT",Z="Wrong length",J=function(t,e){K(t);var n=0,r=e.length,o=new t(r);while(r>n)o[n]=e[n++];return o},Q=function(t,e){A(t,e,{configurable:!0,get:function(){return M(this)[e]}})},tt=function(t){var e;return C(U,t)||"ArrayBuffer"==(e=y(t))||"SharedArrayBuffer"==e},et=function(t,e){return Y(t)&&!w(e)&&e in t&&p(+e)&&e>=0},nt=function(t,e){return e=g(e),et(t,e)?f(2,t[e]):j(t,e)},rt=function(t,e,n){return e=g(e),!(et(t,e)&&x(n)&&b(n,"value"))||b(n,"get")||b(n,"set")||n.configurable||b(n,"writable")&&!n.writable||b(n,"enumerable")&&!n.enumerable?I(t,e,n):(t[e]=n.value,t)};a?(V||(R.f=nt,N.f=rt,Q(G,"buffer"),Q(G,"byteOffset"),Q(G,"byteLength"),Q(G,"length")),r({target:"Object",stat:!0,forced:!V},{getOwnPropertyDescriptor:nt,defineProperty:rt}),t.exports=function(t,e,n){var a=t.match(/\d+/)[0]/8,c=t+(n?"Clamped":"")+"Array",s="get"+t,f="set"+t,p=o[c],g=p,b=g&&g.prototype,y={},w=function(t,e){var n=M(t);return n.view[s](e*a+n.byteOffset,!0)},C=function(t,e,r){var o=M(t);n&&(r=(r=F(r))<0?0:r>255?255:255&r),o.view[f](e*a+o.byteOffset,r,!0)},A=function(t,e){I(t,e,{get:function(){return w(this,e)},set:function(t){return C(this,e,t)},enumerable:!0})};V?u&&(g=e((function(t,e,n,r){return l(t,b),P(function(){return x(e)?tt(e)?void 0!==r?new p(e,v(n,a),r):void 0!==n?new p(e,v(n,a)):new p(e):Y(e)?J(g,e):i(S,g,e):new p(h(e))}(),t,g)})),k&&k(g,$),E(O(p),(function(t){t in g||d(g,t,p[t])})),g.prototype=b):(g=e((function(t,e,n,r){l(t,b);var o,u,c,s=0,f=0;if(x(e)){if(!tt(e))return Y(e)?J(g,e):i(S,g,e);o=e,f=v(n,a);var d=e.byteLength;if(void 0===r){if(d%a)throw q(Z);if(u=d-f,u<0)throw q(Z)}else if(u=m(r)*a,u+f>d)throw q(Z);c=u/a}else c=h(e),u=c*a,o=new z(u);B(t,{buffer:o,byteOffset:f,byteLength:u,length:c,view:new H(o)});while(s<c)A(t,s++)})),k&&k(g,$),b=g.prototype=_(G)),b.constructor!==g&&d(b,"constructor",g),L(b).TypedArrayConstructor=g,W&&d(b,W,c);var N=g!=p;y[c]=g,r({global:!0,constructor:!0,forced:N,sham:!V},y),X in g||d(g,X,a),X in b||d(b,X,a),T(c)}):t.exports=function(){}},3832:function(t,e,n){var r=n(7854),o=n(7293),i=n(7072),a=n(260).NATIVE_ARRAY_BUFFER_VIEWS,u=r.ArrayBuffer,c=r.Int8Array;t.exports=!a||!o((function(){c(1)}))||!o((function(){new c(-1)}))||!i((function(t){new c,new c(null),new c(1.5),new c(t)}),!0)||o((function(){return 1!==new c(new u(2),1,void 0).length}))},3074:function(t,e,n){var r=n(7745),o=n(6304);t.exports=function(t,e){return r(o(t),e)}},7321:function(t,e,n){var r=n(9974),o=n(6916),i=n(9483),a=n(7908),u=n(6244),c=n(4121),s=n(1246),l=n(7659),f=n(4067),d=n(260).aTypedArrayConstructor,p=n(4599);t.exports=function(t){var e,n,m,h,v,g,b,y,x=i(this),w=a(t),_=arguments.length,C=_>1?arguments[1]:void 0,k=void 0!==C,O=s(w);if(O&&!l(O)){b=c(w,O),y=b.next,w=[];while(!(g=o(y,b)).done)w.push(g.value)}for(k&&_>2&&(C=r(C,arguments[2])),n=u(w),m=new(d(x))(n),h=f(m),e=0;n>e;e++)v=k?C(w[e],e):w[e],m[e]=h?p(v):+v;return m}},6304:function(t,e,n){var r=n(260),o=n(6707),i=r.aTypedArrayConstructor,a=r.getTypedArrayConstructor;t.exports=function(t){return i(o(t,a(t)))}},9711:function(t,e,n){var r=n(1702),o=0,i=Math.random(),a=r(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+a(++o+i,36)}},5143:function(t,e,n){var r=n(7293),o=n(5112),i=n(9781),a=n(1913),u=o("iterator");t.exports=!r((function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,n="";return t.pathname="c%20d",e.forEach((function(t,r){e["delete"]("b"),n+=r+t})),a&&!t.toJSON||!e.size&&(a||!i)||!e.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[u]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},3307:function(t,e,n){var r=n(6293);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:function(t,e,n){var r=n(9781),o=n(7293);t.exports=r&&o((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},8053:function(t){var e=TypeError;t.exports=function(t,n){if(t<n)throw e("Not enough arguments");return t}},4811:function(t,e,n){var r=n(7854),o=n(614),i=r.WeakMap;t.exports=o(i)&&/native code/.test(String(i))},6800:function(t,e,n){var r=n(857),o=n(2597),i=n(6061),a=n(3070).f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});o(e,t)||a(e,t,{value:i.f(t)})}},6061:function(t,e,n){var r=n(5112);e.f=r},5112:function(t,e,n){var r=n(7854),o=n(2309),i=n(2597),a=n(9711),u=n(6293),c=n(3307),s=r.Symbol,l=o("wks"),f=c?s["for"]||s:s&&s.withoutSetter||a;t.exports=function(t){return i(l,t)||(l[t]=u&&i(s,t)?s[t]:f("Symbol."+t)),l[t]}},1361:function(t){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},9191:function(t,e,n){"use strict";var r=n(5005),o=n(2597),i=n(8880),a=n(7976),u=n(7674),c=n(9920),s=n(2626),l=n(9587),f=n(6277),d=n(8340),p=n(5392),m=n(9781),h=n(1913);t.exports=function(t,e,n,v){var g="stackTraceLimit",b=v?2:1,y=t.split("."),x=y[y.length-1],w=r.apply(null,y);if(w){var _=w.prototype;if(!h&&o(_,"cause")&&delete _.cause,!n)return w;var C=r("Error"),k=e((function(t,e){var n=f(v?e:t,void 0),r=v?new w(t):new w;return void 0!==n&&i(r,"message",n),p(r,k,r.stack,2),this&&a(_,this)&&l(r,this,k),arguments.length>b&&d(r,arguments[b]),r}));if(k.prototype=_,"Error"!==x?u?u(k,C):c(k,C,{name:!0}):m&&g in w&&(s(k,w,g),s(k,w,"prepareStackTrace")),c(k,w),!h)try{_.name!==x&&i(_,"name",x),_.constructor=k}catch(O){}return k}}},9575:function(t,e,n){"use strict";var r=n(2109),o=n(1470),i=n(7293),a=n(3331),u=n(9670),c=n(1400),s=n(7466),l=n(6707),f=a.ArrayBuffer,d=a.DataView,p=d.prototype,m=o(f.prototype.slice),h=o(p.getUint8),v=o(p.setUint8),g=i((function(){return!new f(2).slice(1,void 0).byteLength}));r({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:g},{slice:function(t,e){if(m&&void 0===e)return m(u(this),t);var n=u(this).byteLength,r=c(t,n),o=c(void 0===e?n:e,n),i=new(l(this,f))(s(o-r)),a=new d(this),p=new d(i),g=0;while(r<o)v(p,g++,h(a,r++));return i}})},2222:function(t,e,n){"use strict";var r=n(2109),o=n(7293),i=n(3157),a=n(111),u=n(7908),c=n(6244),s=n(7207),l=n(6135),f=n(5417),d=n(1194),p=n(5112),m=n(7392),h=p("isConcatSpreadable"),v=m>=51||!o((function(){var t=[];return t[h]=!1,t.concat()[0]!==t})),g=function(t){if(!a(t))return!1;var e=t[h];return void 0!==e?!!e:i(t)},b=!v||!d("concat");r({target:"Array",proto:!0,arity:1,forced:b},{concat:function(t){var e,n,r,o,i,a=u(this),d=f(a,0),p=0;for(e=-1,r=arguments.length;e<r;e++)if(i=-1===e?a:arguments[e],g(i))for(o=c(i),s(p+o),n=0;n<o;n++,p++)n in i&&l(d,p,i[n]);else s(p+1),l(d,p++,i);return d.length=p,d}})},6541:function(t,e,n){"use strict";var r=n(2109),o=n(2092).every,i=n(2133),a=i("every");r({target:"Array",proto:!0,forced:!a},{every:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},7327:function(t,e,n){"use strict";var r=n(2109),o=n(2092).filter,i=n(1194),a=i("filter");r({target:"Array",proto:!0,forced:!a},{filter:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},9826:function(t,e,n){"use strict";var r=n(2109),o=n(2092).find,i=n(1223),a="find",u=!0;a in[]&&Array(1)[a]((function(){u=!1})),r({target:"Array",proto:!0,forced:u},{find:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),i(a)},9554:function(t,e,n){"use strict";var r=n(2109),o=n(8533);r({target:"Array",proto:!0,forced:[].forEach!=o},{forEach:o})},1038:function(t,e,n){var r=n(2109),o=n(8457),i=n(7072),a=!i((function(t){Array.from(t)}));r({target:"Array",stat:!0,forced:a},{from:o})},2772:function(t,e,n){"use strict";var r=n(2109),o=n(1470),i=n(1318).indexOf,a=n(2133),u=o([].indexOf),c=!!u&&1/u([1],1,-0)<0,s=c||!a("indexOf");r({target:"Array",proto:!0,forced:s},{indexOf:function(t){var e=arguments.length>1?arguments[1]:void 0;return c?u(this,t,e)||0:i(this,t,e)}})},6992:function(t,e,n){"use strict";var r=n(5656),o=n(1223),i=n(7497),a=n(9909),u=n(3070).f,c=n(1656),s=n(6178),l=n(1913),f=n(9781),d="Array Iterator",p=a.set,m=a.getterFor(d);t.exports=c(Array,"Array",(function(t,e){p(this,{type:d,target:r(t),index:0,kind:e})}),(function(){var t=m(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,s(void 0,!0)):s("keys"==n?r:"values"==n?e[r]:[r,e[r]],!1)}),"values");var h=i.Arguments=i.Array;if(o("keys"),o("values"),o("entries"),!l&&f&&"values"!==h.name)try{u(h,"name",{value:"values"})}catch(v){}},9600:function(t,e,n){"use strict";var r=n(2109),o=n(1702),i=n(8361),a=n(5656),u=n(2133),c=o([].join),s=i!=Object,l=s||!u("join",",");r({target:"Array",proto:!0,forced:l},{join:function(t){return c(a(this),void 0===t?",":t)}})},4986:function(t,e,n){var r=n(2109),o=n(6583);r({target:"Array",proto:!0,forced:o!==[].lastIndexOf},{lastIndexOf:o})},1249:function(t,e,n){"use strict";var r=n(2109),o=n(2092).map,i=n(1194),a=i("map");r({target:"Array",proto:!0,forced:!a},{map:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},7658:function(t,e,n){"use strict";var r=n(2109),o=n(7908),i=n(6244),a=n(3658),u=n(7207),c=n(7293),s=c((function(){return 4294967297!==[].push.call({length:4294967296},1)})),l=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}},f=s||!l();r({target:"Array",proto:!0,arity:1,forced:f},{push:function(t){var e=o(this),n=i(e),r=arguments.length;u(n+r);for(var c=0;c<r;c++)e[n]=arguments[c],n++;return a(e,n),n}})},5069:function(t,e,n){"use strict";var r=n(2109),o=n(1702),i=n(3157),a=o([].reverse),u=[1,2];r({target:"Array",proto:!0,forced:String(u)===String(u.reverse())},{reverse:function(){return i(this)&&(this.length=this.length),a(this)}})},7042:function(t,e,n){"use strict";var r=n(2109),o=n(3157),i=n(4411),a=n(111),u=n(1400),c=n(6244),s=n(5656),l=n(6135),f=n(5112),d=n(1194),p=n(206),m=d("slice"),h=f("species"),v=Array,g=Math.max;r({target:"Array",proto:!0,forced:!m},{slice:function(t,e){var n,r,f,d=s(this),m=c(d),b=u(t,m),y=u(void 0===e?m:e,m);if(o(d)&&(n=d.constructor,i(n)&&(n===v||o(n.prototype))?n=void 0:a(n)&&(n=n[h],null===n&&(n=void 0)),n===v||void 0===n))return p(d,b,y);for(r=new(void 0===n?v:n)(g(y-b,0)),f=0;b<y;b++,f++)b in d&&l(r,f,d[b]);return r.length=f,r}})},5212:function(t,e,n){"use strict";var r=n(2109),o=n(2092).some,i=n(2133),a=i("some");r({target:"Array",proto:!0,forced:!a},{some:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},2707:function(t,e,n){"use strict";var r=n(2109),o=n(1702),i=n(9662),a=n(7908),u=n(6244),c=n(5117),s=n(1340),l=n(7293),f=n(4362),d=n(2133),p=n(8886),m=n(256),h=n(7392),v=n(8008),g=[],b=o(g.sort),y=o(g.push),x=l((function(){g.sort(void 0)})),w=l((function(){g.sort(null)})),_=d("sort"),C=!l((function(){if(h)return h<70;if(!(p&&p>3)){if(m)return!0;if(v)return v<603;var t,e,n,r,o="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)g.push({k:e+r,v:n})}for(g.sort((function(t,e){return e.v-t.v})),r=0;r<g.length;r++)e=g[r].k.charAt(0),o.charAt(o.length-1)!==e&&(o+=e);return"DGBEFHACIJK"!==o}})),k=x||!w||!_||!C,O=function(t){return function(e,n){return void 0===n?-1:void 0===e?1:void 0!==t?+t(e,n)||0:s(e)>s(n)?1:-1}};r({target:"Array",proto:!0,forced:k},{sort:function(t){void 0!==t&&i(t);var e=a(this);if(C)return void 0===t?b(e):b(e,t);var n,r,o=[],s=u(e);for(r=0;r<s;r++)r in e&&y(o,e[r]);f(o,O(t)),n=u(o),r=0;while(r<n)e[r]=o[r++];while(r<s)c(e,r++);return e}})},561:function(t,e,n){"use strict";var r=n(2109),o=n(7908),i=n(1400),a=n(9303),u=n(6244),c=n(3658),s=n(7207),l=n(5417),f=n(6135),d=n(5117),p=n(1194),m=p("splice"),h=Math.max,v=Math.min;r({target:"Array",proto:!0,forced:!m},{splice:function(t,e){var n,r,p,m,g,b,y=o(this),x=u(y),w=i(t,x),_=arguments.length;for(0===_?n=r=0:1===_?(n=0,r=x-w):(n=_-2,r=v(h(a(e),0),x-w)),s(x+n-r),p=l(y,r),m=0;m<r;m++)g=w+m,g in y&&f(p,m,y[g]);if(p.length=r,n<r){for(m=w;m<x-r;m++)g=m+r,b=m+n,g in y?y[b]=y[g]:d(y,b);for(m=x;m>x-r+n;m--)d(y,m-1)}else if(n>r)for(m=x-r;m>w;m--)g=m+r-1,b=m+n-1,g in y?y[b]=y[g]:d(y,b);for(m=0;m<n;m++)y[m+w]=arguments[m+2];return c(y,x-r+n),p}})},541:function(t,e,n){"use strict";var r=n(2109),o=n(7908),i=n(6244),a=n(3658),u=n(5117),c=n(7207),s=1!==[].unshift(0),l=function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(t){return t instanceof TypeError}},f=s||!l();r({target:"Array",proto:!0,arity:1,forced:f},{unshift:function(t){var e=o(this),n=i(e),r=arguments.length;if(r){c(n+r);var s=n;while(s--){var l=s+r;s in e?e[l]=e[s]:u(e,l)}for(var f=0;f<r;f++)e[f]=arguments[f]}return a(e,n+r)}})},6078:function(t,e,n){var r=n(2597),o=n(8052),i=n(8709),a=n(5112),u=a("toPrimitive"),c=Date.prototype;r(c,u)||o(c,u,i)},1703:function(t,e,n){var r=n(2109),o=n(7854),i=n(2104),a=n(9191),u="WebAssembly",c=o[u],s=7!==Error("e",{cause:7}).cause,l=function(t,e){var n={};n[t]=a(t,e,s),r({global:!0,constructor:!0,arity:1,forced:s},n)},f=function(t,e){if(c&&c[t]){var n={};n[t]=a(u+"."+t,e,s),r({target:u,stat:!0,constructor:!0,arity:1,forced:s},n)}};l("Error",(function(t){return function(e){return i(t,this,arguments)}})),l("EvalError",(function(t){return function(e){return i(t,this,arguments)}})),l("RangeError",(function(t){return function(e){return i(t,this,arguments)}})),l("ReferenceError",(function(t){return function(e){return i(t,this,arguments)}})),l("SyntaxError",(function(t){return function(e){return i(t,this,arguments)}})),l("TypeError",(function(t){return function(e){return i(t,this,arguments)}})),l("URIError",(function(t){return function(e){return i(t,this,arguments)}})),f("CompileError",(function(t){return function(e){return i(t,this,arguments)}})),f("LinkError",(function(t){return function(e){return i(t,this,arguments)}})),f("RuntimeError",(function(t){return function(e){return i(t,this,arguments)}}))},6647:function(t,e,n){var r=n(8052),o=n(7762),i=Error.prototype;i.toString!==o&&r(i,"toString",o)},8309:function(t,e,n){var r=n(9781),o=n(6530).EXISTS,i=n(1702),a=n(7045),u=Function.prototype,c=i(u.toString),s=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,l=i(s.exec),f="name";r&&!o&&a(u,f,{configurable:!0,get:function(){try{return l(s,c(this))[1]}catch(t){return""}}})},8862:function(t,e,n){var r=n(2109),o=n(5005),i=n(2104),a=n(6916),u=n(1702),c=n(7293),s=n(614),l=n(2190),f=n(206),d=n(8044),p=n(6293),m=String,h=o("JSON","stringify"),v=u(/./.exec),g=u("".charAt),b=u("".charCodeAt),y=u("".replace),x=u(1..toString),w=/[\uD800-\uDFFF]/g,_=/^[\uD800-\uDBFF]$/,C=/^[\uDC00-\uDFFF]$/,k=!p||c((function(){var t=o("Symbol")();return"[null]"!=h([t])||"{}"!=h({a:t})||"{}"!=h(Object(t))})),O=c((function(){return'"\\udf06\\ud834"'!==h("\udf06\ud834")||'"\\udead"'!==h("\udead")})),S=function(t,e){var n=f(arguments),r=d(e);if(s(r)||void 0!==t&&!l(t))return n[1]=function(t,e){if(s(r)&&(e=a(r,this,m(t),e)),!l(e))return e},i(h,null,n)},E=function(t,e,n){var r=g(n,e-1),o=g(n,e+1);return v(_,t)&&!v(C,o)||v(C,t)&&!v(_,r)?"\\u"+x(b(t,0),16):t};h&&r({target:"JSON",stat:!0,arity:3,forced:k||O},{stringify:function(t,e,n){var r=f(arguments),o=i(k?S:h,null,r);return O&&"string"==typeof o?y(o,w,E):o}})},3706:function(t,e,n){var r=n(7854),o=n(8003);o(r.JSON,"JSON",!0)},2703:function(t,e,n){var r=n(8003);r(Math,"Math",!0)},9653:function(t,e,n){"use strict";var r=n(2109),o=n(1913),i=n(9781),a=n(7854),u=n(857),c=n(1702),s=n(4705),l=n(2597),f=n(9587),d=n(7976),p=n(2190),m=n(7593),h=n(7293),v=n(8006).f,g=n(1236).f,b=n(3070).f,y=n(863),x=n(3111).trim,w="Number",_=a[w],C=u[w],k=_.prototype,O=a.TypeError,S=c("".slice),E=c("".charCodeAt),T=function(t){var e=m(t,"number");return"bigint"==typeof e?e:A(e)},A=function(t){var e,n,r,o,i,a,u,c,s=m(t,"number");if(p(s))throw O("Cannot convert a Symbol value to a number");if("string"==typeof s&&s.length>2)if(s=x(s),e=E(s,0),43===e||45===e){if(n=E(s,2),88===n||120===n)return NaN}else if(48===e){switch(E(s,1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+s}for(i=S(s,2),a=i.length,u=0;u<a;u++)if(c=E(i,u),c<48||c>o)return NaN;return parseInt(i,r)}return+s},N=s(w,!_(" 0o1")||!_("0b1")||_("+0x1")),R=function(t){return d(k,t)&&h((function(){y(t)}))},D=function(t){var e=arguments.length<1?0:_(T(t));return R(this)?f(Object(e),this,D):e};D.prototype=k,N&&!o&&(k.constructor=D),r({global:!0,constructor:!0,wrap:!0,forced:N},{Number:D});var P=function(t,e){for(var n,r=i?v(e):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),o=0;r.length>o;o++)l(e,n=r[o])&&!l(t,n)&&b(t,n,g(e,n))};o&&C&&P(u[w],C),(N||o)&&P(u[w],_)},6977:function(t,e,n){"use strict";var r=n(2109),o=n(1702),i=n(9303),a=n(863),u=n(8415),c=n(7293),s=RangeError,l=String,f=Math.floor,d=o(u),p=o("".slice),m=o(1..toFixed),h=function(t,e,n){return 0===e?n:e%2===1?h(t,e-1,n*t):h(t*t,e/2,n)},v=function(t){var e=0,n=t;while(n>=4096)e+=12,n/=4096;while(n>=2)e+=1,n/=2;return e},g=function(t,e,n){var r=-1,o=n;while(++r<6)o+=e*t[r],t[r]=o%1e7,o=f(o/1e7)},b=function(t,e){var n=6,r=0;while(--n>=0)r+=t[n],t[n]=f(r/e),r=r%e*1e7},y=function(t){var e=6,n="";while(--e>=0)if(""!==n||0===e||0!==t[e]){var r=l(t[e]);n=""===n?r:n+d("0",7-r.length)+r}return n},x=c((function(){return"0.000"!==m(8e-5,3)||"1"!==m(.9,0)||"1.25"!==m(1.255,2)||"1000000000000000128"!==m(0xde0b6b3a7640080,0)}))||!c((function(){m({})}));r({target:"Number",proto:!0,forced:x},{toFixed:function(t){var e,n,r,o,u=a(this),c=i(t),f=[0,0,0,0,0,0],m="",x="0";if(c<0||c>20)throw s("Incorrect fraction digits");if(u!=u)return"NaN";if(u<=-1e21||u>=1e21)return l(u);if(u<0&&(m="-",u=-u),u>1e-21)if(e=v(u*h(2,69,1))-69,n=e<0?u*h(2,-e,1):u/h(2,e,1),n*=4503599627370496,e=52-e,e>0){g(f,0,n),r=c;while(r>=7)g(f,1e7,0),r-=7;g(f,h(10,r,1),0),r=e-1;while(r>=23)b(f,1<<23),r-=23;b(f,1<<r),g(f,1,1),b(f,2),x=y(f)}else g(f,0,n),g(f,1<<-e,0),x=y(f)+d("0",c);return c>0?(o=x.length,x=m+(o<=c?"0."+d("0",c-o)+x:p(x,0,o-c)+"."+p(x,o-c))):x=m+x,x}})},9601:function(t,e,n){var r=n(2109),o=n(1574);r({target:"Object",stat:!0,arity:2,forced:Object.assign!==o},{assign:o})},3321:function(t,e,n){var r=n(2109),o=n(9781),i=n(6048).f;r({target:"Object",stat:!0,forced:Object.defineProperties!==i,sham:!o},{defineProperties:i})},9070:function(t,e,n){var r=n(2109),o=n(9781),i=n(3070).f;r({target:"Object",stat:!0,forced:Object.defineProperty!==i,sham:!o},{defineProperty:i})},3371:function(t,e,n){var r=n(2109),o=n(6677),i=n(7293),a=n(111),u=n(2423).onFreeze,c=Object.freeze,s=i((function(){c(1)}));r({target:"Object",stat:!0,forced:s,sham:!o},{freeze:function(t){return c&&a(t)?c(u(t)):t}})},5003:function(t,e,n){var r=n(2109),o=n(7293),i=n(5656),a=n(1236).f,u=n(9781),c=!u||o((function(){a(1)}));r({target:"Object",stat:!0,forced:c,sham:!u},{getOwnPropertyDescriptor:function(t,e){return a(i(t),e)}})},9337:function(t,e,n){var r=n(2109),o=n(9781),i=n(3887),a=n(5656),u=n(1236),c=n(6135);r({target:"Object",stat:!0,sham:!o},{getOwnPropertyDescriptors:function(t){var e,n,r=a(t),o=u.f,s=i(r),l={},f=0;while(s.length>f)n=o(r,e=s[f++]),void 0!==n&&c(l,e,n);return l}})},9660:function(t,e,n){var r=n(2109),o=n(6293),i=n(7293),a=n(5181),u=n(7908),c=!o||i((function(){a.f(1)}));r({target:"Object",stat:!0,forced:c},{getOwnPropertySymbols:function(t){var e=a.f;return e?e(u(t)):[]}})},489:function(t,e,n){var r=n(2109),o=n(7293),i=n(7908),a=n(9518),u=n(8544),c=o((function(){a(1)}));r({target:"Object",stat:!0,forced:c,sham:!u},{getPrototypeOf:function(t){return a(i(t))}})},8410:function(t,e,n){var r=n(2109),o=n(7293),i=n(111),a=n(4326),u=n(7556),c=Object.isFrozen,s=u||o((function(){c(1)}));r({target:"Object",stat:!0,forced:s},{isFrozen:function(t){return!i(t)||(!(!u||"ArrayBuffer"!=a(t))||!!c&&c(t))}})},7941:function(t,e,n){var r=n(2109),o=n(7908),i=n(1956),a=n(7293),u=a((function(){i(1)}));r({target:"Object",stat:!0,forced:u},{keys:function(t){return i(o(t))}})},7987:function(t,e,n){"use strict";var r=n(9781),o=n(7045),i=n(111),a=n(7908),u=n(4488),c=Object.getPrototypeOf,s=Object.setPrototypeOf,l=Object.prototype,f="__proto__";if(r&&c&&s&&!(f in l))try{o(l,f,{configurable:!0,get:function(){return c(a(this))},set:function(t){var e=u(this);(i(t)||null===t)&&i(e)&&s(e,t)}})}catch(d){}},514:function(t,e,n){var r=n(2109),o=n(111),i=n(2423).onFreeze,a=n(6677),u=n(7293),c=Object.seal,s=u((function(){c(1)}));r({target:"Object",stat:!0,forced:s,sham:!a},{seal:function(t){return c&&o(t)?c(i(t)):t}})},8304:function(t,e,n){var r=n(2109),o=n(7674);r({target:"Object",stat:!0},{setPrototypeOf:o})},1539:function(t,e,n){var r=n(1694),o=n(8052),i=n(288);r||o(Object.prototype,"toString",i,{unsafe:!0})},4678:function(t,e,n){var r=n(2109),o=n(2814);r({global:!0,forced:parseFloat!=o},{parseFloat:o})},1058:function(t,e,n){var r=n(2109),o=n(3009);r({global:!0,forced:parseInt!=o},{parseInt:o})},7922:function(t,e,n){"use strict";var r=n(2109),o=n(6916),i=n(9662),a=n(8523),u=n(2534),c=n(408),s=n(612);r({target:"Promise",stat:!0,forced:s},{allSettled:function(t){var e=this,n=a.f(e),r=n.resolve,s=n.reject,l=u((function(){var n=i(e.resolve),a=[],u=0,s=1;c(t,(function(t){var i=u++,c=!1;s++,o(n,e,t).then((function(t){c||(c=!0,a[i]={status:"fulfilled",value:t},--s||r(a))}),(function(t){c||(c=!0,a[i]={status:"rejected",reason:t},--s||r(a))}))})),--s||r(a)}));return l.error&&s(l.value),n.promise}})},821:function(t,e,n){"use strict";var r=n(2109),o=n(6916),i=n(9662),a=n(8523),u=n(2534),c=n(408),s=n(612);r({target:"Promise",stat:!0,forced:s},{all:function(t){var e=this,n=a.f(e),r=n.resolve,s=n.reject,l=u((function(){var n=i(e.resolve),a=[],u=0,l=1;c(t,(function(t){var i=u++,c=!1;l++,o(n,e,t).then((function(t){c||(c=!0,a[i]=t,--l||r(a))}),s)})),--l||r(a)}));return l.error&&s(l.value),n.promise}})},4164:function(t,e,n){"use strict";var r=n(2109),o=n(1913),i=n(3702).CONSTRUCTOR,a=n(2492),u=n(5005),c=n(614),s=n(8052),l=a&&a.prototype;if(r({target:"Promise",proto:!0,forced:i,real:!0},{catch:function(t){return this.then(void 0,t)}}),!o&&c(a)){var f=u("Promise").prototype["catch"];l["catch"]!==f&&s(l,"catch",f,{unsafe:!0})}},3401:function(t,e,n){"use strict";var r,o,i,a,u=n(2109),c=n(1913),s=n(5268),l=n(7854),f=n(6916),d=n(8052),p=n(7674),m=n(8003),h=n(6340),v=n(9662),g=n(614),b=n(111),y=n(5787),x=n(6707),w=n(261).set,_=n(5948),C=n(842),k=n(2534),O=n(8572),S=n(9909),E=n(2492),T=n(3702),A=n(8523),N="Promise",R=T.CONSTRUCTOR,D=T.REJECTION_EVENT,P=T.SUBCLASSING,M=S.getterFor(N),B=S.set,L=E&&E.prototype,I=E,j=L,F=l.TypeError,q=l.document,z=l.process,U=A.f,H=U,V=!!(q&&q.createEvent&&l.dispatchEvent),W="unhandledrejection",$="rejectionhandled",G=0,K=1,Y=2,X=1,Z=2,J=function(t){var e;return!(!b(t)||!g(e=t.then))&&e},Q=function(t,e){var n,r,o,i=e.value,a=e.state==K,u=a?t.ok:t.fail,c=t.resolve,s=t.reject,l=t.domain;try{u?(a||(e.rejection===Z&&ot(e),e.rejection=X),!0===u?n=i:(l&&l.enter(),n=u(i),l&&(l.exit(),o=!0)),n===t.promise?s(F("Promise-chain cycle")):(r=J(n))?f(r,n,c,s):c(n)):s(i)}catch(d){l&&!o&&l.exit(),s(d)}},tt=function(t,e){t.notified||(t.notified=!0,_((function(){var n,r=t.reactions;while(n=r.get())Q(n,t);t.notified=!1,e&&!t.rejection&&nt(t)})))},et=function(t,e,n){var r,o;V?(r=q.createEvent("Event"),r.promise=e,r.reason=n,r.initEvent(t,!1,!0),l.dispatchEvent(r)):r={promise:e,reason:n},!D&&(o=l["on"+t])?o(r):t===W&&C("Unhandled promise rejection",n)},nt=function(t){f(w,l,(function(){var e,n=t.facade,r=t.value,o=rt(t);if(o&&(e=k((function(){s?z.emit("unhandledRejection",r,n):et(W,n,r)})),t.rejection=s||rt(t)?Z:X,e.error))throw e.value}))},rt=function(t){return t.rejection!==X&&!t.parent},ot=function(t){f(w,l,(function(){var e=t.facade;s?z.emit("rejectionHandled",e):et($,e,t.value)}))},it=function(t,e,n){return function(r){t(e,r,n)}},at=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=Y,tt(t,!0))},ut=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw F("Promise can't be resolved itself");var r=J(e);r?_((function(){var n={done:!1};try{f(r,e,it(ut,n,t),it(at,n,t))}catch(o){at(n,o,t)}})):(t.value=e,t.state=K,tt(t,!1))}catch(o){at({done:!1},o,t)}}};if(R&&(I=function(t){y(this,j),v(t),f(r,this);var e=M(this);try{t(it(ut,e),it(at,e))}catch(n){at(e,n)}},j=I.prototype,r=function(t){B(this,{type:N,done:!1,notified:!1,parent:!1,reactions:new O,rejection:!1,state:G,value:void 0})},r.prototype=d(j,"then",(function(t,e){var n=M(this),r=U(x(this,I));return n.parent=!0,r.ok=!g(t)||t,r.fail=g(e)&&e,r.domain=s?z.domain:void 0,n.state==G?n.reactions.add(r):_((function(){Q(r,n)})),r.promise})),o=function(){var t=new r,e=M(t);this.promise=t,this.resolve=it(ut,e),this.reject=it(at,e)},A.f=U=function(t){return t===I||t===i?new o(t):H(t)},!c&&g(E)&&L!==Object.prototype)){a=L.then,P||d(L,"then",(function(t,e){var n=this;return new I((function(t,e){f(a,n,t,e)})).then(t,e)}),{unsafe:!0});try{delete L.constructor}catch(ct){}p&&p(L,j)}u({global:!0,constructor:!0,wrap:!0,forced:R},{Promise:I}),m(I,N,!1,!0),h(N)},7727:function(t,e,n){"use strict";var r=n(2109),o=n(1913),i=n(2492),a=n(7293),u=n(5005),c=n(614),s=n(6707),l=n(9478),f=n(8052),d=i&&i.prototype,p=!!i&&a((function(){d["finally"].call({then:function(){}},(function(){}))}));if(r({target:"Promise",proto:!0,real:!0,forced:p},{finally:function(t){var e=s(this,u("Promise")),n=c(t);return this.then(n?function(n){return l(e,t()).then((function(){return n}))}:t,n?function(n){return l(e,t()).then((function(){throw n}))}:t)}}),!o&&c(i)){var m=u("Promise").prototype["finally"];d["finally"]!==m&&f(d,"finally",m,{unsafe:!0})}},8674:function(t,e,n){n(3401),n(821),n(4164),n(6027),n(683),n(6294)},6027:function(t,e,n){"use strict";var r=n(2109),o=n(6916),i=n(9662),a=n(8523),u=n(2534),c=n(408),s=n(612);r({target:"Promise",stat:!0,forced:s},{race:function(t){var e=this,n=a.f(e),r=n.reject,s=u((function(){var a=i(e.resolve);c(t,(function(t){o(a,e,t).then(n.resolve,r)}))}));return s.error&&r(s.value),n.promise}})},683:function(t,e,n){"use strict";var r=n(2109),o=n(6916),i=n(8523),a=n(3702).CONSTRUCTOR;r({target:"Promise",stat:!0,forced:a},{reject:function(t){var e=i.f(this);return o(e.reject,void 0,t),e.promise}})},6294:function(t,e,n){"use strict";var r=n(2109),o=n(5005),i=n(1913),a=n(2492),u=n(3702).CONSTRUCTOR,c=n(9478),s=o("Promise"),l=i&&!u;r({target:"Promise",stat:!0,forced:i||u},{resolve:function(t){return c(l&&this===s?a:this,t)}})},6535:function(t,e,n){var r=n(2109),o=n(2104),i=n(9662),a=n(9670),u=n(7293),c=!u((function(){Reflect.apply((function(){}))}));r({target:"Reflect",stat:!0,forced:c},{apply:function(t,e,n){return o(i(t),e,a(n))}})},5706:function(t,e,n){var r=n(2109),o=n(5005),i=n(2104),a=n(7065),u=n(9483),c=n(9670),s=n(111),l=n(30),f=n(7293),d=o("Reflect","construct"),p=Object.prototype,m=[].push,h=f((function(){function t(){}return!(d((function(){}),[],t)instanceof t)})),v=!f((function(){d((function(){}))})),g=h||v;r({target:"Reflect",stat:!0,forced:g,sham:g},{construct:function(t,e){u(t),c(e);var n=arguments.length<3?t:u(arguments[2]);if(v&&!h)return d(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return i(m,r,e),new(i(a,t,r))}var o=n.prototype,f=l(s(o)?o:p),g=i(t,f,e);return s(g)?g:f}})},1299:function(t,e,n){var r=n(2109),o=n(7854),i=n(8003);r({global:!0},{Reflect:{}}),i(o.Reflect,"Reflect",!0)},4603:function(t,e,n){var r=n(9781),o=n(7854),i=n(1702),a=n(4705),u=n(9587),c=n(8880),s=n(8006).f,l=n(7976),f=n(7850),d=n(1340),p=n(4706),m=n(2999),h=n(2626),v=n(8052),g=n(7293),b=n(2597),y=n(9909).enforce,x=n(6340),w=n(5112),_=n(9441),C=n(7168),k=w("match"),O=o.RegExp,S=O.prototype,E=o.SyntaxError,T=i(S.exec),A=i("".charAt),N=i("".replace),R=i("".indexOf),D=i("".slice),P=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,M=/a/g,B=/a/g,L=new O(M)!==M,I=m.MISSED_STICKY,j=m.UNSUPPORTED_Y,F=r&&(!L||I||_||C||g((function(){return B[k]=!1,O(M)!=M||O(B)==B||"/a/i"!=O(M,"i")}))),q=function(t){for(var e,n=t.length,r=0,o="",i=!1;r<=n;r++)e=A(t,r),"\\"!==e?i||"."!==e?("["===e?i=!0:"]"===e&&(i=!1),o+=e):o+="[\\s\\S]":o+=e+A(t,++r);return o},z=function(t){for(var e,n=t.length,r=0,o="",i=[],a={},u=!1,c=!1,s=0,l="";r<=n;r++){if(e=A(t,r),"\\"===e)e+=A(t,++r);else if("]"===e)u=!1;else if(!u)switch(!0){case"["===e:u=!0;break;case"("===e:T(P,D(t,r+1))&&(r+=2,c=!0),o+=e,s++;continue;case">"===e&&c:if(""===l||b(a,l))throw new E("Invalid capture group name");a[l]=!0,i[i.length]=[l,s],c=!1,l="";continue}c?l+=e:o+=e}return[o,i]};if(a("RegExp",F)){for(var U=function(t,e){var n,r,o,i,a,s,m=l(S,this),h=f(t),v=void 0===e,g=[],b=t;if(!m&&h&&v&&t.constructor===U)return t;if((h||l(S,t))&&(t=t.source,v&&(e=p(b))),t=void 0===t?"":d(t),e=void 0===e?"":d(e),b=t,_&&"dotAll"in M&&(r=!!e&&R(e,"s")>-1,r&&(e=N(e,/s/g,""))),n=e,I&&"sticky"in M&&(o=!!e&&R(e,"y")>-1,o&&j&&(e=N(e,/y/g,""))),C&&(i=z(t),t=i[0],g=i[1]),a=u(O(t,e),m?this:S,U),(r||o||g.length)&&(s=y(a),r&&(s.dotAll=!0,s.raw=U(q(t),n)),o&&(s.sticky=!0),g.length&&(s.groups=g)),t!==b)try{c(a,"source",""===b?"(?:)":b)}catch(x){}return a},H=s(O),V=0;H.length>V;)h(U,O,H[V++]);S.constructor=U,U.prototype=S,v(o,"RegExp",U,{constructor:!0})}x("RegExp")},8450:function(t,e,n){var r=n(9781),o=n(9441),i=n(4326),a=n(7045),u=n(9909).get,c=RegExp.prototype,s=TypeError;r&&o&&a(c,"dotAll",{configurable:!0,get:function(){if(this!==c){if("RegExp"===i(this))return!!u(this).dotAll;throw s("Incompatible receiver, RegExp required")}}})},4916:function(t,e,n){"use strict";var r=n(2109),o=n(2261);r({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},8386:function(t,e,n){var r=n(9781),o=n(2999).MISSED_STICKY,i=n(4326),a=n(7045),u=n(9909).get,c=RegExp.prototype,s=TypeError;r&&o&&a(c,"sticky",{configurable:!0,get:function(){if(this!==c){if("RegExp"===i(this))return!!u(this).sticky;throw s("Incompatible receiver, RegExp required")}}})},7601:function(t,e,n){"use strict";n(4916);var r=n(2109),o=n(6916),i=n(614),a=n(9670),u=n(1340),c=function(){var t=!1,e=/[ac]/;return e.exec=function(){return t=!0,/./.exec.apply(this,arguments)},!0===e.test("abc")&&t}(),s=/./.test;r({target:"RegExp",proto:!0,forced:!c},{test:function(t){var e=a(this),n=u(t),r=e.exec;if(!i(r))return o(s,e,n);var c=o(r,e,n);return null!==c&&(a(c),!0)}})},9714:function(t,e,n){"use strict";var r=n(6530).PROPER,o=n(8052),i=n(9670),a=n(1340),u=n(7293),c=n(4706),s="toString",l=RegExp.prototype,f=l[s],d=u((function(){return"/a/b"!=f.call({source:"a",flags:"b"})})),p=r&&f.name!=s;(d||p)&&o(RegExp.prototype,s,(function(){var t=i(this),e=a(t.source),n=a(c(t));return"/"+e+"/"+n}),{unsafe:!0})},7227:function(t,e,n){"use strict";var r=n(7710),o=n(5631);r("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),o)},189:function(t,e,n){n(7227)},5218:function(t,e,n){"use strict";var r=n(2109),o=n(4230),i=n(3429);r({target:"String",proto:!0,forced:i("anchor")},{anchor:function(t){return o(this,"a","name",t)}})},9253:function(t,e,n){"use strict";var r=n(2109),o=n(4230),i=n(3429);r({target:"String",proto:!0,forced:i("fixed")},{fixed:function(){return o(this,"tt","","")}})},8783:function(t,e,n){"use strict";var r=n(8710).charAt,o=n(1340),i=n(9909),a=n(1656),u=n(6178),c="String Iterator",s=i.set,l=i.getterFor(c);a(String,"String",(function(t){s(this,{type:c,string:o(t),index:0})}),(function(){var t,e=l(this),n=e.string,o=e.index;return o>=n.length?u(void 0,!0):(t=r(n,o),e.index+=t.length,u(t,!1))}))},9254:function(t,e,n){"use strict";var r=n(2109),o=n(4230),i=n(3429);r({target:"String",proto:!0,forced:i("link")},{link:function(t){return o(this,"a","href",t)}})},6373:function(t,e,n){"use strict";var r=n(2109),o=n(6916),i=n(1470),a=n(3061),u=n(6178),c=n(4488),s=n(7466),l=n(1340),f=n(9670),d=n(8554),p=n(4326),m=n(7850),h=n(4706),v=n(8173),g=n(8052),b=n(7293),y=n(5112),x=n(6707),w=n(1530),_=n(7651),C=n(9909),k=n(1913),O=y("matchAll"),S="RegExp String",E=S+" Iterator",T=C.set,A=C.getterFor(E),N=RegExp.prototype,R=TypeError,D=i("".indexOf),P=i("".matchAll),M=!!P&&!b((function(){P("a",/./)})),B=a((function(t,e,n,r){T(this,{type:E,regexp:t,string:e,global:n,unicode:r,done:!1})}),S,(function(){var t=A(this);if(t.done)return u(void 0,!0);var e=t.regexp,n=t.string,r=_(e,n);return null===r?(t.done=!0,u(void 0,!0)):t.global?(""===l(r[0])&&(e.lastIndex=w(n,s(e.lastIndex),t.unicode)),u(r,!1)):(t.done=!0,u(r,!1))})),L=function(t){var e,n,r,o=f(this),i=l(t),a=x(o,RegExp),u=l(h(o));return e=new a(a===RegExp?o.source:o,u),n=!!~D(u,"g"),r=!!~D(u,"u"),e.lastIndex=s(o.lastIndex),new B(e,i,n,r)};r({target:"String",proto:!0,forced:M},{matchAll:function(t){var e,n,r,i,a=c(this);if(d(t)){if(M)return P(a,t)}else{if(m(t)&&(e=l(c(h(t))),!~D(e,"g")))throw R("`.matchAll` does not allow non-global regexes");if(M)return P(a,t);if(r=v(t,O),void 0===r&&k&&"RegExp"==p(t)&&(r=L),r)return o(r,t,a)}return n=l(a),i=new RegExp(t,"g"),k?o(L,i,n):i[O](n)}}),k||O in N||g(N,O,L)},4723:function(t,e,n){"use strict";var r=n(6916),o=n(7007),i=n(9670),a=n(8554),u=n(7466),c=n(1340),s=n(4488),l=n(8173),f=n(1530),d=n(7651);o("match",(function(t,e,n){return[function(e){var n=s(this),o=a(e)?void 0:l(e,t);return o?r(o,e,n):new RegExp(e)[t](c(n))},function(t){var r=i(this),o=c(t),a=n(e,r,o);if(a.done)return a.value;if(!r.global)return d(r,o);var s=r.unicode;r.lastIndex=0;var l,p=[],m=0;while(null!==(l=d(r,o))){var h=c(l[0]);p[m]=h,""===h&&(r.lastIndex=f(o,u(r.lastIndex),s)),m++}return 0===m?null:p}]}))},5306:function(t,e,n){"use strict";var r=n(2104),o=n(6916),i=n(1702),a=n(7007),u=n(7293),c=n(9670),s=n(614),l=n(8554),f=n(9303),d=n(7466),p=n(1340),m=n(4488),h=n(1530),v=n(8173),g=n(647),b=n(7651),y=n(5112),x=y("replace"),w=Math.max,_=Math.min,C=i([].concat),k=i([].push),O=i("".indexOf),S=i("".slice),E=function(t){return void 0===t?t:String(t)},T=function(){return"$0"==="a".replace(/./,"$0")}(),A=function(){return!!/./[x]&&""===/./[x]("a","$0")}(),N=!u((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}));a("replace",(function(t,e,n){var i=A?"$":"$0";return[function(t,n){var r=m(this),i=l(t)?void 0:v(t,x);return i?o(i,t,r,n):o(e,p(r),t,n)},function(t,o){var a=c(this),u=p(t);if("string"==typeof o&&-1===O(o,i)&&-1===O(o,"$<")){var l=n(e,a,u,o);if(l.done)return l.value}var m=s(o);m||(o=p(o));var v=a.global;if(v){var y=a.unicode;a.lastIndex=0}var x=[];while(1){var T=b(a,u);if(null===T)break;if(k(x,T),!v)break;var A=p(T[0]);""===A&&(a.lastIndex=h(u,d(a.lastIndex),y))}for(var N="",R=0,D=0;D<x.length;D++){T=x[D];for(var P=p(T[0]),M=w(_(f(T.index),u.length),0),B=[],L=1;L<T.length;L++)k(B,E(T[L]));var I=T.groups;if(m){var j=C([P],B,M,u);void 0!==I&&k(j,I);var F=p(r(o,void 0,j))}else F=g(P,u,M,B,I,o);M>=R&&(N+=S(u,R,M)+F,R=M+P.length)}return N+S(u,R)}]}),!N||!T||A)},4765:function(t,e,n){"use strict";var r=n(6916),o=n(7007),i=n(9670),a=n(8554),u=n(4488),c=n(1150),s=n(1340),l=n(8173),f=n(7651);o("search",(function(t,e,n){return[function(e){var n=u(this),o=a(e)?void 0:l(e,t);return o?r(o,e,n):new RegExp(e)[t](s(n))},function(t){var r=i(this),o=s(t),a=n(e,r,o);if(a.done)return a.value;var u=r.lastIndex;c(u,0)||(r.lastIndex=0);var l=f(r,o);return c(r.lastIndex,u)||(r.lastIndex=u),null===l?-1:l.index}]}))},3123:function(t,e,n){"use strict";var r=n(2104),o=n(6916),i=n(1702),a=n(7007),u=n(9670),c=n(8554),s=n(7850),l=n(4488),f=n(6707),d=n(1530),p=n(7466),m=n(1340),h=n(8173),v=n(1589),g=n(7651),b=n(2261),y=n(2999),x=n(7293),w=y.UNSUPPORTED_Y,_=4294967295,C=Math.min,k=[].push,O=i(/./.exec),S=i(k),E=i("".slice),T=!x((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));a("split",(function(t,e,n){var i;return i="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var i=m(l(this)),a=void 0===n?_:n>>>0;if(0===a)return[];if(void 0===t)return[i];if(!s(t))return o(e,i,t,a);var u,c,f,d=[],p=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),h=0,g=new RegExp(t.source,p+"g");while(u=o(b,g,i)){if(c=g.lastIndex,c>h&&(S(d,E(i,h,u.index)),u.length>1&&u.index<i.length&&r(k,d,v(u,1)),f=u[0].length,h=c,d.length>=a))break;g.lastIndex===u.index&&g.lastIndex++}return h===i.length?!f&&O(g,"")||S(d,""):S(d,E(i,h)),d.length>a?v(d,0,a):d}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:o(e,this,t,n)}:e,[function(e,n){var r=l(this),a=c(e)?void 0:h(e,t);return a?o(a,e,r,n):o(i,m(r),e,n)},function(t,r){var o=u(this),a=m(t),c=n(i,o,a,r,i!==e);if(c.done)return c.value;var s=f(o,RegExp),l=o.unicode,h=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(w?"g":"y"),v=new s(w?"^(?:"+o.source+")":o,h),b=void 0===r?_:r>>>0;if(0===b)return[];if(0===a.length)return null===g(v,a)?[a]:[];var y=0,x=0,k=[];while(x<a.length){v.lastIndex=w?0:x;var O,T=g(v,w?E(a,x):a);if(null===T||(O=C(p(v.lastIndex+(w?x:0)),a.length))===y)x=d(a,x,l);else{if(S(k,E(a,y,x)),k.length===b)return k;for(var A=1;A<=T.length-1;A++)if(S(k,T[A]),k.length===b)return k;x=y=O}}return S(k,E(a,y)),k}]}),!T,w)},86:function(t,e,n){"use strict";var r=n(2109),o=n(4230),i=n(3429);r({target:"String",proto:!0,forced:i("sub")},{sub:function(){return o(this,"sub","","")}})},3210:function(t,e,n){"use strict";var r=n(2109),o=n(3111).trim,i=n(6091);r({target:"String",proto:!0,forced:i("trim")},{trim:function(){return o(this)}})},2443:function(t,e,n){var r=n(6800);r("asyncIterator")},4032:function(t,e,n){"use strict";var r=n(2109),o=n(7854),i=n(6916),a=n(1702),u=n(1913),c=n(9781),s=n(6293),l=n(7293),f=n(2597),d=n(7976),p=n(9670),m=n(5656),h=n(4948),v=n(1340),g=n(9114),b=n(30),y=n(1956),x=n(8006),w=n(1156),_=n(5181),C=n(1236),k=n(3070),O=n(6048),S=n(5296),E=n(8052),T=n(7045),A=n(2309),N=n(6200),R=n(3501),D=n(9711),P=n(5112),M=n(6061),B=n(6800),L=n(6532),I=n(8003),j=n(9909),F=n(2092).forEach,q=N("hidden"),z="Symbol",U="prototype",H=j.set,V=j.getterFor(z),W=Object[U],$=o.Symbol,G=$&&$[U],K=o.TypeError,Y=o.QObject,X=C.f,Z=k.f,J=w.f,Q=S.f,tt=a([].push),et=A("symbols"),nt=A("op-symbols"),rt=A("wks"),ot=!Y||!Y[U]||!Y[U].findChild,it=c&&l((function(){return 7!=b(Z({},"a",{get:function(){return Z(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=X(W,e);r&&delete W[e],Z(t,e,n),r&&t!==W&&Z(W,e,r)}:Z,at=function(t,e){var n=et[t]=b(G);return H(n,{type:z,tag:t,description:e}),c||(n.description=e),n},ut=function(t,e,n){t===W&&ut(nt,e,n),p(t);var r=h(e);return p(n),f(et,r)?(n.enumerable?(f(t,q)&&t[q][r]&&(t[q][r]=!1),n=b(n,{enumerable:g(0,!1)})):(f(t,q)||Z(t,q,g(1,{})),t[q][r]=!0),it(t,r,n)):Z(t,r,n)},ct=function(t,e){p(t);var n=m(e),r=y(n).concat(pt(n));return F(r,(function(e){c&&!i(lt,n,e)||ut(t,e,n[e])})),t},st=function(t,e){return void 0===e?b(t):ct(b(t),e)},lt=function(t){var e=h(t),n=i(Q,this,e);return!(this===W&&f(et,e)&&!f(nt,e))&&(!(n||!f(this,e)||!f(et,e)||f(this,q)&&this[q][e])||n)},ft=function(t,e){var n=m(t),r=h(e);if(n!==W||!f(et,r)||f(nt,r)){var o=X(n,r);return!o||!f(et,r)||f(n,q)&&n[q][r]||(o.enumerable=!0),o}},dt=function(t){var e=J(m(t)),n=[];return F(e,(function(t){f(et,t)||f(R,t)||tt(n,t)})),n},pt=function(t){var e=t===W,n=J(e?nt:m(t)),r=[];return F(n,(function(t){!f(et,t)||e&&!f(W,t)||tt(r,et[t])})),r};s||($=function(){if(d(G,this))throw K("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?v(arguments[0]):void 0,e=D(t),n=function(t){this===W&&i(n,nt,t),f(this,q)&&f(this[q],e)&&(this[q][e]=!1),it(this,e,g(1,t))};return c&&ot&&it(W,e,{configurable:!0,set:n}),at(e,t)},G=$[U],E(G,"toString",(function(){return V(this).tag})),E($,"withoutSetter",(function(t){return at(D(t),t)})),S.f=lt,k.f=ut,O.f=ct,C.f=ft,x.f=w.f=dt,_.f=pt,M.f=function(t){return at(P(t),t)},c&&(T(G,"description",{configurable:!0,get:function(){return V(this).description}}),u||E(W,"propertyIsEnumerable",lt,{unsafe:!0}))),r({global:!0,constructor:!0,wrap:!0,forced:!s,sham:!s},{Symbol:$}),F(y(rt),(function(t){B(t)})),r({target:z,stat:!0,forced:!s},{useSetter:function(){ot=!0},useSimple:function(){ot=!1}}),r({target:"Object",stat:!0,forced:!s,sham:!c},{create:st,defineProperty:ut,defineProperties:ct,getOwnPropertyDescriptor:ft}),r({target:"Object",stat:!0,forced:!s},{getOwnPropertyNames:dt}),L(),I($,z),R[q]=!0},1817:function(t,e,n){"use strict";var r=n(2109),o=n(9781),i=n(7854),a=n(1702),u=n(2597),c=n(614),s=n(7976),l=n(1340),f=n(7045),d=n(9920),p=i.Symbol,m=p&&p.prototype;if(o&&c(p)&&(!("description"in m)||void 0!==p().description)){var h={},v=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:l(arguments[0]),e=s(m,this)?new p(t):void 0===t?p():p(t);return""===t&&(h[e]=!0),e};d(v,p),v.prototype=m,m.constructor=v;var g="Symbol(test)"==String(p("test")),b=a(m.valueOf),y=a(m.toString),x=/^Symbol\((.*)\)[^)]+$/,w=a("".replace),_=a("".slice);f(m,"description",{configurable:!0,get:function(){var t=b(this);if(u(h,t))return"";var e=y(t),n=g?_(e,7,-1):w(e,x,"$1");return""===n?void 0:n}}),r({global:!0,constructor:!0,forced:!0},{Symbol:v})}},763:function(t,e,n){var r=n(2109),o=n(5005),i=n(2597),a=n(1340),u=n(2309),c=n(2015),s=u("string-to-symbol-registry"),l=u("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!c},{for:function(t){var e=a(t);if(i(s,e))return s[e];var n=o("Symbol")(e);return s[e]=n,l[n]=e,n}})},2165:function(t,e,n){var r=n(6800);r("iterator")},2526:function(t,e,n){n(4032),n(763),n(6620),n(8862),n(9660)},6620:function(t,e,n){var r=n(2109),o=n(2597),i=n(2190),a=n(6330),u=n(2309),c=n(2015),s=u("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!c},{keyFor:function(t){if(!i(t))throw TypeError(a(t)+" is not a symbol");if(o(s,t))return s[t]}})},6649:function(t,e,n){var r=n(6800),o=n(6532);r("toPrimitive"),o()},9341:function(t,e,n){var r=n(5005),o=n(6800),i=n(8003);o("toStringTag"),i(r("Symbol"),"Symbol")},8675:function(t,e,n){"use strict";var r=n(260),o=n(6244),i=n(9303),a=r.aTypedArray,u=r.exportTypedArrayMethod;u("at",(function(t){var e=a(this),n=o(e),r=i(t),u=r>=0?r:n+r;return u<0||u>=n?void 0:e[u]}))},2990:function(t,e,n){"use strict";var r=n(1702),o=n(260),i=n(1048),a=r(i),u=o.aTypedArray,c=o.exportTypedArrayMethod;c("copyWithin",(function(t,e){return a(u(this),t,e,arguments.length>2?arguments[2]:void 0)}))},8927:function(t,e,n){"use strict";var r=n(260),o=n(2092).every,i=r.aTypedArray,a=r.exportTypedArrayMethod;a("every",(function(t){return o(i(this),t,arguments.length>1?arguments[1]:void 0)}))},3105:function(t,e,n){"use strict";var r=n(260),o=n(1285),i=n(4599),a=n(648),u=n(6916),c=n(1702),s=n(7293),l=r.aTypedArray,f=r.exportTypedArrayMethod,d=c("".slice),p=s((function(){var t=0;return new Int8Array(2).fill({valueOf:function(){return t++}}),1!==t}));f("fill",(function(t){var e=arguments.length;l(this);var n="Big"===d(a(this),0,3)?i(t):+t;return u(o,this,n,e>1?arguments[1]:void 0,e>2?arguments[2]:void 0)}),p)},5035:function(t,e,n){"use strict";var r=n(260),o=n(2092).filter,i=n(3074),a=r.aTypedArray,u=r.exportTypedArrayMethod;u("filter",(function(t){var e=o(a(this),t,arguments.length>1?arguments[1]:void 0);return i(this,e)}))},7174:function(t,e,n){"use strict";var r=n(260),o=n(2092).findIndex,i=r.aTypedArray,a=r.exportTypedArrayMethod;a("findIndex",(function(t){return o(i(this),t,arguments.length>1?arguments[1]:void 0)}))},2958:function(t,e,n){"use strict";var r=n(260),o=n(9671).findLastIndex,i=r.aTypedArray,a=r.exportTypedArrayMethod;a("findLastIndex",(function(t){return o(i(this),t,arguments.length>1?arguments[1]:void 0)}))},3408:function(t,e,n){"use strict";var r=n(260),o=n(9671).findLast,i=r.aTypedArray,a=r.exportTypedArrayMethod;a("findLast",(function(t){return o(i(this),t,arguments.length>1?arguments[1]:void 0)}))},4345:function(t,e,n){"use strict";var r=n(260),o=n(2092).find,i=r.aTypedArray,a=r.exportTypedArrayMethod;a("find",(function(t){return o(i(this),t,arguments.length>1?arguments[1]:void 0)}))},2846:function(t,e,n){"use strict";var r=n(260),o=n(2092).forEach,i=r.aTypedArray,a=r.exportTypedArrayMethod;a("forEach",(function(t){o(i(this),t,arguments.length>1?arguments[1]:void 0)}))},4731:function(t,e,n){"use strict";var r=n(260),o=n(1318).includes,i=r.aTypedArray,a=r.exportTypedArrayMethod;a("includes",(function(t){return o(i(this),t,arguments.length>1?arguments[1]:void 0)}))},7209:function(t,e,n){"use strict";var r=n(260),o=n(1318).indexOf,i=r.aTypedArray,a=r.exportTypedArrayMethod;a("indexOf",(function(t){return o(i(this),t,arguments.length>1?arguments[1]:void 0)}))},6319:function(t,e,n){"use strict";var r=n(7854),o=n(7293),i=n(1702),a=n(260),u=n(6992),c=n(5112),s=c("iterator"),l=r.Uint8Array,f=i(u.values),d=i(u.keys),p=i(u.entries),m=a.aTypedArray,h=a.exportTypedArrayMethod,v=l&&l.prototype,g=!o((function(){v[s].call([1])})),b=!!v&&v.values&&v[s]===v.values&&"values"===v.values.name,y=function(){return f(m(this))};h("entries",(function(){return p(m(this))}),g),h("keys",(function(){return d(m(this))}),g),h("values",y,g||!b,{name:"values"}),h(s,y,g||!b,{name:"values"})},8867:function(t,e,n){"use strict";var r=n(260),o=n(1702),i=r.aTypedArray,a=r.exportTypedArrayMethod,u=o([].join);a("join",(function(t){return u(i(this),t)}))},7789:function(t,e,n){"use strict";var r=n(260),o=n(2104),i=n(6583),a=r.aTypedArray,u=r.exportTypedArrayMethod;u("lastIndexOf",(function(t){var e=arguments.length;return o(i,a(this),e>1?[t,arguments[1]]:[t])}))},3739:function(t,e,n){"use strict";var r=n(260),o=n(2092).map,i=n(6304),a=r.aTypedArray,u=r.exportTypedArrayMethod;u("map",(function(t){return o(a(this),t,arguments.length>1?arguments[1]:void 0,(function(t,e){return new(i(t))(e)}))}))},4483:function(t,e,n){"use strict";var r=n(260),o=n(3671).right,i=r.aTypedArray,a=r.exportTypedArrayMethod;a("reduceRight",(function(t){var e=arguments.length;return o(i(this),t,e,e>1?arguments[1]:void 0)}))},9368:function(t,e,n){"use strict";var r=n(260),o=n(3671).left,i=r.aTypedArray,a=r.exportTypedArrayMethod;a("reduce",(function(t){var e=arguments.length;return o(i(this),t,e,e>1?arguments[1]:void 0)}))},2056:function(t,e,n){"use strict";var r=n(260),o=r.aTypedArray,i=r.exportTypedArrayMethod,a=Math.floor;i("reverse",(function(){var t,e=this,n=o(e).length,r=a(n/2),i=0;while(i<r)t=e[i],e[i++]=e[--n],e[n]=t;return e}))},3462:function(t,e,n){"use strict";var r=n(7854),o=n(6916),i=n(260),a=n(6244),u=n(4590),c=n(7908),s=n(7293),l=r.RangeError,f=r.Int8Array,d=f&&f.prototype,p=d&&d.set,m=i.aTypedArray,h=i.exportTypedArrayMethod,v=!s((function(){var t=new Uint8ClampedArray(2);return o(p,t,{length:1,0:3},1),3!==t[1]})),g=v&&i.NATIVE_ARRAY_BUFFER_VIEWS&&s((function(){var t=new f(2);return t.set(1),t.set("2",1),0!==t[0]||2!==t[1]}));h("set",(function(t){m(this);var e=u(arguments.length>1?arguments[1]:void 0,1),n=c(t);if(v)return o(p,this,n,e);var r=this.length,i=a(n),s=0;if(i+e>r)throw l("Wrong length");while(s<i)this[e+s]=n[s++]}),!v||g)},678:function(t,e,n){"use strict";var r=n(260),o=n(6304),i=n(7293),a=n(206),u=r.aTypedArray,c=r.exportTypedArrayMethod,s=i((function(){new Int8Array(1).slice()}));c("slice",(function(t,e){var n=a(u(this),t,e),r=o(this),i=0,c=n.length,s=new r(c);while(c>i)s[i]=n[i++];return s}),s)},7462:function(t,e,n){"use strict";var r=n(260),o=n(2092).some,i=r.aTypedArray,a=r.exportTypedArrayMethod;a("some",(function(t){return o(i(this),t,arguments.length>1?arguments[1]:void 0)}))},3824:function(t,e,n){"use strict";var r=n(7854),o=n(1470),i=n(7293),a=n(9662),u=n(4362),c=n(260),s=n(8886),l=n(256),f=n(7392),d=n(8008),p=c.aTypedArray,m=c.exportTypedArrayMethod,h=r.Uint16Array,v=h&&o(h.prototype.sort),g=!!v&&!(i((function(){v(new h(2),null)}))&&i((function(){v(new h(2),{})}))),b=!!v&&!i((function(){if(f)return f<74;if(s)return s<67;if(l)return!0;if(d)return d<602;var t,e,n=new h(516),r=Array(516);for(t=0;t<516;t++)e=t%4,n[t]=515-t,r[t]=t-2*e+3;for(v(n,(function(t,e){return(t/4|0)-(e/4|0)})),t=0;t<516;t++)if(n[t]!==r[t])return!0})),y=function(t){return function(e,n){return void 0!==t?+t(e,n)||0:n!==n?-1:e!==e?1:0===e&&0===n?1/e>0&&1/n<0?1:-1:e>n}};m("sort",(function(t){return void 0!==t&&a(t),b?v(this,t):u(p(this),y(t))}),!b||g)},5021:function(t,e,n){"use strict";var r=n(260),o=n(7466),i=n(1400),a=n(6304),u=r.aTypedArray,c=r.exportTypedArrayMethod;c("subarray",(function(t,e){var n=u(this),r=n.length,c=i(t,r),s=a(n);return new s(n.buffer,n.byteOffset+c*n.BYTES_PER_ELEMENT,o((void 0===e?r:i(e,r))-c))}))},2974:function(t,e,n){"use strict";var r=n(7854),o=n(2104),i=n(260),a=n(7293),u=n(206),c=r.Int8Array,s=i.aTypedArray,l=i.exportTypedArrayMethod,f=[].toLocaleString,d=!!c&&a((function(){f.call(new c(1))})),p=a((function(){return[1,2].toLocaleString()!=new c([1,2]).toLocaleString()}))||!a((function(){c.prototype.toLocaleString.call([1,2])}));l("toLocaleString",(function(){return o(f,d?u(s(this)):s(this),u(arguments))}),p)},1439:function(t,e,n){"use strict";var r=n(1843),o=n(260),i=o.aTypedArray,a=o.exportTypedArrayMethod,u=o.getTypedArrayConstructor;a("toReversed",(function(){return r(i(this),u(this))}))},7585:function(t,e,n){"use strict";var r=n(260),o=n(1702),i=n(9662),a=n(7745),u=r.aTypedArray,c=r.getTypedArrayConstructor,s=r.exportTypedArrayMethod,l=o(r.TypedArrayPrototype.sort);s("toSorted",(function(t){void 0!==t&&i(t);var e=u(this),n=a(c(e),e);return l(n,t)}))},5016:function(t,e,n){"use strict";var r=n(260).exportTypedArrayMethod,o=n(7293),i=n(7854),a=n(1702),u=i.Uint8Array,c=u&&u.prototype||{},s=[].toString,l=a([].join);o((function(){s.call({})}))&&(s=function(){return l(this)});var f=c.toString!=s;r("toString",s,f)},2472:function(t,e,n){var r=n(9843);r("Uint8",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},5315:function(t,e,n){"use strict";var r=n(1572),o=n(260),i=n(4067),a=n(9303),u=n(4599),c=o.aTypedArray,s=o.getTypedArrayConstructor,l=o.exportTypedArrayMethod,f=!!function(){try{new Int8Array(1)["with"](2,{valueOf:function(){throw 8}})}catch(t){return 8===t}}();l("with",{with:function(t,e){var n=c(this),o=a(t),l=i(n)?u(e):+e;return r(n,s(n),o,l)}}["with"],!f)},1202:function(t,e,n){"use strict";var r,o=n(6677),i=n(7854),a=n(1702),u=n(9190),c=n(2423),s=n(7710),l=n(9320),f=n(111),d=n(9909).enforce,p=n(7293),m=n(4811),h=Object,v=Array.isArray,g=h.isExtensible,b=h.isFrozen,y=h.isSealed,x=h.freeze,w=h.seal,_={},C={},k=!i.ActiveXObject&&"ActiveXObject"in i,O=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},S=s("WeakMap",O,l),E=S.prototype,T=a(E.set),A=function(){return o&&p((function(){var t=x([]);return T(new S,t,1),!b(t)}))};if(m)if(k){r=l.getConstructor(O,"WeakMap",!0),c.enable();var N=a(E["delete"]),R=a(E.has),D=a(E.get);u(E,{delete:function(t){if(f(t)&&!g(t)){var e=d(this);return e.frozen||(e.frozen=new r),N(this,t)||e.frozen["delete"](t)}return N(this,t)},has:function(t){if(f(t)&&!g(t)){var e=d(this);return e.frozen||(e.frozen=new r),R(this,t)||e.frozen.has(t)}return R(this,t)},get:function(t){if(f(t)&&!g(t)){var e=d(this);return e.frozen||(e.frozen=new r),R(this,t)?D(this,t):e.frozen.get(t)}return D(this,t)},set:function(t,e){if(f(t)&&!g(t)){var n=d(this);n.frozen||(n.frozen=new r),R(this,t)?T(this,t,e):n.frozen.set(t,e)}else T(this,t,e);return this}})}else A()&&u(E,{set:function(t,e){var n;return v(t)&&(b(t)?n=_:y(t)&&(n=C)),T(this,t,e),n==_&&x(t),n==C&&w(t),this}})},4129:function(t,e,n){n(1202)},3767:function(t,e,n){n(1439)},8585:function(t,e,n){n(7585)},8696:function(t,e,n){n(5315)},5505:function(t,e,n){var r=n(2109),o=n(7854),i=n(5005),a=n(1702),u=n(6916),c=n(7293),s=n(1340),l=n(2597),f=n(8053),d=n(4170).ctoi,p=/[^\d+/a-z]/i,m=/[\t\n\f\r ]+/g,h=/[=]{1,2}$/,v=i("atob"),g=String.fromCharCode,b=a("".charAt),y=a("".replace),x=a(p.exec),w=c((function(){return""!==v(" ")})),_=!c((function(){v("a")})),C=!w&&!_&&!c((function(){v()})),k=!w&&!_&&1!==v.length;r({global:!0,bind:!0,enumerable:!0,forced:w||_||C||k},{atob:function(t){if(f(arguments.length,1),C||k)return u(v,o,t);var e,n,r=y(s(t),m,""),a="",c=0,w=0;if(r.length%4==0&&(r=y(r,h,"")),r.length%4==1||x(p,r))throw new(i("DOMException"))("The string is not correctly encoded","InvalidCharacterError");while(e=b(r,c++))l(d,e)&&(n=w%4?64*n+d[e]:d[e],w++%4&&(a+=g(255&n>>(-2*w&6))));return a}})},7479:function(t,e,n){var r=n(2109),o=n(7854),i=n(5005),a=n(1702),u=n(6916),c=n(7293),s=n(1340),l=n(8053),f=n(4170).itoc,d=i("btoa"),p=a("".charAt),m=a("".charCodeAt),h=!!d&&!c((function(){d()})),v=!!d&&c((function(){return"bnVsbA=="!==d(null)})),g=!!d&&1!==d.length;r({global:!0,bind:!0,enumerable:!0,forced:h||v||g},{btoa:function(t){if(l(arguments.length,1),h||v||g)return u(d,o,s(t));var e,n,r=s(t),a="",c=0,b=f;while(p(r,c)||(b="=",c%1)){if(n=m(r,c+=3/4),n>255)throw new(i("DOMException"))("The string contains characters outside of the Latin1 range","InvalidCharacterError");e=e<<8|n,a+=p(b,63&e>>8-c%1*8)}return a}})},4747:function(t,e,n){var r=n(7854),o=n(8324),i=n(8509),a=n(8533),u=n(8880),c=function(t){if(t&&t.forEach!==a)try{u(t,"forEach",a)}catch(e){t.forEach=a}};for(var s in o)o[s]&&c(r[s]&&r[s].prototype);c(i)},3948:function(t,e,n){var r=n(7854),o=n(8324),i=n(8509),a=n(6992),u=n(8880),c=n(5112),s=c("iterator"),l=c("toStringTag"),f=a.values,d=function(t,e){if(t){if(t[s]!==f)try{u(t,s,f)}catch(r){t[s]=f}if(t[l]||u(t,l,e),o[e])for(var n in a)if(t[n]!==a[n])try{u(t,n,a[n])}catch(r){t[n]=a[n]}}};for(var p in o)d(r[p]&&r[p].prototype,p);d(i,"DOMTokenList")},7714:function(t,e,n){"use strict";var r=n(2109),o=n(4038),i=n(5005),a=n(7293),u=n(30),c=n(9114),s=n(3070).f,l=n(8052),f=n(7045),d=n(2597),p=n(5787),m=n(9670),h=n(7762),v=n(6277),g=n(3678),b=n(1060),y=n(9909),x=n(9781),w=n(1913),_="DOMException",C="DATA_CLONE_ERR",k=i("Error"),O=i(_)||function(){try{var t=i("MessageChannel")||o("worker_threads").MessageChannel;(new t).port1.postMessage(new WeakMap)}catch(e){if(e.name==C&&25==e.code)return e.constructor}}(),S=O&&O.prototype,E=k.prototype,T=y.set,A=y.getterFor(_),N="stack"in k(_),R=function(t){return d(g,t)&&g[t].m?g[t].c:0},D=function(){p(this,P);var t=arguments.length,e=v(t<1?void 0:arguments[0]),n=v(t<2?void 0:arguments[1],"Error"),r=R(n);if(T(this,{type:_,name:n,message:e,code:r}),x||(this.name=n,this.message=e,this.code=r),N){var o=k(e);o.name=_,s(this,"stack",c(1,b(o.stack,1)))}},P=D.prototype=u(E),M=function(t){return{enumerable:!0,configurable:!0,get:t}},B=function(t){return M((function(){return A(this)[t]}))};x&&(f(P,"code",B("code")),f(P,"message",B("message")),f(P,"name",B("name"))),s(P,"constructor",c(1,D));var L=a((function(){return!(new O instanceof k)})),I=L||a((function(){return E.toString!==h||"2: 1"!==String(new O(1,2))})),j=L||a((function(){return 25!==new O(1,"DataCloneError").code})),F=L||25!==O[C]||25!==S[C],q=w?I||j||F:L;r({global:!0,constructor:!0,forced:q},{DOMException:q?D:O});var z=i(_),U=z.prototype;for(var H in I&&(w||O===z)&&l(U,"toString",h),j&&x&&O===z&&f(U,"code",M((function(){return R(m(this).name)}))),g)if(d(g,H)){var V=g[H],W=V.s,$=c(6,V.c);d(z,W)||s(z,W,$),d(U,W)||s(U,W,$)}},2801:function(t,e,n){"use strict";var r=n(2109),o=n(7854),i=n(5005),a=n(9114),u=n(3070).f,c=n(2597),s=n(5787),l=n(9587),f=n(6277),d=n(3678),p=n(1060),m=n(9781),h=n(1913),v="DOMException",g=i("Error"),b=i(v),y=function(){s(this,x);var t=arguments.length,e=f(t<1?void 0:arguments[0]),n=f(t<2?void 0:arguments[1],"Error"),r=new b(e,n),o=g(e);return o.name=v,u(r,"stack",a(1,p(o.stack,1))),l(r,this,y),r},x=y.prototype=b.prototype,w="stack"in g(v),_="stack"in new b(1,2),C=b&&m&&Object.getOwnPropertyDescriptor(o,v),k=!!C&&!(C.writable&&C.configurable),O=w&&!k&&!_;r({global:!0,constructor:!0,forced:h||O},{DOMException:O?y:b});var S=i(v),E=S.prototype;if(E.constructor!==S)for(var T in h||u(E,"constructor",a(1,S)),d)if(c(d,T)){var A=d[T],N=A.s;c(S,N)||u(S,N,a(6,A.c))}},1174:function(t,e,n){var r=n(5005),o=n(8003),i="DOMException";o(r(i),i)},6815:function(t,e,n){var r=n(2109),o=n(7854),i=n(7152),a=i(o.setInterval,!0);r({global:!0,bind:!0,forced:o.setInterval!==a},{setInterval:a})},8417:function(t,e,n){var r=n(2109),o=n(7854),i=n(7152),a=i(o.setTimeout,!0);r({global:!0,bind:!0,forced:o.setTimeout!==a},{setTimeout:a})},2564:function(t,e,n){n(6815),n(8417)},5556:function(t,e,n){"use strict";n(6992);var r=n(2109),o=n(7854),i=n(6916),a=n(1702),u=n(9781),c=n(5143),s=n(8052),l=n(7045),f=n(9190),d=n(8003),p=n(3061),m=n(9909),h=n(5787),v=n(614),g=n(2597),b=n(9974),y=n(648),x=n(9670),w=n(111),_=n(1340),C=n(30),k=n(9114),O=n(4121),S=n(1246),E=n(8053),T=n(5112),A=n(4362),N=T("iterator"),R="URLSearchParams",D=R+"Iterator",P=m.set,M=m.getterFor(R),B=m.getterFor(D),L=Object.getOwnPropertyDescriptor,I=function(t){if(!u)return o[t];var e=L(o,t);return e&&e.value},j=I("fetch"),F=I("Request"),q=I("Headers"),z=F&&F.prototype,U=q&&q.prototype,H=o.RegExp,V=o.TypeError,W=o.decodeURIComponent,$=o.encodeURIComponent,G=a("".charAt),K=a([].join),Y=a([].push),X=a("".replace),Z=a([].shift),J=a([].splice),Q=a("".split),tt=a("".slice),et=/\+/g,nt=Array(4),rt=function(t){return nt[t-1]||(nt[t-1]=H("((?:%[\\da-f]{2}){"+t+"})","gi"))},ot=function(t){try{return W(t)}catch(e){return t}},it=function(t){var e=X(t,et," "),n=4;try{return W(e)}catch(r){while(n)e=X(e,rt(n--),ot);return e}},at=/[!'()~]|%20/g,ut={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},ct=function(t){return ut[t]},st=function(t){return X($(t),at,ct)},lt=p((function(t,e){P(this,{type:D,iterator:O(M(t).entries),kind:e})}),"Iterator",(function(){var t=B(this),e=t.kind,n=t.iterator.next(),r=n.value;return n.done||(n.value="keys"===e?r.key:"values"===e?r.value:[r.key,r.value]),n}),!0),ft=function(t){this.entries=[],this.url=null,void 0!==t&&(w(t)?this.parseObject(t):this.parseQuery("string"==typeof t?"?"===G(t,0)?tt(t,1):t:_(t)))};ft.prototype={type:R,bindURL:function(t){this.url=t,this.update()},parseObject:function(t){var e,n,r,o,a,u,c,s=S(t);if(s){e=O(t,s),n=e.next;while(!(r=i(n,e)).done){if(o=O(x(r.value)),a=o.next,(u=i(a,o)).done||(c=i(a,o)).done||!i(a,o).done)throw V("Expected sequence with length 2");Y(this.entries,{key:_(u.value),value:_(c.value)})}}else for(var l in t)g(t,l)&&Y(this.entries,{key:l,value:_(t[l])})},parseQuery:function(t){if(t){var e,n,r=Q(t,"&"),o=0;while(o<r.length)e=r[o++],e.length&&(n=Q(e,"="),Y(this.entries,{key:it(Z(n)),value:it(K(n,"="))}))}},serialize:function(){var t,e=this.entries,n=[],r=0;while(r<e.length)t=e[r++],Y(n,st(t.key)+"="+st(t.value));return K(n,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var dt=function(){h(this,pt);var t=arguments.length>0?arguments[0]:void 0,e=P(this,new ft(t));u||(this.length=e.entries.length)},pt=dt.prototype;if(f(pt,{append:function(t,e){E(arguments.length,2);var n=M(this);Y(n.entries,{key:_(t),value:_(e)}),u||this.length++,n.updateURL()},delete:function(t){E(arguments.length,1);var e=M(this),n=e.entries,r=_(t),o=0;while(o<n.length)n[o].key===r?J(n,o,1):o++;u||(this.length=n.length),e.updateURL()},get:function(t){E(arguments.length,1);for(var e=M(this).entries,n=_(t),r=0;r<e.length;r++)if(e[r].key===n)return e[r].value;return null},getAll:function(t){E(arguments.length,1);for(var e=M(this).entries,n=_(t),r=[],o=0;o<e.length;o++)e[o].key===n&&Y(r,e[o].value);return r},has:function(t){E(arguments.length,1);var e=M(this).entries,n=_(t),r=0;while(r<e.length)if(e[r++].key===n)return!0;return!1},set:function(t,e){E(arguments.length,1);for(var n,r=M(this),o=r.entries,i=!1,a=_(t),c=_(e),s=0;s<o.length;s++)n=o[s],n.key===a&&(i?J(o,s--,1):(i=!0,n.value=c));i||Y(o,{key:a,value:c}),u||(this.length=o.length),r.updateURL()},sort:function(){var t=M(this);A(t.entries,(function(t,e){return t.key>e.key?1:-1})),t.updateURL()},forEach:function(t){var e,n=M(this).entries,r=b(t,arguments.length>1?arguments[1]:void 0),o=0;while(o<n.length)e=n[o++],r(e.value,e.key,this)},keys:function(){return new lt(this,"keys")},values:function(){return new lt(this,"values")},entries:function(){return new lt(this,"entries")}},{enumerable:!0}),s(pt,N,pt.entries,{name:"entries"}),s(pt,"toString",(function(){return M(this).serialize()}),{enumerable:!0}),u&&l(pt,"size",{get:function(){return M(this).entries.length},configurable:!0,enumerable:!0}),d(dt,R),r({global:!0,constructor:!0,forced:!c},{URLSearchParams:dt}),!c&&v(q)){var mt=a(U.has),ht=a(U.set),vt=function(t){if(w(t)){var e,n=t.body;if(y(n)===R)return e=t.headers?new q(t.headers):new q,mt(e,"content-type")||ht(e,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),C(t,{body:k(0,_(n)),headers:k(0,e)})}return t};if(v(j)&&r({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(t){return j(t,arguments.length>1?vt(arguments[1]):{})}}),v(F)){var gt=function(t){return h(this,z),new F(t,arguments.length>1?vt(arguments[1]):{})};z.constructor=gt,gt.prototype=z,r({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:gt})}}t.exports={URLSearchParams:dt,getState:M}},1637:function(t,e,n){n(5556)},8789:function(t,e,n){"use strict";n(8783);var r,o=n(2109),i=n(9781),a=n(5143),u=n(7854),c=n(9974),s=n(1702),l=n(8052),f=n(7045),d=n(5787),p=n(2597),m=n(1574),h=n(8457),v=n(1589),g=n(8710).codeAt,b=n(3197),y=n(1340),x=n(8003),w=n(8053),_=n(5556),C=n(9909),k=C.set,O=C.getterFor("URL"),S=_.URLSearchParams,E=_.getState,T=u.URL,A=u.TypeError,N=u.parseInt,R=Math.floor,D=Math.pow,P=s("".charAt),M=s(/./.exec),B=s([].join),L=s(1..toString),I=s([].pop),j=s([].push),F=s("".replace),q=s([].shift),z=s("".split),U=s("".slice),H=s("".toLowerCase),V=s([].unshift),W="Invalid authority",$="Invalid scheme",G="Invalid host",K="Invalid port",Y=/[a-z]/i,X=/[\d+-.a-z]/i,Z=/\d/,J=/^0x/i,Q=/^[0-7]+$/,tt=/^\d+$/,et=/^[\da-f]+$/i,nt=/[\0\t\n\r #%/:<>?@[\\\]^|]/,rt=/[\0\t\n\r #/:<>?@[\\\]^|]/,ot=/^[\u0000-\u0020]+/,it=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,at=/[\t\n\r]/g,ut=function(t){var e,n,r,o,i,a,u,c=z(t,".");if(c.length&&""==c[c.length-1]&&c.length--,e=c.length,e>4)return t;for(n=[],r=0;r<e;r++){if(o=c[r],""==o)return t;if(i=10,o.length>1&&"0"==P(o,0)&&(i=M(J,o)?16:8,o=U(o,8==i?1:2)),""===o)a=0;else{if(!M(10==i?tt:8==i?Q:et,o))return t;a=N(o,i)}j(n,a)}for(r=0;r<e;r++)if(a=n[r],r==e-1){if(a>=D(256,5-e))return null}else if(a>255)return null;for(u=I(n),r=0;r<n.length;r++)u+=n[r]*D(256,3-r);return u},ct=function(t){var e,n,r,o,i,a,u,c=[0,0,0,0,0,0,0,0],s=0,l=null,f=0,d=function(){return P(t,f)};if(":"==d()){if(":"!=P(t,1))return;f+=2,s++,l=s}while(d()){if(8==s)return;if(":"!=d()){e=n=0;while(n<4&&M(et,d()))e=16*e+N(d(),16),f++,n++;if("."==d()){if(0==n)return;if(f-=n,s>6)return;r=0;while(d()){if(o=null,r>0){if(!("."==d()&&r<4))return;f++}if(!M(Z,d()))return;while(M(Z,d())){if(i=N(d(),10),null===o)o=i;else{if(0==o)return;o=10*o+i}if(o>255)return;f++}c[s]=256*c[s]+o,r++,2!=r&&4!=r||s++}if(4!=r)return;break}if(":"==d()){if(f++,!d())return}else if(d())return;c[s++]=e}else{if(null!==l)return;f++,s++,l=s}}if(null!==l){a=s-l,s=7;while(0!=s&&a>0)u=c[s],c[s--]=c[l+a-1],c[l+--a]=u}else if(8!=s)return;return c},st=function(t){for(var e=null,n=1,r=null,o=0,i=0;i<8;i++)0!==t[i]?(o>n&&(e=r,n=o),r=null,o=0):(null===r&&(r=i),++o);return o>n&&(e=r,n=o),e},lt=function(t){var e,n,r,o;if("number"==typeof t){for(e=[],n=0;n<4;n++)V(e,t%256),t=R(t/256);return B(e,".")}if("object"==typeof t){for(e="",r=st(t),n=0;n<8;n++)o&&0===t[n]||(o&&(o=!1),r===n?(e+=n?":":"::",o=!0):(e+=L(t[n],16),n<7&&(e+=":")));return"["+e+"]"}return t},ft={},dt=m({},ft,{" ":1,'"':1,"<":1,">":1,"`":1}),pt=m({},dt,{"#":1,"?":1,"{":1,"}":1}),mt=m({},pt,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),ht=function(t,e){var n=g(t,0);return n>32&&n<127&&!p(e,t)?t:encodeURIComponent(t)},vt={ftp:21,file:null,http:80,https:443,ws:80,wss:443},gt=function(t,e){var n;return 2==t.length&&M(Y,P(t,0))&&(":"==(n=P(t,1))||!e&&"|"==n)},bt=function(t){var e;return t.length>1&&gt(U(t,0,2))&&(2==t.length||"/"===(e=P(t,2))||"\\"===e||"?"===e||"#"===e)},yt=function(t){return"."===t||"%2e"===H(t)},xt=function(t){return t=H(t),".."===t||"%2e."===t||".%2e"===t||"%2e%2e"===t},wt={},_t={},Ct={},kt={},Ot={},St={},Et={},Tt={},At={},Nt={},Rt={},Dt={},Pt={},Mt={},Bt={},Lt={},It={},jt={},Ft={},qt={},zt={},Ut=function(t,e,n){var r,o,i,a=y(t);if(e){if(o=this.parse(a),o)throw A(o);this.searchParams=null}else{if(void 0!==n&&(r=new Ut(n,!0)),o=this.parse(a,null,r),o)throw A(o);i=E(new S),i.bindURL(this),this.searchParams=i}};Ut.prototype={type:"URL",parse:function(t,e,n){var o,i,a,u,c=this,s=e||wt,l=0,f="",d=!1,m=!1,g=!1;t=y(t),e||(c.scheme="",c.username="",c.password="",c.host=null,c.port=null,c.path=[],c.query=null,c.fragment=null,c.cannotBeABaseURL=!1,t=F(t,ot,""),t=F(t,it,"$1")),t=F(t,at,""),o=h(t);while(l<=o.length){switch(i=o[l],s){case wt:if(!i||!M(Y,i)){if(e)return $;s=Ct;continue}f+=H(i),s=_t;break;case _t:if(i&&(M(X,i)||"+"==i||"-"==i||"."==i))f+=H(i);else{if(":"!=i){if(e)return $;f="",s=Ct,l=0;continue}if(e&&(c.isSpecial()!=p(vt,f)||"file"==f&&(c.includesCredentials()||null!==c.port)||"file"==c.scheme&&!c.host))return;if(c.scheme=f,e)return void(c.isSpecial()&&vt[c.scheme]==c.port&&(c.port=null));f="","file"==c.scheme?s=Mt:c.isSpecial()&&n&&n.scheme==c.scheme?s=kt:c.isSpecial()?s=Tt:"/"==o[l+1]?(s=Ot,l++):(c.cannotBeABaseURL=!0,j(c.path,""),s=Ft)}break;case Ct:if(!n||n.cannotBeABaseURL&&"#"!=i)return $;if(n.cannotBeABaseURL&&"#"==i){c.scheme=n.scheme,c.path=v(n.path),c.query=n.query,c.fragment="",c.cannotBeABaseURL=!0,s=zt;break}s="file"==n.scheme?Mt:St;continue;case kt:if("/"!=i||"/"!=o[l+1]){s=St;continue}s=At,l++;break;case Ot:if("/"==i){s=Nt;break}s=jt;continue;case St:if(c.scheme=n.scheme,i==r)c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=v(n.path),c.query=n.query;else if("/"==i||"\\"==i&&c.isSpecial())s=Et;else if("?"==i)c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=v(n.path),c.query="",s=qt;else{if("#"!=i){c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=v(n.path),c.path.length--,s=jt;continue}c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=v(n.path),c.query=n.query,c.fragment="",s=zt}break;case Et:if(!c.isSpecial()||"/"!=i&&"\\"!=i){if("/"!=i){c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,s=jt;continue}s=Nt}else s=At;break;case Tt:if(s=At,"/"!=i||"/"!=P(f,l+1))continue;l++;break;case At:if("/"!=i&&"\\"!=i){s=Nt;continue}break;case Nt:if("@"==i){d&&(f="%40"+f),d=!0,a=h(f);for(var b=0;b<a.length;b++){var x=a[b];if(":"!=x||g){var w=ht(x,mt);g?c.password+=w:c.username+=w}else g=!0}f=""}else if(i==r||"/"==i||"?"==i||"#"==i||"\\"==i&&c.isSpecial()){if(d&&""==f)return W;l-=h(f).length+1,f="",s=Rt}else f+=i;break;case Rt:case Dt:if(e&&"file"==c.scheme){s=Lt;continue}if(":"!=i||m){if(i==r||"/"==i||"?"==i||"#"==i||"\\"==i&&c.isSpecial()){if(c.isSpecial()&&""==f)return G;if(e&&""==f&&(c.includesCredentials()||null!==c.port))return;if(u=c.parseHost(f),u)return u;if(f="",s=It,e)return;continue}"["==i?m=!0:"]"==i&&(m=!1),f+=i}else{if(""==f)return G;if(u=c.parseHost(f),u)return u;if(f="",s=Pt,e==Dt)return}break;case Pt:if(!M(Z,i)){if(i==r||"/"==i||"?"==i||"#"==i||"\\"==i&&c.isSpecial()||e){if(""!=f){var _=N(f,10);if(_>65535)return K;c.port=c.isSpecial()&&_===vt[c.scheme]?null:_,f=""}if(e)return;s=It;continue}return K}f+=i;break;case Mt:if(c.scheme="file","/"==i||"\\"==i)s=Bt;else{if(!n||"file"!=n.scheme){s=jt;continue}if(i==r)c.host=n.host,c.path=v(n.path),c.query=n.query;else if("?"==i)c.host=n.host,c.path=v(n.path),c.query="",s=qt;else{if("#"!=i){bt(B(v(o,l),""))||(c.host=n.host,c.path=v(n.path),c.shortenPath()),s=jt;continue}c.host=n.host,c.path=v(n.path),c.query=n.query,c.fragment="",s=zt}}break;case Bt:if("/"==i||"\\"==i){s=Lt;break}n&&"file"==n.scheme&&!bt(B(v(o,l),""))&&(gt(n.path[0],!0)?j(c.path,n.path[0]):c.host=n.host),s=jt;continue;case Lt:if(i==r||"/"==i||"\\"==i||"?"==i||"#"==i){if(!e&&gt(f))s=jt;else if(""==f){if(c.host="",e)return;s=It}else{if(u=c.parseHost(f),u)return u;if("localhost"==c.host&&(c.host=""),e)return;f="",s=It}continue}f+=i;break;case It:if(c.isSpecial()){if(s=jt,"/"!=i&&"\\"!=i)continue}else if(e||"?"!=i)if(e||"#"!=i){if(i!=r&&(s=jt,"/"!=i))continue}else c.fragment="",s=zt;else c.query="",s=qt;break;case jt:if(i==r||"/"==i||"\\"==i&&c.isSpecial()||!e&&("?"==i||"#"==i)){if(xt(f)?(c.shortenPath(),"/"==i||"\\"==i&&c.isSpecial()||j(c.path,"")):yt(f)?"/"==i||"\\"==i&&c.isSpecial()||j(c.path,""):("file"==c.scheme&&!c.path.length&&gt(f)&&(c.host&&(c.host=""),f=P(f,0)+":"),j(c.path,f)),f="","file"==c.scheme&&(i==r||"?"==i||"#"==i))while(c.path.length>1&&""===c.path[0])q(c.path);"?"==i?(c.query="",s=qt):"#"==i&&(c.fragment="",s=zt)}else f+=ht(i,pt);break;case Ft:"?"==i?(c.query="",s=qt):"#"==i?(c.fragment="",s=zt):i!=r&&(c.path[0]+=ht(i,ft));break;case qt:e||"#"!=i?i!=r&&("'"==i&&c.isSpecial()?c.query+="%27":c.query+="#"==i?"%23":ht(i,ft)):(c.fragment="",s=zt);break;case zt:i!=r&&(c.fragment+=ht(i,dt));break}l++}},parseHost:function(t){var e,n,r;if("["==P(t,0)){if("]"!=P(t,t.length-1))return G;if(e=ct(U(t,1,-1)),!e)return G;this.host=e}else if(this.isSpecial()){if(t=b(t),M(nt,t))return G;if(e=ut(t),null===e)return G;this.host=e}else{if(M(rt,t))return G;for(e="",n=h(t),r=0;r<n.length;r++)e+=ht(n[r],ft);this.host=e}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"==this.scheme},includesCredentials:function(){return""!=this.username||""!=this.password},isSpecial:function(){return p(vt,this.scheme)},shortenPath:function(){var t=this.path,e=t.length;!e||"file"==this.scheme&&1==e&&gt(t[0],!0)||t.length--},serialize:function(){var t=this,e=t.scheme,n=t.username,r=t.password,o=t.host,i=t.port,a=t.path,u=t.query,c=t.fragment,s=e+":";return null!==o?(s+="//",t.includesCredentials()&&(s+=n+(r?":"+r:"")+"@"),s+=lt(o),null!==i&&(s+=":"+i)):"file"==e&&(s+="//"),s+=t.cannotBeABaseURL?a[0]:a.length?"/"+B(a,"/"):"",null!==u&&(s+="?"+u),null!==c&&(s+="#"+c),s},setHref:function(t){var e=this.parse(t);if(e)throw A(e);this.searchParams.update()},getOrigin:function(){var t=this.scheme,e=this.port;if("blob"==t)try{return new Ht(t.path[0]).origin}catch(n){return"null"}return"file"!=t&&this.isSpecial()?t+"://"+lt(this.host)+(null!==e?":"+e:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(t){this.parse(y(t)+":",wt)},getUsername:function(){return this.username},setUsername:function(t){var e=h(y(t));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var n=0;n<e.length;n++)this.username+=ht(e[n],mt)}},getPassword:function(){return this.password},setPassword:function(t){var e=h(y(t));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var n=0;n<e.length;n++)this.password+=ht(e[n],mt)}},getHost:function(){var t=this.host,e=this.port;return null===t?"":null===e?lt(t):lt(t)+":"+e},setHost:function(t){this.cannotBeABaseURL||this.parse(t,Rt)},getHostname:function(){var t=this.host;return null===t?"":lt(t)},setHostname:function(t){this.cannotBeABaseURL||this.parse(t,Dt)},getPort:function(){var t=this.port;return null===t?"":y(t)},setPort:function(t){this.cannotHaveUsernamePasswordPort()||(t=y(t),""==t?this.port=null:this.parse(t,Pt))},getPathname:function(){var t=this.path;return this.cannotBeABaseURL?t[0]:t.length?"/"+B(t,"/"):""},setPathname:function(t){this.cannotBeABaseURL||(this.path=[],this.parse(t,It))},getSearch:function(){var t=this.query;return t?"?"+t:""},setSearch:function(t){t=y(t),""==t?this.query=null:("?"==P(t,0)&&(t=U(t,1)),this.query="",this.parse(t,qt)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var t=this.fragment;return t?"#"+t:""},setHash:function(t){t=y(t),""!=t?("#"==P(t,0)&&(t=U(t,1)),this.fragment="",this.parse(t,zt)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var Ht=function(t){var e=d(this,Vt),n=w(arguments.length,1)>1?arguments[1]:void 0,r=k(e,new Ut(t,!1,n));i||(e.href=r.serialize(),e.origin=r.getOrigin(),e.protocol=r.getProtocol(),e.username=r.getUsername(),e.password=r.getPassword(),e.host=r.getHost(),e.hostname=r.getHostname(),e.port=r.getPort(),e.pathname=r.getPathname(),e.search=r.getSearch(),e.searchParams=r.getSearchParams(),e.hash=r.getHash())},Vt=Ht.prototype,Wt=function(t,e){return{get:function(){return O(this)[t]()},set:e&&function(t){return O(this)[e](t)},configurable:!0,enumerable:!0}};if(i&&(f(Vt,"href",Wt("serialize","setHref")),f(Vt,"origin",Wt("getOrigin")),f(Vt,"protocol",Wt("getProtocol","setProtocol")),f(Vt,"username",Wt("getUsername","setUsername")),f(Vt,"password",Wt("getPassword","setPassword")),f(Vt,"host",Wt("getHost","setHost")),f(Vt,"hostname",Wt("getHostname","setHostname")),f(Vt,"port",Wt("getPort","setPort")),f(Vt,"pathname",Wt("getPathname","setPathname")),f(Vt,"search",Wt("getSearch","setSearch")),f(Vt,"searchParams",Wt("getSearchParams")),f(Vt,"hash",Wt("getHash","setHash"))),l(Vt,"toJSON",(function(){return O(this).serialize()}),{enumerable:!0}),l(Vt,"toString",(function(){return O(this).serialize()}),{enumerable:!0}),T){var $t=T.createObjectURL,Gt=T.revokeObjectURL;$t&&l(Ht,"createObjectURL",c($t,T)),Gt&&l(Ht,"revokeObjectURL",c(Gt,T))}x(Ht,"URL"),o({global:!0,constructor:!0,forced:!a,sham:!i},{URL:Ht})},285:function(t,e,n){n(8789)},6095:function(t){
/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */
(function(e,n){t.exports=n()})("undefined"!==typeof self&&self,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=109)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(17),o=n(18),i=n(19),a=n(45),u=n(46),c=n(47),s=n(48),l=n(49),f=n(12),d=n(32),p=n(33),m=n(31),h=n(1),v={Scope:h.Scope,create:h.create,find:h.find,query:h.query,register:h.register,Container:r.default,Format:o.default,Leaf:i.default,Embed:s.default,Scroll:a.default,Block:c.default,Inline:u.default,Text:l.default,Attributor:{Attribute:f.default,Class:d.default,Style:p.default,Store:m.default}};e.default=v},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e){var n=this;return e="[Parchment] "+e,n=t.call(this,e)||this,n.message=e,n.name=n.constructor.name,n}return r(e,t),e}(Error);e.ParchmentError=o;var i,a={},u={},c={},s={};function l(t,e){var n=d(t);if(null==n)throw new o("Unable to create "+t+" blot");var r=n,i=t instanceof Node||t["nodeType"]===Node.TEXT_NODE?t:r.create(e);return new r(i,e)}function f(t,n){return void 0===n&&(n=!1),null==t?null:null!=t[e.DATA_KEY]?t[e.DATA_KEY].blot:n?f(t.parentNode,n):null}function d(t,e){var n;if(void 0===e&&(e=i.ANY),"string"===typeof t)n=s[t]||a[t];else if(t instanceof Text||t["nodeType"]===Node.TEXT_NODE)n=s["text"];else if("number"===typeof t)t&i.LEVEL&i.BLOCK?n=s["block"]:t&i.LEVEL&i.INLINE&&(n=s["inline"]);else if(t instanceof HTMLElement){var r=(t.getAttribute("class")||"").split(/\s+/);for(var o in r)if(n=u[r[o]],n)break;n=n||c[t.tagName]}return null==n?null:e&i.LEVEL&n.scope&&e&i.TYPE&n.scope?n:null}function p(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length>1)return t.map((function(t){return p(t)}));var n=t[0];if("string"!==typeof n.blotName&&"string"!==typeof n.attrName)throw new o("Invalid definition");if("abstract"===n.blotName)throw new o("Cannot register abstract class");if(s[n.blotName||n.attrName]=n,"string"===typeof n.keyName)a[n.keyName]=n;else if(null!=n.className&&(u[n.className]=n),null!=n.tagName){Array.isArray(n.tagName)?n.tagName=n.tagName.map((function(t){return t.toUpperCase()})):n.tagName=n.tagName.toUpperCase();var r=Array.isArray(n.tagName)?n.tagName:[n.tagName];r.forEach((function(t){null!=c[t]&&null!=n.className||(c[t]=n)}))}return n}e.DATA_KEY="__blot",function(t){t[t["TYPE"]=3]="TYPE",t[t["LEVEL"]=12]="LEVEL",t[t["ATTRIBUTE"]=13]="ATTRIBUTE",t[t["BLOT"]=14]="BLOT",t[t["INLINE"]=7]="INLINE",t[t["BLOCK"]=11]="BLOCK",t[t["BLOCK_BLOT"]=10]="BLOCK_BLOT",t[t["INLINE_BLOT"]=6]="INLINE_BLOT",t[t["BLOCK_ATTRIBUTE"]=9]="BLOCK_ATTRIBUTE",t[t["INLINE_ATTRIBUTE"]=5]="INLINE_ATTRIBUTE",t[t["ANY"]=15]="ANY"}(i=e.Scope||(e.Scope={})),e.create=l,e.find=f,e.query=d,e.register=p},function(t,e,n){var r=n(51),o=n(11),i=n(3),a=n(20),u=String.fromCharCode(0),c=function(t){Array.isArray(t)?this.ops=t:null!=t&&Array.isArray(t.ops)?this.ops=t.ops:this.ops=[]};c.prototype.insert=function(t,e){var n={};return 0===t.length?this:(n.insert=t,null!=e&&"object"===typeof e&&Object.keys(e).length>0&&(n.attributes=e),this.push(n))},c.prototype["delete"]=function(t){return t<=0?this:this.push({delete:t})},c.prototype.retain=function(t,e){if(t<=0)return this;var n={retain:t};return null!=e&&"object"===typeof e&&Object.keys(e).length>0&&(n.attributes=e),this.push(n)},c.prototype.push=function(t){var e=this.ops.length,n=this.ops[e-1];if(t=i(!0,{},t),"object"===typeof n){if("number"===typeof t["delete"]&&"number"===typeof n["delete"])return this.ops[e-1]={delete:n["delete"]+t["delete"]},this;if("number"===typeof n["delete"]&&null!=t.insert&&(e-=1,n=this.ops[e-1],"object"!==typeof n))return this.ops.unshift(t),this;if(o(t.attributes,n.attributes)){if("string"===typeof t.insert&&"string"===typeof n.insert)return this.ops[e-1]={insert:n.insert+t.insert},"object"===typeof t.attributes&&(this.ops[e-1].attributes=t.attributes),this;if("number"===typeof t.retain&&"number"===typeof n.retain)return this.ops[e-1]={retain:n.retain+t.retain},"object"===typeof t.attributes&&(this.ops[e-1].attributes=t.attributes),this}}return e===this.ops.length?this.ops.push(t):this.ops.splice(e,0,t),this},c.prototype.chop=function(){var t=this.ops[this.ops.length-1];return t&&t.retain&&!t.attributes&&this.ops.pop(),this},c.prototype.filter=function(t){return this.ops.filter(t)},c.prototype.forEach=function(t){this.ops.forEach(t)},c.prototype.map=function(t){return this.ops.map(t)},c.prototype.partition=function(t){var e=[],n=[];return this.forEach((function(r){var o=t(r)?e:n;o.push(r)})),[e,n]},c.prototype.reduce=function(t,e){return this.ops.reduce(t,e)},c.prototype.changeLength=function(){return this.reduce((function(t,e){return e.insert?t+a.length(e):e.delete?t-e.delete:t}),0)},c.prototype.length=function(){return this.reduce((function(t,e){return t+a.length(e)}),0)},c.prototype.slice=function(t,e){t=t||0,"number"!==typeof e&&(e=1/0);var n=[],r=a.iterator(this.ops),o=0;while(o<e&&r.hasNext()){var i;o<t?i=r.next(t-o):(i=r.next(e-o),n.push(i)),o+=a.length(i)}return new c(n)},c.prototype.compose=function(t){var e=a.iterator(this.ops),n=a.iterator(t.ops),r=[],i=n.peek();if(null!=i&&"number"===typeof i.retain&&null==i.attributes){var u=i.retain;while("insert"===e.peekType()&&e.peekLength()<=u)u-=e.peekLength(),r.push(e.next());i.retain-u>0&&n.next(i.retain-u)}var s=new c(r);while(e.hasNext()||n.hasNext())if("insert"===n.peekType())s.push(n.next());else if("delete"===e.peekType())s.push(e.next());else{var l=Math.min(e.peekLength(),n.peekLength()),f=e.next(l),d=n.next(l);if("number"===typeof d.retain){var p={};"number"===typeof f.retain?p.retain=l:p.insert=f.insert;var m=a.attributes.compose(f.attributes,d.attributes,"number"===typeof f.retain);if(m&&(p.attributes=m),s.push(p),!n.hasNext()&&o(s.ops[s.ops.length-1],p)){var h=new c(e.rest());return s.concat(h).chop()}}else"number"===typeof d["delete"]&&"number"===typeof f.retain&&s.push(d)}return s.chop()},c.prototype.concat=function(t){var e=new c(this.ops.slice());return t.ops.length>0&&(e.push(t.ops[0]),e.ops=e.ops.concat(t.ops.slice(1))),e},c.prototype.diff=function(t,e){if(this.ops===t.ops)return new c;var n=[this,t].map((function(e){return e.map((function(n){if(null!=n.insert)return"string"===typeof n.insert?n.insert:u;var r=e===t?"on":"with";throw new Error("diff() called "+r+" non-document")})).join("")})),i=new c,s=r(n[0],n[1],e),l=a.iterator(this.ops),f=a.iterator(t.ops);return s.forEach((function(t){var e=t[1].length;while(e>0){var n=0;switch(t[0]){case r.INSERT:n=Math.min(f.peekLength(),e),i.push(f.next(n));break;case r.DELETE:n=Math.min(e,l.peekLength()),l.next(n),i["delete"](n);break;case r.EQUAL:n=Math.min(l.peekLength(),f.peekLength(),e);var u=l.next(n),c=f.next(n);o(u.insert,c.insert)?i.retain(n,a.attributes.diff(u.attributes,c.attributes)):i.push(c)["delete"](n);break}e-=n}})),i.chop()},c.prototype.eachLine=function(t,e){e=e||"\n";var n=a.iterator(this.ops),r=new c,o=0;while(n.hasNext()){if("insert"!==n.peekType())return;var i=n.peek(),u=a.length(i)-n.peekLength(),s="string"===typeof i.insert?i.insert.indexOf(e,u)-u:-1;if(s<0)r.push(n.next());else if(s>0)r.push(n.next(s));else{if(!1===t(r,n.next(1).attributes||{},o))return;o+=1,r=new c}}r.length()>0&&t(r,{},o)},c.prototype.transform=function(t,e){if(e=!!e,"number"===typeof t)return this.transformPosition(t,e);var n=a.iterator(this.ops),r=a.iterator(t.ops),o=new c;while(n.hasNext()||r.hasNext())if("insert"!==n.peekType()||!e&&"insert"===r.peekType())if("insert"===r.peekType())o.push(r.next());else{var i=Math.min(n.peekLength(),r.peekLength()),u=n.next(i),s=r.next(i);if(u["delete"])continue;s["delete"]?o.push(s):o.retain(i,a.attributes.transform(u.attributes,s.attributes,e))}else o.retain(a.length(n.next()));return o.chop()},c.prototype.transformPosition=function(t,e){e=!!e;var n=a.iterator(this.ops),r=0;while(n.hasNext()&&r<=t){var o=n.peekLength(),i=n.peekType();n.next(),"delete"!==i?("insert"===i&&(r<t||!e)&&(t+=o),r+=o):t-=Math.min(o,t-r)}return t},t.exports=c},function(t,e){"use strict";var n=Object.prototype.hasOwnProperty,r=Object.prototype.toString,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,a=function(t){return"function"===typeof Array.isArray?Array.isArray(t):"[object Array]"===r.call(t)},u=function(t){if(!t||"[object Object]"!==r.call(t))return!1;var e,o=n.call(t,"constructor"),i=t.constructor&&t.constructor.prototype&&n.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!o&&!i)return!1;for(e in t);return"undefined"===typeof e||n.call(t,e)},c=function(t,e){o&&"__proto__"===e.name?o(t,e.name,{enumerable:!0,configurable:!0,value:e.newValue,writable:!0}):t[e.name]=e.newValue},s=function(t,e){if("__proto__"===e){if(!n.call(t,e))return;if(i)return i(t,e).value}return t[e]};t.exports=function t(){var e,n,r,o,i,l,f=arguments[0],d=1,p=arguments.length,m=!1;for("boolean"===typeof f&&(m=f,f=arguments[1]||{},d=2),(null==f||"object"!==typeof f&&"function"!==typeof f)&&(f={});d<p;++d)if(e=arguments[d],null!=e)for(n in e)r=s(f,n),o=s(e,n),f!==o&&(m&&o&&(u(o)||(i=a(o)))?(i?(i=!1,l=r&&a(r)?r:[]):l=r&&u(r)?r:{},c(f,{name:n,newValue:t(m,l,o)})):"undefined"!==typeof o&&c(f,{name:n,newValue:o}));return f}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.BlockEmbed=e.bubbleFormats=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},i=n(3),a=g(i),u=n(2),c=g(u),s=n(0),l=g(s),f=n(16),d=g(f),p=n(6),m=g(p),h=n(7),v=g(h);function g(t){return t&&t.__esModule?t:{default:t}}function b(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function x(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var w=1,_=function(t){function e(){return b(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return x(e,t),r(e,[{key:"attach",value:function(){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"attach",this).call(this),this.attributes=new l.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return(new c.default).insert(this.value(),(0,a.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(t,e){var n=l.default.query(t,l.default.Scope.BLOCK_ATTRIBUTE);null!=n&&this.attributes.attribute(n,e)}},{key:"formatAt",value:function(t,e,n,r){this.format(n,r)}},{key:"insertAt",value:function(t,n,r){if("string"===typeof n&&n.endsWith("\n")){var i=l.default.create(C.blotName);this.parent.insertBefore(i,0===t?this:this.next),i.insertAt(0,n.slice(0,-1))}else o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertAt",this).call(this,t,n,r)}}]),e}(l.default.Embed);_.scope=l.default.Scope.BLOCK_BLOT;var C=function(t){function e(t){b(this,e);var n=y(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.cache={},n}return x(e,t),r(e,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=this.descendants(l.default.Leaf).reduce((function(t,e){return 0===e.length()?t:t.insert(e.value(),k(e))}),new c.default).insert("\n",k(this))),this.cache.delta}},{key:"deleteAt",value:function(t,n){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"deleteAt",this).call(this,t,n),this.cache={}}},{key:"formatAt",value:function(t,n,r,i){n<=0||(l.default.query(r,l.default.Scope.BLOCK)?t+n===this.length()&&this.format(r,i):o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"formatAt",this).call(this,t,Math.min(n,this.length()-t-1),r,i),this.cache={})}},{key:"insertAt",value:function(t,n,r){if(null!=r)return o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertAt",this).call(this,t,n,r);if(0!==n.length){var i=n.split("\n"),a=i.shift();a.length>0&&(t<this.length()-1||null==this.children.tail?o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertAt",this).call(this,Math.min(t,this.length()-1),a):this.children.tail.insertAt(this.children.tail.length(),a),this.cache={});var u=this;i.reduce((function(t,e){return u=u.split(t,!0),u.insertAt(0,e),e.length}),t+a.length)}}},{key:"insertBefore",value:function(t,n){var r=this.children.head;o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertBefore",this).call(this,t,n),r instanceof d.default&&r.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"length",this).call(this)+w),this.cache.length}},{key:"moveChildren",value:function(t,n){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"moveChildren",this).call(this,t,n),this.cache={}}},{key:"optimize",value:function(t){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t),this.cache={}}},{key:"path",value:function(t){return o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"path",this).call(this,t,!0)}},{key:"removeChild",value:function(t){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"removeChild",this).call(this,t),this.cache={}}},{key:"split",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(n&&(0===t||t>=this.length()-w)){var r=this.clone();return 0===t?(this.parent.insertBefore(r,this),this):(this.parent.insertBefore(r,this.next),r)}var i=o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"split",this).call(this,t,n);return this.cache={},i}}]),e}(l.default.Block);function k(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==t?e:("function"===typeof t.formats&&(e=(0,a.default)(e,t.formats())),null==t.parent||"scroll"==t.parent.blotName||t.parent.statics.scope!==t.statics.scope?e:k(t.parent,e))}C.blotName="block",C.tagName="P",C.defaultChild="break",C.allowedChildren=[m.default,l.default.Embed,v.default],e.bubbleFormats=k,e.BlockEmbed=_,e.default=C},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.overload=e.expandConfig=void 0;var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done);r=!0)if(n.push(a.value),e&&n.length===e)break}catch(c){o=!0,i=c}finally{try{!r&&u["return"]&&u["return"]()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();n(50);var a=n(2),u=k(a),c=n(14),s=k(c),l=n(8),f=k(l),d=n(9),p=k(d),m=n(0),h=k(m),v=n(15),g=k(v),b=n(3),y=k(b),x=n(10),w=k(x),_=n(34),C=k(_);function k(t){return t&&t.__esModule?t:{default:t}}function O(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function S(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var E=(0,w.default)("quill"),T=function(){function t(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(S(this,t),this.options=A(e,r),this.container=this.options.container,null==this.container)return E.error("Invalid Quill container",e);this.options.debug&&t.debug(this.options.debug);var o=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new f.default,this.scroll=h.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new s.default(this.scroll),this.selection=new g.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(f.default.events.EDITOR_CHANGE,(function(t){t===f.default.events.TEXT_CHANGE&&n.root.classList.toggle("ql-blank",n.editor.isBlank())})),this.emitter.on(f.default.events.SCROLL_UPDATE,(function(t,e){var r=n.selection.lastRange,o=r&&0===r.length?r.index:void 0;N.call(n,(function(){return n.editor.update(null,e,o)}),t)}));var i=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">"+o+"<p><br></p></div>");this.setContents(i),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return i(t,null,[{key:"debug",value:function(t){!0===t&&(t="log"),w.default.level(t)}},{key:"find",value:function(t){return t.__quill||h.default.find(t)}},{key:"import",value:function(t){return null==this.imports[t]&&E.error("Cannot import "+t+". Are you sure it was registered?"),this.imports[t]}},{key:"register",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!==typeof t){var o=t.attrName||t.blotName;"string"===typeof o?this.register("formats/"+o,t,e):Object.keys(t).forEach((function(r){n.register(r,t[r],e)}))}else null==this.imports[t]||r||E.warn("Overwriting "+t+" with",e),this.imports[t]=e,(t.startsWith("blots/")||t.startsWith("formats/"))&&"abstract"!==e.blotName?h.default.register(e):t.startsWith("modules")&&"function"===typeof e.register&&e.register()}}]),i(t,[{key:"addContainer",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"===typeof t){var n=t;t=document.createElement("div"),t.classList.add(n)}return this.container.insertBefore(t,e),t}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(t,e,n){var r=this,i=R(t,e,n),a=o(i,4);return t=a[0],e=a[1],n=a[3],N.call(this,(function(){return r.editor.deleteText(t,e)}),n,t,-1*e)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(t),this.container.classList.toggle("ql-disabled",!t)}},{key:"focus",value:function(){var t=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=t,this.scrollIntoView()}},{key:"format",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f.default.sources.API;return N.call(this,(function(){var r=n.getSelection(!0),o=new u.default;if(null==r)return o;if(h.default.query(t,h.default.Scope.BLOCK))o=n.editor.formatLine(r.index,r.length,O({},t,e));else{if(0===r.length)return n.selection.format(t,e),o;o=n.editor.formatText(r.index,r.length,O({},t,e))}return n.setSelection(r,f.default.sources.SILENT),o}),r)}},{key:"formatLine",value:function(t,e,n,r,i){var a=this,u=void 0,c=R(t,e,n,r,i),s=o(c,4);return t=s[0],e=s[1],u=s[2],i=s[3],N.call(this,(function(){return a.editor.formatLine(t,e,u)}),i,t,0)}},{key:"formatText",value:function(t,e,n,r,i){var a=this,u=void 0,c=R(t,e,n,r,i),s=o(c,4);return t=s[0],e=s[1],u=s[2],i=s[3],N.call(this,(function(){return a.editor.formatText(t,e,u)}),i,t,0)}},{key:"getBounds",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=void 0;n="number"===typeof t?this.selection.getBounds(t,e):this.selection.getBounds(t.index,t.length);var r=this.container.getBoundingClientRect();return{bottom:n.bottom-r.top,height:n.height,left:n.left-r.left,right:n.right-r.left,top:n.top-r.top,width:n.width}}},{key:"getContents",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-t,n=R(t,e),r=o(n,2);return t=r[0],e=r[1],this.editor.getContents(t,e)}},{key:"getFormat",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"number"===typeof t?this.editor.getFormat(t,e):this.editor.getFormat(t.index,t.length)}},{key:"getIndex",value:function(t){return t.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(t){return this.scroll.leaf(t)}},{key:"getLine",value:function(t){return this.scroll.line(t)}},{key:"getLines",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!==typeof t?this.scroll.lines(t.index,t.length):this.scroll.lines(t,e)}},{key:"getModule",value:function(t){return this.theme.modules[t]}},{key:"getSelection",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return t&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-t,n=R(t,e),r=o(n,2);return t=r[0],e=r[1],this.editor.getText(t,e)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(e,n,r){var o=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.sources.API;return N.call(this,(function(){return o.editor.insertEmbed(e,n,r)}),i,e)}},{key:"insertText",value:function(t,e,n,r,i){var a=this,u=void 0,c=R(t,0,n,r,i),s=o(c,4);return t=s[0],u=s[2],i=s[3],N.call(this,(function(){return a.editor.insertText(t,e,u)}),i,t,e.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(t,e,n){this.clipboard.dangerouslyPasteHTML(t,e,n)}},{key:"removeFormat",value:function(t,e,n){var r=this,i=R(t,e,n),a=o(i,4);return t=a[0],e=a[1],n=a[3],N.call(this,(function(){return r.editor.removeFormat(t,e)}),n,t)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.default.sources.API;return N.call(this,(function(){t=new u.default(t);var n=e.getLength(),r=e.editor.deleteText(0,n),o=e.editor.applyDelta(t),i=o.ops[o.ops.length-1];null!=i&&"string"===typeof i.insert&&"\n"===i.insert[i.insert.length-1]&&(e.editor.deleteText(e.getLength()-1,1),o.delete(1));var a=r.compose(o);return a}),n)}},{key:"setSelection",value:function(e,n,r){if(null==e)this.selection.setRange(null,n||t.sources.API);else{var i=R(e,n,r),a=o(i,4);e=a[0],n=a[1],r=a[3],this.selection.setRange(new v.Range(e,n),r),r!==f.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.default.sources.API,n=(new u.default).insert(t);return this.setContents(n,e)}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f.default.sources.USER,e=this.scroll.update(t);return this.selection.update(t),e}},{key:"updateContents",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.default.sources.API;return N.call(this,(function(){return t=new u.default(t),e.editor.applyDelta(t,n)}),n,!0)}}]),t}();function A(t,e){if(e=(0,y.default)(!0,{container:t,modules:{clipboard:!0,keyboard:!0,history:!0}},e),e.theme&&e.theme!==T.DEFAULTS.theme){if(e.theme=T.import("themes/"+e.theme),null==e.theme)throw new Error("Invalid theme "+e.theme+". Did you register it?")}else e.theme=C.default;var n=(0,y.default)(!0,{},e.theme.DEFAULTS);[n,e].forEach((function(t){t.modules=t.modules||{},Object.keys(t.modules).forEach((function(e){!0===t.modules[e]&&(t.modules[e]={})}))}));var r=Object.keys(n.modules).concat(Object.keys(e.modules)),o=r.reduce((function(t,e){var n=T.import("modules/"+e);return null==n?E.error("Cannot load "+e+" module. Are you sure you registered it?"):t[e]=n.DEFAULTS||{},t}),{});return null!=e.modules&&e.modules.toolbar&&e.modules.toolbar.constructor!==Object&&(e.modules.toolbar={container:e.modules.toolbar}),e=(0,y.default)(!0,{},T.DEFAULTS,{modules:o},n,e),["bounds","container","scrollingContainer"].forEach((function(t){"string"===typeof e[t]&&(e[t]=document.querySelector(e[t]))})),e.modules=Object.keys(e.modules).reduce((function(t,n){return e.modules[n]&&(t[n]=e.modules[n]),t}),{}),e}function N(t,e,n,r){if(this.options.strict&&!this.isEnabled()&&e===f.default.sources.USER)return new u.default;var o=null==n?null:this.getSelection(),i=this.editor.delta,a=t();if(null!=o&&(!0===n&&(n=o.index),null==r?o=D(o,a,e):0!==r&&(o=D(o,n,r,e)),this.setSelection(o,f.default.sources.SILENT)),a.length()>0){var c,s,l=[f.default.events.TEXT_CHANGE,a,i,e];if((c=this.emitter).emit.apply(c,[f.default.events.EDITOR_CHANGE].concat(l)),e!==f.default.sources.SILENT)(s=this.emitter).emit.apply(s,l)}return a}function R(t,e,n,o,i){var a={};return"number"===typeof t.index&&"number"===typeof t.length?"number"!==typeof e?(i=o,o=n,n=e,e=t.length,t=t.index):(e=t.length,t=t.index):"number"!==typeof e&&(i=o,o=n,n=e,e=0),"object"===("undefined"===typeof n?"undefined":r(n))?(a=n,i=o):"string"===typeof n&&(null!=o?a[n]=o:i=n),i=i||f.default.sources.API,[t,e,a,i]}function D(t,e,n,r){if(null==t)return null;var i=void 0,a=void 0;if(e instanceof u.default){var c=[t.index,t.index+t.length].map((function(t){return e.transformPosition(t,r!==f.default.sources.USER)})),s=o(c,2);i=s[0],a=s[1]}else{var l=[t.index,t.index+t.length].map((function(t){return t<e||t===e&&r===f.default.sources.USER?t:n>=0?t+n:Math.max(e,t+n)})),d=o(l,2);i=d[0],a=d[1]}return new v.Range(i,a-i)}T.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},T.events=f.default.events,T.sources=f.default.sources,T.version="1.3.7",T.imports={delta:u.default,parchment:h.default,"core/module":p.default,"core/theme":C.default},e.expandConfig=A,e.overload=R,e.default=T},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},i=n(7),a=s(i),u=n(0),c=s(u);function s(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function d(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var p=function(t){function e(){return l(this,e),f(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return d(e,t),r(e,[{key:"formatAt",value:function(t,n,r,i){if(e.compare(this.statics.blotName,r)<0&&c.default.query(r,c.default.Scope.BLOT)){var a=this.isolate(t,n);i&&a.wrap(r,i)}else o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"formatAt",this).call(this,t,n,r,i)}},{key:"optimize",value:function(t){if(o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t),this.parent instanceof e&&e.compare(this.statics.blotName,this.parent.statics.blotName)>0){var n=this.parent.isolate(this.offset(),this.length());this.moveChildren(n),n.wrap(this)}}}],[{key:"compare",value:function(t,n){var r=e.order.indexOf(t),o=e.order.indexOf(n);return r>=0||o>=0?r-o:t===n?0:t<n?-1:1}}]),e}(c.default.Inline);p.allowedChildren=[p,c.default.Embed,a.default],p.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),o=i(r);function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function c(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=function(t){function e(){return a(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return c(e,t),e}(o.default.Text);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},i=n(54),a=s(i),u=n(10),c=s(u);function s(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function d(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var p=(0,c.default)("quill:events"),m=["selectionchange","mousedown","mouseup","click"];m.forEach((function(t){document.addEventListener(t,(function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];[].slice.call(document.querySelectorAll(".ql-container")).forEach((function(t){var n;t.__quill&&t.__quill.emitter&&(n=t.__quill.emitter).handleDOM.apply(n,e)}))}))}));var h=function(t){function e(){l(this,e);var t=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.listeners={},t.on("error",p.error),t}return d(e,t),r(e,[{key:"emit",value:function(){p.log.apply(p,arguments),o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];(this.listeners[t.type]||[]).forEach((function(e){var r=e.node,o=e.handler;(t.target===r||r.contains(t.target))&&o.apply(void 0,[t].concat(n))}))}},{key:"listenDOM",value:function(t,e,n){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push({node:e,handler:n})}}]),e}(a.default);h.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},h.sources={API:"api",SILENT:"silent",USER:"user"},e.default=h},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,t),this.quill=e,this.options=n};o.DEFAULTS={},e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=["error","warn","log","info"],o="warn";function i(t){if(r.indexOf(t)<=r.indexOf(o)){for(var e,n=arguments.length,i=Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];(e=console)[t].apply(e,i)}}function a(t){return r.reduce((function(e,n){return e[n]=i.bind(console,n,t),e}),{})}i.level=a.level=function(t){o=t},e.default=a},function(t,e,n){var r=Array.prototype.slice,o=n(52),i=n(53),a=t.exports=function(t,e,n){return n||(n={}),t===e||(t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():!t||!e||"object"!=typeof t&&"object"!=typeof e?n.strict?t===e:t==e:s(t,e,n))};function u(t){return null===t||void 0===t}function c(t){return!(!t||"object"!==typeof t||"number"!==typeof t.length)&&("function"===typeof t.copy&&"function"===typeof t.slice&&!(t.length>0&&"number"!==typeof t[0]))}function s(t,e,n){var s,l;if(u(t)||u(e))return!1;if(t.prototype!==e.prototype)return!1;if(i(t))return!!i(e)&&(t=r.call(t),e=r.call(e),a(t,e,n));if(c(t)){if(!c(e))return!1;if(t.length!==e.length)return!1;for(s=0;s<t.length;s++)if(t[s]!==e[s])return!1;return!0}try{var f=o(t),d=o(e)}catch(p){return!1}if(f.length!=d.length)return!1;for(f.sort(),d.sort(),s=f.length-1;s>=0;s--)if(f[s]!=d[s])return!1;for(s=f.length-1;s>=0;s--)if(l=f[s],!a(t[l],e[l],n))return!1;return typeof t===typeof e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),o=function(){function t(t,e,n){void 0===n&&(n={}),this.attrName=t,this.keyName=e;var o=r.Scope.TYPE&r.Scope.ATTRIBUTE;null!=n.scope?this.scope=n.scope&r.Scope.LEVEL|o:this.scope=r.Scope.ATTRIBUTE,null!=n.whitelist&&(this.whitelist=n.whitelist)}return t.keys=function(t){return[].map.call(t.attributes,(function(t){return t.name}))},t.prototype.add=function(t,e){return!!this.canAdd(t,e)&&(t.setAttribute(this.keyName,e),!0)},t.prototype.canAdd=function(t,e){var n=r.query(t,r.Scope.BLOT&(this.scope|r.Scope.TYPE));return null!=n&&(null==this.whitelist||("string"===typeof e?this.whitelist.indexOf(e.replace(/["']/g,""))>-1:this.whitelist.indexOf(e)>-1))},t.prototype.remove=function(t){t.removeAttribute(this.keyName)},t.prototype.value=function(t){var e=t.getAttribute(this.keyName);return this.canAdd(t,e)&&e?e:""},t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.Code=void 0;var r=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done);r=!0)if(n.push(a.value),e&&n.length===e)break}catch(c){o=!0,i=c}finally{try{!r&&u["return"]&&u["return"]()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},a=n(2),u=v(a),c=n(0),s=v(c),l=n(4),f=v(l),d=n(6),p=v(d),m=n(7),h=v(m);function v(t){return t&&t.__esModule?t:{default:t}}function g(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function y(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var x=function(t){function e(){return g(this,e),b(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return y(e,t),e}(p.default);x.blotName="code",x.tagName="CODE";var w=function(t){function e(){return g(this,e),b(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return y(e,t),o(e,[{key:"delta",value:function(){var t=this,e=this.domNode.textContent;return e.endsWith("\n")&&(e=e.slice(0,-1)),e.split("\n").reduce((function(e,n){return e.insert(n).insert("\n",t.formats())}),new u.default)}},{key:"format",value:function(t,n){if(t!==this.statics.blotName||!n){var o=this.descendant(h.default,this.length()-1),a=r(o,1),u=a[0];null!=u&&u.deleteAt(u.length()-1,1),i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n)}}},{key:"formatAt",value:function(t,n,r,o){if(0!==n&&null!=s.default.query(r,s.default.Scope.BLOCK)&&(r!==this.statics.blotName||o!==this.statics.formats(this.domNode))){var i=this.newlineIndex(t);if(!(i<0||i>=t+n)){var a=this.newlineIndex(t,!0)+1,u=i-a+1,c=this.isolate(a,u),l=c.next;c.format(r,o),l instanceof e&&l.formatAt(0,t-a+n-u,r,o)}}}},{key:"insertAt",value:function(t,e,n){if(null==n){var o=this.descendant(h.default,t),i=r(o,2),a=i[0],u=i[1];a.insertAt(u,e)}}},{key:"length",value:function(){var t=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?t:t+1}},{key:"newlineIndex",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e)return this.domNode.textContent.slice(0,t).lastIndexOf("\n");var n=this.domNode.textContent.slice(t).indexOf("\n");return n>-1?t+n:-1}},{key:"optimize",value:function(t){this.domNode.textContent.endsWith("\n")||this.appendChild(s.default.create("text","\n")),i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t);var n=this.next;null!=n&&n.prev===this&&n.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===n.statics.formats(n.domNode)&&(n.optimize(t),n.moveChildren(this),n.remove())}},{key:"replace",value:function(t){i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"replace",this).call(this,t),[].slice.call(this.domNode.querySelectorAll("*")).forEach((function(t){var e=s.default.find(t);null==e?t.parentNode.removeChild(t):e instanceof s.default.Embed?e.remove():e.unwrap()}))}}],[{key:"create",value:function(t){var n=i(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return n.setAttribute("spellcheck",!1),n}},{key:"formats",value:function(){return!0}}]),e}(f.default);w.blotName="code-block",w.tagName="PRE",w.TAB="  ",e.Code=x,e.default=w},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done);r=!0)if(n.push(a.value),e&&n.length===e)break}catch(c){o=!0,i=c}finally{try{!r&&u["return"]&&u["return"]()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(2),u=S(a),c=n(20),s=S(c),l=n(0),f=S(l),d=n(13),p=S(d),m=n(24),h=S(m),v=n(4),g=S(v),b=n(16),y=S(b),x=n(21),w=S(x),_=n(11),C=S(_),k=n(3),O=S(k);function S(t){return t&&t.__esModule?t:{default:t}}function E(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function T(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var A=/^[ -~]*$/,N=function(){function t(e){T(this,t),this.scroll=e,this.delta=this.getDelta()}return i(t,[{key:"applyDelta",value:function(t){var e=this,n=!1;this.scroll.update();var i=this.scroll.length();return this.scroll.batchStart(),t=D(t),t.reduce((function(t,a){var u=a.retain||a.delete||a.insert.length||1,c=a.attributes||{};if(null!=a.insert){if("string"===typeof a.insert){var l=a.insert;l.endsWith("\n")&&n&&(n=!1,l=l.slice(0,-1)),t>=i&&!l.endsWith("\n")&&(n=!0),e.scroll.insertAt(t,l);var d=e.scroll.line(t),p=o(d,2),m=p[0],h=p[1],b=(0,O.default)({},(0,v.bubbleFormats)(m));if(m instanceof g.default){var y=m.descendant(f.default.Leaf,h),x=o(y,1),w=x[0];b=(0,O.default)(b,(0,v.bubbleFormats)(w))}c=s.default.attributes.diff(b,c)||{}}else if("object"===r(a.insert)){var _=Object.keys(a.insert)[0];if(null==_)return t;e.scroll.insertAt(t,_,a.insert[_])}i+=u}return Object.keys(c).forEach((function(n){e.scroll.formatAt(t,u,n,c[n])})),t+u}),0),t.reduce((function(t,n){return"number"===typeof n.delete?(e.scroll.deleteAt(t,n.delete),t):t+(n.retain||n.insert.length||1)}),0),this.scroll.batchEnd(),this.update(t)}},{key:"deleteText",value:function(t,e){return this.scroll.deleteAt(t,e),this.update((new u.default).retain(t).delete(e))}},{key:"formatLine",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.scroll.update(),Object.keys(r).forEach((function(o){if(null==n.scroll.whitelist||n.scroll.whitelist[o]){var i=n.scroll.lines(t,Math.max(e,1)),a=e;i.forEach((function(e){var i=e.length();if(e instanceof p.default){var u=t-e.offset(n.scroll),c=e.newlineIndex(u+a)-u+1;e.formatAt(u,c,o,r[o])}else e.format(o,r[o]);a-=i}))}})),this.scroll.optimize(),this.update((new u.default).retain(t).retain(e,(0,w.default)(r)))}},{key:"formatText",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(r).forEach((function(o){n.scroll.formatAt(t,e,o,r[o])})),this.update((new u.default).retain(t).retain(e,(0,w.default)(r)))}},{key:"getContents",value:function(t,e){return this.delta.slice(t,t+e)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce((function(t,e){return t.concat(e.delta())}),new u.default)}},{key:"getFormat",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[],r=[];0===e?this.scroll.path(t).forEach((function(t){var e=o(t,1),i=e[0];i instanceof g.default?n.push(i):i instanceof f.default.Leaf&&r.push(i)})):(n=this.scroll.lines(t,e),r=this.scroll.descendants(f.default.Leaf,t,e));var i=[n,r].map((function(t){if(0===t.length)return{};var e=(0,v.bubbleFormats)(t.shift());while(Object.keys(e).length>0){var n=t.shift();if(null==n)return e;e=R((0,v.bubbleFormats)(n),e)}return e}));return O.default.apply(O.default,i)}},{key:"getText",value:function(t,e){return this.getContents(t,e).filter((function(t){return"string"===typeof t.insert})).map((function(t){return t.insert})).join("")}},{key:"insertEmbed",value:function(t,e,n){return this.scroll.insertAt(t,e,n),this.update((new u.default).retain(t).insert(E({},e,n)))}},{key:"insertText",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e=e.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(t,e),Object.keys(r).forEach((function(o){n.scroll.formatAt(t,e.length,o,r[o])})),this.update((new u.default).retain(t).insert(e,(0,w.default)(r)))}},{key:"isBlank",value:function(){if(0==this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var t=this.scroll.children.head;return t.statics.blotName===g.default.blotName&&(!(t.children.length>1)&&t.children.head instanceof y.default)}},{key:"removeFormat",value:function(t,e){var n=this.getText(t,e),r=this.scroll.line(t+e),i=o(r,2),a=i[0],c=i[1],s=0,l=new u.default;null!=a&&(s=a instanceof p.default?a.newlineIndex(c)-c+1:a.length()-c,l=a.delta().slice(c,c+s-1).insert("\n"));var f=this.getContents(t,e+s),d=f.diff((new u.default).insert(n).concat(l)),m=(new u.default).retain(t).concat(d);return this.applyDelta(m)}},{key:"update",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=this.delta;if(1===e.length&&"characterData"===e[0].type&&e[0].target.data.match(A)&&f.default.find(e[0].target)){var o=f.default.find(e[0].target),i=(0,v.bubbleFormats)(o),a=o.offset(this.scroll),c=e[0].oldValue.replace(h.default.CONTENTS,""),s=(new u.default).insert(c),l=(new u.default).insert(o.value()),d=(new u.default).retain(a).concat(s.diff(l,n));t=d.reduce((function(t,e){return e.insert?t.insert(e.insert,i):t.push(e)}),new u.default),this.delta=r.compose(t)}else this.delta=this.getDelta(),t&&(0,C.default)(r.compose(t),this.delta)||(t=r.diff(this.delta,n));return t}}]),t}();function R(t,e){return Object.keys(e).reduce((function(n,r){return null==t[r]||(e[r]===t[r]?n[r]=e[r]:Array.isArray(e[r])?e[r].indexOf(t[r])<0&&(n[r]=e[r].concat([t[r]])):n[r]=[e[r],t[r]]),n}),{})}function D(t){return t.reduce((function(t,e){if(1===e.insert){var n=(0,w.default)(e.attributes);return delete n["image"],t.insert({image:e.attributes.image},n)}if(null==e.attributes||!0!==e.attributes.list&&!0!==e.attributes.bullet||(e=(0,w.default)(e),e.attributes.list?e.attributes.list="ordered":(e.attributes.list="bullet",delete e.attributes.bullet)),"string"===typeof e.insert){var r=e.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return t.insert(r,e.attributes)}return t.push(e)}),new u.default)}e.default=N},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.Range=void 0;var r=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done);r=!0)if(n.push(a.value),e&&n.length===e)break}catch(c){o=!0,i=c}finally{try{!r&&u["return"]&&u["return"]()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0),a=h(i),u=n(21),c=h(u),s=n(11),l=h(s),f=n(8),d=h(f),p=n(10),m=h(p);function h(t){return t&&t.__esModule?t:{default:t}}function v(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function g(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var b=(0,m.default)("quill:selection"),y=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;g(this,t),this.index=e,this.length=n},x=function(){function t(e,n){var r=this;g(this,t),this.emitter=n,this.scroll=e,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=a.default.create("cursor",this),this.lastRange=this.savedRange=new y(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,(function(){r.mouseDown||setTimeout(r.update.bind(r,d.default.sources.USER),1)})),this.emitter.on(d.default.events.EDITOR_CHANGE,(function(t,e){t===d.default.events.TEXT_CHANGE&&e.length()>0&&r.update(d.default.sources.SILENT)})),this.emitter.on(d.default.events.SCROLL_BEFORE_UPDATE,(function(){if(r.hasFocus()){var t=r.getNativeRange();null!=t&&t.start.node!==r.cursor.textNode&&r.emitter.once(d.default.events.SCROLL_UPDATE,(function(){try{r.setNativeRange(t.start.node,t.start.offset,t.end.node,t.end.offset)}catch(e){}}))}})),this.emitter.on(d.default.events.SCROLL_OPTIMIZE,(function(t,e){if(e.range){var n=e.range,o=n.startNode,i=n.startOffset,a=n.endNode,u=n.endOffset;r.setNativeRange(o,i,a,u)}})),this.update(d.default.sources.SILENT)}return o(t,[{key:"handleComposition",value:function(){var t=this;this.root.addEventListener("compositionstart",(function(){t.composing=!0})),this.root.addEventListener("compositionend",(function(){if(t.composing=!1,t.cursor.parent){var e=t.cursor.restore();if(!e)return;setTimeout((function(){t.setNativeRange(e.startNode,e.startOffset,e.endNode,e.endOffset)}),1)}}))}},{key:"handleDragging",value:function(){var t=this;this.emitter.listenDOM("mousedown",document.body,(function(){t.mouseDown=!0})),this.emitter.listenDOM("mouseup",document.body,(function(){t.mouseDown=!1,t.update(d.default.sources.USER)}))}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(t,e){if(null==this.scroll.whitelist||this.scroll.whitelist[t]){this.scroll.update();var n=this.getNativeRange();if(null!=n&&n.native.collapsed&&!a.default.query(t,a.default.Scope.BLOCK)){if(n.start.node!==this.cursor.textNode){var r=a.default.find(n.start.node,!1);if(null==r)return;if(r instanceof a.default.Leaf){var o=r.split(n.start.offset);r.parent.insertBefore(this.cursor,o)}else r.insertBefore(this.cursor,n.start.node);this.cursor.attach()}this.cursor.format(t,e),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.scroll.length();t=Math.min(t,n-1),e=Math.min(t+e,n-1)-t;var o=void 0,i=this.scroll.leaf(t),a=r(i,2),u=a[0],c=a[1];if(null==u)return null;var s=u.position(c,!0),l=r(s,2);o=l[0],c=l[1];var f=document.createRange();if(e>0){f.setStart(o,c);var d=this.scroll.leaf(t+e),p=r(d,2);if(u=p[0],c=p[1],null==u)return null;var m=u.position(c,!0),h=r(m,2);return o=h[0],c=h[1],f.setEnd(o,c),f.getBoundingClientRect()}var v="left",g=void 0;return o instanceof Text?(c<o.data.length?(f.setStart(o,c),f.setEnd(o,c+1)):(f.setStart(o,c-1),f.setEnd(o,c),v="right"),g=f.getBoundingClientRect()):(g=u.domNode.getBoundingClientRect(),c>0&&(v="right")),{bottom:g.top+g.height,height:g.height,left:g[v],right:g[v],top:g.top,width:0}}},{key:"getNativeRange",value:function(){var t=document.getSelection();if(null==t||t.rangeCount<=0)return null;var e=t.getRangeAt(0);if(null==e)return null;var n=this.normalizeNative(e);return b.info("getNativeRange",n),n}},{key:"getRange",value:function(){var t=this.getNativeRange();if(null==t)return[null,null];var e=this.normalizedToRange(t);return[e,t]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(t){var e=this,n=[[t.start.node,t.start.offset]];t.native.collapsed||n.push([t.end.node,t.end.offset]);var o=n.map((function(t){var n=r(t,2),o=n[0],i=n[1],u=a.default.find(o,!0),c=u.offset(e.scroll);return 0===i?c:u instanceof a.default.Container?c+u.length():c+u.index(o,i)})),i=Math.min(Math.max.apply(Math,v(o)),this.scroll.length()-1),u=Math.min.apply(Math,[i].concat(v(o)));return new y(u,i-u)}},{key:"normalizeNative",value:function(t){if(!w(this.root,t.startContainer)||!t.collapsed&&!w(this.root,t.endContainer))return null;var e={start:{node:t.startContainer,offset:t.startOffset},end:{node:t.endContainer,offset:t.endOffset},native:t};return[e.start,e.end].forEach((function(t){var e=t.node,n=t.offset;while(!(e instanceof Text)&&e.childNodes.length>0)if(e.childNodes.length>n)e=e.childNodes[n],n=0;else{if(e.childNodes.length!==n)break;e=e.lastChild,n=e instanceof Text?e.data.length:e.childNodes.length+1}t.node=e,t.offset=n})),e}},{key:"rangeToNative",value:function(t){var e=this,n=t.collapsed?[t.index]:[t.index,t.index+t.length],o=[],i=this.scroll.length();return n.forEach((function(t,n){t=Math.min(i-1,t);var a=void 0,u=e.scroll.leaf(t),c=r(u,2),s=c[0],l=c[1],f=s.position(l,0!==n),d=r(f,2);a=d[0],l=d[1],o.push(a,l)})),o.length<2&&(o=o.concat(o)),o}},{key:"scrollIntoView",value:function(t){var e=this.lastRange;if(null!=e){var n=this.getBounds(e.index,e.length);if(null!=n){var o=this.scroll.length()-1,i=this.scroll.line(Math.min(e.index,o)),a=r(i,1),u=a[0],c=u;if(e.length>0){var s=this.scroll.line(Math.min(e.index+e.length,o)),l=r(s,1);c=l[0]}if(null!=u&&null!=c){var f=t.getBoundingClientRect();n.top<f.top?t.scrollTop-=f.top-n.top:n.bottom>f.bottom&&(t.scrollTop+=n.bottom-f.bottom)}}}}},{key:"setNativeRange",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(b.info("setNativeRange",t,e,n,r),null==t||null!=this.root.parentNode&&null!=t.parentNode&&null!=n.parentNode){var i=document.getSelection();if(null!=i)if(null!=t){this.hasFocus()||this.root.focus();var a=(this.getNativeRange()||{}).native;if(null==a||o||t!==a.startContainer||e!==a.startOffset||n!==a.endContainer||r!==a.endOffset){"BR"==t.tagName&&(e=[].indexOf.call(t.parentNode.childNodes,t),t=t.parentNode),"BR"==n.tagName&&(r=[].indexOf.call(n.parentNode.childNodes,n),n=n.parentNode);var u=document.createRange();u.setStart(t,e),u.setEnd(n,r),i.removeAllRanges(),i.addRange(u)}}else i.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d.default.sources.API;if("string"===typeof e&&(n=e,e=!1),b.info("setRange",t),null!=t){var r=this.rangeToNative(t);this.setNativeRange.apply(this,v(r).concat([e]))}else this.setNativeRange(null);this.update(n)}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d.default.sources.USER,e=this.lastRange,n=this.getRange(),o=r(n,2),i=o[0],a=o[1];if(this.lastRange=i,null!=this.lastRange&&(this.savedRange=this.lastRange),!(0,l.default)(e,this.lastRange)){var u;!this.composing&&null!=a&&a.native.collapsed&&a.start.node!==this.cursor.textNode&&this.cursor.restore();var s,f=[d.default.events.SELECTION_CHANGE,(0,c.default)(this.lastRange),(0,c.default)(e),t];if((u=this.emitter).emit.apply(u,[d.default.events.EDITOR_CHANGE].concat(f)),t!==d.default.sources.SILENT)(s=this.emitter).emit.apply(s,f)}}}]),t}();function w(t,e){try{e.parentNode}catch(n){return!1}return e instanceof Text&&(e=e.parentNode),t.contains(e)}e.Range=y,e.default=x},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},i=n(0),a=u(i);function u(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function l(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var f=function(t){function e(){return c(this,e),s(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,t),r(e,[{key:"insertInto",value:function(t,n){0===t.children.length?o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertInto",this).call(this,t,n):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),e}(a.default.Embed);f.blotName="break",f.tagName="BR",e.default=f},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(44),i=n(30),a=n(1),u=function(t){function e(e){var n=t.call(this,e)||this;return n.build(),n}return r(e,t),e.prototype.appendChild=function(t){this.insertBefore(t)},e.prototype.attach=function(){t.prototype.attach.call(this),this.children.forEach((function(t){t.attach()}))},e.prototype.build=function(){var t=this;this.children=new o.default,[].slice.call(this.domNode.childNodes).reverse().forEach((function(e){try{var n=c(e);t.insertBefore(n,t.children.head||void 0)}catch(r){if(r instanceof a.ParchmentError)return;throw r}}))},e.prototype.deleteAt=function(t,e){if(0===t&&e===this.length())return this.remove();this.children.forEachAt(t,e,(function(t,e,n){t.deleteAt(e,n)}))},e.prototype.descendant=function(t,n){var r=this.children.find(n),o=r[0],i=r[1];return null==t.blotName&&t(o)||null!=t.blotName&&o instanceof t?[o,i]:o instanceof e?o.descendant(t,i):[null,-1]},e.prototype.descendants=function(t,n,r){void 0===n&&(n=0),void 0===r&&(r=Number.MAX_VALUE);var o=[],i=r;return this.children.forEachAt(n,r,(function(n,r,a){(null==t.blotName&&t(n)||null!=t.blotName&&n instanceof t)&&o.push(n),n instanceof e&&(o=o.concat(n.descendants(t,r,i))),i-=a})),o},e.prototype.detach=function(){this.children.forEach((function(t){t.detach()})),t.prototype.detach.call(this)},e.prototype.formatAt=function(t,e,n,r){this.children.forEachAt(t,e,(function(t,e,o){t.formatAt(e,o,n,r)}))},e.prototype.insertAt=function(t,e,n){var r=this.children.find(t),o=r[0],i=r[1];if(o)o.insertAt(i,e,n);else{var u=null==n?a.create("text",e):a.create(e,n);this.appendChild(u)}},e.prototype.insertBefore=function(t,e){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some((function(e){return t instanceof e})))throw new a.ParchmentError("Cannot insert "+t.statics.blotName+" into "+this.statics.blotName);t.insertInto(this,e)},e.prototype.length=function(){return this.children.reduce((function(t,e){return t+e.length()}),0)},e.prototype.moveChildren=function(t,e){this.children.forEach((function(n){t.insertBefore(n,e)}))},e.prototype.optimize=function(e){if(t.prototype.optimize.call(this,e),0===this.children.length)if(null!=this.statics.defaultChild){var n=a.create(this.statics.defaultChild);this.appendChild(n),n.optimize(e)}else this.remove()},e.prototype.path=function(t,n){void 0===n&&(n=!1);var r=this.children.find(t,n),o=r[0],i=r[1],a=[[this,t]];return o instanceof e?a.concat(o.path(i,n)):(null!=o&&a.push([o,i]),a)},e.prototype.removeChild=function(t){this.children.remove(t)},e.prototype.replace=function(n){n instanceof e&&n.moveChildren(this),t.prototype.replace.call(this,n)},e.prototype.split=function(t,e){if(void 0===e&&(e=!1),!e){if(0===t)return this;if(t===this.length())return this.next}var n=this.clone();return this.parent.insertBefore(n,this.next),this.children.forEachAt(t,this.length(),(function(t,r,o){t=t.split(r,e),n.appendChild(t)})),n},e.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},e.prototype.update=function(t,e){var n=this,r=[],o=[];t.forEach((function(t){t.target===n.domNode&&"childList"===t.type&&(r.push.apply(r,t.addedNodes),o.push.apply(o,t.removedNodes))})),o.forEach((function(t){if(!(null!=t.parentNode&&"IFRAME"!==t.tagName&&document.body.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var e=a.find(t);null!=e&&(null!=e.domNode.parentNode&&e.domNode.parentNode!==n.domNode||e.detach())}})),r.filter((function(t){return t.parentNode==n.domNode})).sort((function(t,e){return t===e?0:t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1})).forEach((function(t){var e=null;null!=t.nextSibling&&(e=a.find(t.nextSibling));var r=c(t);r.next==e&&null!=r.next||(null!=r.parent&&r.parent.removeChild(n),n.insertBefore(r,e||void 0))}))},e}(i.default);function c(t){var e=a.find(t);if(null==e)try{e=a.create(t)}catch(n){e=a.create(a.Scope.INLINE),[].slice.call(t.childNodes).forEach((function(t){e.domNode.appendChild(t)})),t.parentNode&&t.parentNode.replaceChild(e.domNode,t),e.attach()}return e}e.default=u},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(12),i=n(31),a=n(17),u=n(1),c=function(t){function e(e){var n=t.call(this,e)||this;return n.attributes=new i.default(n.domNode),n}return r(e,t),e.formats=function(t){return"string"===typeof this.tagName||(Array.isArray(this.tagName)?t.tagName.toLowerCase():void 0)},e.prototype.format=function(t,e){var n=u.query(t);n instanceof o.default?this.attributes.attribute(n,e):e&&(null==n||t===this.statics.blotName&&this.formats()[t]===e||this.replaceWith(t,e))},e.prototype.formats=function(){var t=this.attributes.values(),e=this.statics.formats(this.domNode);return null!=e&&(t[this.statics.blotName]=e),t},e.prototype.replaceWith=function(e,n){var r=t.prototype.replaceWith.call(this,e,n);return this.attributes.copy(r),r},e.prototype.update=function(e,n){var r=this;t.prototype.update.call(this,e,n),e.some((function(t){return t.target===r.domNode&&"attributes"===t.type}))&&this.attributes.build()},e.prototype.wrap=function(n,r){var o=t.prototype.wrap.call(this,n,r);return o instanceof e&&o.statics.scope===this.statics.scope&&this.attributes.move(o),o},e}(a.default);e.default=c},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(30),i=n(1),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.value=function(t){return!0},e.prototype.index=function(t,e){return this.domNode===t||this.domNode.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(e,1):-1},e.prototype.position=function(t,e){var n=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return t>0&&(n+=1),[this.parent.domNode,n]},e.prototype.value=function(){var t;return t={},t[this.statics.blotName]=this.statics.value(this.domNode)||!0,t},e.scope=i.Scope.INLINE_BLOT,e}(o.default);e.default=a},function(t,e,n){var r=n(11),o=n(3),i={attributes:{compose:function(t,e,n){"object"!==typeof t&&(t={}),"object"!==typeof e&&(e={});var r=o(!0,{},e);for(var i in n||(r=Object.keys(r).reduce((function(t,e){return null!=r[e]&&(t[e]=r[e]),t}),{})),t)void 0!==t[i]&&void 0===e[i]&&(r[i]=t[i]);return Object.keys(r).length>0?r:void 0},diff:function(t,e){"object"!==typeof t&&(t={}),"object"!==typeof e&&(e={});var n=Object.keys(t).concat(Object.keys(e)).reduce((function(n,o){return r(t[o],e[o])||(n[o]=void 0===e[o]?null:e[o]),n}),{});return Object.keys(n).length>0?n:void 0},transform:function(t,e,n){if("object"!==typeof t)return e;if("object"===typeof e){if(!n)return e;var r=Object.keys(e).reduce((function(n,r){return void 0===t[r]&&(n[r]=e[r]),n}),{});return Object.keys(r).length>0?r:void 0}}},iterator:function(t){return new a(t)},length:function(t){return"number"===typeof t["delete"]?t["delete"]:"number"===typeof t.retain?t.retain:"string"===typeof t.insert?t.insert.length:1}};function a(t){this.ops=t,this.index=0,this.offset=0}a.prototype.hasNext=function(){return this.peekLength()<1/0},a.prototype.next=function(t){t||(t=1/0);var e=this.ops[this.index];if(e){var n=this.offset,r=i.length(e);if(t>=r-n?(t=r-n,this.index+=1,this.offset=0):this.offset+=t,"number"===typeof e["delete"])return{delete:t};var o={};return e.attributes&&(o.attributes=e.attributes),"number"===typeof e.retain?o.retain=t:"string"===typeof e.insert?o.insert=e.insert.substr(n,t):o.insert=e.insert,o}return{retain:1/0}},a.prototype.peek=function(){return this.ops[this.index]},a.prototype.peekLength=function(){return this.ops[this.index]?i.length(this.ops[this.index])-this.offset:1/0},a.prototype.peekType=function(){return this.ops[this.index]?"number"===typeof this.ops[this.index]["delete"]?"delete":"number"===typeof this.ops[this.index].retain?"retain":"insert":"retain"},a.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var t=this.offset,e=this.index,n=this.next(),r=this.ops.slice(this.index);return this.offset=t,this.index=e,[n].concat(r)}return[]},t.exports=i},function(t,e){var n=function(){"use strict";function t(t,e){return null!=e&&t instanceof e}var e,n,r;try{e=Map}catch(l){e=function(){}}try{n=Set}catch(l){n=function(){}}try{r=Promise}catch(l){r=function(){}}function o(i,a,u,c,l){"object"===typeof a&&(u=a.depth,c=a.prototype,l=a.includeNonEnumerable,a=a.circular);var f=[],d=[],p="undefined"!=typeof Buffer;function m(i,u){if(null===i)return null;if(0===u)return i;var h,v;if("object"!=typeof i)return i;if(t(i,e))h=new e;else if(t(i,n))h=new n;else if(t(i,r))h=new r((function(t,e){i.then((function(e){t(m(e,u-1))}),(function(t){e(m(t,u-1))}))}));else if(o.__isArray(i))h=[];else if(o.__isRegExp(i))h=new RegExp(i.source,s(i)),i.lastIndex&&(h.lastIndex=i.lastIndex);else if(o.__isDate(i))h=new Date(i.getTime());else{if(p&&Buffer.isBuffer(i))return h=Buffer.allocUnsafe?Buffer.allocUnsafe(i.length):new Buffer(i.length),i.copy(h),h;t(i,Error)?h=Object.create(i):"undefined"==typeof c?(v=Object.getPrototypeOf(i),h=Object.create(v)):(h=Object.create(c),v=c)}if(a){var g=f.indexOf(i);if(-1!=g)return d[g];f.push(i),d.push(h)}for(var b in t(i,e)&&i.forEach((function(t,e){var n=m(e,u-1),r=m(t,u-1);h.set(n,r)})),t(i,n)&&i.forEach((function(t){var e=m(t,u-1);h.add(e)})),i){var y;v&&(y=Object.getOwnPropertyDescriptor(v,b)),y&&null==y.set||(h[b]=m(i[b],u-1))}if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(i);for(b=0;b<x.length;b++){var w=x[b],_=Object.getOwnPropertyDescriptor(i,w);(!_||_.enumerable||l)&&(h[w]=m(i[w],u-1),_.enumerable||Object.defineProperty(h,w,{enumerable:!1}))}}if(l){var C=Object.getOwnPropertyNames(i);for(b=0;b<C.length;b++){var k=C[b];_=Object.getOwnPropertyDescriptor(i,k);_&&_.enumerable||(h[k]=m(i[k],u-1),Object.defineProperty(h,k,{enumerable:!1}))}}return h}return"undefined"==typeof a&&(a=!0),"undefined"==typeof u&&(u=1/0),m(i,u)}function i(t){return Object.prototype.toString.call(t)}function a(t){return"object"===typeof t&&"[object Date]"===i(t)}function u(t){return"object"===typeof t&&"[object Array]"===i(t)}function c(t){return"object"===typeof t&&"[object RegExp]"===i(t)}function s(t){var e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),e}return o.clonePrototype=function(t){if(null===t)return null;var e=function(){};return e.prototype=t,new e},o.__objToStr=i,o.__isDate=a,o.__isArray=u,o.__isRegExp=c,o.__getRegExpFlags=s,o}();"object"===typeof t&&t.exports&&(t.exports=n)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done);r=!0)if(n.push(a.value),e&&n.length===e)break}catch(c){o=!0,i=c}finally{try{!r&&u["return"]&&u["return"]()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},a=n(0),u=b(a),c=n(8),s=b(c),l=n(4),f=b(l),d=n(16),p=b(d),m=n(13),h=b(m),v=n(25),g=b(v);function b(t){return t&&t.__esModule?t:{default:t}}function y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function x(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function w(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _(t){return t instanceof f.default||t instanceof l.BlockEmbed}var C=function(t){function e(t,n){y(this,e);var r=x(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.emitter=n.emitter,Array.isArray(n.whitelist)&&(r.whitelist=n.whitelist.reduce((function(t,e){return t[e]=!0,t}),{})),r.domNode.addEventListener("DOMNodeInserted",(function(){})),r.optimize(),r.enable(),r}return w(e,t),o(e,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(t,n){var o=this.line(t),a=r(o,2),u=a[0],c=a[1],s=this.line(t+n),f=r(s,1),d=f[0];if(i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"deleteAt",this).call(this,t,n),null!=d&&u!==d&&c>0){if(u instanceof l.BlockEmbed||d instanceof l.BlockEmbed)return void this.optimize();if(u instanceof h.default){var m=u.newlineIndex(u.length(),!0);if(m>-1&&(u=u.split(m+1),u===d))return void this.optimize()}else if(d instanceof h.default){var v=d.newlineIndex(0);v>-1&&d.split(v+1)}var g=d.children.head instanceof p.default?null:d.children.head;u.moveChildren(d,g),u.remove()}this.optimize()}},{key:"enable",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.domNode.setAttribute("contenteditable",t)}},{key:"formatAt",value:function(t,n,r,o){(null==this.whitelist||this.whitelist[r])&&(i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"formatAt",this).call(this,t,n,r,o),this.optimize())}},{key:"insertAt",value:function(t,n,r){if(null==r||null==this.whitelist||this.whitelist[n]){if(t>=this.length())if(null==r||null==u.default.query(n,u.default.Scope.BLOCK)){var o=u.default.create(this.statics.defaultChild);this.appendChild(o),null==r&&n.endsWith("\n")&&(n=n.slice(0,-1)),o.insertAt(0,n,r)}else{var a=u.default.create(n,r);this.appendChild(a)}else i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertAt",this).call(this,t,n,r);this.optimize()}}},{key:"insertBefore",value:function(t,n){if(t.statics.scope===u.default.Scope.INLINE_BLOT){var r=u.default.create(this.statics.defaultChild);r.appendChild(t),t=r}i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertBefore",this).call(this,t,n)}},{key:"leaf",value:function(t){return this.path(t).pop()||[null,-1]}},{key:"line",value:function(t){return t===this.length()?this.line(t-1):this.descendant(_,t)}},{key:"lines",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE,n=function t(e,n,r){var o=[],i=r;return e.children.forEachAt(n,r,(function(e,n,r){_(e)?o.push(e):e instanceof u.default.Container&&(o=o.concat(t(e,n,i))),i-=r})),o};return n(this,t,e)}},{key:"optimize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!0!==this.batch&&(i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t,n),t.length>0&&this.emitter.emit(s.default.events.SCROLL_OPTIMIZE,t,n))}},{key:"path",value:function(t){return i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"path",this).call(this,t).slice(1)}},{key:"update",value:function(t){if(!0!==this.batch){var n=s.default.sources.USER;"string"===typeof t&&(n=t),Array.isArray(t)||(t=this.observer.takeRecords()),t.length>0&&this.emitter.emit(s.default.events.SCROLL_BEFORE_UPDATE,n,t),i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"update",this).call(this,t.concat([])),t.length>0&&this.emitter.emit(s.default.events.SCROLL_UPDATE,n,t)}}}]),e}(u.default.Scroll);C.blotName="scroll",C.className="ql-editor",C.tagName="DIV",C.defaultChild="block",C.allowedChildren=[f.default,l.BlockEmbed,g.default],e.default=C},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SHORTKEY=e.default=void 0;var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done);r=!0)if(n.push(a.value),e&&n.length===e)break}catch(c){o=!0,i=c}finally{try{!r&&u["return"]&&u["return"]()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(21),u=k(a),c=n(11),s=k(c),l=n(3),f=k(l),d=n(2),p=k(d),m=n(20),h=k(m),v=n(0),g=k(v),b=n(5),y=k(b),x=n(10),w=k(x),_=n(9),C=k(_);function k(t){return t&&t.__esModule?t:{default:t}}function O(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function S(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function T(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var A=(0,w.default)("quill:keyboard"),N=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",R=function(t){function e(t,n){S(this,e);var r=E(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.bindings={},Object.keys(r.options.bindings).forEach((function(e){("list autofill"!==e||null==t.scroll.whitelist||t.scroll.whitelist["list"])&&r.options.bindings[e]&&r.addBinding(r.options.bindings[e])})),r.addBinding({key:e.keys.ENTER,shiftKey:null},L),r.addBinding({key:e.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},(function(){})),/Firefox/i.test(navigator.userAgent)?(r.addBinding({key:e.keys.BACKSPACE},{collapsed:!0},P),r.addBinding({key:e.keys.DELETE},{collapsed:!0},M)):(r.addBinding({key:e.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},P),r.addBinding({key:e.keys.DELETE},{collapsed:!0,suffix:/^.?$/},M)),r.addBinding({key:e.keys.BACKSPACE},{collapsed:!1},B),r.addBinding({key:e.keys.DELETE},{collapsed:!1},B),r.addBinding({key:e.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},P),r.listen(),r}return T(e,t),i(e,null,[{key:"match",value:function(t,e){return e=F(e),!["altKey","ctrlKey","metaKey","shiftKey"].some((function(n){return!!e[n]!==t[n]&&null!==e[n]}))&&e.key===(t.which||t.keyCode)}}]),i(e,[{key:"addBinding",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=F(t);if(null==r||null==r.key)return A.warn("Attempted to add invalid keyboard binding",r);"function"===typeof e&&(e={handler:e}),"function"===typeof n&&(n={handler:n}),r=(0,f.default)(r,e,n),this.bindings[r.key]=this.bindings[r.key]||[],this.bindings[r.key].push(r)}},{key:"listen",value:function(){var t=this;this.quill.root.addEventListener("keydown",(function(n){if(!n.defaultPrevented){var i=n.which||n.keyCode,a=(t.bindings[i]||[]).filter((function(t){return e.match(n,t)}));if(0!==a.length){var u=t.quill.getSelection();if(null!=u&&t.quill.hasFocus()){var c=t.quill.getLine(u.index),l=o(c,2),f=l[0],d=l[1],p=t.quill.getLeaf(u.index),m=o(p,2),h=m[0],v=m[1],b=0===u.length?[h,v]:t.quill.getLeaf(u.index+u.length),y=o(b,2),x=y[0],w=y[1],_=h instanceof g.default.Text?h.value().slice(0,v):"",C=x instanceof g.default.Text?x.value().slice(w):"",k={collapsed:0===u.length,empty:0===u.length&&f.length()<=1,format:t.quill.getFormat(u),offset:d,prefix:_,suffix:C},O=a.some((function(e){if(null!=e.collapsed&&e.collapsed!==k.collapsed)return!1;if(null!=e.empty&&e.empty!==k.empty)return!1;if(null!=e.offset&&e.offset!==k.offset)return!1;if(Array.isArray(e.format)){if(e.format.every((function(t){return null==k.format[t]})))return!1}else if("object"===r(e.format)&&!Object.keys(e.format).every((function(t){return!0===e.format[t]?null!=k.format[t]:!1===e.format[t]?null==k.format[t]:(0,s.default)(e.format[t],k.format[t])})))return!1;return!(null!=e.prefix&&!e.prefix.test(k.prefix))&&(!(null!=e.suffix&&!e.suffix.test(k.suffix))&&!0!==e.handler.call(t,u,k))}));O&&n.preventDefault()}}}}))}}]),e}(C.default);function D(t,e){var n,r=t===R.keys.LEFT?"prefix":"suffix";return n={key:t,shiftKey:e,altKey:null},O(n,r,/^$/),O(n,"handler",(function(n){var r=n.index;t===R.keys.RIGHT&&(r+=n.length+1);var i=this.quill.getLeaf(r),a=o(i,1),u=a[0];return!(u instanceof g.default.Embed)||(t===R.keys.LEFT?e?this.quill.setSelection(n.index-1,n.length+1,y.default.sources.USER):this.quill.setSelection(n.index-1,y.default.sources.USER):e?this.quill.setSelection(n.index,n.length+1,y.default.sources.USER):this.quill.setSelection(n.index+n.length+1,y.default.sources.USER),!1)})),n}function P(t,e){if(!(0===t.index||this.quill.getLength()<=1)){var n=this.quill.getLine(t.index),r=o(n,1),i=r[0],a={};if(0===e.offset){var u=this.quill.getLine(t.index-1),c=o(u,1),s=c[0];if(null!=s&&s.length()>1){var l=i.formats(),f=this.quill.getFormat(t.index-1,1);a=h.default.attributes.diff(l,f)||{}}}var d=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(e.prefix)?2:1;this.quill.deleteText(t.index-d,d,y.default.sources.USER),Object.keys(a).length>0&&this.quill.formatLine(t.index-d,d,a,y.default.sources.USER),this.quill.focus()}}function M(t,e){var n=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(e.suffix)?2:1;if(!(t.index>=this.quill.getLength()-n)){var r={},i=0,a=this.quill.getLine(t.index),u=o(a,1),c=u[0];if(e.offset>=c.length()-1){var s=this.quill.getLine(t.index+1),l=o(s,1),f=l[0];if(f){var d=c.formats(),p=this.quill.getFormat(t.index,1);r=h.default.attributes.diff(d,p)||{},i=f.length()}}this.quill.deleteText(t.index,n,y.default.sources.USER),Object.keys(r).length>0&&this.quill.formatLine(t.index+i-1,n,r,y.default.sources.USER)}}function B(t){var e=this.quill.getLines(t),n={};if(e.length>1){var r=e[0].formats(),o=e[e.length-1].formats();n=h.default.attributes.diff(o,r)||{}}this.quill.deleteText(t,y.default.sources.USER),Object.keys(n).length>0&&this.quill.formatLine(t.index,1,n,y.default.sources.USER),this.quill.setSelection(t.index,y.default.sources.SILENT),this.quill.focus()}function L(t,e){var n=this;t.length>0&&this.quill.scroll.deleteAt(t.index,t.length);var r=Object.keys(e.format).reduce((function(t,n){return g.default.query(n,g.default.Scope.BLOCK)&&!Array.isArray(e.format[n])&&(t[n]=e.format[n]),t}),{});this.quill.insertText(t.index,"\n",r,y.default.sources.USER),this.quill.setSelection(t.index+1,y.default.sources.SILENT),this.quill.focus(),Object.keys(e.format).forEach((function(t){null==r[t]&&(Array.isArray(e.format[t])||"link"!==t&&n.quill.format(t,e.format[t],y.default.sources.USER))}))}function I(t){return{key:R.keys.TAB,shiftKey:!t,format:{"code-block":!0},handler:function(e){var n=g.default.query("code-block"),r=e.index,i=e.length,a=this.quill.scroll.descendant(n,r),u=o(a,2),c=u[0],s=u[1];if(null!=c){var l=this.quill.getIndex(c),f=c.newlineIndex(s,!0)+1,d=c.newlineIndex(l+s+i),p=c.domNode.textContent.slice(f,d).split("\n");s=0,p.forEach((function(e,o){t?(c.insertAt(f+s,n.TAB),s+=n.TAB.length,0===o?r+=n.TAB.length:i+=n.TAB.length):e.startsWith(n.TAB)&&(c.deleteAt(f+s,n.TAB.length),s-=n.TAB.length,0===o?r-=n.TAB.length:i-=n.TAB.length),s+=e.length+1})),this.quill.update(y.default.sources.USER),this.quill.setSelection(r,i,y.default.sources.SILENT)}}}}function j(t){return{key:t[0].toUpperCase(),shortKey:!0,handler:function(e,n){this.quill.format(t,!n.format[t],y.default.sources.USER)}}}function F(t){if("string"===typeof t||"number"===typeof t)return F({key:t});if("object"===("undefined"===typeof t?"undefined":r(t))&&(t=(0,u.default)(t,!1)),"string"===typeof t.key)if(null!=R.keys[t.key.toUpperCase()])t.key=R.keys[t.key.toUpperCase()];else{if(1!==t.key.length)return null;t.key=t.key.toUpperCase().charCodeAt(0)}return t.shortKey&&(t[N]=t.shortKey,delete t.shortKey),t}R.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},R.DEFAULTS={bindings:{bold:j("bold"),italic:j("italic"),underline:j("underline"),indent:{key:R.keys.TAB,format:["blockquote","indent","list"],handler:function(t,e){if(e.collapsed&&0!==e.offset)return!0;this.quill.format("indent","+1",y.default.sources.USER)}},outdent:{key:R.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(t,e){if(e.collapsed&&0!==e.offset)return!0;this.quill.format("indent","-1",y.default.sources.USER)}},"outdent backspace":{key:R.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(t,e){null!=e.format.indent?this.quill.format("indent","-1",y.default.sources.USER):null!=e.format.list&&this.quill.format("list",!1,y.default.sources.USER)}},"indent code-block":I(!0),"outdent code-block":I(!1),"remove tab":{key:R.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(t){this.quill.deleteText(t.index-1,1,y.default.sources.USER)}},tab:{key:R.keys.TAB,handler:function(t){this.quill.history.cutoff();var e=(new p.default).retain(t.index).delete(t.length).insert("\t");this.quill.updateContents(e,y.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index+1,y.default.sources.SILENT)}},"list empty enter":{key:R.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(t,e){this.quill.format("list",!1,y.default.sources.USER),e.format.indent&&this.quill.format("indent",!1,y.default.sources.USER)}},"checklist enter":{key:R.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(t){var e=this.quill.getLine(t.index),n=o(e,2),r=n[0],i=n[1],a=(0,f.default)({},r.formats(),{list:"checked"}),u=(new p.default).retain(t.index).insert("\n",a).retain(r.length()-i-1).retain(1,{list:"unchecked"});this.quill.updateContents(u,y.default.sources.USER),this.quill.setSelection(t.index+1,y.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:R.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(t,e){var n=this.quill.getLine(t.index),r=o(n,2),i=r[0],a=r[1],u=(new p.default).retain(t.index).insert("\n",e.format).retain(i.length()-a-1).retain(1,{header:null});this.quill.updateContents(u,y.default.sources.USER),this.quill.setSelection(t.index+1,y.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(t,e){var n=e.prefix.length,r=this.quill.getLine(t.index),i=o(r,2),a=i[0],u=i[1];if(u>n)return!0;var c=void 0;switch(e.prefix.trim()){case"[]":case"[ ]":c="unchecked";break;case"[x]":c="checked";break;case"-":case"*":c="bullet";break;default:c="ordered"}this.quill.insertText(t.index," ",y.default.sources.USER),this.quill.history.cutoff();var s=(new p.default).retain(t.index-u).delete(n+1).retain(a.length()-2-u).retain(1,{list:c});this.quill.updateContents(s,y.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index-n,y.default.sources.SILENT)}},"code exit":{key:R.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(t){var e=this.quill.getLine(t.index),n=o(e,2),r=n[0],i=n[1],a=(new p.default).retain(t.index+r.length()-i-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(a,y.default.sources.USER)}},"embed left":D(R.keys.LEFT,!1),"embed left shift":D(R.keys.LEFT,!0),"embed right":D(R.keys.RIGHT,!1),"embed right shift":D(R.keys.RIGHT,!0)}},e.default=R,e.SHORTKEY=N},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done);r=!0)if(n.push(a.value),e&&n.length===e)break}catch(c){o=!0,i=c}finally{try{!r&&u["return"]&&u["return"]()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(0),u=l(a),c=n(7),s=l(c);function l(t){return t&&t.__esModule?t:{default:t}}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function p(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var m=function(t){function e(t,n){f(this,e);var r=d(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.selection=n,r.textNode=document.createTextNode(e.CONTENTS),r.domNode.appendChild(r.textNode),r._length=0,r}return p(e,t),i(e,null,[{key:"value",value:function(){}}]),i(e,[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(t,n){if(0!==this._length)return o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n);var r=this,i=0;while(null!=r&&r.statics.scope!==u.default.Scope.BLOCK_BLOT)i+=r.offset(r.parent),r=r.parent;null!=r&&(this._length=e.CONTENTS.length,r.optimize(),r.formatAt(i,e.CONTENTS.length,t,n),this._length=0)}},{key:"index",value:function(t,n){return t===this.textNode?0:o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"index",this).call(this,t,n)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!this.selection.composing&&null!=this.parent){var t=this.textNode,n=this.selection.getNativeRange(),o=void 0,i=void 0,a=void 0;if(null!=n&&n.start.node===t&&n.end.node===t){var c=[t,n.start.offset,n.end.offset];o=c[0],i=c[1],a=c[2]}while(null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==e.CONTENTS){var l=this.textNode.data.split(e.CONTENTS).join("");this.next instanceof s.default?(o=this.next.domNode,this.next.insertAt(0,l),this.textNode.data=e.CONTENTS):(this.textNode.data=l,this.parent.insertBefore(u.default.create(this.textNode),this),this.textNode=document.createTextNode(e.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),null!=i){var f=[i,a].map((function(t){return Math.max(0,Math.min(o.data.length,t-1))})),d=r(f,2);return i=d[0],a=d[1],{startNode:o,startOffset:i,endNode:o,endOffset:a}}}}},{key:"update",value:function(t,e){var n=this;if(t.some((function(t){return"characterData"===t.type&&t.target===n.textNode}))){var r=this.restore();r&&(e.range=r)}}},{key:"value",value:function(){return""}}]),e}(u.default.Embed);m.blotName="cursor",m.className="ql-cursor",m.tagName="span",m.CONTENTS="\ufeff",e.default=m},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),o=u(r),i=n(4),a=u(i);function u(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function l(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var f=function(t){function e(){return c(this,e),s(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,t),e}(o.default.Container);f.allowedChildren=[a.default,i.BlockEmbed,f],e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorStyle=e.ColorClass=e.ColorAttributor=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},i=n(0),a=u(i);function u(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function l(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var f=function(t){function e(){return c(this,e),s(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,t),r(e,[{key:"value",value:function(t){var n=o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"value",this).call(this,t);return n.startsWith("rgb(")?(n=n.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+n.split(",").map((function(t){return("00"+parseInt(t).toString(16)).slice(-2)})).join("")):n}}]),e}(a.default.Attributor.Style),d=new a.default.Attributor.Class("color","ql-color",{scope:a.default.Scope.INLINE}),p=new f("color","color",{scope:a.default.Scope.INLINE});e.ColorAttributor=f,e.ColorClass=d,e.ColorStyle=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sanitize=e.default=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},i=n(6),a=u(i);function u(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function l(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var f=function(t){function e(){return c(this,e),s(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,t),r(e,[{key:"format",value:function(t,n){if(t!==this.statics.blotName||!n)return o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n);n=this.constructor.sanitize(n),this.domNode.setAttribute("href",n)}}],[{key:"create",value:function(t){var n=o(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return t=this.sanitize(t),n.setAttribute("href",t),n.setAttribute("rel","noopener noreferrer"),n.setAttribute("target","_blank"),n}},{key:"formats",value:function(t){return t.getAttribute("href")}},{key:"sanitize",value:function(t){return d(t,this.PROTOCOL_WHITELIST)?t:this.SANITIZED_URL}}]),e}(a.default);function d(t,e){var n=document.createElement("a");n.href=t;var r=n.href.slice(0,n.href.indexOf(":"));return e.indexOf(r)>-1}f.blotName="link",f.tagName="A",f.SANITIZED_URL="about:blank",f.PROTOCOL_WHITELIST=["http","https","mailto","tel"],e.default=f,e.sanitize=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(23),a=s(i),u=n(107),c=s(u);function s(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var f=0;function d(t,e){t.setAttribute(e,!("true"===t.getAttribute(e)))}var p=function(){function t(e){var n=this;l(this,t),this.select=e,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",(function(){n.togglePicker()})),this.label.addEventListener("keydown",(function(t){switch(t.keyCode){case a.default.keys.ENTER:n.togglePicker();break;case a.default.keys.ESCAPE:n.escape(),t.preventDefault();break;default:}})),this.select.addEventListener("change",this.update.bind(this))}return o(t,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),d(this.label,"aria-expanded"),d(this.options,"aria-hidden")}},{key:"buildItem",value:function(t){var e=this,n=document.createElement("span");return n.tabIndex="0",n.setAttribute("role","button"),n.classList.add("ql-picker-item"),t.hasAttribute("value")&&n.setAttribute("data-value",t.getAttribute("value")),t.textContent&&n.setAttribute("data-label",t.textContent),n.addEventListener("click",(function(){e.selectItem(n,!0)})),n.addEventListener("keydown",(function(t){switch(t.keyCode){case a.default.keys.ENTER:e.selectItem(n,!0),t.preventDefault();break;case a.default.keys.ESCAPE:e.escape(),t.preventDefault();break;default:}})),n}},{key:"buildLabel",value:function(){var t=document.createElement("span");return t.classList.add("ql-picker-label"),t.innerHTML=c.default,t.tabIndex="0",t.setAttribute("role","button"),t.setAttribute("aria-expanded","false"),this.container.appendChild(t),t}},{key:"buildOptions",value:function(){var t=this,e=document.createElement("span");e.classList.add("ql-picker-options"),e.setAttribute("aria-hidden","true"),e.tabIndex="-1",e.id="ql-picker-options-"+f,f+=1,this.label.setAttribute("aria-controls",e.id),this.options=e,[].slice.call(this.select.options).forEach((function(n){var r=t.buildItem(n);e.appendChild(r),!0===n.selected&&t.selectItem(r)})),this.container.appendChild(e)}},{key:"buildPicker",value:function(){var t=this;[].slice.call(this.select.attributes).forEach((function(e){t.container.setAttribute(e.name,e.value)})),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var t=this;this.close(),setTimeout((function(){return t.label.focus()}),1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.container.querySelector(".ql-selected");if(t!==n&&(null!=n&&n.classList.remove("ql-selected"),null!=t&&(t.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(t.parentNode.children,t),t.hasAttribute("data-value")?this.label.setAttribute("data-value",t.getAttribute("data-value")):this.label.removeAttribute("data-value"),t.hasAttribute("data-label")?this.label.setAttribute("data-label",t.getAttribute("data-label")):this.label.removeAttribute("data-label"),e))){if("function"===typeof Event)this.select.dispatchEvent(new Event("change"));else if("object"===("undefined"===typeof Event?"undefined":r(Event))){var o=document.createEvent("Event");o.initEvent("change",!0,!0),this.select.dispatchEvent(o)}this.close()}}},{key:"update",value:function(){var t=void 0;if(this.select.selectedIndex>-1){var e=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];t=this.select.options[this.select.selectedIndex],this.selectItem(e)}else this.selectItem(null);var n=null!=t&&t!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",n)}}]),t}();e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),o=A(r),i=n(5),a=A(i),u=n(4),c=A(u),s=n(16),l=A(s),f=n(25),d=A(f),p=n(24),m=A(p),h=n(35),v=A(h),g=n(6),b=A(g),y=n(22),x=A(y),w=n(7),_=A(w),C=n(55),k=A(C),O=n(42),S=A(O),E=n(23),T=A(E);function A(t){return t&&t.__esModule?t:{default:t}}a.default.register({"blots/block":c.default,"blots/block/embed":u.BlockEmbed,"blots/break":l.default,"blots/container":d.default,"blots/cursor":m.default,"blots/embed":v.default,"blots/inline":b.default,"blots/scroll":x.default,"blots/text":_.default,"modules/clipboard":k.default,"modules/history":S.default,"modules/keyboard":T.default}),o.default.register(c.default,l.default,m.default,b.default,x.default,_.default),e.default=a.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),o=function(){function t(t){this.domNode=t,this.domNode[r.DATA_KEY]={blot:this}}return Object.defineProperty(t.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),t.create=function(t){if(null==this.tagName)throw new r.ParchmentError("Blot definition missing tagName");var e;return Array.isArray(this.tagName)?("string"===typeof t&&(t=t.toUpperCase(),parseInt(t).toString()===t&&(t=parseInt(t))),e="number"===typeof t?document.createElement(this.tagName[t-1]):this.tagName.indexOf(t)>-1?document.createElement(t):document.createElement(this.tagName[0])):e=document.createElement(this.tagName),this.className&&e.classList.add(this.className),e},t.prototype.attach=function(){null!=this.parent&&(this.scroll=this.parent.scroll)},t.prototype.clone=function(){var t=this.domNode.cloneNode(!1);return r.create(t)},t.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),delete this.domNode[r.DATA_KEY]},t.prototype.deleteAt=function(t,e){var n=this.isolate(t,e);n.remove()},t.prototype.formatAt=function(t,e,n,o){var i=this.isolate(t,e);if(null!=r.query(n,r.Scope.BLOT)&&o)i.wrap(n,o);else if(null!=r.query(n,r.Scope.ATTRIBUTE)){var a=r.create(this.statics.scope);i.wrap(a),a.format(n,o)}},t.prototype.insertAt=function(t,e,n){var o=null==n?r.create("text",e):r.create(e,n),i=this.split(t);this.parent.insertBefore(o,i)},t.prototype.insertInto=function(t,e){void 0===e&&(e=null),null!=this.parent&&this.parent.children.remove(this);var n=null;t.children.insertBefore(this,e),null!=e&&(n=e.domNode),this.domNode.parentNode==t.domNode&&this.domNode.nextSibling==n||t.domNode.insertBefore(this.domNode,n),this.parent=t,this.attach()},t.prototype.isolate=function(t,e){var n=this.split(t);return n.split(e),n},t.prototype.length=function(){return 1},t.prototype.offset=function(t){return void 0===t&&(t=this.parent),null==this.parent||this==t?0:this.parent.children.offset(this)+this.parent.offset(t)},t.prototype.optimize=function(t){null!=this.domNode[r.DATA_KEY]&&delete this.domNode[r.DATA_KEY].mutations},t.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},t.prototype.replace=function(t){null!=t.parent&&(t.parent.insertBefore(this,t.next),t.remove())},t.prototype.replaceWith=function(t,e){var n="string"===typeof t?r.create(t,e):t;return n.replace(this),n},t.prototype.split=function(t,e){return 0===t?this:this.next},t.prototype.update=function(t,e){},t.prototype.wrap=function(t,e){var n="string"===typeof t?r.create(t,e):t;return null!=this.parent&&this.parent.insertBefore(n,this.next),n.appendChild(this),n},t.blotName="abstract",t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(12),o=n(32),i=n(33),a=n(1),u=function(){function t(t){this.attributes={},this.domNode=t,this.build()}return t.prototype.attribute=function(t,e){e?t.add(this.domNode,e)&&(null!=t.value(this.domNode)?this.attributes[t.attrName]=t:delete this.attributes[t.attrName]):(t.remove(this.domNode),delete this.attributes[t.attrName])},t.prototype.build=function(){var t=this;this.attributes={};var e=r.default.keys(this.domNode),n=o.default.keys(this.domNode),u=i.default.keys(this.domNode);e.concat(n).concat(u).forEach((function(e){var n=a.query(e,a.Scope.ATTRIBUTE);n instanceof r.default&&(t.attributes[n.attrName]=n)}))},t.prototype.copy=function(t){var e=this;Object.keys(this.attributes).forEach((function(n){var r=e.attributes[n].value(e.domNode);t.format(n,r)}))},t.prototype.move=function(t){var e=this;this.copy(t),Object.keys(this.attributes).forEach((function(t){e.attributes[t].remove(e.domNode)})),this.attributes={}},t.prototype.values=function(){var t=this;return Object.keys(this.attributes).reduce((function(e,n){return e[n]=t.attributes[n].value(t.domNode),e}),{})},t}();e.default=u},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(12);function i(t,e){var n=t.getAttribute("class")||"";return n.split(/\s+/).filter((function(t){return 0===t.indexOf(e+"-")}))}var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.keys=function(t){return(t.getAttribute("class")||"").split(/\s+/).map((function(t){return t.split("-").slice(0,-1).join("-")}))},e.prototype.add=function(t,e){return!!this.canAdd(t,e)&&(this.remove(t),t.classList.add(this.keyName+"-"+e),!0)},e.prototype.remove=function(t){var e=i(t,this.keyName);e.forEach((function(e){t.classList.remove(e)})),0===t.classList.length&&t.removeAttribute("class")},e.prototype.value=function(t){var e=i(t,this.keyName)[0]||"",n=e.slice(this.keyName.length+1);return this.canAdd(t,n)?n:""},e}(o.default);e.default=a},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(12);function i(t){var e=t.split("-"),n=e.slice(1).map((function(t){return t[0].toUpperCase()+t.slice(1)})).join("");return e[0]+n}var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.keys=function(t){return(t.getAttribute("style")||"").split(";").map((function(t){var e=t.split(":");return e[0].trim()}))},e.prototype.add=function(t,e){return!!this.canAdd(t,e)&&(t.style[i(this.keyName)]=e,!0)},e.prototype.remove=function(t){t.style[i(this.keyName)]="",t.getAttribute("style")||t.removeAttribute("style")},e.prototype.value=function(t){var e=t.style[i(this.keyName)];return this.canAdd(t,e)?e:""},e}(o.default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(e,n){o(this,t),this.quill=e,this.options=n,this.modules={}}return r(t,[{key:"init",value:function(){var t=this;Object.keys(this.options.modules).forEach((function(e){null==t.modules[e]&&t.addModule(e)}))}},{key:"addModule",value:function(t){var e=this.quill.constructor.import("modules/"+t);return this.modules[t]=new e(this.quill,this.options.modules[t]||{}),this.modules[t]}}]),t}();i.DEFAULTS={modules:{}},i.themes={default:i},e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},i=n(0),a=s(i),u=n(7),c=s(u);function s(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function d(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var p="\ufeff",m=function(t){function e(t){l(this,e);var n=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.contentNode=document.createElement("span"),n.contentNode.setAttribute("contenteditable",!1),[].slice.call(n.domNode.childNodes).forEach((function(t){n.contentNode.appendChild(t)})),n.leftGuard=document.createTextNode(p),n.rightGuard=document.createTextNode(p),n.domNode.appendChild(n.leftGuard),n.domNode.appendChild(n.contentNode),n.domNode.appendChild(n.rightGuard),n}return d(e,t),r(e,[{key:"index",value:function(t,n){return t===this.leftGuard?0:t===this.rightGuard?1:o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"index",this).call(this,t,n)}},{key:"restore",value:function(t){var e=void 0,n=void 0,r=t.data.split(p).join("");if(t===this.leftGuard)if(this.prev instanceof c.default){var o=this.prev.length();this.prev.insertAt(o,r),e={startNode:this.prev.domNode,startOffset:o+r.length}}else n=document.createTextNode(r),this.parent.insertBefore(a.default.create(n),this),e={startNode:n,startOffset:r.length};else t===this.rightGuard&&(this.next instanceof c.default?(this.next.insertAt(0,r),e={startNode:this.next.domNode,startOffset:r.length}):(n=document.createTextNode(r),this.parent.insertBefore(a.default.create(n),this.next),e={startNode:n,startOffset:r.length}));return t.data=p,e}},{key:"update",value:function(t,e){var n=this;t.forEach((function(t){if("characterData"===t.type&&(t.target===n.leftGuard||t.target===n.rightGuard)){var r=n.restore(t.target);r&&(e.range=r)}}))}}]),e}(a.default.Embed);e.default=m},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AlignStyle=e.AlignClass=e.AlignAttribute=void 0;var r=n(0),o=i(r);function i(t){return t&&t.__esModule?t:{default:t}}var a={scope:o.default.Scope.BLOCK,whitelist:["right","center","justify"]},u=new o.default.Attributor.Attribute("align","align",a),c=new o.default.Attributor.Class("align","ql-align",a),s=new o.default.Attributor.Style("align","text-align",a);e.AlignAttribute=u,e.AlignClass=c,e.AlignStyle=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BackgroundStyle=e.BackgroundClass=void 0;var r=n(0),o=a(r),i=n(26);function a(t){return t&&t.__esModule?t:{default:t}}var u=new o.default.Attributor.Class("background","ql-bg",{scope:o.default.Scope.INLINE}),c=new i.ColorAttributor("background","background-color",{scope:o.default.Scope.INLINE});e.BackgroundClass=u,e.BackgroundStyle=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DirectionStyle=e.DirectionClass=e.DirectionAttribute=void 0;var r=n(0),o=i(r);function i(t){return t&&t.__esModule?t:{default:t}}var a={scope:o.default.Scope.BLOCK,whitelist:["rtl"]},u=new o.default.Attributor.Attribute("direction","dir",a),c=new o.default.Attributor.Class("direction","ql-direction",a),s=new o.default.Attributor.Style("direction","direction",a);e.DirectionAttribute=u,e.DirectionClass=c,e.DirectionStyle=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FontClass=e.FontStyle=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},i=n(0),a=u(i);function u(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function l(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var f={scope:a.default.Scope.INLINE,whitelist:["serif","monospace"]},d=new a.default.Attributor.Class("font","ql-font",f),p=function(t){function e(){return c(this,e),s(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,t),r(e,[{key:"value",value:function(t){return o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"value",this).call(this,t).replace(/["']/g,"")}}]),e}(a.default.Attributor.Style),m=new p("font","font-family",f);e.FontStyle=m,e.FontClass=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SizeStyle=e.SizeClass=void 0;var r=n(0),o=i(r);function i(t){return t&&t.__esModule?t:{default:t}}var a=new o.default.Attributor.Class("size","ql-size",{scope:o.default.Scope.INLINE,whitelist:["small","large","huge"]}),u=new o.default.Attributor.Style("size","font-size",{scope:o.default.Scope.INLINE,whitelist:["10px","18px","32px"]});e.SizeClass=a,e.SizeStyle=u},function(t,e,n){"use strict";t.exports={align:{"":n(76),center:n(77),right:n(78),justify:n(79)},background:n(80),blockquote:n(81),bold:n(82),clean:n(83),code:n(58),"code-block":n(58),color:n(84),direction:{"":n(85),rtl:n(86)},float:{center:n(87),full:n(88),left:n(89),right:n(90)},formula:n(91),header:{1:n(92),2:n(93)},italic:n(94),image:n(95),indent:{"+1":n(96),"-1":n(97)},link:n(98),list:{ordered:n(99),bullet:n(100),check:n(101)},script:{sub:n(102),super:n(103)},strike:n(104),underline:n(105),video:n(106)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLastChangeIndex=e.default=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(0),i=l(o),a=n(5),u=l(a),c=n(9),s=l(c);function l(t){return t&&t.__esModule?t:{default:t}}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function p(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var m=function(t){function e(t,n){f(this,e);var r=d(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.lastRecorded=0,r.ignoreChange=!1,r.clear(),r.quill.on(u.default.events.EDITOR_CHANGE,(function(t,e,n,o){t!==u.default.events.TEXT_CHANGE||r.ignoreChange||(r.options.userOnly&&o!==u.default.sources.USER?r.transform(e):r.record(e,n))})),r.quill.keyboard.addBinding({key:"Z",shortKey:!0},r.undo.bind(r)),r.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},r.redo.bind(r)),/Win/i.test(navigator.platform)&&r.quill.keyboard.addBinding({key:"Y",shortKey:!0},r.redo.bind(r)),r}return p(e,t),r(e,[{key:"change",value:function(t,e){if(0!==this.stack[t].length){var n=this.stack[t].pop();this.stack[e].push(n),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(n[t],u.default.sources.USER),this.ignoreChange=!1;var r=v(n[t]);this.quill.setSelection(r)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(t,e){if(0!==t.ops.length){this.stack.redo=[];var n=this.quill.getContents().diff(e),r=Date.now();if(this.lastRecorded+this.options.delay>r&&this.stack.undo.length>0){var o=this.stack.undo.pop();n=n.compose(o.undo),t=o.redo.compose(t)}else this.lastRecorded=r;this.stack.undo.push({redo:t,undo:n}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(t){this.stack.undo.forEach((function(e){e.undo=t.transform(e.undo,!0),e.redo=t.transform(e.redo,!0)})),this.stack.redo.forEach((function(e){e.undo=t.transform(e.undo,!0),e.redo=t.transform(e.redo,!0)}))}},{key:"undo",value:function(){this.change("undo","redo")}}]),e}(s.default);function h(t){var e=t.ops[t.ops.length-1];return null!=e&&(null!=e.insert?"string"===typeof e.insert&&e.insert.endsWith("\n"):null!=e.attributes&&Object.keys(e.attributes).some((function(t){return null!=i.default.query(t,i.default.Scope.BLOCK)})))}function v(t){var e=t.reduce((function(t,e){return t+=e.delete||0,t}),0),n=t.length()-e;return h(t)&&(n-=1),n}m.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},e.default=m,e.getLastChangeIndex=v},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.BaseTooltip=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},i=n(3),a=C(i),u=n(2),c=C(u),s=n(8),l=C(s),f=n(23),d=C(f),p=n(34),m=C(p),h=n(59),v=C(h),g=n(60),b=C(g),y=n(28),x=C(y),w=n(61),_=C(w);function C(t){return t&&t.__esModule?t:{default:t}}function k(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function S(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var E=[!1,"center","right","justify"],T=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],A=[!1,"serif","monospace"],N=["1","2","3",!1],R=["small",!1,"large","huge"],D=function(t){function e(t,n){k(this,e);var r=O(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n)),o=function e(n){if(!document.body.contains(t.root))return document.body.removeEventListener("click",e);null==r.tooltip||r.tooltip.root.contains(n.target)||document.activeElement===r.tooltip.textbox||r.quill.hasFocus()||r.tooltip.hide(),null!=r.pickers&&r.pickers.forEach((function(t){t.container.contains(n.target)||t.close()}))};return t.emitter.listenDOM("click",document.body,o),r}return S(e,t),r(e,[{key:"addModule",value:function(t){var n=o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"addModule",this).call(this,t);return"toolbar"===t&&this.extendToolbar(n),n}},{key:"buildButtons",value:function(t,e){t.forEach((function(t){var n=t.getAttribute("class")||"";n.split(/\s+/).forEach((function(n){if(n.startsWith("ql-")&&(n=n.slice(3),null!=e[n]))if("direction"===n)t.innerHTML=e[n][""]+e[n]["rtl"];else if("string"===typeof e[n])t.innerHTML=e[n];else{var r=t.value||"";null!=r&&e[n][r]&&(t.innerHTML=e[n][r])}}))}))}},{key:"buildPickers",value:function(t,e){var n=this;this.pickers=t.map((function(t){if(t.classList.contains("ql-align"))return null==t.querySelector("option")&&B(t,E),new b.default(t,e.align);if(t.classList.contains("ql-background")||t.classList.contains("ql-color")){var n=t.classList.contains("ql-background")?"background":"color";return null==t.querySelector("option")&&B(t,T,"background"===n?"#ffffff":"#000000"),new v.default(t,e[n])}return null==t.querySelector("option")&&(t.classList.contains("ql-font")?B(t,A):t.classList.contains("ql-header")?B(t,N):t.classList.contains("ql-size")&&B(t,R)),new x.default(t)}));var r=function(){n.pickers.forEach((function(t){t.update()}))};this.quill.on(l.default.events.EDITOR_CHANGE,r)}}]),e}(m.default);D.DEFAULTS=(0,a.default)(!0,{},m.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var t=this,e=this.container.querySelector("input.ql-image[type=file]");null==e&&(e=document.createElement("input"),e.setAttribute("type","file"),e.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),e.classList.add("ql-image"),e.addEventListener("change",(function(){if(null!=e.files&&null!=e.files[0]){var n=new FileReader;n.onload=function(n){var r=t.quill.getSelection(!0);t.quill.updateContents((new c.default).retain(r.index).delete(r.length).insert({image:n.target.result}),l.default.sources.USER),t.quill.setSelection(r.index+1,l.default.sources.SILENT),e.value=""},n.readAsDataURL(e.files[0])}})),this.container.appendChild(e)),e.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var P=function(t){function e(t,n){k(this,e);var r=O(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.textbox=r.root.querySelector('input[type="text"]'),r.listen(),r}return S(e,t),r(e,[{key:"listen",value:function(){var t=this;this.textbox.addEventListener("keydown",(function(e){d.default.match(e,"enter")?(t.save(),e.preventDefault()):d.default.match(e,"escape")&&(t.cancel(),e.preventDefault())}))}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null!=e?this.textbox.value=e:t!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+t)||""),this.root.setAttribute("data-mode",t)}},{key:"restoreFocus",value:function(){var t=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=t}},{key:"save",value:function(){var t=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var e=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",t,l.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",t,l.default.sources.USER)),this.quill.root.scrollTop=e;break;case"video":t=M(t);case"formula":if(!t)break;var n=this.quill.getSelection(!0);if(null!=n){var r=n.index+n.length;this.quill.insertEmbed(r,this.root.getAttribute("data-mode"),t,l.default.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(r+1," ",l.default.sources.USER),this.quill.setSelection(r+2,l.default.sources.USER)}break;default:}this.textbox.value="",this.hide()}}]),e}(_.default);function M(t){var e=t.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||t.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return e?(e[1]||"https")+"://www.youtube.com/embed/"+e[2]+"?showinfo=0":(e=t.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(e[1]||"https")+"://player.vimeo.com/video/"+e[2]+"/":t}function B(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e.forEach((function(e){var r=document.createElement("option");e===n?r.setAttribute("selected","selected"):r.setAttribute("value",e),t.appendChild(r)}))}e.BaseTooltip=P,e.default=D},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){this.head=this.tail=null,this.length=0}return t.prototype.append=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.insertBefore(t[0],null),t.length>1&&this.append.apply(this,t.slice(1))},t.prototype.contains=function(t){var e,n=this.iterator();while(e=n())if(e===t)return!0;return!1},t.prototype.insertBefore=function(t,e){t&&(t.next=e,null!=e?(t.prev=e.prev,null!=e.prev&&(e.prev.next=t),e.prev=t,e===this.head&&(this.head=t)):null!=this.tail?(this.tail.next=t,t.prev=this.tail,this.tail=t):(t.prev=null,this.head=this.tail=t),this.length+=1)},t.prototype.offset=function(t){var e=0,n=this.head;while(null!=n){if(n===t)return e;e+=n.length(),n=n.next}return-1},t.prototype.remove=function(t){this.contains(t)&&(null!=t.prev&&(t.prev.next=t.next),null!=t.next&&(t.next.prev=t.prev),t===this.head&&(this.head=t.next),t===this.tail&&(this.tail=t.prev),this.length-=1)},t.prototype.iterator=function(t){return void 0===t&&(t=this.head),function(){var e=t;return null!=t&&(t=t.next),e}},t.prototype.find=function(t,e){void 0===e&&(e=!1);var n,r=this.iterator();while(n=r()){var o=n.length();if(t<o||e&&t===o&&(null==n.next||0!==n.next.length()))return[n,t];t-=o}return[null,0]},t.prototype.forEach=function(t){var e,n=this.iterator();while(e=n())t(e)},t.prototype.forEachAt=function(t,e,n){if(!(e<=0)){var r,o=this.find(t),i=o[0],a=o[1],u=t-a,c=this.iterator(i);while((r=c())&&u<t+e){var s=r.length();t>u?n(r,t-u,Math.min(e,u+s-t)):n(r,0,Math.min(s,t+e-u)),u+=s}}},t.prototype.map=function(t){return this.reduce((function(e,n){return e.push(t(n)),e}),[])},t.prototype.reduce=function(t,e){var n,r=this.iterator();while(n=r())e=t(e,n);return e},t}();e.default=r},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(17),i=n(1),a={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},u=100,c=function(t){function e(e){var n=t.call(this,e)||this;return n.scroll=n,n.observer=new MutationObserver((function(t){n.update(t)})),n.observer.observe(n.domNode,a),n.attach(),n}return r(e,t),e.prototype.detach=function(){t.prototype.detach.call(this),this.observer.disconnect()},e.prototype.deleteAt=function(e,n){this.update(),0===e&&n===this.length()?this.children.forEach((function(t){t.remove()})):t.prototype.deleteAt.call(this,e,n)},e.prototype.formatAt=function(e,n,r,o){this.update(),t.prototype.formatAt.call(this,e,n,r,o)},e.prototype.insertAt=function(e,n,r){this.update(),t.prototype.insertAt.call(this,e,n,r)},e.prototype.optimize=function(e,n){var r=this;void 0===e&&(e=[]),void 0===n&&(n={}),t.prototype.optimize.call(this,n);var a=[].slice.call(this.observer.takeRecords());while(a.length>0)e.push(a.pop());for(var c=function(t,e){void 0===e&&(e=!0),null!=t&&t!==r&&null!=t.domNode.parentNode&&(null==t.domNode[i.DATA_KEY].mutations&&(t.domNode[i.DATA_KEY].mutations=[]),e&&c(t.parent))},s=function(t){null!=t.domNode[i.DATA_KEY]&&null!=t.domNode[i.DATA_KEY].mutations&&(t instanceof o.default&&t.children.forEach(s),t.optimize(n))},l=e,f=0;l.length>0;f+=1){if(f>=u)throw new Error("[Parchment] Maximum optimize iterations reached");l.forEach((function(t){var e=i.find(t.target,!0);null!=e&&(e.domNode===t.target&&("childList"===t.type?(c(i.find(t.previousSibling,!1)),[].forEach.call(t.addedNodes,(function(t){var e=i.find(t,!1);c(e,!1),e instanceof o.default&&e.children.forEach((function(t){c(t,!1)}))}))):"attributes"===t.type&&c(e.prev)),c(e))})),this.children.forEach(s),l=[].slice.call(this.observer.takeRecords()),a=l.slice();while(a.length>0)e.push(a.pop())}},e.prototype.update=function(e,n){var r=this;void 0===n&&(n={}),e=e||this.observer.takeRecords(),e.map((function(t){var e=i.find(t.target,!0);return null==e?null:null==e.domNode[i.DATA_KEY].mutations?(e.domNode[i.DATA_KEY].mutations=[t],e):(e.domNode[i.DATA_KEY].mutations.push(t),null)})).forEach((function(t){null!=t&&t!==r&&null!=t.domNode[i.DATA_KEY]&&t.update(t.domNode[i.DATA_KEY].mutations||[],n)})),null!=this.domNode[i.DATA_KEY].mutations&&t.prototype.update.call(this,this.domNode[i.DATA_KEY].mutations,n),this.optimize(e,n)},e.blotName="scroll",e.defaultChild="block",e.scope=i.Scope.BLOCK_BLOT,e.tagName="DIV",e}(o.default);e.default=c},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(18),i=n(1);function a(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var n in t)if(t[n]!==e[n])return!1;return!0}var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.formats=function(n){if(n.tagName!==e.tagName)return t.formats.call(this,n)},e.prototype.format=function(n,r){var i=this;n!==this.statics.blotName||r?t.prototype.format.call(this,n,r):(this.children.forEach((function(t){t instanceof o.default||(t=t.wrap(e.blotName,!0)),i.attributes.copy(t)})),this.unwrap())},e.prototype.formatAt=function(e,n,r,o){if(null!=this.formats()[r]||i.query(r,i.Scope.ATTRIBUTE)){var a=this.isolate(e,n);a.format(r,o)}else t.prototype.formatAt.call(this,e,n,r,o)},e.prototype.optimize=function(n){t.prototype.optimize.call(this,n);var r=this.formats();if(0===Object.keys(r).length)return this.unwrap();var o=this.next;o instanceof e&&o.prev===this&&a(r,o.formats())&&(o.moveChildren(this),o.remove())},e.blotName="inline",e.scope=i.Scope.INLINE_BLOT,e.tagName="SPAN",e}(o.default);e.default=u},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(18),i=n(1),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.formats=function(n){var r=i.query(e.blotName).tagName;if(n.tagName!==r)return t.formats.call(this,n)},e.prototype.format=function(n,r){null!=i.query(n,i.Scope.BLOCK)&&(n!==this.statics.blotName||r?t.prototype.format.call(this,n,r):this.replaceWith(e.blotName))},e.prototype.formatAt=function(e,n,r,o){null!=i.query(r,i.Scope.BLOCK)?this.format(r,o):t.prototype.formatAt.call(this,e,n,r,o)},e.prototype.insertAt=function(e,n,r){if(null==r||null!=i.query(n,i.Scope.INLINE))t.prototype.insertAt.call(this,e,n,r);else{var o=this.split(e),a=i.create(n,r);o.parent.insertBefore(a,o)}},e.prototype.update=function(e,n){navigator.userAgent.match(/Trident/)?this.build():t.prototype.update.call(this,e,n)},e.blotName="block",e.scope=i.Scope.BLOCK_BLOT,e.tagName="P",e}(o.default);e.default=a},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(19),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.formats=function(t){},e.prototype.format=function(e,n){t.prototype.formatAt.call(this,0,this.length(),e,n)},e.prototype.formatAt=function(e,n,r,o){0===e&&n===this.length()?this.format(r,o):t.prototype.formatAt.call(this,e,n,r,o)},e.prototype.formats=function(){return this.statics.formats(this.domNode)},e}(o.default);e.default=i},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(19),i=n(1),a=function(t){function e(e){var n=t.call(this,e)||this;return n.text=n.statics.value(n.domNode),n}return r(e,t),e.create=function(t){return document.createTextNode(t)},e.value=function(t){var e=t.data;return e["normalize"]&&(e=e["normalize"]()),e},e.prototype.deleteAt=function(t,e){this.domNode.data=this.text=this.text.slice(0,t)+this.text.slice(t+e)},e.prototype.index=function(t,e){return this.domNode===t?e:-1},e.prototype.insertAt=function(e,n,r){null==r?(this.text=this.text.slice(0,e)+n+this.text.slice(e),this.domNode.data=this.text):t.prototype.insertAt.call(this,e,n,r)},e.prototype.length=function(){return this.text.length},e.prototype.optimize=function(n){t.prototype.optimize.call(this,n),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof e&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},e.prototype.position=function(t,e){return void 0===e&&(e=!1),[this.domNode,t]},e.prototype.split=function(t,e){if(void 0===e&&(e=!1),!e){if(0===t)return this;if(t===this.length())return this.next}var n=i.create(this.domNode.splitText(t));return this.parent.insertBefore(n,this.next),this.text=this.statics.value(this.domNode),n},e.prototype.update=function(t,e){var n=this;t.some((function(t){return"characterData"===t.type&&t.target===n.domNode}))&&(this.text=this.statics.value(this.domNode))},e.prototype.value=function(){return this.text},e.blotName="text",e.scope=i.Scope.INLINE_BLOT,e}(o.default);e.default=a},function(t,e,n){"use strict";var r=document.createElement("div");if(r.classList.toggle("test-class",!1),r.classList.contains("test-class")){var o=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return arguments.length>1&&!this.contains(t)===!e?e:o.call(this,t)}}String.prototype.startsWith||(String.prototype.startsWith=function(t,e){return e=e||0,this.substr(e,t.length)===t}),String.prototype.endsWith||(String.prototype.endsWith=function(t,e){var n=this.toString();("number"!==typeof e||!isFinite(e)||Math.floor(e)!==e||e>n.length)&&(e=n.length),e-=t.length;var r=n.indexOf(t,e);return-1!==r&&r===e}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(t){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!==typeof t)throw new TypeError("predicate must be a function");for(var e,n=Object(this),r=n.length>>>0,o=arguments[1],i=0;i<r;i++)if(e=n[i],t.call(o,e,i,n))return e}}),document.addEventListener("DOMContentLoaded",(function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)}))},function(t,e){var n=-1,r=1,o=0;function i(t,e,n){if(t==e)return t?[[o,t]]:[];(n<0||t.length<n)&&(n=null);var r=s(t,e),i=t.substring(0,r);t=t.substring(r),e=e.substring(r),r=l(t,e);var u=t.substring(t.length-r);t=t.substring(0,t.length-r),e=e.substring(0,e.length-r);var c=a(t,e);return i&&c.unshift([o,i]),u&&c.push([o,u]),d(c),null!=n&&(c=h(c,n)),c=v(c),c}function a(t,e){var a;if(!t)return[[r,e]];if(!e)return[[n,t]];var c=t.length>e.length?t:e,s=t.length>e.length?e:t,l=c.indexOf(s);if(-1!=l)return a=[[r,c.substring(0,l)],[o,s],[r,c.substring(l+s.length)]],t.length>e.length&&(a[0][0]=a[2][0]=n),a;if(1==s.length)return[[n,t],[r,e]];var d=f(t,e);if(d){var p=d[0],m=d[1],h=d[2],v=d[3],g=d[4],b=i(p,h),y=i(m,v);return b.concat([[o,g]],y)}return u(t,e)}function u(t,e){for(var o=t.length,i=e.length,a=Math.ceil((o+i)/2),u=a,s=2*a,l=new Array(s),f=new Array(s),d=0;d<s;d++)l[d]=-1,f[d]=-1;l[u+1]=0,f[u+1]=0;for(var p=o-i,m=p%2!=0,h=0,v=0,g=0,b=0,y=0;y<a;y++){for(var x=-y+h;x<=y-v;x+=2){var w=u+x;E=x==-y||x!=y&&l[w-1]<l[w+1]?l[w+1]:l[w-1]+1;var _=E-x;while(E<o&&_<i&&t.charAt(E)==e.charAt(_))E++,_++;if(l[w]=E,E>o)v+=2;else if(_>i)h+=2;else if(m){var C=u+p-x;if(C>=0&&C<s&&-1!=f[C]){var k=o-f[C];if(E>=k)return c(t,e,E,_)}}}for(var O=-y+g;O<=y-b;O+=2){C=u+O;k=O==-y||O!=y&&f[C-1]<f[C+1]?f[C+1]:f[C-1]+1;var S=k-O;while(k<o&&S<i&&t.charAt(o-k-1)==e.charAt(i-S-1))k++,S++;if(f[C]=k,k>o)b+=2;else if(S>i)g+=2;else if(!m){w=u+p-O;if(w>=0&&w<s&&-1!=l[w]){var E=l[w];_=u+E-w;if(k=o-k,E>=k)return c(t,e,E,_)}}}}return[[n,t],[r,e]]}function c(t,e,n,r){var o=t.substring(0,n),a=e.substring(0,r),u=t.substring(n),c=e.substring(r),s=i(o,a),l=i(u,c);return s.concat(l)}function s(t,e){if(!t||!e||t.charAt(0)!=e.charAt(0))return 0;var n=0,r=Math.min(t.length,e.length),o=r,i=0;while(n<o)t.substring(i,o)==e.substring(i,o)?(n=o,i=n):r=o,o=Math.floor((r-n)/2+n);return o}function l(t,e){if(!t||!e||t.charAt(t.length-1)!=e.charAt(e.length-1))return 0;var n=0,r=Math.min(t.length,e.length),o=r,i=0;while(n<o)t.substring(t.length-o,t.length-i)==e.substring(e.length-o,e.length-i)?(n=o,i=n):r=o,o=Math.floor((r-n)/2+n);return o}function f(t,e){var n=t.length>e.length?t:e,r=t.length>e.length?e:t;if(n.length<4||2*r.length<n.length)return null;function o(t,e,n){var r,o,i,a,u=t.substring(n,n+Math.floor(t.length/4)),c=-1,f="";while(-1!=(c=e.indexOf(u,c+1))){var d=s(t.substring(n),e.substring(c)),p=l(t.substring(0,n),e.substring(0,c));f.length<p+d&&(f=e.substring(c-p,c)+e.substring(c,c+d),r=t.substring(0,n-p),o=t.substring(n+d),i=e.substring(0,c-p),a=e.substring(c+d))}return 2*f.length>=t.length?[r,o,i,a,f]:null}var i,a,u,c,f,d=o(n,r,Math.ceil(n.length/4)),p=o(n,r,Math.ceil(n.length/2));if(!d&&!p)return null;i=p?d&&d[4].length>p[4].length?d:p:d,t.length>e.length?(a=i[0],u=i[1],c=i[2],f=i[3]):(c=i[0],f=i[1],a=i[2],u=i[3]);var m=i[4];return[a,u,c,f,m]}function d(t){t.push([o,""]);var e,i=0,a=0,u=0,c="",f="";while(i<t.length)switch(t[i][0]){case r:u++,f+=t[i][1],i++;break;case n:a++,c+=t[i][1],i++;break;case o:a+u>1?(0!==a&&0!==u&&(e=s(f,c),0!==e&&(i-a-u>0&&t[i-a-u-1][0]==o?t[i-a-u-1][1]+=f.substring(0,e):(t.splice(0,0,[o,f.substring(0,e)]),i++),f=f.substring(e),c=c.substring(e)),e=l(f,c),0!==e&&(t[i][1]=f.substring(f.length-e)+t[i][1],f=f.substring(0,f.length-e),c=c.substring(0,c.length-e))),0===a?t.splice(i-u,a+u,[r,f]):0===u?t.splice(i-a,a+u,[n,c]):t.splice(i-a-u,a+u,[n,c],[r,f]),i=i-a-u+(a?1:0)+(u?1:0)+1):0!==i&&t[i-1][0]==o?(t[i-1][1]+=t[i][1],t.splice(i,1)):i++,u=0,a=0,c="",f="";break}""===t[t.length-1][1]&&t.pop();var p=!1;i=1;while(i<t.length-1)t[i-1][0]==o&&t[i+1][0]==o&&(t[i][1].substring(t[i][1].length-t[i-1][1].length)==t[i-1][1]?(t[i][1]=t[i-1][1]+t[i][1].substring(0,t[i][1].length-t[i-1][1].length),t[i+1][1]=t[i-1][1]+t[i+1][1],t.splice(i-1,1),p=!0):t[i][1].substring(0,t[i+1][1].length)==t[i+1][1]&&(t[i-1][1]+=t[i+1][1],t[i][1]=t[i][1].substring(t[i+1][1].length)+t[i+1][1],t.splice(i+1,1),p=!0)),i++;p&&d(t)}var p=i;function m(t,e){if(0===e)return[o,t];for(var r=0,i=0;i<t.length;i++){var a=t[i];if(a[0]===n||a[0]===o){var u=r+a[1].length;if(e===u)return[i+1,t];if(e<u){t=t.slice();var c=e-r,s=[a[0],a[1].slice(0,c)],l=[a[0],a[1].slice(c)];return t.splice(i,1,s,l),[i+1,t]}r=u}}throw new Error("cursor_pos is out of bounds!")}function h(t,e){var n=m(t,e),r=n[1],i=n[0],a=r[i],u=r[i+1];if(null==a)return t;if(a[0]!==o)return t;if(null!=u&&a[1]+u[1]===u[1]+a[1])return r.splice(i,2,u,a),g(r,i,2);if(null!=u&&0===u[1].indexOf(a[1])){r.splice(i,2,[u[0],a[1]],[0,a[1]]);var c=u[1].slice(a[1].length);return c.length>0&&r.splice(i+2,0,[u[0],c]),g(r,i,3)}return t}function v(t){for(var e=!1,i=function(t){return t.charCodeAt(0)>=56320&&t.charCodeAt(0)<=57343},a=function(t){return t.charCodeAt(t.length-1)>=55296&&t.charCodeAt(t.length-1)<=56319},u=2;u<t.length;u+=1)t[u-2][0]===o&&a(t[u-2][1])&&t[u-1][0]===n&&i(t[u-1][1])&&t[u][0]===r&&i(t[u][1])&&(e=!0,t[u-1][1]=t[u-2][1].slice(-1)+t[u-1][1],t[u][1]=t[u-2][1].slice(-1)+t[u][1],t[u-2][1]=t[u-2][1].slice(0,-1));if(!e)return t;var c=[];for(u=0;u<t.length;u+=1)t[u][1].length>0&&c.push(t[u]);return c}function g(t,e,n){for(var r=e+n-1;r>=0&&r>=e-1;r--)if(r+1<t.length){var o=t[r],i=t[r+1];o[0]===i[1]&&t.splice(r,2,[o[0],o[1]+i[1]])}return t}p.INSERT=r,p.DELETE=n,p.EQUAL=o,t.exports=p},function(t,e){function n(t){var e=[];for(var n in t)e.push(n);return e}e=t.exports="function"===typeof Object.keys?Object.keys:n,e.shim=n},function(t,e){var n="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function r(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function o(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Object.prototype.hasOwnProperty.call(t,"callee")&&!Object.prototype.propertyIsEnumerable.call(t,"callee")||!1}e=t.exports=n?r:o,e.supported=r,e.unsupported=o},function(t,e){"use strict";var n=Object.prototype.hasOwnProperty,r="~";function o(){}function i(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function a(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(r=!1)),a.prototype.eventNames=function(){var t,e,o=[];if(0===this._eventsCount)return o;for(e in t=this._events)n.call(t,e)&&o.push(r?e.slice(1):e);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(t)):o},a.prototype.listeners=function(t,e){var n=r?r+t:t,o=this._events[n];if(e)return!!o;if(!o)return[];if(o.fn)return[o.fn];for(var i=0,a=o.length,u=new Array(a);i<a;i++)u[i]=o[i].fn;return u},a.prototype.emit=function(t,e,n,o,i,a){var u=r?r+t:t;if(!this._events[u])return!1;var c,s,l=this._events[u],f=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),f){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,n),!0;case 4:return l.fn.call(l.context,e,n,o),!0;case 5:return l.fn.call(l.context,e,n,o,i),!0;case 6:return l.fn.call(l.context,e,n,o,i,a),!0}for(s=1,c=new Array(f-1);s<f;s++)c[s-1]=arguments[s];l.fn.apply(l.context,c)}else{var d,p=l.length;for(s=0;s<p;s++)switch(l[s].once&&this.removeListener(t,l[s].fn,void 0,!0),f){case 1:l[s].fn.call(l[s].context);break;case 2:l[s].fn.call(l[s].context,e);break;case 3:l[s].fn.call(l[s].context,e,n);break;case 4:l[s].fn.call(l[s].context,e,n,o);break;default:if(!c)for(d=1,c=new Array(f-1);d<f;d++)c[d-1]=arguments[d];l[s].fn.apply(l[s].context,c)}}return!0},a.prototype.on=function(t,e,n){var o=new i(e,n||this),a=r?r+t:t;return this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],o]:this._events[a].push(o):(this._events[a]=o,this._eventsCount++),this},a.prototype.once=function(t,e,n){var o=new i(e,n||this,!0),a=r?r+t:t;return this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],o]:this._events[a].push(o):(this._events[a]=o,this._eventsCount++),this},a.prototype.removeListener=function(t,e,n,i){var a=r?r+t:t;if(!this._events[a])return this;if(!e)return 0===--this._eventsCount?this._events=new o:delete this._events[a],this;var u=this._events[a];if(u.fn)u.fn!==e||i&&!u.once||n&&u.context!==n||(0===--this._eventsCount?this._events=new o:delete this._events[a]);else{for(var c=0,s=[],l=u.length;c<l;c++)(u[c].fn!==e||i&&!u[c].once||n&&u[c].context!==n)&&s.push(u[c]);s.length?this._events[a]=1===s.length?s[0]:s:0===--this._eventsCount?this._events=new o:delete this._events[a]}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=r?r+t:t,this._events[e]&&(0===--this._eventsCount?this._events=new o:delete this._events[e])):(this._events=new o,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prototype.setMaxListeners=function(){return this},a.prefixed=r,a.EventEmitter=a,"undefined"!==typeof t&&(t.exports=a)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.matchText=e.matchSpacing=e.matchNewline=e.matchBlot=e.matchAttributor=e.default=void 0;var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done);r=!0)if(n.push(a.value),e&&n.length===e)break}catch(c){o=!0,i=c}finally{try{!r&&u["return"]&&u["return"]()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(3),u=S(a),c=n(2),s=S(c),l=n(0),f=S(l),d=n(5),p=S(d),m=n(10),h=S(m),v=n(9),g=S(v),b=n(36),y=n(37),x=n(13),w=S(x),_=n(26),C=n(38),k=n(39),O=n(40);function S(t){return t&&t.__esModule?t:{default:t}}function E(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function T(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function N(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var R=(0,h.default)("quill:clipboard"),D="__ql-matcher",P=[[Node.TEXT_NODE,Z],[Node.TEXT_NODE,K],["br",W],[Node.ELEMENT_NODE,K],[Node.ELEMENT_NODE,V],[Node.ELEMENT_NODE,Y],[Node.ELEMENT_NODE,H],[Node.ELEMENT_NODE,X],["li",G],["b",U.bind(U,"bold")],["i",U.bind(U,"italic")],["style",$]],M=[b.AlignAttribute,C.DirectionAttribute].reduce((function(t,e){return t[e.keyName]=e,t}),{}),B=[b.AlignStyle,y.BackgroundStyle,_.ColorStyle,C.DirectionStyle,k.FontStyle,O.SizeStyle].reduce((function(t,e){return t[e.keyName]=e,t}),{}),L=function(t){function e(t,n){T(this,e);var r=A(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.quill.root.addEventListener("paste",r.onPaste.bind(r)),r.container=r.quill.addContainer("ql-clipboard"),r.container.setAttribute("contenteditable",!0),r.container.setAttribute("tabindex",-1),r.matchers=[],P.concat(r.options.matchers).forEach((function(t){var e=o(t,2),i=e[0],a=e[1];(n.matchVisual||a!==Y)&&r.addMatcher(i,a)})),r}return N(e,t),i(e,[{key:"addMatcher",value:function(t,e){this.matchers.push([t,e])}},{key:"convert",value:function(t){if("string"===typeof t)return this.container.innerHTML=t.replace(/\>\r?\n +\</g,"><"),this.convert();var e=this.quill.getFormat(this.quill.selection.savedRange.index);if(e[w.default.blotName]){var n=this.container.innerText;return this.container.innerHTML="",(new s.default).insert(n,E({},w.default.blotName,e[w.default.blotName]))}var r=this.prepareMatching(),i=o(r,2),a=i[0],u=i[1],c=z(this.container,a,u);return F(c,"\n")&&null==c.ops[c.ops.length-1].attributes&&(c=c.compose((new s.default).retain(c.length()-1).delete(1))),R.log("convert",this.container.innerHTML,c),this.container.innerHTML="",c}},{key:"dangerouslyPasteHTML",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p.default.sources.API;if("string"===typeof t)this.quill.setContents(this.convert(t),e),this.quill.setSelection(0,p.default.sources.SILENT);else{var r=this.convert(e);this.quill.updateContents((new s.default).retain(t).concat(r),n),this.quill.setSelection(t+r.length(),p.default.sources.SILENT)}}},{key:"onPaste",value:function(t){var e=this;if(!t.defaultPrevented&&this.quill.isEnabled()){var n=this.quill.getSelection(),r=(new s.default).retain(n.index),o=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(p.default.sources.SILENT),setTimeout((function(){r=r.concat(e.convert()).delete(n.length),e.quill.updateContents(r,p.default.sources.USER),e.quill.setSelection(r.length()-n.length,p.default.sources.SILENT),e.quill.scrollingContainer.scrollTop=o,e.quill.focus()}),1)}}},{key:"prepareMatching",value:function(){var t=this,e=[],n=[];return this.matchers.forEach((function(r){var i=o(r,2),a=i[0],u=i[1];switch(a){case Node.TEXT_NODE:n.push(u);break;case Node.ELEMENT_NODE:e.push(u);break;default:[].forEach.call(t.container.querySelectorAll(a),(function(t){t[D]=t[D]||[],t[D].push(u)}));break}})),[e,n]}}]),e}(g.default);function I(t,e,n){return"object"===("undefined"===typeof e?"undefined":r(e))?Object.keys(e).reduce((function(t,n){return I(t,n,e[n])}),t):t.reduce((function(t,r){return r.attributes&&r.attributes[e]?t.push(r):t.insert(r.insert,(0,u.default)({},E({},e,n),r.attributes))}),new s.default)}function j(t){if(t.nodeType!==Node.ELEMENT_NODE)return{};var e="__ql-computed-style";return t[e]||(t[e]=window.getComputedStyle(t))}function F(t,e){for(var n="",r=t.ops.length-1;r>=0&&n.length<e.length;--r){var o=t.ops[r];if("string"!==typeof o.insert)break;n=o.insert+n}return n.slice(-1*e.length)===e}function q(t){if(0===t.childNodes.length)return!1;var e=j(t);return["block","list-item"].indexOf(e.display)>-1}function z(t,e,n){return t.nodeType===t.TEXT_NODE?n.reduce((function(e,n){return n(t,e)}),new s.default):t.nodeType===t.ELEMENT_NODE?[].reduce.call(t.childNodes||[],(function(r,o){var i=z(o,e,n);return o.nodeType===t.ELEMENT_NODE&&(i=e.reduce((function(t,e){return e(o,t)}),i),i=(o[D]||[]).reduce((function(t,e){return e(o,t)}),i)),r.concat(i)}),new s.default):new s.default}function U(t,e,n){return I(n,t,!0)}function H(t,e){var n=f.default.Attributor.Attribute.keys(t),r=f.default.Attributor.Class.keys(t),o=f.default.Attributor.Style.keys(t),i={};return n.concat(r).concat(o).forEach((function(e){var n=f.default.query(e,f.default.Scope.ATTRIBUTE);null!=n&&(i[n.attrName]=n.value(t),i[n.attrName])||(n=M[e],null==n||n.attrName!==e&&n.keyName!==e||(i[n.attrName]=n.value(t)||void 0),n=B[e],null==n||n.attrName!==e&&n.keyName!==e||(n=B[e],i[n.attrName]=n.value(t)||void 0))})),Object.keys(i).length>0&&(e=I(e,i)),e}function V(t,e){var n=f.default.query(t);if(null==n)return e;if(n.prototype instanceof f.default.Embed){var r={},o=n.value(t);null!=o&&(r[n.blotName]=o,e=(new s.default).insert(r,n.formats(t)))}else"function"===typeof n.formats&&(e=I(e,n.blotName,n.formats(t)));return e}function W(t,e){return F(e,"\n")||e.insert("\n"),e}function $(){return new s.default}function G(t,e){var n=f.default.query(t);if(null==n||"list-item"!==n.blotName||!F(e,"\n"))return e;var r=-1,o=t.parentNode;while(!o.classList.contains("ql-clipboard"))"list"===(f.default.query(o)||{}).blotName&&(r+=1),o=o.parentNode;return r<=0?e:e.compose((new s.default).retain(e.length()-1).retain(1,{indent:r}))}function K(t,e){return F(e,"\n")||(q(t)||e.length()>0&&t.nextSibling&&q(t.nextSibling))&&e.insert("\n"),e}function Y(t,e){if(q(t)&&null!=t.nextElementSibling&&!F(e,"\n\n")){var n=t.offsetHeight+parseFloat(j(t).marginTop)+parseFloat(j(t).marginBottom);t.nextElementSibling.offsetTop>t.offsetTop+1.5*n&&e.insert("\n")}return e}function X(t,e){var n={},r=t.style||{};return r.fontStyle&&"italic"===j(t).fontStyle&&(n.italic=!0),r.fontWeight&&(j(t).fontWeight.startsWith("bold")||parseInt(j(t).fontWeight)>=700)&&(n.bold=!0),Object.keys(n).length>0&&(e=I(e,n)),parseFloat(r.textIndent||0)>0&&(e=(new s.default).insert("\t").concat(e)),e}function Z(t,e){var n=t.data;if("O:P"===t.parentNode.tagName)return e.insert(n.trim());if(0===n.trim().length&&t.parentNode.classList.contains("ql-clipboard"))return e;if(!j(t.parentNode).whiteSpace.startsWith("pre")){var r=function(t,e){return e=e.replace(/[^\u00a0]/g,""),e.length<1&&t?" ":e};n=n.replace(/\r\n/g," ").replace(/\n/g," "),n=n.replace(/\s\s+/g,r.bind(r,!0)),(null==t.previousSibling&&q(t.parentNode)||null!=t.previousSibling&&q(t.previousSibling))&&(n=n.replace(/^\s+/,r.bind(r,!1))),(null==t.nextSibling&&q(t.parentNode)||null!=t.nextSibling&&q(t.nextSibling))&&(n=n.replace(/\s+$/,r.bind(r,!1)))}return e.insert(n)}L.DEFAULTS={matchers:[],matchVisual:!0},e.default=L,e.matchAttributor=H,e.matchBlot=V,e.matchNewline=K,e.matchSpacing=Y,e.matchText=Z},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},i=n(6),a=u(i);function u(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function l(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var f=function(t){function e(){return c(this,e),s(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,t),r(e,[{key:"optimize",value:function(t){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return o(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),e}(a.default);f.blotName="bold",f.tagName=["STRONG","B"],e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.addControls=e.default=void 0;var r=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done);r=!0)if(n.push(a.value),e&&n.length===e)break}catch(c){o=!0,i=c}finally{try{!r&&u["return"]&&u["return"]()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(2),a=h(i),u=n(0),c=h(u),s=n(5),l=h(s),f=n(10),d=h(f),p=n(9),m=h(p);function h(t){return t&&t.__esModule?t:{default:t}}function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function y(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var x=(0,d.default)("quill:toolbar"),w=function(t){function e(t,n){g(this,e);var o,i=b(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));if(Array.isArray(i.options.container)){var a=document.createElement("div");C(a,i.options.container),t.container.parentNode.insertBefore(a,t.container),i.container=a}else"string"===typeof i.options.container?i.container=document.querySelector(i.options.container):i.container=i.options.container;return i.container instanceof HTMLElement?(i.container.classList.add("ql-toolbar"),i.controls=[],i.handlers={},Object.keys(i.options.handlers).forEach((function(t){i.addHandler(t,i.options.handlers[t])})),[].forEach.call(i.container.querySelectorAll("button, select"),(function(t){i.attach(t)})),i.quill.on(l.default.events.EDITOR_CHANGE,(function(t,e){t===l.default.events.SELECTION_CHANGE&&i.update(e)})),i.quill.on(l.default.events.SCROLL_OPTIMIZE,(function(){var t=i.quill.selection.getRange(),e=r(t,1),n=e[0];i.update(n)})),i):(o=x.error("Container required for toolbar",i.options),b(i,o))}return y(e,t),o(e,[{key:"addHandler",value:function(t,e){this.handlers[t]=e}},{key:"attach",value:function(t){var e=this,n=[].find.call(t.classList,(function(t){return 0===t.indexOf("ql-")}));if(n){if(n=n.slice(3),"BUTTON"===t.tagName&&t.setAttribute("type","button"),null==this.handlers[n]){if(null!=this.quill.scroll.whitelist&&null==this.quill.scroll.whitelist[n])return void x.warn("ignoring attaching to disabled format",n,t);if(null==c.default.query(n))return void x.warn("ignoring attaching to nonexistent format",n,t)}var o="SELECT"===t.tagName?"change":"click";t.addEventListener(o,(function(o){var i=void 0;if("SELECT"===t.tagName){if(t.selectedIndex<0)return;var u=t.options[t.selectedIndex];i=!u.hasAttribute("selected")&&(u.value||!1)}else i=!t.classList.contains("ql-active")&&(t.value||!t.hasAttribute("value")),o.preventDefault();e.quill.focus();var s=e.quill.selection.getRange(),f=r(s,1),d=f[0];if(null!=e.handlers[n])e.handlers[n].call(e,i);else if(c.default.query(n).prototype instanceof c.default.Embed){if(i=prompt("Enter "+n),!i)return;e.quill.updateContents((new a.default).retain(d.index).delete(d.length).insert(v({},n,i)),l.default.sources.USER)}else e.quill.format(n,i,l.default.sources.USER);e.update(d)})),this.controls.push([n,t])}}},{key:"update",value:function(t){var e=null==t?{}:this.quill.getFormat(t);this.controls.forEach((function(n){var o=r(n,2),i=o[0],a=o[1];if("SELECT"===a.tagName){var u=void 0;if(null==t)u=null;else if(null==e[i])u=a.querySelector("option[selected]");else if(!Array.isArray(e[i])){var c=e[i];"string"===typeof c&&(c=c.replace(/\"/g,'\\"')),u=a.querySelector('option[value="'+c+'"]')}null==u?(a.value="",a.selectedIndex=-1):u.selected=!0}else if(null==t)a.classList.remove("ql-active");else if(a.hasAttribute("value")){var s=e[i]===a.getAttribute("value")||null!=e[i]&&e[i].toString()===a.getAttribute("value")||null==e[i]&&!a.getAttribute("value");a.classList.toggle("ql-active",s)}else a.classList.toggle("ql-active",null!=e[i])}))}}]),e}(m.default);function _(t,e,n){var r=document.createElement("button");r.setAttribute("type","button"),r.classList.add("ql-"+e),null!=n&&(r.value=n),t.appendChild(r)}function C(t,e){Array.isArray(e[0])||(e=[e]),e.forEach((function(e){var n=document.createElement("span");n.classList.add("ql-formats"),e.forEach((function(t){if("string"===typeof t)_(n,t);else{var e=Object.keys(t)[0],r=t[e];Array.isArray(r)?k(n,e,r):_(n,e,r)}})),t.appendChild(n)}))}function k(t,e,n){var r=document.createElement("select");r.classList.add("ql-"+e),n.forEach((function(t){var e=document.createElement("option");!1!==t?e.setAttribute("value",t):e.setAttribute("selected","selected"),r.appendChild(e)})),t.appendChild(r)}w.DEFAULTS={},w.DEFAULTS={container:null,handlers:{clean:function(){var t=this,e=this.quill.getSelection();if(null!=e)if(0==e.length){var n=this.quill.getFormat();Object.keys(n).forEach((function(e){null!=c.default.query(e,c.default.Scope.INLINE)&&t.quill.format(e,!1)}))}else this.quill.removeFormat(e,l.default.sources.USER)},direction:function(t){var e=this.quill.getFormat()["align"];"rtl"===t&&null==e?this.quill.format("align","right",l.default.sources.USER):t||"right"!==e||this.quill.format("align",!1,l.default.sources.USER),this.quill.format("direction",t,l.default.sources.USER)},indent:function(t){var e=this.quill.getSelection(),n=this.quill.getFormat(e),r=parseInt(n.indent||0);if("+1"===t||"-1"===t){var o="+1"===t?1:-1;"rtl"===n.direction&&(o*=-1),this.quill.format("indent",r+o,l.default.sources.USER)}},link:function(t){!0===t&&(t=prompt("Enter link URL:")),this.quill.format("link",t,l.default.sources.USER)},list:function(t){var e=this.quill.getSelection(),n=this.quill.getFormat(e);"check"===t?"checked"===n["list"]||"unchecked"===n["list"]?this.quill.format("list",!1,l.default.sources.USER):this.quill.format("list","unchecked",l.default.sources.USER):this.quill.format("list",t,l.default.sources.USER)}}},e.default=w,e.addControls=C},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},i=n(28),a=u(i);function u(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function l(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var f=function(t){function e(t,n){c(this,e);var r=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.label.innerHTML=n,r.container.classList.add("ql-color-picker"),[].slice.call(r.container.querySelectorAll(".ql-picker-item"),0,7).forEach((function(t){t.classList.add("ql-primary")})),r}return l(e,t),r(e,[{key:"buildItem",value:function(t){var n=o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"buildItem",this).call(this,t);return n.style.backgroundColor=t.getAttribute("value")||"",n}},{key:"selectItem",value:function(t,n){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"selectItem",this).call(this,t,n);var r=this.label.querySelector(".ql-color-label"),i=t&&t.getAttribute("data-value")||"";r&&("line"===r.tagName?r.style.stroke=i:r.style.fill=i)}}]),e}(a.default);e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},i=n(28),a=u(i);function u(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function l(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var f=function(t){function e(t,n){c(this,e);var r=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.container.classList.add("ql-icon-picker"),[].forEach.call(r.container.querySelectorAll(".ql-picker-item"),(function(t){t.innerHTML=n[t.getAttribute("data-value")||""]})),r.defaultItem=r.container.querySelector(".ql-selected"),r.selectItem(r.defaultItem),r}return l(e,t),r(e,[{key:"selectItem",value:function(t,n){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"selectItem",this).call(this,t,n),t=t||this.defaultItem,this.label.innerHTML=t.innerHTML}}]),e}(a.default);e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(e,n){var r=this;o(this,t),this.quill=e,this.boundsContainer=n||document.body,this.root=e.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",(function(){r.root.style.marginTop=-1*r.quill.root.scrollTop+"px"})),this.hide()}return r(t,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(t){var e=t.left+t.width/2-this.root.offsetWidth/2,n=t.bottom+this.quill.root.scrollTop;this.root.style.left=e+"px",this.root.style.top=n+"px",this.root.classList.remove("ql-flip");var r=this.boundsContainer.getBoundingClientRect(),o=this.root.getBoundingClientRect(),i=0;if(o.right>r.right&&(i=r.right-o.right,this.root.style.left=e+i+"px"),o.left<r.left&&(i=r.left-o.left,this.root.style.left=e+i+"px"),o.bottom>r.bottom){var a=o.bottom-o.top,u=t.bottom-t.top+a;this.root.style.top=n-u+"px",this.root.classList.add("ql-flip")}return i}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),t}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done);r=!0)if(n.push(a.value),e&&n.length===e)break}catch(c){o=!0,i=c}finally{try{!r&&u["return"]&&u["return"]()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(3),u=g(a),c=n(8),s=g(c),l=n(43),f=g(l),d=n(27),p=g(d),m=n(15),h=n(41),v=g(h);function g(t){return t&&t.__esModule?t:{default:t}}function b(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function x(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var w=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],_=function(t){function e(t,n){b(this,e),null!=n.modules.toolbar&&null==n.modules.toolbar.container&&(n.modules.toolbar.container=w);var r=y(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.quill.container.classList.add("ql-snow"),r}return x(e,t),i(e,[{key:"extendToolbar",value:function(t){t.container.classList.add("ql-snow"),this.buildButtons([].slice.call(t.container.querySelectorAll("button")),v.default),this.buildPickers([].slice.call(t.container.querySelectorAll("select")),v.default),this.tooltip=new C(this.quill,this.options.bounds),t.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},(function(e,n){t.handlers["link"].call(t,!n.format.link)}))}}]),e}(f.default);_.DEFAULTS=(0,u.default)(!0,{},f.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(t){if(t){var e=this.quill.getSelection();if(null==e||0==e.length)return;var n=this.quill.getText(e);/^\S+@\S+\.\S+$/.test(n)&&0!==n.indexOf("mailto:")&&(n="mailto:"+n);var r=this.quill.theme.tooltip;r.edit("link",n)}else this.quill.format("link",!1)}}}}});var C=function(t){function e(t,n){b(this,e);var r=y(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.preview=r.root.querySelector("a.ql-preview"),r}return x(e,t),i(e,[{key:"listen",value:function(){var t=this;o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",(function(e){t.root.classList.contains("ql-editing")?t.save():t.edit("link",t.preview.textContent),e.preventDefault()})),this.root.querySelector("a.ql-remove").addEventListener("click",(function(e){if(null!=t.linkRange){var n=t.linkRange;t.restoreFocus(),t.quill.formatText(n,"link",!1,s.default.sources.USER),delete t.linkRange}e.preventDefault(),t.hide()})),this.quill.on(s.default.events.SELECTION_CHANGE,(function(e,n,o){if(null!=e){if(0===e.length&&o===s.default.sources.USER){var i=t.quill.scroll.descendant(p.default,e.index),a=r(i,2),u=a[0],c=a[1];if(null!=u){t.linkRange=new m.Range(e.index-c,u.length());var l=p.default.formats(u.domNode);return t.preview.textContent=l,t.preview.setAttribute("href",l),t.show(),void t.position(t.quill.getBounds(t.linkRange))}}else delete t.linkRange;t.hide()}}))}},{key:"show",value:function(){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),e}(l.BaseTooltip);C.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),e.default=_},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(29),o=nt(r),i=n(36),a=n(38),u=n(64),c=n(65),s=nt(c),l=n(66),f=nt(l),d=n(67),p=nt(d),m=n(37),h=n(26),v=n(39),g=n(40),b=n(56),y=nt(b),x=n(68),w=nt(x),_=n(27),C=nt(_),k=n(69),O=nt(k),S=n(70),E=nt(S),T=n(71),A=nt(T),N=n(72),R=nt(N),D=n(73),P=nt(D),M=n(13),B=nt(M),L=n(74),I=nt(L),j=n(75),F=nt(j),q=n(57),z=nt(q),U=n(41),H=nt(U),V=n(28),W=nt(V),$=n(59),G=nt($),K=n(60),Y=nt(K),X=n(61),Z=nt(X),J=n(108),Q=nt(J),tt=n(62),et=nt(tt);function nt(t){return t&&t.__esModule?t:{default:t}}o.default.register({"attributors/attribute/direction":a.DirectionAttribute,"attributors/class/align":i.AlignClass,"attributors/class/background":m.BackgroundClass,"attributors/class/color":h.ColorClass,"attributors/class/direction":a.DirectionClass,"attributors/class/font":v.FontClass,"attributors/class/size":g.SizeClass,"attributors/style/align":i.AlignStyle,"attributors/style/background":m.BackgroundStyle,"attributors/style/color":h.ColorStyle,"attributors/style/direction":a.DirectionStyle,"attributors/style/font":v.FontStyle,"attributors/style/size":g.SizeStyle},!0),o.default.register({"formats/align":i.AlignClass,"formats/direction":a.DirectionClass,"formats/indent":u.IndentClass,"formats/background":m.BackgroundStyle,"formats/color":h.ColorStyle,"formats/font":v.FontClass,"formats/size":g.SizeClass,"formats/blockquote":s.default,"formats/code-block":B.default,"formats/header":f.default,"formats/list":p.default,"formats/bold":y.default,"formats/code":M.Code,"formats/italic":w.default,"formats/link":C.default,"formats/script":O.default,"formats/strike":E.default,"formats/underline":A.default,"formats/image":R.default,"formats/video":P.default,"formats/list/item":d.ListItem,"modules/formula":I.default,"modules/syntax":F.default,"modules/toolbar":z.default,"themes/bubble":Q.default,"themes/snow":et.default,"ui/icons":H.default,"ui/picker":W.default,"ui/icon-picker":Y.default,"ui/color-picker":G.default,"ui/tooltip":Z.default},!0),e.default=o.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentClass=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},i=n(0),a=u(i);function u(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function l(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var f=function(t){function e(){return c(this,e),s(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,t),r(e,[{key:"add",value:function(t,n){if("+1"===n||"-1"===n){var r=this.value(t)||0;n="+1"===n?r+1:r-1}return 0===n?(this.remove(t),!0):o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"add",this).call(this,t,n)}},{key:"canAdd",value:function(t,n){return o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"canAdd",this).call(this,t,n)||o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"canAdd",this).call(this,t,parseInt(n))}},{key:"value",value:function(t){return parseInt(o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"value",this).call(this,t))||void 0}}]),e}(a.default.Attributor.Class),d=new f("indent","ql-indent",{scope:a.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});e.IndentClass=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4),o=i(r);function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function c(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=function(t){function e(){return a(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return c(e,t),e}(o.default);s.blotName="blockquote",s.tagName="blockquote",e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(4),i=a(o);function a(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function s(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var l=function(t){function e(){return u(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,t),r(e,null,[{key:"formats",value:function(t){return this.tagName.indexOf(t.tagName)+1}}]),e}(i.default);l.blotName="header",l.tagName=["H1","H2","H3","H4","H5","H6"],e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.ListItem=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},i=n(0),a=f(i),u=n(4),c=f(u),s=n(25),l=f(s);function f(t){return t&&t.__esModule?t:{default:t}}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function h(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var v=function(t){function e(){return p(this,e),m(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return h(e,t),r(e,[{key:"format",value:function(t,n){t!==g.blotName||n?o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n):this.replaceWith(a.default.create(this.statics.scope))}},{key:"remove",value:function(){null==this.prev&&null==this.next?this.parent.remove():o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(t,n){return this.parent.isolate(this.offset(this.parent),this.length()),t===this.parent.statics.blotName?(this.parent.replaceWith(t,n),this):(this.parent.unwrap(),o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"replaceWith",this).call(this,t,n))}}],[{key:"formats",value:function(t){return t.tagName===this.tagName?void 0:o(e.__proto__||Object.getPrototypeOf(e),"formats",this).call(this,t)}}]),e}(c.default);v.blotName="list-item",v.tagName="LI";var g=function(t){function e(t){p(this,e);var n=m(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)),r=function(e){if(e.target.parentNode===t){var r=n.statics.formats(t),o=a.default.find(e.target);"checked"===r?o.format("list","unchecked"):"unchecked"===r&&o.format("list","checked")}};return t.addEventListener("touchstart",r),t.addEventListener("mousedown",r),n}return h(e,t),r(e,null,[{key:"create",value:function(t){var n="ordered"===t?"OL":"UL",r=o(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,n);return"checked"!==t&&"unchecked"!==t||r.setAttribute("data-checked","checked"===t),r}},{key:"formats",value:function(t){return"OL"===t.tagName?"ordered":"UL"===t.tagName?t.hasAttribute("data-checked")?"true"===t.getAttribute("data-checked")?"checked":"unchecked":"bullet":void 0}}]),r(e,[{key:"format",value:function(t,e){this.children.length>0&&this.children.tail.format(t,e)}},{key:"formats",value:function(){return d({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(t,n){if(t instanceof v)o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertBefore",this).call(this,t,n);else{var r=null==n?this.length():n.offset(this),i=this.split(r);i.parent.insertBefore(t,i)}}},{key:"optimize",value:function(t){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t);var n=this.next;null!=n&&n.prev===this&&n.statics.blotName===this.statics.blotName&&n.domNode.tagName===this.domNode.tagName&&n.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(n.moveChildren(this),n.remove())}},{key:"replace",value:function(t){if(t.statics.blotName!==this.statics.blotName){var n=a.default.create(this.statics.defaultChild);t.moveChildren(n),this.appendChild(n)}o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"replace",this).call(this,t)}}]),e}(l.default);g.blotName="list",g.scope=a.default.Scope.BLOCK_BLOT,g.tagName=["OL","UL"],g.defaultChild="list-item",g.allowedChildren=[v],e.ListItem=v,e.default=g},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(56),o=i(r);function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function c(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=function(t){function e(){return a(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return c(e,t),e}(o.default);s.blotName="italic",s.tagName=["EM","I"],e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},i=n(6),a=u(i);function u(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function l(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var f=function(t){function e(){return c(this,e),s(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,t),r(e,null,[{key:"create",value:function(t){return"super"===t?document.createElement("sup"):"sub"===t?document.createElement("sub"):o(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t)}},{key:"formats",value:function(t){return"SUB"===t.tagName?"sub":"SUP"===t.tagName?"super":void 0}}]),e}(a.default);f.blotName="script",f.tagName=["SUB","SUP"],e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(6),o=i(r);function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function c(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=function(t){function e(){return a(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return c(e,t),e}(o.default);s.blotName="strike",s.tagName="S",e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(6),o=i(r);function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function c(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=function(t){function e(){return a(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return c(e,t),e}(o.default);s.blotName="underline",s.tagName="U",e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},i=n(0),a=c(i),u=n(27);function c(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function f(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var d=["alt","height","width"],p=function(t){function e(){return s(this,e),l(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return f(e,t),r(e,[{key:"format",value:function(t,n){d.indexOf(t)>-1?n?this.domNode.setAttribute(t,n):this.domNode.removeAttribute(t):o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n)}}],[{key:"create",value:function(t){var n=o(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return"string"===typeof t&&n.setAttribute("src",this.sanitize(t)),n}},{key:"formats",value:function(t){return d.reduce((function(e,n){return t.hasAttribute(n)&&(e[n]=t.getAttribute(n)),e}),{})}},{key:"match",value:function(t){return/\.(jpe?g|gif|png)$/.test(t)||/^data:image\/.+;base64/.test(t)}},{key:"sanitize",value:function(t){return(0,u.sanitize)(t,["http","https","data"])?t:"//:0"}},{key:"value",value:function(t){return t.getAttribute("src")}}]),e}(a.default.Embed);p.blotName="image",p.tagName="IMG",e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},i=n(4),a=n(27),u=c(a);function c(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function f(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var d=["height","width"],p=function(t){function e(){return s(this,e),l(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return f(e,t),r(e,[{key:"format",value:function(t,n){d.indexOf(t)>-1?n?this.domNode.setAttribute(t,n):this.domNode.removeAttribute(t):o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n)}}],[{key:"create",value:function(t){var n=o(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return n.setAttribute("frameborder","0"),n.setAttribute("allowfullscreen",!0),n.setAttribute("src",this.sanitize(t)),n}},{key:"formats",value:function(t){return d.reduce((function(e,n){return t.hasAttribute(n)&&(e[n]=t.getAttribute(n)),e}),{})}},{key:"sanitize",value:function(t){return u.default.sanitize(t)}},{key:"value",value:function(t){return t.getAttribute("src")}}]),e}(i.BlockEmbed);p.blotName="video",p.className="ql-video",p.tagName="IFRAME",e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.FormulaBlot=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},i=n(35),a=f(i),u=n(5),c=f(u),s=n(9),l=f(s);function f(t){return t&&t.__esModule?t:{default:t}}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function m(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var h=function(t){function e(){return d(this,e),p(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return m(e,t),r(e,null,[{key:"create",value:function(t){var n=o(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return"string"===typeof t&&(window.katex.render(t,n,{throwOnError:!1,errorColor:"#f00"}),n.setAttribute("data-value",t)),n}},{key:"value",value:function(t){return t.getAttribute("data-value")}}]),e}(a.default);h.blotName="formula",h.className="ql-formula",h.tagName="SPAN";var v=function(t){function e(){d(this,e);var t=p(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));if(null==window.katex)throw new Error("Formula module requires KaTeX.");return t}return m(e,t),r(e,null,[{key:"register",value:function(){c.default.register(h,!0)}}]),e}(l.default);e.FormulaBlot=h,e.default=v},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.CodeToken=e.CodeBlock=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},i=n(0),a=p(i),u=n(5),c=p(u),s=n(9),l=p(s),f=n(13),d=p(f);function p(t){return t&&t.__esModule?t:{default:t}}function m(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function v(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var g=function(t){function e(){return m(this,e),h(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return v(e,t),r(e,[{key:"replaceWith",value:function(t){this.domNode.textContent=this.domNode.textContent,this.attach(),o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"replaceWith",this).call(this,t)}},{key:"highlight",value:function(t){var e=this.domNode.textContent;this.cachedText!==e&&((e.trim().length>0||null==this.cachedText)&&(this.domNode.innerHTML=t(e),this.domNode.normalize(),this.attach()),this.cachedText=e)}}]),e}(d.default);g.className="ql-syntax";var b=new a.default.Attributor.Class("token","hljs",{scope:a.default.Scope.INLINE}),y=function(t){function e(t,n){m(this,e);var r=h(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));if("function"!==typeof r.options.highlight)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var o=null;return r.quill.on(c.default.events.SCROLL_OPTIMIZE,(function(){clearTimeout(o),o=setTimeout((function(){r.highlight(),o=null}),r.options.interval)})),r.highlight(),r}return v(e,t),r(e,null,[{key:"register",value:function(){c.default.register(b,!0),c.default.register(g,!0)}}]),r(e,[{key:"highlight",value:function(){var t=this;if(!this.quill.selection.composing){this.quill.update(c.default.sources.USER);var e=this.quill.getSelection();this.quill.scroll.descendants(g).forEach((function(e){e.highlight(t.options.highlight)})),this.quill.update(c.default.sources.SILENT),null!=e&&this.quill.setSelection(e,c.default.sources.SILENT)}}}]),e}(l.default);y.DEFAULTS={highlight:function(){return null==window.hljs?null:function(t){var e=window.hljs.highlightAuto(t);return e.value}}(),interval:1e3},e.CodeBlock=g,e.CodeToken=b,e.default=y},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(t,e){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(t,e){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(t,e){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(t,e){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.BubbleTooltip=void 0;var r=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(3),a=m(i),u=n(8),c=m(u),s=n(43),l=m(s),f=n(15),d=n(41),p=m(d);function m(t){return t&&t.__esModule?t:{default:t}}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function g(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var b=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],y=function(t){function e(t,n){h(this,e),null!=n.modules.toolbar&&null==n.modules.toolbar.container&&(n.modules.toolbar.container=b);var r=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.quill.container.classList.add("ql-bubble"),r}return g(e,t),o(e,[{key:"extendToolbar",value:function(t){this.tooltip=new x(this.quill,this.options.bounds),this.tooltip.root.appendChild(t.container),this.buildButtons([].slice.call(t.container.querySelectorAll("button")),p.default),this.buildPickers([].slice.call(t.container.querySelectorAll("select")),p.default)}}]),e}(l.default);y.DEFAULTS=(0,a.default)(!0,{},l.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(t){t?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var x=function(t){function e(t,n){h(this,e);var r=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.quill.on(c.default.events.EDITOR_CHANGE,(function(t,e,n,o){if(t===c.default.events.SELECTION_CHANGE)if(null!=e&&e.length>0&&o===c.default.sources.USER){r.show(),r.root.style.left="0px",r.root.style.width="",r.root.style.width=r.root.offsetWidth+"px";var i=r.quill.getLines(e.index,e.length);if(1===i.length)r.position(r.quill.getBounds(e));else{var a=i[i.length-1],u=r.quill.getIndex(a),s=Math.min(a.length()-1,e.index+e.length-u),l=r.quill.getBounds(new f.Range(u,s));r.position(l)}}else document.activeElement!==r.textbox&&r.quill.hasFocus()&&r.hide()})),r}return g(e,t),o(e,[{key:"listen",value:function(){var t=this;r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",(function(){t.root.classList.remove("ql-editing")})),this.quill.on(c.default.events.SCROLL_OPTIMIZE,(function(){setTimeout((function(){if(!t.root.classList.contains("ql-hidden")){var e=t.quill.getSelection();null!=e&&t.position(t.quill.getBounds(e))}}),1)}))}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(t){var n=r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"position",this).call(this,t),o=this.root.querySelector(".ql-tooltip-arrow");if(o.style.marginLeft="",0===n)return n;o.style.marginLeft=-1*n-o.offsetWidth/2+"px"}}]),e}(s.BaseTooltip);x.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),e.BubbleTooltip=x,e.default=y},function(t,e,n){t.exports=n(63)}])["default"]}))},1629:function(t,e,n){!function(e,r){t.exports=r(n(6095))}(0,(function(t){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e(e.s=2)}([function(e,n){e.exports=t},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4),o=n.n(r),i=n(6),a=n(5),u=a(o.a,i.a,!1,null,null,null);e.default=u.exports},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.install=e.quillEditor=e.Quill=void 0;var o=n(0),i=r(o),a=n(1),u=r(a),c=window.Quill||i.default,s=function(t,e){e&&(u.default.props.globalOptions.default=function(){return e}),t.component(u.default.name,u.default)},l={Quill:c,quillEditor:u.default,install:s};e.default=l,e.Quill=c,e.quillEditor=u.default,e.install=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={theme:"snow",boundary:document.body,modules:{toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image","video"]]},placeholder:"Insert text here ...",readOnly:!1}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=r(o),a=n(3),u=r(a),c=window.Quill||i.default;"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),r=1;r<arguments.length;r++){var o=arguments[r];if(null!=o)for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])}return n},writable:!0,configurable:!0}),e.default={name:"quill-editor",data:function(){return{_options:{},_content:"",defaultOptions:u.default}},props:{content:String,value:String,disabled:{type:Boolean,default:!1},options:{type:Object,required:!1,default:function(){return{}}},globalOptions:{type:Object,required:!1,default:function(){return{}}}},mounted:function(){this.initialize()},beforeDestroy:function(){this.quill=null,delete this.quill},methods:{initialize:function(){var t=this;this.$el&&(this._options=Object.assign({},this.defaultOptions,this.globalOptions,this.options),this.quill=new c(this.$refs.editor,this._options),this.quill.enable(!1),(this.value||this.content)&&this.quill.pasteHTML(this.value||this.content),this.disabled||this.quill.enable(!0),this.quill.on("selection-change",(function(e){e?t.$emit("focus",t.quill):t.$emit("blur",t.quill)})),this.quill.on("text-change",(function(e,n,r){var o=t.$refs.editor.children[0].innerHTML,i=t.quill,a=t.quill.getText();"<p><br></p>"===o&&(o=""),t._content=o,t.$emit("input",t._content),t.$emit("change",{html:o,text:a,quill:i})})),this.$emit("ready",this.quill))}},watch:{content:function(t,e){this.quill&&(t&&t!==this._content?(this._content=t,this.quill.pasteHTML(t)):t||this.quill.setText(""))},value:function(t,e){this.quill&&(t&&t!==this._content?(this._content=t,this.quill.pasteHTML(t)):t||this.quill.setText(""))},disabled:function(t,e){this.quill&&this.quill.enable(!t)}}}},function(t,e){t.exports=function(t,e,n,r,o,i){var a,u=t=t||{},c=typeof t.default;"object"!==c&&"function"!==c||(a=t,u=t.default);var s,l="function"==typeof u?u.options:u;if(e&&(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0),n&&(l.functional=!0),o&&(l._scopeId=o),i?(s=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(i)},l._ssrRegister=s):r&&(s=r),s){var f=l.functional,d=f?l.render:l.beforeCreate;f?(l._injectStyles=s,l.render=function(t,e){return s.call(e),d(t,e)}):l.beforeCreate=d?[].concat(d,s):[s]}return{esModule:a,exports:u,options:l}}},function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"quill-editor"},[t._t("toolbar"),t._v(" "),n("div",{ref:"editor"})],2)},o=[],i={render:r,staticRenderFns:o};e.a=i}])}))},144:function(t,e,n){"use strict";n.d(e,{ZP:function(){return Xr}});
/*!
 * Vue.js v2.7.14
 * (c) 2014-2022 Evan You
 * Released under the MIT License.
 */
var r=Object.freeze({}),o=Array.isArray;function i(t){return void 0===t||null===t}function a(t){return void 0!==t&&null!==t}function u(t){return!0===t}function c(t){return!1===t}function s(t){return"string"===typeof t||"number"===typeof t||"symbol"===typeof t||"boolean"===typeof t}function l(t){return"function"===typeof t}function f(t){return null!==t&&"object"===typeof t}var d=Object.prototype.toString;function p(t){return"[object Object]"===d.call(t)}function m(t){return"[object RegExp]"===d.call(t)}function h(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}function v(t){return a(t)&&"function"===typeof t.then&&"function"===typeof t.catch}function g(t){return null==t?"":Array.isArray(t)||p(t)&&t.toString===d?JSON.stringify(t,null,2):String(t)}function b(t){var e=parseFloat(t);return isNaN(e)?t:e}function y(t,e){for(var n=Object.create(null),r=t.split(","),o=0;o<r.length;o++)n[r[o]]=!0;return e?function(t){return n[t.toLowerCase()]}:function(t){return n[t]}}y("slot,component",!0);var x=y("key,ref,slot,slot-scope,is");function w(t,e){var n=t.length;if(n){if(e===t[n-1])return void(t.length=n-1);var r=t.indexOf(e);if(r>-1)return t.splice(r,1)}}var _=Object.prototype.hasOwnProperty;function C(t,e){return _.call(t,e)}function k(t){var e=Object.create(null);return function(n){var r=e[n];return r||(e[n]=t(n))}}var O=/-(\w)/g,S=k((function(t){return t.replace(O,(function(t,e){return e?e.toUpperCase():""}))})),E=k((function(t){return t.charAt(0).toUpperCase()+t.slice(1)})),T=/\B([A-Z])/g,A=k((function(t){return t.replace(T,"-$1").toLowerCase()}));function N(t,e){function n(n){var r=arguments.length;return r?r>1?t.apply(e,arguments):t.call(e,n):t.call(e)}return n._length=t.length,n}function R(t,e){return t.bind(e)}var D=Function.prototype.bind?R:N;function P(t,e){e=e||0;var n=t.length-e,r=new Array(n);while(n--)r[n]=t[n+e];return r}function M(t,e){for(var n in e)t[n]=e[n];return t}function B(t){for(var e={},n=0;n<t.length;n++)t[n]&&M(e,t[n]);return e}function L(t,e,n){}var I=function(t,e,n){return!1},j=function(t){return t};function F(t,e){if(t===e)return!0;var n=f(t),r=f(e);if(!n||!r)return!n&&!r&&String(t)===String(e);try{var o=Array.isArray(t),i=Array.isArray(e);if(o&&i)return t.length===e.length&&t.every((function(t,n){return F(t,e[n])}));if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(o||i)return!1;var a=Object.keys(t),u=Object.keys(e);return a.length===u.length&&a.every((function(n){return F(t[n],e[n])}))}catch(c){return!1}}function q(t,e){for(var n=0;n<t.length;n++)if(F(t[n],e))return n;return-1}function z(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}function U(t,e){return t===e?0===t&&1/t!==1/e:t===t||e===e}var H="data-server-rendered",V=["component","directive","filter"],W=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch","renderTracked","renderTriggered"],$={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:I,isReservedAttr:I,isUnknownElement:I,getTagNamespace:L,parsePlatformTagName:j,mustUseProp:I,async:!0,_lifecycleHooks:W},G=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function K(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function Y(t,e,n,r){Object.defineProperty(t,e,{value:n,enumerable:!!r,writable:!0,configurable:!0})}var X=new RegExp("[^".concat(G.source,".$_\\d]"));function Z(t){if(!X.test(t)){var e=t.split(".");return function(t){for(var n=0;n<e.length;n++){if(!t)return;t=t[e[n]]}return t}}}var J="__proto__"in{},Q="undefined"!==typeof window,tt=Q&&window.navigator.userAgent.toLowerCase(),et=tt&&/msie|trident/.test(tt),nt=tt&&tt.indexOf("msie 9.0")>0,rt=tt&&tt.indexOf("edge/")>0;tt&&tt.indexOf("android");var ot=tt&&/iphone|ipad|ipod|ios/.test(tt);tt&&/chrome\/\d+/.test(tt),tt&&/phantomjs/.test(tt);var it,at=tt&&tt.match(/firefox\/(\d+)/),ut={}.watch,ct=!1;if(Q)try{var st={};Object.defineProperty(st,"passive",{get:function(){ct=!0}}),window.addEventListener("test-passive",null,st)}catch(Za){}var lt=function(){return void 0===it&&(it=!Q&&"undefined"!==typeof n.g&&(n.g["process"]&&"server"===n.g["process"].env.VUE_ENV)),it},ft=Q&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function dt(t){return"function"===typeof t&&/native code/.test(t.toString())}var pt,mt="undefined"!==typeof Symbol&&dt(Symbol)&&"undefined"!==typeof Reflect&&dt(Reflect.ownKeys);pt="undefined"!==typeof Set&&dt(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var ht=null;function vt(t){void 0===t&&(t=null),t||ht&&ht._scope.off(),ht=t,t&&t._scope.on()}var gt=function(){function t(t,e,n,r,o,i,a,u){this.tag=t,this.data=e,this.children=n,this.text=r,this.elm=o,this.ns=void 0,this.context=i,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=a,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=u,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1}return Object.defineProperty(t.prototype,"child",{get:function(){return this.componentInstance},enumerable:!1,configurable:!0}),t}(),bt=function(t){void 0===t&&(t="");var e=new gt;return e.text=t,e.isComment=!0,e};function yt(t){return new gt(void 0,void 0,void 0,String(t))}function xt(t){var e=new gt(t.tag,t.data,t.children&&t.children.slice(),t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.fnContext=t.fnContext,e.fnOptions=t.fnOptions,e.fnScopeId=t.fnScopeId,e.asyncMeta=t.asyncMeta,e.isCloned=!0,e}var wt=0,_t=[],Ct=function(){for(var t=0;t<_t.length;t++){var e=_t[t];e.subs=e.subs.filter((function(t){return t})),e._pending=!1}_t.length=0},kt=function(){function t(){this._pending=!1,this.id=wt++,this.subs=[]}return t.prototype.addSub=function(t){this.subs.push(t)},t.prototype.removeSub=function(t){this.subs[this.subs.indexOf(t)]=null,this._pending||(this._pending=!0,_t.push(this))},t.prototype.depend=function(e){t.target&&t.target.addDep(this)},t.prototype.notify=function(t){var e=this.subs.filter((function(t){return t}));for(var n=0,r=e.length;n<r;n++){var o=e[n];0,o.update()}},t}();kt.target=null;var Ot=[];function St(t){Ot.push(t),kt.target=t}function Et(){Ot.pop(),kt.target=Ot[Ot.length-1]}var Tt=Array.prototype,At=Object.create(Tt),Nt=["push","pop","shift","unshift","splice","sort","reverse"];Nt.forEach((function(t){var e=Tt[t];Y(At,t,(function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o,i=e.apply(this,n),a=this.__ob__;switch(t){case"push":case"unshift":o=n;break;case"splice":o=n.slice(2);break}return o&&a.observeArray(o),a.dep.notify(),i}))}));var Rt=Object.getOwnPropertyNames(At),Dt={},Pt=!0;function Mt(t){Pt=t}var Bt={notify:L,depend:L,addSub:L,removeSub:L},Lt=function(){function t(t,e,n){if(void 0===e&&(e=!1),void 0===n&&(n=!1),this.value=t,this.shallow=e,this.mock=n,this.dep=n?Bt:new kt,this.vmCount=0,Y(t,"__ob__",this),o(t)){if(!n)if(J)t.__proto__=At;else for(var r=0,i=Rt.length;r<i;r++){var a=Rt[r];Y(t,a,At[a])}e||this.observeArray(t)}else{var u=Object.keys(t);for(r=0;r<u.length;r++){a=u[r];jt(t,a,Dt,void 0,e,n)}}}return t.prototype.observeArray=function(t){for(var e=0,n=t.length;e<n;e++)It(t[e],!1,this.mock)},t}();function It(t,e,n){return t&&C(t,"__ob__")&&t.__ob__ instanceof Lt?t.__ob__:!Pt||!n&&lt()||!o(t)&&!p(t)||!Object.isExtensible(t)||t.__v_skip||Wt(t)||t instanceof gt?void 0:new Lt(t,e,n)}function jt(t,e,n,r,i,a){var u=new kt,c=Object.getOwnPropertyDescriptor(t,e);if(!c||!1!==c.configurable){var s=c&&c.get,l=c&&c.set;s&&!l||n!==Dt&&2!==arguments.length||(n=t[e]);var f=!i&&It(n,!1,a);return Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=s?s.call(t):n;return kt.target&&(u.depend(),f&&(f.dep.depend(),o(e)&&zt(e))),Wt(e)&&!i?e.value:e},set:function(e){var r=s?s.call(t):n;if(U(r,e)){if(l)l.call(t,e);else{if(s)return;if(!i&&Wt(r)&&!Wt(e))return void(r.value=e);n=e}f=!i&&It(e,!1,a),u.notify()}}}),u}}function Ft(t,e,n){if(!Vt(t)){var r=t.__ob__;return o(t)&&h(e)?(t.length=Math.max(t.length,e),t.splice(e,1,n),r&&!r.shallow&&r.mock&&It(n,!1,!0),n):e in t&&!(e in Object.prototype)?(t[e]=n,n):t._isVue||r&&r.vmCount?n:r?(jt(r.value,e,n,void 0,r.shallow,r.mock),r.dep.notify(),n):(t[e]=n,n)}}function qt(t,e){if(o(t)&&h(e))t.splice(e,1);else{var n=t.__ob__;t._isVue||n&&n.vmCount||Vt(t)||C(t,e)&&(delete t[e],n&&n.dep.notify())}}function zt(t){for(var e=void 0,n=0,r=t.length;n<r;n++)e=t[n],e&&e.__ob__&&e.__ob__.dep.depend(),o(e)&&zt(e)}function Ut(t){return Ht(t,!0),Y(t,"__v_isShallow",!0),t}function Ht(t,e){if(!Vt(t)){It(t,e,lt());0}}function Vt(t){return!(!t||!t.__v_isReadonly)}function Wt(t){return!(!t||!0!==t.__v_isRef)}function $t(t,e,n){Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:function(){var t=e[n];if(Wt(t))return t.value;var r=t&&t.__ob__;return r&&r.dep.depend(),t},set:function(t){var r=e[n];Wt(r)&&!Wt(t)?r.value=t:e[n]=t}})}var Gt="watcher";"".concat(Gt," callback"),"".concat(Gt," getter"),"".concat(Gt," cleanup");var Kt;var Yt=function(){function t(t){void 0===t&&(t=!1),this.detached=t,this.active=!0,this.effects=[],this.cleanups=[],this.parent=Kt,!t&&Kt&&(this.index=(Kt.scopes||(Kt.scopes=[])).push(this)-1)}return t.prototype.run=function(t){if(this.active){var e=Kt;try{return Kt=this,t()}finally{Kt=e}}else 0},t.prototype.on=function(){Kt=this},t.prototype.off=function(){Kt=this.parent},t.prototype.stop=function(t){if(this.active){var e=void 0,n=void 0;for(e=0,n=this.effects.length;e<n;e++)this.effects[e].teardown();for(e=0,n=this.cleanups.length;e<n;e++)this.cleanups[e]();if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].stop(!0);if(!this.detached&&this.parent&&!t){var r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this.active=!1}},t}();function Xt(t,e){void 0===e&&(e=Kt),e&&e.active&&e.effects.push(t)}function Zt(t){var e=t._provided,n=t.$parent&&t.$parent._provided;return n===e?t._provided=Object.create(n):e}var Jt=k((function(t){var e="&"===t.charAt(0);t=e?t.slice(1):t;var n="~"===t.charAt(0);t=n?t.slice(1):t;var r="!"===t.charAt(0);return t=r?t.slice(1):t,{name:t,once:n,capture:r,passive:e}}));function Qt(t,e){function n(){var t=n.fns;if(!o(t))return Ye(t,null,arguments,e,"v-on handler");for(var r=t.slice(),i=0;i<r.length;i++)Ye(r[i],null,arguments,e,"v-on handler")}return n.fns=t,n}function te(t,e,n,r,o,a){var c,s,l,f;for(c in t)s=t[c],l=e[c],f=Jt(c),i(s)||(i(l)?(i(s.fns)&&(s=t[c]=Qt(s,a)),u(f.once)&&(s=t[c]=o(f.name,s,f.capture)),n(f.name,s,f.capture,f.passive,f.params)):s!==l&&(l.fns=s,t[c]=l));for(c in e)i(t[c])&&(f=Jt(c),r(f.name,e[c],f.capture))}function ee(t,e,n){var r;t instanceof gt&&(t=t.data.hook||(t.data.hook={}));var o=t[e];function c(){n.apply(this,arguments),w(r.fns,c)}i(o)?r=Qt([c]):a(o.fns)&&u(o.merged)?(r=o,r.fns.push(c)):r=Qt([o,c]),r.merged=!0,t[e]=r}function ne(t,e,n){var r=e.options.props;if(!i(r)){var o={},u=t.attrs,c=t.props;if(a(u)||a(c))for(var s in r){var l=A(s);re(o,c,s,l,!0)||re(o,u,s,l,!1)}return o}}function re(t,e,n,r,o){if(a(e)){if(C(e,n))return t[n]=e[n],o||delete e[n],!0;if(C(e,r))return t[n]=e[r],o||delete e[r],!0}return!1}function oe(t){for(var e=0;e<t.length;e++)if(o(t[e]))return Array.prototype.concat.apply([],t);return t}function ie(t){return s(t)?[yt(t)]:o(t)?ue(t):void 0}function ae(t){return a(t)&&a(t.text)&&c(t.isComment)}function ue(t,e){var n,r,c,l,f=[];for(n=0;n<t.length;n++)r=t[n],i(r)||"boolean"===typeof r||(c=f.length-1,l=f[c],o(r)?r.length>0&&(r=ue(r,"".concat(e||"","_").concat(n)),ae(r[0])&&ae(l)&&(f[c]=yt(l.text+r[0].text),r.shift()),f.push.apply(f,r)):s(r)?ae(l)?f[c]=yt(l.text+r):""!==r&&f.push(yt(r)):ae(r)&&ae(l)?f[c]=yt(l.text+r.text):(u(t._isVList)&&a(r.tag)&&i(r.key)&&a(e)&&(r.key="__vlist".concat(e,"_").concat(n,"__")),f.push(r)));return f}function ce(t,e){var n,r,i,u,c=null;if(o(t)||"string"===typeof t)for(c=new Array(t.length),n=0,r=t.length;n<r;n++)c[n]=e(t[n],n);else if("number"===typeof t)for(c=new Array(t),n=0;n<t;n++)c[n]=e(n+1,n);else if(f(t))if(mt&&t[Symbol.iterator]){c=[];var s=t[Symbol.iterator](),l=s.next();while(!l.done)c.push(e(l.value,c.length)),l=s.next()}else for(i=Object.keys(t),c=new Array(i.length),n=0,r=i.length;n<r;n++)u=i[n],c[n]=e(t[u],u,n);return a(c)||(c=[]),c._isVList=!0,c}function se(t,e,n,r){var o,i=this.$scopedSlots[t];i?(n=n||{},r&&(n=M(M({},r),n)),o=i(n)||(l(e)?e():e)):o=this.$slots[t]||(l(e)?e():e);var a=n&&n.slot;return a?this.$createElement("template",{slot:a},o):o}function le(t){return Cr(this.$options,"filters",t,!0)||j}function fe(t,e){return o(t)?-1===t.indexOf(e):t!==e}function de(t,e,n,r,o){var i=$.keyCodes[e]||n;return o&&r&&!$.keyCodes[e]?fe(o,r):i?fe(i,t):r?A(r)!==e:void 0===t}function pe(t,e,n,r,i){if(n)if(f(n)){o(n)&&(n=B(n));var a=void 0,u=function(o){if("class"===o||"style"===o||x(o))a=t;else{var u=t.attrs&&t.attrs.type;a=r||$.mustUseProp(e,u,o)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}var c=S(o),s=A(o);if(!(c in a)&&!(s in a)&&(a[o]=n[o],i)){var l=t.on||(t.on={});l["update:".concat(o)]=function(t){n[o]=t}}};for(var c in n)u(c)}else;return t}function me(t,e){var n=this._staticTrees||(this._staticTrees=[]),r=n[t];return r&&!e||(r=n[t]=this.$options.staticRenderFns[t].call(this._renderProxy,this._c,this),ve(r,"__static__".concat(t),!1)),r}function he(t,e,n){return ve(t,"__once__".concat(e).concat(n?"_".concat(n):""),!0),t}function ve(t,e,n){if(o(t))for(var r=0;r<t.length;r++)t[r]&&"string"!==typeof t[r]&&ge(t[r],"".concat(e,"_").concat(r),n);else ge(t,e,n)}function ge(t,e,n){t.isStatic=!0,t.key=e,t.isOnce=n}function be(t,e){if(e)if(p(e)){var n=t.on=t.on?M({},t.on):{};for(var r in e){var o=n[r],i=e[r];n[r]=o?[].concat(o,i):i}}else;return t}function ye(t,e,n,r){e=e||{$stable:!n};for(var i=0;i<t.length;i++){var a=t[i];o(a)?ye(a,e,n):a&&(a.proxy&&(a.fn.proxy=!0),e[a.key]=a.fn)}return r&&(e.$key=r),e}function xe(t,e){for(var n=0;n<e.length;n+=2){var r=e[n];"string"===typeof r&&r&&(t[e[n]]=e[n+1])}return t}function we(t,e){return"string"===typeof t?e+t:t}function _e(t){t._o=he,t._n=b,t._s=g,t._l=ce,t._t=se,t._q=F,t._i=q,t._m=me,t._f=le,t._k=de,t._b=pe,t._v=yt,t._e=bt,t._u=ye,t._g=be,t._d=xe,t._p=we}function Ce(t,e){if(!t||!t.length)return{};for(var n={},r=0,o=t.length;r<o;r++){var i=t[r],a=i.data;if(a&&a.attrs&&a.attrs.slot&&delete a.attrs.slot,i.context!==e&&i.fnContext!==e||!a||null==a.slot)(n.default||(n.default=[])).push(i);else{var u=a.slot,c=n[u]||(n[u]=[]);"template"===i.tag?c.push.apply(c,i.children||[]):c.push(i)}}for(var s in n)n[s].every(ke)&&delete n[s];return n}function ke(t){return t.isComment&&!t.asyncFactory||" "===t.text}function Oe(t){return t.isComment&&t.asyncFactory}function Se(t,e,n,o){var i,a=Object.keys(n).length>0,u=e?!!e.$stable:!a,c=e&&e.$key;if(e){if(e._normalized)return e._normalized;if(u&&o&&o!==r&&c===o.$key&&!a&&!o.$hasNormal)return o;for(var s in i={},e)e[s]&&"$"!==s[0]&&(i[s]=Ee(t,n,s,e[s]))}else i={};for(var l in n)l in i||(i[l]=Te(n,l));return e&&Object.isExtensible(e)&&(e._normalized=i),Y(i,"$stable",u),Y(i,"$key",c),Y(i,"$hasNormal",a),i}function Ee(t,e,n,r){var i=function(){var e=ht;vt(t);var n=arguments.length?r.apply(null,arguments):r({});n=n&&"object"===typeof n&&!o(n)?[n]:ie(n);var i=n&&n[0];return vt(e),n&&(!i||1===n.length&&i.isComment&&!Oe(i))?void 0:n};return r.proxy&&Object.defineProperty(e,n,{get:i,enumerable:!0,configurable:!0}),i}function Te(t,e){return function(){return t[e]}}function Ae(t){var e=t.$options,n=e.setup;if(n){var r=t._setupContext=Ne(t);vt(t),St();var o=Ye(n,null,[t._props||Ut({}),r],t,"setup");if(Et(),vt(),l(o))e.render=o;else if(f(o))if(t._setupState=o,o.__sfc){var i=t._setupProxy={};for(var a in o)"__sfc"!==a&&$t(i,o,a)}else for(var a in o)K(a)||$t(t,o,a);else 0}}function Ne(t){return{get attrs(){if(!t._attrsProxy){var e=t._attrsProxy={};Y(e,"_v_attr_proxy",!0),Re(e,t.$attrs,r,t,"$attrs")}return t._attrsProxy},get listeners(){if(!t._listenersProxy){var e=t._listenersProxy={};Re(e,t.$listeners,r,t,"$listeners")}return t._listenersProxy},get slots(){return Pe(t)},emit:D(t.$emit,t),expose:function(e){e&&Object.keys(e).forEach((function(n){return $t(t,e,n)}))}}}function Re(t,e,n,r,o){var i=!1;for(var a in e)a in t?e[a]!==n[a]&&(i=!0):(i=!0,De(t,a,r,o));for(var a in t)a in e||(i=!0,delete t[a]);return i}function De(t,e,n,r){Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){return n[r][e]}})}function Pe(t){return t._slotsProxy||Me(t._slotsProxy={},t.$scopedSlots),t._slotsProxy}function Me(t,e){for(var n in e)t[n]=e[n];for(var n in t)n in e||delete t[n]}function Be(t){t._vnode=null,t._staticTrees=null;var e=t.$options,n=t.$vnode=e._parentVnode,o=n&&n.context;t.$slots=Ce(e._renderChildren,o),t.$scopedSlots=n?Se(t.$parent,n.data.scopedSlots,t.$slots):r,t._c=function(e,n,r,o){return Ve(t,e,n,r,o,!1)},t.$createElement=function(e,n,r,o){return Ve(t,e,n,r,o,!0)};var i=n&&n.data;jt(t,"$attrs",i&&i.attrs||r,null,!0),jt(t,"$listeners",e._parentListeners||r,null,!0)}var Le=null;function Ie(t){_e(t.prototype),t.prototype.$nextTick=function(t){return cn(t,this)},t.prototype._render=function(){var t,e=this,n=e.$options,r=n.render,i=n._parentVnode;i&&e._isMounted&&(e.$scopedSlots=Se(e.$parent,i.data.scopedSlots,e.$slots,e.$scopedSlots),e._slotsProxy&&Me(e._slotsProxy,e.$scopedSlots)),e.$vnode=i;try{vt(e),Le=e,t=r.call(e._renderProxy,e.$createElement)}catch(Za){Ke(Za,e,"render"),t=e._vnode}finally{Le=null,vt()}return o(t)&&1===t.length&&(t=t[0]),t instanceof gt||(t=bt()),t.parent=i,t}}function je(t,e){return(t.__esModule||mt&&"Module"===t[Symbol.toStringTag])&&(t=t.default),f(t)?e.extend(t):t}function Fe(t,e,n,r,o){var i=bt();return i.asyncFactory=t,i.asyncMeta={data:e,context:n,children:r,tag:o},i}function qe(t,e){if(u(t.error)&&a(t.errorComp))return t.errorComp;if(a(t.resolved))return t.resolved;var n=Le;if(n&&a(t.owners)&&-1===t.owners.indexOf(n)&&t.owners.push(n),u(t.loading)&&a(t.loadingComp))return t.loadingComp;if(n&&!a(t.owners)){var r=t.owners=[n],o=!0,c=null,s=null;n.$on("hook:destroyed",(function(){return w(r,n)}));var l=function(t){for(var e=0,n=r.length;e<n;e++)r[e].$forceUpdate();t&&(r.length=0,null!==c&&(clearTimeout(c),c=null),null!==s&&(clearTimeout(s),s=null))},d=z((function(n){t.resolved=je(n,e),o?r.length=0:l(!0)})),p=z((function(e){a(t.errorComp)&&(t.error=!0,l(!0))})),m=t(d,p);return f(m)&&(v(m)?i(t.resolved)&&m.then(d,p):v(m.component)&&(m.component.then(d,p),a(m.error)&&(t.errorComp=je(m.error,e)),a(m.loading)&&(t.loadingComp=je(m.loading,e),0===m.delay?t.loading=!0:c=setTimeout((function(){c=null,i(t.resolved)&&i(t.error)&&(t.loading=!0,l(!1))}),m.delay||200)),a(m.timeout)&&(s=setTimeout((function(){s=null,i(t.resolved)&&p(null)}),m.timeout)))),o=!1,t.loading?t.loadingComp:t.resolved}}function ze(t){if(o(t))for(var e=0;e<t.length;e++){var n=t[e];if(a(n)&&(a(n.componentOptions)||Oe(n)))return n}}var Ue=1,He=2;function Ve(t,e,n,r,i,a){return(o(n)||s(n))&&(i=r,r=n,n=void 0),u(a)&&(i=He),We(t,e,n,r,i)}function We(t,e,n,r,i){if(a(n)&&a(n.__ob__))return bt();if(a(n)&&a(n.is)&&(e=n.is),!e)return bt();var u,c;if(o(r)&&l(r[0])&&(n=n||{},n.scopedSlots={default:r[0]},r.length=0),i===He?r=ie(r):i===Ue&&(r=oe(r)),"string"===typeof e){var s=void 0;c=t.$vnode&&t.$vnode.ns||$.getTagNamespace(e),u=$.isReservedTag(e)?new gt($.parsePlatformTagName(e),n,r,void 0,void 0,t):n&&n.pre||!a(s=Cr(t.$options,"components",e))?new gt(e,n,r,void 0,void 0,t):ar(s,n,t,r,e)}else u=ar(e,n,t,r);return o(u)?u:a(u)?(a(c)&&$e(u,c),a(n)&&Ge(n),u):bt()}function $e(t,e,n){if(t.ns=e,"foreignObject"===t.tag&&(e=void 0,n=!0),a(t.children))for(var r=0,o=t.children.length;r<o;r++){var c=t.children[r];a(c.tag)&&(i(c.ns)||u(n)&&"svg"!==c.tag)&&$e(c,e,n)}}function Ge(t){f(t.style)&&pn(t.style),f(t.class)&&pn(t.class)}function Ke(t,e,n){St();try{if(e){var r=e;while(r=r.$parent){var o=r.$options.errorCaptured;if(o)for(var i=0;i<o.length;i++)try{var a=!1===o[i].call(r,t,e,n);if(a)return}catch(Za){Xe(Za,r,"errorCaptured hook")}}}Xe(t,e,n)}finally{Et()}}function Ye(t,e,n,r,o){var i;try{i=n?t.apply(e,n):t.call(e),i&&!i._isVue&&v(i)&&!i._handled&&(i.catch((function(t){return Ke(t,r,o+" (Promise/async)")})),i._handled=!0)}catch(Za){Ke(Za,r,o)}return i}function Xe(t,e,n){if($.errorHandler)try{return $.errorHandler.call(null,t,e,n)}catch(Za){Za!==t&&Ze(Za,null,"config.errorHandler")}Ze(t,e,n)}function Ze(t,e,n){if(!Q||"undefined"===typeof console)throw t;console.error(t)}var Je,Qe=!1,tn=[],en=!1;function nn(){en=!1;var t=tn.slice(0);tn.length=0;for(var e=0;e<t.length;e++)t[e]()}if("undefined"!==typeof Promise&&dt(Promise)){var rn=Promise.resolve();Je=function(){rn.then(nn),ot&&setTimeout(L)},Qe=!0}else if(et||"undefined"===typeof MutationObserver||!dt(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())Je="undefined"!==typeof setImmediate&&dt(setImmediate)?function(){setImmediate(nn)}:function(){setTimeout(nn,0)};else{var on=1,an=new MutationObserver(nn),un=document.createTextNode(String(on));an.observe(un,{characterData:!0}),Je=function(){on=(on+1)%2,un.data=String(on)},Qe=!0}function cn(t,e){var n;if(tn.push((function(){if(t)try{t.call(e)}catch(Za){Ke(Za,e,"nextTick")}else n&&n(e)})),en||(en=!0,Je()),!t&&"undefined"!==typeof Promise)return new Promise((function(t){n=t}))}function sn(t){return function(e,n){if(void 0===n&&(n=ht),n)return ln(n,t,e)}}function ln(t,e,n){var r=t.$options;r[e]=hr(r[e],n)}sn("beforeMount"),sn("mounted"),sn("beforeUpdate"),sn("updated"),sn("beforeDestroy"),sn("destroyed"),sn("activated"),sn("deactivated"),sn("serverPrefetch"),sn("renderTracked"),sn("renderTriggered"),sn("errorCaptured");var fn="2.7.14";var dn=new pt;function pn(t){return mn(t,dn),dn.clear(),t}function mn(t,e){var n,r,i=o(t);if(!(!i&&!f(t)||t.__v_skip||Object.isFrozen(t)||t instanceof gt)){if(t.__ob__){var a=t.__ob__.dep.id;if(e.has(a))return;e.add(a)}if(i){n=t.length;while(n--)mn(t[n],e)}else if(Wt(t))mn(t.value,e);else{r=Object.keys(t),n=r.length;while(n--)mn(t[r[n]],e)}}}var hn,vn=0,gn=function(){function t(t,e,n,r,o){Xt(this,Kt&&!Kt._vm?Kt:t?t._scope:void 0),(this.vm=t)&&o&&(t._watcher=this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync,this.before=r.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++vn,this.active=!0,this.post=!1,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new pt,this.newDepIds=new pt,this.expression="",l(e)?this.getter=e:(this.getter=Z(e),this.getter||(this.getter=L)),this.value=this.lazy?void 0:this.get()}return t.prototype.get=function(){var t;St(this);var e=this.vm;try{t=this.getter.call(e,e)}catch(Za){if(!this.user)throw Za;Ke(Za,e,'getter for watcher "'.concat(this.expression,'"'))}finally{this.deep&&pn(t),Et(),this.cleanupDeps()}return t},t.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},t.prototype.cleanupDeps=function(){var t=this.deps.length;while(t--){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},t.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():Yn(this)},t.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||f(t)||this.deep){var e=this.value;if(this.value=t,this.user){var n='callback for watcher "'.concat(this.expression,'"');Ye(this.cb,this.vm,[t,e],this.vm,n)}else this.cb.call(this.vm,t,e)}}},t.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},t.prototype.depend=function(){var t=this.deps.length;while(t--)this.deps[t].depend()},t.prototype.teardown=function(){if(this.vm&&!this.vm._isBeingDestroyed&&w(this.vm._scope.effects,this),this.active){var t=this.deps.length;while(t--)this.deps[t].removeSub(this);this.active=!1,this.onStop&&this.onStop()}},t}();function bn(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&_n(t,e)}function yn(t,e){hn.$on(t,e)}function xn(t,e){hn.$off(t,e)}function wn(t,e){var n=hn;return function r(){var o=e.apply(null,arguments);null!==o&&n.$off(t,r)}}function _n(t,e,n){hn=t,te(e,n||{},yn,xn,wn,t),hn=void 0}function Cn(t){var e=/^hook:/;t.prototype.$on=function(t,n){var r=this;if(o(t))for(var i=0,a=t.length;i<a;i++)r.$on(t[i],n);else(r._events[t]||(r._events[t]=[])).push(n),e.test(t)&&(r._hasHookEvent=!0);return r},t.prototype.$once=function(t,e){var n=this;function r(){n.$off(t,r),e.apply(n,arguments)}return r.fn=e,n.$on(t,r),n},t.prototype.$off=function(t,e){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(o(t)){for(var r=0,i=t.length;r<i;r++)n.$off(t[r],e);return n}var a,u=n._events[t];if(!u)return n;if(!e)return n._events[t]=null,n;var c=u.length;while(c--)if(a=u[c],a===e||a.fn===e){u.splice(c,1);break}return n},t.prototype.$emit=function(t){var e=this,n=e._events[t];if(n){n=n.length>1?P(n):n;for(var r=P(arguments,1),o='event handler for "'.concat(t,'"'),i=0,a=n.length;i<a;i++)Ye(n[i],e,r,e,o)}return e}}var kn=null;function On(t){var e=kn;return kn=t,function(){kn=e}}function Sn(t){var e=t.$options,n=e.parent;if(n&&!e.abstract){while(n.$options.abstract&&n.$parent)n=n.$parent;n.$children.push(t)}t.$parent=n,t.$root=n?n.$root:t,t.$children=[],t.$refs={},t._provided=n?n._provided:Object.create(null),t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}function En(t){t.prototype._update=function(t,e){var n=this,r=n.$el,o=n._vnode,i=On(n);n._vnode=t,n.$el=o?n.__patch__(o,t):n.__patch__(n.$el,t,e,!1),i(),r&&(r.__vue__=null),n.$el&&(n.$el.__vue__=n);var a=n;while(a&&a.$vnode&&a.$parent&&a.$vnode===a.$parent._vnode)a.$parent.$el=a.$el,a=a.$parent},t.prototype.$forceUpdate=function(){var t=this;t._watcher&&t._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){Pn(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||w(e.$children,t),t._scope.stop(),t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),Pn(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}}}function Tn(t,e,n){var r;t.$el=e,t.$options.render||(t.$options.render=bt),Pn(t,"beforeMount"),r=function(){t._update(t._render(),n)};var o={before:function(){t._isMounted&&!t._isDestroyed&&Pn(t,"beforeUpdate")}};new gn(t,r,L,o,!0),n=!1;var i=t._preWatchers;if(i)for(var a=0;a<i.length;a++)i[a].run();return null==t.$vnode&&(t._isMounted=!0,Pn(t,"mounted")),t}function An(t,e,n,o,i){var a=o.data.scopedSlots,u=t.$scopedSlots,c=!!(a&&!a.$stable||u!==r&&!u.$stable||a&&t.$scopedSlots.$key!==a.$key||!a&&t.$scopedSlots.$key),s=!!(i||t.$options._renderChildren||c),l=t.$vnode;t.$options._parentVnode=o,t.$vnode=o,t._vnode&&(t._vnode.parent=o),t.$options._renderChildren=i;var f=o.data.attrs||r;t._attrsProxy&&Re(t._attrsProxy,f,l.data&&l.data.attrs||r,t,"$attrs")&&(s=!0),t.$attrs=f,n=n||r;var d=t.$options._parentListeners;if(t._listenersProxy&&Re(t._listenersProxy,n,d||r,t,"$listeners"),t.$listeners=t.$options._parentListeners=n,_n(t,n,d),e&&t.$options.props){Mt(!1);for(var p=t._props,m=t.$options._propKeys||[],h=0;h<m.length;h++){var v=m[h],g=t.$options.props;p[v]=kr(v,g,e,t)}Mt(!0),t.$options.propsData=e}s&&(t.$slots=Ce(i,o.context),t.$forceUpdate())}function Nn(t){while(t&&(t=t.$parent))if(t._inactive)return!0;return!1}function Rn(t,e){if(e){if(t._directInactive=!1,Nn(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var n=0;n<t.$children.length;n++)Rn(t.$children[n]);Pn(t,"activated")}}function Dn(t,e){if((!e||(t._directInactive=!0,!Nn(t)))&&!t._inactive){t._inactive=!0;for(var n=0;n<t.$children.length;n++)Dn(t.$children[n]);Pn(t,"deactivated")}}function Pn(t,e,n,r){void 0===r&&(r=!0),St();var o=ht;r&&vt(t);var i=t.$options[e],a="".concat(e," hook");if(i)for(var u=0,c=i.length;u<c;u++)Ye(i[u],t,n||null,t,a);t._hasHookEvent&&t.$emit("hook:"+e),r&&vt(o),Et()}var Mn=[],Bn=[],Ln={},In=!1,jn=!1,Fn=0;function qn(){Fn=Mn.length=Bn.length=0,Ln={},In=jn=!1}var zn=0,Un=Date.now;if(Q&&!et){var Hn=window.performance;Hn&&"function"===typeof Hn.now&&Un()>document.createEvent("Event").timeStamp&&(Un=function(){return Hn.now()})}var Vn=function(t,e){if(t.post){if(!e.post)return 1}else if(e.post)return-1;return t.id-e.id};function Wn(){var t,e;for(zn=Un(),jn=!0,Mn.sort(Vn),Fn=0;Fn<Mn.length;Fn++)t=Mn[Fn],t.before&&t.before(),e=t.id,Ln[e]=null,t.run();var n=Bn.slice(),r=Mn.slice();qn(),Kn(n),$n(r),Ct(),ft&&$.devtools&&ft.emit("flush")}function $n(t){var e=t.length;while(e--){var n=t[e],r=n.vm;r&&r._watcher===n&&r._isMounted&&!r._isDestroyed&&Pn(r,"updated")}}function Gn(t){t._inactive=!1,Bn.push(t)}function Kn(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,Rn(t[e],!0)}function Yn(t){var e=t.id;if(null==Ln[e]&&(t!==kt.target||!t.noRecurse)){if(Ln[e]=!0,jn){var n=Mn.length-1;while(n>Fn&&Mn[n].id>t.id)n--;Mn.splice(n+1,0,t)}else Mn.push(t);In||(In=!0,cn(Wn))}}function Xn(t){var e=t.$options.provide;if(e){var n=l(e)?e.call(t):e;if(!f(n))return;for(var r=Zt(t),o=mt?Reflect.ownKeys(n):Object.keys(n),i=0;i<o.length;i++){var a=o[i];Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))}}}function Zn(t){var e=Jn(t.$options.inject,t);e&&(Mt(!1),Object.keys(e).forEach((function(n){jt(t,n,e[n])})),Mt(!0))}function Jn(t,e){if(t){for(var n=Object.create(null),r=mt?Reflect.ownKeys(t):Object.keys(t),o=0;o<r.length;o++){var i=r[o];if("__ob__"!==i){var a=t[i].from;if(a in e._provided)n[i]=e._provided[a];else if("default"in t[i]){var u=t[i].default;n[i]=l(u)?u.call(e):u}else 0}}return n}}function Qn(t,e,n,i,a){var c,s=this,l=a.options;C(i,"_uid")?(c=Object.create(i),c._original=i):(c=i,i=i._original);var f=u(l._compiled),d=!f;this.data=t,this.props=e,this.children=n,this.parent=i,this.listeners=t.on||r,this.injections=Jn(l.inject,i),this.slots=function(){return s.$slots||Se(i,t.scopedSlots,s.$slots=Ce(n,i)),s.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return Se(i,t.scopedSlots,this.slots())}}),f&&(this.$options=l,this.$slots=this.slots(),this.$scopedSlots=Se(i,t.scopedSlots,this.$slots)),l._scopeId?this._c=function(t,e,n,r){var a=Ve(c,t,e,n,r,d);return a&&!o(a)&&(a.fnScopeId=l._scopeId,a.fnContext=i),a}:this._c=function(t,e,n,r){return Ve(c,t,e,n,r,d)}}function tr(t,e,n,i,u){var c=t.options,s={},l=c.props;if(a(l))for(var f in l)s[f]=kr(f,l,e||r);else a(n.attrs)&&nr(s,n.attrs),a(n.props)&&nr(s,n.props);var d=new Qn(n,s,u,i,t),p=c.render.call(null,d._c,d);if(p instanceof gt)return er(p,n,d.parent,c,d);if(o(p)){for(var m=ie(p)||[],h=new Array(m.length),v=0;v<m.length;v++)h[v]=er(m[v],n,d.parent,c,d);return h}}function er(t,e,n,r,o){var i=xt(t);return i.fnContext=n,i.fnOptions=r,e.slot&&((i.data||(i.data={})).slot=e.slot),i}function nr(t,e){for(var n in e)t[S(n)]=e[n]}function rr(t){return t.name||t.__name||t._componentTag}_e(Qn.prototype);var or={init:function(t,e){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){var n=t;or.prepatch(n,n)}else{var r=t.componentInstance=ur(t,kn);r.$mount(e?t.elm:void 0,e)}},prepatch:function(t,e){var n=e.componentOptions,r=e.componentInstance=t.componentInstance;An(r,n.propsData,n.listeners,e,n.children)},insert:function(t){var e=t.context,n=t.componentInstance;n._isMounted||(n._isMounted=!0,Pn(n,"mounted")),t.data.keepAlive&&(e._isMounted?Gn(n):Rn(n,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?Dn(e,!0):e.$destroy())}},ir=Object.keys(or);function ar(t,e,n,r,o){if(!i(t)){var c=n.$options._base;if(f(t)&&(t=c.extend(t)),"function"===typeof t){var s;if(i(t.cid)&&(s=t,t=qe(s,c),void 0===t))return Fe(s,e,n,r,o);e=e||{},Kr(t),a(e.model)&&lr(t.options,e);var l=ne(e,t,o);if(u(t.options.functional))return tr(t,l,e,n,r);var d=e.on;if(e.on=e.nativeOn,u(t.options.abstract)){var p=e.slot;e={},p&&(e.slot=p)}cr(e);var m=rr(t.options)||o,h=new gt("vue-component-".concat(t.cid).concat(m?"-".concat(m):""),e,void 0,void 0,void 0,n,{Ctor:t,propsData:l,listeners:d,tag:o,children:r},s);return h}}}function ur(t,e){var n={_isComponent:!0,_parentVnode:t,parent:e},r=t.data.inlineTemplate;return a(r)&&(n.render=r.render,n.staticRenderFns=r.staticRenderFns),new t.componentOptions.Ctor(n)}function cr(t){for(var e=t.hook||(t.hook={}),n=0;n<ir.length;n++){var r=ir[n],o=e[r],i=or[r];o===i||o&&o._merged||(e[r]=o?sr(i,o):i)}}function sr(t,e){var n=function(n,r){t(n,r),e(n,r)};return n._merged=!0,n}function lr(t,e){var n=t.model&&t.model.prop||"value",r=t.model&&t.model.event||"input";(e.attrs||(e.attrs={}))[n]=e.model.value;var i=e.on||(e.on={}),u=i[r],c=e.model.callback;a(u)?(o(u)?-1===u.indexOf(c):u!==c)&&(i[r]=[c].concat(u)):i[r]=c}var fr=L,dr=$.optionMergeStrategies;function pr(t,e,n){if(void 0===n&&(n=!0),!e)return t;for(var r,o,i,a=mt?Reflect.ownKeys(e):Object.keys(e),u=0;u<a.length;u++)r=a[u],"__ob__"!==r&&(o=t[r],i=e[r],n&&C(t,r)?o!==i&&p(o)&&p(i)&&pr(o,i):Ft(t,r,i));return t}function mr(t,e,n){return n?function(){var r=l(e)?e.call(n,n):e,o=l(t)?t.call(n,n):t;return r?pr(r,o):o}:e?t?function(){return pr(l(e)?e.call(this,this):e,l(t)?t.call(this,this):t)}:e:t}function hr(t,e){var n=e?t?t.concat(e):o(e)?e:[e]:t;return n?vr(n):n}function vr(t){for(var e=[],n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e}function gr(t,e,n,r){var o=Object.create(t||null);return e?M(o,e):o}dr.data=function(t,e,n){return n?mr(t,e,n):e&&"function"!==typeof e?t:mr(t,e)},W.forEach((function(t){dr[t]=hr})),V.forEach((function(t){dr[t+"s"]=gr})),dr.watch=function(t,e,n,r){if(t===ut&&(t=void 0),e===ut&&(e=void 0),!e)return Object.create(t||null);if(!t)return e;var i={};for(var a in M(i,t),e){var u=i[a],c=e[a];u&&!o(u)&&(u=[u]),i[a]=u?u.concat(c):o(c)?c:[c]}return i},dr.props=dr.methods=dr.inject=dr.computed=function(t,e,n,r){if(!t)return e;var o=Object.create(null);return M(o,t),e&&M(o,e),o},dr.provide=function(t,e){return t?function(){var n=Object.create(null);return pr(n,l(t)?t.call(this):t),e&&pr(n,l(e)?e.call(this):e,!1),n}:e};var br=function(t,e){return void 0===e?t:e};function yr(t,e){var n=t.props;if(n){var r,i,a,u={};if(o(n)){r=n.length;while(r--)i=n[r],"string"===typeof i&&(a=S(i),u[a]={type:null})}else if(p(n))for(var c in n)i=n[c],a=S(c),u[a]=p(i)?i:{type:i};else 0;t.props=u}}function xr(t,e){var n=t.inject;if(n){var r=t.inject={};if(o(n))for(var i=0;i<n.length;i++)r[n[i]]={from:n[i]};else if(p(n))for(var a in n){var u=n[a];r[a]=p(u)?M({from:a},u):{from:u}}else 0}}function wr(t){var e=t.directives;if(e)for(var n in e){var r=e[n];l(r)&&(e[n]={bind:r,update:r})}}function _r(t,e,n){if(l(e)&&(e=e.options),yr(e,n),xr(e,n),wr(e),!e._base&&(e.extends&&(t=_r(t,e.extends,n)),e.mixins))for(var r=0,o=e.mixins.length;r<o;r++)t=_r(t,e.mixins[r],n);var i,a={};for(i in t)u(i);for(i in e)C(t,i)||u(i);function u(r){var o=dr[r]||br;a[r]=o(t[r],e[r],n,r)}return a}function Cr(t,e,n,r){if("string"===typeof n){var o=t[e];if(C(o,n))return o[n];var i=S(n);if(C(o,i))return o[i];var a=E(i);if(C(o,a))return o[a];var u=o[n]||o[i]||o[a];return u}}function kr(t,e,n,r){var o=e[t],i=!C(n,t),a=n[t],u=Ar(Boolean,o.type);if(u>-1)if(i&&!C(o,"default"))a=!1;else if(""===a||a===A(t)){var c=Ar(String,o.type);(c<0||u<c)&&(a=!0)}if(void 0===a){a=Or(r,o,t);var s=Pt;Mt(!0),It(a),Mt(s)}return a}function Or(t,e,n){if(C(e,"default")){var r=e.default;return t&&t.$options.propsData&&void 0===t.$options.propsData[n]&&void 0!==t._props[n]?t._props[n]:l(r)&&"Function"!==Er(e.type)?r.call(t):r}}var Sr=/^\s*function (\w+)/;function Er(t){var e=t&&t.toString().match(Sr);return e?e[1]:""}function Tr(t,e){return Er(t)===Er(e)}function Ar(t,e){if(!o(e))return Tr(e,t)?0:-1;for(var n=0,r=e.length;n<r;n++)if(Tr(e[n],t))return n;return-1}var Nr={enumerable:!0,configurable:!0,get:L,set:L};function Rr(t,e,n){Nr.get=function(){return this[e][n]},Nr.set=function(t){this[e][n]=t},Object.defineProperty(t,n,Nr)}function Dr(t){var e=t.$options;if(e.props&&Pr(t,e.props),Ae(t),e.methods&&zr(t,e.methods),e.data)Mr(t);else{var n=It(t._data={});n&&n.vmCount++}e.computed&&Ir(t,e.computed),e.watch&&e.watch!==ut&&Ur(t,e.watch)}function Pr(t,e){var n=t.$options.propsData||{},r=t._props=Ut({}),o=t.$options._propKeys=[],i=!t.$parent;i||Mt(!1);var a=function(i){o.push(i);var a=kr(i,e,n,t);jt(r,i,a),i in t||Rr(t,"_props",i)};for(var u in e)a(u);Mt(!0)}function Mr(t){var e=t.$options.data;e=t._data=l(e)?Br(e,t):e||{},p(e)||(e={});var n=Object.keys(e),r=t.$options.props,o=(t.$options.methods,n.length);while(o--){var i=n[o];0,r&&C(r,i)||K(i)||Rr(t,"_data",i)}var a=It(e);a&&a.vmCount++}function Br(t,e){St();try{return t.call(e,e)}catch(Za){return Ke(Za,e,"data()"),{}}finally{Et()}}var Lr={lazy:!0};function Ir(t,e){var n=t._computedWatchers=Object.create(null),r=lt();for(var o in e){var i=e[o],a=l(i)?i:i.get;0,r||(n[o]=new gn(t,a||L,L,Lr)),o in t||jr(t,o,i)}}function jr(t,e,n){var r=!lt();l(n)?(Nr.get=r?Fr(e):qr(n),Nr.set=L):(Nr.get=n.get?r&&!1!==n.cache?Fr(e):qr(n.get):L,Nr.set=n.set||L),Object.defineProperty(t,e,Nr)}function Fr(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),kt.target&&e.depend(),e.value}}function qr(t){return function(){return t.call(this,this)}}function zr(t,e){t.$options.props;for(var n in e)t[n]="function"!==typeof e[n]?L:D(e[n],t)}function Ur(t,e){for(var n in e){var r=e[n];if(o(r))for(var i=0;i<r.length;i++)Hr(t,n,r[i]);else Hr(t,n,r)}}function Hr(t,e,n,r){return p(n)&&(r=n,n=n.handler),"string"===typeof n&&(n=t[n]),t.$watch(e,n,r)}function Vr(t){var e={get:function(){return this._data}},n={get:function(){return this._props}};Object.defineProperty(t.prototype,"$data",e),Object.defineProperty(t.prototype,"$props",n),t.prototype.$set=Ft,t.prototype.$delete=qt,t.prototype.$watch=function(t,e,n){var r=this;if(p(e))return Hr(r,t,e,n);n=n||{},n.user=!0;var o=new gn(r,t,e,n);if(n.immediate){var i='callback for immediate watcher "'.concat(o.expression,'"');St(),Ye(e,r,[o.value],r,i),Et()}return function(){o.teardown()}}}var Wr=0;function $r(t){t.prototype._init=function(t){var e=this;e._uid=Wr++,e._isVue=!0,e.__v_skip=!0,e._scope=new Yt(!0),e._scope._vm=!0,t&&t._isComponent?Gr(e,t):e.$options=_r(Kr(e.constructor),t||{},e),e._renderProxy=e,e._self=e,Sn(e),bn(e),Be(e),Pn(e,"beforeCreate",void 0,!1),Zn(e),Dr(e),Xn(e),Pn(e,"created"),e.$options.el&&e.$mount(e.$options.el)}}function Gr(t,e){var n=t.$options=Object.create(t.constructor.options),r=e._parentVnode;n.parent=e.parent,n._parentVnode=r;var o=r.componentOptions;n.propsData=o.propsData,n._parentListeners=o.listeners,n._renderChildren=o.children,n._componentTag=o.tag,e.render&&(n.render=e.render,n.staticRenderFns=e.staticRenderFns)}function Kr(t){var e=t.options;if(t.super){var n=Kr(t.super),r=t.superOptions;if(n!==r){t.superOptions=n;var o=Yr(t);o&&M(t.extendOptions,o),e=t.options=_r(n,t.extendOptions),e.name&&(e.components[e.name]=t)}}return e}function Yr(t){var e,n=t.options,r=t.sealedOptions;for(var o in n)n[o]!==r[o]&&(e||(e={}),e[o]=n[o]);return e}function Xr(t){this._init(t)}function Zr(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(t)>-1)return this;var n=P(arguments,1);return n.unshift(this),l(t.install)?t.install.apply(t,n):l(t)&&t.apply(null,n),e.push(t),this}}function Jr(t){t.mixin=function(t){return this.options=_r(this.options,t),this}}function Qr(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var n=this,r=n.cid,o=t._Ctor||(t._Ctor={});if(o[r])return o[r];var i=rr(t)||rr(n.options);var a=function(t){this._init(t)};return a.prototype=Object.create(n.prototype),a.prototype.constructor=a,a.cid=e++,a.options=_r(n.options,t),a["super"]=n,a.options.props&&to(a),a.options.computed&&eo(a),a.extend=n.extend,a.mixin=n.mixin,a.use=n.use,V.forEach((function(t){a[t]=n[t]})),i&&(a.options.components[i]=a),a.superOptions=n.options,a.extendOptions=t,a.sealedOptions=M({},a.options),o[r]=a,a}}function to(t){var e=t.options.props;for(var n in e)Rr(t.prototype,"_props",n)}function eo(t){var e=t.options.computed;for(var n in e)jr(t.prototype,n,e[n])}function no(t){V.forEach((function(e){t[e]=function(t,n){return n?("component"===e&&p(n)&&(n.name=n.name||t,n=this.options._base.extend(n)),"directive"===e&&l(n)&&(n={bind:n,update:n}),this.options[e+"s"][t]=n,n):this.options[e+"s"][t]}}))}function ro(t){return t&&(rr(t.Ctor.options)||t.tag)}function oo(t,e){return o(t)?t.indexOf(e)>-1:"string"===typeof t?t.split(",").indexOf(e)>-1:!!m(t)&&t.test(e)}function io(t,e){var n=t.cache,r=t.keys,o=t._vnode;for(var i in n){var a=n[i];if(a){var u=a.name;u&&!e(u)&&ao(n,i,r,o)}}}function ao(t,e,n,r){var o=t[e];!o||r&&o.tag===r.tag||o.componentInstance.$destroy(),t[e]=null,w(n,e)}$r(Xr),Vr(Xr),Cn(Xr),En(Xr),Ie(Xr);var uo=[String,RegExp,Array],co={name:"keep-alive",abstract:!0,props:{include:uo,exclude:uo,max:[String,Number]},methods:{cacheVNode:function(){var t=this,e=t.cache,n=t.keys,r=t.vnodeToCache,o=t.keyToCache;if(r){var i=r.tag,a=r.componentInstance,u=r.componentOptions;e[o]={name:ro(u),tag:i,componentInstance:a},n.push(o),this.max&&n.length>parseInt(this.max)&&ao(e,n[0],n,this._vnode),this.vnodeToCache=null}}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)ao(this.cache,t,this.keys)},mounted:function(){var t=this;this.cacheVNode(),this.$watch("include",(function(e){io(t,(function(t){return oo(e,t)}))})),this.$watch("exclude",(function(e){io(t,(function(t){return!oo(e,t)}))}))},updated:function(){this.cacheVNode()},render:function(){var t=this.$slots.default,e=ze(t),n=e&&e.componentOptions;if(n){var r=ro(n),o=this,i=o.include,a=o.exclude;if(i&&(!r||!oo(i,r))||a&&r&&oo(a,r))return e;var u=this,c=u.cache,s=u.keys,l=null==e.key?n.Ctor.cid+(n.tag?"::".concat(n.tag):""):e.key;c[l]?(e.componentInstance=c[l].componentInstance,w(s,l),s.push(l)):(this.vnodeToCache=e,this.keyToCache=l),e.data.keepAlive=!0}return e||t&&t[0]}},so={KeepAlive:co};function lo(t){var e={get:function(){return $}};Object.defineProperty(t,"config",e),t.util={warn:fr,extend:M,mergeOptions:_r,defineReactive:jt},t.set=Ft,t.delete=qt,t.nextTick=cn,t.observable=function(t){return It(t),t},t.options=Object.create(null),V.forEach((function(e){t.options[e+"s"]=Object.create(null)})),t.options._base=t,M(t.options.components,so),Zr(t),Jr(t),Qr(t),no(t)}lo(Xr),Object.defineProperty(Xr.prototype,"$isServer",{get:lt}),Object.defineProperty(Xr.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(Xr,"FunctionalRenderContext",{value:Qn}),Xr.version=fn;var fo=y("style,class"),po=y("input,textarea,option,select,progress"),mo=function(t,e,n){return"value"===n&&po(t)&&"button"!==e||"selected"===n&&"option"===t||"checked"===n&&"input"===t||"muted"===n&&"video"===t},ho=y("contenteditable,draggable,spellcheck"),vo=y("events,caret,typing,plaintext-only"),go=function(t,e){return _o(e)||"false"===e?"false":"contenteditable"===t&&vo(e)?e:"true"},bo=y("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),yo="http://www.w3.org/1999/xlink",xo=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},wo=function(t){return xo(t)?t.slice(6,t.length):""},_o=function(t){return null==t||!1===t};function Co(t){var e=t.data,n=t,r=t;while(a(r.componentInstance))r=r.componentInstance._vnode,r&&r.data&&(e=ko(r.data,e));while(a(n=n.parent))n&&n.data&&(e=ko(e,n.data));return Oo(e.staticClass,e.class)}function ko(t,e){return{staticClass:So(t.staticClass,e.staticClass),class:a(t.class)?[t.class,e.class]:e.class}}function Oo(t,e){return a(t)||a(e)?So(t,Eo(e)):""}function So(t,e){return t?e?t+" "+e:t:e||""}function Eo(t){return Array.isArray(t)?To(t):f(t)?Ao(t):"string"===typeof t?t:""}function To(t){for(var e,n="",r=0,o=t.length;r<o;r++)a(e=Eo(t[r]))&&""!==e&&(n&&(n+=" "),n+=e);return n}function Ao(t){var e="";for(var n in t)t[n]&&(e&&(e+=" "),e+=n);return e}var No={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Ro=y("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),Do=y("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),Po=function(t){return Ro(t)||Do(t)};function Mo(t){return Do(t)?"svg":"math"===t?"math":void 0}var Bo=Object.create(null);function Lo(t){if(!Q)return!0;if(Po(t))return!1;if(t=t.toLowerCase(),null!=Bo[t])return Bo[t];var e=document.createElement(t);return t.indexOf("-")>-1?Bo[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:Bo[t]=/HTMLUnknownElement/.test(e.toString())}var Io=y("text,number,password,search,email,tel,url");function jo(t){if("string"===typeof t){var e=document.querySelector(t);return e||document.createElement("div")}return t}function Fo(t,e){var n=document.createElement(t);return"select"!==t||e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n}function qo(t,e){return document.createElementNS(No[t],e)}function zo(t){return document.createTextNode(t)}function Uo(t){return document.createComment(t)}function Ho(t,e,n){t.insertBefore(e,n)}function Vo(t,e){t.removeChild(e)}function Wo(t,e){t.appendChild(e)}function $o(t){return t.parentNode}function Go(t){return t.nextSibling}function Ko(t){return t.tagName}function Yo(t,e){t.textContent=e}function Xo(t,e){t.setAttribute(e,"")}var Zo=Object.freeze({__proto__:null,createElement:Fo,createElementNS:qo,createTextNode:zo,createComment:Uo,insertBefore:Ho,removeChild:Vo,appendChild:Wo,parentNode:$o,nextSibling:Go,tagName:Ko,setTextContent:Yo,setStyleScope:Xo}),Jo={create:function(t,e){Qo(e)},update:function(t,e){t.data.ref!==e.data.ref&&(Qo(t,!0),Qo(e))},destroy:function(t){Qo(t,!0)}};function Qo(t,e){var n=t.data.ref;if(a(n)){var r=t.context,i=t.componentInstance||t.elm,u=e?null:i,c=e?void 0:i;if(l(n))Ye(n,r,[u],r,"template ref function");else{var s=t.data.refInFor,f="string"===typeof n||"number"===typeof n,d=Wt(n),p=r.$refs;if(f||d)if(s){var m=f?p[n]:n.value;e?o(m)&&w(m,i):o(m)?m.includes(i)||m.push(i):f?(p[n]=[i],ti(r,n,p[n])):n.value=[i]}else if(f){if(e&&p[n]!==i)return;p[n]=c,ti(r,n,u)}else if(d){if(e&&n.value!==i)return;n.value=u}else 0}}}function ti(t,e,n){var r=t._setupState;r&&C(r,e)&&(Wt(r[e])?r[e].value=n:r[e]=n)}var ei=new gt("",{},[]),ni=["create","activate","update","remove","destroy"];function ri(t,e){return t.key===e.key&&t.asyncFactory===e.asyncFactory&&(t.tag===e.tag&&t.isComment===e.isComment&&a(t.data)===a(e.data)&&oi(t,e)||u(t.isAsyncPlaceholder)&&i(e.asyncFactory.error))}function oi(t,e){if("input"!==t.tag)return!0;var n,r=a(n=t.data)&&a(n=n.attrs)&&n.type,o=a(n=e.data)&&a(n=n.attrs)&&n.type;return r===o||Io(r)&&Io(o)}function ii(t,e,n){var r,o,i={};for(r=e;r<=n;++r)o=t[r].key,a(o)&&(i[o]=r);return i}function ai(t){var e,n,r={},c=t.modules,l=t.nodeOps;for(e=0;e<ni.length;++e)for(r[ni[e]]=[],n=0;n<c.length;++n)a(c[n][ni[e]])&&r[ni[e]].push(c[n][ni[e]]);function f(t){return new gt(l.tagName(t).toLowerCase(),{},[],void 0,t)}function d(t,e){function n(){0===--n.listeners&&p(t)}return n.listeners=e,n}function p(t){var e=l.parentNode(t);a(e)&&l.removeChild(e,t)}function m(t,e,n,r,o,i,c){if(a(t.elm)&&a(i)&&(t=i[c]=xt(t)),t.isRootInsert=!o,!h(t,e,n,r)){var s=t.data,f=t.children,d=t.tag;a(d)?(t.elm=t.ns?l.createElementNS(t.ns,d):l.createElement(d,t),C(t),x(t,f,e),a(s)&&_(t,e),b(n,t.elm,r)):u(t.isComment)?(t.elm=l.createComment(t.text),b(n,t.elm,r)):(t.elm=l.createTextNode(t.text),b(n,t.elm,r))}}function h(t,e,n,r){var o=t.data;if(a(o)){var i=a(t.componentInstance)&&o.keepAlive;if(a(o=o.hook)&&a(o=o.init)&&o(t,!1),a(t.componentInstance))return v(t,e),b(n,t.elm,r),u(i)&&g(t,e,n,r),!0}}function v(t,e){a(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,w(t)?(_(t,e),C(t)):(Qo(t),e.push(t))}function g(t,e,n,o){var i,u=t;while(u.componentInstance)if(u=u.componentInstance._vnode,a(i=u.data)&&a(i=i.transition)){for(i=0;i<r.activate.length;++i)r.activate[i](ei,u);e.push(u);break}b(n,t.elm,o)}function b(t,e,n){a(t)&&(a(n)?l.parentNode(n)===t&&l.insertBefore(t,e,n):l.appendChild(t,e))}function x(t,e,n){if(o(e)){0;for(var r=0;r<e.length;++r)m(e[r],n,t.elm,null,!0,e,r)}else s(t.text)&&l.appendChild(t.elm,l.createTextNode(String(t.text)))}function w(t){while(t.componentInstance)t=t.componentInstance._vnode;return a(t.tag)}function _(t,n){for(var o=0;o<r.create.length;++o)r.create[o](ei,t);e=t.data.hook,a(e)&&(a(e.create)&&e.create(ei,t),a(e.insert)&&n.push(t))}function C(t){var e;if(a(e=t.fnScopeId))l.setStyleScope(t.elm,e);else{var n=t;while(n)a(e=n.context)&&a(e=e.$options._scopeId)&&l.setStyleScope(t.elm,e),n=n.parent}a(e=kn)&&e!==t.context&&e!==t.fnContext&&a(e=e.$options._scopeId)&&l.setStyleScope(t.elm,e)}function k(t,e,n,r,o,i){for(;r<=o;++r)m(n[r],i,t,e,!1,n,r)}function O(t){var e,n,o=t.data;if(a(o))for(a(e=o.hook)&&a(e=e.destroy)&&e(t),e=0;e<r.destroy.length;++e)r.destroy[e](t);if(a(e=t.children))for(n=0;n<t.children.length;++n)O(t.children[n])}function S(t,e,n){for(;e<=n;++e){var r=t[e];a(r)&&(a(r.tag)?(E(r),O(r)):p(r.elm))}}function E(t,e){if(a(e)||a(t.data)){var n,o=r.remove.length+1;for(a(e)?e.listeners+=o:e=d(t.elm,o),a(n=t.componentInstance)&&a(n=n._vnode)&&a(n.data)&&E(n,e),n=0;n<r.remove.length;++n)r.remove[n](t,e);a(n=t.data.hook)&&a(n=n.remove)?n(t,e):e()}else p(t.elm)}function T(t,e,n,r,o){var u,c,s,f,d=0,p=0,h=e.length-1,v=e[0],g=e[h],b=n.length-1,y=n[0],x=n[b],w=!o;while(d<=h&&p<=b)i(v)?v=e[++d]:i(g)?g=e[--h]:ri(v,y)?(N(v,y,r,n,p),v=e[++d],y=n[++p]):ri(g,x)?(N(g,x,r,n,b),g=e[--h],x=n[--b]):ri(v,x)?(N(v,x,r,n,b),w&&l.insertBefore(t,v.elm,l.nextSibling(g.elm)),v=e[++d],x=n[--b]):ri(g,y)?(N(g,y,r,n,p),w&&l.insertBefore(t,g.elm,v.elm),g=e[--h],y=n[++p]):(i(u)&&(u=ii(e,d,h)),c=a(y.key)?u[y.key]:A(y,e,d,h),i(c)?m(y,r,t,v.elm,!1,n,p):(s=e[c],ri(s,y)?(N(s,y,r,n,p),e[c]=void 0,w&&l.insertBefore(t,s.elm,v.elm)):m(y,r,t,v.elm,!1,n,p)),y=n[++p]);d>h?(f=i(n[b+1])?null:n[b+1].elm,k(t,f,n,p,b,r)):p>b&&S(e,d,h)}function A(t,e,n,r){for(var o=n;o<r;o++){var i=e[o];if(a(i)&&ri(t,i))return o}}function N(t,e,n,o,c,s){if(t!==e){a(e.elm)&&a(o)&&(e=o[c]=xt(e));var f=e.elm=t.elm;if(u(t.isAsyncPlaceholder))a(e.asyncFactory.resolved)?P(t.elm,e,n):e.isAsyncPlaceholder=!0;else if(u(e.isStatic)&&u(t.isStatic)&&e.key===t.key&&(u(e.isCloned)||u(e.isOnce)))e.componentInstance=t.componentInstance;else{var d,p=e.data;a(p)&&a(d=p.hook)&&a(d=d.prepatch)&&d(t,e);var m=t.children,h=e.children;if(a(p)&&w(e)){for(d=0;d<r.update.length;++d)r.update[d](t,e);a(d=p.hook)&&a(d=d.update)&&d(t,e)}i(e.text)?a(m)&&a(h)?m!==h&&T(f,m,h,n,s):a(h)?(a(t.text)&&l.setTextContent(f,""),k(f,null,h,0,h.length-1,n)):a(m)?S(m,0,m.length-1):a(t.text)&&l.setTextContent(f,""):t.text!==e.text&&l.setTextContent(f,e.text),a(p)&&a(d=p.hook)&&a(d=d.postpatch)&&d(t,e)}}}function R(t,e,n){if(u(n)&&a(t.parent))t.parent.data.pendingInsert=e;else for(var r=0;r<e.length;++r)e[r].data.hook.insert(e[r])}var D=y("attrs,class,staticClass,staticStyle,key");function P(t,e,n,r){var o,i=e.tag,c=e.data,s=e.children;if(r=r||c&&c.pre,e.elm=t,u(e.isComment)&&a(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(a(c)&&(a(o=c.hook)&&a(o=o.init)&&o(e,!0),a(o=e.componentInstance)))return v(e,n),!0;if(a(i)){if(a(s))if(t.hasChildNodes())if(a(o=c)&&a(o=o.domProps)&&a(o=o.innerHTML)){if(o!==t.innerHTML)return!1}else{for(var l=!0,f=t.firstChild,d=0;d<s.length;d++){if(!f||!P(f,s[d],n,r)){l=!1;break}f=f.nextSibling}if(!l||f)return!1}else x(e,s,n);if(a(c)){var p=!1;for(var m in c)if(!D(m)){p=!0,_(e,n);break}!p&&c["class"]&&pn(c["class"])}}else t.data!==e.text&&(t.data=e.text);return!0}return function(t,e,n,o){if(!i(e)){var c=!1,s=[];if(i(t))c=!0,m(e,s);else{var d=a(t.nodeType);if(!d&&ri(t,e))N(t,e,s,null,null,o);else{if(d){if(1===t.nodeType&&t.hasAttribute(H)&&(t.removeAttribute(H),n=!0),u(n)&&P(t,e,s))return R(e,s,!0),t;t=f(t)}var p=t.elm,h=l.parentNode(p);if(m(e,s,p._leaveCb?null:h,l.nextSibling(p)),a(e.parent)){var v=e.parent,g=w(e);while(v){for(var b=0;b<r.destroy.length;++b)r.destroy[b](v);if(v.elm=e.elm,g){for(var y=0;y<r.create.length;++y)r.create[y](ei,v);var x=v.data.hook.insert;if(x.merged)for(var _=1;_<x.fns.length;_++)x.fns[_]()}else Qo(v);v=v.parent}}a(h)?S([t],0,0):a(t.tag)&&O(t)}}return R(e,s,c),e.elm}a(t)&&O(t)}}var ui={create:ci,update:ci,destroy:function(t){ci(t,ei)}};function ci(t,e){(t.data.directives||e.data.directives)&&si(t,e)}function si(t,e){var n,r,o,i=t===ei,a=e===ei,u=fi(t.data.directives,t.context),c=fi(e.data.directives,e.context),s=[],l=[];for(n in c)r=u[n],o=c[n],r?(o.oldValue=r.value,o.oldArg=r.arg,pi(o,"update",e,t),o.def&&o.def.componentUpdated&&l.push(o)):(pi(o,"bind",e,t),o.def&&o.def.inserted&&s.push(o));if(s.length){var f=function(){for(var n=0;n<s.length;n++)pi(s[n],"inserted",e,t)};i?ee(e,"insert",f):f()}if(l.length&&ee(e,"postpatch",(function(){for(var n=0;n<l.length;n++)pi(l[n],"componentUpdated",e,t)})),!i)for(n in u)c[n]||pi(u[n],"unbind",t,t,a)}var li=Object.create(null);function fi(t,e){var n,r,o=Object.create(null);if(!t)return o;for(n=0;n<t.length;n++){if(r=t[n],r.modifiers||(r.modifiers=li),o[di(r)]=r,e._setupState&&e._setupState.__sfc){var i=r.def||Cr(e,"_setupState","v-"+r.name);r.def="function"===typeof i?{bind:i,update:i}:i}r.def=r.def||Cr(e.$options,"directives",r.name,!0)}return o}function di(t){return t.rawName||"".concat(t.name,".").concat(Object.keys(t.modifiers||{}).join("."))}function pi(t,e,n,r,o){var i=t.def&&t.def[e];if(i)try{i(n.elm,t,n,r,o)}catch(Za){Ke(Za,n.context,"directive ".concat(t.name," ").concat(e," hook"))}}var mi=[Jo,ui];function hi(t,e){var n=e.componentOptions;if((!a(n)||!1!==n.Ctor.options.inheritAttrs)&&(!i(t.data.attrs)||!i(e.data.attrs))){var r,o,c,s=e.elm,l=t.data.attrs||{},f=e.data.attrs||{};for(r in(a(f.__ob__)||u(f._v_attr_proxy))&&(f=e.data.attrs=M({},f)),f)o=f[r],c=l[r],c!==o&&vi(s,r,o,e.data.pre);for(r in(et||rt)&&f.value!==l.value&&vi(s,"value",f.value),l)i(f[r])&&(xo(r)?s.removeAttributeNS(yo,wo(r)):ho(r)||s.removeAttribute(r))}}function vi(t,e,n,r){r||t.tagName.indexOf("-")>-1?gi(t,e,n):bo(e)?_o(n)?t.removeAttribute(e):(n="allowfullscreen"===e&&"EMBED"===t.tagName?"true":e,t.setAttribute(e,n)):ho(e)?t.setAttribute(e,go(e,n)):xo(e)?_o(n)?t.removeAttributeNS(yo,wo(e)):t.setAttributeNS(yo,e,n):gi(t,e,n)}function gi(t,e,n){if(_o(n))t.removeAttribute(e);else{if(et&&!nt&&"TEXTAREA"===t.tagName&&"placeholder"===e&&""!==n&&!t.__ieph){var r=function(e){e.stopImmediatePropagation(),t.removeEventListener("input",r)};t.addEventListener("input",r),t.__ieph=!0}t.setAttribute(e,n)}}var bi={create:hi,update:hi};function yi(t,e){var n=e.elm,r=e.data,o=t.data;if(!(i(r.staticClass)&&i(r.class)&&(i(o)||i(o.staticClass)&&i(o.class)))){var u=Co(e),c=n._transitionClasses;a(c)&&(u=So(u,Eo(c))),u!==n._prevClass&&(n.setAttribute("class",u),n._prevClass=u)}}var xi,wi={create:yi,update:yi},_i="__r",Ci="__c";function ki(t){if(a(t[_i])){var e=et?"change":"input";t[e]=[].concat(t[_i],t[e]||[]),delete t[_i]}a(t[Ci])&&(t.change=[].concat(t[Ci],t.change||[]),delete t[Ci])}function Oi(t,e,n){var r=xi;return function o(){var i=e.apply(null,arguments);null!==i&&Ti(t,o,n,r)}}var Si=Qe&&!(at&&Number(at[1])<=53);function Ei(t,e,n,r){if(Si){var o=zn,i=e;e=i._wrapper=function(t){if(t.target===t.currentTarget||t.timeStamp>=o||t.timeStamp<=0||t.target.ownerDocument!==document)return i.apply(this,arguments)}}xi.addEventListener(t,e,ct?{capture:n,passive:r}:n)}function Ti(t,e,n,r){(r||xi).removeEventListener(t,e._wrapper||e,n)}function Ai(t,e){if(!i(t.data.on)||!i(e.data.on)){var n=e.data.on||{},r=t.data.on||{};xi=e.elm||t.elm,ki(n),te(n,r,Ei,Ti,Oi,e.context),xi=void 0}}var Ni,Ri={create:Ai,update:Ai,destroy:function(t){return Ai(t,ei)}};function Di(t,e){if(!i(t.data.domProps)||!i(e.data.domProps)){var n,r,o=e.elm,c=t.data.domProps||{},s=e.data.domProps||{};for(n in(a(s.__ob__)||u(s._v_attr_proxy))&&(s=e.data.domProps=M({},s)),c)n in s||(o[n]="");for(n in s){if(r=s[n],"textContent"===n||"innerHTML"===n){if(e.children&&(e.children.length=0),r===c[n])continue;1===o.childNodes.length&&o.removeChild(o.childNodes[0])}if("value"===n&&"PROGRESS"!==o.tagName){o._value=r;var l=i(r)?"":String(r);Pi(o,l)&&(o.value=l)}else if("innerHTML"===n&&Do(o.tagName)&&i(o.innerHTML)){Ni=Ni||document.createElement("div"),Ni.innerHTML="<svg>".concat(r,"</svg>");var f=Ni.firstChild;while(o.firstChild)o.removeChild(o.firstChild);while(f.firstChild)o.appendChild(f.firstChild)}else if(r!==c[n])try{o[n]=r}catch(Za){}}}}function Pi(t,e){return!t.composing&&("OPTION"===t.tagName||Mi(t,e)||Bi(t,e))}function Mi(t,e){var n=!0;try{n=document.activeElement!==t}catch(Za){}return n&&t.value!==e}function Bi(t,e){var n=t.value,r=t._vModifiers;if(a(r)){if(r.number)return b(n)!==b(e);if(r.trim)return n.trim()!==e.trim()}return n!==e}var Li={create:Di,update:Di},Ii=k((function(t){var e={},n=/;(?![^(]*\))/g,r=/:(.+)/;return t.split(n).forEach((function(t){if(t){var n=t.split(r);n.length>1&&(e[n[0].trim()]=n[1].trim())}})),e}));function ji(t){var e=Fi(t.style);return t.staticStyle?M(t.staticStyle,e):e}function Fi(t){return Array.isArray(t)?B(t):"string"===typeof t?Ii(t):t}function qi(t,e){var n,r={};if(e){var o=t;while(o.componentInstance)o=o.componentInstance._vnode,o&&o.data&&(n=ji(o.data))&&M(r,n)}(n=ji(t.data))&&M(r,n);var i=t;while(i=i.parent)i.data&&(n=ji(i.data))&&M(r,n);return r}var zi,Ui=/^--/,Hi=/\s*!important$/,Vi=function(t,e,n){if(Ui.test(e))t.style.setProperty(e,n);else if(Hi.test(n))t.style.setProperty(A(e),n.replace(Hi,""),"important");else{var r=$i(e);if(Array.isArray(n))for(var o=0,i=n.length;o<i;o++)t.style[r]=n[o];else t.style[r]=n}},Wi=["Webkit","Moz","ms"],$i=k((function(t){if(zi=zi||document.createElement("div").style,t=S(t),"filter"!==t&&t in zi)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<Wi.length;n++){var r=Wi[n]+e;if(r in zi)return r}}));function Gi(t,e){var n=e.data,r=t.data;if(!(i(n.staticStyle)&&i(n.style)&&i(r.staticStyle)&&i(r.style))){var o,u,c=e.elm,s=r.staticStyle,l=r.normalizedStyle||r.style||{},f=s||l,d=Fi(e.data.style)||{};e.data.normalizedStyle=a(d.__ob__)?M({},d):d;var p=qi(e,!0);for(u in f)i(p[u])&&Vi(c,u,"");for(u in p)o=p[u],o!==f[u]&&Vi(c,u,null==o?"":o)}}var Ki={create:Gi,update:Gi},Yi=/\s+/;function Xi(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(Yi).forEach((function(e){return t.classList.add(e)})):t.classList.add(e);else{var n=" ".concat(t.getAttribute("class")||""," ");n.indexOf(" "+e+" ")<0&&t.setAttribute("class",(n+e).trim())}}function Zi(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(Yi).forEach((function(e){return t.classList.remove(e)})):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{var n=" ".concat(t.getAttribute("class")||""," "),r=" "+e+" ";while(n.indexOf(r)>=0)n=n.replace(r," ");n=n.trim(),n?t.setAttribute("class",n):t.removeAttribute("class")}}function Ji(t){if(t){if("object"===typeof t){var e={};return!1!==t.css&&M(e,Qi(t.name||"v")),M(e,t),e}return"string"===typeof t?Qi(t):void 0}}var Qi=k((function(t){return{enterClass:"".concat(t,"-enter"),enterToClass:"".concat(t,"-enter-to"),enterActiveClass:"".concat(t,"-enter-active"),leaveClass:"".concat(t,"-leave"),leaveToClass:"".concat(t,"-leave-to"),leaveActiveClass:"".concat(t,"-leave-active")}})),ta=Q&&!nt,ea="transition",na="animation",ra="transition",oa="transitionend",ia="animation",aa="animationend";ta&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(ra="WebkitTransition",oa="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(ia="WebkitAnimation",aa="webkitAnimationEnd"));var ua=Q?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()};function ca(t){ua((function(){ua(t)}))}function sa(t,e){var n=t._transitionClasses||(t._transitionClasses=[]);n.indexOf(e)<0&&(n.push(e),Xi(t,e))}function la(t,e){t._transitionClasses&&w(t._transitionClasses,e),Zi(t,e)}function fa(t,e,n){var r=pa(t,e),o=r.type,i=r.timeout,a=r.propCount;if(!o)return n();var u=o===ea?oa:aa,c=0,s=function(){t.removeEventListener(u,l),n()},l=function(e){e.target===t&&++c>=a&&s()};setTimeout((function(){c<a&&s()}),i+1),t.addEventListener(u,l)}var da=/\b(transform|all)(,|$)/;function pa(t,e){var n,r=window.getComputedStyle(t),o=(r[ra+"Delay"]||"").split(", "),i=(r[ra+"Duration"]||"").split(", "),a=ma(o,i),u=(r[ia+"Delay"]||"").split(", "),c=(r[ia+"Duration"]||"").split(", "),s=ma(u,c),l=0,f=0;e===ea?a>0&&(n=ea,l=a,f=i.length):e===na?s>0&&(n=na,l=s,f=c.length):(l=Math.max(a,s),n=l>0?a>s?ea:na:null,f=n?n===ea?i.length:c.length:0);var d=n===ea&&da.test(r[ra+"Property"]);return{type:n,timeout:l,propCount:f,hasTransform:d}}function ma(t,e){while(t.length<e.length)t=t.concat(t);return Math.max.apply(null,e.map((function(e,n){return ha(e)+ha(t[n])})))}function ha(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function va(t,e){var n=t.elm;a(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var r=Ji(t.data.transition);if(!i(r)&&!a(n._enterCb)&&1===n.nodeType){var o=r.css,u=r.type,c=r.enterClass,s=r.enterToClass,d=r.enterActiveClass,p=r.appearClass,m=r.appearToClass,h=r.appearActiveClass,v=r.beforeEnter,g=r.enter,y=r.afterEnter,x=r.enterCancelled,w=r.beforeAppear,_=r.appear,C=r.afterAppear,k=r.appearCancelled,O=r.duration,S=kn,E=kn.$vnode;while(E&&E.parent)S=E.context,E=E.parent;var T=!S._isMounted||!t.isRootInsert;if(!T||_||""===_){var A=T&&p?p:c,N=T&&h?h:d,R=T&&m?m:s,D=T&&w||v,P=T&&l(_)?_:g,M=T&&C||y,B=T&&k||x,L=b(f(O)?O.enter:O);0;var I=!1!==o&&!nt,j=ya(P),F=n._enterCb=z((function(){I&&(la(n,R),la(n,N)),F.cancelled?(I&&la(n,A),B&&B(n)):M&&M(n),n._enterCb=null}));t.data.show||ee(t,"insert",(function(){var e=n.parentNode,r=e&&e._pending&&e._pending[t.key];r&&r.tag===t.tag&&r.elm._leaveCb&&r.elm._leaveCb(),P&&P(n,F)})),D&&D(n),I&&(sa(n,A),sa(n,N),ca((function(){la(n,A),F.cancelled||(sa(n,R),j||(ba(L)?setTimeout(F,L):fa(n,u,F)))}))),t.data.show&&(e&&e(),P&&P(n,F)),I||j||F()}}}function ga(t,e){var n=t.elm;a(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var r=Ji(t.data.transition);if(i(r)||1!==n.nodeType)return e();if(!a(n._leaveCb)){var o=r.css,u=r.type,c=r.leaveClass,s=r.leaveToClass,l=r.leaveActiveClass,d=r.beforeLeave,p=r.leave,m=r.afterLeave,h=r.leaveCancelled,v=r.delayLeave,g=r.duration,y=!1!==o&&!nt,x=ya(p),w=b(f(g)?g.leave:g);0;var _=n._leaveCb=z((function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[t.key]=null),y&&(la(n,s),la(n,l)),_.cancelled?(y&&la(n,c),h&&h(n)):(e(),m&&m(n)),n._leaveCb=null}));v?v(C):C()}function C(){_.cancelled||(!t.data.show&&n.parentNode&&((n.parentNode._pending||(n.parentNode._pending={}))[t.key]=t),d&&d(n),y&&(sa(n,c),sa(n,l),ca((function(){la(n,c),_.cancelled||(sa(n,s),x||(ba(w)?setTimeout(_,w):fa(n,u,_)))}))),p&&p(n,_),y||x||_())}}function ba(t){return"number"===typeof t&&!isNaN(t)}function ya(t){if(i(t))return!1;var e=t.fns;return a(e)?ya(Array.isArray(e)?e[0]:e):(t._length||t.length)>1}function xa(t,e){!0!==e.data.show&&va(e)}var wa=Q?{create:xa,activate:xa,remove:function(t,e){!0!==t.data.show?ga(t,e):e()}}:{},_a=[bi,wi,Ri,Li,Ki,wa],Ca=_a.concat(mi),ka=ai({nodeOps:Zo,modules:Ca});nt&&document.addEventListener("selectionchange",(function(){var t=document.activeElement;t&&t.vmodel&&Da(t,"input")}));var Oa={inserted:function(t,e,n,r){"select"===n.tag?(r.elm&&!r.elm._vOptions?ee(n,"postpatch",(function(){Oa.componentUpdated(t,e,n)})):Sa(t,e,n.context),t._vOptions=[].map.call(t.options,Aa)):("textarea"===n.tag||Io(t.type))&&(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("compositionstart",Na),t.addEventListener("compositionend",Ra),t.addEventListener("change",Ra),nt&&(t.vmodel=!0)))},componentUpdated:function(t,e,n){if("select"===n.tag){Sa(t,e,n.context);var r=t._vOptions,o=t._vOptions=[].map.call(t.options,Aa);if(o.some((function(t,e){return!F(t,r[e])}))){var i=t.multiple?e.value.some((function(t){return Ta(t,o)})):e.value!==e.oldValue&&Ta(e.value,o);i&&Da(t,"change")}}}};function Sa(t,e,n){Ea(t,e,n),(et||rt)&&setTimeout((function(){Ea(t,e,n)}),0)}function Ea(t,e,n){var r=e.value,o=t.multiple;if(!o||Array.isArray(r)){for(var i,a,u=0,c=t.options.length;u<c;u++)if(a=t.options[u],o)i=q(r,Aa(a))>-1,a.selected!==i&&(a.selected=i);else if(F(Aa(a),r))return void(t.selectedIndex!==u&&(t.selectedIndex=u));o||(t.selectedIndex=-1)}}function Ta(t,e){return e.every((function(e){return!F(e,t)}))}function Aa(t){return"_value"in t?t._value:t.value}function Na(t){t.target.composing=!0}function Ra(t){t.target.composing&&(t.target.composing=!1,Da(t.target,"input"))}function Da(t,e){var n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}function Pa(t){return!t.componentInstance||t.data&&t.data.transition?t:Pa(t.componentInstance._vnode)}var Ma={bind:function(t,e,n){var r=e.value;n=Pa(n);var o=n.data&&n.data.transition,i=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;r&&o?(n.data.show=!0,va(n,(function(){t.style.display=i}))):t.style.display=r?i:"none"},update:function(t,e,n){var r=e.value,o=e.oldValue;if(!r!==!o){n=Pa(n);var i=n.data&&n.data.transition;i?(n.data.show=!0,r?va(n,(function(){t.style.display=t.__vOriginalDisplay})):ga(n,(function(){t.style.display="none"}))):t.style.display=r?t.__vOriginalDisplay:"none"}},unbind:function(t,e,n,r,o){o||(t.style.display=t.__vOriginalDisplay)}},Ba={model:Oa,show:Ma},La={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function Ia(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?Ia(ze(e.children)):t}function ja(t){var e={},n=t.$options;for(var r in n.propsData)e[r]=t[r];var o=n._parentListeners;for(var r in o)e[S(r)]=o[r];return e}function Fa(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}function qa(t){while(t=t.parent)if(t.data.transition)return!0}function za(t,e){return e.key===t.key&&e.tag===t.tag}var Ua=function(t){return t.tag||Oe(t)},Ha=function(t){return"show"===t.name},Va={name:"transition",props:La,abstract:!0,render:function(t){var e=this,n=this.$slots.default;if(n&&(n=n.filter(Ua),n.length)){0;var r=this.mode;0;var o=n[0];if(qa(this.$vnode))return o;var i=Ia(o);if(!i)return o;if(this._leaving)return Fa(t,o);var a="__transition-".concat(this._uid,"-");i.key=null==i.key?i.isComment?a+"comment":a+i.tag:s(i.key)?0===String(i.key).indexOf(a)?i.key:a+i.key:i.key;var u=(i.data||(i.data={})).transition=ja(this),c=this._vnode,l=Ia(c);if(i.data.directives&&i.data.directives.some(Ha)&&(i.data.show=!0),l&&l.data&&!za(i,l)&&!Oe(l)&&(!l.componentInstance||!l.componentInstance._vnode.isComment)){var f=l.data.transition=M({},u);if("out-in"===r)return this._leaving=!0,ee(f,"afterLeave",(function(){e._leaving=!1,e.$forceUpdate()})),Fa(t,o);if("in-out"===r){if(Oe(i))return c;var d,p=function(){d()};ee(u,"afterEnter",p),ee(u,"enterCancelled",p),ee(f,"delayLeave",(function(t){d=t}))}}return o}}},Wa=M({tag:String,moveClass:String},La);delete Wa.mode;var $a={props:Wa,beforeMount:function(){var t=this,e=this._update;this._update=function(n,r){var o=On(t);t.__patch__(t._vnode,t.kept,!1,!0),t._vnode=t.kept,o(),e.call(t,n,r)}},render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),r=this.prevChildren=this.children,o=this.$slots.default||[],i=this.children=[],a=ja(this),u=0;u<o.length;u++){var c=o[u];if(c.tag)if(null!=c.key&&0!==String(c.key).indexOf("__vlist"))i.push(c),n[c.key]=c,(c.data||(c.data={})).transition=a;else;}if(r){var s=[],l=[];for(u=0;u<r.length;u++){c=r[u];c.data.transition=a,c.data.pos=c.elm.getBoundingClientRect(),n[c.key]?s.push(c):l.push(c)}this.kept=t(e,null,s),this.removed=l}return t(e,null,i)},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,e)&&(t.forEach(Ga),t.forEach(Ka),t.forEach(Ya),this._reflow=document.body.offsetHeight,t.forEach((function(t){if(t.data.moved){var n=t.elm,r=n.style;sa(n,e),r.transform=r.WebkitTransform=r.transitionDuration="",n.addEventListener(oa,n._moveCb=function t(r){r&&r.target!==n||r&&!/transform$/.test(r.propertyName)||(n.removeEventListener(oa,t),n._moveCb=null,la(n,e))})}})))},methods:{hasMove:function(t,e){if(!ta)return!1;if(this._hasMove)return this._hasMove;var n=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach((function(t){Zi(n,t)})),Xi(n,e),n.style.display="none",this.$el.appendChild(n);var r=pa(n);return this.$el.removeChild(n),this._hasMove=r.hasTransform}}};function Ga(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function Ka(t){t.data.newPos=t.elm.getBoundingClientRect()}function Ya(t){var e=t.data.pos,n=t.data.newPos,r=e.left-n.left,o=e.top-n.top;if(r||o){t.data.moved=!0;var i=t.elm.style;i.transform=i.WebkitTransform="translate(".concat(r,"px,").concat(o,"px)"),i.transitionDuration="0s"}}var Xa={Transition:Va,TransitionGroup:$a};Xr.config.mustUseProp=mo,Xr.config.isReservedTag=Po,Xr.config.isReservedAttr=fo,Xr.config.getTagNamespace=Mo,Xr.config.isUnknownElement=Lo,M(Xr.options.directives,Ba),M(Xr.options.components,Xa),Xr.prototype.__patch__=Q?ka:L,Xr.prototype.$mount=function(t,e){return t=t&&Q?jo(t):void 0,Tn(this,t,e)},Q&&setTimeout((function(){$.devtools&&ft&&ft.emit("init",Xr)}),0)},2419:function(t){function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}t.exports=e,t.exports.__esModule=!0,t.exports["default"]=t.exports},2384:function(t){function e(t){if(Array.isArray(t))return t}t.exports=e,t.exports.__esModule=!0,t.exports["default"]=t.exports},4024:function(t,e,n){var r=n(2419);function o(t){if(Array.isArray(t))return r(t)}t.exports=o,t.exports.__esModule=!0,t.exports["default"]=t.exports},2468:function(t,e,n){function r(t,e,n,r,o,i,a){try{var u=t[i](a),c=u.value}catch(s){return void n(s)}u.done?e(c):Promise.resolve(c).then(r,o)}function o(t){return function(){var e=this,n=arguments;return new Promise((function(o,i){var a=t.apply(e,n);function u(t){r(a,o,i,u,c,"next",t)}function c(t){r(a,o,i,u,c,"throw",t)}u(void 0)}))}}n(1539),t.exports=o,t.exports.__esModule=!0,t.exports["default"]=t.exports},6728:function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n(1703),n(6647),t.exports=r,t.exports.__esModule=!0,t.exports["default"]=t.exports},2046:function(t,e,n){n(9070);var r=n(2944);function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,r(o.key),o)}}function i(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}t.exports=i,t.exports.__esModule=!0,t.exports["default"]=t.exports},598:function(t,e,n){n(2526),n(1817),n(1539),n(2165),n(8783),n(3948),n(1703),n(6647);var r=n(7979);function o(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=r(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var o=0,i=function(){};return{s:i,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return u=t.done,t},e:function(t){c=!0,a=t},f:function(){try{u||null==n["return"]||n["return"]()}finally{if(c)throw a}}}}t.exports=o,t.exports.__esModule=!0,t.exports["default"]=t.exports},8853:function(t,e,n){n(9070);var r=n(2944);function o(t,e,n){return e=r(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}t.exports=o,t.exports.__esModule=!0,t.exports["default"]=t.exports},1933:function(t,e,n){function r(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}n(2526),n(1817),n(1539),n(2165),n(8783),n(3948),n(1038),t.exports=r,t.exports.__esModule=!0,t.exports["default"]=t.exports},2628:function(t,e,n){function r(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(l){s=!0,o=l}finally{try{if(!c&&null!=n["return"]&&(a=n["return"](),Object(a)!==a))return}finally{if(s)throw o}}return u}}n(2526),n(1817),n(1539),n(2165),n(8783),n(3948),n(7658),t.exports=r,t.exports.__esModule=!0,t.exports["default"]=t.exports},2795:function(t,e,n){function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n(1703),n(6647),t.exports=r,t.exports.__esModule=!0,t.exports["default"]=t.exports},5141:function(t,e,n){function r(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n(1703),n(6647),t.exports=r,t.exports.__esModule=!0,t.exports["default"]=t.exports},2214:function(t,e,n){n(7941),n(2526),n(7327),n(1539),n(5003),n(7658),n(9554),n(4747),n(9337),n(3321),n(9070);var r=n(8853);function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}t.exports=i,t.exports.__esModule=!0,t.exports["default"]=t.exports},22:function(t,e,n){n(2526),n(2772);var r=n(621);function o(t,e){if(null==t)return{};var n,o,i=r(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(o=0;o<a.length;o++)n=a[o],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}t.exports=o,t.exports.__esModule=!0,t.exports["default"]=t.exports},621:function(t,e,n){function r(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}n(7941),n(2772),t.exports=r,t.exports.__esModule=!0,t.exports["default"]=t.exports},5409:function(t,e,n){n(9070),n(2526),n(1817),n(1539),n(2165),n(8783),n(3948),n(2443),n(9341),n(3706),n(2703),n(489),n(9554),n(1703),n(6647),n(7658),n(4747),n(8309),n(8304),n(7987),n(5069),n(7042);var r=n(1692)["default"];function o(){"use strict";
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */t.exports=o=function(){return e},t.exports.__esModule=!0,t.exports["default"]=t.exports;var e={},n=Object.prototype,i=n.hasOwnProperty,a=Object.defineProperty||function(t,e,n){t[e]=n.value},u="function"==typeof Symbol?Symbol:{},c=u.iterator||"@@iterator",s=u.asyncIterator||"@@asyncIterator",l=u.toStringTag||"@@toStringTag";function f(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(R){f=function(t,e,n){return t[e]=n}}function d(t,e,n,r){var o=e&&e.prototype instanceof h?e:h,i=Object.create(o.prototype),u=new T(r||[]);return a(i,"_invoke",{value:k(t,n,u)}),i}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(R){return{type:"throw",arg:R}}}e.wrap=d;var m={};function h(){}function v(){}function g(){}var b={};f(b,c,(function(){return this}));var y=Object.getPrototypeOf,x=y&&y(y(A([])));x&&x!==n&&i.call(x,c)&&(b=x);var w=g.prototype=h.prototype=Object.create(b);function _(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function C(t,e){function n(o,a,u,c){var s=p(t[o],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==r(f)&&i.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,u,c)}),(function(t){n("throw",t,u,c)})):e.resolve(f).then((function(t){l.value=t,u(l)}),(function(t){return n("throw",t,u,c)}))}c(s.arg)}var o;a(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}})}function k(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return N()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=O(a,n);if(u){if(u===m)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=p(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===m)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function O(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator["return"]&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var o=p(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,m;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,m):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,m)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function A(t){if(t){var e=t[c];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(i.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return r.next=r}}return{next:N}}function N(){return{value:void 0,done:!0}}return v.prototype=g,a(w,"constructor",{value:g,configurable:!0}),a(g,"constructor",{value:v,configurable:!0}),v.displayName=f(g,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,f(t,l,"GeneratorFunction")),t.prototype=Object.create(w),t},e.awrap=function(t){return{__await:t}},_(C.prototype),f(C.prototype,s,(function(){return this})),e.AsyncIterator=C,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new C(d(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(w),f(w,l,"Generator"),f(w,c,(function(){return this})),f(w,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=A,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var u=i.call(o,"catchLoc"),c=i.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:A(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),m}},e}t.exports=o,t.exports.__esModule=!0,t.exports["default"]=t.exports},1551:function(t,e,n){var r=n(2384),o=n(2628),i=n(7979),a=n(2795);function u(t,e){return r(t)||o(t,e)||i(t,e)||a()}t.exports=u,t.exports.__esModule=!0,t.exports["default"]=t.exports},4573:function(t,e,n){var r=n(2384),o=n(1933),i=n(7979),a=n(2795);function u(t){return r(t)||o(t)||i(t)||a()}t.exports=u,t.exports.__esModule=!0,t.exports["default"]=t.exports},4982:function(t,e,n){var r=n(4024),o=n(1933),i=n(7979),a=n(5141);function u(t){return r(t)||o(t)||i(t)||a()}t.exports=u,t.exports.__esModule=!0,t.exports["default"]=t.exports},6857:function(t,e,n){n(6649),n(6078),n(2526),n(1817),n(1539),n(1703),n(6647),n(9653);var r=n(1692)["default"];function o(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!==r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}t.exports=o,t.exports.__esModule=!0,t.exports["default"]=t.exports},2944:function(t,e,n){var r=n(1692)["default"],o=n(6857);function i(t){var e=o(t,"string");return"symbol"===r(e)?e:String(e)}t.exports=i,t.exports.__esModule=!0,t.exports["default"]=t.exports},1692:function(t,e,n){function r(e){return t.exports=r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports["default"]=t.exports,r(e)}n(2526),n(1817),n(1539),n(2165),n(8783),n(3948),t.exports=r,t.exports.__esModule=!0,t.exports["default"]=t.exports},7979:function(t,e,n){n(7042),n(1539),n(8309),n(1038),n(8783),n(4916),n(7601);var r=n(2419);function o(t,e){if(t){if("string"===typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}t.exports=o,t.exports.__esModule=!0,t.exports["default"]=t.exports}}]);